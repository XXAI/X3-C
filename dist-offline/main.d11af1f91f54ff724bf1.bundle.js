webpackJsonp([0],{"+1oD":function(e,t){e.exports=""},"+3AU":function(e,t){e.exports=""},"+5Ok":function(e,t){e.exports=""},"+ka2":function(e,t){e.exports='<section class="hero" [ngClass]=" {\'is-dark\': ctrl.busquedaActivada, \'is-primary\': !ctrl.busquedaActivada } ">\r\n    <div class="hero-body" style="position:relative;">\r\n\r\n        <div class="control is-grouped" style="position:absolute; top:0.5em; right:0em;">\r\n            \r\n            <p class="control" *ngIf="!ctrl.busquedaActivada">\r\n                <a class="button is-primary tooltip"  (click)="ctrl.listar(1)">\r\n                    <span class="icon ">\r\n                        <i class="fa fa-refresh"></i>\r\n                    </span>\r\n                    <span class="tooltiptext">Actualizar</span>\r\n                </a>\r\n            </p>\r\n\r\n            <p class="control" *ngIf="ctrl.busquedaActivada">\r\n                <a class="button is-dark tooltip"  (click)="ctrl.listarBusqueda(searchBox.value,1)" id="cargar_datos_actualizar">\r\n                    <span class="icon ">\r\n                        <i class="fa fa-refresh"></i>\r\n                    </span>\r\n                    <span class="tooltiptext">Actualizar</span>\r\n                </a>\r\n            </p>\r\n\r\n            <p class="control" *ngIf="nuevo">\r\n                <a  class="button is-{{ctrl.busquedaActivada ? \'dark\' : \'primary\'}} tooltip"  routerLink="{{url_nuevo}}">\r\n                    <span class="icon ">\r\n                        <i class="fa fa-file"></i>\r\n                    </span>\r\n                    <span class="tooltiptext">Nuevo</span>\r\n                </a>\r\n            </p>\r\n\r\n            <p class="control" *ngIf="excel_export">\r\n                <a class="button is-{{ctrl.busquedaActivada ? \'dark\' : \'primary\'}} tooltip" (click)="imprimirExcel()">\r\n                    <span class="icon ">\r\n                        <i class="fa fa-file-excel-o"></i>\r\n                    </span>\r\n                    <span class="tooltiptext">Exportar Excel</span>\r\n                </a>\r\n            </p>\r\n\r\n            <p class="control">\r\n                <a class="button is-{{ctrl.busquedaActivada ? \'dark\' : \'primary\'}} tooltip" (click)="imprimir()">\r\n                    <span class="icon ">\r\n                        <i class="fa fa-print"></i>\r\n                    </span>\r\n                    <span class="tooltiptext">Imprimir</span>\r\n                </a>\r\n            </p>\r\n            <p class="control">\r\n                <a class="button  is-dark tooltip" *ngIf="ctrl.busquedaActivada" (click)="ctrl.cerrar_busqueda(searchBox)">\r\n                    <span class="icon ">\r\n                        <i class="fa fa-close"></i>\r\n                    </span>\r\n                    <span class="tooltiptext">Cerrar Busqueda</span>\r\n                </a>\r\n            </p>\r\n        </div>\r\n\r\n        <div class="container is-fluid" *ngIf="busqueda">\r\n\r\n            <h1 class="title" *ngIf="!ctrl.busquedaActivada && mostrar_nombre">\r\n                <span class="icon"><i class="{{icono}}"></i></span>&nbsp; {{nombre}}\r\n            </h1>\r\n            <h1 class="title" *ngIf="ctrl.busquedaActivada">\r\n                <span class="icon"><i class="fa fa-search"></i></span> B\xfasqueda\r\n            </h1>\r\n            <div class="control is-grouped">\r\n                <p class="control is-expanded">\r\n                    <input class="input" type="text" placeholder="Buscar" #searchBox id="search-box" (keyup)="ctrl.buscar(searchBox.value)">\r\n                </p>\r\n                \r\n            </div>\r\n        </div>\r\n\r\n        <div class="container is-fluid">\r\n            <div class="control is-grouped">\r\n                \x3c!--\r\n                <p class="control">\r\n                    <span class="select">\r\n                        <select style="width: 150px" name="tipo_busqueda" #tipoBusqueda (change)="tipo_busqueda = tipoBusqueda.value">\r\n                            <option value="TODO" selected>TODO</option>\r\n                            <option value="OPTIMA">OPTIMA</option>\r\n                            <option value="MEDIA">MEDIA</option>\r\n                            <option value="PRONTA">PRONTA</option>\r\n                            <option value="CADUCADO">CADUCADO</option>\r\n                        </select>\r\n                    </span>\r\n                </p>\r\n                --\x3e\r\n                <p class="control">\r\n                    <span class="select">\r\n                        <select style="width: 180px" name="tipo_sustancia" #tipoSustancia (change)="tipo_sustancia = tipoSustancia.value">\r\n                            <option value="TODO">TODO</option>\r\n                            <option value="1">SUSTANCIAS QU\xcdMICAS</option>\r\n                            <option value="2">MATERIAL</option>\r\n                            <option value="3">PRODUCTOS QU\xcdMICOS</option>\r\n                            <option value="4">CONSUMIBLES</option>\r\n                        </select>\r\n                    </span>\r\n                </p>\r\n                <p class="control">\r\n                    <span class="select">\r\n                        <select name="seleccionar" #tipoSeleccion (change)="seleccionar = tipoSeleccion.value">\r\n                            <option value="TODO">TODO</option>\r\n                            <option value="EXISTENTE">EXISTENTE</option>\r\n                            <option value="NO_EXISTENTE">NO EXISTENTE</option>\r\n                        </select>\r\n                    </span>\r\n                </p>\r\n                <p class="control is-expanded">\r\n                    <input class="input" type="text" #claveInsumo (change)="clave_insumo = claveInsumo.value"\r\n                    placeholder="Descripci\xf3n o clave del insumo de laboratorio" id="clave_insumo" name="clave_insumo">\r\n                </p>\r\n                <p class="control">\r\n                    <button class="button is-default" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" \r\n                    (click)="tipoSeleccion.value=\'TODO\'; tipoSustancia.value=\'TODO\'; claveInsumo.value=\'\';\r\n                    seleccionar=\'TODO\'; tipo_sustancia= tipoSustancia.value;  clave_insumo=\'\'" >Limpiar</button>\r\n                </p>\r\n                <p class="control">\r\n                    <button class="button" (click)="ctrl.listar(1)">\r\n                        <span class="icon"><i class="fa fa-filter"></i></span> <span>Filtrar</span>\r\n                    </button>\r\n                </p>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</section>\r\n\r\n<div class="is-fullwidth has-text-centered" *ngIf="ctrl.cargando">\r\n    <br>\r\n    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n    <br>\r\n    <br>\r\n</div>'},"+q6V":function(e,t){e.exports=".top-bar {\r\n\tpadding: 1em ; \r\n\tfont-size: 1.2em; \r\n\tbackground: #FFF;    \r\n\tcolor: #333;\r\n }\r\n .contenedor-pedido.con-tabs .top-bar {\r\n\tpadding: 0.5em ; \r\n }\r\n .top-bar.is-primary {\r\n\tbackground: #00d1b2;\r\n\tcolor:#FFF\r\n }\r\n .top-bar.is-dark {\r\n\tbackground: #333;\r\n\tcolor:#FFF\r\n }\r\n .contenedor-pedido {\r\n\tbackground: #FFF; border-radius: 1em; overflow: hidden;\r\n }\r\n .contenedor-pedido.con-tabs {\r\n\tborder-top-left-radius: 0px !important;\r\n\tborder-top-right-radius: 0px !important;\r\n }\r\n \r\n "},"/4y4":function(e,t){e.exports='<listar #ctrl URL="forma-farmaceutica" titulo="Forma farmaceutica / Catalogo"></listar>\r\n<app-menu-catalogo></app-menu-catalogo>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:90%; padding-top: 1em;">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em">\r\n        <div style="background: #FFF; border-radius: 1em; ">\r\n\r\n            \x3c!-- Opciones y busqueda --\x3e\r\n            <tabla-opciones \r\n                #opciones\r\n                [ctrl]="ctrl"\r\n                [nombre]="\'Forma farmac\xe9utica\'"\r\n                [ruta]="\'forma-farmaceutica\'"\r\n                [ruta_pdf]="\'catalogos-parametros/lista-forma-farmaceutica.js\'"></tabla-opciones>\r\n                \r\n            <div style="overflow:auto; display:block" [style.maxHeight.px]="ctrl.tamano-300">\r\n                <div class="is-fullwidth has-text-centered" *ngIf="opciones.cargandoPdf">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Generando PDF...</span></span>\r\n                    <br>\r\n                    <br>\r\n                </div>\r\n            \r\n                <table class="table" *ngIf="!ctrl.cargando && !opciones.cargandoPdf">\r\n                    <thead>\r\n                        <tr>\r\n                            <th><abbr title="Usuario ID">ID</abbr></th>\r\n                            <th>Nombre</th>\r\n                            <th style="text-align:center;">Opciones</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody *ngIf="!ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.dato; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/catalogos-parametros/forma-farmaceutica/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/forma-farmaceutica/editar/{{item.id}}">{{ item.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n                        <tr *ngIf="ctrl.dato.length == 0">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                    <tbody *ngIf="ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/catalogos-parametros/forma-farmaceutica/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/forma-farmaceutica/editar/{{item.id}}">{{ item.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n\r\n                        <tr *ngIf="ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [ctrl]="ctrl"></paginacion>\r\n        </div>\r\n\r\n    </div>\r\n</div>'},"/Fy7":function(e,t){e.exports='<aside class="menu" style="padding: 1em;">\r\n   \x3c!-- <p class="menu-label">Pedidos</p>--\x3e\r\n    <ul class="menu-list">        \r\n        <li>\r\n            <a routerLink="/almacen/entregas/por-surtir" #nuevas routerLinkActive="is-active">\r\n                <span class="icon"><i class="fa fa-inbox"></i></span> Por surtir\r\n                <span class="icon is-pulled-right" *ngIf="cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span>\r\n                <span *ngIf="stats.por_surtir>0" class="tag is-pulled-right" [ngClass]="{ \'is-white\': nuevas.className == \'is-active\', \'is-danger\': nuevas.className != \'is-active\' }" >{{  stats.por_surtir }}</span>\r\n            </a>            \r\n        </li>\r\n        <li>\r\n            <a routerLink="/almacen/entregas/finalizadas" routerLinkActive="is-active">\r\n                <span class="icon"><i class="fa fa-check-circle"></i></span> <span>Finalizadas</span>\r\n            </a>\r\n            <ul>\r\n                <li><a routerLink="/almacen/entregas/finalizadas/completas" routerLinkActive="is-active">Completas</a></li>\r\n                <li><a routerLink="/almacen/entregas/finalizadas/incompletas" routerLinkActive="is-active">Incompletas</a></li>\r\n                <li><a routerLink="/almacen/entregas/finalizadas/canceladas" routerLinkActive="is-active">Canceladas</a></li>\r\n            </ul>\r\n        </li>  \r\n    </ul>\r\n    <hr>\r\n    <ul class="menu-list"> \r\n        <li>\r\n            <a routerLink="/almacen/entregas/historial" routerLinkActive="is-active"><span class="icon"><i class="fa fa-history"></i></span> <span>Historial</span></a>\r\n        </li>        \r\n    </ul>        \r\n</aside>'},"/X/H":function(e,t){e.exports='<listar #ctrl URL="articulos" titulo="Articulos / Almacen"></listar>\r\n<menu-almacen-articulos></menu-almacen-articulos>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:90%; padding-top: 1em;">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em">\r\n        <div style="background: #FFF; border-radius: 1em; ">\r\n\r\n            \x3c!-- Opciones y busqueda --\x3e\r\n            <tabla-opciones [ctrl]="ctrl" [nombre]="\'Articulos\'"></tabla-opciones>\r\n\r\n            <table class="table" *ngIf="!ctrl.cargando">\r\n                <thead>\r\n                    <tr>\r\n                        <th><abbr title="Usuario ID">ID</abbr></th> \r\n                        <th>Articulo padre</th>                       \r\n                        <th>Nombre</th>\r\n                        <th>Categoria</th>\r\n                        <th>Descripci\xf3n</th>\r\n                        <th style="text-align:center;">Opciones</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody *ngIf="!ctrl.busquedaActivada">\r\n                    <tr *ngFor="let item of ctrl.dato; let i=index">\r\n                        <th style="vertical-align: middle;"><a routerLink="/almacen-articulos/articulos/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                        <td style="vertical-align: middle;"><a routerLink="/almacen-articulos/articulos/editar/{{item.id}}">{{ item.padre ? item.padre.nombre : \'NO TIENE\' }} </a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/almacen-articulos/articulos/editar/{{item.id}}">{{ item.nombre }} </a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/almacen-articulos/articulos/editar/{{item.id}}">{{ item.categoria.nombre }} </a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/almacen-articulos/articulos/editar/{{item.id}}">{{ item.descripcion }} </a></td>\r\n                        <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                    </tr>\r\n                    <tr *ngIf="ctrl.dato ">\r\n                        <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>\r\n                    </tr>\r\n                </tbody>\r\n                <tbody *ngIf="ctrl.busquedaActivada">\r\n                    <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">\r\n                        <th style="vertical-align: middle;"><a routerLink="/almacen-articulos/articulos/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                        <td style="vertical-align: middle;"><a routerLink="/almacen-articulos/articulos/editar/{{item.id}}">{{ item.padre ? item.padre.nombre : \'NO TIENE\' }} </a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/almacen-articulos/articulos/editar/{{item.id}}">{{ item.nombre }} </a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/almacen-articulos/articulos/editar/{{item.id}}">{{ item.categoria.nombre }} </a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/almacen-articulos/articulos/editar/{{item.id}}">{{ item.descripcion }} </a></td>\r\n                        <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                    </tr>\r\n\r\n                    <tr *ngIf="ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada">\r\n                        <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [ctrl]="ctrl"></paginacion>\r\n        </div>\r\n\r\n    </div>\r\n</div>'},"/Y+D":function(e,t){e.exports="td.causes {\r\n    background-color: #cdff8c;\r\n}\r\n\r\ntd.no-causes {\r\n    background-color: #ffa838;\r\n}\r\n\r\ntd.material-curacion {\r\n    background-color: #ffff7c;\r\n}\r\n\r\n.farmacia{\r\n    color:#a8c0ff;\r\n}\r\n\r\n.sin-surtir{\r\n    color:#dddddd;\r\n}\r\n\r\n.surtiendo{\r\n    color:#3273dc;\r\n}\r\n\r\n.surtido{\r\n    color:#4aba53;\r\n}\r\n\r\n.expirado{\r\n    color:#e8dd14;\r\n}\r\n\r\n.cancelado{\r\n    color:red;\r\n}\r\n\r\n.descargado\r\n{\r\n\tbackground-color: #00d1b2;\r\n}\r\n\r\n.color_tag_descargas\r\n{\r\n\tbackground-color: #FFFFFF;\r\n}"},"/vpG":function(e,t){e.exports='<formulario #ctrl URL="salida-almacen-standard" titulo="Salida  de almac\xe9n" [dato]="dato"></formulario>\r\n<app-menu-almacen-estandar [modulo]="\'Salida  de medicamentos\'" [icono]="\'assets/icono-salidas.svg\'" [url]="\'/almacen-estandar/salidas\'"></app-menu-almacen-estandar>\r\n<div style="height:50px;"></div>\r\n<form name="form" novalidate [formGroup]="dato">\r\n    <div class="contenedor columns " style="height:85%">\r\n        <div class="column is-one-third" style="padding:1em;">\r\n            <div style="background: #FFF; border-radius: 1em; ">\r\n                <section class="hero is-primary">\r\n                    <h1 *ngIf="!tieneid" class="title" style="margin:0.5em; ">\r\n                        <span class="icon is-medium">\r\n                            <i class="fa fa-file-text"></i>\r\n                        </span> {{ctrl.moduloTitulo}}\r\n                    </h1>\r\n                    <h1 *ngIf="tieneid" class="title" style="margin:0.5em; ">\r\n                        <span class="icon is-medium">\r\n                            <i class="fa fa-file-text"></i>\r\n                        </span> Folio {{ctrl.id}}\r\n                    </h1>\r\n                </section>\r\n            <div style="padding: 1em;">\r\n                    \r\n            <div style="padding: 1em; overflow: scroll; overflow-x: hidden;">              \r\n                <h3 class="title">\r\n                    \x3c!-- <i class="fa fa-file"></i>\r\n                        Datos del movimiento --\x3e\r\n                        <div class="columns" style="font-size: 22px; text-align: right">\r\n                            <strong class="column">Subtotal: </strong><strong class="column">{{   ( subtotal_precios | currency:\'\' ) }}  &nbsp;  &nbsp;  </strong>\r\n                        </div>\r\n                        <div class="columns" style="font-size: 22px; text-align: right">\r\n                            <strong class="column">IVA: </strong><strong class="column">{{   ( total_iva | currency:\'\' ) }}  &nbsp;  &nbsp;  </strong>\r\n                        </div>\r\n                        <div class="columns" style="font-size: 30px; text-align: right">\r\n                            <strong class="column">TOTAL: </strong><strong class="column">{{   ( total_precio | currency:\'\' ) }}  &nbsp;  &nbsp;  </strong>\r\n                        </div>\r\n                </h3>\r\n            </div>\r\n            <div style="padding: 1em; overflow: scroll; overflow-x: hidden;" [style.height.px]="ctrl.tamano-300"> \r\n                <div>\r\n                    <div class="field">\r\n                        <label class="label">Fecha del movimiento:</label>\r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                            <input class="input" [value]="fecha_actual" [(ngModel)]=\'fecha_movimiento\' formControlName="fecha_movimiento" ngui-datetime-picker\r\n                                [min-date]="MinDate" [max-date]="MaxDate" date-only="true" [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.get(\'fecha_movimiento\').hasError(\'required\') && ctrl.dato.get(\'fecha_movimiento\').touched}"\r\n                                placeholder="YYYY-MM-DD" readonly/>\r\n\r\n                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'fecha_movimiento\').hasError(\'required\') && ctrl.dato.get(\'fecha_movimiento\').touched">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'fecha_movimiento\').hasError(\'required\') && ctrl.dato.get(\'fecha_movimiento\').touched">Este campo es requerido.</span>\r\n                        </p>\r\n                    </div>\r\n                    <br>\r\n                    <div class="control">\r\n                        <div class="field">\r\n                            <label class="label">Programa:</label>\r\n                        </div>\x3c!-- SI carga los turnos --\x3e\r\n                        <div class="control is-grouped">\r\n                            <span *ngIf="ctrl.cargando || cargandoCatalogo" class="tag is-primary is-medium">Cargando programas. \r\n                                <i class="fa fa-refresh fa-spin" aria-hidden="true"></i>\r\n                            </span>\r\n                            <div  *ngIf="!ctrl.cargando && !cargandoCatalogo" class="control is-expanded  has-icon has-icon-right">\r\n                                <select class="select" name="programa" formControlName="programa_id" \r\n                                    [ngClass]="{\'is-disabled\': tieneid}"\r\n                                    (click)="comprobar_lista()" (change)="comprobar_lista()">\r\n                                    <option value="">Seleccione un programa</option>\r\n                                    <option *ngFor="let item of lista_programas" value="{{item.id}}">{{ item.nombre }}</option>\r\n                                </select>\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'programa_id\').hasError(\'required\')">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'programa_id\').hasError(\'required\')">Este campo es requerido.</span>\r\n                                <span class="help is-danger" *ngIf="lista_programas.length == 0"> No se cargaron programas, contacte al administrador.</span>\r\n                            </div>\r\n                            \x3c!-- Bot\xf3n para agregar turnos  *ngIf="permisos.indexOf(\'ygwsEwz3cUw4yVMCeaQ9hVMCFXUHri5q\') > -1 && !tieneid"  --\x3e\r\n                            <div class="control"  *ngIf="1==2">\r\n                                <a class="button" \r\n                                    (click)="abrirModal(\'modal_multiprograma\')" title="Editar multiprograma">\r\n                                    <i class="fa fa-plus fa-fw" aria-hidden="true"></i>\r\n                                </a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="control" *ngIf="mostrarCancelado">\r\n                        \x3c!-- *ngIf --\x3e\r\n                        <div class="field">\r\n                            <div class="b-checkbox control is-expanded  has-icon has-icon-right">\r\n\r\n                                <input type="checkbox" id="cancelado" class="styled" [checked]="ctrl.dato.get(\'cancelado\').value == \'1\' ? true : false" (change)="ctrl.dato.get(\'cancelado\').patchValue(ctrl.dato.get(\'cancelado\').value == \'1\' ? \'0\' : \'1\')">\r\n                                <label for="cancelado">  Cancelado\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                        <div class="field">\r\n                            <label class="label">Observaciones de cancelaci\xf3n:</label>\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n                                <textarea class="textarea" autofocus type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'observaciones_cancelacion\').hasError(\'required\') && ctrl.dato.get(\'observaciones_cancelacion\').touched}"\r\n                                    placeholder="Observaciones de cancelacion" formControlName="observaciones_cancelacion"></textarea>\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'observaciones_cancelacion\').hasError(\'required\') && ctrl.dato.get(\'observaciones_cancelacion\').touched">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'observaciones_cancelacion\').hasError(\'required\') && ctrl.dato.get(\'observaciones_cancelacion\').touched">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <a id="actualizar" (click)="ctrl.cargarCatalogo(\'servicios\',\'mis-servicios\');"></a>\r\n                <hr id="catalogos" (click)="ctrl.cargarCatalogo(\'turnos\', \'mis-turnos\'); "> \r\n                <div>\r\n                    <span class="icon is-small" *ngIf="!ctrl.dato.get(\'movimiento_metadato\')">\r\n                        <i class="fa fa-warning"></i>\r\n                    </span>\r\n                        <nav class="panel"  formGroupName="movimiento_metadato" *ngIf="ctrl.dato.get(\'movimiento_metadato\')">\r\n                            <div class="field">\r\n                                <label class="label">Turno:</label>\r\n                                \x3c!-- NO carga los turnos --\x3e\r\n                                <div class="field" *ngIf="!ctrl.turnos || ctrl.cargando || cargando">\r\n                                    <span *ngIf="ctrl.cargando" class="tag is-primary is-medium">Cargando turnos. <i class="fa fa-refresh fa-spin" aria-hidden="true"></i></span>\r\n                                    <span *ngIf="!ctrl.cargando"class="tag is-medium">\r\n                                        <a class="has-icon" id="actualizar"\r\n                                            *ngIf="!ctrl.cargando" (click)="ctrl.cargarCatalogo(\'turnos\', \'mis-turnos\'); cargarCatalogo(\'programa\', \'lista_programas\', \'estatus\');">\r\n                                            No se pudieron cargar los turnos. &nbsp; <i class="fa fa-refresh" aria-hidden="true"></i>\r\n                                        </a>\r\n                                    </span>                                    \r\n                                    <p></p>\r\n                                </div>\r\n                                \x3c!-- SI carga los turnos --\x3e\r\n                                <p  *ngIf="ctrl.turnos && !ctrl.cargando && !cargando" class="control is-expanded  has-icon has-icon-right">\r\n                                    <select class="select" name="turno" formControlName="turno_id" \r\n                                    [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.get(\'movimiento_metadato\').get(\'turno_id\').hasError(\'required\')}">\r\n                                        <option value="">Seleccione un turno.</option>\r\n                                        <option *ngFor="let item of ctrl.turnos.clues_turnos" value="{{item.id}}">{{ item.nombre }}</option>\r\n                                    </select>\r\n                                    <span class="help is-danger" *ngIf="ctrl.turnos.clues_turnos.length == 0">\r\n                                        Contacte al administrador. No hay turnos disponibles.\r\n                                    </span>\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'turno_id\').hasError(\'required\')">\r\n                                        <i class="fa fa-warning"></i>\r\n                                    </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'turno_id\').hasError(\'required\') &&  ctrl.turnos.clues_turnos.length > 0">\r\n                                        Este campo es requerido.\r\n                                    </span>\r\n                                </p>\r\n                            </div>\r\n                            \x3c!-- SERVICIOS --\x3e\r\n                            <div class="field">\r\n                                <label class="label">Servicio que recibe:</label>\r\n                                \x3c!-- NO carga los SERVICIOS --\x3e\r\n                                <div class="field" *ngIf="!ctrl.servicios || ctrl.cargando || cargando">\r\n                                    <span *ngIf="ctrl.cargando" class="tag is-primary is-medium">Cargando servicios. <i class="fa fa-refresh fa-spin" aria-hidden="true"></i></span>\r\n                                    <span *ngIf="!ctrl.cargando"class="tag is-medium">\r\n                                        <a id="actualizar" *ngIf="!ctrl.cargando" (click)="ctrl.cargarCatalogo(\'servicios\', \'mis-servicios\'); ">\r\n                                            No se pudieron cargar los servicios. &nbsp; <i class="fa fa-refresh is-medium" aria-hidden="true"></i>\r\n                                        </a>\r\n                                    </span>\r\n                                </div>\r\n                                \x3c!-- SI carga los SERVICIOS --\x3e\r\n                                <p *ngIf="ctrl.servicios &&!ctrl.cargando && !cargando" class="control is-expanded  has-icon has-icon-right">\r\n                                    <select class="select" name="servicio_id" formControlName="servicio_id" [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.get(\'movimiento_metadato\').get(\'servicio_id\').hasError(\'required\')}">\r\n                                        <option value="">Seleccione un servicio.</option>\r\n                                        <option *ngFor="let item of ctrl.servicios.clues_servicios" value="{{item.id}}">{{ item.nombre }}</option>\r\n                                    </select>\r\n                                    <span class="help is-danger" *ngIf="ctrl.servicios.clues_servicios.length == 0">\r\n                                        Contacte al administrador. No hay servicios disponibles.\r\n                                    </span>\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'servicio_id\').hasError(\'required\')">\r\n                                        <i class="fa fa-warning"></i>\r\n                                    </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'servicio_id\').hasError(\'required\') && ctrl.servicios.clues_servicios.length > 0">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n\r\n                            <div class="field">\r\n                                <label class="label">Persona que recibe:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <input class="input" type="text" [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.get(\'movimiento_metadato\').get(\'persona_recibe\').hasError(\'required\')}"\r\n                                        placeholder="Persona que recibe" formControlName="persona_recibe">\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'persona_recibe\').hasError(\'required\')">\r\n                                        <i class="fa fa-warning"></i>\r\n                                    </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'persona_recibe\').hasError(\'required\')">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n                        </nav>\r\n                        <div class="field">\r\n                            <label class="label">Observaciones:</label>\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n                                <textarea class="textarea" type="text" [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.get(\'observaciones\').hasError(\'required\') && ctrl.dato.get(\'observaciones\').touched}"\r\n                                    placeholder="Observaciones" formControlName="observaciones"></textarea>\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'observaciones\').hasError(\'required\') && ctrl.dato.get(\'observaciones\').touched">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'observaciones\').hasError(\'required\') && ctrl.dato.get(\'observaciones\').touched">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n        \x3c!-- apartado de insumos --\x3e\r\n        <div class="column" style="padding:1em;">\r\n            <div style="background: #FFF; border-radius: 1em; ">\r\n                <section class="hero is-primary">\r\n                    <div class="hero-body">\r\n                        <nav class="level">\r\n                            <div class="level-left"></div>\r\n                            \x3c!-- Right side \r\n                                (click)="ctrl.regresar()"--\x3e\r\n                            <div class="level-right">\r\n                                <p class="level-item"><a class="button is-primary" routerLink="/almacen-estandar/salidas">Regresar</a></p>\r\n                                <p class="level-item" *ngIf="tieneid"><a class="button is-primary" routerLink="/almacen-estandar/salidas/nuevo" *ngIf="!ctrl.busquedaActivada"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;<span>Nueva salida</span></a></p>\r\n                                <p class="level-item" *ngIf="tieneid"><a *ngIf="tieneid" class="button is-primary" (click)="array_servicios = ctrl.servicios; array_turnos = ctrl.turnos; imprimir();"><span class="icon"><i class="fa fa-print"></i></span></a></p>\r\n                                <p class="level-item" *ngIf="!tieneid">\r\n                                        <button class="button is-primary" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="guardar_movimiento()" [disabled]="ctrl.dato.invalid"> <span class="icon"><i class="fa fa-floppy-o" aria-hidden="true"></i></span> &nbsp; Guardar</button>\r\n                                </p>\r\n                                <p *ngIf="tieneid" class="level-item"><a class="button is-primary" title="Actualizar" (click)="ctrl.cargarDatos();"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n                                <p *ngIf="!tieneid" class="level-item"><a class="button is-primary" title="Actualizar" (click)="ctrl.cargarCatalogo(\'turnos\', \'mis-turnos\'); ctrl.cargarCatalogo(\'servicios\',\'mis-servicios\');"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n                                <p class="level-item">&nbsp;</p>\r\n                            </div>\r\n                        </nav>                        \r\n                        <div class="container is-fluid">\r\n                            <h1 class="title">\r\n                                <span *ngIf="!ctrl.cargando || !cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                <span *ngIf="ctrl.cargando || cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>                                Insumos\r\n                            </h1>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>                    &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n                <section class="section">\r\n                    <div class="field has-addons has-addons-centered" *ngIf="!tieneid">\r\n\x3c!-- ******************************************* AUTOCOMPLETE *********************************************                         \r\n                        <p class="control">\r\n                            <input ngui-auto-complete [source]="insumos_term" [list-formatter]="autocompleListFormatter" id="buscarInsumo" value-property-name="clave"\r\n                                display-property-name="descripcion" path-to-data="" loading-text="Cargando..." no-match-found-text="No hay resultados."\r\n                                (valueChanged)="select_insumo_autocomplete($event)" min-chars="1" class="input is-success is-medium"\r\n                                type="text" placeholder="Escanea el codigo de barra, o empieza escribir el nombre del producto" >\r\n                        </p>\r\n******************************************* AUTOCOMPLETE ********************************************* --\x3e\r\n\r\n                        \x3c!-- *****************     INPUT DE BUSQUEDA DE INSUMO     ****************** --\x3e   \r\n                        <div class="control is-grouped">\r\n                            <div class="control is-expanded">\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'programa_id\').hasError(\'required\')">Para buscar insumos debe elegir un programa.</span>\r\n                                <input \r\n                                    (keyup.enter)="buscarInsumo.value != \'\' ?  enviarAutocomplete(buscarInsumo.value) : buscarInsumo.value = \'\'" \r\n                                    id="buscarInsumo"\r\n                                    name="buscarInsumo"\r\n                                    #buscarInsumo\r\n                                    class="input is-success is-medium"\r\n                                    type="text"\r\n                                    placeholder="Escriba la clave o el nombre del insumo y presione la tecla ENTER"\r\n                                    [ngClass]="{\'is-disabled\': ctrl.dato.get(\'programa_id\').hasError(\'required\') }"/>\r\n                            </div>\r\n                            <div class="control">\r\n                                <a class="button is-success is-medium" title="Buscar insumo" (click)="buscarInsumo.value != \'\' ?  enviarAutocomplete(buscarInsumo.value) : buscarInsumo.value = \'\'">\r\n                                    <i class="fa fa-search" aria-hidden="true"></i> &nbsp; Buscar\r\n                                </a>\r\n                            </div>\r\n                            <div class="control" *ngIf="buscarInsumo.value != \'\'">\r\n                                <a class="button is-info is-medium" title="Borrar texto" (click)="res_busq_insumos=[]; buscarInsumo.value=\'\'">\r\n                                    <i class="fa fa-times" aria-hidden="true"></i>\r\n                                </a>\r\n                            </div>\r\n                        </div>\r\n                        <div class="is-fullwidth has-text-centered" *ngIf="cargando" style="height:100px;">\r\n                            <br>\r\n                            <span class="tag is-primary is-large">\r\n                                <span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span>\r\n                            </span>\r\n                        </div>\r\n                        \x3c!-- *****************     RESULTADOS DE BUSQUEDA DE INSUMO     ****************** --\x3e\r\n                        <div *ngIf="res_busq_insumos.length > 0 && !cargando" style="height: 200px;">\r\n                            <div *ngIf="res_busq_insumos.length > 0 && !cargando" style="overflow: scroll; overflow-x: hidden; height: 90%;">\r\n                                <div class="content" style="z-index: 1;" *ngFor="let item_insumo of res_busq_insumos; let c = index">\r\n                                    <div class="card" (click)="select_insumo_autocomplete(item_insumo)" style="background: rgba(242,248,253, 0.8)">\r\n                                        <div class="card-content">\r\n                                            <div class="media">          \r\n                                                <div class="media-content">\r\n                                                    <p class="title is-4">{{item_insumo.descripcion}}</p>\r\n                                                    <p class="subtitle is-6">\r\n                                                        <strong>Clave: </strong> {{item_insumo.clave}}\r\n                                                        <label class="tag is-success" *ngIf="item_insumo.es_causes == 1"><strong>Cause </strong></label>\r\n                                                        <label class="tag" *ngIf="item_insumo.es_causes == 0" style="background: #B8FB7E; border-color: #B8FB7E; color: rgba(0,0,0,0.7);" ><strong>No Cause </strong> </label>\r\n                                                        <label class="tag is-warning" *ngIf="item_insumo.es_unidosis == 1"><strong>Unidosis</strong> </label>\r\n                                                    </p>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <hr> \x3c!-- L\xednea de division --\x3e\r\n                    <div formArrayName="insumos_negados">\r\n                        <div class="box" *ngFor="let item of ctrl.dato.controls.insumos_negados.controls; let i=index" [ngStyle]="{\'background\': i%2 == 0 ? \'rgba(231, 242, 22, 0.4)\' :  \'rgba(231, 242, 22, 0.4)\'}">\r\n                            <article class="media" [formGroupName]="i">\r\n                                <div class="media-content">\r\n                                    <div class="content">\r\n                                        <p>\r\n                                            <strong>\r\n                                                <span style="color: red"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i></span>\r\n                                            \r\n                                                <span style="color:cornflowerblue">\r\n                                                    Clave: {{ ctrl.dato.controls.insumos_negados.controls[i].controls.clave.value }} \r\n                                                </span>\r\n                                                Nombre: {{ctrl.dato.controls.insumos_negados.controls[i].controls.descripcion.value}}\r\n                                            \r\n                                                <label class="tag is-success" *ngIf="ctrl.dato.controls.insumos_negados.controls[i].controls.es_causes.value == 1"><strong>Cause </strong></label>\r\n                                                <label class="tag is-success" *ngIf="ctrl.dato.controls.insumos_negados.controls[i].controls.es_causes.value == 0"><strong>No Cause </strong> </label>                                           \r\n                                                                                            \r\n                                                <label class="tag is-warning" *ngIf="ctrl.dato.controls.insumos_negados.controls[i].controls.es_unidosis.value == 1\r\n                                                "><strong>Unidosis</strong> </label>\r\n                                            </strong>\r\n                                            <br> {{ctrl.dato.controls.insumos_negados.controls[i].controls.descripcion.value}}\r\n                                        </p>\r\n                                    </div>\r\n                                    <nav class="level is-mobile">\r\n                                        <div class="level-left">\r\n                                            <a class="level-item" >\r\n                                                <div class="field"  *ngIf="ctrl.dato.controls.insumos_negados.controls[i].controls.modo_salida.value == \'N\'">\r\n                                                    \x3c!-- cambiar a formControlName="cantidad_solicitada"  --\x3e\r\n                                                    <label class="label">Cant. solicitada (Normal):</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input *ngIf="!tieneid" style="background:aliceblue" type="text" class="input" formControlName="cantidad_solicitada" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos_negados.controls[i].controls.cantidad_solicitada.hasError(\'required\') && ctrl.dato.controls.insumos_negados.controls[i].controls.cantidad_solicitada.touched}">\r\n                                                        <input *ngIf="tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_solicitada" >\r\n                                                    </p>\r\n                                                </div>\r\n                                                <div class="field" *ngIf="ctrl.dato.controls.insumos_negados.controls[i].controls.modo_salida.value == \'U\'">\r\n                                                    <label class="label" *ngIf="tieneid">Cant. solicitada ({{ctrl.dato.get("insumos_negados").value[i].informacion_ampliada.unidad_medida_nombre}}):</label>\r\n                                                    <label class="label" *ngIf="!tieneid">Cant. solicitada unidosis ({{ctrl.dato.controls.insumos_negados.controls[i].controls.unidad_medida.value}}):</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input *ngIf="!tieneid" style="background:aliceblue" type="text" class="input" formControlName="cantidad_solicitada_unidosis" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos_negados.controls[i].controls.cantidad_solicitada_unidosis.hasError(\'required\') && ctrl.dato.controls.insumos_negados.controls[i].controls.cantidad_solicitada_unidosis.touched}">\r\n                                                        <input *ngIf="tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_solicitada_unidosis" >\r\n                                                    </p>\r\n                                                </div>\r\n                                            </a>\r\n                                        </div>\r\n                                        <div class="level-right">\r\n                                            <a class="level-item" >\r\n                                                <div class="field"  *ngIf="ctrl.dato.controls.insumos_negados.controls[i].controls.modo_salida.value == \'N\'">\r\n                                                    <label class="label" *ngIf="tieneid">Cant. surtida:</label>\r\n                                                    <label class="label" *ngIf="!tieneid">Cant. a surtir:</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input *ngIf="!tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_surtida" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos_negados.controls[i].controls.cantidad_surtida.hasError(\'required\') && ctrl.dato.controls.insumos_negados.controls[i].controls.cantidad_surtida.touched}">\r\n                                                        <input *ngIf="tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_surtida" >\r\n                                                    </p>\r\n                                                </div>\r\n                                                <div class="field"  *ngIf="ctrl.dato.controls.insumos_negados.controls[i].controls.modo_salida.value == \'U\'">\r\n                                                    <label class="label" *ngIf="tieneid">Cant. surtida (unidosis):</label>\r\n                                                    <label class="label" *ngIf="!tieneid">Cant. a surtir (unidosis):</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input *ngIf="!tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_surtida_unidosis" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos_negados.controls[i].controls.cantidad_surtida_unidosis.hasError(\'required\') && ctrl.dato.controls.insumos_negados.controls[i].controls.cantidad_surtida_unidosis.touched}">\r\n                                                        <input *ngIf="tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_surtida_unidosis" >\r\n                                                    </p>\r\n                                                </div>\r\n                                            </a>\r\n\r\n                                        </div>\r\n                                    </nav>\r\n                                </div>\r\n                            </article>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div formArrayName="insumos" style="overflow: scroll; overflow-x: hidden; height: 550px;">\r\n                        <div class="box" *ngFor="let item of ctrl.dato.controls.insumos.controls; let i=index" [ngStyle]="{\'background\': i%2 == 0 ? \'rgba(230, 230, 232, 0.44)\' : \'\'}">\r\n                            <article class="media" [formGroupName]="i">\r\n                                <div class="media-content">\r\n                                    <div class="content">\r\n                                        <span style="float:right; padding-left: 15px;" >\r\n                                            <a *ngIf="!tieneid" class="button is-danger" title="Quitar este elemento de la lista" (click)="abrirModal(\'borrarInsumo\', i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a>\r\n                                        </span>\r\n                                        <a *ngIf="!tieneid" class="button is-success" title="Agregar m\xe1s lotes de este insumo" style="float:right" (click)="select_insumo_autocomplete(item.value)"><span class="icon"><i class="fa fa-plus-circle" aria-hidden="true"></i></span> </a>\r\n                                                                                \r\n                                        <p style="padding-right: 20px;">\r\n                                            <strong>\r\n                                                <span style="color:cornflowerblue">\r\n                                                    Clave: {{ ctrl.dato.controls.insumos.controls[i].controls.clave.value }} \r\n                                                </span>\r\n                                                Nombre: {{ctrl.dato.controls.insumos.controls[i].controls.descripcion.value}}\r\n                                            \r\n                                                <label class="tag is-success" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_causes.value == 1"><strong>Cause </strong></label>\r\n                                                <label class="tag is-success" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_causes.value == 0"><strong>No Cause </strong> </label>                                           \r\n                                                                                            \r\n                                                <label class="tag is-warning" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_unidosis.value == 1\r\n                                                "><strong>Unidosis</strong> </label>\r\n                                            </strong>\r\n                                            <br> {{ctrl.dato.controls.insumos.controls[i].controls.descripcion.value}}\r\n                                        </p>\r\n                                        <a class="is-danger" title="Ver la lista de lotes de este articulo" style="float:right" (click)="ver_lotes_asignados(i)">\r\n                                            <span class="icon">\r\n                                                <i *ngIf="!mostrar_lote[i]" class="fa fa-plus"></i>\r\n                                                <i *ngIf="mostrar_lote[i]" class="fa fa-minus"></i>\r\n                                            </span>\r\n                                        </a>\r\n                                    </div>\r\n                                    <section *ngIf="mostrar_lote[i]">\r\n                                        <table class="table is-narrow is-bordered is-striped">\r\n                                            <thead>\r\n                                                <tr>\r\n                                                    <th>Lote</th>\r\n                                                    <th>Caducidad</th>\r\n                                                    <th>Codigo de barras</th>\r\n                                                    <th title="Precio unitario">Precio</th>\r\n                                                    <th *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'N\'">Existencia</th>\r\n                                                    <th *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'U\'">Existencia Unidosis</th>\r\n                                                    \r\n                                                    <th *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'N\'">Cantidad normal</th>\r\n                                                    <th *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'U\'">Cantidad unidosis</th>\r\n                                                    <th *ngIf="!tieneid"></th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody formArrayName="lotes">\r\n                                                <tr *ngFor="let val of ctrl.dato.controls.insumos.controls[i].controls.lotes.controls;  let i2 = index;">\r\n                                                    <td>{{val.value.lote}}</td>\r\n                                                    <td>{{val.value.fecha_caducidad}}</td>\r\n                                                    <td>{{val.value.codigo_barras}}</td>\r\n                                                    <td style="text-align: right">{{ val.value.precio_unitario | currency:\'\'  }}</td>\r\n                                                    <td *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'N\'">{{val.value.existencia}}</td>\r\n                                                    <td *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'U\'">{{val.value.existencia_unidosis}}</td>\r\n                                                    <td [formGroupName]="i2">\r\n                                                        <input  *ngIf="val.value.modo_salida == \'N\'" [ngClass]="{\'is-disabled\': tieneid}" class="input has-text-centered" \r\n                                                            (blur)="validar_cantidad_lote(i, val, i2, modo)" type="number" step="1" min="0" max="{{val.value.existencia}}"\r\n                                                            placeholder="Cantidad" formControlName="cantidad" (keypress)="quitar_punto($event)">\r\n                                                        <input  *ngIf="val.value.modo_salida == \'U\'" [ngClass]="{\'is-disabled\': tieneid}" class="input has-text-centered" (blur)="validar_cantidad_lote(i, val, i2, modo)" type="number" step="1" min="0" max="{{val.value.existencia_unidosis}}"\r\n                                                            placeholder="Cantidad unidosis" formControlName="cantidad" (keypress)="quitar_punto($event)"></td>\r\n                                                    <td *ngIf="!tieneid">\r\n                                                        <a class="is-danger" title="Quitar este lote" (click)="quitar_lote_insumo(i, val.value, i2)">\r\n                                                            <span class="icon">\r\n                                                                <i class="fa fa-trash-o"></i>\r\n                                                            </span>\r\n                                                        </a>\r\n                                                    </td>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </table>\r\n                                    </section>\r\n                                    <nav class="level is-mobile">\r\n                                        <div class="level-left">\r\n                                            <a class="level-item" >\r\n                                                \r\n                                                <div class="field"  *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'N\'">\r\n                                                    <label class="label" *ngIf="tieneid && ctrl.dato.get(\'insumos\').value[i].detalles.informacion_ampliada">Cant. solicitada ({{ctrl.dato.get("insumos").value[i].detalles.informacion_ampliada.presentacion_nombre}}):</label>\r\n                                                    <label class="label" *ngIf="tieneid && !ctrl.dato.get(\'insumos\').value[i].detalles.informacion_ampliada">Cant. solicitada (normal):</label>\r\n                                                    <label class="label" *ngIf="!tieneid">Cant. solicitada ({{ctrl.dato.controls.insumos.controls[i].controls.presentacion_nombre.value}}):</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input *ngIf="!tieneid" style="background:aliceblue" type="text" class="input" formControlName="cantidad_solicitada" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.cantidad_solicitada.hasError(\'required\') && ctrl.dato.controls.insumos.controls[i].controls.cantidad_solicitada.touched}">\r\n                                                        <input *ngIf="tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_solicitada" >\r\n                                                    </p>\r\n                                                </div>\r\n                                                <div class="field" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'U\'">\r\n                                                    <label class="label" *ngIf="tieneid && ctrl.dato.get(\'insumos\').value[i].detalles.informacion_ampliada">Cant. solicitada ({{ctrl.dato.get("insumos").value[i].detalles.informacion_ampliada.unidad_medida_nombre}}):</label>\r\n                                                    <label class="label" *ngIf="tieneid && !ctrl.dato.get(\'insumos\').value[i].detalles.informacion_ampliada">Cant. solicitada (Unidosis):</label>\r\n                                                    <label class="label" *ngIf="!tieneid">Cant. solicitada unidosis ({{ctrl.dato.controls.insumos.controls[i].controls.unidad_medida.value}}):</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input *ngIf="!tieneid" style="background:aliceblue" type="text" class="input" formControlName="cantidad_solicitada" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.cantidad_solicitada.hasError(\'required\') && ctrl.dato.controls.insumos.controls[i].controls.cantidad_solicitada.touched}">\r\n                                                        <input *ngIf="tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_solicitada" >\r\n                                                    </p>\r\n                                                </div>\r\n                                            </a>\r\n                                        </div>\r\n                                        <div class="level-right">\r\n                                            <a class="level-item" >\r\n                                                <div class="field"  *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'N\'">\r\n                                                    <label class="label" *ngIf="tieneid && ctrl.dato.get(\'insumos\').value[i].detalles.informacion_ampliada">Cant. surtida ({{ctrl.dato.get("insumos").value[i].detalles.informacion_ampliada.presentacion_nombre}}):</label>\r\n                                                    <label class="label" *ngIf="tieneid && !ctrl.dato.get(\'insumos\').value[i].detalles.informacion_ampliada">Cant. surtida (Normal):</label>\r\n                                                    <label class="label" *ngIf="!tieneid">Cant. a surtir ({{ctrl.dato.controls.insumos.controls[i].controls.presentacion_nombre.value}}):</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input *ngIf="!tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_surtida" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.hasError(\'required\') && ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.touched}">\r\n                                                        <input *ngIf="tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad" >\r\n                                                    </p>\r\n                                                </div>\r\n                                                <div class="field"  *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'U\'">\r\n                                                    <label class="label" *ngIf="tieneid && ctrl.dato.get(\'insumos\').value[i].detalles.informacion_ampliada">Cant. surtida ({{ctrl.dato.get("insumos").value[i].detalles.informacion_ampliada.unidad_medida_nombre}}):</label>\r\n                                                    <label class="label" *ngIf="tieneid && !ctrl.dato.get(\'insumos\').value[i].detalles.informacion_ampliada">Cant. surtida (Unidosis):</label>\r\n                                                    <label class="label" *ngIf="!tieneid">Cant. a surtir unidosis ({{ctrl.dato.controls.insumos.controls[i].controls.unidad_medida.value}}):</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input *ngIf="!tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_surtida" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.hasError(\'required\') && ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.touched}">\r\n                                                        <input *ngIf="tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad" >\r\n                                                    </p>\r\n                                                </div>\r\n                                            </a>\r\n\r\n                                        </div>\r\n                                    </nav>\r\n                                </div>\r\n                            </article>\r\n                        </div>\r\n                    </div>\r\n\r\n                </section>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</form>\r\n\r\n\r\n<div class="modal" id="verLotes">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card" style="width: 60%; height: 90%;">\r\n        <header class="modal-card-head" style="height: 10%;">\r\n            <p class="modal-card-title" id="tituloModal" style="width: 200px"> </p>\r\n            <button type="button" class="delete" (click)="cancelarModal(\'verLotes\'); modo = \'N\';"></button>\r\n        </header>\r\n        <section class="modal-card-body" style="height: 90%;">\r\n            <div style="padding: 1em; overflow-x: hidden; height: 100%;">\r\n                <div style="padding: 1em; overflow: scroll; overflow-x: hidden; overflow-y: hidden; height: 20%;">\r\n                    <div class="columns" >\r\n                        <div class="column is-two-thirds">\r\n                            <div class="columns">\r\n                                <div class="column is-4">\r\n                                    <label class="label" style="font-size: large;float: left;margin-right: 6%;">Modo salida: </label>\r\n                                </div>\r\n                                <div class="b-checkbox is-info is-circular">\r\n                                    <div class="column is-auto">\r\n                                        <input class="styled" type="radio" id="modo_n" [checked]="modo == \'N\'" (click)="modo = \'N\'" [value]="\'N\'" name="modo">                                    \r\n                                        <label for="modo_n">\r\n                                            <span class="tag is-large" [ngClass]="{\'is-success\':modo == \'N\'}">Normal</span>\r\n                                        </label>\r\n                                    </div>\r\n                                    <div *ngIf="es_unidosis == 1" class="column is-auto">\r\n                                        <input class="styled" type="radio" id="modo_u" [checked]="modo == \'U\'" (click)="modo = \'U\'" [value]="\'U\'" name="modo">                                    \r\n                                        <label for="modo_u">\r\n                                            <span class="tag is-large" [ngClass]="{\'is-success\':modo == \'U\'}">Unidosis</span>\r\n                                        </label>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="column">\r\n                            <div class="field is-horizontal">\r\n                                <label class="label" *ngIf="modo == \'N\'">Cant. solicitada:</label>\r\n                                <label class="label" *ngIf="modo == \'U\'">Cant. solicitada ({{insumo.unidad_medida}}):</label>\r\n                                <input class="input has-text-centered" (keypress)="quitar_punto($event)" (change)="comprobar_cant_solicitada(cantidad_solicitada.value)" type="number" step="1" min="0" \r\n                                    placeholder="Cantidad" #cantidad_solicitada id="cantidad_solicitada" \r\n                                    name="cantidad_solicitada" (keyup)="comprobar_cant_solicitada(cantidad_solicitada.value)">\r\n                            \x3c!-- <input style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_surtida" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.hasError(\'required\') && ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.touched}"> --\x3e\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div style="padding: 1em; overflow: scroll; overflow-x: hidden; height: 80%;">\r\n                    <table class="table is-narrow is-bordered is-striped" >\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Lote</th>\r\n                                <th>Caducidad</th>\r\n                                <th>Codigo de barras</th>\r\n                                <th title="Programa al que pertenece el medicamento">Programa</th>\r\n                                <th *ngIf="modo == \'N\'">Existencia</th>\r\n                                <th *ngIf="modo == \'N\'">Cantidad</th>\r\n                                <th *ngIf="modo == \'U\'">Existencia Unidosis ({{insumo.unidad_medida}})</th> \r\n                                <th *ngIf="modo == \'U\'">Cantidad Unidosis ({{insumo.unidad_medida}})</th> \r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor="let item of lotes_insumo;  let i = index;">\r\n                                <td *ngIf="!item.nuevo">{{item.lote}}</td>\r\n                                <td *ngIf="item.nuevo"><input class="input has-text-centered " type="text" placeholder="Lote" [(ngModel)]="item.lote"></td>\r\n                                <td *ngIf="!item.nuevo">\r\n                                    <span *ngIf="item.tipo_caducidad">\r\n                                        <label *ngIf="item.tipo_caducidad == \'OPTIMA\'" class="tag is-success" ><strong>&nbsp;</strong></label>\r\n                                        <label *ngIf="item.tipo_caducidad == \'MEDIA\'" class="tag is-warning" ><strong>&nbsp;</strong></label>\r\n                                        <label *ngIf="item.tipo_caducidad == \'PRONTA\'" class="tag is-danger" ><strong>&nbsp;</strong></label>\r\n                                        <label *ngIf="item.tipo_caducidad == \'CADUCADO\'" class="tag is-black" ><strong>&nbsp;</strong></label>\r\n                                    </span>\r\n                                    {{item.fecha_caducidad}}\r\n                                </td>\r\n                                <td *ngIf="item.nuevo">\r\n                                    <input class="input has-text-centered" placeholder="Fecha de caducidad" \r\n                                    [(ngModel)]="item.fecha_caducidad" min="MinDateCaducidad" (blur)="validar_fecha()"\r\n                                    placeholder="YYYY-MM-DD" [textMask]="{mask:mask, keepCharPositions: true, pipe: autoCorrectedDatePipe}"/>\r\n                                </td>\r\n                                <td *ngIf="!item.nuevo">{{item.codigo_barras}}</td>\r\n                                <td *ngIf="!item.nuevo"><strong style="color: midnightblue;">{{item.programa.nombre}}</strong></td>\r\n                                <td *ngIf="item.nuevo"><input class="input has-text-centered " type="text" placeholder="Codigo de barras" [(ngModel)]="item.codigo_barras"></td>\r\n                                <td *ngIf="!item.nuevo && modo == \'N\'">{{item.existencia}}</td>\r\n                                <td *ngIf="!item.nuevo && modo == \'U\'">{{item.existencia_unidosis}}</td>\r\n                                <td *ngIf="item.nuevo "></td>\r\n                                <td >\r\n                                    <input class="input has-text-centered" type="number" step="1" min="0" (keypress)="quitar_punto($event)"\r\n                                    (keyup)="comprobar_cant_lotes()" (change)="comprobar_cant_lotes()" max="{{item.existencia}}" \r\n                                    placeholder="Cantidad" [(ngModel)]="item.cantidad" [ngClass]="{\'is-disabled\': item.tipo_caducidad == \'CADUCADO\'}">\r\n                                </td>\r\n                                <td *ngIf="item.nuevo">\r\n                                    <a class="delete" (click)=eliminarLote(i)></a>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-dark" *ngIf="modo==\'N\'" (click)="agregarNuevoLote()">Agregar nuevo lote</a>                            \r\n            <a class="button is-success" [ngClass]="{\'is-disabled\':!cant_solicitada_valida || !sum_cant_lotes || !fecha_invalida}" (click)="agregarLoteIsumo(cantidad_solicitada.value)">Aceptar</a>\r\n            <a class="button" (click)="cancelarModal(\'verLotes\'); modo = \'N\';">Cancelar</a>\r\n            <div class="card-footer-item"></div>\r\n            \x3c!-- <a *ngIf="!sum_cant_lotes" class="card-footer-item button is-danger" [ngClass]="{\'is-disabled\':!cant_solicitada_valida}" (click)="abrirModal(\'negarExistencia\')"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i>&nbsp;\r\n Negar existencia</a> --\x3e\r\n        </footer>\r\n        <simple-notifications [options]="options"></simple-notifications>\r\n    </div>\r\n</div>\r\n\r\n<div class="modal" id="negarExistencia">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card">\r\n        <header class="modal-card-head">\r\n            <p class="modal-card-title"><i class="fa fa-warning"></i> Alerta</p>\r\n            <button class="delete" (click)="cancelarModal(\'negarExistencia\')"></button>\r\n        </header>\r\n        <section class="modal-card-body">\r\n            <div class="content">\r\n                <h1>\xbfEsta seguro de negar la existencia del insumo?</h1>\r\n                <p>Ya no se podra cambiar la cantidad negada</p>\r\n            </div>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-success" (click)="agregarLoteIsumo(cantidad_solicitada.value)">Continuar</a>\r\n            <a class="button" (click)="cancelarModal(\'negarExistencia\')">Cancelar</a>\r\n        </footer>\r\n    </div>\r\n</div>\r\n\r\n<div class="modal" id="guardarMovimiento">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card">\r\n        <header class="modal-card-head">\r\n            <p class="modal-card-title"><i class="fa fa-warning"></i> Alerta</p>\r\n            <button class="delete" (click)="cancelarModal(\'guardarMovimiento\')"></button>\r\n        </header>\r\n        <section class="modal-card-body">\r\n            <div class="content">\r\n                <h1>\xbfEsta seguro de guardar la salida?</h1>\r\n                <p>Ya no se podr\xe1 realizar cambios</p>\r\n                <p class="modal-card-title" id="tituloGuardar"> </p>\r\n            </div>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-success" (click)="ctrl.enviar(false, \'almacen-estandar/salidas\'); cancelarModal(\'guardarMovimiento\')">Continuar</a>\r\n            <a class="button" (click)="cancelarModal(\'guardarMovimiento\')">Cancelar</a>\r\n        </footer>\r\n    </div>\r\n</div>\r\n\r\n<div class="modal" id="cambiarPrograma">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card">\r\n        <header class="modal-card-head">\r\n            <p class="modal-card-title"><i class="fa fa-warning"></i> Alerta</p>\r\n            <button class="delete" (click)="cancelarModal(\'cambiarPrograma\')"></button>\r\n        </header>\r\n        <section class="modal-card-body">\r\n            <div class="content">\r\n                <h1>\xbfEsta seguro de cambiar el programa?</h1>\r\n                <p style="color:red;">Se eliminar\xe1n los insumos capturados.</p>\r\n                <p class="modal-card-title" id="tituloGuardar"> </p>\r\n            </div>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-success" (click)="mantenerPrograma(false); cancelarModal(\'cambiarPrograma\')">Continuar</a>\r\n            <a class="button" (click)="mantenerPrograma(true); cancelarModal(\'cambiarPrograma\')">Cancelar</a>\r\n        </footer>\r\n    </div>\r\n</div>\r\n\r\n<div class="modal" id="borrarInsumo">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card">\r\n        <header class="modal-card-head">\r\n            <p class="modal-card-title"><i class="fa fa-warning"></i> Alerta</p>\r\n            <button class="delete" (click)="cancelarModal(\'borrarInsumo\')"></button>\r\n        </header>\r\n        <section class="modal-card-body">\r\n            <div class="content">\r\n                <h1>\xbfEsta seguro de eliminar el insumo?</h1>\r\n                <p>Se borrar\xe1n todos los lotes del insumo que se hayan agregado.</p>\r\n            </div>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-success" (click)="ctrl.quitar_form_array(ctrl.dato.controls.insumos, index_borrar); cancelarModal(\'borrarInsumo\');">Continuar</a>\r\n            <a class="button" (click)="cancelarModal(\'borrarInsumo\')">Cancelar</a>\r\n        </footer>\r\n    </div>\r\n</div>'},0:function(e,t,a){e.exports=a("x35b")},"09bD":function(e,t){e.exports='<menu-farmacia [modulo]="\'Pedidos\'" [icono]="\'assets/icono-pedidos.svg\'" [url]="\'/almacen/pedidos\'"></menu-farmacia>\r\n\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%; ">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n      <menu-lateral></menu-lateral>\r\n    </div>\r\n    <div class="column" style="padding:2em;">\r\n        <div style="background: #FFF; overflow:hidden; border-radius:1em; width:100%;margin-bottom:1em;">\r\n            <table  class="table" style="min-width:100%; font-size:0.8em; margin-bottom:0.2em;margin-top:0.2em;">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Presupuesto anual</th>\r\n                        <th style="text-align:center">Autorizado</th>\r\n                        <th style="text-align:center">Comprometido</th>\r\n                        <th style="text-align:center">Devengado</th>\r\n                        <th style="text-align:center">Disponible</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngIf="!presupuesto">\r\n                        <th colspan="5" style="text-align:center"><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>&nbsp;Cargando Presupuesto...</th>\r\n                    </tr>\r\n                    <tr *ngIf="presupuesto">\r\n                        <th>Causes y Material de Curaci\xf3n</th>\r\n                        <td style="text-align:center"><span class="tag is-primary">$ {{ (presupuesto.causes_modificado + presupuesto.material_curacion_modificado) | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-warning">$ {{ (presupuesto.causes_comprometido + presupuesto.material_curacion_comprometido) | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-danger">$ {{ (presupuesto.causes_devengado + presupuesto.material_curacion_devengado) | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-success">$ {{ (presupuesto.causes_disponible + presupuesto.material_curacion_disponible) | number:\'1.2-2\' }}</span></td>\r\n                    </tr>\r\n                    <tr *ngIf="presupuesto">\r\n                        <th>No causes</th>\r\n                        <td style="text-align:center"><span class="tag is-primary">$ {{ presupuesto.no_causes_modificado | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-warning">$ {{ presupuesto.no_causes_comprometido | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-danger">$ {{ presupuesto.no_causes_devengado | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-success">$ {{ presupuesto.no_causes_disponible | number:\'1.2-2\' }}</span></td>\r\n                    </tr>\r\n                    <tr *ngIf="presupuesto">\r\n                        <th>Total</th>\r\n                        <td style="text-align:center"><span class="tag is-primary">$ {{ ( presupuesto.no_causes_modificado + presupuesto.causes_modificado + presupuesto.material_curacion_modificado) | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-warning">$ {{ ( presupuesto.no_causes_comprometido + presupuesto.causes_comprometido + presupuesto.material_curacion_comprometido) | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-danger">$ {{ ( presupuesto.no_causes_devengado + presupuesto.causes_devengado + presupuesto.material_curacion_devengado) | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-success">$ {{ ( presupuesto.no_causes_disponible + presupuesto.causes_disponible + presupuesto.material_curacion_disponible) | number:\'1.2-2\' }}</span></td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n         </div>\r\n\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n            <section *ngIf="!cargando" class="hero" [ngClass] = " {\'is-dark\': busquedaActivada, \'is-primary\': !busquedaActivada } " >\r\n                \r\n                <div class="hero-body" style="position:relative;">\r\n                    <a class="button  is-primary"style="position:absolute; top:1em; right:9em;" routerLink="/almacen/pedidos/actas/"><span class="icon "><i class="fa fa-arrow-left"></i></span></a>                    \r\n                    <a class="button  is-primary is-inverted" style="position:absolute; top:1em; right:1em;" [ngClass]="{ \'is-loading\': cargandoActa }" (click)="imprimir()"><span class="icon "><i class="fa fa-print"></i></span> <span>Imprimir</span></a>                    \r\n                    \r\n                    <div class="container is-fluid">\r\n                        \r\n                        <h1 class="title">\r\n                            <span class="icon is-medium"><i class="fa fa-gavel"></i></span> Acta No. {{ acta.folio }}\r\n                        </h1>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n            <table class="table" *ngIf="!cargando">\r\n                <tbody>\r\n                    <tr>\r\n                        <th>Nombre</th>\r\n                        <td colspan="5">{{acta.nombre}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>Lugar reuni\xf3n</th>\r\n                        <td colspan="5">{{acta.lugar_reunion}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>Ciudad</th>\r\n                        <td colspan="5">{{acta.ciudad}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>Fecha</th>\r\n                        <td>{{acta.fecha | date:\'y-MM-dd\' }}</td>\r\n                        <th>Hora inicio</th>\r\n                        <td>{{acta.hora_inicio}}</td>\r\n                        <th>Hora termino</th>\r\n                        <td>{{acta.hora_termino}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>Proveedor</th>\r\n                        <td colspan="5">{{acta.proveedor.nombre}}</td>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>Pedido original</th>\r\n                        <td colspan="5"><a routerLink="/almacen/pedidos/ver/{{pedido_original.id}}" >{{pedido_original.folio}}</a></td>\r\n                    </tr>\r\n                    \r\n                </tbody>\r\n            </table>\r\n            <hr *ngIf="!cargando">\r\n            <table  *ngIf="!cargando" class="table" style="font-size:0.8em;">\r\n                <thead>\r\n                    <tr>\r\n                        <th colspan="6"><h1 class="title">Pedidos alternos</h1></th>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>Folio</th>\r\n                        <th>Nombre</th>\r\n                        <th>Fecha</th>\r\n                        <th>Claves</th>\r\n                        <th>Cantidad</th>\r\n                        <th>Monto</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor="let item of pedidos_alternos">\r\n                        <th style="vertical-align: middle;"><a routerLink="/almacen/pedidos/ver/{{item.id}}" >\r\n                            {{ item.folio?item.folio:\'S/F\' }}</a>\r\n                        </th>\r\n                        <td style="vertical-align: middle;"><a routerLink="/almacen/pedidos/ver/{{item.id}}" >{{ item.descripcion }}</a></td>\r\n                        <td style="vertical-align: middle;"><a [ngClass]="{\'estatus-rojo\':(item.status == \'PS\' && item.expira_en_dias <= 0),\'estatus-amarillo\':(item.status == \'PS\' && (item.expira_en_dias > 0 && item.expira_en_dias <= 5))}" routerLink="/almacen/pedidos/ver/{{item.id}}" >{{ item.fecha | date:\'y-MM-dd\' }} <span *ngIf="item.status == \'PS\'">({{item.expira_en_dias?item.expira_en_dias:\'hoy\'}})</span></a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/almacen/pedidos/ver/{{item.id}}"> \r\n                            {{ (item.total_claves_recibidas || 0) | number }} / {{ item.total_claves_solicitadas | number }} [{{(item.total_claves_recibidas/item.total_claves_solicitadas)*100 | number:\'1.0-2\'}}%]\r\n                        </a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/almacen/pedidos/ver/{{item.id}}"> \r\n                            {{ (item.total_cantidad_recibida || 0) | number }} / {{ item.total_cantidad_solicitada | number }} [{{(item.total_cantidad_recibida/item.total_cantidad_solicitada)*100 | number:\'1.0-2\'}}%]\r\n                        </a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/almacen/pedidos/ver/{{item.id}}">\r\n                            $ {{ (item.total_monto_recibido || 0) | number:\'1.2-2\' }} / $ {{ item.total_monto_solicitado | number:\'1.2-2\' }} [{{(item.total_monto_recibido/item.total_monto_solicitado)*100 | number:\'1.0-2\'}}%]\r\n                        </a></td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n\r\n            \r\n\r\n        </div>\r\n    </div>\r\n</div>'},"0Kqi":function(e,t){e.exports="\r\nform{\r\n    overflow: auto;\r\n    padding: 0;\r\n}"},"0NWi":function(e,t){e.exports='\r\n    \x3c!-- <p class="control" >\r\n        <a class="button is-primary tooltip" (click)="ctrl.regresar()">\r\n            <span class="icon ">\r\n                <i class="fa fa-arrow-left"> </i>\r\n            </span>\r\n            <span class="tooltiptext">Regresar</span>\r\n        </a>\r\n    </p> --\x3e\r\n\r\n    <p class="control" >\r\n        <a class="button is-primary tooltip" routerLink="{{url_lista}}">\r\n            <span class="icon ">\r\n                <i class="fa fa-arrow-left"> </i>\r\n            </span>\r\n            <span class="tooltiptext">Regresar</span>\r\n        </a>\r\n    </p>\r\n    \r\n    <p class="control" *ngIf="ctrl.id">\r\n        <a class="button is-primary tooltip"  (click)="ctrl.cargarDatos()" id="cargar_datos_actualizar">\r\n            <span class="icon ">\r\n                <i class="fa fa-refresh"></i>\r\n            </span>\r\n            <span class="tooltiptext">Actualizar</span>\r\n        </a>\r\n    </p>\r\n\r\n    <p class="control" *ngIf="ctrl.id">\r\n        <a  class="button is-primary tooltip"  routerLink="{{url_nuevo}}">\r\n            <span class="icon ">\r\n                <i class="fa fa-file"></i>\r\n            </span>\r\n            <span class="tooltiptext">Nuevo</span>\r\n        </a>\r\n    </p>\r\n\r\n    <p class="control" *ngIf="ctrl.id">\r\n        <a class="button is-primary tooltip"  (click)="ctrl.imprimir()">\r\n            <span class="icon ">\r\n                <i class="fa fa-print"></i>\r\n            </span>\r\n            <span class="tooltiptext">Imprimir</span>\r\n        </a>\r\n    </p>\r\n\r\n    <p class="control" >\r\n        <button class="button is-primary tooltip" type="submit" [ngClass]="{\'is-loading\': ctrl.cargando}" [disabled]="ctrl.dato.invalid">\r\n            <span class="icon ">\r\n                <i class="fa fa-save"> </i>\r\n            </span>\r\n            <span class="tooltiptext">Guardar</span>\r\n        </button>\r\n\r\n    </p>\r\n\r\n\r\n    <p class="control" *ngIf="ctrl.id">\r\n        <button class="button is-danger tooltip" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="ctrl.eliminar(ctrl.id)">\r\n            <span class="icon ">\r\n                <i class="fa fa-trash"> </i>\r\n            </span>\r\n            <span class="tooltiptext">Eliminar</span>\r\n        </button>        \r\n    </p>\r\n'},"0g/f":function(e,t){e.exports='<panel-control-menu></panel-control-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%; overflow:scroll">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" >\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden; margin:2em;">\r\n            <section class="hero is-primary">\r\n                <div class="hero-body">\r\n                    <div class="container is-fluid">\r\n                        <h1 class="title">\r\n                            <span  *ngIf="!cargando" class="icon is-medium"><i class="fa fa-plus"></i></span>\r\n                            <span  *ngIf="cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span> \r\n                            Nuevo rol\r\n                        </h1>\r\n                        \r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <section class="section">\r\n              <div class="control is-grouped">\r\n                <p class="control is-expanded">\r\n                    <input class="input is-medium" [(ngModel)]="rol.nombre"  [ngClass]="{ \'is-danger\': errores.nombre != null}"  type="text" placeholder="Nombre" >\r\n                </p>\r\n                \r\n                <p class="control">\r\n                    <a class="button is-medium is-primary " [ngClass]="{ \'is-loading\': enviando}" (click)="guardar()" >\r\n                    <span class="icon"><i class="fa fa-save"></i></span><span>Guardar</span>\r\n                    </a>\r\n                </p><p class="control">\r\n                    <a class="button is-medium is-white " [ngClass]="{ \'is-disabled\': enviando}" routerLink="/panel-control/roles">Cancelar</a>\r\n                </p>\r\n                \r\n              </div>\r\n              <label class="checkbox">\r\n                <input type="checkbox" [(ngModel)]="rol.es_offline" >\r\n                Para servidores offline\r\n              </label>\r\n              <p class="help is-danger" *ngIf="errores.nombre == \'required\'">Por favor especifique el nombre del rol.</p>              \r\n              <p class="help is-danger" *ngIf="errores.nombre == \'unique\'">Este nombre ya fue utilizado, por favor elija otro.</p>              \r\n              <hr>\r\n              <table class="table">\r\n                <thead>\r\n                  <tr>\r\n                    <td style="width:42px; cursor:pointer;" (click)="seleccionarTodos()">\r\n                      <span class="icon" style="color:#00d1b2"><i class="fa" [ngClass]="{ \'fa-square-o\': !todosSeleccionados, \'fa-check-square\': todosSeleccionados }"></i></span>\r\n                    </td>\r\n                    <td><span style="color:red" *ngIf="errores.permisos == \'required\'"><span class="icon"><i class="fa fa-exclamation-circle"></i></span> <span>Elija un permiso:</span></span><span *ngIf="errores.permisos == null">Permiso</span></td>\r\n                    <td>Grupo</td>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr *ngFor="let item of permisos" (click)="item.seleccionado = !item.seleccionado" style="cursor:pointer">\r\n                    <td><span class="icon"><i class="fa" [ngClass]="{ \'fa-square-o\': !item.seleccionado, \'fa-check-square\': item.seleccionado }"></i></span></td>\r\n                    <td>{{ item.descripcion }}</td>\r\n                    <td>{{ item.grupo }}</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n\r\n\r\n            </section>\r\n            \r\n        </div>\r\n        \r\n    </div>\r\n</div>\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br> \r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeError.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n'},"1U+y":function(e,t){e.exports='\x3c!-- crud asignar url de la api URL="url de la api" titulo="un titulo para la pesta\xf1a de la pagina" [dato]="variable que contiene el formulario]--\x3e\r\n<listar #ctrl URL="entrada-articulo?tipo_movimiento_id=11" titulo="Entrada"></listar>\r\n\r\n\x3c!-- Menu principal "--\x3e\r\n<menu-almacen-articulos></menu-almacen-articulos>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:90%; padding-top: 1em;">\r\n    \x3c!--<div class="column is-one-quarter is-hidden-mobile menu-izquierda">\r\n\r\n         Menu izquierda del modulo enviroment" \r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>--\x3e\r\n    <div class="column" style="padding: 0em 2em 0em 1.5em">\r\n        <div style="background: #FFF; border-radius: 1em; ">\r\n\r\n            \x3c!-- Opciones y busqueda --\x3e\r\n            <tabla-opciones \r\n                #opciones\r\n                [ctrl]="ctrl"\r\n                [nombre]="\'Entradas\'"\r\n                [ruta]="\'entrada-articulo?tipo_movimiento_id=11\'"\r\n                [ruta_pdf]="\'almacen-articulos/lista-entrada-articulos.js\'"></tabla-opciones>                      \r\n\r\n            <span style="overflow:auto; display:block" [style.maxHeight.px]="tamano-285">\r\n                <div class="is-fullwidth has-text-centered" *ngIf="opciones.cargandoPdf">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Generando PDF...</span></span>\r\n                    <br>\r\n                    <br>\r\n                </div>\r\n\r\n                \x3c!--Tabla --\x3e\r\n                <table class="table" *ngIf="!ctrl.cargando && !opciones.cargandoPdf">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>\r\n                                <abbr>ID</abbr>\r\n                            </th>\r\n                            <th>Almacen </th>\r\n                            <th>Status </th>\r\n                            <th>Fecha</th>\r\n                            <th>Cancelado</th>\r\n                            <th>Opciones</th>\r\n                        </tr>\r\n                    </thead>\r\n\r\n                    <tbody *ngIf="!ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.dato; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/almacen-articulos/entradas/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/almacen-articulos/entradas/editar/{{item.id}}">{{ item.almacen ? item.almacen.nombre : \'NO TIENE\' }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/almacen-articulos/entradas/editar/{{item.id}}">{{ item.status }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/almacen-articulos/entradas/editar/{{item.id}}">{{ item.fecha_movimiento }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/almacen-articulos/entradas/editar/{{item.id}}">{{ item.cancelado == 1 ? \'Si\'  : \'No\' }} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n    \r\n                        </tr>\r\n                        <tr *ngIf="!ctrl.dato">\r\n                            <td colspan="6" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                    <tbody *ngIf="ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/almacen-articulos/entradas/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/almacen-articulos/entradas/editar/{{item.id}}">{{ item.almacen ? item.almacen.nombre : \'NO TIENE\' }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/almacen-articulos/entradas/editar/{{item.id}}">{{ item.status }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/almacen-articulos/entradas/editar/{{item.id}}">{{ item.fecha_movimiento }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/almacen-articulos/entradas/editar/{{item.id}}">{{ item.cancelado == 1 ? \'Si\'  : \'No\' }} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n    \r\n                        </tr>\r\n    \r\n                        <tr *ngIf="ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada">\r\n                            <td colspan="6" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                        </tr>\r\n                    </tbody>\r\n\r\n                </table>\r\n            </span>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [ctrl]="ctrl"></paginacion>\r\n        </div>\r\n\r\n    </div>\r\n</div>\r\n'},"1eZx":function(e,t){e.exports='<section  class="top-nav hero is-primary">\r\n    <nav class="nav">\r\n        <a title="Cat\xe1logo y par\xe1metros del sistema" class="nav-item pull-left nav-hub-active"  routerLink="/catalogos-parametros">\r\n            <img src="assets/hub-catalogos-params.svg" alt="icono">\r\n        </a>\r\n        <div class="nav-left">\r\n            <span *ngIf="!modulo" class="nav-item">\r\n                <h1 class="title">&nbsp;Cat\xe1logo y par\xe1metros del sistema</h1>\r\n            </span>\r\n            <a *ngIf="modulo" class="nav-item" routerLink="{{ url }}" >\r\n            \r\n                <h1 class="title">&nbsp;{{ modulo }}</h1>                     \r\n            </a>\r\n        </div>\r\n        <div class="nav-center"></div>\r\n        <div class="nav-right is-hidden-mobile">\r\n            <span class="unidad-trabajo">\r\n                {{usuario.clues_activa.clues}} <span *ngIf="usuario.almacen_activo"> - {{usuario.almacen_activo.nombre}}</span><br>            \r\n                <span>{{usuario.clues_activa.nombre}}</span>\r\n            </span>\r\n        </div>\r\n        <a class="nav-item"  (click)="hub.toggle()">\r\n            <span class="icon">\r\n                <i class="fa fa-th"></i>\r\n            </span>\r\n        </a>\r\n        <a class="nav-item is-hidden-mobile" (click)="perfil.toggle()">                    \r\n            <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n            &nbsp;\r\n            <span>{{ usuario.nombre }} {{ usuario.apellidos }}</span>\r\n        </a>\r\n        <a class="nav-item is-hidden-tablet" (click)="perfil.toggle()">\r\n            \r\n            <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n        </a>\r\n    </nav>\r\n</section>\r\n\r\n<app-hub #hub></app-hub>\r\n<app-perfil #perfil></app-perfil>'},"1vcR":function(e,t){e.exports=""},"2+It":function(e,t){e.exports='<div class="menu" style="padding: 1em; padding-bottom:0;">\r\n    <ul class="menu-list">\r\n        <li>\r\n            <a (click)="toggleMinimizado = !toggleMinimizado">\r\n                <span class="icon" ><i class="fa {{(toggleMinimizado)?\'fa-chevron-right\':\'fa-chevron-left\'}}"></i></span>\r\n            </a>\r\n        </li>    \r\n    </ul>\r\n</div>\r\n<aside class="menu" style="padding: 1em;">\r\n    <div *ngFor="let item of menuAutorizado">\r\n        <p *ngIf="!toggleMinimizado" class="menu-label">{{ item.titulo }}</p>\r\n        <ul class="menu-list">\r\n            <li *ngFor="let modulo of item.modulos">\r\n                <a routerLink="{{ modulo.url }}" routerLinkActive="is-active">\r\n                    <span class="icon" ><i class="fa {{ modulo.icono }}"></i></span><span *ngIf="!toggleMinimizado">&nbsp;&nbsp;{{ modulo.titulo }}</span>\r\n                </a>\r\n            </li>    \r\n        </ul>\r\n    </div>    \r\n</aside>'},"2IuD":function(e,t){e.exports=""},"2OUX":function(e,t){e.exports=""},"2PdU":function(e,t){e.exports='\r\n    <p class="control" >\r\n        <a class="button is-primary tooltip" (click)="ctrl.regresar()">\r\n            <span class="icon ">\r\n                <i class="fa fa-arrow-left"> </i>\r\n            </span>\r\n            <span class="tooltiptext">Regresar</span>\r\n        </a>\r\n    </p>\r\n    \r\n    <p class="control" *ngIf="ctrl.id">\r\n        <a class="button is-primary tooltip"  (click)="ctrl.cargarDatos()" id="cargar_datos_actualizar">\r\n            <span class="icon ">\r\n                <i class="fa fa-refresh"></i>\r\n            </span>\r\n            <span class="tooltiptext">Actualizar</span>\r\n        </a>\r\n    </p>\r\n\r\n    <p class="control" *ngIf="ctrl.id">\r\n        <a  class="button is-primary tooltip"  routerLink="{{url_nuevo}}">\r\n            <span class="icon ">\r\n                <i class="fa fa-file"></i>\r\n            </span>\r\n            <span class="tooltiptext">Nuevo</span>\r\n        </a>\r\n    </p>\r\n\r\n    <p class="control" *ngIf="ctrl.id">\r\n        <a class="button is-primary tooltip"  (click)="ctrl.imprimir()">\r\n            <span class="icon ">\r\n                <i class="fa fa-print"></i>\r\n            </span>\r\n            <span class="tooltiptext">Imprimir</span>\r\n        </a>\r\n    </p>\r\n\r\n    <p class="control" >\r\n        <button class="button is-primary tooltip" type="submit" [ngClass]="{\'is-loading\': ctrl.cargando}" [disabled]="ctrl.dato.invalid">\r\n            <span class="icon ">\r\n                <i class="fa fa-save"> </i>\r\n            </span>\r\n            <span class="tooltiptext">Guardar</span>\r\n        </button>\r\n\r\n    </p>\r\n\r\n\r\n    <p class="control" *ngIf="ctrl.id">\r\n        <button class="button is-danger tooltip" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="ctrl.eliminar(ctrl.id)">\r\n            <span class="icon ">\r\n                <i class="fa fa-trash"> </i>\r\n            </span>\r\n            <span class="tooltiptext">Eliminar</span>\r\n        </button>        \r\n    </p>\r\n'},"2mMW":function(e,t){e.exports='<formulario #ctrl URL="unidad-medida" titulo="UM / Catalogo" [dato]="dato" ></formulario>\r\n<app-menu-catalogo></app-menu-catalogo>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns" style="height:90%;  padding-top: 1em;">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em;">\r\n        \x3c!-- formulario --\x3e\r\n        <form name="form" novalidate [formGroup]="dato" (ngSubmit)="ctrl.enviar()" >\r\n            <div style="background: #FFF; overflow: hidden;">\r\n                <section class="hero is-primary">\r\n                    <div class="hero-body">\r\n                        \x3c!-- Opciones  --\x3e\r\n                        <formulario-opciones [ctrl]="ctrl"  class="control is-grouped" style="position:absolute; top:8em; right:3em;">                                                     </formulario-opciones>\r\n                        <div class="container is-fluid">\r\n                            <h1 class="title">\r\n                                <span *ngIf="!ctrl.cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                <span *ngIf="ctrl.cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>\r\n                                {{ctrl.moduloTitulo}} unidad de medida\r\n                            </h1>\r\n\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n                <section class="section" >\r\n\r\n\r\n\r\n                        <div class="field">\r\n                            <label class="label">Nombre:</label>\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n                                <input class="input"  type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'nombre\').hasError(\'required\')}"\r\n                                    placeholder="nombre" formControlName="nombre">\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n\r\n\r\n                        <div class="field">\r\n                            <label class="label">Clave:</label>\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n                                <input class="input"  type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'clave\').hasError(\'required\') && ctrl.dato.get(\'clave\').touched}"\r\n                                    placeholder="clave" formControlName="clave">\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'clave\').hasError(\'required\') && ctrl.dato.get(\'clave\').touched">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'clave\').hasError(\'required\') && ctrl.dato.get(\'clave\').touched">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n\r\n\x3c!-- \r\n                        <br><br>\r\n                        <div class="control is-grouped">\r\n                            <p class="control">\r\n                                <button class="button is-primary" type="submit" [ngClass]="{\'is-loading\': ctrl.cargando}" [disabled]="ctrl.dato.invalid">Guardar</button>\r\n                            </p>\r\n                            <p class="control" *ngIf="ctrl.id">\r\n                                <button class="button is-danger" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="ctrl.eliminar(ctrl.id)">Eliminar </button>\r\n                            </p>\r\n                            <p class="control">\r\n                                <a class="button is-white" (click)="ctrl.regresar()">Regresar</a>\r\n                            </p>\r\n                        </div> --\x3e\r\n                </section>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>'},"2nU/":function(e,t){e.exports='<listar #ctrl URL="inventario-insumos?buscar_en={{buscar_en}}&seleccionar={{seleccionar}}&tipo={{tipo}}&clave_insumo={{clave_insumo}}" titulo="Inventario"></listar>\r\n<app-menu-inventario [modulo]="\'Existencia de insumos m\xe9dicos\'" [icono]="\'assets/icono-salidas.svg\'" [url]="\'/inventario\'"></app-menu-inventario>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:80%;">\r\n    <div class="column" style="padding:2em;">\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n            <section class="hero" [ngClass]=" {\'is-dark\': ctrl.busquedaActivada, \'is-primary\': !ctrl.busquedaActivada } ">\r\n\r\n                <div class="hero-body" style="position:relative;">\r\n                     <nav class="level">\r\n                        <div class="level-left">\r\n                            <div class="level-item is-hidden-desktop">\r\n                                <h1 class="title" *ngIf="!ctrl.busquedaActivada">\r\n                                    <span class="icon is-medium"><i class="fa fa-user"></i></span> Inventario\r\n                                </h1>\r\n                            </div>\r\n                        </div>\r\n                        \x3c!-- Right side --\x3e\r\n                        <div class="level-right">\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" (click)="ctrl.busquedaActivada=false;searchBox.value=\'\'; ctrl.resultadosBusqueda=[]"><span class="icon "><i class="fa fa-close"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="Actualizar" (click)="ctrl.listarBusqueda(searchBox.value,1)"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="Actualizar" (click)="ctrl.listar(1)"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n                            \r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="PDF" (click)="dato = ctrl.dato; imprimir();"><span class="icon "><i class="fa fa-file-pdf-o"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="PDF" (click)="dato = ctrl.dato; imprimir()"><span class="icon "><i class="fa fa-file-pdf-o"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="Excel" (click)="imprimirExcel()"><span class="icon "><i class="fa fa-file-excel-o"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="Excel" (click)="imprimirExcel()"><span class="icon "><i class="fa fa-file-excel-o"></i></span></a></p>\r\n                            <p class="level-item">&nbsp;</p>\r\n                        </div>\r\n                    </nav>\r\n                    <nav class="level">\r\n                        <div class="level-left">\r\n                            <p class="level-item">&nbsp;</p>\r\n                            <p class="level-item b-checkbox is-info is-circular">\r\n                                <input class="styled" type="radio" id="buscar_en_mis_claves" #claves [checked]="buscar_en == \'MIS_CLAVES\'" (click)="buscar_en = \'MIS_CLAVES\'" [value]="\'MIS_CLAVES\'" name="buscar_en">                                    \r\n                                <label for="buscar_en_mis_claves">\r\n                                    <span class="tag is-large" [ngClass]="{\'is-dark\':buscar_en == \'MIS_CLAVES\'}">Mis claves</span>\r\n                                </label> \r\n                            </p>\r\n                            <p class="level-item  b-checkbox is-circular">\r\n                                <input class="styled" type="radio" id="buscar_en_todas_claves" #claves [checked]="buscar_en == \'TODAS_LAS_CLAVES\'" (click)="buscar_en = \'TODAS_LAS_CLAVES\'" [value]="\'TODAS_LAS_CLAVES\'" name="buscar_en">                                    \r\n                                <label for="buscar_en_todas_claves">\r\n                                    <span class="tag is-large" [ngClass]="{\'is-dark\':buscar_en == \'TODAS_LAS_CLAVES\'}">Todas las claves</span>\r\n                                </label>    \r\n                            </p>\r\n                            <p class="level-item">&nbsp;</p>\r\n                            <p class="level-item field">\r\n                                <span class="control">\r\n                                    <span class="select is-medium">\r\n                                        <select name="seleccion" #s (change)="seleccionar = s.value">\r\n                                            <option value="TODO" selected>Todo</option>\r\n                                            <option value="EXISTENTE">Existentes</option>\r\n                                            <option value="NO_EXISTENTE">No existentes</option>\r\n                                        </select>\r\n                                    </span>\r\n                                </span>\r\n                            </p>\r\n                            <p class="level-item field">\r\n                                <span class="control">\r\n                                    <span class="select is-medium">\r\n                                        <select name="tipo" #t (change)="tipo = t.value">\r\n                                            <option value="TODO" selected>Todos los insumos</option>\r\n                                            <option value="CAUSES">Causes</option>\r\n                                            <option value="NO_CAUSES">No Causes</option>\r\n                                            <option value="MC">Material de curaci\xf3n</option>\r\n                                            <option value="CONTROLADO">Controlado</option>\r\n                                        </select>\r\n                                    </span>\r\n                                </span>\r\n                            </p>\r\n                            <p class="level-item">&nbsp;</p>\r\n                            <p class="level-item">\r\n                                <span class="field">     \r\n                                    \x3c!--\r\n                                        <p class="control" style="color:black">\r\n                                            <input ngui-auto-complete [source]="insumos_term" [list-formatter]="autocompleListFormatter" \r\n                                            id="buscarInsumo" value-property-name="clave" display-property-name="clave" path-to-data="" \r\n                                            loading-text="Cargando..." no-match-found-text="No hay resultados." (valueChanged)="select_insumo_autocomplete($event)" \r\n                                            min-chars="1" class="input is-medium" type="text" [ngClass]="{\'is-loading\': ctrl.cargando}"\r\n                                            placeholder="Escanea el codigo de barra, o empieza escribir el nombre del producto" [(ngModel)]=\'clave_insumo\'>\r\n                                        </p> \r\n                                    --\x3e\r\n                                    <p class="control">\r\n                                        <input class="input is-medium" type="text" placeholder="Insumo" [(ngModel)]=\'clave_insumo\'>\r\n                                    </p> \r\n                                </span>\r\n                            </p>\r\n                            <p class="level-item">\r\n                                <button class="button is-default is-medium" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" \r\n                                (click)="buscar_en=\'TODAS_LAS_CLAVES\'; seleccionar=\'TODO\'; s.value=seleccionar; tipo=\'TODO\'; t.value=tipo; clave.value=\'\'; clave_insumo=\'\'" >Limpiar</button>\r\n                                \r\n                            </p>\r\n                            <p class="level-item">\r\n                                <button class="button is-medium" (click)="ctrl.listar(1)"><span class="icon"><i class="fa fa-filter"></i></span> <span>Filtrar</span></button>\r\n                            </p> \r\n                        </div>\r\n                    </nav>\r\n                    <div class="container is-fluid" id="titulo">\r\n                        <span></span>\r\n                        <div class="is-hidden-desktop">\r\n                            <h1 class="title" *ngIf="!ctrl.busquedaActivada">\r\n                                <span class="icon is-medium"><i class="fa fa-user"></i></span> Correcciones de movimiento\r\n                            </h1>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class="is-fullwidth has-text-centered" *ngIf="ctrl.cargando">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n            <span id="exportable">\r\n                <div style="overflow: scroll; overflow-x: hidden; height: 630px;">\r\n                    <div class="is-fullwidth has-text-centered" *ngIf="cargandoPdf">\r\n                        <br>\r\n                        <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Generando PDF...</span></span>\r\n                        <br>\r\n                        <br>\r\n                    </div>\r\n                    <table class="table" *ngIf="!ctrl.cargando && !cargandoPdf" style="min-width:100%; font-size:1.2em;">\r\n                        <thead>\r\n                            <tr>\r\n                                <th style="text-align: center;">Clave</th>\r\n                                <th>Descripci\xf3n</th>\r\n                                <th title="Consumo Promedio del D\xeda">C.P.D.</th>\r\n                                <th title="Consumo Promedio Semanal">C.P.S.</th>\r\n                                <th title="Consumo Promedio Mensual">C.P.M.</th>\r\n                                <th style="text-align: right;">Existencia</th>\r\n                                <th style="text-align: right;">Existencia Unidosis</th>\r\n                                <th style="text-align: center;">Valor</th>\r\n                                <th style="text-align: center;">Actualizado</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody *ngIf="!ctrl.busquedaActivada">\r\n                            <tr *ngFor="let item of ctrl.dato; let i=index" style="border: 1px">\r\n                                <th style="vertical-align: middle; text-align: center;"><a (click)="select_insumo_autocomplete(item)">{{ item.clave_insumo_medico }}</a></th>\r\n                                <td style="vertical-align: middle;">\r\n                                    <a (click)="select_insumo_autocomplete(item)">\r\n                                        <p class="title is-5"> <small>{{ item.descripcion }} </small></p>\r\n                                            <p class="subtitle is-6">\r\n                                                <label *ngIf="item.es_causes==1" class="tag is-success" ><strong>Causes </strong></label>\r\n                                                <label *ngIf="item.es_causes==0" class="tag" style="background: #B8FB7E; border-color: #B8FB7E; color: rgba(0,0,0,0.7);">\r\n                                                    <strong>No Causes </strong> \r\n                                                </label>\r\n                                                <label *ngIf="item.tipo==\'MC\'" class="tag is-info" ><strong title="Material de curaci\xf3n">Mat. Curaci\xf3n </strong></label>\r\n                                                <label *ngIf="item.es_unidosis==1" class="tag is-warning" ><strong>Unidosis</strong></label>\r\n                                            </p>\r\n                                    </a>\r\n                                </td>\r\n                                <td>--</td>\r\n                                <td>--</td>\r\n                                <td>--</td>\r\n                                <td style="vertical-align: middle; text-align: center;"><a (click)="select_insumo_autocomplete(item)" style="font-size:1.2em;" class="help" [ngClass]="{\'is-danger\': item.existencia == 0}">{{ item.existencia }} </a></td>\r\n                                <td style="vertical-align: middle; text-align: center;"><a (click)="select_insumo_autocomplete(item)" style="font-size:1.2em;" class="help" [ngClass]="{\'is-danger\': item.existencia_unidosis == 0}">{{ item.existencia_unidosis}} </a></td>\r\n                                <td style="vertical-align: middle; text-align: right;"><a (click)="select_insumo_autocomplete(item)" style="font-size:1.2em;" class="help" [ngClass]="{\'is-danger\': item.existencia == 0}">{{ item.importe_con_iva  | currency:\'\'}} </a></td>\r\n                                <td style="vertical-align: middle; text-align: center;"><a (click)="select_insumo_autocomplete(item)">{{ item.updated_at | date}} </a></td>\r\n                            </tr>\r\n                            <tr *ngIf="ctrl.dato.length == 0">\r\n                                <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>\r\n                            </tr>\r\n                        </tbody>\r\n                        <tbody *ngIf="ctrl.busquedaActivada">\r\n                            <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">\r\n                                <th style="vertical-align: middle; text-align: center;"><a (click)="select_insumo_autocomplete(item)">{{ item.clave_insumo_medico }}</a></th>\r\n                                <td style="vertical-align: middle;">\r\n                                    <a (click)="select_insumo_autocomplete(item)">\r\n                                        <p class="title is-5"> <small>{{ item.descripcion }} </small></p>\r\n                                            <p class="subtitle is-6">\r\n                                                <label *ngIf="item.es_causes==1" class="tag is-success" ><strong>Causes </strong></label>\r\n                                                <label *ngIf="item.es_causes==0" class="tag" style="background: #B8FB7E; border-color: #B8FB7E; color: rgba(0,0,0,0.7);">\r\n                                                    <strong>No Causes </strong> \r\n                                                </label>\r\n                                                <label *ngIf="item.es_unidosis==1" class="tag is-warning" ><strong>Unidosis</strong></label>\r\n                                            </p>\r\n                                    </a>\r\n                                </td>\r\n                                <td>--</td>\r\n                                <td>--</td>\r\n                                <td>--</td>\r\n                                <td style="vertical-align: middle; text-align: center;"><a (click)="select_insumo_autocomplete(item)" style="font-size:1.2em;" class="help" [ngClass]="{\'is-danger\': item.existencia == 0}">{{ item.existencia }} </a></td>\r\n                                <td style="vertical-align: middle; text-align: center;"><a (click)="select_insumo_autocomplete(item)" style="font-size:1.2em;" class="help" [ngClass]="{\'is-danger\': item.existencia_unidosis == 0}">{{ item.existencia_unidosis }} </a></td>\r\n                                <td style="vertical-align: middle; text-align: center;"><a (click)="select_insumo_autocomplete(item)">{{ item.updated_at | date}} </a></td>\r\n                            </tr>\r\n                            <tr *ngIf="ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada">\r\n                                <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </span>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [total]="ctrl.total" [paginasTotales]="ctrl.paginasTotales" [resultadosPorPagina]="ctrl.resultadosPorPagina"\r\n                [paginaActual]="ctrl.paginaActual" [indicePaginas]="ctrl.indicePaginas" (onSiguiente)="ctrl.paginaSiguiente()"\r\n                (onAnterior)="ctrl.paginaAnterior()" (onListar)="ctrl.listar($event)" *ngIf="ctrl.total>0 && ctrl.total > ctrl.resultadosPorPagina && !ctrl.busquedaActivada"></paginacion>\r\n            \x3c!-- Paginaci\xf3n para la b\xfasqueda  --\x3e\r\n            <paginacion [total]="ctrl.totalBusqueda" [paginasTotales]="ctrl.paginasTotalesBusqueda" [resultadosPorPagina]="ctrl.resultadosPorPaginaBusqueda"\r\n                [paginaActual]="ctrl.paginaActualBusqueda" [indicePaginas]="ctrl.indicePaginasBusqueda" (onSiguiente)="ctrl.paginaSiguienteBusqueda(searchBox.value)"\r\n                (onAnterior)="ctrl.paginaAnteriorBusqueda(searchBox.value)" (onListar)="ctrl.listarBusqueda(searchBox.value,$event)"\r\n                *ngIf="ctrl.totalBusqueda > 0 && ctrl.totalBusqueda > ctrl.resultadosPorPaginaBusqueda && ctrl.busquedaActivada"></paginacion>\r\n\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n<div class="modal" id="verLotes">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card" style="width: 60%;">\r\n        <header class="modal-card-head" style="background: #00d1b2;">\r\n            <p class="modal-card-title" style="width: 200px; color:#FFF;">\r\n                <span class="icon is-medium"><i class="fa fa-medkit"></i></span> &nbsp; \r\n                <span class="title" style="color:#FFF;">Insumo m\xe9dico</span> \r\n            </p>\r\n            <button type="button" class="delete" (click)="cancelarModal(\'verLotes\');"></button>\r\n        </header>\r\n        <header class="modal-card-head">\r\n            <p class="modal-card-title" id="tituloModal" style="width: 200px"> </p>\r\n        \x3c!--     <button type="button" class="delete" (click)="cancelarModal(\'verLotes\');"></button> --\x3e\r\n        </header>\r\n        <section class="modal-card-body">\r\n            <label class="label">Lotes disponibles:</label>\r\n            <table class="table is-narrow is-bordered is-striped">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Lote</th>\r\n                        <th>Caducidad</th>\r\n                        <th>C\xf3digo de barras</th>\r\n                        <th>Existencia</th>\r\n                        <th>Existencia Unidosis</th> \r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor="let item of lotes_insumo;  let i = index;">\r\n                        <td>{{item.lote}}</td>\r\n                        <td>{{item.fecha_caducidad}}</td>\r\n                        <td>{{item.codigo_barras}}</td>\r\n                        <td>{{item.existencia}}</td>\r\n                        <td>{{item.existencia_unidosis}}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-success" (click)="cancelarModal(\'verLotes\');">Aceptar</a>\r\n            <a class="button" (click)="cancelarModal(\'verLotes\');">Cancelar</a>\r\n        </footer>\r\n    </div>\r\n</div>\r\n\r\n<div class="modal" id="imprimirModal">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card" style="width: 60%;">\r\n        <header class="modal-card-head" style="background: #00d1b2;">\r\n            <p class="modal-card-title" style="width: 200px; color:#FFF;">\r\n                <span class="icon is-medium"><i class="fa fa-medkit"></i></span> &nbsp; \r\n                <span class="title" style="color:#FFF;">Imprimir</span> \r\n            </p>\r\n            <button type="button" class="delete" (click)="cancelarModal(\'imprimirModal\');"></button>\r\n        </header>\r\n        <header class="modal-card-head">\r\n        </header>\r\n        <section class="modal-card-body">\r\n           \r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-success" (click)="cancelarModal(\'imprimirModal\');">Aceptar</a>\r\n            <a class="button" (click)="cancelarModal(\'imprimirModal\');">Cancelar</a>\r\n        </footer>\r\n    </div>\r\n</div>'},"3+t1":function(e,t){e.exports='<administrador-central-menu></administrador-central-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%; ">\r\n    <div class="column is-narrow is-hidden-mobile">\r\n        <administrador-central-menu-lateral></administrador-central-menu-lateral>\r\n    </div>\r\n    <div class="column">\r\n        <br>\r\n        <nav class="level">\r\n            <div class="level-left">\r\n                <div class="level-item">\r\n                    <h1 class="title">\r\n                        <span class="icon is-medium"><i class="fa fa-bar-chart"></i></span> Entregas por mes\r\n                    </h1>\r\n                </div>\r\n            </div>\r\n            <div class="level-right">\r\n                <div class="level-item">\r\n                     <h1 class="subtitle">Mes: </h1>\r\n                </div>\r\n                <div class="level-item">\r\n                    <p class="control "  [ngClass]="{\'is-loading\': cargandoFechas, \'is-disabled\': cargandoFechas}">\r\n                        <span class="select is-fullwidth">\r\n                            <select  (change)="generarStats()"  [(ngModel)]="fecha">\r\n                                <option value="-1" *ngIf="cargandoFechas">Cargando...</option>\r\n                                <option value="-1" *ngIf="listaMesesAnios.length > 0">No hay meses</option>\r\n                                <option *ngFor="let item of listaMesesAnios" [value]="item.fecha">{{ item.mes_nombre }}/{{ item.anio }}</option>\r\n                            </select>\r\n                        </span>\r\n                    </p> \r\n                </div>\r\n            </div>\r\n\r\n        </nav>\r\n        <div class="is-fullwidth has-text-centered" *ngIf="cargandoEstadisticasGlobales">\r\n            <div class="notification is-white">\r\n                <span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando estadisticas globales...</span>\r\n            </div>\r\n        </div>\r\n        <div class="columns is-multiline "  *ngIf="!cargandoEstadisticasGlobales">\r\n            <div class="column is-4" *ngFor="let item of estadisticasGlobales">\r\n                <div class="notification is-white">\r\n                    <h1 class="title" style="font-size:1.2em;  margin-bottom:0.2em;color:#00d1b2"><strong>${{ item.total_monto_solicitado | number:\'1.2-2\' }}</strong></h1>\r\n                    <h1 class="title" style="font-size:0.8em; margin-bottom:0.2em;">{{ item.proveedor }}</h1>\r\n                    <hr style="margin: 0.2em 0">\r\n                    <nav class="level"><div class="level-left">Entregado</div><div class="level-right"><b>{{ item.porcentaje_entregado | number:\'1.2-2\' }}%</b></div></nav>\r\n                   \r\n                   \r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="columns is-multiline"  *ngIf="!cargandoEstadisticasGlobales">\r\n            <div class="column is-12" *ngFor="let item of listaEntregasEstadisticaDiaria; let  i = index">\r\n                <div style="display:block; background:white; border-radius:0.2em; padding: 0.5em 0; min-height:471px" *ngIf="!item.cargando && item.options">\r\n                    <nav class="level" style="margin:1em;">\r\n                        <div class="level-left">\r\n                            <p><b>ENTREGAS {{ item.proveedor }}</b> <small style="color:gray;">Estad\xedstica diaria</small></p>\r\n                        </div>\r\n                        <div class="level-right">\r\n                            <div>\r\n                                <span class="tag " style="cursor:pointer" [ngClass]="{ \'is-primary\': item.tipoDatos == \'claves\' }" (click)="item.tipoDatos = \'claves\'; renderGrafica(i)">Claves</span> \r\n                                <span class="tag " style="cursor:pointer" [ngClass]="{ \'is-primary\': item.tipoDatos == \'insumos\' }" (click)="item.tipoDatos = \'insumos\'; renderGrafica(i)">Insumos</span> \r\n                                <span class="tag " style="cursor:pointer" [ngClass]="{ \'is-primary\': item.tipoDatos == \'monto\' }" (click)="item.tipoDatos = \'monto\'; renderGrafica(i)">$ Monto</span>\r\n                            </div>\r\n                            \r\n                        </div>\r\n                    </nav>\r\n                    <hr style="margin:0">\r\n                    <chart *ngIf="mostrarGraficas" [options]="item.options" style="display:block;"></chart>\r\n                </div>\r\n\r\n                <div class="is-fullwidth has-text-centered"  *ngIf="item.cargando ">\r\n                    <div class="notification is-white">\r\n                        <span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando estad\xedsticas diarias de: <b>{{item.proveedor}}</b>...</span>\r\n                    </div>\r\n                </div>\r\n                \r\n            </div>\r\n        </div>\r\n\r\n\r\n        <div class="columns is-multiline"  *ngIf="!cargandoEstadisticasGlobales">\r\n            <div class="column is-12" *ngFor="let item of listaPedidosClues; let  i = index">\r\n                <div style="display:block; background:white; border-radius:0.2em; padding: 0.5em 0;" *ngIf="!item.cargando">\r\n                    <nav class="level" style="margin:1em;">\r\n                        <div class="level-left">\r\n                            <p><b>ENTREGAS DEL MES DE {{ item.proveedor }}</b> <small style="color:gray;">Expresado en piezas</small></p>\r\n                        </div>\r\n                    </nav>\r\n                    <hr style="margin:0">\r\n                    <table class="table" style="font-size:0.8em;">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>NUM.</th>\r\n                                <th>UNIDAD M\xc9DICA</th>\r\n                                <th colspan="2">CAUSES</th>\r\n                                <th colspan="2">NO CAUSES</th>\r\n                                <th colspan="2">MATERIAL DE CURACI\xd3N</th>\r\n                                <th>PEDIDOS</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor="let um of item.data; let j = index">\r\n                                <td>{{ j + 1 }}</td>\r\n                                <td><a style="color:#3273dc !important; font-weight:bold;" (click)="generarExcel(um.clues,item.proveedor_id)">{{ um.unidad_medica }}</a></td>\r\n                                <td *ngIf="um.causes_cantidad_solicitada > 0">{{ um.causes_cantidad_recibida | number: \'1.0-0\' }}/{{ um.causes_cantidad_solicitada | number: \'1.0-0\' }}</td>                                \r\n                                <th *ngIf="um.causes_cantidad_solicitada > 0">{{ parseNaN((um.causes_cantidad_recibida * 100 / um.causes_cantidad_solicitada)) | number: \'1.2-2\' }}%</th>\r\n                                <td colspan="2" *ngIf="um.causes_cantidad_solicitada == 0"></td>\r\n\r\n                                <td *ngIf="um.no_causes_cantidad_solicitada > 0">{{ um.no_causes_cantidad_recibida | number: \'1.0-0\' }}/{{ um.no_causes_cantidad_solicitada | number: \'1.0-0\' }}</td>\r\n                                <th *ngIf="um.no_causes_cantidad_solicitada > 0">{{ parseNaN((um.no_causes_cantidad_recibida * 100 / um.no_causes_cantidad_solicitada)) | number: \'1.2-2\' }}%</th>\r\n                                <td colspan="2" *ngIf="um.no_causes_cantidad_solicitada == 0"></td>\r\n\r\n                                <td *ngIf="um.material_curacion_cantidad_solicitada > 0">{{ um.material_curacion_cantidad_recibida | number: \'1.0-0\' }}/{{ um.material_curacion_cantidad_solicitada | number: \'1.0-0\' }}</td>\r\n                                <th *ngIf="um.material_curacion_cantidad_solicitada > 0">{{ parseNaN((um.material_curacion_cantidad_recibida * 100 / um.material_curacion_cantidad_solicitada)) | number: \'1.2-2\' }}%</th>\r\n                                <td colspan="2" *ngIf="um.material_curacion_cantidad_solicitada == 0"></td>\r\n                                <td><a class="button is-info is-outlined is-small" (click)="verDialogoPedidos(item.proveedor_id,um)">{{ um.total_pedidos }} Pedido(s)</a></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n\r\n                <div class="is-fullwidth has-text-centered"  *ngIf="item.cargando ">\r\n                    <div class="notification is-white">\r\n                        <span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando entregas del mes de: <b>{{item.proveedor}}</b>...</span>\r\n                    </div>\r\n                </div>\r\n                \r\n            </div>\r\n        </div>\r\n        \r\n    </div>\r\n</div>\r\n\r\n<div class="modal is-active" [ngClass]="{\'is-active\': mostrarDialogoPedidos}">\r\n  <div class="modal-background" (click)="cerrarDialogoPedidos()"></div>\r\n  <div class="modal-card" style="width:95%; height: auto;">\r\n    <header class="modal-card-head" style="background: #00d1b2;">\r\n      <div class="container is-fluid"  style="width:100%;">\r\n          <h1 class="title" style="color:#FFF;">\r\n            <span class="icon is-medium"><i class="fa fa-file"></i></span> {{tituloDialogoPedidos}} \r\n          </h1>\r\n      </div>            \r\n      <a class="button  is-primary" style="position:absolute; top:1em; right:1em;" (click)="cerrarDialogoPedidos()"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n    </header>\r\n    <section class="modal-card-body" style="padding:0px;" >\r\n      <div style="padding: 1em;">\r\n        <div class="is-fullwidth has-text-centered" *ngIf="cargandoPedidosUnidadMedica">\r\n            <br>\r\n            <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando repositorio...</span></span>\r\n            <br>\r\n            <br>\r\n        </div>\r\n        <div class="columns" *ngIf="!cargandoPedidosUnidadMedica">\r\n          <table class="table" *ngIf="!cargandoPedidosUnidadMedica" style="min-width:100%; font-size:0.8em;">\r\n                <thead>\r\n                    <tr>\r\n                        <th colspan="3" style="text-align:center;">Datos del Pedido</th>\r\n                        <th colspan="2" style="text-align:center;">Claves</th>\r\n                        <th colspan="2" style="text-align:center;">Insumos</th>\r\n                        <th colspan="2" style="text-align:center;">Montos</th>\r\n                        <th></th>\r\n                    </tr>\r\n                    <tr>\r\n                        <th style="text-align:center;">Folio</th>\r\n                        <th style="text-align:center;">Nombre del Pedido</th>\r\n                        <th style="text-align:center;">Fecha de Notificaci\xf3n</th>\r\n                        <th style="text-align:center;">Surtidas/Solicitadas</th>\r\n                        <th style="text-align:center;">% Acu</th>\r\n                        <th style="text-align:center;">Surtidos/Solicitados</th>\r\n                        <th style="text-align:center;">% Acu</th>\r\n                        <th style="text-align:center;">Surtido/Solicitado</th>\r\n                        <th style="text-align:center;">% Acu</th>\r\n                        <th></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody *ngFor="let pedido of pedidosUnidadMedica">\r\n                    <tr>\r\n                        <td>{{pedido.folio}}</td>\r\n                        <td>{{pedido.nombre_pedido}}</td>\r\n                        <td style="text-align:center;">{{ pedido.fecha_concluido | date:\'y-MM-dd\' }}</td>\r\n                        <td style="text-align:center;">{{pedido.total_claves_recibidas | number: \'1.0-0\'}} / {{pedido.total_claves_solicitadas | number: \'1.0-0\'}}</td>\r\n                        <td style="text-align:center;">{{parseNaN((pedido.total_claves_recibidas * 100 /pedido.total_claves_solicitadas)) | number: \'1.2-2\'}}%</td>\r\n                        <td style="text-align:center;">{{pedido.total_cantidad_recibida | number: \'1.0-0\'}} / {{pedido.total_cantidad_solicitada | number: \'1.0-0\'}}</td>\r\n                        <td style="text-align:center;">{{parseNaN((pedido.total_cantidad_recibida * 100 /pedido.total_cantidad_solicitada)) | number: \'1.2-2\'}}%</td>\r\n                        <td style="text-align:center;">$ {{pedido.total_monto_recibido | number: \'1.2-2\'}} / $ {{pedido.total_monto_solicitado | number: \'1.2-2\'}}</td>\r\n                        <td style="text-align:center;">{{parseNaN((pedido.total_monto_recibido * 100 /pedido.total_monto_solicitado)) | number: \'1.2-2\'}}%</td>\r\n                        <td style="text-align:center;">\r\n                            <span *ngIf="pedido.tipo_pedido_id == \'PFS\' && pedido.entregas.length == 0">En Farmacia</span>\r\n                            <span *ngIf="pedido.tipo_pedido_id != \'PFS\' && pedido.entregas.length == 0">Sin entregas</span>\r\n                            <span *ngIf="pedido.entregas.length > 0">{{pedido.entregas.length}} entrega(s)</span>\r\n                        </td>\r\n                    </tr>\r\n                    <tr *ngFor="let entrega of pedido.entregas" class="lista-entregas">\r\n                        <td style="text-align:right;" colspan="2"> Recepci\xf3n</td>\r\n                        <td style="text-align:center;">{{entrega.fecha}}</td>\r\n                        <td style="text-align:center;">{{entrega.total_claves | number: \'1.0-0\'}}</td>\r\n                        <td style="text-align:center;">{{parseNaN((entrega.acumulado_claves * 100 /pedido.total_claves_solicitadas)) | number: \'1.2-2\'}}%*</td>\r\n                        <td style="text-align:center;">{{entrega.total_cantidad | number: \'1.0-0\'}}</td>\r\n                        <td style="text-align:center;">{{parseNaN((entrega.acumulado_cantidad * 100 /pedido.total_cantidad_solicitada)) | number: \'1.2-2\'}}%*</td>\r\n                        <td style="text-align:center;">$ {{entrega.total_monto | number: \'1.2-2\'}}</td>\r\n                        <td style="text-align:center;">{{parseNaN((entrega.acumulado_monto * 100 /pedido.total_monto_solicitado)) | number: \'1.2-2\'}}%*</td>\r\n                        <td></td>\r\n                    </tr>\r\n                    <tr *ngIf="pedido.entregas.length > 0"><td colspan="10" style="text-align:right"></td></tr>\r\n                </tbody>\r\n                <tbody>\r\n                    <tr><td colspan="10" style="text-align:right">*porcentaje acumulado</td></tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n      </div>\r\n    </section>\r\n    <footer class="" style="position:relative; padding:1em;background: #FFF; border-top:1px solid #EEE; border-radius:0 0 0.8em 0.8em " >\r\n        \r\n    </footer>\r\n  </div>\r\n</div>\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style="text-align:center" ><a  class="button is-danger is-inverted" (click)="ultimaPeticion(); mensajeError.mostrar = false"> <span class="icon"><i class="fa fa-refresh"></i></span> <span>Volver a intentar</span></a></p>        \r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n'},"3DCO":function(e,t){e.exports='<div class="modal is-active" >\r\n  <div class="modal-background" (click)="cerrar()"></div>\r\n  <div class="modal-card" style="width:95%; height: auto;">\r\n   \r\n    <header class="modal-card-head" style="background: #00d1b2;">\r\n      \r\n                    \r\n      <div class="container is-fluid"  style="width:100%;">\r\n          <h1 class="title" style="color:#FFF;">\r\n            <span class="icon is-medium"><i class="fa fa-list"></i></span> Distribuci\xf3n de cantidades\r\n          </h1>\r\n      </div>            \r\n      <a class="button  is-primary" style="position:absolute; top:1em; right:1em;" (click)="cerrar()"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n    </header>\r\n    <section class="modal-card-body" style="padding:0px;" >\r\n      <table class="table is-unselectable" *ngIf="!cargando && !guardando" style="font-size: 0.8em; margin:0px !important">\r\n        <thead>\r\n            <tr  >\r\n                <th style="width:41px;vertical-align: middle;" class="has-text-centered" >Lote</th>\r\n                <th class="is-hidden-mobile" style="width:118px;">Clave</th>\r\n                <th class="is-hidden-tablet">Clave o Gen\xe9rico</th>  \r\n                <th style="vertical-align: middle;" class="is-hidden-mobile " >Descripcion</th>                  \r\n                <th style="width:78px !important;text-align: center; vertical-align: middle;"><abbr title="Cantidad">Cant.</abbr></th>\r\n                 <th style="width:78px !important;text-align: center; vertical-align: middle;"><abbr title="Precio">Precio</abbr></th>\r\n                <th style="width:78px !important;text-align: center; vertical-align: middle;"><abbr title="Monto">Monto</abbr></th>\r\n                <th  style="width:21px !important;"></th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n\r\n            <tr>\r\n                <td class="has-text-centered">{{ insumo.lote }}</td>\r\n                <td class="has-text-centered is-hidden-mobile">{{ insumo.clave }}</td>     \r\n                <td>\r\n                    <small class="is-hidden-tablet">{{ insumo.clave }} <br></small>\r\n                    <div style="line-height:1em;">\r\n                    <small>{{ insumo.descripcion }}</small>\r\n                    </div>\r\n                    <div style="padding: 0.5em 0 0.5em 0; ">\r\n                    <span *ngIf="(insumo.es_causes && insumo.tipo == \'ME\')" class="tag is-success" [ngClass]="{\'is-dark\': insumo == insumoSeleccionado}" style="font-size: 0.7em !important;">CAUSES</span>\r\n                    <span *ngIf="(!insumo.es_causes && insumo.tipo == \'ME\')" class="tag is-danger" style="font-size: 0.7em !important;">NO CAUSES</span>\r\n                    <span *ngIf="insumo.tipo == \'MC\'" class="tag is-warning" style="font-size: 0.7em !important;">MATERIAL CURACI\xd3N</span>\r\n                    <span *ngIf="insumo.es_cuadro_basico" class="tag is-light" [ngClass]="{\'is-dark\': insumo == insumoSeleccionado}" style="font-size: 0.7em !important;">Cuadro b\xe1sico</span>\r\n                    <span *ngIf="(insumo.tipo == \'ME\' && insumo.informacion)">\r\n                        <span *ngIf="insumo.informacion.es_controlado" class="tag is-warning" style="font-size: 0.7em">Controlado</span>\r\n                        <span *ngIf="insumo.informacion.es_surfactante" class="tag is-warning" style="font-size: 0.7em">Surfactante</span>  \r\n                    </span>\r\n                    </div>\r\n                </td>                \r\n                <td style="width:100px !important;text-align:center;">{{ insumo.cantidad }}</td>\r\n                <td style="width:78px !important; text-align:center;">$<b><abbr>{{insumo.precio | number:\'1.2-2\'}}</abbr></b></td>\r\n                <td style="width:78px !important; text-align:center;">$<b><abbr>{{insumo.monto | number:\'1.2-2\'}}</abbr></b></td>\r\n            </tr>      \r\n        </tbody>\r\n      </table>\r\n      <hr style="margin:0px !important">\r\n      <table class="table" style="font-size: 0.8em;">\r\n        <thead>\r\n          <tr>\r\n            <th style="width:110px !important;">Clues ({{ insumo.lista_clues.length }})</th>\r\n            <th>Nombre</th>\r\n            <th style="width:90px !important;text-align:center">Cantidad</th>              \r\n            <th style="width:50px; text-align:right">Monto</th>  \r\n            <th  *ngIf="!lectura"></th> \r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr *ngFor="let item of insumo.lista_clues; let i = index">\r\n            <td>{{ item.clues}}</td>\r\n            <td>{{ item.nombre}}</td>\r\n            <td style="width:100px !important;"  *ngIf="!lectura">\r\n                <p class="control is-expanded">\r\n                <input class="input is-small has-text-centered"  type="number" placeholder="Cant" (keyup)="actualizarTotales()" (mouseup)="actualizarTotales()" [(ngModel)]="item.cantidad">\r\n                </p>\r\n            </td>\r\n\r\n            <td style="width:100px !important; text-align:center;"  *ngIf="lectura">{{ item.cantidad }} </td>\r\n            <td style="text-align:right">$<b><abbr>{{insumo.precio * item.cantidad | number:\'1.2-2\'}}</abbr></b></td>\r\n            <td style="width:32px !important;" *ngIf="!lectura">\r\n                <a (click)="eliminarInsumo(item,i)"><span class="icon"><i class="fa fa-trash"></i></span></a>\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n            \r\n    </section>\r\n    <footer class="" style="position:relative; padding:1em;background: #FFF; border-radius:0 0 0.8em 0.8em " ></footer>\r\n  </div>\r\n</div>\r\n'},"3QmX":function(e,t){e.exports='<administrador-central-menu></administrador-central-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%; ">\r\n    <div class="column is-narrow is-hidden-mobile">\r\n        <administrador-central-menu-lateral></administrador-central-menu-lateral>\r\n    </div>\r\n    <div class="column">\r\n\t\t\r\n\t\t<div style="background: #FFF; border-radius: 1em; overflow: hidden; margin-top:1em;">\r\n\t\t\t\r\n\t\t\t<section class="hero is-primary" [ngClass]="{ \'is-success\': pedido.status == \'VAL\'}">\r\n\t\t\t\t<h1 class="title" style="margin:0.5em;" *ngIf="pedido.status == \'PV\'">\r\n\t\t\t\t\t<span class="icon is-medium"><i class="fa fa-check-square-o"></i></span> Validar Pedido alterno \r\n\t\t\t\t</h1>\r\n\t\t\t\t<h1 class="title" style="margin:0.5em;" *ngIf="pedido.status == \'VAL\'">\r\n\t\t\t\t\t<span class="icon is-medium"><i class="fa fa-check-circle"></i></span> Pedido alterno validado\r\n\t\t\t\t</h1>\r\n\t\t\t</section>\r\n\t\t\r\n\t\t\t<div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n\t\t\t\t\t<br>\r\n\t\t\t\t\t<span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n\t\t\t\t\t<br>\r\n\t\t\t\t\t<br>\r\n\t\t\t</div>\r\n\t\t\t<table class="table"  *ngIf="!cargando">\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>Folio:</th>\r\n\t\t\t\t\t\t<td>{{pedido.datosImprimir.folio}}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>Almac\xe9n:</th>\r\n\t\t\t\t\t\t<td>{{pedido.datosImprimir.almacen_solicitante.nombre}} / {{pedido.datosImprimir.unidad_medica.nombre}}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>Nombre del pedido:</th>\r\n\t\t\t\t\t\t<td>{{pedido.datosImprimir.descripcion}}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>Fecha:</th>\r\n\t\t\t\t\t\t<td>{{pedido.datosImprimir.fecha}}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>Observaciones:</th>\r\n\t\t\t\t\t\t<td>{{pedido.datosImprimir.observaciones}}</td>\r\n\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t</tbody>\t\r\n\t\t\t</table>\r\n\t\t\t<hr>\r\n\t\t\t<div class="control " style="padding-left:10px;" *ngIf="!cargando">\r\n\t\t\t\r\n\t\t\t\t\t<a class="button is-success" *ngIf="pedido.status == \'PV\'" title="Validar Pedido" (click)="validar(); " [ngClass]="{\'is-loading\': validando}" >\r\n\t\t\t\t\t\t<span class="icon"><i class="fa fa-check"></i></span> &nbsp; Validar\r\n\t\t\t\t\t</a>\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\t\t<a class="button is-danger" *ngIf="pedido.status == \'PV\'" title="Rechazar Pedido" (click)="rechazar();" [ngClass]="{\'is-disabled\': validando}">\r\n\t\t\t\t\t\t<span class="icon"><i class="fa fa-times"></i></span> &nbsp; Rechazar\r\n\t\t\t\t\t</a>\r\n\t\t\r\n\t\t\t\t\r\n\t\t\t\t\t<a class="button is-white" title="Imprimir Excel" (click)="imprimirExcel();" [ngClass]="{\'is-disabled\': validando}">\r\n\t\t\t\t\t\t<span class="icon"><i class="fa fa-file-excel-o"></i></span> &nbsp; Excel\r\n\t\t\t\t\t</a>\r\n\t\t\t\r\n\t\t\t\t\t<a class="button is-white  " title="Imprimir PDF" (click)="mostrarDialogo(); " [ngClass]="{\'is-disabled\': validando}">\r\n\t\t\t\t\t\t<span class="icon"><i class="fa fa-print"></i></span> &nbsp; PDF\r\n\t\t\t\t\t</a>\r\n\t\t\t\t\r\n\t\t\t\t\t<a class="button is-white" routerLink="/administrador-central/validacion-pedidos-alternos/" [ngClass]="{\'is-disabled\': validando}" >Regresar</a>\r\n\t\t\t                \r\n\t\t\t</div>\r\n\t\t\t<section>\r\n\t\t\t\t<div class="control is-grouped">\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</section>\r\n\t\t</div>\r\n\t\t<br>\r\n\t\t<div class="contenedor-pedido" >\r\n\t\t\t<div class="top-bar" [ngClass]="{\'is-primary\':!pedido.filtro.activo,\'is-dark\': pedido.filtro.activo }">\r\n\t\t\t\t<span *ngIf="!pedido.filtro.activo">\r\n\t\t\t\t\tClaves: {{ pedido.lista.length | number }}\r\n\t\t\t\t\tInsumos: {{pedido.totalInsumos | number}} \r\n\t\t\t\t\tTotal: $ {{ pedido.totalMonto | number: \'1.2-2\' }}\r\n\t\t\t\t</span>\r\n\t\t\t\t<span *ngIf="pedido.filtro.activo"><span class="icon"><i class="fa fa-search"></i></span> Resultados: {{ pedido.filtro.lista.length }}</span>\r\n\t\t\t\t\x3c!--a class="button is-primary  is-pulled-right" [ngClass]="{ \'is-inverted\': pedido.filtro.activo }" style="margin-top:-0.25em;" title="Recepciones" (click)="toggleModalRecepciones(); ">\r\n\t\t\t\t\t<span class="icon"><i class="fa fa-file"></i></span><span>Recepciones: {{pedido.datosImprimir.recepciones.length}}</span>\r\n\t\t\t\t</a--\x3e\r\n\t\t\t\t<a *ngIf="pedido.status == \'EX\' && pedido.datosImprimir.tipo_pedido_id == \'PA\'" class="button is-danger is-pulled-right" (click)="mostrarDialogoCancelarPedido()"> <span class="icon"><i class="fa fa-ban"></i></span> <span>Cancelar Pedido</span></a>\r\n\t\t\t</div> \r\n\r\n\t\t\t<div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n\t\t\t\t<br>\r\n\t\t\t\t<span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n\t\t\t\t<br>\r\n\t\t\t\t<br>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<table class="table is-unselectable" *ngIf="!cargando" style="font-size: 0.8em;">\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<tr  >\r\n\t\t\t\t\t\t<th style="width:41px;vertical-align: middle;" class="has-text-centered" >Lote</th>\r\n\t\t\t\t\t\t<th class="is-hidden-mobile" style="width:118px;">\r\n\t\t\t\t\t\t<p class="control is-expanded" >\r\n\t\t\t\t\t\t\t<input type="hidden" #searchBoxClavePrevia >\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<input class="input is-small" type="text" placeholder="Filtrar" #searchBoxClave id="search-box-clave-{{indexPedido}}" (keyup)="buscar($event,searchBoxClave, searchBoxClavePrevia,[{ input: searchBoxClave, campos: [\'clave\',\'descripcion\']}])">\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t<th class="is-hidden-tablet">\r\n\t\t\t\t\t\t<p class="control is-expanded">\r\n\t\t\t\t\t\t\t<input type="hidden" #searchBoxDescripcionClavePrevia >\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<input class="input is-small" type="text" placeholder="Clave o Gen\xe9rico" #searchBoxDescripcionClave id="search-box-descripcion-clave-{{indexPedido}}" (keyup)="buscar($event,searchBoxDescripcionClave,searchBoxDescripcionClavePrevia,[{ input: searchBoxDescripcionClave, campos: [\'clave\',\'descripcion\']}])">\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</th>  \r\n\t\t\t\t\t\t<th style="vertical-align: middle;" class="is-hidden-mobile is-hidden-tablet-only" >Descripcion</th>                  \r\n\t\t\t\t\t\t<th style="width:78px !important;text-align: center; vertical-align: middle;"><abbr title="Cantidad">Cant.</abbr></th>\r\n\t\t\t\t\t\t<th style="width:78px !important;text-align: center; vertical-align: middle;"><abbr title="Monto">Monto</abbr></th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody *ngIf="!pedido.filtro.activo">\r\n\r\n\t\t\t\t\t<tr   *ngFor="let item of pedido.paginacion.lista; let i = index;">\r\n\t\t\t\t\t<td class="has-text-centered">{{ item.lote }}</td>\r\n\t\t\t\t\t<td class="has-text-centered is-hidden-mobile"><a (click)="mostrarFichaInformativa($event, item.clave)" style="cursor:help;">{{ item.clave }}</a></td>            \r\n\t\t\t\t\t\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<small class="is-hidden-tablet">{{ item.clave }} <br></small>\r\n\t\t\t\t\t\t<div style="line-height:1em;">\r\n\t\t\t\t\t\t<small>{{ item.descripcion }}</small>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div style="padding: 0.5em 0 0.5em 0; ">\r\n\t\t\t\t\t\t<span *ngIf="(item.es_causes && item.tipo == \'ME\')" class="tag is-success" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">CAUSES</span>\r\n\t\t\t\t\t\t<span *ngIf="(!item.es_causes && item.tipo == \'ME\')" class="tag is-danger" style="font-size: 0.7em !important;">NO CAUSES</span>\r\n\t\t\t\t\t\t<span *ngIf="item.tipo == \'MC\'" class="tag is-warning" style="font-size: 0.7em !important;">MATERIAL CURACI\xd3N</span>\r\n\t\t\t\t\t\t<span *ngIf="item.es_cuadro_basico" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">Cuadro b\xe1sico</span>\r\n\t\t\t\t\t\t<span *ngIf="(item.tipo == \'ME\' && item.informacion)">\r\n\t\t\t\t\t\t\t<span *ngIf="item.informacion.es_controlado" class="tag is-info" style="font-size: 0.7em">Controlado</span>\r\n\t\t\t\t\t\t\t<span *ngIf="item.informacion.es_surfactante" class="tag is-info" style="font-size: 0.7em">Surfactante</span>  \r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</td>\r\n\r\n\r\n\t\t\t\t\t<td style="width:78px !important;">\r\n\t\t\t\t\t\t<p class="control is-expanded">\r\n\t\t\t\t\t\t\t{{item.cantidad | number}}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td style="width:78px !important;">\r\n\t\t\t\t\t\t<b><abbr>${{item.monto | number:\'1.2-2\'}}</abbr></b>\r\n\t\t\t\t\t</td> \r\n\t\t\t\t\t</tr>      \r\n\t\t\t\t</tbody>\r\n\t\t\t\t<tbody *ngIf="pedido.filtro.activo">\r\n\t\t\t\t\t<tr  *ngFor="let item of pedido.filtro.paginacion.lista; let i = index;">\r\n\t\t\t\t\t<td class="has-text-centered">{{ item.lote }}</td>\r\n\t\t\t\t\t<td class="has-text-centered is-hidden-mobile"><a (click)="mostrarFichaInformativa($event, item.clave)" style="cursor:help;">{{ item.clave }}</a></td>            \r\n\t\t\t\t\t\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<small class="is-hidden-tablet">{{ item.clave }} <br></small>\r\n\t\t\t\t\t\t\x3c!--div *ngIf="item.tipo != \'ME\'" style="line-height:1em;"--\x3e\r\n\t\t\t\t\t\t<div style="line-height:1em;">\r\n\t\t\t\t\t\t<small>{{ item.descripcion }}</small>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div style="padding: 0.5em 0 0.5em 0; ">\r\n\t\t\t\t\t\t<span *ngIf="(item.es_causes && item.tipo == \'ME\')" class="tag is-success" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">CAUSES</span>\r\n\t\t\t\t\t\t<span *ngIf="(!item.es_causes && item.tipo == \'ME\')" class="tag is-danger" style="font-size: 0.7em !important;">NO CAUSES</span>\r\n\t\t\t\t\t\t<span *ngIf="item.tipo == \'MC\'" class="tag is-warning" style="font-size: 0.7em !important;">MATERIAL CURACI\xd3N</span>\r\n\t\t\t\t\t\t<span *ngIf="item.es_cuadro_basico" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">Cuadro b\xe1sico</span>\r\n\t\t\t\t\t\t<span *ngIf="(item.tipo == \'ME\' && item.informacion)">\r\n\t\t\t\t\t\t\t<span *ngIf="item.informacion.es_controlado" class="tag is-info" style="font-size: 0.7em">Controlado</span>\r\n\t\t\t\t\t\t\t<span *ngIf="item.informacion.es_surfactante" class="tag is-info" style="font-size: 0.7em">Surfactante</span>  \r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</td>\r\n\r\n\t\t\t\t\t<td style="width:78px !important;">\r\n\t\t\t\t\t\t<p class="control is-expanded">\r\n\t\t\t\t\t\t\t{{item.cantidad | number}}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td style="width:78px !important;">\r\n\t\t\t\t\t\t<b><abbr>${{item.monto | number:\'1.2-2\'}}</abbr></b>\r\n\t\t\t\t\t</td> \r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</tbody>              \r\n\t\t\t</table>\r\n\t\t\t\r\n\t\t\t<paginacion \r\n\t\t\t\t\t[total]="pedido.lista.length" \r\n\t\t\t\t\t[paginasTotales]="pedido.paginacion.totalPaginas" \r\n\t\t\t\t\t[resultadosPorPagina]="pedido.paginacion.resultadosPorPagina" \r\n\t\t\t\t\t[paginaActual]="pedido.paginacion.paginaActual" \r\n\t\t\t\t\t[indicePaginas]="pedido.paginacion.indice"\r\n\t\t\t\t\t(onSiguiente)="pedido.paginaSiguiente()" \r\n\t\t\t\t\t(onAnterior)="pedido.paginaAnterior()" \r\n\t\t\t\t\t(onListar)="pedido.listar($event)" \r\n\t\t\t\t\t*ngIf="pedido.lista.length > 0 && pedido.lista.length > pedido.paginacion.resultadosPorPagina && !pedido.filtro.activo"></paginacion>\r\n\t\t\t\r\n\t\t\t<paginacion \r\n\t\t\t\t\t[total]="pedido.filtro.lista.length" \r\n\t\t\t\t\t[paginasTotales]="pedido.filtro.paginacion.totalPaginas" \r\n\t\t\t\t\t[resultadosPorPagina]="pedido.filtro.paginacion.resultadosPorPagina" \r\n\t\t\t\t\t[paginaActual]="pedido.filtro.paginacion.paginaActual" \r\n\t\t\t\t\t[indicePaginas]="pedido.filtro.paginacion.indice"\r\n\t\t\t\t\t(onSiguiente)="pedido.filtro.paginaSiguiente()" \r\n\t\t\t\t\t(onAnterior)="pedido.filtro.paginaAnterior()" \r\n\t\t\t\t\t(onListar)="pedido.filtro.listar($event)" \r\n\t\t\t\t\t*ngIf="pedido.filtro.lista.length > 0 && pedido.filtro.lista.length > pedido.filtro.paginacion.resultadosPorPagina && pedido.filtro.activo"></paginacion>\r\n\t\t\t<br>\r\n\t\t</div>\r\n      \r\n     \r\n    </div>\r\n</div>\r\n\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    \x3c!--p style="text-align:center" ><a  class="button is-danger is-inverted" (click)="ultimaPeticion(); mensajeError.mostrar = false"> <span class="icon"><i class="fa fa-refresh"></i></span> <span>Volver a intentar</span></a></p--\x3e\r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n\r\n\r\n<div class="modal is-active" [ngClass]="{\'is-active\': mostrarImprimirDialogo}">\r\n  <div class="modal-background" (click)="cerrarDialogo()"></div>\r\n  <div class="modal-card" style="width:95%; height: auto;">\r\n    <header class="modal-card-head" style="background: #00d1b2;">\r\n      <div class="container is-fluid"  style="width:100%;">\r\n          <h1 class="title" style="color:#FFF;">\r\n            <span class="icon is-medium"><i class="fa fa-print"></i></span> Imprimir Pedido \r\n          </h1>\r\n      </div>            \r\n      <a class="button  is-primary" style="position:absolute; top:1em; right:1em;" (click)="cerrarDialogo()"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n    </header>\r\n    <section class="modal-card-body" style="padding:0px;" >\r\n      <div style="padding: 1em;">\r\n        <div class="columns is-multiline">\r\n          <div class="column is-one-quarter" *ngFor="let tipo of tiposSubPedidos">\r\n            <div class="card">\r\n              <header class="card-header">\r\n                <p class="card-header-title">\r\n                  {{subPedidos[tipo].titulo}}\r\n                </p>\r\n              </header>\r\n              <div class="card-content">\r\n                <div class="content">\r\n                  <strong>Total claves</strong>: {{subPedidos[tipo].claves | number}} <br>\r\n                  <strong>Total unidades</strong>: {{subPedidos[tipo].cantidad | number}} <br>\r\n                  <strong>Total monto</strong>: $ {{subPedidos[tipo].monto + ((subPedidos[tipo].tiene_iva)?+subPedidos[tipo].monto*16/100:0) | number:\'1.2-2\'}}\r\n                </div>\r\n              </div>\r\n              <footer class="card-footer">\r\n                \x3c!--a class="card-footer-item" (click)="imprimir(tipo)" [ngClass]="{ \'is-loading\': cargandoPdf, \'is-inverted\': !cargandoPdf }">\r\n                  <span class="icon is-medium"><i class="fa fa-file-pdf-o"></i></span>&nbsp;<span>Descargar/Imprimir</span>\r\n                </a--\x3e\r\n                <a class="button is-primary is-fullwidth" [ngClass]="{ \'is-loading\': cargandoPdf[tipo], \'is-inverted\': !cargandoPdf[tipo] }" title="Imprimir Pedido" (click)="imprimir(tipo)">\r\n                    <span class="icon"><i class="fa fa-file-pdf-o"></i></span> &nbsp; Descargar/Imprimir\r\n                </a>\r\n              </footer>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n    <footer class="" style="position:relative; padding:1em;background: #FFF; border-top:1px solid #EEE; border-radius:0 0 0.8em 0.8em " >\r\n        <div class="notification is-danger is-small" *ngIf="errorEnPDF">\r\n            <button class="delete" (click)="errorEnPDF = false"></button>        \r\n            <b>Error:</b> Ocurrio un error al generar el PDF<br><br>\r\n        </div>\r\n    </footer>\r\n  </div>\r\n</div>'},"3Wmm":function(e,t){e.exports='<section  class="top-nav">\r\n        \r\n<nav class="nav">\r\n    <a title="M\xe9dicos" class="nav-item pull-left nav-hub-active"  routerLink="/medicos" >\r\n        \r\n        <img src="assets/hub-medicos.svg" alt="icono">\r\n    \r\n    </a>\r\n    <div class="nav-left">\r\n        \r\n        <span *ngIf="!modulo" class="nav-item">\r\n            <h1 class="title">&nbsp;M\xe9dicos</h1>\r\n        </span>\r\n        <a *ngIf="modulo" class="nav-item" routerLink="{{ url }}" >\r\n            <h1 class="title">&nbsp;{{ modulo }}</h1>                     \r\n        </a>\r\n    </div>\r\n    <div class="nav-center"></div>\r\n    <div class="nav-right is-hidden-mobile">\r\n        <span class="unidad-trabajo">\r\n            {{usuario.clues_activa.clues}}<br>            \r\n            <span>{{usuario.clues_activa.nombre}}</span>\r\n        </span>\r\n      \r\n    </div>\r\n\r\n    <a class="nav-item"  (click)="hub.toggle()">\r\n        <span class="icon">\r\n            <i class="fa fa-th"></i>\r\n        </span>\r\n    </a>\r\n\r\n    <a class="nav-item is-hidden-mobile" (click)="perfil.toggle()">                    \r\n        <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n        &nbsp;\r\n        <span>{{ usuario.nombre }} {{ usuario.apellidos }}</span>\r\n    </a>\r\n    <a class="nav-item is-hidden-tablet" (click)="perfil.toggle()">\r\n        \r\n        <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n    </a>\r\n    \r\n    \r\n</nav>\r\n</section>\r\n\r\n<app-hub #hub></app-hub>\r\n<app-perfil #perfil></app-perfil>'},"3WqU":function(e,t){e.exports='<formulario #ctrl URL="entrada-almacen" titulo="Entrada  de medicamentos" [dato]="dato"></formulario>\r\n<menu-farmacia [modulo]="\'Entrada  de medicamentos\'" [icono]="\'assets/icono-entradas.svg\'" [url]="\'/almacen/entradas-estandar\'"></menu-farmacia>\r\n<div style="height:50px;"></div>\r\n<form name="form" novalidate [formGroup]="dato" (ngSubmit)="ctrl.enviar()">\r\n    <div class="contenedor columns " style="height:90%">\r\n        <div class="column is-one-third" style="padding:1em;">\r\n            <div style="background: #FFF; border-radius: 1em; ">\r\n                <section class="hero is-primary">\r\n                    <h1 *ngIf="!tieneid || ctrl.dato.get(\'estatus\').value == \'BR\'" class="title" style="margin:0.5em; ">\r\n                        <span class="icon is-medium">\r\n                            <i class="fa fa-file-text"></i>\r\n                        </span> {{ctrl.moduloTitulo}}\r\n                    </h1>\r\n                    <h1 *ngIf="tieneid && ctrl.dato.get(\'estatus\').value == \'FI\'" class="title" style="margin:0.5em; ">\r\n                        <span class="icon is-medium">\r\n                            <i class="fa fa-file-text"></i>\r\n                        </span> Folio {{ctrl.id}}\r\n                    </h1>\r\n\r\n\r\n                </section>\r\n                \r\n                <div style="padding: 1em;">\r\n                    <h3 class="title">\r\n                        <i class="fa fa-file"></i>\r\n                         Datos del movimiento\r\n                    </h3>\r\n                    <div >\r\n                        <div class="field">\r\n                            <label class="label">Fecha del movimiento:</label>\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n\r\n\r\n                                <input class="input" [value]="fecha_actual" [(ngModel)]=\'fecha_movimiento\' formControlName="fecha_movimiento" ngui-datetime-picker\r\n                                    [min-date]="MinDate" [max-date]="MaxDate" date-only="true" \r\n                                    [ngClass]="{\'is-disabled\': tieneid && ctrl.dato.get(\'estatus\').value == \'FI\', \'is-danger\': ctrl.dato.get(\'fecha_movimiento\').hasError(\'required\') && ctrl.dato.get(\'fecha_movimiento\').touched}"\r\n                                    placeholder="YYYY-MM-DD" readonly/>\r\n\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'fecha_movimiento\').hasError(\'required\')">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'fecha_movimiento\').hasError(\'required\') && ctrl.dato.get(\'fecha_movimiento\').touched">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div class="field">\r\n                            <label class="label">Observaciones:</label>\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n                                <textarea class="textarea" type="text" [ngClass]="{\'is-disabled\': tieneid && ctrl.dato.get(\'estatus\').value == \'FI\', \'is-danger\': ctrl.dato.get(\'observaciones\').hasError(\'required\') && ctrl.dato.get(\'observaciones\').touched}"\r\n                                    placeholder="Observaciones" formControlName="observaciones"></textarea>\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'observaciones\').hasError(\'required\') && ctrl.dato.get(\'observaciones\').touched">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'observaciones\').hasError(\'required\') && ctrl.dato.get(\'observaciones\').touched">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div class="control" *ngIf="mostrarCancelado">\r\n                            \x3c!-- *ngIf --\x3e\r\n                            <div class="field">\r\n                                <div class="b-checkbox control is-expanded  has-icon has-icon-right">\r\n\r\n                                    <input type="checkbox" id="cancelado" class="styled" [checked]="ctrl.dato.get(\'cancelado\').value == \'1\' ? true : false" (change)="ctrl.dato.get(\'cancelado\').patchValue(ctrl.dato.get(\'cancelado\').value == \'1\' ? \'0\' : \'1\')">\r\n                                    <label for="cancelado">  Cancelado\r\n                                    </label>\r\n                                </div>\r\n                            </div>\r\n                            <div class="field">\r\n                                <label class="label">Observaciones de cancelaci\xf3n:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <textarea class="textarea" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'observaciones_cancelacion\').hasError(\'required\') && ctrl.dato.get(\'observaciones_cancelacion\').touched}"\r\n                                        placeholder="Observaciones de cancelacion" formControlName="observaciones_cancelacion"></textarea>\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'observaciones_cancelacion\').hasError(\'required\') && ctrl.dato.get(\'observaciones_cancelacion\').touched">\r\n                                        <i class="fa fa-warning"></i>\r\n                                    </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'observaciones_cancelacion\').hasError(\'required\') && ctrl.dato.get(\'observaciones_cancelacion\').touched">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                    <br>\r\n                    <div>\r\n                        <div class="field">\r\n                            <label class="label">Programa:</label>\r\n                        </div>\x3c!-- SI carga los turnos --\x3e\r\n                        <div class="control is-grouped">\r\n                            <span *ngIf="ctrl.cargando || cargandoProgramas" class="tag is-primary is-medium">Cargando programas. \r\n                                <i class="fa fa-refresh fa-spin" aria-hidden="true"></i>\r\n                            </span>\r\n                            <div  *ngIf="!ctrl.cargando && !cargandoProgramas" class="control is-expanded  has-icon has-icon-right">\r\n                                <select class="select" name="programa" formControlName="programa_id" \r\n                                    [ngClass]="{\'is-disabled\': tieneid && ctrl.dato.get(\'estatus\').value == \'FI\'}">\r\n                                    <option value="">Seleccione un programa</option>\r\n                                    <option *ngFor="let item of lista_programas" value="{{item.id}}">{{ item.nombre }}</option>\r\n                                </select>\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'programa_id\').hasError(\'required\')">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'programa_id\').hasError(\'required\')">Este campo es requerido.</span>\r\n                                <span class="help is-danger" *ngIf="lista_programas.length == 0"> No se cargaron programas, contacte al administrador.</span>\r\n                            </div>\r\n                            \x3c!-- Bot\xf3n para agregar turnos \r\n                            <div class="control">\r\n                                <a class="button" *ngIf="permisos.indexOf(\'ygwsEwz3cUw4yVMCeaQ9hVMCFXUHri5q\') > -1 && !tieneid" \r\n                                    (click)="abrirModal(\'editar_turnos\')" title="Agregar turno">\r\n                                    <i class="fa fa-plus fa-fw" aria-hidden="true"></i>\r\n                                </a>\r\n                            </div> --\x3e\r\n                        </div>\r\n                    </div>\r\n                    <hr>\r\n                    <div >\r\n                        <nav class="panel" formGroupName="movimiento_metadato">\r\n                            <div class="field">\r\n                                <label class="label">Persona que entrega:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <input class="input" type="text" [ngClass]="{\'is-disabled\': tieneid && ctrl.dato.get(\'estatus\').value == \'FI\', \'is-danger\': ctrl.dato.get(\'movimiento_metadato\').get(\'persona_recibe\').hasError(\'required\')}"\r\n                                        placeholder="Persona que entrega" formControlName="persona_recibe">\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'persona_recibe\').hasError(\'required\')">\r\n                                        <i class="fa fa-warning"></i>\r\n                                    </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'persona_recibe\').hasError(\'required\')">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n\r\n                        </nav>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \x3c!-- apartado de insumos --\x3e\r\n        <div class="column" style="padding:1em;">\r\n            <div style="background: #FFF; border-radius: 1em; ">\r\n                <section class="hero is-primary">\r\n                    <div class="hero-body">\r\n                        <nav class="level">\r\n                            <div class="level-left"></div>\r\n                            \x3c!-- Right side --\x3e\r\n                            <div class="level-right"> \x3c!-- (click)="ctrl.regresar()" --\x3e\r\n                                <p class="level-item"><a class="button is-primary" routerLink="/almacen/entradas-estandar">Regresar</a></p>\r\n                                <p class="level-item" *ngIf="tieneid && ctrl.dato.get(\'estatus\').value == \'FI\'"><a class="button is-primary" routerLink="/almacen/entradas-estandar/nuevo" *ngIf="!ctrl.busquedaActivada"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;<span>Nueva entrada</span></a></p>\r\n                                <p class="level-item" *ngIf="tieneid && ctrl.dato.get(\'estatus\').value == \'FI\'"><a *ngIf="tieneid" class="button is-primary" (click)="imprimir()"><span class="icon"><i class="fa fa-print"></i></span></a></p>\r\n                                \x3c!--\r\n                                <p class="level-item" *ngIf="!tieneid">\r\n                                    <button class="button is-primary" type="submit" [ngClass]="{\'is-loading\': ctrl.cargando}" [disabled]="ctrl.dato.invalid"> <span class="icon"><i class="fa fa-floppy-o" aria-hidden="true"></i></span> &nbsp; Guardar</button>\r\n                                </p>\r\n                                --\x3e\r\n                                <p class="level-item" *ngIf="!tieneid || ctrl.dato.get(\'estatus\').value == \'BR\'">\r\n                                    <button class="button is-primary" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" \r\n                                    (click)="guardar_movimiento()" [disabled]="ctrl.dato.invalid">\r\n                                        <span class="icon"><i class="fa fa-floppy-o" aria-hidden="true"></i></span> &nbsp; Finalizar entrada\r\n                                    </button>\r\n                                </p>\r\n                                <p class="level-item" *ngIf="!tieneid">\r\n                                    <button class="button is-primary" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="guardarBorrador();">\r\n                                        <span class="icon"><i class="fa fa-floppy-o" aria-hidden="true"></i></span> &nbsp; Guardar avance\r\n                                        <span id="borrador" (click)="ctrl.enviar(false, \'/almacen/entradas-estandar/editar\'); tieneid ? ctrl.cargarDatos() : \'\';"></span>\r\n                                    </button>\r\n                                </p>\r\n                                <p class="level-item" *ngIf="ctrl.dato.get(\'estatus\').value == \'BR\'">\r\n                                    <button class="button is-primary" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="actualizarDatos();">\r\n                                        <span class="icon"><i class="fa fa-floppy-o" aria-hidden="true"></i></span> &nbsp; Guardar avance\r\n                                    </button>\r\n                                </p>\r\n                                <p class="level-item" *ngIf="tieneid"><a class="button is-primary" id="actualizar" title="Actualizar" (click)="ctrl.cargarDatos();"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n                                <p class="level-item" *ngIf="!tieneid">\r\n                                    <a class="button is-primary" title="Actualizar" (click)="cargarCatalogo(\'programa\');">\r\n                                        <span class="icon "><i class="fa fa-refresh"></i>\r\n                                        </span>\r\n                                    </a>\r\n                                </p>\r\n                                <p class="level-item">&nbsp;</p>\r\n                            </div>\r\n                        </nav>\r\n                        <div class="container is-fluid">\r\n                            <h1 class="title">\r\n                                <span *ngIf="!ctrl.cargando || !cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                <span *ngIf="ctrl.cargando || cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>                                Insumos\r\n                            </h1>\r\n\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>                    &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n                <section class="section">\r\n\r\n                    <div class="field has-addons has-addons-centered" *ngIf="!tieneid || ctrl.dato.get(\'estatus\').value == \'BR\'">\r\n\r\n\x3c!-- ******************************************* AUTOCOMPLETE ********************************************* \r\n                        <p class="control">\r\n                            <input ngui-auto-complete [source]="insumos_term" [list-formatter]="autocompleListFormatter" id="buscarInsumo" value-property-name="clave"\r\n                                display-property-name="nombre" path-to-data="" loading-text="Cargando..." no-match-found-text="No hay resultados."\r\n                                (valueChanged)="select_insumo_autocomplete($event)" min-chars="1" class="input is-success is-medium"\r\n                                type="text" placeholder="Escanea el codigo de barra, o empieza escribir el nombre del producto" >\r\n\r\n                        </p>\r\n******************************************* AUTOCOMPLETE ********************************************* --\x3e\r\n\r\n                        \x3c!-- *****************     INPUT DE BUSQUEDA DE INSUMO     ****************** --\x3e    \r\n                        <div class="control is-grouped">\r\n                            <div class="control is-expanded">\r\n                                <input \r\n                                    (keyup.enter)="buscarInsumo.value != \'\' ?  enviarAutocomplete(buscarInsumo.value) : buscarInsumo.value = \'\'" \r\n                                    id="buscarInsumo"\r\n                                    name="buscarInsumo"\r\n                                    #buscarInsumo\r\n                                    class="input is-success is-medium"\r\n                                    type="text"\r\n                                    placeholder="Escriba la clave o el nombre del insumo y presione la tecla ENTER"/>\r\n                            </div>\r\n                            <div class="control">\r\n                                <a class="button is-success is-medium" title="Buscar insumo" (click)="buscarInsumo.value != \'\' ?  enviarAutocomplete(buscarInsumo.value) : buscarInsumo.value = \'\'">\r\n                                    <i class="fa fa-search" aria-hidden="true"></i> &nbsp; Buscar\r\n                                </a>\r\n                            </div>\r\n                            <div class="control" *ngIf="buscarInsumo.value != \'\'">\r\n                                <a class="button is-info is-medium" title="Borrar texto" (click)="res_busq_insumos=[]; buscarInsumo.value=\'\';">\r\n                                    <i class="fa fa-times" aria-hidden="true"></i>\r\n                                </a>\r\n                            </div>\r\n                        </div>\r\n                        <div class="is-fullwidth has-text-centered" *ngIf="cargando" style="height:100px;">\r\n                            <br>\r\n                            <span class="tag is-primary is-large">\r\n                                <span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span>\r\n                            </span>\r\n                        </div>\r\n                        \x3c!-- *****************     RESULTADOS DE BUSQUEDA DE INSUMO     ****************** --\x3e\r\n                        <div *ngIf="res_busq_insumos.length > 0 && !cargando" style="height: 200px;">\r\n                            <div *ngIf="res_busq_insumos.length > 0 && !cargando" style="overflow: scroll; overflow-x: hidden; height: 90%;">\r\n                                <div class="content" style="z-index: 1;" *ngFor="let item_insumo of res_busq_insumos; let c = index">\r\n                                    <div class="card" (click)="select_insumo_autocomplete(item_insumo)" style="background: rgba(242,248,253, 0.8)">\r\n                                        <div class="card-content">\r\n                                            <div class="media">          \r\n                                                <div class="media-content">\r\n                                                    <p class="title is-4">{{item_insumo.descripcion}}</p>\r\n                                                    <p class="subtitle is-6">\r\n                                                        <strong>Clave: </strong> {{item_insumo.clave}}\r\n                                                        <label class="tag is-success" *ngIf="item_insumo.es_causes == 1"><strong>Cause </strong></label>\r\n                                                        <label class="tag" *ngIf="item_insumo.es_causes == 0" style="background: #B8FB7E; border-color: #B8FB7E; color: rgba(0,0,0,0.7);" ><strong>No Cause </strong> </label>\r\n                                                        <label class="tag is-warning" *ngIf="item_insumo.es_unidosis == 1"><strong>Unidosis</strong> </label>\r\n                                                    </p>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <hr> \x3c!-- L\xednea de division --\x3e\r\n\r\n                    <div *ngIf="!llenando_formulario" formArrayName="insumos" style="overflow: scroll; overflow-x: hidden; height: 550px;">\r\n                        <div class="box" *ngFor="let item of ctrl.dato.controls.insumos.controls; let i=index" [ngStyle]="{\'background\': i%2 == 0 ? \'rgba(230, 230, 232, 0.44)\' : \'\'}">\r\n                            <article class="media" [formGroupName]="i">\r\n                                <div class="media-content">\r\n                                    <div class="content">\r\n                                        <span style="float:right; padding-left: 15px;" >\r\n                                            <a *ngIf="!tieneid || ctrl.dato.get(\'estatus\').value == \'BR\'" class="button is-danger" title="Quitar este elemento de la lista" (click)="abrirModal(\'borrarInsumo\', i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a>\r\n                                        </span>\r\n                                        <a *ngIf="!tieneid || ctrl.dato.get(\'estatus\').value == \'BR\'" class="button is-success" \r\n                                            [ngClass]="{\'is-disabled\': ctrl.dato.controls.insumos.invalid}" \r\n                                            title="Agregar m\xe1s insumos de esta clave" style="float:right" \r\n                                            (click)="select_insumo_autocomplete(item.value);">\r\n                                            <span class="icon"><i class="fa fa-plus-circle" aria-hidden="true"></i></span>\r\n                                        </a>\r\n                                        <p>\r\n                                            <strong>\r\n                                                <span style="color:cornflowerblue">\r\n                                                    Clave: {{ ctrl.dato.controls.insumos.controls[i].controls.clave.value }} \r\n                                                </span>\r\n                                                Nombre: {{ctrl.dato.controls.insumos.controls[i].controls.descripcion.value}}\r\n                                            \r\n                                                <label class="tag is-success" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_causes.value == 1"><strong>Cause </strong></label>\r\n                                                <label class="tag is-success" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_causes.value == 0"><strong>No Cause </strong> </label>                                           \r\n                                                                                            \r\n                                                <label class="tag is-warning" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_unidosis.value == 1"><strong>Unidosis</strong> </label>\r\n                                            </strong>\r\n                                            <br> {{ctrl.dato.controls.insumos.controls[i].controls.descripcion.value}}\r\n                                        </p>\r\n                                    </div>\r\n                                   <section *ngIf="tieneid && ctrl.dato.get(\'estatus\').value == \'FI\' && estoymodificando == false">\r\n                                        <table *ngIf="tieneid && ctrl.dato.get(\'estatus\').value == \'FI\'" class="table is-narrow is-bordered is-striped">\r\n                                            <thead>\r\n                                                <tr>\r\n                                                    <th>Lote</th>\r\n                                                    <th>Caducidad</th>\r\n                                                    <th>Codigo de barras</th>\r\n                                                    \x3c!-- <th *ngIf="!tieneid || ctrl.dato.get(\'estatus\').value == \'BR\'">Existencia</th> --\x3e\r\n                                                    <th>Cantidad</th>\r\n                                                    \x3c!-- <th *ngIf="!tieneid || ctrl.dato.get(\'estatus\').value == \'BR\'"></th> --\x3e\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody formArrayName="lotes">\r\n                                                <tr *ngFor="let val of ctrl.dato.controls.insumos.controls[i].controls.lotes.controls;  let i2 = index;">\r\n                                                    <td>{{val.value.lote}}</td>\r\n                                                    <td>{{val.value.fecha_caducidad}}</td>\r\n                                                    <td>{{val.value.codigo_barras}}</td>\r\n                                                    \x3c!-- <td *ngIf="!tieneid">{{val.value.existencia}}</td> --\x3e\r\n                                                    <td [formGroupName]="i2">\r\n                                                        {{val.value.cantidad}}\r\n                                                    </td>\r\n                                                    \x3c!-- <td *ngIf="!tieneid">\r\n                                                        <a class="is-danger" title="Quitar este lote" (click)="quitar_lote_insumo(i, val.value, i2)">\r\n                                                            <span class="icon">\r\n                                                                <i class="fa fa-trash-o"></i>\r\n                                                            </span>\r\n                                                        </a>\r\n                                                    </td> --\x3e\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </table>\r\n                                    </section>\r\n                                    \x3c!-- || ctrl.dato.get(\'estatus\').value == \'BR\' --\x3e\r\n                                    <div *ngIf="!tieneid || ctrl.dato.get(\'estatus\').value == \'BR\'"  class="level-left">\r\n                                        <div class="columns is-flex-desktop" style="width: 100%">\r\n                                            <div class="column is-3">\r\n                                                <p class="control is-expanded">\r\n                                                    <label class="label">Lote:</label>\r\n                                                    <input type="text" class="input" formControlName="lote"\r\n                                                    [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.lote.hasError(\'required\')}">\r\n                                                </p>\r\n                                                <span class="help is-danger" \r\n                                                *ngIf="ctrl.dato.controls.insumos.controls[i].controls.lote.hasError(\'required\')">Este campo es requerido.</span>\r\n                                            </div>                       \r\n                                            <div class="column is-4">\r\n                                                <p class="control is-expanded">\r\n                                                    <label class="label">Caducidad:</label>\r\n\x3c!--\r\n                                                        <input class="input" type="date" [textMask]="{mask:mask, keepCharPositions: true, pipe: autoCorrectedDatePipe}"\r\n                                                            formControlName="fecha_caducidad" ngui-datetime-picker (blur)="validar_fecha(ctrl.dato.controls.insumos.controls[i].controls.fecha_caducidad.value)"\r\n                                                            [min-date]="MinDateCaducidad" date-only="true" placeholder="YYYY-MM-DD"\r\n                                                            [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.fecha_caducidad.hasError(\'required\') \r\n                                                            && ctrl.dato.controls.insumos.controls[i].controls.fecha_caducidad.touched}">\r\n--\x3e\r\n                                                    <input class="input" formControlName="fecha_caducidad" (blur)="validar_fecha(ctrl.dato.controls.insumos.controls[i].controls.fecha_caducidad.value, i)"\r\n                                                        min="MinDateCaducidad" date-only="true" \r\n                                                        [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.fecha_caducidad.hasError(\'required\')}"\r\n                                                        placeholder="YYYY-MM-DD" [textMask]="{mask:mask, keepCharPositions: true, pipe: autoCorrectedDatePipe}"/>\r\n                                                </p>\r\n                                                <span class="help is-danger" \r\n                                                *ngIf="ctrl.dato.controls.insumos.controls[i].controls.fecha_caducidad.hasError(\'required\')">Este campo es requerido.</span>\r\n                                            </div>                          \r\n                                            <div class="column is-3">\r\n                                                <p class="control is-expanded">\r\n                                                    <label class="label">Codigo de barras:</label>\r\n                                                    <input type="text" class="input" formControlName="codigo_barras">\r\n                                                </p>\r\n                                            </div>    \r\n                                            <div class="column is-2">                                                \r\n                                                <p class="control is-expanded">\r\n                                                    <label class="label">Cantidad:</label>\r\n                                                    <input type="number" class="input" formControlName="cantidad" (keypress)="quitar_punto($event)"\r\n                                                    [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.cantidad.hasError(\'required\')}">\r\n                                                </p>\r\n                                                <span class="help is-danger" \r\n                                                *ngIf="ctrl.dato.controls.insumos.controls[i].controls.cantidad.hasError(\'required\')">Este campo es requerido.</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </article>\r\n                        </div>\r\n                    </div>\r\n\r\n                </section>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</form>\r\n\r\n<div class="modal" id="guardarMovimiento">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card">\r\n        <header class="modal-card-head">\r\n            <p class="modal-card-title"><i class="fa fa-warning"></i> Alerta</p>\r\n            <button class="delete" (click)="cancelarModal(\'guardarMovimiento\')"></button>\r\n        </header>\r\n        <section class="modal-card-body">\r\n            <div class="content">\r\n                <h1>\xbfEsta seguro de finalizar la entrada?</h1>\r\n                <p>Ya no se podr\xe1 realizar cambios</p>\r\n            </div>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-success" (click)="ctrl.enviar(false, \'almacen/entradas-estandar\'); cancelarModal(\'guardarMovimiento\')">Continuar</a>\r\n            <a class="button" (click)="cancelarModal(\'guardarMovimiento\')">Cancelar</a>\r\n        </footer>\r\n    </div>\r\n</div>\r\n\r\n\r\n<div class="modal" id="borrarInsumo">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card">\r\n        <header class="modal-card-head">\r\n            <p class="modal-card-title"><i class="fa fa-warning"></i> Alerta</p>\r\n            <button class="delete" (click)="cancelarModal(\'borrarInsumo\')"></button>\r\n        </header>\r\n        <section class="modal-card-body">\r\n            <div class="content">\r\n                <h1>\xbfEsta seguro de eliminar el insumo? {{i}}</h1>\r\n                <p>Se borrar\xe1n todos los lotes del insumo que se hayan agregado.</p>\r\n            </div>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-success" (click)="ctrl.quitar_form_array(ctrl.dato.controls.insumos, index_borrar); cancelarModal(\'borrarInsumo\')">Continuar</a>\r\n            <a class="button" (click)="cancelarModal(\'borrarInsumo\')">Cancelar</a>\r\n        </footer>\r\n    </div>\r\n</div>'},"3cmH":function(e,t){e.exports=".item {\r\n    cursor: pointer;\r\n}\r\n.item.seleccionado {\r\n    background: #CCC;\r\n}\r\n.item.seleccionado .icon {\r\n    color:white !important;\r\n}\r\n.item.seleccionado .item-detalle {\r\n    display: inherit;\r\n}\r\n.item .item-detalle {\r\n    display: none;\r\n}\r\n.item.asignado {\r\n    background: #DDD;\r\n    color: #777;\r\n}\r\ntr.filtro td,\r\ntr.filtro th {\r\n    color:#FFF;\r\n    background: #4a4a4a !important;\r\n}\r\n.contenedor-tabla {\r\n    overflow: auto; width:100%; height:99% !important; display:block; position:absolute; left:0; top:0;\r\n}\r\n.contenedor-tabla table { border-radius: 3px; }\r\n@media screen and (max-width: 768px) {\r\n    .contenedor-tabla { position: relative; }\r\n\r\n    .tile.notification { padding:0px !important; }\r\n}"},"3jcS":function(e,t){e.exports='<administrador-central-menu></administrador-central-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%; ">\r\n    <div class="column is-narrow is-hidden-mobile">\r\n        <administrador-central-menu-lateral></administrador-central-menu-lateral>\r\n    </div>\r\n    <div class="column">\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden; margin:20px">\r\n            <div class="top-bar is-primary" [ngClass] = " {\'is-dark\': busquedaActivada, \'is-primary\': !busquedaActivada } ">\r\n                <h1 class="title" *ngIf="!busquedaActivada">\r\n                    <span class="icon is-medium"><i class="fa fa-hand-pointer-o"></i></span> Asignaci\xf3n de proveedores Pedidos Alt.\r\n                </h1>\r\n                <h1 class="title" *ngIf="busquedaActivada">\r\n                    <span class="icon is-medium"><i class="fa fa-search"></i></span> B\xfasqueda \r\n                </h1>\r\n                <a class="button  is-dark" *ngIf="busquedaActivada" style="position:absolute; top:1em; right:1em;" (click)="busquedaActivada=false;searchBox.value=\'\';resultadosBusqueda=[]"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n                <a class="button  is-dark" *ngIf="busquedaActivada" style="position:absolute; top:1em; right:3.5em;" (click)="listarBusqueda(searchBox.value,1)"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                <a class="button  is-primary" *ngIf="!busquedaActivada" style="position:absolute; top:1em; right:1em;" (click)="listar(1)"><span class="icon "><i class="fa fa-refresh"></i></span></a>               \r\n                \r\n                <div class="control is-grouped">\r\n                    <p class="control is-expanded">\r\n                        <input class="input is-medium" type="text" placeholder="Buscar" #searchBox  id="search-box" (keyup)="buscar(searchBox.value)">\r\n                    </p>\r\n                </div>\r\n               \r\n            </div> \r\n            <br>\r\n            <div class="tabs  is-boxed is-centered" style="margin-bottom:0px;">\r\n                <ul>\r\n                  <li [ngClass]="{ \'is-active\': tab== 1 }"><a (click)="cambiarTab(1)"><span class="icon is-small"><i class="fa fa-inbox"></i></span> <span>Nuevos</span></a></li>\r\n                  <li [ngClass]="{ \'is-active\': tab== 2 }"><a (click)="cambiarTab(2)"><span class="icon is-small"><i class="fa fa-check-square-o"></i></span> <span>Asignados</span></a></li>\r\n                </ul>\r\n              </div>\r\n            <div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n        \r\n            <table class="table" style="font-size:0.9em" *ngIf="!cargando">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Folio</th>\r\n                        <th>Descripci\xf3n</th>\r\n                        <th>Unidad M\xe9dica</th>\r\n                        <th>Fecha</th>\r\n                        <th>Claves</th>\r\n                        <th>Cantidad</th>\r\n                        <th>Monto</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody  *ngIf="!busquedaActivada">\r\n                    <tr *ngFor="let item of lista; let i=index">                         \r\n                        \x3c!--<td style="vertical-align: middle;"><a routerLink="/administrador-central/claves-basicas/editar/{{item.id}}">{{ item.nombre }}</a></td>                        --\x3e\r\n                        <th style="vertical-align: middle;"><a routerLink="/administrador-central/asignacion-proveedores-pedidos-alternos/{{item.id}}">\r\n                            {{ item.folio?item.folio:\'S/F\' }}</a>\r\n                        </th>\r\n                        <td style="vertical-align: middle;"><a routerLink="/administrador-central/asignacion-proveedores-pedidos-alternos/{{item.id}}">{{ item.descripcion }}</a></td>                        \r\n                        <td style="vertical-align: middle;"><a routerLink="/administrador-central/asignacion-proveedores-pedidos-alternos/{{item.id}}">{{ item.unidad_medica }}</a></td>                        \r\n                        <td style="vertical-align: middle;"><a [ngClass]="{\'estatus-rojo\':(item.status == \'PS\' && item.expira_en_dias <= 0),\'estatus-amarillo\':(item.status == \'PS\' && (item.expira_en_dias > 0 && item.expira_en_dias <= 5))}" >{{ item.fecha | date:\'y-MM-dd\' }} <span *ngIf="item.status == \'PS\'">({{item.expira_en_dias?item.expira_en_dias:\'hoy\'}})</span></a></td>\r\n                        <td style="text-align:center;vertical-align: middle;">\r\n                            <a routerLink="/administrador-central/asignacion-proveedores-pedidos-alternos/{{item.id}}"> \r\n                                {{ item.total_claves_solicitadas | number }}\r\n                            </a>\r\n                        </td>\r\n                        <td style="text-align:center;vertical-align: middle;">\r\n                            <a routerLink="/administrador-central/asignacion-proveedores-pedidos-alternos/{{item.id}}"> \r\n                                {{ item.total_cantidad_solicitada | number }}\r\n                            </a>\r\n                        </td>\r\n                        <td style="text-align:right;vertical-align: middle;">\r\n                            <a routerLink="/administrador-central/asignacion-proveedores-pedidos-alternos/{{item.id}}">\r\n                                ${{ item.total_monto_solicitado | number:\'1.2-2\' }}\r\n                            </a>\r\n                        </td>\r\n                        \x3c!--\r\n                        <td style="vertical-align: middle;"><a routerLink="/administrador-central/asignacion-proveedores-pedidos-alternos/{{item.id}}"> \r\n                            {{ (item.total_claves_recibidas || 0) | number }} / {{ item.total_claves_solicitadas | number }} [{{(item.total_claves_recibidas/item.total_claves_solicitadas)*100 | number:\'1.0-2\'}}%]\r\n                        </a></td>--\x3e\r\n                        \x3c!--\r\n                        <td style="vertical-align: middle;"><a routerLink="/administrador-central/asignacion-proveedores-pedidos-alternos/{{item.id}}"> \r\n                            {{ (item.total_cantidad_recibida || 0) | number }} / {{ item.total_cantidad_solicitada | number }} [{{(item.total_cantidad_recibida/item.total_cantidad_solicitada)*100 | number:\'1.0-2\'}}%]\r\n                        </a></td>--\x3e\r\n                        \x3c!--<td style="vertical-align: middle;"><a routerLink="/administrador-central/asignacion-proveedores-pedidos-alternos/{{item.id}}">\r\n                            $ {{ (item.total_monto_recibido || 0) | number:\'1.2-2\' }} / $ {{ item.total_monto_solicitado | number:\'1.2-2\' }} [{{(item.total_monto_recibido/item.total_monto_solicitado)*100 | number:\'1.0-2\'}}%]\r\n                        </a></td>--\x3e\r\n                        \x3c!--\r\n                        <td style="vertical-align: middle;" class="has-text-centered">\r\n                            <span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span>\r\n                            <a *ngIf="!item.cargando && item.status == \'BR\'" class="status-rojo" (click)="eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a>\r\n                            <a *ngIf="!item.cargando && item.status == \'PS\' && item.expira_en_dias >= 0" routerLink="/almacen/pedidos/recepcion/{{item.id}}" title="Recibir pedido"><span class="icon"><i class="fa fa-truck"></i></span></a>\r\n                            <span *ngIf="!item.cargando && item.status == \'PS\' && item.expira_en_dias < 0" class="tag is-danger" title="Expirado"><span class="icon"><i class="fa fa-exclamation"></i></span></span>\r\n                            <span *ngIf="!item.cargando && item.status == \'FI\'" class="estatus-verde" title="Finalizado"><span class="icon"><i class="fa fa-check-circle"></i></span></span>\r\n                            <span *ngIf="!item.cargando && item.status == \'EX-CA\'" class="estatus-rojo" title="Expirado - Cancelado"><span class="icon"><i class="fa fa-times-circle"></i></span></span>\r\n                            <span *ngIf="!item.cargando && item.status == \'EX\'" class="estatus-amarillo" title="Expirado"><span class="icon"><i class="fa fa-exclamation-circle"></i></span></span>\r\n                        </td>--\x3e\r\n                    </tr>\r\n                    <tr *ngIf="lista.length == 0">\r\n                        <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n                <tbody *ngIf="busquedaActivada">\r\n                    <tr *ngFor="let item of resultadosBusqueda; let i=index">\r\n                        <th style="vertical-align: middle;"><a routerLink="/administrador-central/asignacion-proveedores-pedidos-alternos/{{item.id}}">\r\n                            {{ item.folio?item.folio:\'S/F\' }}</a>\r\n                        </th>\r\n                        <td style="vertical-align: middle;"><a routerLink="/administrador-central/asignacion-proveedores-pedidos-alternos/{{item.id}}">{{ item.descripcion }}</a></td>                        \r\n                        <td style="vertical-align: middle;"><a routerLink="/administrador-central/asignacion-proveedores-pedidos-alternos/{{item.id}}">{{ item.unidad_medica }}</a></td>                        \r\n                        <td style="vertical-align: middle;"><a [ngClass]="{\'estatus-rojo\':(item.status == \'PS\' && item.expira_en_dias <= 0),\'estatus-amarillo\':(item.status == \'PS\' && (item.expira_en_dias > 0 && item.expira_en_dias <= 5))}" >{{ item.fecha | date:\'y-MM-dd\' }} <span *ngIf="item.status == \'PS\'">({{item.expira_en_dias?item.expira_en_dias:\'hoy\'}})</span></a></td>\r\n                        <td style="text-align:center;vertical-align: middle;">\r\n                            <a routerLink="/administrador-central/asignacion-proveedores-pedidos-alternos/{{item.id}}"> \r\n                                {{ item.total_claves_solicitadas | number }}\r\n                            </a>\r\n                        </td>\r\n                        <td style="text-align:center;vertical-align: middle;">\r\n                            <a routerLink="/administrador-central/asignacion-proveedores-pedidos-alternos/{{item.id}}"> \r\n                                {{ item.total_cantidad_solicitada | number }}\r\n                            </a>\r\n                        </td>\r\n                        <td style="text-align:right;vertical-align: middle;">\r\n                            <a routerLink="/administrador-central/asignacion-proveedores-pedidos-alternos/{{item.id}}">\r\n                                ${{ item.total_monto_solicitado | number:\'1.2-2\' }}\r\n                            </a>\r\n                        </td>\r\n                    </tr>\r\n\r\n                    <tr *ngIf="resultadosBusqueda.length == 0 && busquedaActivada">\r\n                        <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion \r\n                [total]="total" \r\n                [paginasTotales]="paginasTotales" \r\n                [resultadosPorPagina]="resultadosPorPagina" \r\n                [paginaActual]="paginaActual" \r\n                [indicePaginas]="indicePaginas"\r\n                (onSiguiente)="paginaSiguiente()" \r\n                (onAnterior)="paginaAnterior()" \r\n                (onListar)="listar($event)" \r\n                *ngIf="total>0 && total > resultadosPorPagina && !busquedaActivada"></paginacion>\r\n            \x3c!-- Paginaci\xf3n para la b\xfasqueda  --\x3e\r\n            <paginacion \r\n                [total]="totalBusqueda" \r\n                [paginasTotales]="paginasTotalesBusqueda" \r\n                [resultadosPorPagina]="resultadosPorPaginaBusqueda" \r\n                [paginaActual]="paginaActualBusqueda" \r\n                [indicePaginas]="indicePaginasBusqueda"\r\n                (onSiguiente)="paginaSiguienteBusqueda(searchBox.value)" \r\n                (onAnterior)="paginaAnteriorBusqueda(searchBox.value)" \r\n                (onListar)="listarBusqueda(searchBox.value,$event)" \r\n                *ngIf="totalBusqueda > 0 && totalBusqueda > resultadosPorPaginaBusqueda && busquedaActivada"></paginacion>\r\n           \r\n           \r\n            \r\n        </div>\r\n        \r\n    </div>\r\n</div>\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style="text-align:center" ><a  class="button is-danger is-inverted" (click)="ultimaPeticion(); mensajeError.mostrar = false"> <span class="icon"><i class="fa fa-refresh"></i></span> <span>Volver a intentar</span></a></p>        \r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n'},"3qPz":function(e,t){e.exports='<formulario #ctrl URL="entrada-laboratorio" titulo="Entrada  de laboratorio" [dato]="dato"></formulario>\r\n<app-menu-laboratorio [modulo]="\'Entradas de laboratorio\'" [icono]="\'assets/icono-entradas.svg\'" [url]="\'/laboratorio/entradas-laboratorio\'"></app-menu-laboratorio>\r\n<div style="height:50px;"></div>\r\n<form name="form" novalidate [formGroup]="dato" (ngSubmit)="ctrl.enviar()">\r\n    <div class="contenedor columns " style="height:90%">\r\n        <div class="column is-one-third" style="padding:1em;">\r\n            <div style="background: #FFF; border-radius: 1em; ">\r\n                <section class="hero is-primary">\r\n                    <h1 *ngIf="!tieneid || ctrl.dato.get(\'status\').value == \'BR\'" class="title" style="margin:0.5em; ">\r\n                        <span class="icon is-medium">\r\n                            <i class="fa fa-file-text"></i>\r\n                        </span> {{ctrl.moduloTitulo}}\r\n                    </h1>\r\n                    <h1 *ngIf="tieneid && ctrl.dato.get(\'status\').value == \'FI\'" class="title" style="margin:0.5em; ">\r\n                        <span class="icon is-medium">\r\n                            <i class="fa fa-file-text"></i>\r\n                        </span> Folio {{ctrl.id}}\r\n                    </h1>\r\n\r\n\r\n                </section>\r\n                \r\n                <div style="padding: 1em;">\r\n                    <h3 class="title">\r\n                        <i class="fa fa-file"></i>\r\n                         Datos del movimiento\r\n                    </h3>\r\n                    <div >\r\n                        <div class="field">\r\n                            <label class="label">Fecha del movimiento:</label>\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n\r\n\r\n                                <input class="input" [value]="fecha_actual" [(ngModel)]=\'fecha_movimiento\' formControlName="fecha_movimiento" ngui-datetime-picker\r\n                                    [min-date]="MinDate" [max-date]="MaxDate" date-only="true" \r\n                                    [ngClass]="{\'is-disabled\': tieneid && ctrl.dato.get(\'status\').value == \'FI\', \'is-danger\': ctrl.dato.get(\'fecha_movimiento\').hasError(\'required\') && ctrl.dato.get(\'fecha_movimiento\').touched}"\r\n                                    placeholder="YYYY-MM-DD" readonly/>\r\n\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'fecha_movimiento\').hasError(\'required\')">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'fecha_movimiento\').hasError(\'required\') && ctrl.dato.get(\'fecha_movimiento\').touched">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div class="field">\r\n                            <label class="label">Observaciones:</label>\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n                                <textarea class="textarea" type="text" [ngClass]="{\'is-disabled\': tieneid && ctrl.dato.get(\'status\').value == \'FI\', \'is-danger\': ctrl.dato.get(\'observaciones\').hasError(\'required\') && ctrl.dato.get(\'observaciones\').touched}"\r\n                                    placeholder="Observaciones" formControlName="observaciones"></textarea>\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'observaciones\').hasError(\'required\') && ctrl.dato.get(\'observaciones\').touched">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'observaciones\').hasError(\'required\') && ctrl.dato.get(\'observaciones\').touched">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div class="control" *ngIf="mostrarCancelado">\r\n                            \x3c!-- *ngIf --\x3e\r\n                            <div class="field">\r\n                                <div class="b-checkbox control is-expanded  has-icon has-icon-right">\r\n\r\n                                    <input type="checkbox" id="cancelado" class="styled" [checked]="ctrl.dato.get(\'cancelado\').value == \'1\' ? true : false" (change)="ctrl.dato.get(\'cancelado\').patchValue(ctrl.dato.get(\'cancelado\').value == \'1\' ? \'0\' : \'1\')">\r\n                                    <label for="cancelado">  Cancelado\r\n                                    </label>\r\n                                </div>\r\n                            </div>\r\n                            <div class="field">\r\n                                <label class="label">Observaciones de cancelaci\xf3n:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <textarea class="textarea" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'observaciones_cancelacion\').hasError(\'required\') && ctrl.dato.get(\'observaciones_cancelacion\').touched}"\r\n                                        placeholder="Observaciones de cancelacion" formControlName="observaciones_cancelacion"></textarea>\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'observaciones_cancelacion\').hasError(\'required\') && ctrl.dato.get(\'observaciones_cancelacion\').touched">\r\n                                        <i class="fa fa-warning"></i>\r\n                                    </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'observaciones_cancelacion\').hasError(\'required\') && ctrl.dato.get(\'observaciones_cancelacion\').touched">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                    <br>\r\n                    <div>\r\n                        <div class="field">\r\n                            <label class="label">Programa:</label>\r\n                        </div>\x3c!-- SI carga los turnos --\x3e\r\n                        <div class="control is-grouped">\r\n                            <span *ngIf="ctrl.cargando || cargandoProgramas" class="tag is-primary is-medium">Cargando programas. \r\n                                <i class="fa fa-refresh fa-spin" aria-hidden="true"></i>\r\n                            </span>\r\n                            <div  *ngIf="!ctrl.cargando && !cargandoProgramas" class="control is-expanded  has-icon has-icon-right">\r\n                                <select class="select" name="programa" formControlName="programa_id" \r\n                                    [ngClass]="{\'is-disabled\': tieneid && ctrl.dato.get(\'status\').value == \'FI\'}">\r\n                                    <option value="">Seleccione un programa</option>\r\n                                    <option *ngFor="let item of lista_programas" value="{{item.id}}">{{ item.nombre }}</option>\r\n                                </select>\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'programa_id\').hasError(\'required\')">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'programa_id\').hasError(\'required\')">Este campo es requerido.</span>\r\n                                <span class="help is-danger" *ngIf="lista_programas.length == 0"> No se cargaron programas, contacte al administrador.</span>\r\n                            </div>\r\n                            \x3c!-- Bot\xf3n para agregar turnos \r\n                            <div class="control">\r\n                                <a class="button" *ngIf="permisos.indexOf(\'ygwsEwz3cUw4yVMCeaQ9hVMCFXUHri5q\') > -1 && !tieneid" \r\n                                    (click)="abrirModal(\'editar_turnos\')" title="Agregar turno">\r\n                                    <i class="fa fa-plus fa-fw" aria-hidden="true"></i>\r\n                                </a>\r\n                            </div> --\x3e\r\n                        </div>\r\n                    </div>\r\n                    <hr>\r\n                    <div >\r\n                        <nav class="panel" formGroupName="movimiento_metadato">\r\n                            <div class="field">\r\n                                <label class="label">Persona que entrega:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <input class="input" type="text" [ngClass]="{\'is-disabled\': tieneid && ctrl.dato.get(\'status\').value == \'FI\', \'is-danger\': ctrl.dato.get(\'movimiento_metadato\').get(\'persona_recibe\').hasError(\'required\')}"\r\n                                        placeholder="Persona que entrega" formControlName="persona_recibe">\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'persona_recibe\').hasError(\'required\')">\r\n                                        <i class="fa fa-warning"></i>\r\n                                    </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'persona_recibe\').hasError(\'required\')">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n\r\n                        </nav>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \x3c!-- apartado de insumos --\x3e\r\n        <div class="column" style="padding:1em;">\r\n            <div style="background: #FFF; border-radius: 1em; ">\r\n                <section class="hero is-primary">\r\n                    <div class="hero-body">\r\n                        <nav class="level">\r\n                            <div class="level-left"></div>\r\n                            \x3c!-- Right side --\x3e\r\n                            <div class="level-right"> \x3c!-- (click)="ctrl.regresar()" --\x3e\r\n                                <p class="level-item"><a class="button is-primary" routerLink="/laboratorio/entradas-laboratorio">Regresar</a></p>\r\n                                <p class="level-item" *ngIf="tieneid && ctrl.dato.get(\'status\').value == \'FI\'"><a class="button is-primary" routerLink="/laboratorio/entradas-laboratorio/nuevo" *ngIf="!ctrl.busquedaActivada"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;<span>Nueva entrada</span></a></p>\r\n                                <p class="level-item" *ngIf="tieneid && ctrl.dato.get(\'status\').value == \'FI\'"><a *ngIf="tieneid" class="button is-primary" (click)="imprimir()"><span class="icon"><i class="fa fa-print"></i></span></a></p>\r\n                                \x3c!--\r\n                                <p class="level-item" *ngIf="!tieneid">\r\n                                    <button class="button is-primary" type="submit" [ngClass]="{\'is-loading\': ctrl.cargando}" [disabled]="ctrl.dato.invalid"> <span class="icon"><i class="fa fa-floppy-o" aria-hidden="true"></i></span> &nbsp; Guardar</button>\r\n                                </p>\r\n                                --\x3e\r\n                                <p class="level-item" *ngIf="!tieneid || ctrl.dato.get(\'status\').value == \'BR\'">\r\n                                    <button class="button is-primary" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" \r\n                                    (click)="guardar_movimiento()" [disabled]="ctrl.dato.invalid" title="Finalizar entrada de laboratorio">\r\n                                        <span class="icon"><i class="fa fa-floppy-o" aria-hidden="true"></i></span> &nbsp; Finalizar entrada\r\n                                    </button>\r\n                                </p>\r\n                                <p class="level-item" *ngIf="!tieneid">\r\n                                    <button class="button is-primary" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="guardarBorrador();">\r\n                                        <span class="icon"><i class="fa fa-floppy-o" aria-hidden="true"></i></span> &nbsp; Guardar avance\r\n                                        <span id="borrador" (click)="ctrl.enviar(false, \'/laboratorio/entradas-laboratorio/editar\'); tieneid ? ctrl.cargarDatos() : \'\';"></span>\r\n                                    </button>\r\n                                </p>\r\n                                <p class="level-item" *ngIf="ctrl.dato.get(\'status\').value == \'BR\'">\r\n                                    <button class="button is-primary" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="actualizarDatos();">\r\n                                        <span class="icon"><i class="fa fa-floppy-o" aria-hidden="true"></i></span> &nbsp; Guardar avance\r\n                                    </button>\r\n                                </p>\r\n                                <p class="level-item" *ngIf="tieneid"><a class="button is-primary" id="actualizar" title="Actualizar" (click)="ctrl.cargarDatos();"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n                                <p class="level-item" *ngIf="!tieneid">\r\n                                    <a class="button is-primary" title="Actualizar" (click)="cargarCatalogo(\'programa\');">\r\n                                        <span class="icon "><i class="fa fa-refresh"></i>\r\n                                        </span>\r\n                                    </a>\r\n                                </p>\r\n                                <p class="level-item">&nbsp;</p>\r\n                            </div>\r\n                        </nav>\r\n                        <div class="container is-fluid">\r\n                            <h1 class="title">\r\n                                <span *ngIf="!ctrl.cargando || !cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                <span *ngIf="ctrl.cargando || cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>\r\n                                Insumos de laboratorio\r\n                            </h1>\r\n\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>                    &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n                <section class="section">\r\n\r\n                    <div class="field has-addons has-addons-centered" *ngIf="!tieneid || ctrl.dato.get(\'status\').value == \'BR\'">\r\n\r\n\x3c!-- ******************************************* AUTOCOMPLETE ********************************************* \r\n                        <p class="control">\r\n                            <input ngui-auto-complete [source]="insumos_term" [list-formatter]="autocompleListFormatter" id="buscarInsumo" value-property-name="clave"\r\n                                display-property-name="nombre" path-to-data="" loading-text="Cargando..." no-match-found-text="No hay resultados."\r\n                                (valueChanged)="select_insumo_autocomplete($event)" min-chars="1" class="input is-success is-medium"\r\n                                type="text" placeholder="Escanea el codigo de barra, o empieza escribir el nombre del producto" >\r\n\r\n                        </p>\r\n******************************************* AUTOCOMPLETE ********************************************* --\x3e\r\n\r\n                        \x3c!-- *****************     INPUT DE BUSQUEDA DE INSUMO     ****************** --\x3e    \r\n                        <div class="control is-grouped">\r\n                            <div class="control is-expanded">\r\n                                <input \r\n                                    (keyup.enter)="buscarInsumo.value != \'\' ?  enviarAutocomplete(buscarInsumo.value) : buscarInsumo.value = \'\'" \r\n                                    id="buscarInsumo"\r\n                                    name="buscarInsumo"\r\n                                    #buscarInsumo\r\n                                    class="input is-success is-medium"\r\n                                    type="text"\r\n                                    placeholder="Escriba la clave o el nombre del insumo y presione la tecla ENTER"/>\r\n                            </div>\r\n                            <div class="control">\r\n                                <a class="button is-success is-medium" title="Buscar insumo" (click)="buscarInsumo.value != \'\' ?  enviarAutocomplete(buscarInsumo.value) : buscarInsumo.value = \'\'">\r\n                                    <i class="fa fa-search" aria-hidden="true"></i> &nbsp; Buscar\r\n                                </a>\r\n                            </div>\r\n                            <div class="control" *ngIf="buscarInsumo.value != \'\'">\r\n                                <a class="button is-info is-medium" title="Borrar texto" (click)="res_busq_insumos=[]; buscarInsumo.value=\'\';">\r\n                                    <i class="fa fa-times" aria-hidden="true"></i>\r\n                                </a>\r\n                            </div>\r\n                        </div>\r\n                        <div class="is-fullwidth has-text-centered" *ngIf="cargando" style="height:100px;">\r\n                            <br>\r\n                            <span class="tag is-primary is-large">\r\n                                <span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span>\r\n                            </span>\r\n                        </div>\r\n                        \x3c!-- *****************     RESULTADOS DE BUSQUEDA DE INSUMO     ****************** --\x3e\r\n                        <div *ngIf="res_busq_insumos.length > 0 && !cargando" style="height: 200px;">\r\n                            <div *ngIf="res_busq_insumos.length > 0 && !cargando" style="overflow: scroll; overflow-x: hidden; height: 90%;">\r\n                                <div class="content" style="z-index: 1;" *ngFor="let item_insumo of res_busq_insumos; let c = index">\r\n                                    <div class="card" (click)="select_insumo_autocomplete(item_insumo)" style="background: rgba(242,248,253, 0.8)">\r\n                                        <div class="card-content">\r\n                                            <div class="media">          \r\n                                                <div class="media-content">\r\n                                                    <p class="title is-4">{{item_insumo.descripcion}}</p>\r\n                                                    <p class="subtitle is-6">\r\n                                                        <strong>Clave: </strong> {{item_insumo.clave}}\r\n                                                        <label class="tag is-success" *ngIf="item_insumo.es_causes == 1"><strong>Cause </strong></label>\r\n                                                        <label class="tag" *ngIf="item_insumo.es_causes == 0" style="background: #B8FB7E; border-color: #B8FB7E; color: rgba(0,0,0,0.7);" ><strong>No Cause </strong> </label>\r\n                                                        <label class="tag is-warning" *ngIf="item_insumo.es_unidosis == 1"><strong>Unidosis</strong> </label>\r\n                                                    </p>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <hr> \x3c!-- L\xednea de division --\x3e\r\n\r\n                    <div *ngIf="!llenando_formulario" formArrayName="insumos" style="overflow: scroll; overflow-x: hidden; height: 550px;">\r\n                        <div class="box" *ngFor="let item of ctrl.dato.controls.insumos.controls; let i=index" [ngStyle]="{\'background\': i%2 == 0 ? \'rgba(230, 230, 232, 0.44)\' : \'\'}">\r\n                            <article class="media" [formGroupName]="i">\r\n                                <div class="media-content">\r\n                                    <div class="content">\r\n                                        <span style="float:right; padding-left: 15px;" >\r\n                                            <a *ngIf="!tieneid || ctrl.dato.get(\'status\').value == \'BR\'" class="button is-danger" title="Quitar este elemento de la lista" (click)="abrirModal(\'borrarInsumo\', i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a>\r\n                                        </span>\r\n                                        <a *ngIf="!tieneid || ctrl.dato.get(\'status\').value == \'BR\'" class="button is-success" \r\n                                            [ngClass]="{\'is-disabled\': ctrl.dato.controls.insumos.invalid}" \r\n                                            title="Agregar m\xe1s insumos de esta clave" style="float:right" \r\n                                            (click)="select_insumo_autocomplete(item.value);">\r\n                                            <span class="icon"><i class="fa fa-plus-circle" aria-hidden="true"></i></span>\r\n                                        </a>\r\n                                        <p>\r\n                                            <strong>\r\n                                                <span style="color:cornflowerblue">\r\n                                                    Clave: {{ ctrl.dato.controls.insumos.controls[i].controls.clave.value }} \r\n                                                </span>\r\n                                                Nombre: {{ctrl.dato.controls.insumos.controls[i].controls.descripcion.value}}\r\n                                            \r\n                                                <label class="tag is-success" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_causes.value == 1"><strong>Cause </strong></label>\r\n                                                <label class="tag is-success" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_causes.value == 0"><strong>No Cause </strong> </label>                                           \r\n                                                                                            \r\n                                                <label class="tag is-warning" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_unidosis.value == 1"><strong>Unidosis</strong> </label>\r\n                                            </strong>\r\n                                            <br> {{ctrl.dato.controls.insumos.controls[i].controls.descripcion.value}}\r\n                                        </p>\r\n                                    </div>\r\n                                   <section *ngIf="tieneid && ctrl.dato.get(\'status\').value == \'FI\' && estoymodificando == false">\r\n                                        <table *ngIf="tieneid && ctrl.dato.get(\'status\').value == \'FI\'" class="table is-narrow is-bordered is-striped">\r\n                                            <thead>\r\n                                                <tr>\r\n                                                    <th>Lote</th>\r\n                                                    <th>Caducidad</th>\r\n                                                    <th>Codigo de barras</th>\r\n                                                    \x3c!-- <th *ngIf="!tieneid || ctrl.dato.get(\'status\').value == \'BR\'">Existencia</th> --\x3e\r\n                                                    <th>Cantidad</th>\r\n                                                    \x3c!-- <th *ngIf="!tieneid || ctrl.dato.get(\'status\').value == \'BR\'"></th> --\x3e\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody formArrayName="lotes">\r\n                                                <tr *ngFor="let val of ctrl.dato.controls.insumos.controls[i].controls.lotes.controls;  let i2 = index;">\r\n                                                    <td>{{val.value.lote}}</td>\r\n                                                    <td>{{val.value.fecha_caducidad}}</td>\r\n                                                    <td>{{val.value.codigo_barras}}</td>\r\n                                                    \x3c!-- <td *ngIf="!tieneid">{{val.value.existencia}}</td> --\x3e\r\n                                                    <td [formGroupName]="i2">\r\n                                                        {{val.value.cantidad}}\r\n                                                    </td>\r\n                                                    \x3c!-- <td *ngIf="!tieneid">\r\n                                                        <a class="is-danger" title="Quitar este lote" (click)="quitar_lote_insumo(i, val.value, i2)">\r\n                                                            <span class="icon">\r\n                                                                <i class="fa fa-trash-o"></i>\r\n                                                            </span>\r\n                                                        </a>\r\n                                                    </td> --\x3e\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </table>\r\n                                    </section>\r\n                                    \x3c!-- || ctrl.dato.get(\'status\').value == \'BR\' --\x3e\r\n                                    <div *ngIf="!tieneid || ctrl.dato.get(\'status\').value == \'BR\'"  class="level-left">\r\n                                        <div class="columns is-flex-desktop" style="width: 100%">\r\n                                            <div class="column is-3">\r\n                                                <p class="control is-expanded">\r\n                                                    <label class="label">Lote:</label>\r\n                                                    <input type="text" class="input" formControlName="lote"\r\n                                                    [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.lote.hasError(\'required\')}">\r\n                                                </p>\r\n                                                <span class="help is-danger" \r\n                                                *ngIf="ctrl.dato.controls.insumos.controls[i].controls.lote.hasError(\'required\')">Este campo es requerido.</span>\r\n                                            </div>                       \r\n                                            <div class="column is-4">\r\n                                                <p class="control is-expanded">\r\n                                                    <label class="label">Caducidad:</label>\r\n\x3c!--\r\n                                                        <input class="input" type="date" [textMask]="{mask:mask, keepCharPositions: true, pipe: autoCorrectedDatePipe}"\r\n                                                            formControlName="fecha_caducidad" ngui-datetime-picker (blur)="validar_fecha(ctrl.dato.controls.insumos.controls[i].controls.fecha_caducidad.value)"\r\n                                                            [min-date]="MinDateCaducidad" date-only="true" placeholder="YYYY-MM-DD"\r\n                                                            [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.fecha_caducidad.hasError(\'required\') \r\n                                                            && ctrl.dato.controls.insumos.controls[i].controls.fecha_caducidad.touched}">\r\n--\x3e\r\n                                                    <input class="input" formControlName="fecha_caducidad" (blur)="validar_fecha(ctrl.dato.controls.insumos.controls[i].controls.fecha_caducidad.value, i)"\r\n                                                        min="MinDateCaducidad" date-only="true" \r\n                                                        [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.fecha_caducidad.hasError(\'required\')}"\r\n                                                        placeholder="YYYY-MM-DD" [textMask]="{mask:mask, keepCharPositions: true, pipe: autoCorrectedDatePipe}"/>\r\n                                                </p>\r\n                                                <span class="help is-danger" \r\n                                                *ngIf="ctrl.dato.controls.insumos.controls[i].controls.fecha_caducidad.hasError(\'required\')">Este campo es requerido.</span>\r\n                                            </div>                          \r\n                                            <div class="column is-3">\r\n                                                <p class="control is-expanded">\r\n                                                    <label class="label">Codigo de barras:</label>\r\n                                                    <input type="text" class="input" formControlName="codigo_barras">\r\n                                                </p>\r\n                                            </div>    \r\n                                            <div class="column is-2">                                                \r\n                                                <p class="control is-expanded">\r\n                                                    <label class="label">Cantidad:</label>\r\n                                                    <input type="number" class="input" formControlName="cantidad" (keypress)="quitar_punto($event)"\r\n                                                    [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.cantidad.hasError(\'required\')}">\r\n                                                </p>\r\n                                                <span class="help is-danger" \r\n                                                *ngIf="ctrl.dato.controls.insumos.controls[i].controls.cantidad.hasError(\'required\')">Este campo es requerido.</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </article>\r\n                        </div>\r\n                    </div>\r\n\r\n                </section>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</form>\r\n\r\n<div class="modal" id="guardarMovimiento">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card">\r\n        <header class="modal-card-head">\r\n            <p class="modal-card-title"><i class="fa fa-warning"></i> Alerta</p>\r\n            <button class="delete" (click)="cancelarModal(\'guardarMovimiento\')"></button>\r\n        </header>\r\n        <section class="modal-card-body">\r\n            <div class="content">\r\n                <h1>\xbfEsta seguro de finalizar la entrada?</h1>\r\n                <p>Ya no se podr\xe1 realizar cambios</p>\r\n            </div>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-success" (click)="ctrl.enviar(false, \'laboratorio/entradas-laboratorio\'); cancelarModal(\'guardarMovimiento\')">Continuar</a>\r\n            <a class="button" (click)="cancelarModal(\'guardarMovimiento\')">Cancelar</a>\r\n        </footer>\r\n    </div>\r\n</div>\r\n\r\n\r\n<div class="modal" id="borrarInsumo">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card">\r\n        <header class="modal-card-head">\r\n            <p class="modal-card-title"><i class="fa fa-warning"></i> Alerta</p>\r\n            <button class="delete" (click)="cancelarModal(\'borrarInsumo\')"></button>\r\n        </header>\r\n        <section class="modal-card-body">\r\n            <div class="content">\r\n                <h1>\xbfEsta seguro de eliminar el insumo? {{i}}</h1>\r\n                <p>Se borrar\xe1n todos los lotes del insumo que se hayan agregado.</p>\r\n            </div>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-success" (click)="ctrl.quitar_form_array(ctrl.dato.controls.insumos, index_borrar); cancelarModal(\'borrarInsumo\')">Continuar</a>\r\n            <a class="button" (click)="cancelarModal(\'borrarInsumo\')">Cancelar</a>\r\n        </footer>\r\n    </div>\r\n</div>'},"3und":function(e,t){e.exports='<section  class="top-nav hero is-primary">\r\n            \r\n    <nav class="nav">\r\n        <a title="Catalogo" class="nav-item pull-left nav-hub-active"  routerLink="\'/catalogos-parametros\'" routerLinkActive="is-active" >\r\n            \r\n            <img src="assets/hub-catalogos-params.svg" alt="icono">\r\n        \r\n        </a>\r\n        <div class="nav-left">\r\n            <a class="nav-item" routerLink="\'/catalogos-parametros\'" >\r\n            \x3c!-- <img src="{{ icono }}" alt="icono">--\x3e\r\n                <h1 class="title">&nbsp;Cat\xe1logos y par\xe1metros del sistema</h1>                     \r\n            </a>\r\n        </div>\r\n        <a class="nav-item"  (click)="hub.toggle()">\r\n            <span class="icon">\r\n                <i class="fa fa-th"></i>\r\n            </span>\r\n        </a>\r\n        <a class="nav-item is-hidden-mobile" (click)="perfil.toggle()">                    \r\n            <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n            &nbsp;\r\n            <span>{{ usuario.nombre }} {{ usuario.apellidos }}</span>\r\n        </a>\r\n        <a class="nav-item is-hidden-tablet" (click)="perfil.toggle()">\r\n            \r\n            <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n        </a>        \r\n    </nav>\r\n</section>\r\n\r\n<app-hub #hub></app-hub>\r\n<app-perfil #perfil></app-perfil>'},"4A06":function(e,t){e.exports='\r\n    <p class="control" >\r\n        <a class="button is-primary tooltip" (click)="ctrl.regresar()">\r\n            <span class="icon ">\r\n                <i class="fa fa-arrow-left"> </i>\r\n            </span>\r\n            <span class="tooltiptext">Regresar</span>\r\n        </a>\r\n    </p>\r\n    \r\n    <p class="control" *ngIf="ctrl.id">\r\n        <a class="button is-primary tooltip"  (click)="ctrl.cargarDatos()" id="cargar_datos_actualizar">\r\n            <span class="icon ">\r\n                <i class="fa fa-refresh"></i>\r\n            </span>\r\n            <span class="tooltiptext">Actualizar</span>\r\n        </a>\r\n    </p>\r\n\r\n    <p class="control" *ngIf="ctrl.id">\r\n        <a  class="button is-primary tooltip"  routerLink="{{url_nuevo}}">\r\n            <span class="icon ">\r\n                <i class="fa fa-file"></i>\r\n            </span>\r\n            <span class="tooltiptext">Nuevo</span>\r\n        </a>\r\n    </p>\r\n\r\n    <p class="control" *ngIf="ctrl.id">\r\n        <a class="button is-primary tooltip"  (click)="ctrl.imprimir()">\r\n            <span class="icon ">\r\n                <i class="fa fa-print"></i>\r\n            </span>\r\n            <span class="tooltiptext">Imprimir</span>\r\n        </a>\r\n    </p>\r\n\r\n    <p class="control" >\r\n        <button class="button is-primary tooltip" type="submit" [ngClass]="{\'is-loading\': ctrl.cargando}" [disabled]="ctrl.dato.invalid">\r\n            <span class="icon ">\r\n                <i class="fa fa-save"> </i>\r\n            </span>\r\n            <span class="tooltiptext">Guardar</span>\r\n        </button>\r\n\r\n    </p>\r\n\r\n\r\n    <p class="control" *ngIf="ctrl.id">\r\n        <button class="button is-danger tooltip" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="ctrl.eliminar(ctrl.id)">\r\n            <span class="icon ">\r\n                <i class="fa fa-trash"> </i>\r\n            </span>\r\n            <span class="tooltiptext">Eliminar</span>\r\n        </button>        \r\n    </p>\r\n'},"4CBQ":function(e,t){e.exports=""},"4I9T":function(e,t){e.exports=".login-background {\r\n    /*background-color: #00d1b2;*/\r\n    background-color: #f3f3f2;\r\n}"},"4pD7":function(e,t){e.exports='<menu-farmacia [modulo]="\'Entregas\'" [icono]="\'assets/icono-entregas.svg\'" [url]="\'/almacen/entregas\'"></menu-farmacia>\r\n\r\n\r\n\r\n<div class="is-fullwidth has-text-centered" style="padding-top:70px;" *ngIf="cargando">\r\n  <br>\r\n  <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n  <br>\r\n  <br>\r\n</div>\r\n\r\n<div style="position:relative; padding-top:70px; margin-left: 1.5%; display:block; width:97%; height:100% !important;" *ngIf="pedido">    \r\n  <div class="tile is-ancestor is-vertical" style="height:100% !important; max-height:100% !important;">\r\n    <div class="tile is-parent is-12 ">\r\n      <div class="tile is-child notification is-dark">\r\n        \r\n        <div class="columns">\r\n          <div class="column" >\r\n            <div style="padding:1em;">Pedido no. <strong style="color:#FFF;">{{ id }}</strong> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Lotes: {{ lotesSurtidos.length  }} / {{ pedido.lista.length }}</div>\r\n          </div>\r\n          <div class="column is-4" style="text-align:center; ">\r\n            <div style="margin:1em;">\r\n            <a  class="button is-primary" style="width:45%; margin-right:5%;" (click)="imprimir()"> <span class="icon"><i class="fa fa-print"></i></span> <span>Imprimir</span></a>\r\n            <a  class="button is-white"  style="width:45%"  routerLink="/almacen/entregas/"> Regresar</a>\r\n            </div>\r\n          </div>\r\n        </div>       \r\n      </div>\r\n    </div>\r\n    <div class="tile">\r\n      <div class="tile is-parent ">\r\n        <div class="tile is-child notification is-white" >\r\n          <div class="contenedor-tabla" >\r\n                      \r\n            <table class="table is-unselectable" *ngIf="!cargando" style="font-size: 0.8em; ">\r\n              <thead>\r\n                  <tr  [ngClass]="{ \'filtro\': pedido.filtro.activo}">\r\n                    <th style="width:41px;vertical-align: middle;" class="has-text-centered" >Lote</th>\r\n                    <th>\r\n                      <p class="control is-expanded">\r\n                        <input type="hidden" #searchBoxDescripcionClavePrevia >\r\n                        <input class="input is-small" type="text" placeholder="Clave o Gen\xe9rico" #searchBoxDescripcionClave id="search-box-descripcion-clave-{{indexPedido}}" (keyup)="buscar($event,searchBoxDescripcionClave,searchBoxDescripcionClavePrevia,[{ input: searchBoxDescripcionClave, campos: [\'clave\',\'generico_nombre\',\'informacion.concentracion\',\'informacion.presentacion\']}])">\r\n                      </p>\r\n                    </th>  \r\n                    \r\n                    <th style="width:78px !important;text-align: center; vertical-align: middle;"><abbr title="Cantidad">Cant.</abbr></th>\r\n                    <th style="width:78px !important;text-align: center; vertical-align: middle;"><abbr title="Surtido">Surt.</abbr></th>\r\n                    <th  style="width:21px !important; text-align: center; vertical-align: middle;">Surtido</th>\r\n                  </tr>\r\n              </thead>\r\n              <tbody *ngIf="!pedido.filtro.activo">\r\n\r\n                <tr class="item" *ngFor="let item of pedido.paginacion.lista; let i = index;" (click)="seleccionarItem(item)" [ngClass]="{ \'seleccionado\': item == itemSeleccionado}">\r\n                  <td class="has-text-centered">{{ item.lote }}</td>\r\n                  <td >\r\n                    <small >{{ item.clave }} <br></small>\r\n                    <b>{{ item.generico_nombre }}</b> <small *ngIf="(item.tipo == \'ME\' && item.informacion)"><b>{{ item.informacion.concentracion }}</b></small><br>\r\n                    <div class="item-detalle">\r\n                      <div   *ngIf="(item.tipo == \'ME\' && item.informacion)" style="line-height:1em;">\r\n                        <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                        <small><i>{{ item.informacion.contenido }} </i></small>\r\n                      </div>\r\n                      <div   *ngIf="item.tipo != \'ME\'" style="line-height:1em;">\r\n                        <small>{{ item.descripcion }}</small>\r\n                      </div>\r\n                    \r\n                      <div  style="padding: 0.5em 0 0.5em 0; ">\r\n                        <span *ngIf="item.es_causes" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">CAUSES</span>\r\n                        <span *ngIf="!item.es_causes" class="tag is-danger" style="font-size: 0.7em !important;">NO CAUSES</span>\r\n                        <span *ngIf="item.es_cuadro_basico" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">Cuadro b\xe1sico</span>\r\n                        \r\n                        <span *ngIf="(item.tipo == \'ME\' && item.informacion)">\r\n                          <span *ngIf="item.informacion.es_controlado" class="tag is-warning" style="font-size: 0.7em">Controlado</span>\r\n                          <span *ngIf="item.informacion.es_surfactante" class="tag is-warning" style="font-size: 0.7em">Surfactante</span>  \r\n                        </span>\r\n                        \r\n                      </div>\r\n                    </div>\r\n                  </td> \r\n                  <td style="width:78px !important; text-align:center;">{{ item.cantidad }}</td>     \r\n                  <th style="width:78px !important; text-align:center;">{{ item.totalStockAsignado || 0 }}</th>                                  \r\n                  <td style="width:21px !important; text-align:center;">\r\n                    <span class="icon" style="color:gray;" *ngIf="item.totalStockAsignado == 0 || item.totalStockAsignado == null"><i class="fa fa-circle-thin"></i></span>\r\n                    <span class="icon" style="color:orange;" *ngIf="item.totalStockAsignado > 0 && item.totalStockAsignado < item.cantidad"><i class="fa fa-minus-circle"></i></span>\r\n                    <span class="icon" style="color:green;" *ngIf="item.totalStockAsignado == item.cantidad"><i class="fa fa-check-circle"></i></span>\r\n                  </td>\r\n                </tr>      \r\n              </tbody>\r\n              <tbody *ngIf="pedido.filtro.activo">\r\n                <tr class="item"  *ngFor="let item of pedido.filtro.paginacion.lista; let i = index;" (click)="seleccionarItem(item)" [ngClass]="{ \'seleccionado\': item == itemSeleccionado}">\r\n                  <td class="has-text-centered">{{ item.lote }}</td>\r\n                  <td >\r\n                    <small >{{ item.clave }} <br></small>\r\n                    <b>{{ item.generico_nombre }}</b> <small *ngIf="(item.tipo == \'ME\' && item.informacion)"><b>{{ item.informacion.concentracion }}</b></small><br>\r\n                    <div class="item-detalle">\r\n                      <div   *ngIf="(item.tipo == \'ME\' && item.informacion)" style="line-height:1em;">\r\n                        <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                        <small><i>{{ item.informacion.contenido }} </i></small>\r\n                      </div>\r\n                      <div   *ngIf="item.tipo != \'ME\'" style="line-height:1em;">\r\n                        <small>{{ item.descripcion }}</small>\r\n                      </div>\r\n                    \r\n                      <div  style="padding: 0.5em 0 0.5em 0; ">\r\n                        <span *ngIf="item.es_causes" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">CAUSES</span>\r\n                        <span *ngIf="!item.es_causes" class="tag is-danger" style="font-size: 0.7em !important;">NO CAUSES</span>\r\n                        <span *ngIf="item.es_cuadro_basico" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">Cuadro b\xe1sico</span>\r\n                        \r\n                        <span *ngIf="(item.tipo == \'ME\' && item.informacion)">\r\n                          <span *ngIf="item.informacion.es_controlado" class="tag is-warning" style="font-size: 0.7em">Controlado</span>\r\n                          <span *ngIf="item.informacion.es_surfactante" class="tag is-warning" style="font-size: 0.7em">Surfactante</span>  \r\n                        </span>\r\n                        \r\n                      </div>\r\n                    </div>\r\n                  </td> \r\n                  <td style="width:78px !important; text-align:center;">{{ item.cantidad }}</td>     \r\n                  <th style="width:78px !important; text-align:center;">0</th>                                  \r\n                  <td style="width:21px !important; text-align:center; color: gray"><span class="icon"><i class="fa fa-minus-circle"></i></span></td>\r\n                </tr>   \r\n              </tbody>              \r\n            </table>\r\n            <paginacion style=" width:100%; height:auto; bottom:0; left:0px; background:#FFF;"\r\n                [total]="pedido.lista.length" \r\n                [paginasTotales]="pedido.paginacion.totalPaginas" \r\n                [resultadosPorPagina]="pedido.paginacion.resultadosPorPagina" \r\n                [paginaActual]="pedido.paginacion.paginaActual" \r\n                [indicePaginas]="pedido.paginacion.indice"\r\n                (onSiguiente)="pedido.paginaSiguiente(); limpiarStock();" \r\n                (onAnterior)="pedido.paginaAnterior(); limpiarStock();" \r\n                (onListar)="pedido.listar($event);limpiarStock();" \r\n                *ngIf="pedido.lista.length > 0 && pedido.lista.length > pedido.paginacion.resultadosPorPagina && !pedido.filtro.activo"></paginacion>\r\n\r\n            <paginacion \r\n                [total]="pedido.filtro.lista.length" \r\n                [paginasTotales]="pedido.filtro.paginacion.totalPaginas" \r\n                [resultadosPorPagina]="pedido.filtro.paginacion.resultadosPorPagina" \r\n                [paginaActual]="pedido.filtro.paginacion.paginaActual" \r\n                [indicePaginas]="pedido.filtro.paginacion.indice"\r\n                (onSiguiente)="pedido.filtro.paginaSiguiente(); limpiarStock();" \r\n                (onAnterior)="pedido.filtro.paginaAnterior();  limpiarStock();" \r\n                (onListar)="pedido.filtro.listar($event); limpiarStock();" \r\n                *ngIf="pedido.filtro.lista.length > 0 && pedido.filtro.lista.length > pedido.filtro.paginacion.resultadosPorPagina && pedido.filtro.activo"></paginacion>\r\n\r\n\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n      <div class="tile is-parent  ">\r\n        <div class="tile is-child  notification is-white">\r\n          <div class="contenedor-tabla">\r\n            <table class="table" *ngIf="!cargando && itemSeleccionado != null" style="font-size: 0.8em;" >\r\n              <thead>\r\n                  <tr style="background: #00d1b2;">\r\n                    <th style="color:#FFF !important;">C\xf3digo</th>\r\n                    <th style="color:#FFF !important;">Marca</th>\r\n                    <th style="color:#FFF !important;">Lote</th>\r\n                    <th style="color:#FFF !important;">Caducidad</th>\r\n                    <th style="color:#FFF !important;"><abbr title="Cantidad">Cant.</abbr></th>  \r\n                    <th></th>              \r\n                  </tr>\r\n              </thead>\r\n              <tfoot *ngIf="itemSeleccionado.totalStockAsignado>0">\r\n                <tr>\r\n                  <th colspan="4" style="text-align:right">\r\n                    <span *ngIf="itemSeleccionado.totalStockAsignado == itemSeleccionado.cantidad"><span class="icon is-small" ><i class="fa fa-check-circle"></i></span> <span>Completo &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span> Total \r\n                  </th>\r\n                  <td style="text-align:center">{{ itemSeleccionado.totalStockAsignado || 0 }} / {{ itemSeleccionado.cantidad }}</td>\r\n                </tr>\r\n              </tfoot>\r\n              <tbody>\r\n                  <tr  class="is-unselectable" *ngFor="let item of itemSeleccionado.listaStockAsignado">\r\n                                      \r\n                    <td>{{ item.codigo_barras}}</td>\r\n                    <td>{{ item.marca.nombre }}</td>\r\n                    <td>{{ item.lote }}</td>\r\n                    <td>{{ item.fecha_caducidad | date:\'dd/MM/y\' }}</td>\r\n                    <td>{{ item.cantidad }}</td>\r\n                    \r\n                  </tr>\r\n                  <tr *ngIf="itemSeleccionado.totalStockAsignado==0">\r\n                    <td colspan="5">No se entreg\xf3 este insumo</td>\r\n                  </tr>\r\n                  \r\n                      \r\n              </tbody>  \r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n  </div>\r\n</div>\r\n  \r\n\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style="text-align:center" ><a  class="button is-danger is-inverted" (click)="ultimaPeticion(); mensajeError.mostrar = false"> <span class="icon"><i class="fa fa-refresh"></i></span> <span>Volver a intentar</span></a></p>        \r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n\r\n\r\n'},"52NK":function(e,t){e.exports='<formulario #ctrl URL="mis-turnos" titulo="Receta" [dato]="dato2"></formulario>\r\n<form name="dato2" novalidate [formGroup]="dato2" (ngSubmit)="ctrl.enviar(false)">\r\n<div class="contenedor columns " style="height:85%">\r\n    <a id="actualizar" (click)="ctrl.cargarDatos();"></a>\r\n    <a id="catalogoTurno" (click)="ctrl.cargarCatalogo(\'tipos_turnos\', \'turnos?bid=1\', \'initMover\'); "></a>\r\n    \x3c!--\r\n        <div *ngIf="!mostrar_pantalla" style="width: 100%; height: 500px; vertical-align: middle; text-align: center;">        \r\n        <a class="button is-warning is-large" style="width: 100%; height: 100%"\r\n        (click)="ctrl.cargarCatalogo(\'tipos_turnos\', \'turnos?bid=1\', \'initMover\'); mostrar_pantalla=true">\r\n            <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> &nbsp; Cargar turnos\r\n        </a>\r\n    </div>\r\n     --\x3e\r\n    <div class="column" style="padding:2em;">\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n            <nav class="level">\r\n                <div class="level-left">\r\n                </div>\r\n                \x3c!-- Right side --\x3e\r\n                <div class="level-right">\r\n                    <p class="level-item">\r\n                        <button class="button is-medium is-success" type="submit">Guardar</button>\r\n                    </p>\r\n                    <p class="level-item">\r\n                        <a class="button is-medium" (click)="ctrl.cargarDatos();"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                    </p>\r\n                    <p class="level-item">&nbsp;</p>\r\n                </div>\r\n            </nav>\r\n            <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n            </div> \r\n            \r\n            <section class="section">\r\n                \x3c!-- formulario --\x3e\r\n                    <div>                 \r\n                        <div class="box" *ngIf="ctrl.tipos_turnos">\r\n                            <article class="media">\r\n                                <div class="media-content">\r\n                                    <div class="content">\r\n                                        <div class="column is-5" style="float:left">\r\n                                            <nav class="panel">\r\n                                                <div class="panel-heading">\r\n                                                    <div class="field">\r\n                                                        <div class="b-checkbox is-info">\r\n                                                            <input id="Movimientos" class="styled" type="checkbox" \r\n                                                            [checked]="ctrl.todosSeleccionados.izquierda"\r\n                                                            (click)="ctrl.seleccionarTodosMover(\'izquierda\', ctrl.tipos_turnos)">\r\n                                                            <label for="Movimientos">\r\n                                                            Turnos disponibles\r\n                                                        </label>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div *ngIf="ctrl.cargando" class="has-text-centered" style="overflow: hidden; overflow-x: hidden; height: 450px;">\r\n                                                    <br>\r\n                                                    <br>\r\n                                                    <span class="tag is-primary is-large"><i class="fa fa-refresh fa-spin"></i> &nbsp; Cargando... </span>\r\n                                                </div>\r\n                                                <div *ngIf="!ctrl.cargando" style="overflow: scroll; overflow-x: hidden; height: 450px;">\r\n                                                    <label class="panel-block" *ngFor="let val of ctrl.tipos_turnos; let i=index">          \r\n                                                        <div class="field">\r\n                                                            <div class="b-checkbox">\r\n                                                                <input id="{{val.id}}" class="styled" type="checkbox" \r\n                                                                [checked]="ctrl.izquierda.indexOf(val) > -1"\r\n                                                                (click)="ctrl.agregarMover(\'izquierda\', ctrl.tipos_turnos, val)">\r\n                                                                <label for="{{val.id}}">\r\n                                                                    {{val.nombre}} \r\n                                                                </label>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </label>\r\n                                                </div>\r\n                                            </nav>\r\n                                        </div>\r\n                                        <div class="column is-2" style="float:left" >\r\n                                            \r\n                                            <p class="control">\r\n                                                <button class="button is-default" type="button" style="width:100%" \r\n                                                [ngClass]="{\'is-success\': ctrl.izquierda.length > 0}" \r\n                                                [disabled]="ctrl.izquierda.length <= 0"\r\n                                                (click)="ctrl.iniciarMover(\'izquierda\', ctrl.dato.controls.clues_turnos.controls, ctrl.tipos_turnos, true)">></button>\r\n                                            </p>\r\n                                            <p class="control">\r\n                                                <button class="button is-default" type="button" style="width:100%" \r\n                                                [ngClass]="{\'is-success\': ctrl.derecha.length > 0}" \r\n                                                [disabled]="ctrl.derecha.length <= 0"\r\n                                                (click)="ctrl.iniciarMover(\'derecha\', ctrl.tipos_turnos, ctrl.dato.controls.clues_turnos.controls, false)"><</button>\r\n                                            </p>\r\n                                            \r\n                                        </div>                        \r\n                                        <div class="column is-5" style="float:left" >\r\n                                            <nav class="panel" formGroupName="clues_turnos">\r\n                                                <div class="panel-heading">\r\n                                                    <div class="field">\r\n                                                        <div class="b-checkbox is-info">\r\n                                                            <input id="MisServicios" class="styled" type="checkbox" \r\n                                                            [checked]="ctrl.todosSeleccionados.derecha"\r\n                                                            (click)="ctrl.seleccionarTodosMover(\'derecha\', ctrl.dato.controls.clues_turnos.controls)">\r\n                                                            <label for="MisServicios">\r\n                                                            Mis turnos\r\n                                                        </label>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div *ngIf="ctrl.cargando" class="has-text-centered" style="overflow: hidden; overflow-x: hidden; height: 450px;">\r\n                                                    <br>\r\n                                                    <br>\r\n                                                    <span class="tag is-primary is-large"><i class="fa fa-refresh fa-spin"></i> &nbsp; Cargando... </span>\r\n                                                </div>\r\n                                                <div *ngIf="!ctrl.cargando" style="overflow: scroll; overflow-x: hidden; height: 450px;">\r\n                                                    <label class="panel-block" *ngFor="let item of ctrl.dato.controls.clues_turnos.controls; let i2=index">          \r\n                                                        <div class="field" [formGroupName]="i2">\r\n                                                            <div class="b-checkbox">\r\n                                                                <input id="{{item.value.id}}" class="styled" type="checkbox"\r\n                                                                [checked]="ctrl.derecha.indexOf(item) > -1"\r\n                                                                (click)="ctrl.agregarMover(\'derecha\', ctrl.dato.controls.clues_turnos.controls, item)">\r\n                                                                <label for="{{item.value.id}}">\r\n                                                                    {{item.value.nombre}} \r\n                                                                </label>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </label>\r\n                                                </div>\r\n                                            </nav>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </article>\r\n                        </div>\r\n                    </div>\r\n                    <a *ngIf="ctrl.tipos_turnos" (click)="ctrl.initMover(ctrl.dato.controls.clues_turnos.controls, ctrl.tipos_turnos);" id="initMover"></a>\r\n            </section>\r\n        </div>\r\n    </div>\r\n</div>          \r\n</form>\r\n'},"55mC":function(e,t){e.exports='<listar #ctrl URL="servidor" titulo="Servidores / Catalogo"></listar>\r\n<app-menu-catalogo></app-menu-catalogo>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%;  padding-top: 1em;">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em">\r\n            <div style="background: #FFF; border-radius: 1em; ">\r\n                    \r\n            \x3c!-- Opciones y busqueda --\x3e\r\n            <tabla-opciones \r\n                #opciones\r\n                [ctrl]="ctrl"\r\n                [nombre]="\'Servidores\'"\r\n                [ruta]="\'servidor\'"\r\n                [ruta_pdf]="\'catalogos-parametros/lista-servidores.js\'"></tabla-opciones>\r\n            \r\n            <div style="overflow:auto; display:block" [style.maxHeight.px]="ctrl.tamano-300">\r\n                <div class="is-fullwidth has-text-centered" *ngIf="opciones.cargandoPdf">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Generando PDF...</span></span>\r\n                    <br>\r\n                    <br>\r\n                </div>\r\n                <table class="table" *ngIf="!ctrl.cargando && !opciones.cargandoPdf">\r\n                    <thead>\r\n                        <tr>\r\n                            <th><abbr title="Usuario ID">ID</abbr></th>                        \r\n                            <th>Nombre</th>\r\n                            <th>Internet</th>\r\n                            <th>Catalogos Actualizados</th>\r\n                            <th>Version</th>\r\n                            <th>Principal</th>\r\n                            <th style="text-align:center;">Opciones</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody *ngIf="!ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.dato; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/catalogos-parametros/servidores/editar/{{item.id}}">{{ item.id }}</a></th>                        \r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/servidores/editar/{{item.id}}">{{ item.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/servidores/editar/{{item.id}}">{{ item.tiene_internet == 1 ? \'Si\' : \'No\'}} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/servidores/editar/{{item.id}}">{{ item.catalogos_actualizados == 1 ? \'Si\' : \'No\'}} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/servidores/editar/{{item.id}}">{{ item.version }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/servidores/editar/{{item.id}}">{{ item.principal == 1 ? \'Si\' : \'No\'}} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n                        <tr *ngIf="ctrl.dato.length == 0">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                    <tbody *ngIf="ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/catalogos-parametros/servidores/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/servidores/editar/{{item.id}}">{{ item.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/servidores/editar/{{item.id}}">{{ item.tiene_internet == 1 ? \'Si\' : \'No\'}} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/servidores/editar/{{item.id}}">{{ item.catalogos_actualizados == 1 ? \'Si\' : \'No\'}} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/servidores/editar/{{item.id}}">{{ item.version }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/servidores/editar/{{item.id}}">{{ item.principal == 1 ? \'Si\' : \'No\'}} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n\r\n                        <tr *ngIf="ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [ctrl]="ctrl"></paginacion>\r\n        </div>\r\n\r\n    </div>\r\n</div>'},"56/c":function(e,t){e.exports='<section  class="top-nav">\r\n            \r\n    <nav class="nav">\r\n        <a title="Inventario" class="nav-item pull-left nav-hub-active"  routerLink="/inventario">\r\n            \r\n            <img src="assets/icono-stock.svg" alt="icono">\r\n        \r\n        </a>\r\n        <div class="nav-left is-hidden-touch">\r\n            \r\n            <span *ngIf="!modulo" class="nav-item">\r\n                <h1 class="title">&nbsp;Inventario de insumos m\xe9dicos</h1>\r\n            </span>\r\n            <a *ngIf="modulo" class="nav-item" routerLink="{{ url }}" >\r\n            \r\n            \x3c!-- <img src="{{ icono }}" alt="icono">--\x3e\r\n                <h1 class="title">&nbsp;{{ modulo }}</h1>                     \r\n            </a>\r\n        </div>\r\n\r\n        <div class="nav-center"></div>\r\n        <div class="nav-right is-hidden-mobile">\r\n            <span class="unidad-trabajo">\r\n                {{usuario.clues_activa.clues}} <span *ngIf="usuario.almacen_activo"> - {{usuario.almacen_activo.nombre}}</span><br>            \r\n                <span>{{usuario.clues_activa.nombre}}</span>\r\n            </span>\r\n        </div>\r\n\r\n        <a class="nav-item"  (click)="hub.toggle()">\r\n            <span class="icon">\r\n                <i class="fa fa-th"></i>\r\n            </span>\r\n        </a>\r\n\r\n        <a class="nav-item is-hidden-mobile" (click)="perfil.toggle()">                    \r\n            <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n            &nbsp;\r\n            <span>{{ usuario.nombre }} {{ usuario.apellidos }}</span>\r\n        </a>\r\n        <a class="nav-item is-hidden-tablet" (click)="perfil.toggle()">\r\n            \r\n            <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n        </a>\r\n        \r\n        \r\n    </nav>\r\n</section>\r\n\r\n<app-hub #hub></app-hub>\r\n<app-perfil #perfil></app-perfil>'},"57YG":function(e,t){e.exports='<aside class="menu" style="padding-left: 1em; margin-top: -3em">\r\n    <div *ngFor="let item of menuAutorizado">\r\n        <br>\r\n        <p class="menu-label">{{ item.titulo }}</p>\r\n        <ul class="menu-list">\r\n            <li *ngFor="let modulo of item.modulos">\r\n                <a routerLink="{{ modulo.url }}" routerLinkActive="is-active">\r\n                    <span class="icon" ><img src="{{ modulo.icono }}"></span>&nbsp;&nbsp;<span>{{ modulo.titulo }}</span>\r\n                </a>\r\n            </li>    \r\n        </ul>\r\n    </div>\r\n        \r\n</aside>'},"5PmS":function(e,t){e.exports=""},"5bTO":function(e,t){e.exports=""},"5igw":function(e,t){e.exports=".top-bar {\r\n\tpadding: 1em ; \r\n\tfont-size: 1.2em; \r\n\tbackground: #FFF;    \r\n\tcolor: #333;\r\n }\r\n .contenedor-pedido.con-tabs .top-bar {\r\n\tpadding: 0.5em ; \r\n }\r\n .top-bar.is-primary {\r\n\tbackground: #00d1b2;\r\n\tcolor:#FFF\r\n }\r\n .top-bar.is-dark {\r\n\tbackground: #333;\r\n\tcolor:#FFF\r\n }\r\n .contenedor-pedido {\r\n\tbackground: #FFF; border-radius: 1em; overflow: hidden;\r\n }\r\n .contenedor-pedido.con-tabs {\r\n\tborder-top-left-radius: 0px !important;\r\n\tborder-top-right-radius: 0px !important;\r\n }\r\n \r\n "},"5xMp":function(e,t){e.exports='<router-outlet style="height:100% !important;"></router-outlet>\r\n<app-bloquear-pantalla></app-bloquear-pantalla>'},"65v2":function(e,t){e.exports='<formulario #ctrl URL="configuracion-general" titulo="Configuraci\xf3n" [dato]="dato"></formulario>\r\n<app-menu-catalogo></app-menu-catalogo>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns"  style="height:90%;  padding-top: 1em;">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em">\r\n        <div style="background: #FFF; overflow: hidden;">\r\n            \x3c!-- formulario --\x3e\r\n            <form name="form" novalidate [formGroup]="dato" (ngSubmit)="ctrl.enviar();">\r\n                <section class="hero is-primary">\r\n                    <div class="hero-body">\r\n                        <div class="control is-grouped" style="position:absolute; top:8em; right:3em;">\r\n                            <p class="control" >\r\n                                <a class="button is-primary tooltip" (click)="ctrl.regresar()">\r\n                                    <span class="icon ">\r\n                                        <i class="fa fa-arrow-left"> </i>\r\n                                    </span>\r\n                                    <span class="tooltiptext">Regresar</span>\r\n                                </a>\r\n                            </p>\r\n                            \r\n                            <p class="control" *ngIf="ctrl.id">\r\n                                <a class="button is-primary tooltip"  (click)="ctrl.cargarDatos()" id="cargar_datos_actualizar">\r\n                                    <span class="icon ">\r\n                                        <i class="fa fa-refresh"></i>\r\n                                    </span>\r\n                                    <span class="tooltiptext">Actualizar</span>\r\n                                </a>\r\n                            </p>\r\n                        \r\n                            <p class="control" >\r\n                                <button class="button is-primary tooltip" type="submit" [ngClass]="{\'is-loading\': ctrl.cargando}" [disabled]="ctrl.dato.invalid">\r\n                                    <span class="icon ">\r\n                                        <i class="fa fa-save"> </i>\r\n                                    </span>\r\n                                    <span class="tooltiptext">Guardar</span>\r\n                                </button>                        \r\n                            </p>\r\n                        </div>\r\n                        <div class="container is-fluid">\r\n                            <h1 class="title">\r\n                                <span *ngIf="!ctrl.cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                <span *ngIf="ctrl.cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>\r\n                                {{ctrl.moduloTitulo}} Par\xe1metros globales\r\n                            </h1>\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n                </section>\r\n\r\n                <section class="section" style="padding: 2rem 2rem !important; overflow:auto;" [style.height.px]="ctrl.tamano-175" formGroupName="configuracion">\r\n\r\n                   \r\n                    <div class="tabs is-boxed">\r\n                        <ul>\r\n                            <li [ngClass]="{ \'is-active\' : tab == 1}">\r\n                                <a (click)="tab=1">\r\n                                    <span class="icon ">\r\n                                        <i class="fa fa-home"></i>\r\n                                    </span>\r\n                                    <span>General</span>\r\n                                </a>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n\r\n                    <a id="catalogos" (click)="ctrl.cargarCatalogo(\'tipos_personal\', \'tipo-personal\'); "></a>\r\n                    \x3c!-- general --\x3e\r\n                    <div [ngClass]="{ \'is-hidden\': tab != 1}">\r\n                        <div class="columns">\r\n                            <div class="column is-6">\r\n                                <div class="field">\r\n                                    <label class="label">Iva:</label>\r\n                                    <div class="control is-expanded  has-icon has-icon-right">\r\n                                        <input class="input" type="text" placeholder="% iva" formControlName="iva" [ngClass]="{\'is-danger\': ctrl.dato.get(\'configuracion\').get(\'iva\').hasError(\'required\')}">    \r\n                                        <span class="icon is-small" *ngIf="ctrl.dato.get(\'configuracion\').get(\'iva\').hasError(\'required\')">\r\n                                            <i class="fa fa-warning"></i>\r\n                                        </span>\r\n                                        <span class="help is-danger" *ngIf="ctrl.dato.get(\'configuracion\').get(\'iva\').hasError(\'required\')">Este campo es requerido.</span>                               \r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class="column is-6">\r\n                                <div class="field">\r\n                                    <label class="label">Fecha de inicio de operaci\xf3n:</label>\r\n                                    <div class="control is-expanded  has-icon has-icon-right">\r\n                                        <input id="fio"  class="input"   ngui-datetime-picker\r\n                                        [ngClass]="{\'is-danger\': ctrl.dato.get(\'configuracion\').get(\'fio\').hasError(\'required\')}" formControlName="fio"\r\n                                        placeholder="YYYY-MM-DD HH:MM" /> \r\n                                        <span class="icon is-small" *ngIf="ctrl.dato.get(\'configuracion\').get(\'fio\').hasError(\'required\')">\r\n                                            <i class="fa fa-warning"></i>\r\n                                        </span>\r\n                                        <span class="help is-danger" *ngIf="ctrl.dato.get(\'configuracion\').get(\'fio\').hasError(\'required\')">Este campo es requerido.</span>      \r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class="columns">\r\n                            <div class="column is-6">\r\n                                <div class="field">\r\n                                    <label class="label">Seleccione el nombre de personal medico de la lista:</label>\r\n                                    <div class="control is-expanded  has-icon has-icon-right">\r\n                                        <div class="select">\r\n                                            <select class="select" formControlName="personal_medico" [ngClass]="{\'is-danger\': ctrl.dato.get(\'configuracion\').get(\'personal_medico\').hasError(\'required\')}">                                                \r\n                                                <option *ngFor="let item of ctrl.tipos_personal" value="{{item.id}}" >{{item.nombre}}</option>                                                \r\n                                            </select>\r\n                                        </div>\r\n\r\n                                        <span class="icon is-small" *ngIf="ctrl.dato.get(\'configuracion\').get(\'personal_medico\').hasError(\'required\')">\r\n                                            <i class="fa fa-warning"></i>\r\n                                        </span>\r\n                                        <span class="help is-danger" *ngIf="ctrl.dato.get(\'configuracion\').get(\'personal_medico\').hasError(\'required\')">Este campo es requerido.</span>                                        \r\n                                    </div>\r\n                                </div>\r\n                            </div>                            \r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                </section>\r\n            </form>\r\n        </div>\r\n    </div>\r\n</div>'},"6H+q":function(e,t){e.exports='<listar #ctrl URL="tipo-pedido" titulo="Tipo Pedido / Catalogo"></listar>\r\n<app-menu-catalogo></app-menu-catalogo>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%;  padding-top: 1em;">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em">\r\n            <div style="background: #FFF; border-radius: 1em; ">\r\n                    \r\n            \x3c!-- Opciones y busqueda --\x3e\r\n            <tabla-opciones \r\n                #opciones\r\n                [ctrl]="ctrl"\r\n                [nombre]="\'Tipos de pedidos\'"\r\n                [ruta]="\'tipo-pedido\'"\r\n                [ruta_pdf]="\'catalogos-parametros/lista-tipo-pedido.js\'"></tabla-opciones>\r\n            \r\n            <div style="overflow:auto; display:block" [style.maxHeight.px]="ctrl.tamano-300">\r\n                <div class="is-fullwidth has-text-centered" *ngIf="opciones.cargandoPdf">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Generando PDF...</span></span>\r\n                    <br>\r\n                    <br>\r\n                </div>\r\n                <table class="table" *ngIf="!ctrl.cargando && !opciones.cargandoPdf">\r\n                    <thead>\r\n                        <tr>\r\n                            <th><abbr title="Usuario ID">ID</abbr></th>\r\n                            <th>Nombre</th>\r\n                            <th style="text-align:center;">Opciones</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody *ngIf="!ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.dato; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/catalogos-parametros/tipo-pedido/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/tipo-pedido/editar/{{item.id}}">{{ item.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n                        <tr *ngIf="ctrl.dato.length == 0">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                    <tbody *ngIf="ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/catalogos-parametros/tipo-pedido/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/tipo-pedido/editar/{{item.id}}">{{ item.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n\r\n                        <tr *ngIf="ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [ctrl]="ctrl"></paginacion>\r\n\r\n        </div>\r\n\r\n    </div>\r\n</div>'},"6f0v":function(e,t){e.exports='<formulario #ctrl URL="mis-turnos" titulo="Turnos / Configuraci\xf3n" [dato]="dato"></formulario>\r\n<panel-control-menu></panel-control-menu>\r\n<div style="height:50px;"></div>\r\n<form name="dato" novalidate [formGroup]="dato" (ngSubmit)="ctrl.enviar(false)">\r\n<div class="contenedor columns " style="height:85%">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <a id="actualizar" (click)="ctrl.cargarDatos();"></a>\r\n    <a id="catalogos" (click)="ctrl.cargarCatalogo(\'tipos_turnos\', \'turnos?bid=1\', \'initMover\'); "></a>\r\n    <div class="column" style="padding:2em;">\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n            <section class="hero is-primary">\r\n                <div class="hero-body">\r\n                    <nav class="level">\r\n                                <div class="level-left">\r\n                                    <div class="container is-fluid">\r\n                                        <h1 class="title">\r\n                                            <span *ngIf="!ctrl.cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                            <span *ngIf="ctrl.cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>                            \r\n                                            \x3c!-- --\x3e Mis turnos\r\n                                        </h1>\r\n                                        <span style="text-align: right">\xdaltima actualizaci\xf3n: <span *ngIf="!actualizado" class="icon is-small"><i class="fa fa-refresh fa-spin"></i></span>\r\n                                            <strong *ngIf="actualizado" >{{actualizacion | date}}</strong> \r\n                                            Por: <span *ngIf="!actualizado" class="icon is-small"><i class="fa fa-refresh fa-spin"></i></span>\r\n                                            <strong *ngIf="actualizado">{{actualizacion_usuario}} </strong> \r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n                                \x3c!-- Right side --\x3e\r\n                                <div class="level-right">\r\n                                    <p class="level-item"><a class="button is-primary" (click)="ctrl.regresar()">Regresar</a></p>\r\n                                    <p class="level-item">\r\n                                        <button class="button is-primary" type="submit" [ngClass]="{\'is-loading\': ctrl.cargando}" [disabled]="ctrl.dato.invalid">Guardar</button>\r\n                                    </p>\r\n                                    <p class="level-item">\r\n                                        <a class="button  is-primary" (click)="ctrl.cargarDatos();"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                                    </p>\r\n                                    <p class="level-item">&nbsp;</p>\r\n                                </div>\r\n                            </nav>\r\n                    \r\n                </div>\r\n            </section>\r\n            <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n            </div> \r\n            <section class="section">\r\n                \x3c!-- formulario --\x3e\r\n                    <div class="tabs is-boxed">\r\n                        <ul>\r\n                            <li [ngClass]="{ \'is-active\' : tab == 2}">\r\n                                <a (click)="tab=2">\r\n                                    <span class="icon is-small"><i class="fa fa-home"></i></span>\r\n                                    <span>Tipos de turnos</span>\r\n                                </a>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n\r\n                    <div [ngClass]="{ \'is-hidden\': tab != 2}">\r\n                                                    \r\n                        <div class="box" *ngIf="ctrl.tipos_turnos">\r\n                            <article class="media">\r\n                                <div class="media-content">\r\n                                    <div class="content">\r\n                                        <div class="column is-5" style="float:left">\r\n                                            <nav class="panel">\r\n                                                <div class="panel-heading">\r\n                                                    <div class="field">\r\n                                                        <div class="b-checkbox is-info">\r\n                                                            <input id="Movimientos" class="styled" type="checkbox" \r\n                                                            [checked]="ctrl.todosSeleccionados.izquierda"\r\n                                                            (click)="ctrl.seleccionarTodosMover(\'izquierda\', ctrl.tipos_turnos)">\r\n                                                            <label for="Movimientos">\r\n                                                            Turnos disponibles\r\n                                                        </label>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div *ngIf="ctrl.cargando" class="has-text-centered" style="overflow: hidden; overflow-x: hidden; height: 450px;">\r\n                                                    <br>\r\n                                                    <br>\r\n                                                    <span class="tag is-primary is-large"><i class="fa fa-refresh fa-spin"></i> &nbsp; Cargando... </span>\r\n                                                </div>\r\n                                                <div *ngIf="!ctrl.cargando" style="overflow: scroll; overflow-x: hidden; height: 450px;">\r\n                                                    <label class="panel-block" *ngFor="let val of ctrl.tipos_turnos; let i=index">          \r\n                                                        <div class="field">\r\n                                                            <div class="b-checkbox">\r\n                                                                <input id="{{val.id}}" class="styled" type="checkbox" \r\n                                                                [checked]="ctrl.izquierda.indexOf(val) > -1"\r\n                                                                (click)="ctrl.agregarMover(\'izquierda\', ctrl.tipos_turnos, val)">\r\n                                                                <label for="{{val.id}}">\r\n                                                                    {{val.nombre}} \r\n                                                                </label>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </label>\r\n                                                </div>\r\n                                            </nav>\r\n                                        </div>\r\n                                        <div class="column is-2" style="float:left" >\r\n                                            \r\n                                            <p class="control">\r\n                                                <button class="button is-default" type="button" style="width:100%" \r\n                                                [ngClass]="{\'is-success\': ctrl.izquierda.length > 0}" \r\n                                                [disabled]="ctrl.izquierda.length <= 0"\r\n                                                (click)="ctrl.iniciarMover(\'izquierda\', ctrl.dato.controls.clues_turnos.controls, ctrl.tipos_turnos, true)">></button>\r\n                                            </p>\r\n                                            <p class="control">\r\n                                                <button class="button is-default" type="button" style="width:100%" \r\n                                                [ngClass]="{\'is-success\': ctrl.derecha.length > 0}" \r\n                                                [disabled]="ctrl.derecha.length <= 0"\r\n                                                (click)="ctrl.iniciarMover(\'derecha\', ctrl.tipos_turnos, ctrl.dato.controls.clues_turnos.controls, false)"><</button>\r\n                                            </p>\r\n                                            \r\n                                        </div>                        \r\n                                        <div class="column is-5" style="float:left" >\r\n                                            <nav class="panel" formGroupName="clues_turnos">\r\n                                                <div class="panel-heading">\r\n                                                    <div class="field">\r\n                                                        <div class="b-checkbox is-info">\r\n                                                            <input id="MisServicios" class="styled" type="checkbox" \r\n                                                            [checked]="ctrl.todosSeleccionados.derecha"\r\n                                                            (click)="ctrl.seleccionarTodosMover(\'derecha\', ctrl.dato.controls.clues_turnos.controls)">\r\n                                                            <label for="MisServicios">\r\n                                                            Mis turnos\r\n                                                        </label>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div *ngIf="ctrl.cargando" class="has-text-centered" style="overflow: hidden; overflow-x: hidden; height: 450px;">\r\n                                                    <br>\r\n                                                    <br>\r\n                                                    <span class="tag is-primary is-large"><i class="fa fa-refresh fa-spin"></i> &nbsp; Cargando... </span>\r\n                                                </div>\r\n                                                <div *ngIf="!ctrl.cargando" style="overflow: scroll; overflow-x: hidden; height: 450px;">\r\n                                                    <label class="panel-block" *ngFor="let item of ctrl.dato.controls.clues_turnos.controls; let i2=index">          \r\n                                                        <div class="field" [formGroupName]="i2">\r\n                                                            <div class="b-checkbox">\r\n                                                                <input id="{{item.value.id}}" class="styled" type="checkbox"\r\n                                                                [checked]="ctrl.derecha.indexOf(item) > -1"\r\n                                                                (click)="ctrl.agregarMover(\'derecha\', ctrl.dato.controls.clues_turnos.controls, item)">\r\n                                                                <label for="{{item.value.id}}">\r\n                                                                    {{item.value.nombre}} \r\n                                                                </label>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </label>\r\n                                                </div>\r\n                                            </nav>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </article>\r\n                        </div>\r\n                    </div>\r\n                    <a *ngIf="ctrl.tipos_turnos" (click)="ctrl.initMover(ctrl.dato.controls.clues_turnos.controls, ctrl.tipos_turnos);" id="initMover"></a>\r\n            </section>\r\n        </div>\r\n    </div>\r\n</div>          \r\n</form>\r\n'},"6hLl":function(e,t){e.exports='<div class="modal" [ngClass]="{\'is-active\': mostrar}">\r\n  <div class="modal-background" style="background:rgba(0,0,0,0.9)!important;"></div>\r\n  <div class="modal-content">\r\n    <div class="card" style=" border-radius:1em; overflow: hidden">\r\n      <div class="card-image" >\r\n          <figure class="image " style="border-radius: 1em 1em 0em 0em; overflow: hidden;">\r\n              <img src="assets/bg-lockscreen_salud.svg" alt="Image">\r\n          </figure>\r\n          \r\n          <button class="button is-primary is-inverted"  (click)="logout()" style="position:absolute; top:1em; right:1em;"><span class="icon"><i class="fa fa-sign-out"></i></span> <span>Salir</span></button>\r\n      </div>\r\n      <div class="card-content has-text-centered">\r\n          <form name="form" (ngSubmit)="!loading && login()">\r\n            <div class="notification is-danger" *ngIf="mostrarMensaje">\r\n                <a class="delete" (click)="mostrarMensaje = false"></a>\r\n                <b>Error:</b> {{ mensaje }}\r\n            </div>\r\n            <nav class="level">\r\n              <div class="level-item has-text-centered">\r\n                <figure class="image is-128x128" >\r\n                  <img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar">\r\n                  <span class="icon is-large" style="position: absolute; top: 0px; right:0px;"><i class="fa fa-lock"></i></span>\r\n                </figure>\r\n              </div>\r\n            </nav>\r\n            <h1 class="title">{{ usuario.nombre }} {{ usuario.apellidos }}</h1>\r\n            <h2 class="subtitle"><span class="icon"><i class="fa fa-user-circle"></i></span> {{usuario.id}}</h2>\r\n            <p class="control has-icon">\r\n                <input class="input is-medium" [ngClass]="{\'is-danger\': mensaje}" type="password" name="password" id="password" placeholder="Contrase\xf1a" [(ngModel)]="credenciales.password">\r\n                <span class="icon is-small">\r\n                <i class="fa fa-lock"></i>\r\n                </span>\r\n            </p>\r\n            <button class="button is-primary is-medium is-fullwidth" [ngClass]="{\'is-loading\': loading}"><span class="icon"><i class="fa fa-unlock"></i></span><span>Desbloquear</span></button>\r\n          </form>\r\n      </div>\r\n      \r\n    </div>\r\n    \r\n  </div>\r\n</div>'},"6u2E":function(e,t){e.exports='<listar #ctrl URL="mis-almacenes" titulo="Almacenes / Configuraci\xf3n"></listar>\r\n<panel-control-menu></panel-control-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%; ">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding:2em;">\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n            <section class="hero" [ngClass]=" {\'is-dark\': ctrl.busquedaActivada, \'is-primary\': !ctrl.busquedaActivada } ">\r\n\r\n                <div class="hero-body" style="position:relative;">\r\n                    <a class="button  is-dark" *ngIf="ctrl.busquedaActivada" style="position:absolute; top:1em; right:1em;" (click)="ctrl.busquedaActivada=false;searchBox.value=\'\'; ctrl.resultadosBusqueda=[]"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n                    <a class="button  is-dark" *ngIf="ctrl.busquedaActivada" style="position:absolute; top:1em; right:3.5em;" (click)="ctrl.listarBusqueda(searchBox.value,1)"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                    <a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" style="position:absolute; top:1em; right:1em;" (click)="ctrl.listar(1)"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                    <div class="container is-fluid">\r\n\r\n                        <h1 class="title" *ngIf="!ctrl.busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-user"></i></span> almacenes\r\n                        </h1>\r\n                        <h1 class="title" *ngIf="ctrl.busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-search"></i></span> B\xfasqueda\r\n                        </h1>\r\n                        <div class="control is-grouped">\r\n                            <p class="control is-expanded">\r\n                                <input class="input is-medium" type="text" placeholder="Buscar" #searchBox id="search-box" (keyup)="ctrl.buscar(searchBox.value)">\r\n                            </p>\r\n                            <p class="control">\r\n                                <a class="button is-medium is-primary is-inverted " routerLink="/configuracion/almacenes/nuevo">\r\n                                    <span class="icon"><i class="fa fa-plus"></i></span><span>Nuevo</span>\r\n                                </a>\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class="is-fullwidth has-text-centered" *ngIf="ctrl.cargando">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n\r\n            <table class="table" *ngIf="!ctrl.cargando">\r\n                <thead>\r\n                    <tr>\r\n                        <th><abbr title="Usuario ID">ID</abbr></th>                        \r\n                        <th>Nombre</th>\r\n                        <th>Servidor</th>\r\n                        <th>Nivel</th>\r\n                        <th>Tipo</th>\r\n                        <th>Clues</th>\r\n                        <th>Subrogado</th>\r\n                        <th>Unidosis</th>\r\n                        <th style="text-align:center;">Opciones</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody *ngIf="!ctrl.busquedaActivada">\r\n                    <tr *ngFor="let item of ctrl.dato; let i=index">\r\n                        <th style="vertical-align: middle;"><a routerLink="/configuracion/almacenes/editar/{{item.id}}">{{ item.id }}</a></th>                        \r\n                        <td style="vertical-align: middle;"><a routerLink="/configuracion/almacenes/editar/{{item.id}}">{{ item.nombre }} </a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/configuracion/almacenes/editar/{{item.id}}">{{ item.servidor_id }} </a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/configuracion/almacenes/editar/{{item.id}}">{{ item.nivel_almacen == 1 ? \'HACE PEDIDOS AL PROVEEDOR\' : \'HACE PEDIDOS A OTRO ALMACEN DENTRO DE LA CLUES\'}} </a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/configuracion/almacenes/editar/{{item.id}}">{{ item.tipo_almacen }} </a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/configuracion/almacenes/editar/{{item.id}}">{{ item.clues }} </a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/configuracion/almacenes/editar/{{item.id}}">{{ item.subrogado == 0 ? \'No\' : \'Si\'}} </a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/configuracion/almacenes/editar/{{item.id}}">{{ item.unidosis  == 0 ? \'No\' : \'Si\'}} </a></td>\r\n                        <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                    </tr>\r\n                    <tr *ngIf="ctrl.dato.length == 0">\r\n                        <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>\r\n                    </tr>\r\n                </tbody>\r\n                <tbody *ngIf="ctrl.busquedaActivada">\r\n                    <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">\r\n                        <th style="vertical-align: middle;"><a routerLink="/configuracion/almacenes/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                        <td style="vertical-align: middle;"><a routerLink="/configuracion/almacenes/editar/{{item.id}}">{{ item.nombre }} </a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/configuracion/almacenes/editar/{{item.id}}">{{ item.servidor_id }} </a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/configuracion/almacenes/editar/{{item.id}}">{{ item.nivel_almacen == 1 ? \'HACE PEDIDOS AL PROVEEDOR\' : \'HACE PEDIDOS A OTRO ALMACEN DENTRO DE LA CLUES\'}} </a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/configuracion/almacenes/editar/{{item.id}}">{{ item.tipo_almacen }} </a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/configuracion/almacenes/editar/{{item.id}}">{{ item.clues }} </a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/configuracion/almacenes/editar/{{item.id}}">{{ item.subrogado == 0 ? \'No\' : \'Si\'}} </a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/configuracion/almacenes/editar/{{item.id}}">{{ item.unidosis  == 0 ? \'No\' : \'Si\'}} </a></td>\r\n                        <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                    </tr>\r\n\r\n                    <tr *ngIf="ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada">\r\n                        <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [total]="ctrl.total" [paginasTotales]="ctrl.paginasTotales" [resultadosPorPagina]="ctrl.resultadosPorPagina"\r\n                [paginaActual]="ctrl.paginaActual" [indicePaginas]="ctrl.indicePaginas" (onSiguiente)="ctrl.paginaSiguiente()"\r\n                (onAnterior)="ctrl.paginaAnterior()" (onListar)="ctrl.listar($event)" *ngIf="ctrl.total>0 && ctrl.total > ctrl.resultadosPorPagina && !ctrl.busquedaActivada"></paginacion>\r\n            \x3c!-- Paginaci\xf3n para la b\xfasqueda  --\x3e\r\n            <paginacion [total]="ctrl.totalBusqueda" [paginasTotales]="ctrl.paginasTotalesBusqueda" [resultadosPorPagina]="ctrl.resultadosPorPaginaBusqueda"\r\n                [paginaActual]="ctrl.paginaActualBusqueda" [indicePaginas]="ctrl.indicePaginasBusqueda" (onSiguiente)="ctrl.paginaSiguienteBusqueda(searchBox.value)"\r\n                (onAnterior)="ctrl.paginaAnteriorBusqueda(searchBox.value)" (onListar)="ctrl.listarBusqueda(searchBox.value,$event)"\r\n                *ngIf="ctrl.totalBusqueda > 0 && ctrl.totalBusqueda > ctrl.resultadosPorPaginaBusqueda && ctrl.busquedaActivada"></paginacion>\r\n\r\n\r\n\r\n        </div>\r\n\r\n    </div>\r\n</div>'},"79N0":function(e,t){e.exports=".top-nav { position: fixed; width: 100%;top:0px; z-index:99; background: #00d1b2; }\r\n\r\n\r\nnav {\r\n    background-color:#00d1b2;\r\n    color: #FFF !important;\r\n}\r\n\r\n\r\na.nav-hub-active { background:rgba(0,0,0,0.05);}\r\n\r\n\r\na.nav-hub-active:hover { background:rgba(0,0,0,0.1);}\r\n\r\n\r\nnav a { color: #FFF ; color: rgba(255,255,255,0.9)  !important;}\r\n\r\n\r\nnav a:hover { color: #FFF !important;}\r\n\r\n\r\nnav .title  { color:#FFF;}\r\n\r\n\r\nnav a .title { color:#FFF; color: rgba(255,255,255,0.9)  !important;}\r\n\r\n\r\nnav a:hover .title { color:#FFF !important; }"},"8HPL":function(e,t){e.exports=""},"8J4Q":function(e,t){e.exports="tr.lista-entregas{\r\n    background-color: #EFEFEF;\r\n}"},"8Kb3":function(e,t){e.exports=""},"8Lot":function(e,t){e.exports=".top-bar {\r\n    padding: 1em ; \r\n    font-size: 1.2em; \r\n    background: #FFF;    \r\n    color: #333;\r\n}\r\n.contenedor-receta.con-tabs .top-bar {\r\n    padding: 0.5em ; \r\n}\r\n.top-bar.is-primary {\r\n    background: #00d1b2;\r\n    color:#FFF\r\n}\r\n.top-bar.is-dark {\r\n    background: #333;\r\n    color:#FFF\r\n}\r\n.contenedor-receta {\r\n    background: #FFF; border-radius: 1em; overflow: hidden;\r\n}\r\n.contenedor-receta.con-tabs {\r\n    border-top-left-radius: 0px !important;\r\n    border-top-right-radius: 0px !important;\r\n}\r\n"},"8afZ":function(e,t){e.exports=""},"90xC":function(e,t){e.exports='<formulario #ctrl URL="movimientos" titulo="Correcciones" [dato]="dato"></formulario>\r\n<app-menu-inventario [modulo]="\'Correcciones\'" [icono]="\'assets/icono-correcciones.svg\'" [url]="\'/inventario/correcciones\'"></app-menu-inventario>\r\n<div style="height:50px;"></div>\r\n<form name="form" novalidate [formGroup]="dato">\r\n    <div class="contenedor columns " style="height:90%">\r\n        <div class="column is-one-third" style="padding:1em;">\r\n            <div style="background: #FFF; border-radius: 1em; ">\r\n                <section class="hero is-primary">\r\n                    <h1 *ngIf="!tieneid" class="title" style="margin:0.5em; ">\r\n                        <span class="icon is-medium">\r\n                            <i class="fa fa-file-text"></i>\r\n                        </span> {{ctrl.moduloTitulo}}\r\n                    </h1>\r\n                    <h1 *ngIf="tieneid" class="title" style="margin:0.5em; ">\r\n                        <span class="icon is-medium">\r\n                            <i class="fa fa-file-text"></i>\r\n                        </span> Folio {{ctrl.id}}\r\n                    </h1>\r\n\r\n                </section>\r\n                <div style="padding: 1em;">\r\n\r\n                    <h3 class="title">\r\n                        <i class="fa fa-file"></i>\r\n                         Datos del movimiento\r\n                    </h3>\r\n                    <div >\r\n                        <div class="field">\r\n                            <label class="label">Fecha del movimiento:</label>\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n\r\n\r\n                                <input class="input" [value]="fecha_actual" [(ngModel)]=\'fecha_movimiento\' formControlName="fecha_movimiento" ngui-datetime-picker\r\n                                    [min-date]="MinDate" [max-date]="MaxDate" date-only="true" [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.get(\'fecha_movimiento\').hasError(\'required\') && ctrl.dato.get(\'fecha_movimiento\').touched}"\r\n                                    placeholder="YYYY-MM-DD" />\r\n\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'fecha_movimiento\').hasError(\'required\') && ctrl.dato.get(\'fecha_movimiento\').touched">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'fecha_movimiento\').hasError(\'required\') && ctrl.dato.get(\'fecha_movimiento\').touched">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div class="field">\r\n                            <label class="label">Observaciones:</label>\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n                                <textarea class="textarea" type="text" [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.get(\'observaciones\').hasError(\'required\') && ctrl.dato.get(\'observaciones\').touched}"\r\n                                    placeholder="Observaciones" formControlName="observaciones"></textarea>\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'observaciones\').hasError(\'required\') && ctrl.dato.get(\'observaciones\').touched">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'observaciones\').hasError(\'required\') && ctrl.dato.get(\'observaciones\').touched">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div class="control" *ngIf="mostrarCancelado">\r\n                            \x3c!-- *ngIf --\x3e\r\n                            <div class="field">\r\n                                <div class="b-checkbox control is-expanded  has-icon has-icon-right">\r\n\r\n                                    <input type="checkbox" id="cancelado" class="styled" [checked]="ctrl.dato.get(\'cancelado\').value == \'1\' ? true : false" (change)="ctrl.dato.get(\'cancelado\').patchValue(ctrl.dato.get(\'cancelado\').value == \'1\' ? \'0\' : \'1\')">\r\n                                    <label for="cancelado">  Cancelado\r\n                                    </label>\r\n                                </div>\r\n                            </div>\r\n                            <div class="field">\r\n                                <label class="label">Observaciones de cancelaci\xf3n:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <textarea class="textarea" autofocus type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'observaciones_cancelacion\').hasError(\'required\') && ctrl.dato.get(\'observaciones_cancelacion\').touched}"\r\n                                        placeholder="Observaciones de cancelacion" formControlName="observaciones_cancelacion"></textarea>\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'observaciones_cancelacion\').hasError(\'required\') && ctrl.dato.get(\'observaciones_cancelacion\').touched">\r\n                                        <i class="fa fa-warning"></i>\r\n                                    </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'observaciones_cancelacion\').hasError(\'required\') && ctrl.dato.get(\'observaciones_cancelacion\').touched">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                    <a id="actualizar" (click)="ctrl.cargarCatalogo(\'servicios\',\'mis-servicios\');"></a>\r\n                    <hr id="catalogos" (click)="ctrl.cargarCatalogo(\'turnos\', \'mis-turnos\'); "> \r\n\r\n                    <div >\r\n                        <span class="icon is-small" *ngIf="!ctrl.dato.get(\'movimiento_metadato\')">\r\n                            <i class="fa fa-warning"></i>\r\n                        </span>\r\n                        <nav class="panel"  formGroupName="movimiento_metadato" *ngIf="ctrl.dato.get(\'movimiento_metadato\')">\r\n\r\n                            <div class="field">\r\n                                <label class="label">Turno:</label>\r\n                                \x3c!-- NO carga los turnos --\x3e\r\n                                <div class="field" *ngIf="!ctrl.turnos">\r\n                                    <span *ngIf="ctrl.cargando" class="tag is-primary is-medium">Cargando turnos. <i class="fa fa-refresh fa-spin" aria-hidden="true"></i></span>\r\n                                    <span *ngIf="!ctrl.cargando"class="tag is-medium"><a id="actualizar"  *ngIf="!ctrl.cargando" (click)="ctrl.cargarCatalogo(\'turnos\', \'mis-turnos\'); ">No se pudieron cargar los turnos. <i class="fa fa-refresh" aria-hidden="true"></i></a></span>\r\n                                    \r\n                                    <p></p>\r\n                                </div>\r\n                                \x3c!-- SI carga los turnos --\x3e\r\n                                <p  *ngIf="ctrl.turnos" class="control is-expanded  has-icon has-icon-right">\r\n                                    <select class="select" name="turno" formControlName="turno_id" [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.get(\'movimiento_metadato\').get(\'turno_id\').hasError(\'required\') && ctrl.dato.get(\'movimiento_metadato\').get(\'turno_id\').touched}">\r\n                                        <option *ngFor="let item of ctrl.turnos.clues_turnos" value="{{item.id}}" [attr.selected]="ctrl.dato.get(\'movimiento_metadato\').get(\'turno_id\').value == item.id ">{{ item.nombre }}</option>\r\n                                    </select>\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'turno_id\').hasError(\'required\') && ctrl.dato.get(\'movimiento_metadato\').get(\'turno_id\').touched">\r\n                                        <i class="fa fa-warning"></i>\r\n                                    </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'turno_id\').hasError(\'required\') && ctrl.dato.get(\'movimiento_metadato\').get(\'turno_id\').touched">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n                            \x3c!-- SERVICIOS --\x3e\r\n                            <div class="field">\r\n                                <label class="label">Servicio que recibe:</label>\r\n                                \x3c!-- NO carga los SERVICIOS --\x3e\r\n                                <div class="field" *ngIf="!ctrl.servicios">\r\n                                    <span *ngIf="ctrl.cargando" class="tag is-primary is-medium">Cargando servicios. <i class="fa fa-refresh fa-spin" aria-hidden="true"></i></span>\r\n                                    <span *ngIf="!ctrl.cargando"class="tag is-medium">No se pudieron cargar los servicios.</span>\r\n                                    <a id="actualizar" *ngIf="!ctrl.cargando" (click)="ctrl.cargarCatalogo(\'servicios\', \'mis-servicios\'); "><i class="fa fa-refresh is-medium" aria-hidden="true"></i></a>\r\n                                </div>\r\n                                \x3c!-- SI carga los SERVICIOS --\x3e\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <select *ngIf="ctrl.servicios" class="select" name="servicio_id" formControlName="servicio_id" [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.get(\'movimiento_metadato\').get(\'servicio_id\').hasError(\'required\') && ctrl.dato.get(\'movimiento_metadato\').get(\'servicio_id\').touched}">\r\n                                        <option *ngFor="let item of ctrl.servicios.clues_servicios" value="{{item.id}}" [attr.selected]="ctrl.dato.get(\'movimiento_metadato\').get(\'servicio_id\').value == item.id ">{{ item.nombre }}</option>\r\n                                    </select>\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'servicio_id\').hasError(\'required\') && ctrl.dato.get(\'movimiento_metadato\').get(\'servicio_id\').touched">\r\n                                        <i class="fa fa-warning"></i>\r\n                                    </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'servicio_id\').hasError(\'required\') && ctrl.dato.get(\'movimiento_metadato\').get(\'servicio_id\').touched">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n\r\n\r\n                            <div class="field">\r\n                                <label class="label">Persona que recibe:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <input class="input" type="text" [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.get(\'movimiento_metadato\').get(\'persona_recibe\').hasError(\'required\') && ctrl.dato.get(\'movimiento_metadato\').get(\'persona_recibe\').touched}"\r\n                                        placeholder="Persona que recibe" formControlName="persona_recibe">\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'persona_recibe\').hasError(\'required\') && ctrl.dato.get(\'movimiento_metadato\').get(\'persona_recibe\').touched">\r\n                                        <i class="fa fa-warning"></i>\r\n                                    </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'persona_recibe\').hasError(\'required\') && ctrl.dato.get(\'movimiento_metadato\').get(\'persona_recibe\').touched">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n\r\n                        </nav>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \x3c!-- apartado de insumos --\x3e\r\n        <div class="column" style="padding:1em;">\r\n            <div style="background: #FFF; border-radius: 1em; ">\r\n                <section class="hero is-primary">\r\n                    <div class="hero-body">\r\n                        <nav class="level">\r\n                            <div class="level-left"></div>\r\n                            \x3c!-- Right side --\x3e\r\n                            <div class="level-right">\r\n                                <p class="level-item"><a class="button is-primary" (click)="ctrl.regresar()">Regresar</a></p>\r\n                                <p class="level-item" *ngIf="tieneid"><a *ngIf="tieneid" class="button is-primary" (click)="array_servicios = ctrl.servicios; array_turnos = ctrl.turnos; imprimir();"><span class="icon"><i class="fa fa-print"></i></span></a></p>\r\n                                <p class="level-item" *ngIf="!tieneid">\r\n                                        <button class="button is-primary" type="submit" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="guardar_movimiento()" [disabled]="ctrl.dato.invalid"> <span class="icon"><i class="fa fa-floppy-o" aria-hidden="true"></i></span> &nbsp; Guardar</button>\r\n                                </p>\r\n                                <p class="level-item"><a class="button is-primary" title="Actualizar" (click)="ctrl.cargarDatos();"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n                                <p class="level-item">&nbsp;</p>\r\n                            </div>\r\n                        </nav>\r\n                        \r\n                        <div class="container is-fluid">\r\n                            <h1 class="title">\r\n                                <span *ngIf="!ctrl.cargando || !cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                <span *ngIf="ctrl.cargando || cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>                                Insumos\r\n                            </h1>\r\n\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>                    &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n\r\n                <section class="section">\r\n\x3c!-- *******************************************************INSUMOS NEGADOS*****************************************************--\x3e                \r\n                    <div formArrayName="insumos_negados">\r\n                        <div class="box" *ngFor="let item of ctrl.dato.controls.insumos_negados.controls; let i=index" [ngStyle]="{\'background\': i%2 == 0 ? \'rgba(231, 242, 22, 0.4)\' :  \'rgba(231, 242, 22, 0.4)\'}">\r\n                            <article class="media" [formGroupName]="i">\r\n                                <div class="media-content">\r\n                                    <div class="content">\r\n                                       \r\n                                        <p>\r\n                                            <strong>\r\n                                                <span style="color: red"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i></span>\r\n                                            \r\n                                                <span style="color:cornflowerblue">\r\n                                                    Clave: {{ ctrl.dato.controls.insumos_negados.controls[i].controls.clave.value }} \r\n                                                </span>\r\n                                                Nombre: {{ctrl.dato.controls.insumos_negados.controls[i].controls.descripcion.value}}\r\n                                            \r\n                                                <label class="tag is-success" *ngIf="ctrl.dato.controls.insumos_negados.controls[i].controls.es_causes.value == 1"><strong>Cause </strong></label>\r\n                                                <label class="tag is-success" *ngIf="ctrl.dato.controls.insumos_negados.controls[i].controls.es_causes.value == 0"><strong>No Cause </strong> </label>                                           \r\n                                                                                            \r\n                                                <label class="tag is-warning" *ngIf="ctrl.dato.controls.insumos_negados.controls[i].controls.es_unidosis.value == 1\r\n                                                "><strong>Unidosis</strong> </label>\r\n                                            </strong>\r\n                                            <br> {{ctrl.dato.controls.insumos_negados.controls[i].controls.descripcion.value}}\r\n                                        </p>\r\n                                    </div>\r\n                                    <nav class="level is-mobile">\r\n                                        <div class="level-left">\r\n                                            <a class="level-item" >\r\n                                                <div class="field"  *ngIf="ctrl.dato.controls.insumos_negados.controls[i].controls.modo_salida.value == \'N\'">\r\n                                                    \x3c!-- cambiar a formControlName="cantidad_solicitada"  --\x3e\r\n                                                    <label class="label">Cant. solicitada (Normal):</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input *ngIf="!tieneid" style="background:aliceblue" type="text" class="input" formControlName="cantidad_solicitada" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos_negados.controls[i].controls.cantidad_solicitada.hasError(\'required\') && ctrl.dato.controls.insumos_negados.controls[i].controls.cantidad_solicitada.touched}">\r\n                                                        <input *ngIf="tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_solicitada" >\r\n                                                    </p>\r\n                                                </div>\r\n                                                <div class="field" *ngIf="ctrl.dato.controls.insumos_negados.controls[i].controls.modo_salida.value == \'U\'">\r\n                                                    <label class="label" *ngIf="tieneid">Cant. solicitada ({{ctrl.dato.get("insumos_negados").value[i].informacion_ampliada.unidad_medida_nombre}}):</label>\r\n                                                    <label class="label" *ngIf="!tieneid">Cant. solicitada unidosis ({{ctrl.dato.controls.insumos_negados.controls[i].controls.unidad_medida.value}}):</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input *ngIf="!tieneid" style="background:aliceblue" type="text" class="input" formControlName="cantidad_solicitada_unidosis" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos_negados.controls[i].controls.cantidad_solicitada_unidosis.hasError(\'required\') && ctrl.dato.controls.insumos_negados.controls[i].controls.cantidad_solicitada_unidosis.touched}">\r\n                                                        <input *ngIf="tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_solicitada_unidosis" >\r\n                                                    </p>\r\n                                                </div>\r\n                                            </a>\r\n                                        </div>\r\n                                        <div class="level-right">\r\n                                            <a class="level-item" >\r\n                                                <div class="field"  *ngIf="ctrl.dato.controls.insumos_negados.controls[i].controls.modo_salida.value == \'N\'">\r\n                                                    <label class="label" *ngIf="tieneid">Cant. surtida:</label>\r\n                                                    <label class="label" *ngIf="!tieneid">Cant. a surtir:</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input *ngIf="!tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_surtida" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos_negados.controls[i].controls.cantidad_surtida.hasError(\'required\') && ctrl.dato.controls.insumos_negados.controls[i].controls.cantidad_surtida.touched}">\r\n                                                        <input *ngIf="tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_surtida" >\r\n                                                    </p>\r\n                                                </div>\r\n                                                <div class="field"  *ngIf="ctrl.dato.controls.insumos_negados.controls[i].controls.modo_salida.value == \'U\'">\r\n                                                    <label class="label" *ngIf="tieneid">Cant. surtida (unidosis):</label>\r\n                                                    <label class="label" *ngIf="!tieneid">Cant. a surtir (unidosis):</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input *ngIf="!tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_surtida_unidosis" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos_negados.controls[i].controls.cantidad_surtida_unidosis.hasError(\'required\') && ctrl.dato.controls.insumos_negados.controls[i].controls.cantidad_surtida_unidosis.touched}">\r\n                                                        <input *ngIf="tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_surtida_unidosis" >\r\n                                                    </p>\r\n                                                </div>\r\n                                            </a>\r\n\r\n                                        </div>\r\n                                    </nav>\r\n                                </div>\r\n                            </article>\r\n                        </div>\r\n                    </div>\r\n\x3c!-- *************************************************- - -FIN INSUMOS NEGADOS*****************************************************--\x3e                \r\n                    <div style="height:30px;"></div>\r\n\x3c!-- *******************************************************- - INSUMOS - -*****************************************************--\x3e                \r\n                    <div formArrayName="insumos" style="overflow: scroll; overflow-x: hidden; height: 530px;">\r\n                        <div class="box" *ngFor="let item of ctrl.dato.controls.insumos.controls; let i=index" [ngStyle]="{\'background\': i%2 == 0 ? \'rgba(230, 230, 232, 0.44)\' : \'\'}">\r\n                            <article class="media" [formGroupName]="i">\r\n\x3c!-- *******************************************************Insumo incorrecto*****************************************************--\x3e                \r\n                                <div class="media-content">\r\n                                    <div class="content">\r\n                                        <a *ngIf="!tieneid" class="is-danger" title="Quitar este elemento de la lista" style="float:right" (click)="ctrl.quitar_form_array(ctrl.dato.controls.insumos,i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a>\r\n                                        <p>\r\n                                            <strong>\r\n                                                <span style="color:cornflowerblue">\r\n                                                    Clave: {{ ctrl.dato.controls.insumos.controls[i].controls.clave.value }} \r\n                                                </span>\r\n                                                Nombre: {{ctrl.dato.controls.insumos.controls[i].controls.descripcion.value}}\r\n                                            \r\n                                                <label class="tag is-success" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_causes.value == 1"><strong>Cause </strong></label>\r\n                                                <label class="tag is-success" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_causes.value == 0"><strong>No Cause </strong> </label>                                           \r\n                                                                                            \r\n                                                <label class="tag is-warning" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_unidosis.value == 1\r\n                                                "><strong>Unidosis</strong> </label>\r\n\r\n                                                <a class="is-danger" title="Cambiar insumo" style="float:right" (click)="cambiarInsumos(item.value)">\r\n                                                    <span class="icon"><i class="fa fa-exchange"></i></span>\r\n                                                </a>\r\n                                            </strong>\r\n                                            <br> {{ctrl.dato.controls.insumos.controls[i].controls.descripcion.value}}\r\n                                        </p>\r\n                                        <a class="is-danger" title="Ver la lista de lotes de este articulo" style="float:right" (click)="ver_lotes_asignados(i)">\r\n                                            <span class="icon">\r\n                                                <i *ngIf="!mostrar_lote[i]" class="fa fa-plus"></i>\r\n                                                <i *ngIf="mostrar_lote[i]" class="fa fa-minus"></i>\r\n                                            </span>\r\n                                        </a>\r\n                                    </div>\r\n                                    <section *ngIf="mostrar_lote[i]">\r\n                                        <table class="table is-narrow is-bordered is-striped">\r\n                                            <thead>\r\n                                                <tr>\r\n                                                    <th>Lote</th>\r\n                                                    <th>Caducidad</th>\r\n                                                    <th>Codigo de barras</th>\r\n                                                    <th *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'N\'">Existencia</th>\r\n                                                    <th *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'U\'">Existencia Unidosis</th>\r\n                                                    \r\n                                                    <th *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'N\'">Cantidad normal</th>\r\n                                                    <th *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'U\'">Cantidad unidosis</th>\r\n                                                    <th *ngIf="!tieneid"></th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody formArrayName="lotes">\r\n                                                <tr *ngFor="let val of ctrl.dato.controls.insumos.controls[i].controls.lotes.controls;  let i2 = index;">\r\n                                                    <td>{{val.value.lote}}</td>\r\n                                                    <td>{{val.value.fecha_caducidad}}</td>\r\n                                                    <td>{{val.value.codigo_barras}}</td>\r\n                                                    <td *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'N\'">{{val.value.existencia}}</td>\r\n                                                    <td *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'U\'">{{val.value.existencia_unidosis}}</td>\r\n                                                    <td [formGroupName]="i2">\r\n                                                        <input  *ngIf="val.value.modo_salida == \'N\'" class="input has-text-centered" (blur)="validar_cantidad_lote(i, val, i2, modo)" type="number" step="1" min="0" max="{{val.value.existencia}}"\r\n                                                            placeholder="Cantidad" formControlName="cantidad">\r\n                                                        <input  *ngIf="val.value.modo_salida == \'U\'" class="input has-text-centered" (blur)="validar_cantidad_lote(i, val, i2, modo)" type="number" step="1" min="0" max="{{val.value.existencia_unidosis}}"\r\n                                                            placeholder="Cantidad unidosis" formControlName="cantidad"></td>\r\n                                                    <td *ngIf="!tieneid">\r\n                                                        <a class="is-danger" title="Quitar este lote" (click)="quitar_lote_insumo(i, val.value, i2)">\r\n                                                            <span class="icon">\r\n                                                                <i class="fa fa-trash-o"></i>\r\n                                                            </span>\r\n                                                        </a>\r\n                                                    </td>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </table>\r\n                                    </section>\r\n                                    <nav class="level is-mobile">\r\n                                        <div class="level-left">\r\n                                            <a class="level-item" >\r\n                                                \r\n                                                <div class="field"  *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'N\'">\r\n                                                    \x3c!-- <label class="label" *ngIf="tieneid && ctrl.dato.get(\'insumos\').value[i].detalles.informacion_ampliada">Cant. solicitada ({{ctrl.dato.get("insumos").value[i].detalles.informacion_ampliada.presentacion_nombre}}):</label> --\x3e\r\n                                                    \x3c!-- <label class="label" *ngIf="tieneid && !ctrl.dato.get(\'insumos\').value[i].detalles.informacion_ampliada">Cant. solicitada (normal):</label> --\x3e\r\n                                                    <label class="label" *ngIf="!tieneid">Cant. solicitada ({{ctrl.dato.controls.insumos.controls[i].controls.presentacion_nombre.value}}):</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input *ngIf="!tieneid" style="background:aliceblue" type="text" class="input" formControlName="cantidad_solicitada" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.cantidad_solicitada.hasError(\'required\') && ctrl.dato.controls.insumos.controls[i].controls.cantidad_solicitada.touched}">\r\n                                                        \x3c!-- <input *ngIf="tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_solicitada" > --\x3e\r\n                                                    </p>\r\n                                                </div>\r\n                                                <div class="field" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'U\'">\r\n                                                    <label class="label" *ngIf="tieneid && ctrl.dato.get(\'insumos\').value[i].detalles.informacion_ampliada">Cant. solicitada ({{ctrl.dato.get("insumos").value[i].detalles.informacion_ampliada.unidad_medida_nombre}}):</label>\r\n                                                    <label class="label" *ngIf="tieneid && !ctrl.dato.get(\'insumos\').value[i].detalles.informacion_ampliada">Cant. solicitada (Unidosis):</label>\r\n                                                    <label class="label" *ngIf="!tieneid">Cant. solicitada unidosis ({{ctrl.dato.controls.insumos.controls[i].controls.unidad_medida.value}}):</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input *ngIf="!tieneid" style="background:aliceblue" type="text" class="input" formControlName="cantidad_solicitada" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.cantidad_solicitada.hasError(\'required\') && ctrl.dato.controls.insumos.controls[i].controls.cantidad_solicitada.touched}">\r\n                                                        <input *ngIf="tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_solicitada" >\r\n                                                    </p>\r\n                                                </div>\r\n                                            </a>\r\n                                        </div>\r\n                                        <div class="level-right">\r\n                                            <a class="level-item" >\r\n                                                <div class="field"  *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'N\'">\r\n                                                    \x3c!-- <label class="label" *ngIf="tieneid && ctrl.dato.get(\'insumos\').value[i].detalles.informacion_ampliada">Cant. surtida ({{ctrl.dato.get("insumos").value[i].detalles.informacion_ampliada.presentacion_nombre}}):</label> --\x3e\r\n                                                    \x3c!-- <label class="label" *ngIf="tieneid && !ctrl.dato.get(\'insumos\').value[i].detalles.informacion_ampliada">Cant. surtida (Normal):</label> --\x3e\r\n                                                    <label class="label" *ngIf="!tieneid">Cant. a surtir ({{ctrl.dato.controls.insumos.controls[i].controls.presentacion_nombre.value}}):</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input *ngIf="!tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_surtida" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.hasError(\'required\') && ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.touched}">\r\n                                                        <input *ngIf="tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad" >\r\n                                                    </p>\r\n                                                </div>\r\n                                                <div class="field"  *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'U\'">\r\n                                                    <label class="label" *ngIf="tieneid && ctrl.dato.get(\'insumos\').value[i].detalles.informacion_ampliada">Cant. surtida ({{ctrl.dato.get("insumos").value[i].detalles.informacion_ampliada.unidad_medida_nombre}}):</label>\r\n                                                    <label class="label" *ngIf="tieneid && !ctrl.dato.get(\'insumos\').value[i].detalles.informacion_ampliada">Cant. surtida (Unidosis):</label>\r\n                                                    <label class="label" *ngIf="!tieneid">Cant. a surtir unidosis ({{ctrl.dato.controls.insumos.controls[i].controls.unidad_medida.value}}):</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input *ngIf="!tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_surtida" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.hasError(\'required\') && ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.touched}">\r\n                                                        <input *ngIf="tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad" >\r\n                                                    </p>\r\n                                                </div>\r\n                                            </a>\r\n\r\n                                        </div>\r\n                                    </nav>\r\n                                </div>\r\n\x3c!-- *******************************************************Insumo Correcto*****************************************************--\x3e                \r\n                                <div class="media-content" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.lotes_correctos">\r\n                                    <div class="content">\r\n                                        <a *ngIf="!tieneid" class="is-danger" title="Quitar este elemento de la lista" style="float:right"\r\n                                        (click)="ctrl.quitar_form_array(ctrl.dato.controls.insumos,i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a>\r\n                                        <p>\r\n                                            <strong>\r\n                                                <span style="color:cornflowerblue">\r\n                                                Clave: {{ ctrl.dato.controls.insumos.controls[i].controls.clave_correcta.value }} \r\n                                                </span>\r\n                                                Nombre: {{ctrl.dato.controls.insumos.controls[i].controls.descripcion_correcta.value}}\r\n                                            \r\n                                                <label class="tag is-success" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_causes_correcta.value == 1"><strong>Cause </strong></label>\r\n                                                <label class="tag is-success" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_causes_correcta.value == 0"><strong>No Cause </strong> </label>                                           \r\n                                                                                            \r\n                                                <label class="tag is-warning" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_unidosis_correcta.value == 1\r\n                                                "><strong>Unidosis</strong> </label>\r\n\r\n                                            </strong>\r\n                                            <br> {{ctrl.dato.controls.insumos.controls[i].controls.descripcion_correcta.value}}\r\n                                        </p>\r\n                                        <a class="is-danger" title="Ver la lista de lotes de este articulo" style="float:right" (click)="ver_lotes_asignados(i)">\r\n                                            <span class="icon">\r\n                                                <i *ngIf="!mostrar_lote[i]" class="fa fa-plus"></i>\r\n                                                <i *ngIf="mostrar_lote[i]" class="fa fa-minus"></i>\r\n                                            </span>\r\n                                        </a>\r\n                                    </div>\r\n                                    <nav class="level is-mobile">\r\n                                        <div class="level-left">\r\n                                            <a class="level-item" >\r\n                                                \r\n                                                <div class="field"  *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'N\'">\r\n                                                    \x3c!-- <label class="label" *ngIf="tieneid && ctrl.dato.get(\'insumos\').value[i].detalles.informacion_ampliada">Cant. solicitada ({{ctrl.dato.get("insumos").value[i].detalles.informacion_ampliada.presentacion_nombre}}):</label> --\x3e\r\n                                                    \x3c!-- <label class="label" *ngIf="tieneid && !ctrl.dato.get(\'insumos\').value[i].detalles.informacion_ampliada">Cant. solicitada (normal):</label> --\x3e\r\n                                                    <label class="label" *ngIf="!tieneid">Cant. solicitada ({{ctrl.dato.controls.insumos.controls[i].controls.presentacion_nombre.value}}):</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input *ngIf="!tieneid" style="background:aliceblue" type="text" class="input" formControlName="cantidad_solicitada" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.cantidad_solicitada.hasError(\'required\') && ctrl.dato.controls.insumos.controls[i].controls.cantidad_solicitada.touched}">\r\n                                                        \x3c!-- <input *ngIf="tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_solicitada" > --\x3e\r\n                                                    </p>\r\n                                                </div>\r\n                                                <div class="field" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'U\'">\r\n                                                    <label class="label" *ngIf="tieneid && ctrl.dato.get(\'insumos\').value[i].detalles.informacion_ampliada">Cant. solicitada ({{ctrl.dato.get("insumos").value[i].detalles.informacion_ampliada.unidad_medida_nombre}}):</label>\r\n                                                    <label class="label" *ngIf="tieneid && !ctrl.dato.get(\'insumos\').value[i].detalles.informacion_ampliada">Cant. solicitada (Unidosis):</label>\r\n                                                    <label class="label" *ngIf="!tieneid">Cant. solicitada unidosis ({{ctrl.dato.controls.insumos.controls[i].controls.unidad_medida.value}}):</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input *ngIf="!tieneid" style="background:aliceblue" type="text" class="input" formControlName="cantidad_solicitada" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.cantidad_solicitada.hasError(\'required\') && ctrl.dato.controls.insumos.controls[i].controls.cantidad_solicitada.touched}">\r\n                                                        <input *ngIf="tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_solicitada" >\r\n                                                    </p>\r\n                                                </div>\r\n                                            </a>\r\n                                        </div>\r\n                                        <div class="level-right">\r\n                                            <a class="level-item" >\r\n                                                <div class="field"  *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'N\'">\r\n                                                    \x3c!-- <label class="label" *ngIf="tieneid && ctrl.dato.get(\'insumos\').value[i].detalles.informacion_ampliada">Cant. surtida ({{ctrl.dato.get("insumos").value[i].detalles.informacion_ampliada.presentacion_nombre}}):</label> --\x3e\r\n                                                    \x3c!-- <label class="label" *ngIf="tieneid && !ctrl.dato.get(\'insumos\').value[i].detalles.informacion_ampliada">Cant. surtida (Normal):</label> --\x3e\r\n                                                    <label class="label" *ngIf="!tieneid">Cant. a surtir ({{ctrl.dato.controls.insumos.controls[i].controls.presentacion_nombre.value}}):</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input *ngIf="!tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_surtida" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.hasError(\'required\') && ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.touched}">\r\n                                                        <input *ngIf="tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad" >\r\n                                                    </p>\r\n                                                </div>\r\n                                                <div class="field"  *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'U\'">\r\n                                                    <label class="label" *ngIf="tieneid && ctrl.dato.get(\'insumos\').value[i].detalles.informacion_ampliada">Cant. surtida ({{ctrl.dato.get("insumos").value[i].detalles.informacion_ampliada.unidad_medida_nombre}}):</label>\r\n                                                    <label class="label" *ngIf="tieneid && !ctrl.dato.get(\'insumos\').value[i].detalles.informacion_ampliada">Cant. surtida (Unidosis):</label>\r\n                                                    <label class="label" *ngIf="!tieneid">Cant. a surtir unidosis ({{ctrl.dato.controls.insumos.controls[i].controls.unidad_medida.value}}):</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input *ngIf="!tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_surtida" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.hasError(\'required\') && ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.touched}">\r\n                                                        <input *ngIf="tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad" >\r\n                                                    </p>\r\n                                                </div>\r\n                                            </a>\r\n\r\n                                        </div>\r\n                                    </nav>\r\n                                </div>\r\n                            </article>\r\n                        </div>\r\n                    </div>\r\n\x3c!-- *******************************************************- - FIN INSUMOS - -*****************************************************--\x3e\r\n                </section>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</form>\r\n\r\n\r\n<div class="modal" id="verLotes">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card" style="width: 60%;">\r\n        <header class="modal-card-head">\r\n            <p class="modal-card-title" id="tituloModal" style="width: 200px"> </p>\r\n            <button type="button" class="delete" (click)="cancelarModal(\'verLotes\'); modo = \'N\';"></button>\r\n        </header>\r\n        <section class="modal-card-body">\r\n            <div class="columns">\r\n                <div class="column is-two-thirds">\r\n                    <div class="columns">\r\n                        <div class="column is-4">\r\n                            <label class="label" style="font-size: large;float: left;margin-right: 6%;">Modo salida: </label>\r\n                        </div>\r\n                        <div class="b-checkbox is-info is-circular">\r\n                            <div class="column is-auto">\r\n                                <input class="styled" type="radio" id="modo_n" [checked]="modo == \'N\'" (click)="modo = \'N\'" [value]="\'N\'" name="modo">                                    \r\n                                <label for="modo_n">\r\n                                    <span class="tag is-large" [ngClass]="{\'is-success\':modo == \'N\'}">Normal</span>\r\n                                </label>\r\n                            </div>\r\n                            <div *ngIf="es_unidosis == 1" class="column is-auto">\r\n                                <input class="styled" type="radio" id="modo_u" [checked]="modo == \'U\'" (click)="modo = \'U\'" [value]="\'U\'" name="modo">                                    \r\n                                <label for="modo_u">\r\n                                    <span class="tag is-large" [ngClass]="{\'is-success\':modo == \'U\'}">Unidosis</span>\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="column">\r\n                    <div class="field is-horizontal">\r\n                        <label class="label" *ngIf="modo == \'N\'">Cant. solicitada:</label>\r\n                        <label class="label" *ngIf="modo == \'U\'">Cant. solicitada ({{insumo.unidad_medida}}):</label>\r\n                        <input class="input has-text-centered" (keypress)="quitar_punto($event)" (change)="comprobar_cant_solicitada(cantidad_solicitada.value)" type="number" step="1" min="0" \r\n                            placeholder="Cantidad" #cantidad_solicitada id="cantidad_solicitada" \r\n                            name="cantidad_solicitada" (keyup)="comprobar_cant_solicitada(cantidad_solicitada.value)">\r\n                       \x3c!-- <input style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_surtida" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.hasError(\'required\') && ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.touched}"> --\x3e\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <table class="table is-narrow is-bordered is-striped">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Lote</th>\r\n                        <th>Caducidad</th>\r\n                        <th>Codigo de barras</th>\r\n                        <th *ngIf="modo == \'N\'">Existencia</th>\r\n                        <th *ngIf="modo == \'N\'">Cantidad</th>\r\n                        <th *ngIf="modo == \'U\'">Existencia Unidosis ({{insumo.unidad_medida}})</th> \r\n                        <th *ngIf="modo == \'U\'">Cantidad Unidosis ({{insumo.unidad_medida}})</th> \r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor="let item of lotes_insumo;  let i = index;">\r\n                        <td *ngIf="!item.nuevo">{{item.lote}}</td>\r\n                        <td *ngIf="item.nuevo"><input class="input has-text-centered " type="text" placeholder="Lote" [(ngModel)]="item.lote"></td>\r\n                        <td *ngIf="!item.nuevo">{{item.fecha_caducidad}}</td>\r\n                        <td *ngIf="item.nuevo"><input class="input has-text-centered " type="date" placeholder="Fecha de caducidad" [(ngModel)]="item.fecha_caducidad"></td>\r\n                        <td *ngIf="!item.nuevo">{{item.codigo_barras}}</td>\r\n                        <td *ngIf="item.nuevo"><input class="input has-text-centered " type="text" placeholder="Codigo de barras" [(ngModel)]="item.codigo_barras"></td>\r\n                        <td *ngIf="!item.nuevo && modo == \'N\'">{{item.existencia}}</td>\r\n                        <td *ngIf="!item.nuevo && modo == \'U\'">{{item.existencia_unidosis}}</td>\r\n                        <td *ngIf="item.nuevo "></td>\r\n                        <td >\r\n                            <input class="input has-text-centered" type="number" step="1" min="0" (keypress)="quitar_punto($event)"  (keyup)="comprobar_cant_lotes()" (change)="comprobar_cant_lotes()" max="{{item.existencia}}" placeholder="Cantidad" [(ngModel)]="item.cantidad">\r\n                        </td>\r\n                        <td *ngIf="item.nuevo">\r\n                            <a class="delete" (click)=eliminarLote(i)></a>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-dark" *ngIf="modo==\'N\'" (click)="agregarNuevoLote()">Agregar nuevo lote</a>                            \r\n            <a class="button is-success" [ngClass]="{\'is-disabled\':!cant_solicitada_valida || !sum_cant_lotes}" (click)="agregarLoteInsumo(cantidad_solicitada.value)">Aceptar</a>\r\n            <a class="button" (click)="cancelarModal(\'verLotes\'); modo = \'N\';">Cancelar</a>\r\n            <div class="card-footer-item"></div>\r\n            <a *ngIf="!sum_cant_lotes" class="card-footer-item button is-danger" [ngClass]="{\'is-disabled\':!cant_solicitada_valida}" (click)="abrirModal(\'negarExistencia\')"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i>&nbsp;\r\n Negar existencia</a>\r\n        </footer>\r\n    </div>\r\n</div>\r\n\r\n\x3c!-- ******************************** MODAL ACTUALIZAR INSUMO ********************************************* --\x3e\r\n<div class="modal" id="actualizarInsumo">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card" style="width: 90%; height: 80%">\r\n        <header class="modal-card-head">\r\n            <p class="modal-card-title" style="width: 200px"><i class="fa fa-exchange"></i> &nbsp; Cambio de insumo</p>\r\n            <button type="button" class="delete" (click)="cancelarModal(\'actualizarInsumo\'); modo = \'N\';"></button>\r\n        </header>\r\n        <section class="modal-card-body" style=" height: 80%">\r\n            <div class="columns" style="height: 100%">\r\n                <div class="column" style="border: 2px solid lightpink; border-radius: 5px;">\r\n                    <h3 class="title is-2" id="tituloInsumo"></h3>\r\n                    <table class="table is-narrow is-bordered is-striped">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Lote</th>\r\n                                <th>Caducidad</th>\r\n                                <th>Codigo de barras</th>\r\n                                <th *ngIf="modo == \'N\'">Existencia</th>\r\n                                <th *ngIf="modo == \'N\'">Cantidad</th>\r\n                                <th *ngIf="modo == \'U\'">Existencia Unidosis ({{insumo.unidad_medida}})</th> \r\n                                <th *ngIf="modo == \'U\'">Cantidad Unidosis ({{insumo.unidad_medida}})</th> \r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor="let item of lotes_a_cambiar;  let i = index;">\r\n                                <td *ngIf="!item.nuevo">{{item.lote}}</td>\r\n                                <td *ngIf="item.nuevo"><input class="input has-text-centered " type="text" placeholder="Lote" [(ngModel)]="item.lote"></td>\r\n                                <td *ngIf="!item.nuevo">{{item.fecha_caducidad}}</td>\r\n                                <td *ngIf="item.nuevo"><input class="input has-text-centered " type="date" placeholder="Fecha de caducidad" [(ngModel)]="item.fecha_caducidad"></td>\r\n                                <td *ngIf="!item.nuevo">{{item.codigo_barras}}</td>\r\n                                <td *ngIf="item.nuevo"><input class="input has-text-centered " type="text" placeholder="Codigo de barras" [(ngModel)]="item.codigo_barras"></td>\r\n                                <td *ngIf="!item.nuevo && modo == \'N\'">{{item.existencia}}</td>\r\n                                <td *ngIf="!item.nuevo && modo == \'U\'">{{item.existencia_unidosis}}</td>\r\n                                <td *ngIf="item.nuevo "></td>\r\n                                <td >\r\n                                    <input class="input has-text-centered" readonly type="number" step="1" min="0" (keypress)="quitar_punto($event)"\r\n                                    (change)="comprobar_cant_lotes()" max="{{item.existencia}}" placeholder="Cantidad" [(ngModel)]="item.cantidad">\r\n                                </td>\r\n                                <td *ngIf="item.nuevo">\r\n                                    <a class="delete" (click)=eliminarLote(i)></a>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                \x3c!-- ******************************** INSUMO REEMPLAZANTE ******************************** --\x3e\r\n                <div class="column">\r\n                    <section class="section" style="padding:1em;">\r\n                        <div class="control">\r\n                            \x3c!--\r\n                                <input ngui-auto-complete [source]="insumos_term" [list-formatter]="autocompleListFormatter" \r\n                            id="buscarInsumo" value-property-name="clave" display-property-name="descripcion" path-to-data="" \r\n                            loading-text="Cargando..." no-match-found-text="No hay resultados." (valueChanged)="select_insumo_autocomplete($event)" \r\n                            min-chars="1" class="input is-medium" type="text" [ngClass]="{\'is-loading\': ctrl.cargando}"\r\n                            placeholder="Escanea el codigo de barra, o empieza escribir el nombre del producto">\r\n                            --\x3e\r\n                            <div class="control is-grouped">\r\n                                <div class="control is-expanded">\r\n                                    <input \r\n                                        (keyup.enter)="buscarInsumo.value != \'\' ?  enviarAutocomplete(buscarInsumo.value) : buscarInsumo.value = \'\'" \r\n                                        id="buscarInsumo"\r\n                                        name="buscarInsumo"\r\n                                        #buscarInsumo\r\n                                        class="input is-success is-medium"\r\n                                        type="text"\r\n                                        placeholder="Escriba la clave o el nombre del insumo y presione la tecla ENTER"/>\r\n                                </div>\r\n                                <div class="control">\r\n                                    <a class="button is-success is-medium" title="Buscar insumo" (click)="buscarInsumo.value != \'\' ?  enviarAutocomplete(buscarInsumo.value) : buscarInsumo.value = \'\'">\r\n                                        <i class="fa fa-search" aria-hidden="true"></i> &nbsp; Buscar\r\n                                    </a>\r\n                                </div>\r\n                                <div class="control" *ngIf="buscarInsumo.value != \'\'">\r\n                                    <a class="button is-info is-medium" title="Borrar texto" (click)="res_busq_insumos=[]; buscarInsumo.value=\'\'">\r\n                                        <i class="fa fa-times" aria-hidden="true"></i>\r\n                                    </a>\r\n                                </div>\r\n                            </div>\r\n                            <div *ngIf="res_busq_insumos.length > 0 && !cargando" style="height: 200px;">\r\n                                <div *ngIf="res_busq_insumos.length > 0 && !cargando" style="overflow: scroll; overflow-x: hidden; height: 90%;">\r\n                                    <div class="content" style="z-index: 1;" *ngFor="let item_insumo of res_busq_insumos; let c = index">\r\n                                        <div class="card" (click)="select_insumo_autocomplete(item_insumo)" style="background: rgba(242,248,253, 0.8)">\r\n                                            <div class="card-content">\r\n                                                <div class="media">          \r\n                                                    <div class="media-content">\r\n                                                        <p class="title is-4">{{item_insumo.descripcion}}</p>\r\n                                                        <p class="subtitle is-6">\r\n                                                            <strong>Clave: </strong> {{item_insumo.clave}}\r\n                                                            <label class="tag is-success" *ngIf="item_insumo.es_causes == 1"><strong>Cause </strong></label>\r\n                                                            <label class="tag" *ngIf="item_insumo.es_causes == 0" style="background: #B8FB7E; border-color: #B8FB7E; color: rgba(0,0,0,0.7);" ><strong>No Cause </strong> </label>\r\n                                                            <label class="tag is-warning" *ngIf="item_insumo.es_unidosis == 1"><strong>Unidosis</strong> </label>\r\n                                                        </p>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <hr> \x3c!-- L\xednea de division --\x3e\r\n                        <h3 class="title is-2" id="tituloInsumoCorrecto"></h3>\r\n                        <p *ngIf="!cargando && lotes_insumo.length > 0" style="text-align: right; font-size: 16px">\r\n                            Cantidad a reemplazar: <strong>{{cantidad_total}}</strong>\r\n                        </p>                    \r\n                    </section>\r\n                    <div class="has-text-centered" *ngIf="cargando">\r\n                         <span *ngIf="ctrl.cargando || cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>\r\n                         Cargando...\r\n                    </div>\r\n                    <table class="table is-narrow is-bordered is-striped" *ngIf="!cargando && lotes_insumo.length > 0">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Lote</th>\r\n                                <th>Caducidad</th>\r\n                                <th>Codigo de barras</th>\r\n                                <th *ngIf="modo == \'N\'">Existencia</th>\r\n                                <th *ngIf="modo == \'N\'">Cantidad</th>\r\n                                <th *ngIf="modo == \'U\'">Existencia Unidosis ({{insumo.unidad_medida}})</th> \r\n                                <th *ngIf="modo == \'U\'">Cantidad Unidosis ({{insumo.unidad_medida}})</th> \r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor="let item of lotes_insumo;  let i = index;">\r\n                                <td *ngIf="!item.nuevo">{{item.lote}}</td>\r\n                                <td *ngIf="item.nuevo"><input class="input has-text-centered " type="text" placeholder="Lote" [(ngModel)]="item.lote"></td>\r\n                                <td *ngIf="!item.nuevo">{{item.fecha_caducidad}}</td>\r\n                                <td *ngIf="item.nuevo"><input class="input has-text-centered " type="date" placeholder="Fecha de caducidad" [(ngModel)]="item.fecha_caducidad"></td>\r\n                                <td *ngIf="!item.nuevo">{{item.codigo_barras}}</td>\r\n                                <td *ngIf="item.nuevo"><input class="input has-text-centered " type="text" placeholder="Codigo de barras" [(ngModel)]="item.codigo_barras"></td>\r\n                                <td *ngIf="!item.nuevo && modo == \'N\'">{{item.existencia}}</td>\r\n                                <td *ngIf="!item.nuevo && modo == \'U\'">{{item.existencia_unidosis}}</td>\r\n                                <td *ngIf="item.nuevo "></td>\r\n                                <td >\r\n                                    <input class="input has-text-centered" type="number" step="1" min="0" (keypress)="quitar_punto($event)"\r\n                                    (keyup)="comprobar_cant_lotes()" (change)="comprobar_cant_lotes()" max="{{item.existencia}}"\r\n                                    placeholder="Cantidad" [(ngModel)]="item.cantidad">\r\n                                </td>\r\n                                <td *ngIf="item.nuevo">\r\n                                    <a class="delete" (click)=eliminarLote(i)></a>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n            \r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-success" [ngClass]="{\'is-disabled\':!sum_cant_lotes}" (click)="agregarLoteInsumo()">Aceptar</a>\r\n            <a class="button" (click)="cancelarModal(\'actualizarInsumo\'); modo = \'N\';">Cancelar</a>\r\n            <div class="card-footer-item"></div>\r\n        </footer>\r\n    </div>\r\n</div>\r\n\x3c!-- **************************************************FIN actualizarInsumo********************************************************* --\x3e\r\n<div class="modal" id="negarExistencia">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card">\r\n        <header class="modal-card-head">\r\n            <p class="modal-card-title"><i class="fa fa-warning"></i> Alerta</p>\r\n            <button class="delete" (click)="cancelarModal(\'negarExistencia\')"></button>\r\n        </header>\r\n        <section class="modal-card-body">\r\n            <div class="content">\r\n                <h1>\xbfEsta seguro de negar la existencia del insumo?</h1>\r\n                <p>Ya no se podra cambiar la cantidad negada</p>\r\n            </div>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-success" (click)="agregarLoteInsumo(cantidad_solicitada.value)">Continuar</a>\r\n            <a class="button" (click)="cancelarModal(\'negarExistencia\')">Cancelar</a>\r\n        </footer>\r\n    </div>\r\n</div>\r\n\r\n<div class="modal" id="guardarMovimiento">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card">\r\n        <header class="modal-card-head">\r\n            <p class="modal-card-title"><i class="fa fa-warning"></i> Alerta</p>\r\n            <button class="delete" (click)="cancelarModal(\'guardarMovimiento\')"></button>\r\n        </header>\r\n        <section class="modal-card-body">\r\n            <div class="content">\r\n                <h1>\xbfEsta seguro de guardar la salida?</h1>\r\n                <p>Ya no se podr\xe1 realizar cambios</p>\r\n            </div>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-success" (click)="ctrl.enviar(); cancelarModal(\'guardarMovimiento\')">Continuar</a>\r\n            <a class="button" (click)="cancelarModal(\'guardarMovimiento\')">Cancelar</a>\r\n        </footer>\r\n    </div>\r\n</div>'},"9HAI":function(e,t){e.exports='<formulario #ctrl URL="via-administracion" titulo="UM / Catalogo" [dato]="dato"></formulario>\r\n\x3c!-- <menu-catalogo [modulo]="\'V\xedas de administraci\xf3n\'" [icono]="\'assets/icono-catalogos.svg\'" [url]="\'/almacen-articulos/catalogos/vias-administracion\'"></menu-catalogo>--\x3e\r\n<app-menu-catalogo></app-menu-catalogo>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns" style="height:90%;  padding-top: 1em;">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em;">\r\n        \x3c!-- formulario --\x3e\r\n        <form name="form" novalidate [formGroup]="dato" (ngSubmit)="ctrl.enviar()">\r\n            <div style="background: #FFF; overflow: hidden;">\r\n                <section class="hero is-primary">\r\n                    <div class="hero-body">\r\n                        \x3c!-- Opciones  --\x3e\r\n                        <formulario-opciones [ctrl]="ctrl" class="control is-grouped" style="position:absolute; top:8em; right:3em;">\r\n                        </formulario-opciones>\r\n                        <div class="container is-fluid">\r\n                            <h1 class="title">\r\n                                <span *ngIf="!ctrl.cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                <span *ngIf="ctrl.cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>                                {{ctrl.moduloTitulo}} via de administraci\xf3n\r\n                            </h1>\r\n\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>                    &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n                <section class="section">\r\n\r\n\r\n\r\n                    <div class="field">\r\n                        <label class="label">Nombre:</label>\r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                            <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'nombre\').hasError(\'required\')}" placeholder="nombre"\r\n                                formControlName="nombre">\r\n                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">Este campo es requerido.</span>\r\n                        </p>\r\n                    </div>\r\n\r\n                </section>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>'},"9LEW":function(e,t){e.exports='<panel-control-menu></panel-control-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding:2em; overflow:auto">\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n            <section class="hero is-primary">\r\n                <div class="hero-body">\r\n                    <div class="container is-fluid">\r\n                        <nav class="level">\r\n                            <div class="level-left">\r\n                                <h1 class="title">\r\n                                    <span  *ngIf="!cargando" class="icon is-medium"><i class="fa fa-cloud"></i></span>\r\n                                    <span  *ngIf="cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span> \r\n                                    Servidor central\r\n                                </h1>\r\n                            </div>\r\n                            <div class="level-right">\r\n                                <div class="block">                               \r\n                                  <a class="button is-primary is-inverted"  (click)="mostrarModalSubirArchivoSync = true;">\r\n                                    <span class="icon"><i class="fa fa-cloud-upload"></i></span><span>Subir sincronizaci\xf3n</span>\r\n                                    </a>\r\n                                </div>\r\n                            </div>\r\n                        </nav>  \r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <section >\r\n                <table class="table" style="font-size:0.9em;">\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t<th>Servidor</th>\r\n\t\t\t\t\t\t\t<th>Nombre</th>\r\n\t\t\t\t\t\t\t<th>Generado</th>\r\n\t\t\t\t\t\t\t<th>Sincronizado</th>\r\n                            <th>Usuario</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody  *ngIf="!busquedaActivada">\r\n                        <tr *ngFor="let item of lista; let i=index">  \r\n                            <td>{{ item.id }}</td>   \r\n                            <td>{{ item.servidor_id }}</td>                      \r\n                            <td>{{ item.servidor_nombre }}</td> \r\n                            <td><small>{{ item.fecha_generacion }}</small></td>  \r\n                            <td><small>{{ item.created_at }}</small></td>    \r\n                            <td>{{ item.usuario_id }}</td>                                                  \r\n                        </tr>\r\n                        <tr *ngIf="lista.length == 0">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>                    \r\n                        </tr>\r\n                    </tbody>\r\n                    <tbody *ngIf="busquedaActivada">\r\n                        <tr *ngFor="let item of resultadosBusqueda; let i=index">\r\n                            <td>{{ item.id }}</td>   \r\n                            <td>{{ item.servidor_id }}</td>                      \r\n                            <td>{{ item.servidor_nombre }}</td> \r\n                            <td><small>{{ item.fecha_generacion }}</small></td>  \r\n                            <td><small>{{ item.created_at }}</small></td> \r\n                            <td>{{ item.usuario_id }}</td>                                                  \r\n                        </tr>\r\n\r\n                        <tr *ngIf="resultadosBusqueda.length == 0 && busquedaActivada">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>                    \r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n                \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n                <paginacion \r\n                    [total]="total" \r\n                    [paginasTotales]="paginasTotales" \r\n                    [resultadosPorPagina]="resultadosPorPagina" \r\n                    [paginaActual]="paginaActual" \r\n                    [indicePaginas]="indicePaginas"\r\n                    (onSiguiente)="paginaSiguiente()" \r\n                    (onAnterior)="paginaAnterior()" \r\n                    (onListar)="listar($event)" \r\n                    *ngIf="total>0 && total > resultadosPorPagina && !busquedaActivada"></paginacion>\r\n                \x3c!-- Paginaci\xf3n para la b\xfasqueda  --\x3e\r\n                <paginacion \r\n                    [total]="totalBusqueda" \r\n                    [paginasTotales]="paginasTotalesBusqueda" \r\n                    [resultadosPorPagina]="resultadosPorPaginaBusqueda" \r\n                    [paginaActual]="paginaActualBusqueda" \r\n                    [indicePaginas]="indicePaginasBusqueda"\r\n                    (onSiguiente)="paginaSiguienteBusqueda(searchBox.value)" \r\n                    (onAnterior)="paginaAnteriorBusqueda(searchBox.value)" \r\n                    (onListar)="listarBusqueda(searchBox.value,$event)" \r\n                    *ngIf="totalBusqueda > 0 && totalBusqueda > resultadosPorPaginaBusqueda && busquedaActivada"></paginacion>\r\n            </section>\r\n          \r\n        </div>\r\n        \r\n        <br>\r\n       \r\n    </div>\r\n</div>\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>     \r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n\r\n\r\n\r\n<div class="modal"  [ngClass]="{ \'is-active\': mostrarModalSubirArchivoSync }">\r\n  <div class="modal-background" (click)="mostrarModalSubirArchivoSync =!mostrarModalSubirArchivoSync"></div>\r\n  <div class="modal-card">\r\n    <header class="modal-card-head">\r\n      <p class="modal-card-title"><span class="icon"><i class="fa fa-cloud-upload"></i></span> Subir archivo de sincronizaci\xf3n manual</p>\r\n      <button class="delete" (click)="mostrarModalSubirArchivoSync = !mostrarModalSubirArchivoSync"></button>\r\n    </header>\r\n    <section class="modal-card-body">        \r\n        <div class="notification is-danger" *ngIf="mensajeErrorSync!=\'\'"><span class="icon"><i class="fa fa-exclamation-circle"></i></span> {{ mensajeErrorSync }}</div>\r\n       \r\n        <div class="field" [ngClass]="{ \'is-hidden\' : enviandoDatos || documentoSubido }">\r\n            <label for="sync" class="label" [ngClass]="{ \'is-danger\': errores.archivo != null }">Elige el archivo sync.XXXX.zip</label>            \r\n            <input class="input-file" type="file" #archivoInput  name="sync" id="sync" style="width:100%" [disabled]="documentoSubido" (change)="fileChange($event)" accept=".zip">            \r\n            <p class="help is-danger" *ngIf="errores.archivo == \'required\'">Debe elegir un archivo.</p>\r\n            <p class="help is-danger" *ngIf="errores.archivo == \'max\'">El archivo no puede ser superior a los <b>10MB</b>.</p>\r\n            <p class="help is-danger" *ngIf="errores.archivo == \'mimetypes\'">El tipo de archivo no es valido, verifique que tenga las siguientes extensiones: .zip</p>\r\n        </div>\r\n        <div *ngIf="enviandoDatos || documentoSubido">\r\n            <h1 class="subtitle" *ngIf="enviandoDatos">Subiendo documento...</h1>\r\n            <h1 class="subtitle" *ngIf="documentoSubido && !enviandoDatos"><span class="icon"><i class="fa fa-check-circle"></i></span> \xa1El documento se ha subido exitosamente!</h1>\r\n            <progress class="progress is-primary" value="{{ progreso }}" max="100">{{ progreso}}%</progress>\r\n        </div>\r\n    </section>\r\n    <footer class="modal-card-foot">\r\n        <a class="button is-primary" [ngClass]="{ \'is-disabled\' : !archivo || enviandoDatos  }" *ngIf="!documentoSubido" (click)="adjuntar()">Adjuntar</a>\r\n        <a class="button is-primary" [ngClass]="{ \'is-disabled\' : !archivo || enviandoDatos  }" *ngIf="documentoSubido" (click)="reset()">Adjuntar otro documento</a>\r\n        <a class="button" [ngClass]="{ \'is-disabled\' : enviandoDatos  }" (click)="mostrarModalSubirArchivoSync = !mostrarModalSubirArchivoSync">Cerrar</a>      \r\n    </footer>\r\n  </div>\r\n</div>\r\n'},"9wlZ":function(e,t){e.exports='<listar #ctrl URL="salida-laboratorio?tipo=2&fecha_desde={{fecha_desde}}&fecha_hasta={{fecha_hasta}}&turno={{turno}}&servicio={{servicio}}&recibe={{recibe}}" titulo="Salida de laboratorio"></listar>\r\n\x3c!-- <menu-farmacia [modulo]="\'Salidas  de almac\xe9n\'" [icono]="\'assets/icono-salidas.svg\'" [url]="\'/laboratorio/salidas-laboratorio\'"></menu-farmacia> --\x3e\r\n<app-menu-laboratorio [modulo]="\'Salidas de laboratorio\'" [icono]="\'assets/icono-salidas-laboratorio.svg\'" [url]="\'/laboratorio/salidas-laboratorio\'"></app-menu-laboratorio>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:80%; ">\r\n    <div class="column" style="padding:2em;">\r\n        <div style="background: #FFF; border-radius: 1em;">\r\n            <section class="hero" [ngClass]=" {\'is-dark\': ctrl.busquedaActivada, \'is-primary\': !ctrl.busquedaActivada } ">\r\n\r\n                <div class="hero-body" style="position:relative;">\r\n                    <nav class="level">\r\n                        <div class="level-left"></div>\r\n                        \x3c!-- Right side --\x3e\r\n                        <div class="level-right">\r\n                            <p class="level-item"><a class="button is-dark is-medium" routerLink="nuevo" *ngIf="ctrl.busquedaActivada" title="Nueva salida de laboratorio"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;<span>Nueva salida</span></a></p>\r\n                            <p class="level-item"><a class="button is-primary is-medium" routerLink="nuevo" *ngIf="!ctrl.busquedaActivada" title="Nueva salida de laboratorio"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;<span>Nueva salida</span></a></p>\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" (click)="ctrl.busquedaActivada=false;searchBox.value=\'\'; ctrl.resultadosBusqueda=[]"><span class="icon "><i class="fa fa-close"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="Actualizar" (click)="ctrl.listarBusqueda(searchBox.value,1)"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="Actualizar" (click)="ctrl.listar(1)"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="PDF" (click)="imprimir()"><span class="icon "><i class="fa fa-file-pdf-o"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="PDF" (click)="imprimir()"><span class="icon "><i class="fa fa-file-pdf-o"></i></span></a></p>\r\n\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="Excel" (click)="export_excel()"><span class="icon "><i class="fa fa-file-excel-o"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="Excel" (click)="export_excel()"><span class="icon "><i class="fa fa-file-excel-o"></i></span></a></p>\r\n                            <p class="level-item">&nbsp;</p>\r\n                        </div>\r\n                    </nav> \r\n                    <div class="container is-fluid" id="titulo">\r\n                        <span></span>\r\n                        <div class="is-hidden-desktop">\r\n                            <h1 class="title" *ngIf="!ctrl.busquedaActivada">\r\n                                <span class="icon is-medium"><i class="fa fa-user"></i></span> Salidas  de almac\xe9n\r\n                            </h1>\r\n                        </div>\r\n                        <h1 class="title" *ngIf="ctrl.busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-search"></i></span> B\xfasqueda\r\n                        </h1>\r\n                        <div class="control is-grouped">\r\n                            <div class="control">\r\n                                <div class="field">   \r\n                                    <label class="label">Desde:</label>                         \r\n                                    <input  style="width: 150px;" class="input is-medium" [(ngModel)]=\'fecha_desde\' ngui-datetime-picker date-only="true" placeholder="YYYY-MM-DD" />\r\n                                </div>\r\n                            </div>\r\n                            <div class="control is-expanded" >\r\n                                <div class="field">   \r\n                                    <label class="label">Hasta:</label>                         \r\n                                    <input style="width: 150px;" class="input is-medium" [(ngModel)]=\'fecha_hasta\' ngui-datetime-picker date-only="true" placeholder="YYYY-MM-DD" />\r\n                                </div>\r\n                            </div>\r\n                            \x3c!-- /*******************************************/ --\x3e\r\n                            <div class="control is-expanded" *ngIf="!ctrl.cargando">                                \r\n                                <div class="field">\r\n                                    <label class="label">Turno:</label>\r\n                                    <div class="select is-medium">\r\n                                        <select *ngIf="ctrl.dato" class="select is-medium" [(ngModel)]="turno" #tr>\r\n                                            <option value="">Todos</option>\r\n                                            <option *ngFor="let val of ctrl.dato[ctrl.dato.length-1]?.turnos_disponibles" value="{{val.id}}" >{{ val.nombre }}</option>\r\n                                        </select>\r\n                                        <select *ngIf="!ctrl.dato"  class="select is-medium" [(ngModel)]="turno" #tr>\r\n                                            <option value="">Todos</option>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class="control is-expanded" *ngIf="!ctrl.cargando">\r\n                                <div class="field ">\r\n                                    <label class="label">Servicio:</label>\r\n                                    <div class="select is-medium ">\r\n                                        <select *ngIf="ctrl.dato" class="select is-medium" [(ngModel)]="servicio" #sr>\r\n                                            <option value="">Todos</option>\r\n                                            <option *ngFor="let val of ctrl.dato[ctrl.dato.length-1]?.servicios_disponibles" value="{{val.id}}" >{{ val.nombre }}</option>\r\n                                        </select>\r\n                                        <select *ngIf="!ctrl.dato" class="select is-medium" [(ngModel)]="servicio" #sr>\r\n                                            <option value="">Todos</option>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class="control is-expanded">\r\n                                <div class="field">   \r\n                                    <label class="label">Recibe:</label>                         \r\n                                    <input class="input is-medium" type="text" placeholder="Persona que recibe" [(ngModel)]="recibe">\r\n                                </div>\r\n                            </div>\r\n                            <div class="control">\r\n                                <div class="field">  \r\n                                <label class="label">&nbsp;</label>\r\n                                <button class="button is-default is-medium" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="recibe=\'\';servicio=\'\'; turno=\'\'; fecha_desde=\'\'; fecha_hasta=\'\';" >Limpiar</button>\r\n                                </div>\r\n                            </div>\r\n                            <div class="control">\r\n                                <div class="field">  \r\n                                <label class="label">&nbsp;</label>\r\n                                <button class="button is-info is-medium" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="ctrl.listar(1)" >Filtrar</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            \r\n            <div class="is-fullwidth has-text-centered" *ngIf="ctrl.cargando">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n            <span id="exportable">\r\n            <div style="overflow:auto; display:block" [style.maxHeight.px]="ctrl.tamano-200">\r\n                <div class="is-fullwidth has-text-centered" *ngIf="cargandoPdf">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Generando PDF...</span></span>\r\n                    <br>\r\n                    <br>\r\n                </div>\r\n                <table class="table" *ngIf="!ctrl.cargando && !cargandoPdf" >\r\n                    <thead>\r\n                        <tr>\r\n                            <th style=" text-align: center;"><abbr title="Folio">Fecha</abbr></th>\r\n                            <th style=" text-align: center;"><abbr title="Folio">Folio</abbr></th>\r\n                            <th>Servicio</th>\r\n                            <th>Turno</th>\r\n                            <th>Insumos</th>\r\n                            <th>Recibe</th>\r\n                            <th>Entreg\xf3</th>\r\n                            <th style=" text-align: center;">Capturado</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody *ngIf="!ctrl.busquedaActivada && ctrl.dato;">\r\n                        <tr *ngFor="let item of ctrl.dato; let i=index">\r\n                            <th *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle; text-align: center;"><a routerLink="/laboratorio/salidas-laboratorio/ver/{{item.id}}">{{ item.fecha_movimiento }}</a></th>\r\n                            <th *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle; text-align: center;"><a routerLink="/laboratorio/salidas-laboratorio/ver/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td *ngIf="item.movimiento_metadato && (i+1)<ctrl.dato.length" style="vertical-align: middle;" >\r\n                                <a *ngIf="item.movimiento_metadato.servicio?.nombre"  routerLink="/laboratorio/salidas-laboratorio/ver/{{item.id}}" >{{ item.movimiento_metadato.servicio.nombre }} </a>\r\n                                <a *ngIf="!item.movimiento_metadato.servicio"  routerLink="/laboratorio/salidas-laboratorio/ver/{{item.id}}" > No disponible </a>\r\n                            </td>\r\n                            <td *ngIf="!item.movimiento_metadato && (i+1)<ctrl.dato.length" style="vertical-align: middle;" >No disponible</td>\r\n                            <td *ngIf="item.movimiento_metadato && (i+1)<ctrl.dato.length" style="vertical-align: middle;">\r\n                                <a *ngIf="item.movimiento_metadato.turno?.nombre"  routerLink="/laboratorio/salidas-laboratorio/ver/{{item.id}}">{{ item.movimiento_metadato.turno.nombre }} </a>\r\n                                <a *ngIf="!item.movimiento_metadato.turno"  routerLink="/laboratorio/salidas-laboratorio/ver/{{item.id}}" > No disponible </a>\r\n                            </td>\r\n                            <td *ngIf="!item.movimiento_metadato && (i+1)<ctrl.dato.length" style="vertical-align: middle;" >No disponible</td>\r\n                            <td *ngIf="(i+1)<ctrl.dato.length"> <a routerLink="/laboratorio/salidas-laboratorio/ver/{{item.id}}"> \r\n                                <p> Lotes: {{item.numero_claves}}</p> <p> Insumos: {{item.numero_insumos}}</p> </a>\r\n                            </td>\r\n                            <td *ngIf="item.movimiento_metadato && (i+1)<ctrl.dato.length" style="vertical-align: middle;" ><a routerLink="/laboratorio/salidas-laboratorio/ver/{{item.id}}">{{ item.movimiento_metadato.persona_recibe }}</a></td>\r\n                            <td *ngIf="!item.movimiento_metadato && (i+1)<ctrl.dato.length" style="vertical-align: middle;" >No disponible</td>\r\n                            <td *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle;"><a routerLink="/laboratorio/salidas-laboratorio/ver/{{item.id}}">{{ item.movimiento_usuario.nombre }} {{ item.movimiento_usuario.apellidos }} </a></td>                        \r\n                            <td *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle; text-align: center;"><a routerLink="/laboratorio/salidas-laboratorio/ver/{{item.id}}">{{ item.created_at | date:\'medium\'}} </a></td>\r\n                            \x3c!--\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n                            --\x3e\r\n                        </tr>\r\n                        <tr *ngIf="ctrl.dato.length == 0">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                    <tbody *ngIf="ctrl.busquedaActivada && ctrl.dato">\r\n                        <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">\r\n                            <th style="vertical-align: middle; text-align: center;"><a routerLink="/laboratorio/salidas-laboratorio/ver/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;" *ngIf="item.movimiento_metadato"><a *ngIf="item.movimiento_metadato.servicio.nombre" routerLink="/laboratorio/salidas-laboratorio/ver/{{item.id}}">{{ item.movimiento_metadato.servicio.nombre }}</a></td>\r\n                            <td style="vertical-align: middle;" *ngIf="!item.movimiento_metadato">No disponible</td>\r\n                            <td style="vertical-align: middle;" *ngIf="item.movimiento_metadato"><a *ngIf="item.movimiento_metadato.turno.nombre" routerLink="/laboratorio/salidas-laboratorio/ver/{{item.id}}">{{ item.movimiento_metadato.turno.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;" *ngIf="!item.movimiento_metadato">No disponible</td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/laboratorio/salidas-laboratorio/ver/{{item.id}}">{{ item.movimiento_usuario.nombre }} {{ item.movimiento_usuario.apellidos }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/laboratorio/salidas-laboratorio/ver/{{item.id}}">{{ item.status }} </a></td>\r\n                            <td style="vertical-align: middle; text-align: center;"><a routerLink="/laboratorio/salidas-laboratorio/ver/{{item.id}}">{{ item.created_at | date}} </a></td>\r\n                            <td style="vertical-align: middle; text-align: center;"><a routerLink="/laboratorio/salidas-laboratorio/ver/{{item.id}}">{{ item.updated_at | date}} </a></td>\r\n                        </tr>\r\n\r\n                        <tr *ngIf="ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            </span>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [total]="ctrl.total" [paginasTotales]="ctrl.paginasTotales" [resultadosPorPagina]="ctrl.resultadosPorPagina"\r\n                [paginaActual]="ctrl.paginaActual" [indicePaginas]="ctrl.indicePaginas" (onSiguiente)="ctrl.paginaSiguiente()"\r\n                (onAnterior)="ctrl.paginaAnterior()" (onListar)="ctrl.listar($event)" *ngIf="ctrl.total>0 && ctrl.total > ctrl.resultadosPorPagina && !ctrl.busquedaActivada"></paginacion>\r\n            \x3c!-- Paginaci\xf3n para la b\xfasqueda  --\x3e\r\n            <paginacion [total]="ctrl.totalBusqueda" [paginasTotales]="ctrl.paginasTotalesBusqueda" [resultadosPorPagina]="ctrl.resultadosPorPaginaBusqueda"\r\n                [paginaActual]="ctrl.paginaActualBusqueda" [indicePaginas]="ctrl.indicePaginasBusqueda" (onSiguiente)="ctrl.paginaSiguienteBusqueda(searchBox.value)"\r\n                (onAnterior)="ctrl.paginaAnteriorBusqueda(searchBox.value)" (onListar)="ctrl.listarBusqueda(searchBox.value,$event)"\r\n                *ngIf="ctrl.totalBusqueda > 0 && ctrl.totalBusqueda > ctrl.resultadosPorPaginaBusqueda && ctrl.busquedaActivada"></paginacion>\r\n\r\n\r\n\r\n        </div>\r\n\r\n    </div>\r\n</div>'},"ATK/":function(e,t){e.exports=""},AWv4:function(e,t){e.exports=""},AcKP:function(e,t){e.exports="<p>\r\n  ver works!\r\n</p>\r\n"},Au7A:function(e,t){e.exports=".top-bar {\r\n    padding: 1em ; \r\n    font-size: 1.2em; \r\n    background: #FFF;    \r\n    color: #333;\r\n}\r\n.contenedor-pedido.con-tabs .top-bar {\r\n    padding: 0.5em ; \r\n}\r\n.top-bar.is-primary {\r\n    background: #00d1b2;\r\n    color:#FFF\r\n}\r\n.top-bar.is-dark {\r\n    background: #333;\r\n    color:#FFF\r\n}\r\n.contenedor-pedido {\r\n    background: #FFF; border-radius: 1em; overflow: hidden;\r\n}\r\n.contenedor-pedido.con-tabs {\r\n    border-top-left-radius: 0px !important;\r\n    border-top-right-radius: 0px !important;\r\n}\r\n\r\n"},AyzV:function(e,t){e.exports='<formulario #ctrl URL="almacenes" titulo="Almacenes / Catalogo" [dato]="dato"></formulario>\r\n<articulos-catalogo-menu></articulos-catalogo-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em;">\r\n        \x3c!-- formulario --\x3e\r\n        <form name="dato" novalidate [formGroup]="dato" (ngSubmit)="ctrl.enviar()">\r\n            <div style="background: #FFF; overflow: hidden;">\r\n                <section class="hero is-primary">\r\n                    <div class="hero-body">\r\n                        \x3c!-- Opciones  --\x3e\r\n                        <formulario-opciones [ctrl]="ctrl" class="control is-grouped" style="position:absolute; top:8em; right:3em;">\r\n                        </formulario-opciones>\r\n                        <div class="container is-fluid">\r\n                            <h1 class="title">\r\n                                <span *ngIf="!ctrl.cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                <span *ngIf="ctrl.cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>                                {{ctrl.moduloTitulo}} almacen\r\n                            </h1>\r\n\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>                    &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n                <section class="section">\r\n                    \r\n                        <div class="tabs is-boxed">\r\n                            <ul>\r\n                                <li [ngClass]="{ \'is-active\' : tab == 1}">\r\n                                    <a (click)="tab=1">\r\n                                    <span class="icon is-small"><i class="fa fa-file"></i></span>\r\n                                    <span>Datos del almac\xe9n</span>\r\n                                </a>\r\n                                </li>\r\n                                <li [ngClass]="{ \'is-active\' : tab == 2}">\r\n                                    <a (click)="tab=2">\r\n                                    <span class="icon is-small"><i class="fa fa-home"></i></span>\r\n                                    <span>Tipos de movimientos</span>\r\n                                </a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n\r\n                        <div [ngClass]="{ \'is-hidden\': tab != 1}">\r\n\r\n                            <div class="field">\r\n                                <label class="label">ID:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'id\').hasError(\'required\') && ctrl.dato.get(\'id\').touched}"\r\n                                        placeholder="id" formControlName="id" [readonly]="tieneid">\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'id\').hasError(\'required\') && ctrl.dato.get(\'id\').touched">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'id\').hasError(\'required\') && ctrl.dato.get(\'id\').touched">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n\r\n                            <div class="field">\r\n                                <label class="label">Nombre:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'nombre\').hasError(\'required\')}" placeholder="nombre"\r\n                                        formControlName="nombre">\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n\r\n                            <div class="field">\r\n                                <label class="label">Nivel de almac\xe9n:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <select class="select" name="nivel_almacen" formControlName="nivel_almacen" [ngClass]="{\'is-warning\': nivel_almacen?.length ==0 }">\r\n                                    <option *ngFor="let item of niveles_almacen" value="{{item.id}}" [attr.selected]="ctrl.dato.get(\'nivel_almacen\').value == item.id > -1">{{ item.nombre }}</option>\r\n                                </select>\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'nivel_almacen\').hasError(\'required\') && ctrl.dato.get(\'nivel_almacen\').touched">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'nivel_almacen\').hasError(\'required\') && ctrl.dato.get(\'nivel_almacen\').touched">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n\r\n                            <div class="field">\r\n                                <label class="label">Tipo de almac\xe9n:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <select class="select" name="tipo_almacen" formControlName="tipo_almacen" [ngClass]="{\'is-warning\': tipo_almacen?.length ==0 }">\r\n                                    <option *ngFor="let item of tipos_almacen" value="{{item.id}}" [attr.selected]="ctrl.dato.get(\'tipo_almacen\').value == item.id > -1">{{ item.nombre }}</option>\r\n                                </select>\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'tipo_almacen\').hasError(\'required\') && ctrl.dato.get(\'tipo_almacen\').touched">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'tipo_almacen\').hasError(\'required\') && ctrl.dato.get(\'tipo_almacen\').touched">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n\r\n\r\n\r\n                            <div class="field">\r\n                                <label class="label">Clues:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <input ngui-auto-complete [source]="clues_term" [list-formatter]="autocompleListFormatter" value-property-name="clues" display-property-name="clues"\r\n                                        path-to-data="" loading-text="Cargando..." no-match-found-text="No hay resultados." (valueChanged)="ctrl.select_item_autocomplete(\'clues\', \'clues\', $event)"\r\n                                        min-chars="1" class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'clues\').hasError(\'required\') && ctrl.dato.get(\'clues\').touched}"\r\n                                        placeholder="Clues" formControlName="clues">\r\n\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'clues\').hasError(\'required\') && ctrl.dato.get(\'clues\').touched">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'clues\').hasError(\'required\') && ctrl.dato.get(\'clues\').touched">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n\r\n                            <div class="field">\r\n                                <label class="label" id="catalogos" (click)="ctrl.cargarCatalogo(\'proveedores\', \'proveedor\'); ctrl.cargarCatalogo(\'tipos_movimientos\', \'tipo-movimiento\');">Proveedor:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <select class="select" name="proveedor_id" formControlName="proveedor_id" [ngClass]="{\'is-warning\': proveedor_id?.length ==0 }">\r\n                                    <option *ngFor="let item of ctrl.proveedores" value="{{item.id}}" [attr.selected]="ctrl.dato.get(\'proveedor_id\').value == item.id > -1">{{ item.nombre }}</option>\r\n                                </select>\r\n                                </p>\r\n                            </div>\r\n\r\n                            <br>\r\n                            <div class="control is-grouped">\r\n                                <div class="b-checkbox control is-expanded  has-icon has-icon-right">\r\n\r\n                                    <input type="checkbox" id="subrogado" class="styled" [checked]="ctrl.dato.get(\'subrogado\').value == \'1\' ? true : false" (change)="ctrl.dato.get(\'subrogado\').patchValue(ctrl.dato.get(\'subrogado\').value == \'1\' ? \'0\' : \'1\')">\r\n                                    <label for="subrogado">  Es Subrogado?\r\n                                </label>\r\n                                </div>\r\n\r\n                                <div class="b-checkbox control is-expanded  has-icon has-icon-right">\r\n\r\n                                    <input type="checkbox" id="unidosis" class="styled" [checked]="ctrl.dato.get(\'unidosis\').value == \'1\' ? true : false" (change)="ctrl.dato.get(\'unidosis\').patchValue(ctrl.dato.get(\'unidosis\').value == \'1\' ? \'0\' : \'1\')">\r\n                                    <label for="unidosis">   Maneja unidosis?\r\n                                </label>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div [ngClass]="{ \'is-hidden\': tab != 2}">\r\n\r\n                            <div formArrayName="almacen_tipos_movimientos">\r\n                                <div *ngFor="let item of ctrl.dato.controls.almacen_tipos_movimientos.controls; let i=index" class="column is-4" style="float:left">\r\n                                    <nav class="panel" [formGroupName]="i">\r\n                                        <div class="panel-heading">\r\n                                            Tipo de movimiento {{i + 1}}\r\n                                            <a style="float:right" class="is-danger" (click)="ctrl.quitar_form_array(\'almacen_tipos_movimientos\', i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a>\r\n                                        </div>\r\n                                        <label class="panel-block">                                                  \r\n                                        <select class="select" name="tipo_movimiento_id" formControlName="tipo_movimiento_id" [ngClass]="{\'is-warning\': tipo_movimiento_id?.length ==0 }">\r\n                                            <option *ngFor="let val of ctrl.tipos_movimientos" value="{{val.id}}" >{{ val.nombre }}</option>\r\n                                        </select>\r\n                                        <span class="help is-danger" *ngIf="!ctrl.dato.controls.almacen_tipos_movimientos.controls[i].controls.tipo_movimiento_id.valid">Este campo es requerido.</span>                                            \r\n                                    </label>\r\n                                    </nav>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class="block">\r\n                                <a class="button is-primary is-outlined is-fullwidth" (click)="ctrl.agregar_form_array(\'almacen_tipos_movimientos\', form_almacen_tipos_movimientos)">\r\n                                <span class="icon">\r\n                                    <i class="fa fa-plus"> </i> \r\n                                </span> \r\n                                &nbsp; Agregar\r\n                            </a>\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n\r\n                </section>\r\n            </div>\r\n            </form>\r\n    </div>\r\n</div>'},BAmh:function(e,t){e.exports=""},BOCH:function(e,t){e.exports='<div style="padding:1em;" >\r\n    \r\n    <p class="control" style="float:right; margin-left: 16px;">\r\n        <span class="select">\r\n        <select #totalPorPagina (change)="ctrl.cambiar_filas_pagina(totalPorPagina)" style="height: 27px;">\r\n            <option value="15">Filas por p\xe1gina: 15</option>\r\n            <option value="30">Filas por p\xe1gina: 30</option>\r\n            <option value="50">Filas por p\xe1gina: 50</option>\r\n            <option value="100">Filas por p\xe1gina: 100</option>\r\n            <option value="500">Filas por p\xe1gina: 500</option>\r\n            <option value="1000">Filas por p\xe1gina: 1000</option>\r\n            <option value="5000">Filas por p\xe1gina: 5000</option>\r\n            <option value="10000">Filas por p\xe1gina: 10000</option>\r\n            <option value="50000">Filas por p\xe1gina: 50000</option>\r\n        </select>\r\n        </span>\r\n    </p>\r\n    <nav class="pagination is-centered" >\r\n        \r\n        <a class="pagination-previous" [ngClass]="{\'is-disabled\': 1 == ctrl.paginaActual }" (click)="ctrl.paginaAnterior()">Anterior</a>\r\n        <a class="pagination-next"  [ngClass]="{\'is-disabled\': ctrl.paginasTotales <= ctrl.paginaActual }" (click)="ctrl.paginaSiguiente()">Siguiente</a>\r\n\r\n\r\n        <ul class="pagination-list" *ngIf="ctrl.paginasTotales<=7">\r\n            <li *ngFor="let i of ctrl.indicePaginas">\r\n            <a class="pagination-link" [ngClass]="{\'is-current\': i == ctrl.paginaActual }" (click)="ctrl.mostrarLista(i)">{{ i }}</a>\r\n            </li>\r\n        </ul>\r\n\r\n        <ul class="pagination-list" *ngIf="ctrl.paginaActual < 4 && ctrl.paginasTotales > 7">\r\n            <li>\r\n                <a class="pagination-link" [ngClass]="{\'is-current\': 1 == ctrl.paginaActual }" (click)="ctrl.mostrarLista(1)">1</a>\r\n            </li>\r\n            <li><a class="pagination-link" [ngClass]="{\'is-current\': 2== ctrl.paginaActual }" (click)="ctrl.mostrarLista(2)">2</a></li>\r\n            <li><a class="pagination-link" [ngClass]="{\'is-current\': 3== ctrl.paginaActual }" (click)="ctrl.mostrarLista(3)">3</a></li>\r\n            <li><a class="pagination-link" [ngClass]="{\'is-current\': 4== ctrl.paginaActual }" (click)="ctrl.mostrarLista(4)">4</a></li>\r\n            <li><span class="pagination-ellipsis">&hellip;</span></li>\r\n            <li >\r\n            <a class="pagination-link" [ngClass]="{\'is-current\': ctrl.paginasTotales == ctrl.paginaActual }" (click)="ctrl.mostrarLista(ctrl.paginasTotales)">{{ ctrl.paginasTotales }}</a>\r\n            </li>\r\n        </ul>\r\n\r\n        <ul class="pagination-list" *ngIf="ctrl.paginaActual > ctrl.paginasTotales - 4 && ctrl.paginasTotales > 7">\r\n            <li>\r\n                <a class="pagination-link" [ngClass]="{\'is-current\': 1 == ctrl.paginaActual }" (click)="ctrl.mostrarLista(1)">1</a>\r\n            </li>\r\n            <li><span class="pagination-ellipsis">&hellip;</span></li>\r\n            <li><a class="pagination-link" [ngClass]="{\'is-current\': ctrl.paginasTotales - 3 == ctrl.paginaActual }" (click)="ctrl.mostrarLista(ctrl.paginasTotales - 3)">{{ ctrl.paginasTotales - 3 }}</a></li>\r\n            <li><a class="pagination-link" [ngClass]="{\'is-current\': ctrl.paginasTotales - 2 == ctrl.paginaActual }" (click)="ctrl.mostrarLista(ctrl.paginasTotales - 2)">{{ ctrl.paginasTotales - 2 }}</a></li>\r\n            <li><a class="pagination-link" [ngClass]="{\'is-current\': ctrl.paginasTotales - 1 == ctrl.paginaActual }" (click)="ctrl.mostrarLista(ctrl.paginasTotales - 1)">{{ ctrl.paginasTotales - 1 }}</a></li>\r\n        \r\n            <li >\r\n            <a class="pagination-link" [ngClass]="{\'is-current\': ctrl.paginasTotales == ctrl.paginaActual }" (click)="ctrl.mostrarLista(ctrl.paginasTotales)">{{ ctrl.paginasTotales }}</a>\r\n            </li>\r\n        </ul>\r\n\r\n        <ul class="pagination-list" *ngIf="ctrl.paginaActual >= 4 && ctrl.paginaActual <= ctrl.paginasTotales - 4 && ctrl.paginasTotales > 7">\r\n            <li>\r\n            <a class="pagination-link" [ngClass]="{\'is-current\': 1 == ctrl.paginaActual }" (click)="ctrl.mostrarLista(1)">1</a>\r\n            </li>\r\n            <li><span class="pagination-ellipsis">&hellip;</span>\r\n            </li>\r\n            <li>\r\n            <a class="pagination-link" [ngClass]="{\'is-current\': ctrl.paginaActual-1 == ctrl.paginaActual }" (click)="ctrl.mostrarLista(ctrl.paginaActual-1)">{{ ctrl.paginaActual-1 }}</a>\r\n            </li>\r\n            <li>\r\n            <a class="pagination-link" [ngClass]="{\'is-current\': ctrl.paginaActual == ctrl.paginaActual }" (click)="ctrl.mostrarLista(ctrl.paginaActual)">{{ ctrl.paginaActual }}</a>\r\n            </li>\r\n            <li >\r\n            <a class="pagination-link" [ngClass]="{\'is-current\': ctrl.paginaActual+1 == ctrl.paginaActual }" (click)="ctrl.mostrarLista(ctrl.paginaActual+1)">{{ ctrl.paginaActual+1 }}</a>\r\n            </li>\r\n            <li><span class="pagination-ellipsis">&hellip;</span></li>\r\n            <li >\r\n            <a class="pagination-link" [ngClass]="{\'is-current\': ctrl.paginasTotales == ctrl.paginaActual }" (click)="ctrl.mostrarLista(ctrl.paginasTotales)">{{ ctrl.paginasTotales }}</a>\r\n            </li>\r\n        </ul>\r\n    </nav>\r\n</div>\r\n'},BSFC:function(e,t){e.exports='<listar #ctrl URL="entrada-almacen-standard?fecha_desde={{fecha_desde}}&fecha_hasta={{fecha_hasta}}&recibe={{recibe}}&estatus={{estatus}}" titulo="Entrada  de medicamentos"></listar>\r\n<app-menu-almacen-estandar [modulo]="\'Entradas de insumos\'" [icono]="\'assets/hub-estandar.svg\'" [url]="\'/almacen-estandar/entradas\'" [urlAyuda]="\'ayuda\'"></app-menu-almacen-estandar>\r\n<div style="height:40px;"></div>\r\n<div class="contenedor columns " >\r\n    <div class="column" style="padding:2em;  z-index: initial; height:100%;">\r\n        <div style="background: #FFF;">\r\n            <section class="hero is-hidden-touch" [ngClass]=" {\'is-dark\': ctrl.busquedaActivada, \'is-primary\': !ctrl.busquedaActivada}"\r\n                    style="min-height:200px; height: 25%">\r\n                <div class="hero-body" style="position:relative; height: 90%">\r\n                    <nav class="level">\r\n                        <div class="level-left"></div>\r\n                        \x3c!-- Right side --\x3e\r\n                        <div class="level-right">\r\n                            <p class="level-item"><a class="button is-dark is-medium" routerLink="nuevo" *ngIf="ctrl.busquedaActivada"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;<span>Nueva entrada</span></a></p>\r\n                            <p class="level-item"><a class="button is-primary is-medium" routerLink="nuevo" *ngIf="!ctrl.busquedaActivada"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;<span>Nueva entrada</span></a></p>\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" (click)="ctrl.busquedaActivada=false;searchBox.value=\'\'; ctrl.resultadosBusqueda=[]"><span class="icon "><i class="fa fa-close"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="Actualizar" (click)="ctrl.listarBusqueda(searchBox.value,1)"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="Actualizar" (click)="ctrl.listar(1)"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="PDF" (click)="imprimir()"><span class="icon "><i class="fa fa-file-pdf-o"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="PDF" (click)="imprimir()"><span class="icon "><i class="fa fa-file-pdf-o"></i></span></a></p>\r\n\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="Excel" (click)="export_excel()"><span class="icon "><i class="fa fa-file-excel-o"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="Excel" (click)="export_excel()"><span class="icon "><i class="fa fa-file-excel-o"></i></span></a></p>\r\n                            <p class="level-item">&nbsp;</p>\r\n                        </div>\r\n                    </nav>               \r\n                    <div class="container is-fluid">\r\n                        <span></span>\r\n                        <div class="is-hidden-desktop">\r\n                            <h1 class="title" *ngIf="!ctrl.busquedaActivada">\r\n                                <span class="icon is-medium"><i class="fa fa-user"></i></span> Entradas  de medicamentos\r\n                            </h1>\r\n                        </div>\r\n                        <h1 class="title" *ngIf="ctrl.busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-search"></i></span> B\xfasqueda\r\n                        </h1>\r\n                        <div class="control is-grouped">\r\n                            <div class="control" style="z-index: 1000;">\r\n                                <div class="field">   \r\n                                    <label class="label">Desde:</label>                         \r\n                                    <input  style="width: 150px; z-index: 1000;" class="input is-medium" [(ngModel)]=\'fecha_desde\' ngui-datetime-picker date-only="true" placeholder="YYYY-MM-DD" />\r\n                                </div>\r\n                            </div>\r\n                            <div class="control is-expanded" style="z-index: 1000;">\r\n                                <div class="field">   \r\n                                    <label class="label">Hasta:</label>                         \r\n                                    <input readonly style="width: 150px; z-index: 1000;" class="input is-medium" [(ngModel)]=\'fecha_hasta\' ngui-datetime-picker date-only="true" placeholder="YYYY-MM-DD" />\r\n                                </div>\r\n                            </div>\r\n                            <div class="control is-expanded">\r\n                                <div class="field">   \r\n                                    <label class="label">Entrega:</label>                         \r\n                                    <input class="input is-medium" type="text" placeholder="Persona que entrega" [(ngModel)]="recibe">\r\n                                </div>\r\n                            </div>\r\n                            <div class="control">\r\n                                <div class="field">  \r\n                                <label class="label">&nbsp;</label>\r\n                                <button class="button is-default is-medium" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="recibe=\'\';fecha_desde=\'\'; fecha_hasta=\'\';" >Limpiar</button>\r\n                                </div>\r\n                            </div>\r\n                            <div class="control">\r\n                                <div class="field">  \r\n                                <label class="label">&nbsp;</label>\r\n                                <button class="button is-info is-medium" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="ctrl.listar(1)" >Filtrar</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\x3c!-- 25/100% height --\x3e\r\n            <section class="hero is-hidden-desktop" [ngClass]=" {\'is-dark\': ctrl.busquedaActivada, \'is-primary\': !ctrl.busquedaActivada}">\r\n                <div class="hero-body" style="position:relative; height: 90%">\r\n                        <div class="is-hidden-desktop">\r\n                            <h1 class="title" *ngIf="!ctrl.busquedaActivada">\r\n                                <span class="icon is-medium"><i class="fa fa-user"></i></span> Entradas  de medicamentos\r\n                            </h1>\r\n                        </div>\r\n                    <nav class="level">\r\n                        <div class="level-left"></div>\r\n                        \x3c!-- Right side --\x3e\r\n                        <div class="level-right">\r\n                            <p class="level-item"><a class="button is-dark is-medium" routerLink="nuevo" *ngIf="ctrl.busquedaActivada"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;<span>Nueva entrada</span></a></p>\r\n                            <p class="level-item"><a class="button is-primary is-medium" routerLink="nuevo" *ngIf="!ctrl.busquedaActivada"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;<span>Nueva entrada</span></a></p>\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" (click)="ctrl.busquedaActivada=false;searchBox.value=\'\'; ctrl.resultadosBusqueda=[]"><span class="icon "><i class="fa fa-close"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="Actualizar" (click)="ctrl.listarBusqueda(searchBox.value,1)"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="Actualizar" (click)="ctrl.listar(1)"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="PDF" (click)="imprimir()"><span class="icon "><i class="fa fa-file-pdf-o"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="PDF" (click)="imprimir()"><span class="icon "><i class="fa fa-file-pdf-o"></i></span></a></p>\r\n\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="Excel" (click)="export_excel()"><span class="icon "><i class="fa fa-file-excel-o"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="Excel" (click)="export_excel()"><span class="icon "><i class="fa fa-file-excel-o"></i></span></a></p>\r\n                            <p class="level-item">&nbsp;</p>\r\n                        </div>\r\n                    </nav>               \r\n                    <div class="container is-fluid">\r\n                        <span></span>\r\n                        <h1 class="title" *ngIf="ctrl.busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-search"></i></span> B\xfasqueda\r\n                        </h1>\r\n                        <div class="control is-grouped">\r\n                            <div class="control" style="z-index: 1000;">\r\n                                <div class="field">   \r\n                                    <label class="label">Desde:</label>                         \r\n                                    <input  style="width: 150px; z-index: 1000;" class="input is-medium" [(ngModel)]=\'fecha_desde\' ngui-datetime-picker date-only="true" placeholder="YYYY-MM-DD" />\r\n                                </div>\r\n                            </div>\r\n                            <div class="control is-expanded" style="z-index: 1000;">\r\n                                <div class="field">   \r\n                                    <label class="label">Hasta:</label>                         \r\n                                    <input style="width: 150px; z-index: 1000;" class="input is-medium" [(ngModel)]=\'fecha_hasta\' ngui-datetime-picker date-only="true" placeholder="YYYY-MM-DD" />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="field">\r\n                            <label class="label">Entrega:</label>\r\n                            <div class="control">\r\n                                <input class="input is-medium" type="text" placeholder="Persona que entrega" [(ngModel)]="recibe">\r\n                            </div>\r\n                        </div>\r\n                        <div class="control is-grouped">\r\n                            <div class="control is-expanded">\r\n                                <div class="field">  \r\n                                <label class="label">&nbsp;</label>\r\n                                <button class="button is-expanded is-default is-medium" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="recibe=\'\';fecha_desde=\'\'; fecha_hasta=\'\';" >Limpiar</button>\r\n                                </div>\r\n                            </div>\r\n                            <div class="control">\r\n                                <div class="field">  \r\n                                <label class="label">&nbsp;</label>\r\n                                <button class="button is-info is-medium" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="ctrl.listar(1)" >Filtrar</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            \r\n        <div class="is-fullwidth has-text-centered" *ngIf="ctrl.cargando" style="height:75%;"> \x3c!-- 75/100% height --\x3e\r\n            <br>\r\n            <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n            <br>\r\n            <br>\r\n        </div>\r\n        <div id="exportable">\x3c!-- 75/100% height --\x3e\r\n            <div style="overflow:auto; display:block" [style.maxHeight.px]="ctrl.tamano-350">\r\n                <div class="is-fullwidth has-text-centered" *ngIf="cargandoPdf">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Generando PDF...</span></span>\r\n                    <br>\r\n                    <br>\r\n                </div>\r\n                <div style="overflow:auto; display:block">\r\n                    <table class="table" *ngIf="!ctrl.cargando && !cargandoPdf">\r\n                        <thead>\r\n                            <tr>\r\n                                <th style=" text-align: center;"><abbr title="Fecha">Fecha</abbr></th>\r\n                                <th style=" text-align: center;"><abbr title="Folio">Folio</abbr></th>\r\n                                <th>Insumos</th>\r\n                                <th>Entrega</th>\r\n                                <th>Usuario</th>\r\n                                <th>Estatus</th>\r\n                                <th>Donaci\xf3n</th>\r\n                                <th style=" text-align: center;">Capturado</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody *ngIf="!ctrl.busquedaActivada && ctrl.dato">\r\n                            <tr *ngFor="let item of ctrl.dato; let i=index">\r\n                                <th *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle; text-align: center;">\r\n                                    <a *ngIf="item.estatus == \'FI\'" routerLink="/almacen-estandar/entradas/ver/{{item.id}}">{{ item.fecha_movimiento }}</a>\r\n                                    <a *ngIf="item.estatus == \'BR\'" routerLink="/almacen-estandar/entradas/editar/{{item.id}}">{{ item.fecha_movimiento }}</a>\r\n                                </th>\r\n                                <th *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle; text-align: center;">\r\n                                    <a *ngIf="item.estatus == \'FI\'" routerLink="/almacen-estandar/entradas/ver/{{item.id}}">{{ item.id }}</a>\r\n                                    <a *ngIf="item.estatus == \'BR\'" routerLink="/almacen-estandar/entradas/editar/{{item.id}}">{{ item.id }}</a>\r\n                                </th>\r\n                                <td *ngIf="item.numero_claves && item.numero_insumos && (i+1)<ctrl.dato.length">\r\n                                    <a *ngIf="item.estatus == \'FI\'" routerLink="/almacen-estandar/entradas/ver/{{item.id}}"> \r\n                                        <p> Claves: {{item.numero_claves}}</p> <p> Insumos: {{item.numero_insumos}}</p>\r\n                                    </a>\r\n                                    <a *ngIf="item.estatus == \'BR\'" routerLink="/almacen-estandar/entradas/editar/{{item.id}}"> \r\n                                        <p> Claves: {{item.numero_claves}}</p> <p> Insumos: {{item.numero_insumos}}</p>\r\n                                    </a>\r\n                                </td>\r\n                                <td *ngIf="!item.numero_claves && !item.numero_insumos && (i+1)<ctrl.dato.length"> No disponible</td>\r\n                                <td *ngIf="item.movimiento_metadato && (i+1)<ctrl.dato.length" style="vertical-align: middle;" >\r\n                                    <a *ngIf="item.estatus == \'FI\'" routerLink="/almacen-estandar/entradas/ver/{{item.id}}">{{ item.movimiento_metadato.persona_entrega }}</a>\r\n                                    <a *ngIf="item.estatus == \'BR\'" routerLink="/almacen-estandar/entradas/editar/{{item.id}}">{{ item.movimiento_metadato.persona_entrega }}</a>\r\n                                </td>\r\n                                <td *ngIf="!item.movimiento_metadato && (i+1)<ctrl.dato.length" style="vertical-align: middle;" >No disponible</td>\r\n                                <td *ngIf="!item.movimiento_usuario && (i+1)<ctrl.dato.length" style="vertical-align: middle;" >No disponible</td>\r\n                                <td *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle;">\r\n                                    <a *ngIf="item.estatus == \'FI\'" routerLink="/almacen-estandar/entradas/ver/{{item.id}}">{{ item.movimiento_usuario.nombre }} {{ item.movimiento_usuario.apellidos }} </a>\r\n                                    <a *ngIf="item.estatus == \'BR\'" routerLink="/almacen-estandar/entradas/editar/{{item.id}}">{{ item.movimiento_usuario.nombre }} {{ item.movimiento_usuario.apellidos }} </a>\r\n                                </td>                        \r\n                                <td *ngIf="(i+1)<ctrl.dato.length">\r\n                                    <a *ngIf="item.estatus == \'FI\'" routerLink="/almacen-estandar/entradas/ver/{{item.id}}"><span class="tag is-success is-medium" *ngIf="item.estatus == \'FI\'">Finalizado</span></a>\r\n                                    <a *ngIf="item.estatus == \'BR\'" routerLink="/almacen-estandar/entradas/editar/{{item.id}}"><span class="tag is-warning is-medium" *ngIf="item.estatus == \'BR\'">Borrador</span></a>\r\n                                </td>\r\n                                <td *ngIf="(i+1)<ctrl.dato.length">\r\n                                    <a *ngIf="item.estatus == \'FI\'" routerLink="/almacen-estandar/entradas/ver/{{item.id}}"><span class="tag is-info is-medium" *ngIf="item.movimiento_metadato.donacion == \'1\' || item.movimiento_metadato.donacion == 1">Donaci\xf3n</span></a>\r\n                                </td>\r\n                                <td *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle; text-align: center;">\r\n                                    <a *ngIf="item.estatus == \'FI\'" routerLink="/almacen-estandar/entradas/ver/{{item.id}}">{{ item.created_at | date:\'medium\'}} </a>\r\n                                    <a *ngIf="item.estatus == \'BR\'" routerLink="/almacen-estandar/entradas/editar/{{item.id}}">{{ item.created_at | date:\'medium\'}} </a>\r\n                                </td>\r\n                            </tr>\r\n                            <tr *ngIf="!ctrl.dato">\r\n                                <td colspan="6" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>\r\n                            </tr>\r\n                        </tbody>\r\n                        <tbody *ngIf="!ctrl.dato">\r\n                            <tr>\r\n                                <td colspan="6" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                            </tr>\r\n                        </tbody>\r\n                        <tbody *ngIf="ctrl.busquedaActivada && ctrl.dato">\r\n                            <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">\r\n                                <th style="vertical-align: middle; text-align: center;"><a routerLink="/almacen-estandar/entradas/ver/{{item.id}}">{{ item.id }}</a></th>\r\n                                <td style="vertical-align: middle;" *ngIf="item.movimiento_metadato"><a *ngIf="item.movimiento_metadato.servicio.nombre" routerLink="/almacen-estandar/entradas/ver/{{item.id}}">{{ item.movimiento_metadato.servicio.nombre }}</a></td>\r\n                                <td style="vertical-align: middle;" *ngIf="!item.movimiento_metadato">No disponible</td>\r\n                                <td style="vertical-align: middle;" *ngIf="item.movimiento_metadato"><a *ngIf="item.movimiento_metadato.turno.nombre" routerLink="/almacen-estandar/entradas/ver/{{item.id}}">{{ item.movimiento_metadato.turno.nombre }} </a></td>\r\n                                <td style="vertical-align: middle;" *ngIf="!item.movimiento_metadato">No disponible</td>\r\n                                <td style="vertical-align: middle;"><a routerLink="/almacen-estandar/entradas/ver/{{item.id}}">{{ item.movimiento_usuario.nombre }} {{ item.movimiento_usuario.apellidos }} </a></td>\r\n                                <td style="vertical-align: middle;"><a routerLink="/almacen-estandar/entradas/ver/{{item.id}}">{{ item.estatus }} </a></td>\r\n                                <td style="vertical-align: middle; text-align: center;"><a routerLink="/almacen-estandar/entradas/ver/{{item.id}}">{{ item.created_at | date}} </a></td>\r\n                                <td style="vertical-align: middle; text-align: center;"><a routerLink="/almacen-estandar/entradas/ver/{{item.id}}">{{ item.updated_at | date}} </a></td>\r\n                            </tr>\r\n\r\n                            <tr *ngIf="ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada">\r\n                                <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [total]="ctrl.total" [paginasTotales]="ctrl.paginasTotales" [resultadosPorPagina]="ctrl.resultadosPorPagina"\r\n                [paginaActual]="ctrl.paginaActual" [indicePaginas]="ctrl.indicePaginas" (onSiguiente)="ctrl.paginaSiguiente()"\r\n                (onAnterior)="ctrl.paginaAnterior()" (onListar)="ctrl.listar($event)" *ngIf="ctrl.total>0 && ctrl.total > ctrl.resultadosPorPagina && !ctrl.busquedaActivada"></paginacion>\r\n            \x3c!-- Paginaci\xf3n para la b\xfasqueda  --\x3e\r\n            <paginacion [total]="ctrl.totalBusqueda" [paginasTotales]="ctrl.paginasTotalesBusqueda" [resultadosPorPagina]="ctrl.resultadosPorPaginaBusqueda"\r\n                [paginaActual]="ctrl.paginaActualBusqueda" [indicePaginas]="ctrl.indicePaginasBusqueda" (onSiguiente)="ctrl.paginaSiguienteBusqueda(searchBox.value)"\r\n                (onAnterior)="ctrl.paginaAnteriorBusqueda(searchBox.value)" (onListar)="ctrl.listarBusqueda(searchBox.value,$event)"\r\n                *ngIf="ctrl.totalBusqueda > 0 && ctrl.totalBusqueda > ctrl.resultadosPorPaginaBusqueda && ctrl.busquedaActivada"></paginacion>\r\n\r\n\r\n\r\n        </div>\r\n\r\n    </div>\r\n</div>'},BXa0:function(e,t){e.exports='<div class="modal is-active" >\r\n  <div class="modal-background" (click)="cerrar()"></div>\r\n  <div class="modal-card" style="width:95%; height: 100%;">\r\n    <header class="modal-card-head" style="background: #00d1b2;">\r\n      <div class="container is-fluid"  style="width:100%;">\r\n          <h1 class="title" style="color:#FFF;">\r\n            <span class="icon is-medium"><i class="fa fa-search"></i></span> Insumos m\xe9dicos \r\n          </h1>\r\n          <p class="control is-expanded">\r\n              <input class="input "  type="text" placeholder="Buscar insumo" #searchBox id="search-box" (keyup)="buscar(searchBox.value)">\r\n          </p>\r\n      </div>            \r\n      <a class="button  is-primary" style="position:absolute; top:1em; right:1em;" (click)="cerrar()"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n    </header>\r\n    <section class="modal-card-body" style="padding:0px;" >\r\n      <div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n          <br>\r\n          <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n          <br>\r\n          <br>\r\n      </div>\r\n      <table class="table" *ngIf="!cargando" style="font-size: 0.8em;" >\r\n        <thead>\r\n            <tr>\r\n            <th></th>\r\n            <th class="is-hidden-mobile">Clave</th>\r\n            <th>Descripci\xf3n</th>\r\n            <th style="text-align:center" class="is-hidden-mobile">Grupo(s)</th>\r\n            <th style="text-align:center"><abbr title="Tipo de insumo">Tipo</abbr></th>\r\n            <th style="text-align:left" *ngIf="conPrecios">Precio</th>\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            <tr *ngFor="let item of insumos" class="is-unselectable" [ngClass]="{\'item-seleccionado\': item == insumoSeleccionado, \'is-disabled\': (!conClues && !conStock && listaAgregados.indexOf(item.clave) >= 0)}" style="cursor: pointer" (click)="seleccionar(item)">\r\n              <td valign="middle">\r\n                <span *ngIf="item != insumoSeleccionado" class="icon is-small" style="color:#999"><i class="fa fa-circle-thin"></i></span>\r\n                <span *ngIf="item == insumoSeleccionado" class="icon is-small" style="color:#00d1b2"><i class="fa fa-check-circle"></i></span>\r\n              </td>                      \r\n              <td class="is-hidden-mobile">{{ item.clave }}</td>\r\n              <td>\r\n                <small class="is-hidden-tablet">{{ item.clave }} <br></small>\r\n                \x3c!--div *ngIf="item.tipo != \'ME\'" style="line-height:1em;"--\x3e\r\n                <div style="line-height:1em;">\r\n                  <small>{{ item.descripcion }}</small>\r\n                </div>\r\n                <div style="padding: 0.5em 0 0.5em 0; ">\r\n                  <span *ngIf="(item.es_causes && item.tipo == \'ME\')" class="tag is-success" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">CAUSES</span>\r\n                  <span *ngIf="(!item.es_causes && item.tipo == \'ME\')" class="tag is-danger" style="font-size: 0.7em !important;">NO CAUSES</span>\r\n                  <span *ngIf="item.tipo == \'MC\'" class="tag is-warning" style="font-size: 0.7em !important;">MATERIAL CURACI\xd3N</span>\r\n                  <span *ngIf="item.es_cuadro_basico" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">Cuadro b\xe1sico</span>\r\n                  <span *ngIf="(item.tipo == \'ME\' && item.informacion)">\r\n                    <span *ngIf="item.informacion.es_controlado" class="tag is-info" style="font-size: 0.7em">Controlado</span>\r\n                    <span *ngIf="item.informacion.es_surfactante" class="tag is-info" style="font-size: 0.7em">Surfactante</span>  \r\n                  </span>\r\n                </div>\r\n              </td>\r\n\r\n              \x3c!--td >\r\n                <small class="is-hidden-tablet">{{ item.clave }} <br></small>\r\n                <b>{{ item.generico_nombre }}</b> <br  class="is-hidden-mobile"><small *ngIf="(item.tipo == \'ME\' && item.informacion)"><b>{{ item.informacion.concentracion }}</b></small><br>\r\n                \r\n                <div class="is-hidden-tablet" *ngIf="(item.tipo == \'ME\' && item.informacion)" style="line-height:1em;">\r\n                  <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                  <small><i>{{ item.informacion.contenido }} </i></small>\r\n                </div>\r\n                <div class="is-hidden-tablet" *ngIf="item.tipo != \'ME\'" style="line-height:1em;">\r\n                  <small>{{ item.descripcion }}</small>\r\n                </div>\r\n                <div class="is-hidden-tablet" style="padding: 0.5em 0 0.5em 0; ">\r\n                  <span *ngIf="(item.es_causes && item.tipo == \'ME\')" class="tag is-success" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">CAUSES</span>\r\n                  <span *ngIf="(!item.es_causes && item.tipo == \'ME\')" class="tag is-danger" style="font-size: 0.7em !important;">NO CAUSES</span>\r\n                  <span *ngIf="item.tipo == \'MC\'" class="tag is-warning" style="font-size: 0.7em !important;">MATERIAL CURACI\xd3N</span>\r\n                  <span *ngIf="item.es_cuadro_basico" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">Cuadro b\xe1sico</span>\r\n                  \r\n                  <span *ngIf="(item.tipo == \'ME\' && item.informacion)">\r\n                    <span *ngIf="item.informacion.es_controlado" class="tag is-info" style="font-size: 0.7em">Controlado</span>\r\n                    <span *ngIf="item.informacion.es_surfactante" class="tag is-info" style="font-size: 0.7em">Surfactante</span>  \r\n                  </span>\r\n                  \r\n                </div>\r\n              </td> \r\n\r\n              <td class="is-hidden-mobile">\r\n                <div *ngIf="(item.tipo == \'ME\' && item.informacion)" style="line-height:1em;">\r\n                  <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                  <small><i>{{ item.informacion.contenido }} </i></small>\r\n                </div>\r\n                <div *ngIf="item.tipo != \'ME\'" style="line-height:1em;">\r\n                  <small>{{ item.descripcion }}</small>\r\n                </div>\r\n                <div style="padding: 0.5em 0 0.5em 0; ">\r\n                  <span *ngIf="(item.es_causes && item.tipo == \'ME\')" class="tag is-success" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">CAUSES</span>\r\n                  <span *ngIf="(!item.es_causes && item.tipo == \'ME\')" class="tag is-danger" style="font-size: 0.7em !important;">NO CAUSES</span>\r\n                  <span *ngIf="item.tipo == \'MC\'" class="tag is-warning" style="font-size: 0.7em !important;">MATERIAL CURACI\xd3N</span>\r\n                  <span *ngIf="item.es_cuadro_basico" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">Cuadro b\xe1sico</span>\r\n                  <span *ngIf="(item.tipo == \'ME\' && item.informacion)">\r\n                    <span *ngIf="item.informacion.es_controlado" class="tag is-info" style="font-size: 0.7em">Controlado</span>\r\n                    <span *ngIf="item.informacion.es_surfactante" class="tag is-info" style="font-size: 0.7em">Surfactante</span>  \r\n                  </span>\r\n                </div>\r\n              </td--\x3e\r\n\r\n              <td style="text-align:center;" class="is-hidden-mobile">\r\n                <div *ngIf="item.generico">\r\n                  <span *ngFor="let grupo of item.generico.grupos">{{grupo.nombre}}<br></span>\r\n                </div>\r\n              </td>\r\n              <td style="text-align:center;">\r\n                <b>\r\n                  <abbr *ngIf="item.tipo == \'ME\'" title="Medicamento">ME</abbr>\r\n                  <abbr *ngIf="item.tipo == \'MC\'" title="Material de curaci\xf3n">MC</abbr>\r\n                  <abbr *ngIf="item.tipo == \'AD\'" title="Auxiliar de diagn\xf3stico">AD</abbr>\r\n                </b>\r\n              </td>\r\n              <td style="text-align:left;" *ngIf="conPrecios">\r\n                <b>\r\n                  <abbr>$ {{item.precio | number:\'1.2-2\'}}</abbr>\r\n                </b>\r\n              </td>\r\n              \x3c!--td style="text-align:center">\r\n                <a (click)="mostrarFichaInformativa($event,item.clave)"><span class="icon"><i class="fa fa-info-circle"></i></span></a>\r\n              </td--\x3e\r\n            </tr>  \r\n            <tr *ngIf="insumos.length == 0 && searchBox.value != \'\'">\r\n                <td colspan="7" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>                    \r\n            </tr>\r\n            <tr *ngIf="insumos.length == 0 && searchBox.value == \'\' ">\r\n                <td colspan="7" style="vertical-align: middle; color:#888;">Por favor escriba en el campo de b\xfasqueda para encontrar insumos.</td>                    \r\n            </tr>      \r\n        </tbody>  \r\n      </table>\r\n      <br>\r\n    </section>\r\n    <footer class="" style="position:relative; padding:1em;background: #FFF; border-top:1px solid #EEE; border-radius:0 0 0.8em 0.8em " >\r\n      \r\n      <paginacion \r\n                [total]="total" \r\n                [paginasTotales]="paginasTotales" \r\n                [resultadosPorPagina]="resultadosPorPagina" \r\n                [paginaActual]="paginaActual" \r\n                [indicePaginas]="indicePaginas"\r\n                (onSiguiente)="paginaSiguiente(searchBox.value)" \r\n                (onAnterior)="paginaAnterior(searchBox.value)" \r\n                (onListar)="listar(searchBox.value,$event)" \r\n                *ngIf="total > 0 && total > resultadosPorPagina "></paginacion>\r\n      <div class="notification is-dark is-unselectable mensaje-agregar" [ngClass]="{ \'mostrar\': mensajeAgregado.mostrar}"    *ngIf="mensajeAgregado.mostrar" (click)="mensajeAgregado.mostrar=false">\r\n        <span class="icon"><i class="fa fa-check-circle"></i></span> <span>Agregado</span>\r\n      </div>\r\n  \r\n      <form (submit)="enviar($event)" >\r\n        <div class="columns">\r\n          <div class="column" *ngIf="conClues">\r\n               <div class="field">\r\n                <label>Unidad m\xe9dica:</label>\r\n                <p class="control is-expanded">                  \r\n                  <span class="select is-fullwidth">              \r\n                    <select (change)="seleccionarClues($event.target.value)" #cluesSelect [disabled]="listaCluesUtilizadasConInsumo.length == listaClues.length">\r\n                      <option value="-1">Seleccione una clues</option>\r\n                      <option value="TODAS" *ngIf="listaClues.length > 0" [disabled]="listaCluesUtilizadasConInsumo.length > 0">Todas las unidades m\xe9dicas</option>\r\n                      <option *ngFor="let um of listaClues" value="{{ um.clues }}" [disabled]="listaCluesUtilizadasConInsumo.indexOf(um.clues)>= 0">{{ um.clues }} - {{ um.nombre }}</option>\r\n                    </select>\r\n                  </span>\r\n                </p>\r\n              </div>                   \r\n          </div>\r\n          <div class="column" *ngIf="conStock">\r\n            <div class="field">\r\n              <label>Stock:</label>\r\n              <p class="control is-expanded">                  \r\n                <span class="select is-fullwidth" *ngIf="!cargandoStock">              \r\n                  <select (change)="seleccionarStock($event.target.value)" #stockSelect>\r\n                    <option value="-1">Seleccione un elemento</option>\r\n                    <option *ngFor="let stock of listaStock" value="{{ stock.id }}" [disabled]="listaAgregadosConStock[stock.id]">L: {{ stock.lote }} - Cad: {{ stock.fecha_caducidad }} - E: {{ stock.existencia }} {{ (listaAgregadosConStock[stock.id])?\'( -\'+listaAgregadosConStock[stock.id]+\' )\':\'\' }}</option>\r\n                  </select>\r\n                </span>\r\n                <span class="is-fullwidth" *ngIf="cargandoStock">\r\n                  <span class="icon"><i class="fa fa-refresh fa-spin"></i></span> Cargando lotes...\r\n                </span>\r\n              </p>\r\n            </div>                   \r\n          </div>\r\n          <div class="column">\r\n           \r\n              <div class="control is-grouped is-pulled-right" >            \r\n                <p class="control is-expanded" [ngClass]=" {\'is-hidden\': !conCantidad }" >\r\n                    <label>Consumo promedio mensual: 0</label>\r\n                    <input class="input is-medium" [disabled]="insumoSeleccionado == null" type="number" placeholder="Cantidad" #cantidadBox id="cantidad" (keyup)="comprobarCantidad(cantidadBox.value)" >\r\n                </p>\r\n                <p class="control">\r\n                    <label>&nbsp;</label>\r\n                    <button [disabled]="(!cantidadValida && conCantidad )|| insumoSeleccionado == null || (conClues && clues == -1)" class="button is-medium is-primary " >\r\n                    <span class="icon"><i class="fa fa-plus"></i></span><span>Agregar</span>\r\n                    </button>\r\n                </p>\r\n              </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </footer>\r\n    <div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n        <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n        <b>Error:</b> {{ mensajeError.texto }}\r\n    </div>\r\n  </div>\r\n</div>\r\n'},BkIj:function(e,t){e.exports='<aside class="menu" style="padding-left: 1em; margin-top: -3em">\r\n    <div *ngFor="let item of menuAutorizado">\r\n        <br>\r\n        <p class="menu-label">{{ item.titulo }}</p>\r\n        <ul class="menu-list">\r\n            <li *ngFor="let modulo of item.modulos">\r\n                <a routerLink="{{ modulo.url }}" routerLinkActive="is-active">\r\n                    <span class="icon" ><img src="{{ modulo.icono }}"></span>&nbsp;&nbsp;<span>{{ modulo.titulo }}</span>\r\n                </a>\r\n            </li>    \r\n        </ul>\r\n    </div>\r\n        \r\n</aside>'},BnFd:function(e,t){e.exports='<panel-control-menu></panel-control-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%; ">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" >\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden; margin:2em;">\r\n            <section class="hero is-primary">\r\n                <div class="hero-body">\r\n                    <div class="container is-fluid">\r\n                        <h1 class="title">\r\n                            <span  *ngIf="!cargando" class="icon is-medium"><i class="fa fa-plus"></i></span>\r\n                            <span  *ngIf="cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span> \r\n                            Nuevo permiso\r\n                        </h1>\r\n                        \r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <section class="section">\r\n                <div class="control is-grouped">\r\n                    <p class="control is-expanded  has-icon has-icon-right">\r\n                        <input class="input is-medium" [(ngModel)]="permiso.descripcion"  [ngClass]="{ \'is-danger\': errores.descripcion != null}"  type="text" placeholder="Descripci\xf3n" >\r\n                        \r\n                        <span class="icon is-small" *ngIf="errores.descripcion == \'required\'">\r\n                        <i class="fa fa-warning"></i>\r\n                        </span>\r\n                        <span class="help is-danger" *ngIf="errores.descripcion == \'required\'">Este campo es requerido.</span>\r\n                    </p>\r\n                    <p class="control is-expanded  has-icon has-icon-right">\r\n                        <input class="input is-medium" [(ngModel)]="permiso.grupo"  [ngClass]="{ \'is-danger\': errores.grupo != null}"  type="text" placeholder="Grupo" >\r\n                        \r\n                        <span class="icon is-small" *ngIf="errores.grupo == \'required\'">\r\n                        <i class="fa fa-warning"></i>\r\n                        </span>\r\n                        <span class="help is-danger" *ngIf="errores.grupo == \'required\'">Este campo es requerido.</span>\r\n                    </p>\r\n                </div>\r\n                \r\n                \r\n                <div class="field">\r\n                    <div class="control  ">\r\n                        <label class="checkbox">\r\n                        <input type="checkbox" [(ngModel)]="permiso.su">\r\n                        Super usuario\r\n                        </label>\r\n                    </div>\r\n                </div>   \r\n                <br>\r\n                    \r\n                <div class="control is-grouped">\r\n                    \r\n                    <p class="control">\r\n                        <a class="button is-medium is-primary " [ngClass]="{ \'is-loading\': enviando}" (click)="guardar()" >\r\n                        <span class="icon"><i class="fa fa-save"></i></span><span>Guardar</span>\r\n                        </a>\r\n                    </p><p class="control">\r\n                        <a class="button is-medium is-white " [ngClass]="{ \'is-disabled\': enviando}" routerLink="/panel-control/permisos">Cancelar</a>\r\n                    </p>                    \r\n                </div>\r\n                           \r\n              \r\n              <br>\r\n              \r\n\r\n\r\n            </section>\r\n            \r\n        </div>\r\n        \r\n    </div>\r\n</div>\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br> \r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeError.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n'},BvwC:function(e,t){e.exports=""},C64X:function(e,t){e.exports='<section  class="top-nav">\r\n            \r\n    <nav class="nav">\r\n        <a title="Farmacia Subrrogada" class="nav-item pull-left nav-hub-active"  routerLink="/farmacia-subrrogada">\r\n            \r\n            <img src="assets/hub-farmacia-sub.svg" alt="icono">\r\n        \r\n        </a>\r\n        <div class="nav-left">\r\n            \r\n            <span *ngIf="!modulo" class="nav-item" >\r\n                <h1 class="title">&nbsp;Farmacia Subrrogada</h1>\r\n            </span>\r\n            <a *ngIf="modulo" class="nav-item" routerLink="{{ url }}" >\r\n            \r\n            \x3c!-- <img src="{{ icono }}" alt="icono">--\x3e\r\n                <h1 class="title">&nbsp;{{ modulo }}</h1>                     \r\n            </a>\r\n        </div>\r\n\r\n        <a class="nav-item"  (click)="hub.toggle()">\r\n            <span class="icon">\r\n                <i class="fa fa-th"></i>\r\n            </span>\r\n        </a>\r\n\r\n        <a class="nav-item is-hidden-mobile" (click)="perfil.toggle()">                    \r\n            <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n            &nbsp;\r\n            <span>{{ usuario.nombre }} {{ usuario.apellidos }}</span>\r\n        </a>\r\n        <a class="nav-item is-hidden-tablet" (click)="perfil.toggle()">\r\n            \r\n            <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n        </a>\r\n        \r\n        \r\n    </nav>\r\n</section>\r\n\r\n<app-hub #hub></app-hub>\r\n<app-perfil #perfil></app-perfil>'},CMHd:function(e,t){e.exports='<admision-menu></admision-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%; ">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <admision-menu-lateral></admision-menu-lateral>\r\n    </div>\r\n    <div class="column" style="padding:2em;">\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n            <section class="hero" [ngClass] = " {\'is-dark\': busquedaActivada, \'is-primary\': !busquedaActivada } " >\r\n                \r\n                <div class="hero-body" style="position:relative;">\r\n                    <a class="button  is-dark" *ngIf="busquedaActivada" style="position:absolute; top:1em; right:1em;" (click)="busquedaActivada=false;searchBox.value=\'\';resultadosBusqueda=[]"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n                    <a class="button  is-dark" *ngIf="busquedaActivada" style="position:absolute; top:1em; right:3.5em;" (click)="listarBusqueda(searchBox.value,1)"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                    <a class="button  is-primary" *ngIf="!busquedaActivada" style="position:absolute; top:1em; right:1em;" (click)="listar(1)"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                    <div class="container is-fluid">\r\n                        \r\n                        <h1 class="title" *ngIf="!busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-user"></i></span> Lista de Pacientes\r\n                        </h1>\r\n                        <h1 class="title" *ngIf="busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-search"></i></span> B\xfasqueda \r\n                        </h1>\r\n                        <div class="control is-grouped">\r\n                        <p class="control is-expanded">\r\n                            <input class="input is-medium" type="text" placeholder="Buscar" #searchBox id="search-box" (keyup)="buscar(searchBox.value)">\r\n                        </p>\r\n                        <p class="control">\r\n                            <a class="button is-medium is-primary is-inverted "  (click)="showDialog = !showDialog">\r\n                            <span class="icon" ><i class="fa fa-plus"></i></span><span>Nuevo Paciente</span>\r\n                            </a>\r\n                        </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n        \r\n            <table class="table" *ngIf="!cargando">\r\n                <thead>\r\n                    <tr>\r\n                    <th></th>\r\n                    <th><abbr title="Paciente ID">ID</abbr></th>\r\n                    <th>Nombre</th>\r\n                    <th>Fecha Nacimiento</th>\r\n                    <th>Localidad (Municipio)</th>\r\n                    <th>Fecha Ingreso</th>\r\n                    <th>Ingresado</th>\r\n                    <th>Unidad</th>\r\n                    <th style="text-align:center;">Opciones</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody  *ngIf="!busquedaActivada">\r\n                    <tr *ngFor="let item of pacientes; let i=index">\r\n                        <th><a routerLink="/pacientes/modulo/ingreso/{{item.id}}"><img style="min-width: 1.5em; width:2em;" src="assets/{{ item.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></a></th>\r\n                        <th style="vertical-align: middle;"><a routerLink="/pacientes/modulo/ingreso/{{item.id}}">{{ item.id }}</a></th>\r\n                        <td style="vertical-align: middle;"><a routerLink="/pacientes/modulo/ingreso/{{item.id}}">{{ item.nombre }}</a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/pacientes/modulo/ingreso/{{item.id}}">{{ item.fecha_nacimiento }}</a></td>\r\n                        <td style="vertical-align: middle;" *ngIf="item.localidad"><a routerLink="/pacientes/modulo/ingreso/{{item.id}}">{{item.localidad.nombre }} ( {{item.localidad.municipio.nombre }} ) </a></td>\r\n                        <td style="vertical-align: middle;" *ngIf="!item.localidad"><a routerLink="/pacientes/modulo/ingreso/{{item.id}}">DESCONOCIDO</a></td>\r\n                        \r\n                        <td style="vertical-align: middle;" *ngIf="item.ingresoactivos.length == 1"><a routerLink="/pacientes/modulo/ingreso/{{item.id}}">{{item.ingresoactivos[0].fecha_hora_ingreso}} </a></td>\r\n                         <td style="vertical-align: middle;" *ngIf="item.ingresoactivos.length == 0"><a routerLink="/pacientes/modulo/ingreso/{{item.id}}"></a></td>\r\n\r\n                        <td style="vertical-align: middle;" *ngIf="item.ingresoactivos.length == 1"><a routerLink="/pacientes/modulo/ingreso/{{item.id}}">SI </a></td>\r\n                        <td style="vertical-align: middle;" *ngIf="item.ingresoactivos.length == 0"><a routerLink="/pacientes/modulo/ingreso/{{item.id}}">NO </a></td>\r\n                        <td style="vertical-align: middle;" *ngIf="item.ingresoactivos.length == 1"><a routerLink="/pacientes/modulo/ingreso/{{item.id}}">{{ item.ingresoactivos[0].unidad.nombre}} </a></td>\r\n                       \r\n                        \r\n                        <td style="vertical-align: middle;" *ngIf="item.ingresoactivos.length == 0"><a routerLink="/pacientes/modulo/ingreso/{{item.id}}"> </a></td>\r\n                        <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando" class="is-primary" routerLink="/pacientes/modulo/ingreso/{{item.id}}"><span class="icon"><i class="fa fa-hospital-o"></i></span></a></td>\r\n                        \r\n                    </tr>\r\n                    <tr *ngIf="pacientes.length == 0">\r\n                        <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n                <tbody *ngIf="busquedaActivada">\r\n                    <tr *ngFor="let item of resultadosBusqueda; let i=index">\r\n                    <th><a routerLink="/pacientes/modulo/ingreso/{{item.id}}"><img style="min-width: 1.5em; width:2em;" src="assets/{{ item.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></a></th>\r\n                        <th style="vertical-align: middle;"><a routerLink="/pacientes/modulo/ingreso/{{item.id}}">{{ item.id }}</a></th>\r\n                        <td style="vertical-align: middle;"><a routerLink="/pacientes/modulo/ingreso/{{item.id}}">{{ item.nombre }}</a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/pacientes/modulo/ingreso/{{item.id}}">{{ item.fecha_nacimiento }}</a></td>\r\n                        <td style="vertical-align: middle;" *ngIf="item.localidad"><a routerLink="/pacientes/modulo/ingreso/{{item.id}}">{{item.localidad.nombre }} ( {{item.localidad.municipio.nombre }} ) </a></td>\r\n                        <td style="vertical-align: middle;" *ngIf="!item.localidad"><a routerLink="/pacientes/modulo/ingreso/{{item.id}}">DESCONOCIDO</a></td>\r\n                        \r\n                        <td style="vertical-align: middle;" *ngIf="item.ingresoactivos.length == 1"><a routerLink="/pacientes/modulo/ingreso/{{item.id}}">{{item.ingresoactivos[0].fecha_hora_ingreso}} </a></td>\r\n                         <td style="vertical-align: middle;" *ngIf="item.ingresoactivos.length == 0"><a routerLink="/pacientes/modulo/ingreso/{{item.id}}"></a></td>\r\n\r\n                        <td style="vertical-align: middle;" *ngIf="item.ingresoactivos.length == 1"><a routerLink="/pacientes/modulo/ingreso/{{item.id}}">SI </a></td>\r\n                        <td style="vertical-align: middle;" *ngIf="item.ingresoactivos.length == 0"><a routerLink="/pacientes/modulo/ingreso/{{item.id}}">NO </a></td>\r\n                        <td style="vertical-align: middle;" *ngIf="item.ingresoactivos.length == 1"><a routerLink="/pacientes/modulo/ingreso/{{item.id}}">{{ item.ingresoactivos[0].unidad.nombre}} </a></td>\r\n                       \r\n                        \r\n                        <td style="vertical-align: middle;" *ngIf="item.ingresoactivos.length == 0"><a routerLink="/pacientes/modulo/ingreso/{{item.id}}"> </a></td>\r\n                        <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando" class="is-primary" routerLink="/pacientes/modulo/ingreso/{{item.id}}"><span class="icon"><i class="fa fa-hospital-o"></i></span></a></td>\r\n                    \r\n                    </tr>\r\n\r\n                    <tr *ngIf="resultadosBusqueda.length == 0 && busquedaActivada">\r\n                        <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            \r\n            <paginacion \r\n                [total]="total" \r\n                [paginasTotales]="paginasTotales" \r\n                [resultadosPorPagina]="resultadosPorPagina" \r\n                [paginaActual]="paginaActual" \r\n                [indicePaginas]="indicePaginas"\r\n                (onSiguiente)="paginaSiguiente()" \r\n                (onAnterior)="paginaAnterior()" \r\n                (onListar)="listar($event)" \r\n                *ngIf="total>0 && total > resultadosPorPagina && !busquedaActivada"></paginacion>\r\n            <paginacion \r\n                [total]="totalBusqueda" \r\n                [paginasTotales]="paginasTotalesBusqueda" \r\n                [resultadosPorPagina]="resultadosPorPaginaBusqueda" \r\n                [paginaActual]="paginaActualBusqueda" \r\n                [indicePaginas]="indicePaginasBusqueda"\r\n                (onSiguiente)="paginaSiguienteBusqueda(searchBox.value)" \r\n                (onAnterior)="paginaAnteriorBusqueda(searchBox.value)" \r\n                (onListar)="listarBusqueda(searchBox.value,$event)" \r\n                *ngIf="totalBusqueda > 0 && totalBusqueda > resultadosPorPaginaBusqueda && busquedaActivada"></paginacion>\r\n           \r\n           \r\n            \r\n        </div>\r\n    </div>        \r\n   \r\n</div>\r\n\r\n<div id="modal-paciente" class="modal is-active" [ngClass]="{\'is-active\': showDialog}">\r\n  <div class="modal-background"  (click)="showDialog = !showDialog"></div>\r\n  <div class="modal-card" style="width:60%; height: auto;">\r\n    <header class="modal-card-head" style="background-color: #00d1b2" >\r\n      <div class="container is-fluid"  style="width:100%;">\r\n          <h1 class="title" style="color:#FFF;">\r\n            <span class="icon is-medium"><i class="fa fa-user"></i></span> Agregar Paciente\r\n          </h1>\r\n      </div>            \r\n      <a class="button  is-primary" style="position:absolute; top:1em; right:1em;" (click)="showDialog = !showDialog"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n    </header>\r\n    <section class="section">\r\n                <form name="form" [formGroup]="paciente"   (ngSubmit)="enviar()" >     \r\n                  \r\n                  <div class="control is-grouped">\r\n                    <p class="control is-expanded  has-icon has-icon-right">\r\n                        <label class="label">Paciente Conocido</label>\r\n                        <span class="select is-fullwidth">\r\n                            <select formControlName="conocido" name="conocido" (change)="paciente_conocido()">\r\n                                <option value="1">SI</option>\r\n                                <option value="2">NO</option>\r\n                            </select>\r\n\r\n                        </span> \r\n                    </p>\r\n\r\n                    <p class="control is-expanded  has-icon has-icon-right">\r\n                        <label class="label">Resposable Conocido</label>\r\n                        <span class="select is-fullwidth">\r\n                            <select formControlName="responsableconocido" name="responsableconocido" (change)="responsable()">\r\n                                <option value="1">SI</option>\r\n                                <option value="2">NO</option>\r\n                            </select>\r\n\r\n                        </span> \r\n                    </p>\r\n                    \r\n                  </div>\r\n\r\n                  \r\n                   <div [hidden]="verForm">\r\n                        \r\n                    <section class="section" style="padding: 1rem 1.5rem; background-color: #EFEFEF">\r\n                        <div class="container">\r\n                          <div class="heading">\r\n                            <h1 class="title">Datos del Paciente</h1>\r\n                          </div>\r\n                        </div>\r\n                    </section> \r\n                      <div class="control is-grouped">\r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                            <label class="label">Nombre</label>\r\n                          <input class="input" autofocus type="text"  placeholder="Nombre" formControlName="nombre">\r\n                          <span class="icon is-small" *ngIf="paciente.get(\'nombre\').hasError(\'required\') && paciente.get(\'nombre\').touched">\r\n                            <i class="fa fa-warning"></i>\r\n                          </span>\r\n                          <span class="help is-danger" *ngIf="paciente.get(\'nombre\').hasError(\'required\') && paciente.get(\'nombre\').touched">Este campo es requerido.</span>\r\n                        </p>\r\n                        \r\n                      </div>\r\n                      <div class="control is-grouped">\r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                            <label class="label">Sexo</label>\r\n                            <span class="select is-fullwidth">\r\n                                <select formControlName="sexo" name="sexo">\r\n                                    <option value="1">MASCULINO</option>\r\n                                    <option value="2">FAMENINO</option>\r\n                                </select>\r\n\r\n                            </span> \r\n                            <span class="icon is-small" *ngIf="paciente.get(\'sexo\').hasError(\'required\') && paciente.get(\'sexo\').touched">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="paciente.get(\'sexo\').hasError(\'required\') && paciente.get(\'sexo\').touched">Este campo es requerido.</span>\r\n                        </p>\r\n                        <p class="control is-expanded has-icon has-icon-right">\r\n                            <label class="label">Tel\xe9fono</label>\r\n                          <input class="input" type="text" placeholder="Telefono" formControlName="telefono">\r\n                          <span class="icon is-small" *ngIf="paciente.get(\'telefono\').hasError(\'required\') && paciente.get(\'telefono\').touched">\r\n                            <i class="fa fa-warning"></i>\r\n                          </span>\r\n                          <span class="help is-danger" *ngIf="paciente.get(\'telefono\').hasError(\'required\') && paciente.get(\'telefono\').touched">Este campo es requerido.</span>\r\n                        </p>\r\n                        <p class="control is-expanded has-icon has-icon-right">\r\n                        <label class="label">Fecha Nacimiento</label>\r\n                          <input class="input" type="text" placeholder="aaaa-mm-dd" formControlName="fecha_nacimiento">\r\n                          <span class="icon is-small" *ngIf="paciente.get(\'fecha_nacimiento\').hasError(\'required\') && paciente.get(\'fecha_nacimiento\').touched">\r\n                            <i class="fa fa-warning"></i>\r\n                          </span>\r\n                          <span class="help is-danger" *ngIf="paciente.get(\'fecha_nacimiento\').hasError(\'required\') && paciente.get(\'fecha_nacimiento\').touched">Este campo es requerido.</span>\r\n                        </p>\r\n                        <p class="control is-expanded has-icon has-icon-right">\r\n                            <label class="label">Hora Nacimiento (si aplica)</label>\r\n                          <input class="input" type="text" placeholder="HH:mm" formControlName="hora_nacimiento">\r\n                          \r\n                        </p>\r\n                      </div>\r\n                      <div class="control is-grouped">\r\n                        \r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                            <label class="label">Domicilio</label>\r\n                            <input class="input" type="text" placeholder="Domicilio" formControlName="domicilio">\r\n                            <span class="icon is-small" *ngIf="paciente.get(\'domicilio\').hasError(\'required\') && paciente.get(\'domicilio\').touched">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                            <span class="help is-danger" *ngIf="paciente.get(\'domicilio\').hasError(\'required\') && paciente.get(\'domicilio\').touched">Este campo es requerido.</span>\r\n                         \r\n                        </p>\r\n                        <p class="control is-expanded has-icon has-icon-right">\r\n                        <label class="label">Colonia</label>\r\n                          <input class="input" type="text" placeholder="Colonia" formControlName="colonia">\r\n                          <span class="icon is-small" *ngIf="paciente.get(\'colonia\').hasError(\'required\') && paciente.get(\'colonia\').touched">\r\n                            <i class="fa fa-warning"></i>\r\n                          </span>\r\n                          <span class="help is-danger" *ngIf="paciente.get(\'colonia\').hasError(\'required\') && paciente.get(\'colonia\').touched">Este campo es requerido.</span>\r\n                        </p>\r\n                     </div>\r\n                     <div class="control is-grouped">  \r\n                        \r\n                        <p class="control is-expanded has-icon has-icon-right">\r\n                          <label class="label">Municipio</label> \r\n                          <span class="select is-fullwidth">\r\n                                <select  formControlName="municipio_id" name="municipio_id" #municipio (change)="cargarLocalidades(municipio.value)">\r\n                                    <option *ngFor="let item of Municipios" value="{{item.id}}">{{ item.nombre }} </option>\r\n                                </select>\r\n                                \r\n                            </span> \r\n                            <span class="icon is-small" *ngIf="paciente.get(\'municipio_id\').hasError(\'required\') && paciente.get(\'municipio_id\').touched">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                            <span class="help is-danger" *ngIf="paciente.get(\'municipio_id\').hasError(\'required\') && paciente.get(\'municipio_id\').touched">Este campo es requerido.</span>\r\n                        </p>\r\n                        <p class="control is-expanded has-icon has-icon-right">\r\n                          <label class="label">Localidad</label>    \r\n                          <span class="select is-fullwidth">\r\n                                <select formControlName="localidad_id" name="localidad_id">\r\n                                    <option *ngFor="let item of Localidades" value="{{item.id}}">{{ item.nombre }} </option>\r\n                                </select>\r\n                                \r\n                            </span> \r\n                            <span class="icon is-small" *ngIf="paciente.get(\'localidad_id\').hasError(\'required\') && paciente.get(\'localidad_id\').touched">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                            <span class="help is-danger" *ngIf="paciente.get(\'localidad_id\').hasError(\'required\') && paciente.get(\'localidad_id\').touched">Este campo es requerido.</span>\r\n                        </p>\r\n                         <p class="control is-expanded has-icon has-icon-right">\r\n                            <label class="label">No Expediente</label>\r\n                            <input class="input" type="text" placeholder="No Expediente" formControlName="no_expediente">\r\n                            <span class="icon is-small" *ngIf="paciente.get(\'no_expediente\').hasError(\'required\') && paciente.get(\'no_expediente\').touched">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                            <span class="help is-danger" *ngIf="paciente.get(\'no_expediente\').hasError(\'required\') && paciente.get(\'no_expediente\').touched">Este campo es requerido.</span>\r\n                            \r\n                        </p>\r\n                        <p class="control is-expanded has-icon has-icon-right">\r\n                            <label class="label">No Afililaci\xf3n</label>\r\n                            <input class="input" type="text" placeholder="No Afiliaci\xf3n" formControlName="no_afiliacion">\r\n                            <span class="icon is-small" *ngIf="paciente.get(\'no_afiliacion\').hasError(\'required\') && paciente.get(\'no_afiliacion\').touched">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                            <span class="help is-danger" *ngIf="paciente.get(\'no_afiliacion\').hasError(\'required\') && paciente.get(\'no_afiliacion\').touched">Este campo es requerido.</span>\r\n                            \r\n                        </p>\r\n                      </div>\r\n                    </div> \r\n                    <div [hidden]="verFormResponsable">\r\n                      <section class="section" style="padding: 1rem 1.5rem; background-color: #EFEFEF">\r\n                        <div class="container">\r\n                          <div class="heading">\r\n                            <h1 class="title">Datos del Responsable</h1>\r\n                          </div>\r\n                        </div>\r\n                      </section>  \r\n                      <div class="control is-grouped">\r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                            <label class="label">Nombre</label>\r\n                          <input class="input" autofocus type="text"  placeholder="Nombre Responsable" formControlName="nombre_responsable">\r\n                          <span class="icon is-small" *ngIf="paciente.get(\'nombre_responsable\').hasError(\'required\') && paciente.get(\'nombre_responsable\').touched">\r\n                            <i class="fa fa-warning"></i>\r\n                          </span>\r\n                          <span class="help is-danger" *ngIf="paciente.get(\'nombre_responsable\').hasError(\'required\') && paciente.get(\'nombre_responsable\').touched">Este campo es requerido.</span>\r\n                        </p>\r\n                        \r\n                      </div>\r\n                      <div class="control is-grouped">\r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                            <label class="label">Patentesco</label>\r\n                               <input class="input" autofocus type="text"  placeholder="Parentesco" formControlName="parentesco">\r\n                              <span class="icon is-small" *ngIf="paciente.get(\'parentesco\').hasError(\'required\') && paciente.get(\'parentesco\').touched">\r\n                                <i class="fa fa-warning"></i>\r\n                              </span>\r\n                              <span class="help is-danger" *ngIf="paciente.get(\'parentesco\').hasError(\'required\') && paciente.get(\'parentesco\').touched">Este campo es requerido.</span>\r\n\r\n                        </p>\r\n                         <p class="control is-expanded  has-icon has-icon-right">\r\n                            <label class="label">Domicilio</label>\r\n                            <input class="input" type="text" placeholder="Domicilio Responsable" formControlName="domicilio_responsable">\r\n                            <span class="icon is-small" *ngIf="paciente.get(\'domicilio_responsable\').hasError(\'required\') && paciente.get(\'domicilio_responsable\').touched">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                            <span class="help is-danger" *ngIf="paciente.get(\'domicilio_responsable\').hasError(\'required\') && paciente.get(\'domicilio_responsable\').touched">Este campo es requerido.</span>\r\n                         \r\n                        </p>\r\n                        <p class="control is-expanded has-icon has-icon-right">\r\n                            <label class="label">Tel\xe9fono</label>\r\n                          <input class="input" type="text" placeholder="Telefono Responsable" formControlName="telefono_responsable">\r\n                          <span class="icon is-small" *ngIf="paciente.get(\'telefono_responsable\').hasError(\'required\') && paciente.get(\'telefono_responsable\').touched">\r\n                            <i class="fa fa-warning"></i>\r\n                          </span>\r\n                          <span class="help is-danger" *ngIf="paciente.get(\'telefono_responsable\').hasError(\'required\') && paciente.get(\'telefono_responsable\').touched">Este campo es requerido.</span>\r\n                        </p>\r\n                        \r\n                      </div>\r\n                     \r\n                    </div>    \r\n                   \r\n                    <div [hidden]="verFormArea">\r\n                        <section class="section" style="padding: 1rem 1.5rem; background-color: #EFEFEF">\r\n                            <div class="container">\r\n                              <div class="heading">\r\n                                <h1 class="title">Area de Seguimiento</h1>\r\n                              </div>\r\n                            </div>\r\n                        </section> \r\n                        <div class="control is-grouped">\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n                                <br>\r\n                                <input type="hidden" name=\'area\' formControlName="area">\r\n                                <label class="checkbox">\r\n                                    <input type="checkbox" name=\'trabajo_social\' formControlName="trabajo_social" (change)="verifica_area()" value="1">\r\n                                        Trabajo Social\r\n                                </label>\r\n                                <br>\r\n                                <label class="checkbox" >\r\n                                    <input type="checkbox" name=\'juridico\' formControlName="juridico"  (change)="verifica_area()" value="1">\r\n                                        Asuntos Jur\xeddicos\r\n                                </label>\r\n                                <br>\r\n                                <label class="checkbox">\r\n                                    <input type="checkbox" name=\'ministerio\' formControlName="ministerio"  (change)="verifica_area()" value="1">\r\n                                        Ministerio P\xfablico\r\n                                </label>\r\n                                \r\n                                \r\n                            </p>\r\n\r\n                        </div>\r\n                      \r\n                    </div>  \r\n                  <br>\r\n                  <div class="control is-grouped">\r\n                    <p class="control">\r\n                      <button class="button is-primary" type="submit" [ngClass]="{\'is-loading\': cargando}" [disabled]="paciente.invalid">Guardar</button>\r\n                    </p>\r\n                  </div>\r\n              </form>\r\n            </section>\r\n    <footer class="" style="position:relative; padding:1em;background: #FFF; border-top:1px solid #EEE; border-radius:0 0 0.8em 0.8em " >\r\n    </footer>\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style="text-align:center" ><a  class="button is-danger is-inverted" (click)="ultimaPeticion(); mensajeError.mostrar = false"> <span class="icon"><i class="fa fa-refresh"></i></span> <span>Volver a intentar</span></a></p>        \r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n'},"CN+B":function(e,t){e.exports=".item{ width: 100%; text-align: center; display:block; font-size: 1em; color: #696969 }"},CODu:function(e,t){e.exports='<formulario #ctrl URL="material-curacion" titulo="Material de curaci\xf3n / Catalogo" [dato]="dato"></formulario>\r\n<app-menu-catalogo></app-menu-catalogo>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns" style="height:90%; padding-top: 1em;">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em;">\r\n        \x3c!-- formulario --\x3e\r\n        <form name="form" novalidate [formGroup]="dato" (ngSubmit)="ctrl.enviar()">\r\n            <div style="background: #FFF; overflow: hidden;">\r\n                <section class="hero is-primary">\r\n                    <div class="hero-body">\r\n                        \x3c!-- Opciones  --\x3e\r\n                        <formulario-opciones [ctrl]="ctrl" class="control is-grouped" style="position:absolute; top:8em; right:3em;">\r\n                        </formulario-opciones>\r\n                        <div class="container is-fluid">\r\n                            <h1 class="title">\r\n                                <span *ngIf="!ctrl.cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                <span *ngIf="ctrl.cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>                                {{ctrl.moduloTitulo}} Material de curaci\xf3n\r\n                            </h1>\r\n\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>                    &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n                <section class="section">\r\n\r\n                    <a id="catalogos" (click)="ctrl.cargarCatalogo(\'unidades_medidas\', \'unidad-medida\'); "></a>\r\n\r\n                    <div class="field">\r\n                        <label class="label">Clave:</label>\r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                            <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'insumo_medico_clave\').hasError(\'required\')}" placeholder="clave insumo medico"\r\n                                formControlName="insumo_medico_clave">\r\n                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'insumo_medico_clave\').hasError(\'required\')">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'insumo_medico_clave\').hasError(\'required\')">Este campo es requerido.</span>\r\n                        </p>\r\n                    </div>\r\n\r\n                    <div class="field">\r\n                        <label class="label">Nombre generico:</label>\r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                            <input class="input" type="text" formControlName="nombre_generico_especifico">                            \r\n                        </p>\r\n                    </div>\r\n\r\n                    <div class="field">\r\n                            <label class="label">Funci\xf3n:</label>\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n                                <input class="input" type="text" formControlName="funcion">                            \r\n                            </p>\r\n                        </div>\r\n\r\n                    <div class="field">\r\n                        <label class="label">Cantidad por envase:</label>\r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                            <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'cantidad_x_envase\').hasError(\'required\')}" placeholder="Cantidad por envase"\r\n                                formControlName="cantidad_x_envase">\r\n                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'cantidad_x_envase\').hasError(\'required\')">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'cantidad_x_envase\').hasError(\'required\')">Este campo es requerido.</span>\r\n                        </p>\r\n                    </div>\r\n\r\n                    <div class="field">\r\n                        <label>Unidad de medida: </label>\r\n                        <div class="select control is-expanded has-icon has-icon-right" >\r\n                            <select class="select" name="unidad_medida_id" formControlName="unidad_medida_id" [ngClass]="{\'is-danger\': ctrl.dato.get(\'unidad_medida_id\').hasError(\'required\')}">\r\n                                <option *ngFor="let val of ctrl.unidades_medidas" value="{{val.id}}" >{{ val.nombre }}</option>\r\n                            </select> \r\n                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'unidad_medida_id\').hasError(\'required\')">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'unidad_medida_id\').hasError(\'required\')">Este campo es requerido.</span>                           \r\n                        </div>\r\n                        \r\n                    </div>\r\n\r\n                </section>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>'},CUYW:function(e,t){e.exports='<section class="hero is-dark" style="position: fixed; width: 100%;top:0px; z-index:99">\r\n    <div class="hero-head">\r\n        <div class="container is-fluid">\r\n            <nav class="nav is-primary">\r\n                \x3c!--<a title="Almacen" class="nav-item pull-left nav-hub-active"  routerLink="/almacen">\r\n            \r\n                  <img src="assets/hub-farmacia.svg" alt="icono">\r\n              \r\n                </a>--\x3e\r\n                <div class="nav-left">\r\n                    <a class="nav-item is-brand" routerLink="/administrador-central" routerLinkActive="active">\r\n                      \x3c!--<img src="http://bulma.io/images/bulma-type.png" alt="Bulma logo">--\x3e\r\n                      \x3c!--<span class="icon">\r\n                          <i class="fa fa-cog"></i>\r\n                      </span>--\x3e \r\n                      <img src="assets/hub-administrador-central.svg" alt="icono">\r\n                      <h1 class="title">&nbsp;Administrador central</h1>\r\n                    </a>\r\n                </div>\r\n                <a class="nav-item is-hidden-tablet" (click)="toggleMenuLateral()">\r\n                    <span class="icon">\r\n                        <i class="fa fa-navicon"></i>\r\n                    </span>\r\n                </a>\r\n                <a class="nav-item"  (click)="hub.toggle()">\r\n                    <span class="icon">\r\n                        <i class="fa fa-th"></i>\r\n                    </span>\r\n                </a>\r\n\r\n                <a class="nav-item is-hidden-mobile" (click)="perfil.toggle()">\r\n                    \r\n                    <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n                    &nbsp;\r\n                    <span>{{ usuario.nombre }} {{ usuario.apellidos }}</span>\r\n                </a>\r\n                <a class="nav-item is-hidden-tablet" (click)="perfil.toggle()">\r\n                    \r\n                    <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n                </a>\r\n               \r\n                \r\n            </nav>\r\n        </div>\r\n    </div>\r\n</section>\r\n\r\n<app-hub #hub></app-hub>\r\n<app-perfil #perfil></app-perfil>\r\n\r\n<div class="modal" [ngClass]="{\'is-active\': mostrarMenuLateral}">\r\n  <div class="modal-background" (click)="toggleMenuLateral()"></div>\r\n  <div class="modal-content">\r\n    <div class="card" style="width: 100%">\r\n        <div class="card-content">\r\n            <administrador-central-menu-lateral></administrador-central-menu-lateral>\r\n        </div>\r\n    </div>\r\n  </div>\r\n  <button class="modal-close" (click)="toggleMenuLateral()"></button>\r\n</div>'},Cdzd:function(e,t){e.exports="td.causes {\r\n    background-color: #cdff8c;\r\n}\r\n\r\ntd.no-causes {\r\n    background-color: #ffa838;\r\n}\r\n\r\ntd.material-curacion {\r\n    background-color: #ffff7c;\r\n}\r\n\r\n.borrador{\r\n    color:#aaaaaa;\r\n}\r\n\r\n.farmacia{\r\n    color:#a8c0ff;\r\n}\r\n\r\n.sin-surtir{\r\n    color:#dddddd;\r\n}\r\n\r\n.surtiendo{\r\n    color:#3273dc;\r\n}\r\n\r\n.surtido{\r\n    color:#4aba53;\r\n}\r\n\r\n.expirado{\r\n    color:#e8dd14;\r\n}\r\n\r\n.cancelado{\r\n    color:red;\r\n}"},Ckdm:function(e,t){e.exports='<listar #ctrl URL="ajuste-menos-inventario?fecha_desde={{fecha_desde}}&fecha_hasta={{fecha_hasta}}&usuario={{usuario_lista}}" titulo="Ajuste menos de inventario"></listar>\r\n\x3c!-- <listar #ctrl URL="ajuste-menos-inventario" titulo="Ajuste menos de inventario"></listar>--\x3e\r\n<app-menu-inventario [modulo]="\'Ajuste menos de inventario\'" [icono]="\'assets/icono-stock.svg\'" [url]="\'/inventario/ajuste-menos-inventario\'"></app-menu-inventario>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:80%; ">\r\n    <div class="column" style="padding:2em;">\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n            <section class="hero" [ngClass]=" {\'is-dark\': ctrl.busquedaActivada, \'is-primary\': !ctrl.busquedaActivada } ">\r\n\r\n                <div class="hero-body" style="position:relative;">\r\n                    <nav class="level">\r\n                        \x3c!-- Left side FILTROS --\x3e\r\n                        <div class="level-left" style="padding: 10px;">\r\n                        <div class="control is-grouped">\r\n                            <div class="control" style="z-index: 1000;">\r\n                                <div class="field">   \r\n                                    <label class="label">Desde:</label>                         \r\n                                    <input  style="width: 150px; z-index: 1000;" class="input is-medium" [(ngModel)]=\'fecha_desde\' ngui-datetime-picker date-only="true" placeholder="YYYY-MM-DD" />\r\n                                </div>\r\n                            </div>\r\n                            <div class="control is-expanded" style="z-index: 1000;">\r\n                                <div class="field">   \r\n                                    <label class="label">Hasta:</label>                         \r\n                                    <input style="width: 150px; z-index: 1000;" class="input is-medium" [(ngModel)]=\'fecha_hasta\' ngui-datetime-picker date-only="true" placeholder="YYYY-MM-DD" />\r\n                                </div>\r\n                            </div>\r\n                            <div class="control is-expanded">\r\n                                <div class="field">   \r\n                                    <label class="label">Usuario:</label>                         \r\n                                    <input class="input is-medium" type="text" placeholder="Usuario" [(ngModel)]="usuario_lista">\r\n                                </div>\r\n                            </div>\r\n                            <div class="control">\r\n                                <div class="field">  \r\n                                <label class="label">&nbsp;</label>\r\n                                <button class="button is-default is-medium" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="usuario_lista=\'\';fecha_desde=\'\'; fecha_hasta=\'\';" >Limpiar</button>\r\n                                </div>\r\n                            </div>\r\n                            <div class="control">\r\n                                <div class="field">  \r\n                                <label class="label">&nbsp;</label>\r\n                                <button class="button is-info is-medium" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="ctrl.listar(1)" >Filtrar</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        </div>\r\n                        \x3c!-- Right side --\x3e\r\n                        <div class="level-right">\r\n                            <p class="level-item"><a class="button is-dark is-medium" routerLink="nuevo" *ngIf="ctrl.busquedaActivada"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;<span>Nuevo ajuste menos </span></a></p>\r\n                            <p class="level-item"><a class="button is-primary is-medium" routerLink="nuevo" *ngIf="!ctrl.busquedaActivada"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;<span>Nuevo ajuste menos </span></a></p>\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" (click)="ctrl.busquedaActivada=false;searchBox.value=\'\'; ctrl.resultadosBusqueda=[]"><span class="icon "><i class="fa fa-close"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="Actualizar" (click)="ctrl.listarBusqueda(searchBox.value,1)"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="Actualizar" (click)="ctrl.listar(1)"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="PDF" (click)="dato = ctrl.dato; imprimir()"><span class="icon "><i class="fa fa-file-pdf-o"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="PDF" (click)="dato = ctrl.dato; imprimir()"><span class="icon "><i class="fa fa-file-pdf-o"></i></span></a></p>\r\n\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="Excel" (click)="export_excel()"><span class="icon "><i class="fa fa-file-excel-o"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="Excel" (click)="export_excel()"><span class="icon "><i class="fa fa-file-excel-o"></i></span></a></p>\r\n                            <p class="level-item">&nbsp;</p>\r\n                        </div>\r\n                    </nav> \r\n                    <div class="container is-fluid" id="titulo">\r\n                        <span></span>\r\n                        <div class="is-hidden-desktop">\r\n                            <h1 class="title" *ngIf="!ctrl.busquedaActivada">\r\n                                <span class="icon is-medium"><i class="fa fa-user"></i></span> Ajuste menos de inventario\r\n                            </h1>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            \r\n            <div class="is-fullwidth has-text-centered" *ngIf="ctrl.cargando">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n            <span id="exportable" style="overflow: scroll; overflow-x: hidden; height: 530px;">\r\n                <div style="overflow: scroll; overflow-x: hidden; height: 650px;">\r\n                    <table class="table" *ngIf="!ctrl.cargando " >\r\n                        <thead>\r\n                            <tr>\r\n                                <th style=" text-align: center;"><abbr title="Folio">Fecha</abbr></th>\r\n                                <th style=" text-align: center;"><abbr title="Folio">Folio</abbr></th>\r\n                                <th><abbr title="N\xfamero de claves">Claves</abbr></th>\r\n                                <th>Captur\xf3</th>\r\n                                <th style=" text-align: center;">Capturado</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody *ngIf="!ctrl.busquedaActivada && ctrl.dato;">\r\n                            <tr *ngFor="let item of ctrl.dato; let i=index">\r\n                                <th style="vertical-align: middle; text-align: center;"><a routerLink="/inventario/ajuste-menos-inventario/ver/{{item.id}}">{{ item.fecha_movimiento }}</a></th>\r\n                                <th style="vertical-align: middle; text-align: center;"><a routerLink="/inventario/ajuste-menos-inventario/ver/{{item.id}}">{{ item.id }}</a></th>\r\n                                <td ><a routerLink="/inventario/ajuste-menos-inventario/ver/{{item.id}}"> <p> Claves: {{item.numero_claves}}</p> </a> </td>\r\n                                <td style="vertical-align: middle;"><a routerLink="/inventario/ajuste-menos-inventario/ver/{{item.id}}">{{ item.movimiento_usuario.nombre }} {{ item.movimiento_usuario.apellidos }} </a></td>                        \r\n                                <td style="vertical-align: middle; text-align: center;"><a routerLink="/inventario/ajuste-menos-inventario/ver/{{item.id}}">{{ item.created_at | date:\'medium\'}} </a></td>\r\n                            </tr>\r\n                            <tr *ngIf="ctrl.dato.length == 0">\r\n                                <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>\r\n                            </tr>\r\n                        </tbody>\r\n                        <tbody *ngIf="ctrl.busquedaActivada && ctrl.dato">\r\n                            <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">\r\n                                <th style="vertical-align: middle; text-align: center;"><a routerLink="/inventario/ajuste-menos-inventario/ver/{{item.id}}">{{ item.fecha_movimiento }}</a></th>\r\n                                <th style="vertical-align: middle; text-align: center;"><a routerLink="/inventario/ajuste-menos-inventario/ver/{{item.id}}">{{ item.id }}</a></th>\r\n                                <td ><a routerLink="/inventario/ajuste-menos-inventario/ver/{{item.id}}"> <p> Claves: {{item.numero_claves}}</p> </a> </td>\r\n                                <td style="vertical-align: middle;"><a routerLink="/inventario/ajuste-menos-inventario/ver/{{item.id}}">{{ item.movimiento_usuario.nombre }} {{ item.movimiento_usuario.apellidos }} </a></td>                        \r\n                                <td style="vertical-align: middle; text-align: center;"><a routerLink="/inventario/ajuste-menos-inventario/ver/{{item.id}}">{{ item.created_at | date:\'medium\'}} </a></td>\r\n                            </tr>\r\n\r\n                            <tr *ngIf="ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada">\r\n                                <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </span>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [total]="ctrl.total" [paginasTotales]="ctrl.paginasTotales" [resultadosPorPagina]="ctrl.resultadosPorPagina"\r\n                [paginaActual]="ctrl.paginaActual" [indicePaginas]="ctrl.indicePaginas" (onSiguiente)="ctrl.paginaSiguiente()"\r\n                (onAnterior)="ctrl.paginaAnterior()" (onListar)="ctrl.listar($event)" *ngIf="ctrl.total>0 && ctrl.total > ctrl.resultadosPorPagina && !ctrl.busquedaActivada"></paginacion>\r\n            \x3c!-- Paginaci\xf3n para la b\xfasqueda  --\x3e\r\n            <paginacion [total]="ctrl.totalBusqueda" [paginasTotales]="ctrl.paginasTotalesBusqueda" [resultadosPorPagina]="ctrl.resultadosPorPaginaBusqueda"\r\n                [paginaActual]="ctrl.paginaActualBusqueda" [indicePaginas]="ctrl.indicePaginasBusqueda" (onSiguiente)="ctrl.paginaSiguienteBusqueda(searchBox.value)"\r\n                (onAnterior)="ctrl.paginaAnteriorBusqueda(searchBox.value)" (onListar)="ctrl.listarBusqueda(searchBox.value,$event)"\r\n                *ngIf="ctrl.totalBusqueda > 0 && ctrl.totalBusqueda > ctrl.resultadosPorPaginaBusqueda && ctrl.busquedaActivada"></paginacion>\r\n\r\n\r\n\r\n        </div>\r\n\r\n    </div>\r\n</div>'},Cqnt:function(e,t){e.exports='<div style="padding:1em;" *ngIf="total>0 && total > resultadosPorPagina">\r\n    <nav class="pagination" >\r\n        <a class="pagination-previous" [ngClass]="{\'is-disabled\': 1 == paginaActual }" (click)="anterior()">Anterior</a>\r\n        <a class="pagination-next"  [ngClass]="{\'is-disabled\': paginasTotales <= paginaActual }" (click)="siguiente()">Siguiente</a>\r\n        <ul class="pagination-list" *ngIf="paginasTotales<=7">\r\n            <li *ngFor="let i of indicePaginas">\r\n            <a class="pagination-link" [ngClass]="{\'is-current\': i == paginaActual }" (click)="listar(i)">{{ i }}</a>\r\n            </li>\r\n        </ul>\r\n\r\n        <ul class="pagination-list" *ngIf="paginaActual < 4 && paginasTotales > 7">\r\n            <li>\r\n                <a class="pagination-link" [ngClass]="{\'is-current\': 1 == paginaActual }" (click)="listar(1)">1</a>\r\n            </li>\r\n            <li><a class="pagination-link" [ngClass]="{\'is-current\': 2== paginaActual }" (click)="listar(2)">2</a></li>\r\n            <li><a class="pagination-link" [ngClass]="{\'is-current\': 3== paginaActual }" (click)="listar(3)">3</a></li>\r\n            <li><a class="pagination-link" [ngClass]="{\'is-current\': 4== paginaActual }" (click)="listar(4)">4</a></li>\r\n            <li><span class="pagination-ellipsis">&hellip;</span></li>\r\n            <li >\r\n            <a class="pagination-link" [ngClass]="{\'is-current\': paginasTotales == paginaActual }" (click)="listar(paginasTotales)">{{ paginasTotales }}</a>\r\n            </li>\r\n        </ul>\r\n\r\n        <ul class="pagination-list" *ngIf="paginaActual > paginasTotales - 4 && paginasTotales > 7">\r\n            <li>\r\n                <a class="pagination-link" [ngClass]="{\'is-current\': 1 == paginaActual }" (click)="listar(1)">1</a>\r\n            </li>\r\n            <li><span class="pagination-ellipsis">&hellip;</span></li>\r\n            <li><a class="pagination-link" [ngClass]="{\'is-current\': paginasTotales - 3 == paginaActual }" (click)="listar(paginasTotales - 3)">{{ paginasTotales - 3 }}</a></li>\r\n            <li><a class="pagination-link" [ngClass]="{\'is-current\': paginasTotales - 2 == paginaActual }" (click)="listar(paginasTotales - 2)">{{ paginasTotales - 2 }}</a></li>\r\n            <li><a class="pagination-link" [ngClass]="{\'is-current\': paginasTotales - 1 == paginaActual }" (click)="listar(paginasTotales - 1)">{{ paginasTotales - 1 }}</a></li>\r\n        \r\n            <li >\r\n            <a class="pagination-link" [ngClass]="{\'is-current\': paginasTotales == paginaActual }" (click)="listar(paginasTotales)">{{ paginasTotales }}</a>\r\n            </li>\r\n        </ul>\r\n\r\n        <ul class="pagination-list" *ngIf="paginaActual >= 4 && paginaActual <= paginasTotales - 4 && paginasTotales > 7">\r\n            <li>\r\n            <a class="pagination-link" [ngClass]="{\'is-current\': 1 == paginaActual }" (click)="listar(1)">1</a>\r\n            </li>\r\n            <li><span class="pagination-ellipsis">&hellip;</span>\r\n            </li>\r\n            <li>\r\n            <a class="pagination-link" [ngClass]="{\'is-current\': paginaActual-1 == paginaActual }" (click)="listar(paginaActual-1)">{{ paginaActual-1 }}</a>\r\n            </li>\r\n            <li>\r\n            <a class="pagination-link" [ngClass]="{\'is-current\': paginaActual == paginaActual }" (click)="listar(paginaActual)">{{ paginaActual }}</a>\r\n            </li>\r\n            <li >\r\n            <a class="pagination-link" [ngClass]="{\'is-current\': paginaActual+1 == paginaActual }" (click)="listar(paginaActual+1)">{{ paginaActual+1 }}</a>\r\n            </li>\r\n            <li><span class="pagination-ellipsis">&hellip;</span></li>\r\n            <li >\r\n            <a class="pagination-link" [ngClass]="{\'is-current\': paginasTotales == paginaActual }" (click)="listar(paginasTotales)">{{ paginasTotales }}</a>\r\n            </li>\r\n        </ul>\r\n    </nav>\r\n</div>\r\n'},CvlX:function(e,t){e.exports='<panel-control-menu></panel-control-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding:2em;">\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n            <section class="hero is-primary">\r\n                <div class="hero-body">\r\n                    <div class="container is-fluid">\r\n                        <h1 class="title">\r\n                            <span  *ngIf="!cargando" class="icon is-medium"><i class="fa fa-wrench"></i></span>\r\n                            <span  *ngIf="cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span> \r\n                            Actualizar sistema\r\n                        </h1>\r\n                        \r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <br>\r\n            <div class="tabs is-centered is-boxed is-medium">\r\n                <ul>\r\n                    <li [ngClass]="{ \'is-active\': tabParches}">\r\n                        <a (click)="tabParches=true;tabOnline=false;">\r\n                            <span class="icon is-small"><i class="fa fa-puzzle-piece"></i></span>\r\n                            <span>Parches</span>\r\n                        </a>\r\n                    </li>\r\n                    <li [ngClass]="{ \'is-active\': tabOnline}">\r\n                        <a (click)="tabParches=false;tabOnline=true;">\r\n                        <span class="icon is-small"><i class="fa fa-wifi"></i></span>\r\n                        <span>Actualizaci\xf3n en l\xednea</span>\r\n                        </a>\r\n                    </li>    \r\n                </ul>\r\n            </div>\r\n\t\t\t<section class="section" *ngIf="tabOnline">\r\n\t\t\t\t<h1 class="title">Importante</h1>\r\n                <p>Antes de realizar cualquier actualizaci\xf3n al sistema, es recomendable hacer una <a routerLink="/panel-control/opciones-avanzadas/base-datos">copia de la base de datos</a>.</p>\r\n                <hr>\r\n\t\t\t  \t<p>Para realizar esta operaci\xf3n es necesario contar con una <strong>conexi\xf3n a internet</strong>. Este proceso se realizar\xe1 <span class="icon"><i class="fa fa-magic"></i></span> <strong>autom\xe1gicamente</strong> <span class="icon"><i class="fa fa-magic"></i></span> despu\xe9s de presionar el siguiente bot\xf3n:</p>\r\n\t\t\t\t<br>\r\n\t\t\t  \t<div style="text-align:center;"><a class="button is-primary is-medium" [ngClass]="{ \'is-loading\': cargando}" (click)="actualizarViaGit()"><span class="icon"><i class="fa fa-refresh"></i></span> <span>Actualizar ahora</span></a></div>\r\n\t\t\t</section>\r\n            <section class="section" *ngIf="tabParches">\r\n                <h1 class="title">Importante</h1>\r\n                <p>Antes de realizar cualquier actualizaci\xf3n al sistema, es recomendable hacer una <a routerLink="/panel-control/opciones-avanzadas/base-datos">copia de la base de datos</a>.</p>\r\n                <br>\r\n                <p>No altere el nombre del archivo, suba los parches en el orden n\xfamerico correcto, por ejemplo si el \xfaltimo parche es el # 2, el siguiente que debe de subir es el # 3, no el # 4 o el #1. Si hay muchos parches, suba 1 a 1 en el orden correcto: 3, 4, 5, etc. Realizar este procedimiento solo si ha recibido la capacitaci\xf3n correspondiente, si tiene dudas pregunte con el personal del <strong>\xc1rea de Inform\xe1tica</strong> de la <i>Direcci\xf3n de Planeaci\xf3n y Desarrollo</i> de  <i>Oficina Central</i>.</p>                \r\n                <hr>               \r\n                <div style="text-align:center;"><a class="button is-primary is-medium" [ngClass]="{ \'is-loading\': enviandoDatoss}" (click)="mostrarModalSubirParche = true; archivoSubido = false;" ><span class="icon"><i class="fa fa-upload"></i></span> <span>Subir parche</span></a></div>\r\n                <br>\r\n                <div class="tabs is-centered is-boxed is-medium">\r\n                    <ul>\r\n                        <li [ngClass]="{ \'is-active\': tabParchesCliente}">\r\n                            <a (click)="tabParchesCliente=true;tabParchesAPI=false;">\r\n                                <span class="icon is-small"><i class="fa fa-desktop"></i></span>\r\n                                <span>Parches Cliente</span>\r\n                            </a>\r\n                        </li>\r\n                        <li [ngClass]="{ \'is-active\': tabParchesAPI}">\r\n                            <a (click)="tabParchesCliente=false;tabParchesAPI=true;">\r\n                            <span class="icon is-small"><i class="fa fa-server"></i></span>\r\n                            <span>Parches API</span>\r\n                            </a>\r\n                        </li>    \r\n                    </ul>\r\n                </div>\r\n                <table class="table" *ngIf="tabParchesCliente">\r\n                    <thead>\r\n                        <tr><th>N\xfamero de parche</th> <th>Fecha</th></tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        \r\n                        <tr *ngFor="let item of parches_cliente"><td>{{ item.nombre }}</td><td>{{ item.fecha }}</td></tr>  \r\n                        <tr *ngIf="parches_cliente.length == 0"><td colspan="2">No se ha ejecutado ning\xfan parche nunca.</td></tr>                        \r\n                    </tbody>\r\n                </table>\r\n                <table class="table" *ngIf="tabParchesAPI">\r\n                    <thead>\r\n                        <tr><th>N\xfamero de parche</th> <th>Fecha</th></tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr *ngIf="cargandoParches"><td colspan="2" style="text-align:center;"><i class="fa  fa-spin fa-cog"></i> Cargando parches... </td></tr>\r\n                        <tr *ngFor="let item of parches_api"><td>{{ item.nombre }}</td><td>{{ item.fecha }}</td></tr>    \r\n                        <tr *ngIf="!cargandoParches && parches_api.length == 0"><td colspan="2">No se ha ejecutado ning\xfan parche nunca.</td></tr>                        \r\n                    </tbody>\r\n                </table>\r\n            </section>\r\n        </div>\r\n        \r\n       \r\n       \r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n<div class="modal"  [ngClass]="{ \'is-active\': mostrarModalSubirParche }">\r\n<div class="modal-background" (click)="mostrarModalSubirParche =!mostrarModalSubirParche"></div>\r\n<div class="modal-card">\r\n    <header class="modal-card-head">\r\n    <p class="modal-card-title"><span class="icon"><i class="fa fa-cloud-upload"></i></span> Subir parche</p>\r\n    <button class="delete" (click)="mostrarModalSubirParche = !mostrarModalSubirParche; progreso = 0"></button>\r\n    </header>\r\n    <section class="modal-card-body">    \r\n        <div class="notification is-danger" *ngIf="mensajeErrorSync!=\'\'"><span class="icon"><i class="fa fa-exclamation-circle"></i></span> {{ mensajeErrorSync }}</div>\r\n\r\n        \r\n        <div class="field" [ngClass]="{ \'is-hidden\' : enviandoDatos || archivoSubido }">\r\n                <label for="sql" class="label" [ngClass]="{ \'is-danger\': errores.archivo != null }">Elige el archivo .patch</label>                         \r\n                <input type="file"  class="input-file" #archivoInput style="width:100%" name="sql" is="sql" (change)="fileChange($event)"  accept=".patch">\r\n        </div>    \r\n        <div *ngIf="enviandoDatos || archivoSubido">\r\n            <h1 class="subtitle" *ngIf="enviandoDatos">Subiendo parche...</h1>\r\n            <h1 class="subtitle" *ngIf="archivoSubido "><span class="icon"><i class="fa fa-check-circle"></i></span> \xa1El parche se ha subido exitosamente!</h1>\r\n            <progress class="progress is-primary" value="{{ progreso }}" max="100">{{ progreso}}%</progress>\r\n        </div>\r\n    </section>\r\n    <footer class="modal-card-foot">\r\n        <a class="button is-primary" [ngClass]="{ \'is-disabled\' : enviandoDatos || !archivo  }" *ngIf="!archivoSubido" (click)="adjuntarParche()">Subir parche</a>  \r\n        <a class="button" [ngClass]="{ \'is-disabled\' : enviandoDatos  }" (click)="mostrarModalSubirParche = !mostrarModalSubirParche">Cerrar</a>      \r\n    </footer>\r\n</div>\r\n</div>\r\n\r\n<div class="modal" [ngClass]="{ \'is-active\': mostrarLog }">\r\n    <div class="modal-background" (click)="mostrarLog = !mostrarLog"></div>\r\n    <div class="modal-card">\r\n        <header class="modal-card-head">\r\n        <p class="modal-card-title">Detalles de la actualizaci\xf3n</p>\r\n        <button class="delete" (click)="mostrarLog = !mostrarLog"></button>\r\n        </header>\r\n        <section class="modal-card-body is-paddingless">\r\n            <div class="content ">\r\n                <pre>{{ logActualizacion }}</pre>\r\n            </div>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n        <a class="button" (click)="mostrarLog = !mostrarLog">Cerrar</a>\r\n        </footer>\r\n    </div>\r\n</div>\r\n        \r\n        '},Cxlm:function(e,t){e.exports='<section class="hero is-primary" style="position: fixed; width: 100%;top:0px; z-index:99">\r\n    <div class="hero-head">\r\n        <div class="container is-fluid">\r\n            <nav class="nav is-primary">\r\n                <div class="nav-left">\r\n                    <a class="nav-item is-brand" routerLink="/temas" routerLinkActive="active">\r\n                     <span class="icon">\r\n                        <i class="fa fa-bar-chart"></i>\r\n                    </span> \r\n                     <h1 class="title">&nbsp;Avances </h1> \r\n                    </a>\r\n                </div>\r\n                <a class="nav-item is-hidden-tablet" (click)="toggleMenuAside()">\r\n                    <span class="icon">\r\n                        <i class="fa fa-navicon"></i>\r\n                    </span>\r\n                </a>\r\n                <a class="nav-item"  (click)="hub.toggle()">\r\n                    <span class="icon">\r\n                        <i class="fa fa-th"></i>\r\n                    </span>\r\n                </a>\r\n\r\n                <a class="nav-item is-hidden-mobile" (click)="perfil.toggle()">\r\n                    \r\n                    <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n                    &nbsp;\r\n                    <span>{{ usuario.nombre }} {{ usuario.apellidos }}</span>\r\n                </a>\r\n                <a class="nav-item is-hidden-tablet" (click)="perfil.toggle()">\r\n                    \r\n                    <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n                </a>\r\n               \r\n                \r\n            </nav>\r\n        </div>\r\n    </div>\r\n</section>\r\n\r\n<app-hub #hub></app-hub>\r\n<app-perfil #perfil></app-perfil>'},DBiG:function(e,t){e.exports=""},DHza:function(e,t){e.exports=""},"DK+d":function(e,t){e.exports='<formulario #ctrl URL="mis-claves" titulo="Claves / Configuraci\xf3n" [dato]="dato"></formulario>\r\n<panel-control-menu></panel-control-menu>\r\n<div style="height:50px;"></div>\r\n<form name="dato" novalidate [formGroup]="dato" (ngSubmit)="ctrl.enviar(false)">\r\n  <div class="contenedor columns " style="height:85%">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n      <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <a id="actualizar" (click)="ctrl.cargarDatos();"></a>\r\n    <a id="catalogos" (click)="ctrl.cargarCatalogo(\'tipos_claves\', \'insumos-auto\', \'initMover\'); "></a>\r\n    <div class="column" style="padding:2em;">\r\n      <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n        <section class="hero is-primary">\r\n          <div class="hero-body">\r\n                          <nav class="level">\r\n                              <div class="level-left">\r\n                                <div class="container is-fluid">\r\n                                  <h1 class="title">\r\n                                    <span *ngIf="!ctrl.cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                    <span *ngIf="ctrl.cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>\r\n                                    \x3c!-- --\x3eMis claves\r\n                                  </h1>\r\n                                  <span style="text-align: right">\xdaltima actualizaci\xf3n: <span *ngIf="!actualizado" class="icon is-small"><i class="fa fa-refresh fa-spin"></i></span>\r\n                                      <strong *ngIf="actualizado" >{{actualizacion | date}}</strong> \r\n                                      Por: <span *ngIf="!actualizado" class="icon is-small"><i class="fa fa-refresh fa-spin"></i></span>\r\n                                      <strong *ngIf="actualizado">{{actualizacion_usuario}} </strong> \r\n                                  </span>\r\n                                </div>\r\n                              </div>\r\n                              \x3c!-- Right side --\x3e\r\n                              <div class="level-right">\r\n                                  <p class="level-item"><a class="button is-primary" (click)="ctrl.regresar()">Regresar</a></p>\r\n                                  <p class="level-item">\r\n                                      <button class="button is-primary" type="submit" [ngClass]="{\'is-loading\': ctrl.cargando}" [disabled]="ctrl.dato.invalid">Guardar</button>\r\n                                  </p>\r\n                                  <p class="level-item">\r\n                                      <a class="button  is-primary" (click)="ctrl.cargarDatos(); "><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                                  </p>\r\n                                  <p class="level-item">&nbsp;</p>\r\n                              </div>\r\n                          </nav>\r\n          </div>\r\n        </section>\r\n        <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n          <br>\r\n          <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>        &nbsp;<span>Cargando...</span></span>\r\n        </div>\r\n        <section class="section">\r\n          \x3c!-- formulario --\x3e\r\n            <a id="catalogos" (click)="ctrl.cargarCatalogo(\'tipos_claves\', \'insumos-auto\', \'\'); "></a>\r\n              <div class="box">\r\n                <article class="media">\r\n                  <div class="media-content">\r\n                    <div class="content">\r\n                      <nav class="panel">\r\n                        <div class="panel-heading">\r\n                          <div class="field">\r\n                            <label for="Claves">\r\n                                  Claves disponibles\r\n                              </label>\r\n                            <div style="height:15px;"></div>\r\n\r\n                            <input ngui-auto-complete [source]="insumos_term" [list-formatter]="autocompleListFormatter" \r\n                              id="buscarInsumo" value-property-name="clave"\r\n                              display-property-name="nombre" path-to-data="" loading-text="Cargando..." no-match-found-text="No hay resultados."\r\n                              (valueChanged)="select_insumo_autocomplete($event)" min-chars="1" class="input is-success is-medium"\r\n                              type="text" placeholder="Escanea el codigo de barra, o empieza escribir el nombre del producto" >\r\n                          </div>\r\n                        </div>\r\n                      </nav>\r\n                      \r\n                      <nav class="panel" >\r\n                        <div class="panel-heading">\r\n                          <div class="field">\r\n                            <label for="MisClaves" style="padding-bottom: 5px">\r\n                                Mis claves\r\n                            </label>\r\n                          </div>\r\n                        </div>\r\n                        <div class="content">\r\n                          <div class="card">\r\n                            <div class="columns" style="padding: 5px; padding-left: 15px">\r\n                              <div class="nav-left nav-menu">\r\n                                <p class="control" style="padding: 10px">\r\n                                  <a class="button" [ngClass]="{ \'is-primary\': tipo == \'ME\' && es_causes == 1}" (click)="tipo=\'ME\'; es_causes = 1">\r\n                                    <span class="icon">\r\n                                      <i class="fa fa-medkit"></i>\r\n                                    </span>\r\n                                    <span>CAUSES</span>\r\n                                  </a>\r\n                                </p>\r\n                                <p class="control" style="padding: 10px">\r\n                                  <a class="button" [ngClass]="{ \'is-primary\': tipo == \'ME\' && es_causes == 0}" (click)="tipo= \'ME\'; es_causes = 0">\r\n                                    <span class="icon">\r\n                                      <i class="fa fa-medkit"></i>\r\n                                    </span>\r\n                                    <span>NO CAUSES</span>\r\n                                  </a>\r\n                                </p>\r\n                                <p class="control" style="padding: 10px">\r\n                                  <a class="button" [ngClass]="{ \'is-primary\': tipo == \'MC\' && es_causes == 0}" (click)="tipo=\'MC\'; es_causes = 0">\r\n                                    <span class="icon">\r\n                                      <i class="fa fa-medkit"></i>\r\n                                    </span>\r\n                                    <span>MATERIAL DE CURACION</span>\r\n                                  </a>\r\n                                </p>\r\n                              </div>\r\n                              <label class="label" style="padding: 15px">\r\n                                Total de claves: {{ctrl.dato.get(\'clues_claves\').length}}\r\n                              </label>\r\n                            </div>\r\n                            \x3c!-- AGRUPADO POR CAUSES/NOCAUSES --\x3e\r\n                            <div> \r\n                              <div *ngIf="cargando_claves_disponibles || ctrl.cargando" class="has-text-centered" style="overflow: hidden; overflow-x: hidden; height: 350px;">\r\n                                  <span class="tag is-primary is-large"><i class="fa fa-refresh fa-spin"></i> &nbsp; Cargando... </span>\r\n                              </div>\r\n                              <div *ngIf="!cargando_claves_disponibles && !ctrl.cargando" style="overflow: scroll; overflow-x: hidden; height: 350px;">\r\n                                <div class="content" formArrayName="clues_claves"  *ngIf="ctrl.dato.get(\'clues_claves\').length > 0">\r\n                                  <table class="table is-striped" style="padding: 20px;">\r\n                                    <tbody *ngFor="let val of  ctrl.dato.controls.clues_claves.controls ; let i=index;" >\r\n                                      <tr *ngIf="val.value.tipo==tipo && val.value.es_causes==es_causes" [formGroupName]="i">\r\n                                        <td>{{val.value.clave_insumo_medico}} </td>\r\n                                        <td>{{val.value.descripcion}} </td>\r\n                                        <td>{{val.value.tipo}} </td>\r\n                                        <td> </td>\r\n                                        <td><a class="delete" (click)="ctrl.quitar_form_array(ctrl.dato.controls.clues_claves, i)"></a></td>\r\n                                      </tr>\r\n                                    </tbody>\r\n                                  </table>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                      </nav>\r\n              </div>\r\n            </div>\r\n            </article>\r\n          </div>\r\n           <a (click)="ctrl.initMover(ctrl.dato.controls.clues_claves.controls, ctrl.tipos_claves, \'clave\');  cargarValidar();" id="initMover"></a>\r\n        </section>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</form>'},DVzN:function(e,t){e.exports='<avance-menu></avance-menu>\r\n<div style="height:50px;"></div>\r\n\r\n<div class="contenedor columns " style="height:100%; ">\r\n    <div class="column" style="padding:2em;">\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n            <section class="hero" [ngClass] = " {\'is-dark\': busquedaActivada, \'is-primary\': !busquedaActivada } " >                \r\n                <div class="hero-body" style="position:relative;">\r\n                    \x3c!--<a class="button  is-dark" *ngIf="busquedaActivada" style="position:absolute; top:1em; right:1em;" (click)="busquedaActivada=false;searchBox.value=\'\';resultadosBusqueda=[]"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n                    <a class="button  is-dark" *ngIf="busquedaActivada" style="position:absolute; top:1em; right:3.5em;" (click)="listarBusqueda(searchBox.value,1)"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                    <a class="button  is-primary" *ngIf="!busquedaActivada" style="position:absolute; top:1em; right:1em;" (click)="listar(1)"><span class="icon "><i class="fa fa-refresh"></i></span></a>--\x3e\r\n                    <div class="container is-fluid">\r\n                        \r\n                        <h1 class="title" *ngIf="!busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-user"></i></span> Lista de Temas / Avances\r\n                        </h1>\r\n                        <h1 class="title" *ngIf="busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-search"></i></span> B\xfasqueda \r\n                        </h1>\r\n                        <div class="control is-grouped">\r\n                        <p class="control is-expanded">\r\n                            <input class="input is-medium" type="text" placeholder="Buscar" #searchBox id="search-box" (keyup)="buscar(searchBox.value)">\r\n                        </p>\r\n                        <p class="control">\r\n                        \t<a class="button is-medium is-primary is-inverted " (click)=\'regresar()\'>\r\n                            <span>Regresar</span>\r\n                            </a>\r\n                        </p>\r\n                        \r\n                        <p class="control"  *ngIf="privilegio_usuario">\r\n                            <a class="button is-medium is-info"  (click)=\'showAgregarUsuario=!showAgregarUsuario\'>\r\n                            <span>Agregar Usuario</span>\r\n                            </a>\r\n                        </p>\r\n                        <p class="control">\r\n                            \r\n                            <a class="button is-medium is-primary is-inverted " (click)=\'showAgregarAvance=!showAgregarAvance\'>\r\n                            <span class="icon"><i class="fa fa-plus"></i></span><span>Nuevo Avance</span>\r\n                            </a>\r\n                        </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            \r\n            <div class="tabs is-boxed">\r\n              <ul>\r\n                <li [ngClass]="{\'is-active\': show_actual}" (click)=\'tab(1)\'>\r\n                  <a>\r\n                    <span class="icon is-small"><i class="fa fa-check-circle"></i></span>\r\n                    <span>Ultima Actualizaci\xf3n</span>\r\n                  </a>\r\n                </li>\r\n                <li [ngClass]="{\'is-active\': show_historico}"  (click)=\'tab(2)\'>\r\n                  <a>\r\n                    <span class="icon is-small"><i class="fa fa-history"></i></span>\r\n                    <span>Historico</span>\r\n                    <span class="tag is-success">\r\n                      {{ datos_avance.historial }}\r\n                    </span>\r\n                  </a>\r\n                </li>\r\n                \r\n              </ul>\r\n            </div>\r\n            <div style="overflow: hidden; overflow-x: hidden;">\r\n              <form name="form" [formGroup]="avance_detalle"   (ngSubmit)="actualiza_avance()" > \r\n                <div>\r\n                  <div class="notification">\r\n                    TEMA <strong>{{ datos_avance.tema | uppercase}}</strong>.\r\n\r\n                    <div class="control is-grouped is-pulled-right" style="padding-right: 1%">\r\n                      <p class="control">\r\n                      <button type="submit" class="button is-primary" name="enviar" [ngClass]="{\'is-loading\': cargando}"  [disabled]="avance_detalle.invalid">Actualizar</button>\r\n                      </p>\r\n                    </div>\r\n                    <div class="is-pulled-right" style="padding-right: 1%"  *ngIf="administrador">\r\n                        \r\n                        <select class="select redondear"  formControlName="prioridad">\r\n                          \x3c!--<option value="">PRIORIDAD</option>--\x3e\r\n                          <option value="1">NORMAL</option>\r\n                          <option value="2">PRIORITARIO</option>\r\n                          <option value="3">URGENTE</option>\r\n                        </select>\r\n                        <span class="icon is-small" *ngIf="avance_detalle.get(\'prioridad\').hasError(\'required\') && avance_detalle.get(\'prioridad\').touched">\r\n                          <i class="fa fa-warning"></i>\r\n                        </span>\r\n                        <span class="help is-danger" *ngIf="avance_detalle.get(\'prioridad\').hasError(\'required\') && avance_detalle.get(\'prioridad\').touched">Este campo es requerido.</span>\r\n                    </div>\r\n                    <div class="is-pulled-right" style="padding-right: 1%">\r\n                        \r\n                        <select class="select redondear" formControlName="estatus">\r\n                          \x3c!--<option value="">ESTATUS</option>--\x3e\r\n                          <option value="0">VIGENTE</option>\r\n                          <option value="1">CONCLUIDO</option>\r\n                        </select>\r\n                        <span class="icon is-small" *ngIf="avance_detalle.get(\'estatus\').hasError(\'required\') && avance_detalle.get(\'estatus\').touched">\r\n                          <i class="fa fa-warning"></i>\r\n                        </span>\r\n                        <span class="help is-danger" *ngIf="avance_detalle.get(\'estatus\').hasError(\'required\') && avance_detalle.get(\'estatus\').touched">Este campo es requerido.</span>\r\n                    </div>\r\n                    \r\n                  </div>\r\n                </div>\r\n              </form>  \r\n            </div>\r\n            <div style="overflow: scroll; overflow-x: hidden; height: 530px;">\r\n              <div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n                  <br>\r\n                  <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                  <br>\r\n                  <br>\r\n              </div>\r\n              <table class="table" *ngIf="!cargando">\r\n                  <thead>\r\n                      <tr>\r\n                      <th width="5%">VISUALIZAR</th>\r\n                      \r\n                      <th>COMENTARIO</th>\r\n                      <th width="5%">AVANCE</th>\r\n                      <th width="10%">CREADO</th>\r\n                      <th width="5%">DESCARGAR</th>\r\n                      <th width="5%">ELIMINAR</th>\r\n                      </tr>\r\n                  </thead>\r\n                  <tbody  *ngIf="!busquedaActivada">\r\n                      <tr *ngFor="let item of detalles; let i=index">\r\n                          <td style="vertical-align: middle;" class="has-text-centered">\r\n                              <button type="button" class="button  is-primary" style="margin-right: 5px;" (click)=\'view(item.id)\'>\r\n                              \t<span class="icon"><i class="fa fa-eye"></i></span>\r\n                              </button>\r\n                          </td>    \r\n                          <td style="vertical-align: middle; cursor:pointer" (click)=\'view(item.id)\'>\r\n                              <div class="tags has-addons">\r\n                                <span class="tag">{{ item.nombre }}.{{ item.extension }}</span>\r\n                                <span class="tag is-primary"><i class="fa fa-file-pdf-o"> &nbsp; <b>{{ (item.peso / 1048576) | number : \'1.2-2\' }} Mb</b></i></span>\r\n                              </div>\r\n                              <br>\r\n                              <a>{{ item.comentario }}</a>\r\n\r\n                          </td>\r\n                          <td style="vertical-align: middle; cursor:pointer" (click)=\'view(item.id)\'><a>{{ item.porcentaje }} %</a></td>\r\n                          <td style="vertical-align: middle; cursor:pointer" (click)=\'view(item.id)\'><a>{{ item.created_at }} </a></td>\r\n                          \r\n                          <td style="vertical-align: middle;" class="has-text-centered" *ngIf="!item.deleted_at">\r\n                              <button type="button" class="button  is-primary" (click)=\'descargar(item.id)\'>\r\n                              \t<span class="icon"><i class="fa fa-download"></i></span>\r\n                              </button>\r\n                              \r\n                          </td>\r\n                          <td style="vertical-align: middle;" class="has-text-centered"  *ngIf="!item.deleted_at">\r\n                              <button type="button" class="button  is-primary" (click)=\'eliminar_avance(item.id)\'>\r\n                                  <span class="icon"><i class="fa fa-close"></i></span>\r\n                              </button>\r\n                              \r\n                          </td>\r\n                          <td style="vertical-align: middle;" class="has-text-centered" colspan="2" *ngIf="item.deleted_at">\r\n                              <span class="tag is-danger is-large">\r\n                                {{ item.deleted_at }}\r\n                                <button class="delete"></button>\r\n                              </span>\r\n                          </td>\r\n                          \r\n                          \r\n                      </tr>\r\n                      <tr *ngIf="detalles.length == 0">\r\n                          <td colspan="6" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>                    \r\n                      </tr>\r\n                  </tbody>\r\n                  <tbody *ngIf="busquedaActivada">\r\n                       <tr *ngFor="let item of resultadosBusqueda; let i=index" id=\'escala\'>\r\n                         <td style="vertical-align: middle;" class="has-text-centered">\r\n                              <button type="button" class="button  is-primary" style="margin-right: 5px;" (click)=\'view(item.id)\'>\r\n                                  <span class="icon"><i class="fa fa-eye"></i></span>\r\n                              </button>\r\n                          </td>    \r\n                          \x3c!--<th style="vertical-align: middle; cursor:pointer" (click)=\'view(item.id)\'><a>{{ item.nombre }}.{{ item.extension }}</a></th>--\x3e\r\n                          <td style="vertical-align: middle; cursor:pointer" (click)=\'view(item.id)\'>\r\n                              <div class="tags has-addons">\r\n                                <span class="tag">{{ item.nombre }}.{{ item.extension }}</span>\r\n                                <span class="tag is-primary"><i class="fa fa-file-pdf-o"></i></span>\r\n                              </div>\r\n                              <br>\r\n                              <a>{{ item.comentario }}</a>\r\n\r\n                          </td>\r\n                          <td style="vertical-align: middle; cursor:pointer" (click)=\'view(item.id)\'><a>{{ item.porcentaje }} %</a></td>\r\n                          <td style="vertical-align: middle; cursor:pointer" (click)=\'view(item.id)\'><a>{{ item.created_at }} </a></td>\r\n                          \r\n                          <td style="vertical-align: middle;" class="has-text-centered" *ngIf="!item.deleted_at">\r\n                              <button type="button" class="button  is-primary" (click)=\'descargar(item.id)\'>\r\n                                  <span class="icon"><i class="fa fa-download"></i></span>\r\n                              </button>\r\n                              \r\n                          </td>\r\n                          <td style="vertical-align: middle;" class="has-text-centered"  *ngIf="!item.deleted_at">\r\n                              <button type="button" class="button  is-primary" (click)=\'eliminar_avance(item.id)\'>\r\n                                  <span class="icon"><i class="fa fa-close"></i></span>\r\n                              </button>\r\n                              \r\n                          </td>\r\n                          <td style="vertical-align: middle;" class="has-text-centered" colspan="2" *ngIf="item.deleted_at">\r\n                              <span class="tag is-danger is-large">\r\n                                {{ item.deleted_at }}\r\n                                <button class="delete"></button>\r\n                              </span>\r\n                          </td>\r\n                          \r\n                      </tr>\r\n\r\n                      <tr *ngIf="resultadosBusqueda.length == 0 && busquedaActivada">\r\n                          <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>                    \r\n                      </tr>\r\n                  </tbody>\r\n              </table>\r\n              \r\n              <paginacion \r\n                  [total]="total" \r\n                  [paginasTotales]="paginasTotales" \r\n                  [resultadosPorPagina]="resultadosPorPagina" \r\n                  [paginaActual]="paginaActual" \r\n                  [indicePaginas]="indicePaginas"\r\n                  (onSiguiente)="paginaSiguiente()" \r\n                  (onAnterior)="paginaAnterior()" \r\n                  (onListar)="listar($event)" \r\n                  *ngIf="total>0 && total > resultadosPorPagina && !busquedaActivada"></paginacion>\r\n              <paginacion \r\n                  [total]="totalBusqueda" \r\n                  [paginasTotales]="paginasTotalesBusqueda" \r\n                  [resultadosPorPagina]="resultadosPorPaginaBusqueda" \r\n                  [paginaActual]="paginaActualBusqueda" \r\n                  [indicePaginas]="indicePaginasBusqueda"\r\n                  (onSiguiente)="paginaSiguienteBusqueda(searchBox.value)" \r\n                  (onAnterior)="paginaAnteriorBusqueda(searchBox.value)" \r\n                  (onListar)="listarBusqueda(searchBox.value,$event)" \r\n                  *ngIf="totalBusqueda > 0 && totalBusqueda > resultadosPorPaginaBusqueda && busquedaActivada"></paginacion>\r\n             \r\n             \r\n              \r\n          </div>\r\n       </div>   \r\n    </div>        \r\n   \r\n</div>\r\n<div id="modal-temas" class="modal is-active" [ngClass]="{\'is-active\': showAgregarAvance}">\r\n  <div class="modal-background"  (click)="showDialog = !showAgregarAvance"></div>\r\n  <div class="modal-card" style="width:60%; height: auto;">\r\n    <header class="modal-card-head" style="background-color: #00d1b2" >\r\n      <div class="container is-fluid"  style="width:100%;">\r\n          <h1 class="title" style="color:#FFF;">\r\n            <span class="icon is-medium"><i class="fa fa-user"></i></span> Agregar Avance\r\n          </h1>\r\n      </div>            \r\n      <a class="button  is-primary" style="position:absolute; top:1em; right:1em;" (click)="showAgregarAvance = !showAgregarAvance"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n    </header>\r\n    <section class="section">\r\n        \r\n        <form name="form" [formGroup]="avance"   (ngSubmit)="upload()" >  \r\n            <section class="section" style="padding: 1rem 1.5rem; background-color: #EFEFEF">\r\n                <div class="container">\r\n                  <div class="heading">\r\n                    <h1 class="title">Avances</h1>\r\n                  </div>\r\n                </div>\r\n            </section> \r\n              <div class="control is-grouped">\r\n\t\t\t\t\t     <div class="control is-grouped">\r\n\t\t                <p class="control is-expanded  has-icon has-icon-right">\r\n\t\t                    <label class="label">Subir Archivo </label>\r\n\t\t                  \t<input type="file" (change)="fileChanged($event)" formControlName="archivo" accept="application/pdf">\r\n\t\t                  \t\r\n\t\t                </p>\r\n\t              </div>\r\n                      \r\n              </div>\r\n              <div class="control is-grouped">\r\n                <p class="control is-expanded  has-icon has-icon-right">\r\n                    <label class="label">Procentaje</label>\r\n                  \t<input class="input"  type="text"  placeholder="Porcentaje"  formControlName="porcentaje">\r\n                  \t<span class="icon is-small" *ngIf="avance.get(\'porcentaje\').hasError(\'required\') && avance.get(\'porcentaje\').touched">\r\n\t                    <i class="fa fa-warning"></i>\r\n  \t                </span>\r\n  \t                <span class="help is-danger" *ngIf="avance.get(\'porcentaje\').hasError(\'required\') && avance.get(\'porcentaje\').touched">Este campo es requerido.</span>\r\n                </p>\r\n                \r\n              </div>\r\n              \r\n              <div class="control is-grouped">\r\n                <p class="control is-expanded  has-icon has-icon-right">\r\n                    <label class="label">Comentario</label>\r\n                  \t<textarea  class="textarea"  placeholder="Comentario" formControlName="comentario"></textarea>\r\n                  \t<span class="icon is-small" *ngIf="avance.get(\'comentario\').hasError(\'required\') && avance.get(\'comentario\').touched">\r\n\t                    <i class="fa fa-warning"></i>\r\n\t                </span>\r\n\t                <span class="help is-danger" *ngIf="avance.get(\'comentario\').hasError(\'required\') && avance.get(\'comentario\').touched">Este campo es requerido.</span>\r\n                </p>\r\n                \r\n              </div>\r\n            \r\n          <br>\r\n          <div class="columns">\r\n            <div class="column" *ngIf="!cargando_datos">\r\n              <button type="submit" class="button is-primary" name="enviar"  [disabled]="avance.invalid">Subir Archivo</button>\r\n            </div>\r\n            <div class="column" *ngIf="cargando_datos">\r\n              <button type="button" class="button is-primary is-loading" disabled="disabled">Loading</button>Cargando Archivo, Espere un momento por favor...\r\n            </div>\r\n          </div>  \r\n          \r\n      </form>\r\n    </section>\r\n    <footer class="" style="position:relative; padding:1em;background: #FFF; border-top:1px solid #EEE; border-radius:0 0 0.8em 0.8em " >\r\n    </footer>\r\n  </div>\r\n</div>\r\n\r\n<div id="modal-usuario" class="modal is-active" [ngClass]="{\'is-active\': showAgregarUsuario}">\r\n  <div class="modal-background"  (click)="showDialog = !showAgregarUsuario"></div>\r\n  <div class="modal-card" style="width:60%; height: auto;">\r\n    <header class="modal-card-head" style="background-color: #00d1b2" >\r\n      <div class="container is-fluid"  style="width:100%;">\r\n          <h1 class="title" style="color:#FFF;">\r\n            <span class="icon is-medium"><i class="fa fa-user"></i></span> Usuarios / Privilegios\r\n          </h1>\r\n      </div>            \r\n      <a class="button  is-primary" style="position:absolute; top:1em; right:1em;" (click)="showAgregarUsuario = !showAgregarUsuario"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n    </header>\r\n\r\n      <div class="modal-content" style="background-color: #FFF; width: 101%">\r\n        <div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n            <br>\r\n            <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n            <br>\r\n            <br>\r\n        </div>\r\n        <form name="form" [formGroup]="usuario_form"   (ngSubmit)="agregar_usuario()" >  \r\n            <div class="columns" style="width: 100%; background-color: #EFEFEF; padding: 10px">\r\n              <div class="column">\r\n                 <div class="control is-grouped">\r\n                  <select class="select" formControlName="usuario_id">\r\n                    <option  *ngFor="let item of usuarios; let i=index" value=\'{{item.id}}\'>{{ item.nombre }} {{ item.apellidos }} - {{ item.id }}</option>\r\n                   </select>\r\n                    <span class="icon is-small" *ngIf="usuario_form.get(\'usuario_id\').hasError(\'required\') && usuario_form.get(\'usuario_id\').touched">\r\n                        <i class="fa fa-warning"></i>\r\n                    </span>\r\n                    <span class="help is-danger" *ngIf="usuario_form.get(\'usuario_id\').hasError(\'required\') && usuario_form.get(\'usuario_id\').touched">Este campo es requerido.</span>\r\n                  </div>  \r\n              </div>\r\n              <div class="column is-half">\r\n                <label class="checkbox">\r\n                    <input type="checkbox"  formControlName="ver">\r\n                    Ver\r\n                </label>\r\n                <label class="checkbox">\r\n                    <input type="checkbox"  formControlName="agregar">\r\n                    Agregar\r\n                </label>\r\n                <label class="checkbox">\r\n                    <input type="checkbox"  formControlName="editar">\r\n                    Editar\r\n                </label>\r\n                <label class="checkbox">\r\n                    <input type="checkbox"  formControlName="eliminar">\r\n                    Eliminar\r\n                </label>\r\n              </div>\r\n              <div class="column is-2">\r\n                <button type="submit" class="button is-primary" name="enviar" [ngClass]="{\'is-loading\': cargando}"  [disabled]="usuario_form.invalid">Guardar</button>\r\n              </div>\r\n             \r\n            </div>\r\n        </form>\r\n        <table class="table" *ngIf="!cargando">\r\n                <thead>\r\n                    <tr>\r\n                    <th>Usuario</th>\r\n                    <th><i class="fa fa-eye"></i></th>\r\n                    <th><i class="fa fa-pencil"></i></th>\r\n                    <th><i class="fa fa-edit"></i></th>\r\n                    <th><i class="fa fa-close"></i></th>\r\n                    <th></th>\r\n                    \r\n                    </tr>\r\n                </thead>\r\n                <tbody  >\r\n                    <tr *ngFor="let item of usuarios_privilegios; let i=index">\r\n                        <td>{{ item.usuario.nombre }} {{ item.usuario.apellidos }} - {{ item.usuario_id }}</td>\r\n                        <td  *ngIf="item.ver == 1"><i class="fa fa-check-circle"></i></td>\r\n                        <td  *ngIf="item.ver == 0"><i class="fa fa-close"></i></td>\r\n                        <td  *ngIf="item.agregar == 1"><i class="fa fa-check-circle"></i></td>\r\n                        <td  *ngIf="item.agregar == 0"><i class="fa fa-close"></i></td>\r\n                        <td  *ngIf="item.editar == 1"><i class="fa fa-check-circle"></i></td>\r\n                        <td  *ngIf="item.editar == 0"><i class="fa fa-close"></i></td>\r\n                        <td  *ngIf="item.eliminar == 1"><i class="fa fa-check-circle"></i></td>\r\n                        <td  *ngIf="item.eliminar == 0"><i class="fa fa-close"></i></td>\r\n                        <td><button type="button" class="button is-danger" (click)=\'eliminar_usuario_avance(item.id)\'><i class="fa fa-close"></i></button></td>\r\n                    </tr>\r\n                   <tr *ngIf="usuarios_privilegios.length == 0">\r\n                        <td colspan="5" style="vertical-align: middle; color:#888;">Lista vacia.</td>                    \r\n                    </tr>\r\n                </tbody>    \r\n          </table>\r\n      </div>\r\n      <footer class="" style="position:relative; padding:1em;background: #FFF; border-top:1px solid #EEE; border-radius:0 0 0.8em 0.8em " ></footer>\r\n  </div>  \r\n  <button class="modal-close is-large" aria-label="close"></button>\r\n</div>\r\n\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style="text-align:center" ><a  class="button is-danger is-inverted" (click)="ultimaPeticion(); mensajeError.mostrar = false"> <span class="icon"><i class="fa fa-refresh"></i></span> <span>Volver a intentar</span></a></p>        \r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>'},"E/ad":function(e,t){e.exports='<section  class="top-nav">\r\n            \r\n    <nav class="nav">\r\n        <a title="Laboratorio" class="nav-item pull-left nav-hub-active"  routerLink="/laboratorio">\r\n            \r\n            <img src="assets/hub-laboratorio.svg" alt="icono">\r\n        \r\n        </a>\r\n        <div class="nav-left is-hidden-touch">\r\n            \r\n            <span *ngIf="!modulo" class="nav-item">\r\n                <h1 class="title">&nbsp;Laboratorio</h1>\r\n            </span>\r\n            <a *ngIf="modulo" class="nav-item" routerLink="{{ url }}" >\r\n            \r\n            \x3c!-- <img src="{{ icono }}" alt="icono">--\x3e\r\n                <h1 class="title">&nbsp;{{ modulo }}</h1>                     \r\n            </a>\r\n        </div>\r\n\r\n        <div class="nav-center"></div>\r\n        <div class="nav-right is-hidden-mobile">\r\n            <span class="unidad-trabajo">\r\n                {{usuario.clues_activa.clues}} <span *ngIf="usuario.almacen_activo"> - {{usuario.almacen_activo.nombre}}</span><br>            \r\n                <span>{{usuario.clues_activa.nombre}}</span>\r\n            </span>\r\n        </div>\r\n\r\n        <a class="nav-item"  (click)="hub.toggle()">\r\n            <span class="icon">\r\n                <i class="fa fa-th"></i>\r\n            </span>\r\n        </a>\r\n\r\n        <a class="nav-item is-hidden-mobile" (click)="perfil.toggle()">                    \r\n            <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n            &nbsp;\r\n            <span>{{ usuario.nombre }} {{ usuario.apellidos }}</span>\r\n        </a>\r\n        <a class="nav-item is-hidden-tablet" (click)="perfil.toggle()">\r\n            \r\n            <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n        </a>\r\n        \r\n        \r\n    </nav>\r\n</section>\r\n\r\n<app-hub #hub></app-hub>\r\n<app-perfil #perfil></app-perfil>'},E7Eg:function(e,t){e.exports='<formulario #ctrl URL="tipo-movimiento" titulo="Tipo Movimiento / Catalogo" [dato]="dato" ></formulario>\r\n<app-menu-catalogo></app-menu-catalogo>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns" style="height:90%;  padding-top: 1em;">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em;">\r\n        <form name="form" novalidate [formGroup]="dato" (ngSubmit)="ctrl.enviar()">\r\n            <div style="background: #FFF; overflow: hidden;">\r\n                <section class="hero is-primary">\r\n                    <div class="hero-body">\r\n                        \x3c!-- Opciones  --\x3e                         \r\n                        <formulario-opciones\r\n                            [ctrl]="ctrl"\r\n                            class="control is-grouped"\r\n                            style="position:absolute; top:8em; right:3em;">\r\n                        </formulario-opciones>\r\n                        <div class="container is-fluid">\r\n                            <h1 class="title">\r\n                                <span *ngIf="!ctrl.cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                <span *ngIf="ctrl.cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>\r\n                                {{ctrl.moduloTitulo}} tipo de movimiento\r\n                            </h1>\r\n\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n                <section class="section" >\r\n\r\n                    \x3c!-- formulario --\x3e\r\n                    \r\n\r\n                        <div class="field">\r\n                            <label class="label">ID:</label>\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n                                <input class="input"  type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'id\').hasError(\'required\') && ctrl.dato.get(\'id\').touched}"\r\n                                    placeholder="id" formControlName="id">\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'id\').hasError(\'required\') && ctrl.dato.get(\'id\').touched">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'id\').hasError(\'required\') && ctrl.dato.get(\'id\').touched">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n\r\n\r\n                        <h2 class="subtitle">Tipo de movimiento</h2>\r\n                        <div class="control" >\r\n\r\n                            <select name="tipo" formControlName="tipo" class="select">\r\n                                <option *ngFor="let item of tipo" value="{{item.id}}" [attr.selected]="ctrl.dato.get(\'tipo\').value == item.id ? true:false">{{ item.nombre }}</option>\r\n                            </select>\r\n                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'tipo\').hasError(\'required\') && ctrl.dato.get(\'tipo\').touched">Debe elegir un tipo.</span>\r\n                            \r\n                        </div>\r\n\r\n                        <div class="field">\r\n                            <label class="label">Nombre:</label>\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n                                <input class="input"  type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'nombre\').hasError(\'required\')}"\r\n                                    placeholder="nombre" formControlName="nombre">\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n\r\n\r\n                        <br><br>\r\n                        \x3c!-- <div class="control is-grouped">\r\n                            <p class="control">\r\n                                <button class="button is-primary" type="submit" [ngClass]="{\'is-loading\': ctrl.cargando}" [disabled]="ctrl.dato.invalid">Guardar</button>\r\n                            </p>\r\n                            <p class="control" *ngIf="ctrl.id">\r\n                                <button class="button is-danger" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="ctrl.eliminar(ctrl.id)">Eliminar </button>\r\n                            </p>\r\n                            <p class="control">\r\n                                <a class="button is-white" (click)="ctrl.regresar()">Regresar</a>\r\n                            </p>\r\n                        </div> --\x3e\r\n\r\n                \r\n                </section>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>'},EHZL:function(e,t){e.exports='<app-menu-receta></app-menu-receta>\r\n\r\n<div style="height:50px;"></div>\r\n<section style="padding: 1em;">\r\n  <div class="control is-grouped">\r\n    <p class="control is-expanded">\r\n        <input class="input is-medium" type="text" placeholder="Buscar" [(ngModel)] = "busqueda" id="search-box">\r\n    </p>\r\n    <p class="control">\r\n        <a class="button is-medium is-primary is-inverted" [ngClass]="{ \'is-disabled\': busqueda==\'\'}" (click)="busqueda=\'\'">\r\n        <span class="icon"><i class="fa fa-close"></i></span>\r\n        </a>\r\n    </p>\r\n  </div>\r\n\r\n</section>\r\n<section style="padding: 1em;">\r\n    <section class="contenedor columns is-multiline is-mobile">\r\n        <div class="column is-1-desktop is-2-tablet is-3-mobile" *ngFor="let item of accesosDirectosAutorizados | buscarModulo: busqueda">\r\n            <a href="#" title="{{ item.titulo}}" class="item" routerLink="{{item.url}}"  routerLinkActive="active">\r\n                <figure class="image " style="height: auto; width: 100%; ">\r\n                    <img src="{{ item.icono }}" alt="{{item.titulo}}">                            \r\n                </figure>\r\n                <span class="is-hidden-mobile">{{ item.titulo}}</span>\r\n                <span class="is-hidden-tablet is-hidden-desktop"><small>{{ item.titulo}}</small></span>\r\n            </a>\r\n        </div>\r\n    </section>\r\n    <hr>\r\n    <section class="contenedor columns is-multiline is-mobile">\r\n        <div class="column is-1-desktop is-2-tablet is-3-mobile" *ngFor="let item of modulosAutorizados | buscarModulo: busqueda">\r\n            <a href="#" title="{{ item.titulo}}" style="position: relative;" class="item" routerLink="{{item.url}}" routerLinkActive="active">\r\n                \r\n                <figure class="image " style="height: auto; width: 100%; ">\r\n                    <img src="{{ item.icono }}" alt="{{item.titulo}}">                            \r\n                </figure>\r\n                <span class="is-hidden-mobile">{{ item.titulo}}</span>\r\n                <span class="is-hidden-tablet is-hidden-desktop"><small>{{ item.titulo}}</small></span>\r\n                <span *ngIf="item.badge>0" class="tag is-danger" style="position:absolute; top:0px; right:0px;">{{ item.badge }}</span>\r\n            </a>\r\n        </div>\r\n    </section>\r\n</section>\r\n\r\n'},ELSb:function(e,t){e.exports=".top-nav { position: fixed; width: 100%;top:0px; z-index:99; background: #00d1b2; }\r\n\r\n\r\nnav {\r\n    background-color:#00d1b2;\r\n    color: #FFF !important;\r\n}\r\n\r\n\r\na.nav-hub-active { background:rgba(0,0,0,0.05);}\r\n\r\n\r\na.nav-hub-active:hover { background:rgba(0,0,0,0.1);}\r\n\r\n\r\nnav a { color: #FFF ; color: rgba(255,255,255,0.9)  !important;}\r\n\r\n\r\nnav a:hover { color: #FFF !important;}\r\n\r\n\r\nnav .title  { color:#FFF;}\r\n\r\n\r\nnav a .title { color:#FFF; color: rgba(255,255,255,0.9)  !important;}\r\n\r\n\r\nnav a:hover .title { color:#FFF !important; }"},ETQ8:function(e,t){e.exports='<formulario #ctrl URL="unidad-medica" titulo="UM / Catalogo" [dato]="dato"></formulario>\r\n<app-menu-catalogo></app-menu-catalogo>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns" style="height:90%;  padding-top: 1em;">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em;">\r\n        \x3c!-- formulario --\x3e\r\n        <form name="dato" novalidate [formGroup]="dato" (ngSubmit)="ctrl.enviar()">\r\n            <div style="background: #FFF; overflow: hidden;">\r\n                <section class="hero is-primary">\r\n                    <div class="hero-body">\r\n                        \x3c!-- Opciones  --\x3e                         \r\n                        <formulario-opciones\r\n                            [ctrl]="ctrl"\r\n                            class="control is-grouped"\r\n                            style="position:absolute; top:8em; right:3em;">\r\n                        </formulario-opciones>\r\n                        \x3c!-- <a class="button  is-primary" style="position:absolute; top:8em; right:3em;" (click)="ctrl.cargarDatos(); "><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                        --\x3e\r\n                        <div class="container is-fluid">\r\n                            <h1 class="title">\r\n                                <span *ngIf="!ctrl.cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                <span *ngIf="ctrl.cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>                                {{ctrl.moduloTitulo}} unidad m\xe9dica\r\n                            </h1>\r\n                        </div> \r\n                    </div>\r\n                </section>\r\n                <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>                    &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n                <section class="section">\r\n                    <div class="tabs is-boxed">\r\n                        <ul>\r\n                            <li [ngClass]="{ \'is-active\' : tab == 1}">\r\n                                <a (click)="tab=1">\r\n                                    <span class="icon is-small"><i class="fa fa-file"></i></span>\r\n                                    <span>Datos de la unidad</span>\r\n                                </a>\r\n                            </li>\r\n                            <li [ngClass]="{ \'is-active\' : tab == 2}">\r\n                                <a (click)="tab=2">\r\n                                    <span class="icon is-small"><i class="fa fa-home"></i></span>\r\n                                    <span>Servicios</span>\r\n                                </a>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n\r\n                    <div [ngClass]="{ \'is-hidden\': tab != 1}">\r\n\r\n                        <div class="field" id="catalogos" (click)="ctrl.cargarCatalogo(\'tipos_servicios\', \'servicios\'); ">\r\n                            <label class="label">Clues:</label>\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n                                <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'clues\').hasError(\'required\') && ctrl.dato.get(\'clues\').touched}"\r\n                                    placeholder="clues" formControlName="clues">\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'clues\').hasError(\'required\') && ctrl.dato.get(\'clues\').touched">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'clues\').hasError(\'required\') && ctrl.dato.get(\'clues\').touched">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div class="field">\r\n                            <label class="label">Nombre:</label>\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n                                <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'nombre\').hasError(\'required\')}" placeholder="nombre"\r\n                                    formControlName="nombre">\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div [ngClass]="{ \'is-hidden\': tab != 2}">\r\n\r\n                        <div class="box" [style.maxHeight.px]="ctrl.tamano-300">\r\n                            <article class="media">\r\n                                <div class="media-content">\r\n                                    <div class="content" >\r\n                                        <div class="column is-5" style="float:left">\r\n                                            <nav class="panel">\r\n                                                <div class="panel-heading">\r\n                                                    <div class="field">\r\n                                                        <div class="b-checkbox is-info">\r\n                                                            <input id="Movimientos" class="styled" type="checkbox" [checked]="ctrl.todosSeleccionados.izquierda" (click)="ctrl.seleccionarTodosMover(\'izquierda\', ctrl.tipos_servicios)">\r\n                                                            <label for="Movimientos">\r\n                                                            Servicios disponibles\r\n                                                        </label>\r\n                                                        </div>\r\n                                                        <a id="catalogos" (click)="ctrl.cargarCatalogo(\'tipos_servicios\', \'servicios\'); "></a>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div style="overflow:auto; display:block" [style.maxHeight.px]="ctrl.tamano-450">\r\n                                                    <label class="panel-block" *ngFor="let val of ctrl.tipos_servicios; let i=index">          \r\n                                                        <div class="field">\r\n                                                            <div class="b-checkbox">\r\n                                                                <input id="{{val.id}}" class="styled" type="checkbox" \r\n                                                                [checked]="ctrl.izquierda.indexOf(val) > -1"\r\n                                                                (click)="ctrl.agregarMover(\'izquierda\', ctrl.tipos_servicios, val)">\r\n                                                                <label for="{{val.id}}">\r\n                                                                    {{val.nombre}} \r\n                                                                </label>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </label>\r\n                                                </div>\r\n                                            </nav>\r\n                                        </div>\r\n                                        <div class="column is-2" style="float:left">\r\n\r\n                                            <p class="control">\r\n                                                <button class="button is-default" type="button" style="width:100%" [ngClass]="{\'is-success\': ctrl.izquierda.length > 0}"\r\n                                                    [disabled]="ctrl.izquierda.length <= 0" (click)="ctrl.iniciarMover(\'izquierda\', ctrl.dato.controls.clues_servicios.controls, ctrl.tipos_servicios, true)">></button>\r\n                                            </p>\r\n                                            <p class="control">\r\n                                                <button class="button is-default" type="button" style="width:100%" [ngClass]="{\'is-success\': ctrl.derecha.length > 0}" [disabled]="ctrl.derecha.length <= 0"\r\n                                                    (click)="ctrl.iniciarMover(\'derecha\', ctrl.tipos_servicios, ctrl.dato.controls.clues_servicios.controls, false)"><</button>\r\n                                            </p>\r\n\r\n                                        </div>\r\n                                        <div class="column is-5" style="float:left">\r\n                                            <nav class="panel" formGroupName="clues_servicios">\r\n                                                <div class="panel-heading">\r\n                                                    <div class="field">\r\n                                                        <div class="b-checkbox is-info">\r\n                                                            <input id="MisServicios" class="styled" type="checkbox" [checked]="ctrl.todosSeleccionados.derecha" (click)="ctrl.seleccionarTodosMover(\'derecha\', ctrl.dato.controls.clues_servicios.controls)">\r\n                                                            <label for="MisServicios">\r\n                                                                    Mis servicios\r\n                                                                </label>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div style="overflow:auto; display:block" [style.maxHeight.px]="ctrl.tamano-450">\r\n                                                    <label class="panel-block" *ngFor="let item of ctrl.dato.controls.clues_servicios.controls; let i2=index">          \r\n                                                        <div class="field" [formGroupName]="i2">\r\n                                                            <div class="b-checkbox">\r\n                                                                <input id="{{item.value.id}}" class="styled" type="checkbox"\r\n                                                                [checked]="ctrl.derecha.indexOf(item) > -1"\r\n                                                                (click)="ctrl.agregarMover(\'derecha\', ctrl.dato.controls.clues_servicios.controls, item)">\r\n                                                                <label for="{{item.value.id}}">\r\n                                                                    {{item.value.nombre}} \r\n                                                                </label>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </label>\r\n                                                </div>\r\n                                            </nav>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </article>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>'},Es1U:function(e,t){e.exports="chart {\r\n        display: block;\r\n      }\r\n      \r\ndiv.scroll {\r\n    background-color: #FFFFFF;\r\n    height: 400px;\r\n    overflow: auto;\r\n}      "},FKvc:function(e,t){e.exports="pre {\r\n    white-space: pre-wrap;       /* Since CSS 2.1 */\r\n    white-space: -moz-pre-wrap;  /* Mozilla, since 1999 */\r\n    white-space: -pre-wrap;      /* Opera 4-6 */\r\n    white-space: -o-pre-wrap;    /* Opera 7 */\r\n    word-wrap: break-word;       /* Internet Explorer 5.5+ */\r\n    padding: 1em; margin: 0px;\r\n}"},FR06:function(e,t){e.exports='<admision-menu></admision-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%; ">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <admision-menu-lateral></admision-menu-lateral>\r\n    </div>\r\n    <div class="column" style="padding:2em;">\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n            <section class="hero" [ngClass] = " \'is-primary\' " >\r\n                \r\n                <div class="hero-body" style="position:relative;">\r\n                    \r\n                    <div class="container is-fluid">\r\n                        \r\n                        <h1 class="title">\r\n                            <span class="icon is-medium"><i class="fa fa-user"></i></span> Ingreso Paciente\r\n                        </h1>\r\n                        \r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n             <section class="section">\r\n                <form name="form" novalidate [formGroup]="pacienteIngreso"  (ngSubmit)="enviar()">     \r\n                  <section class="section" style="background-color: #00d1b2;">\r\n                    <div class="container">\r\n                      <div class="heading">\r\n                        <h1 class="title" style="color: #FFF">Datos del Paciente</h1>\r\n                        <h2 class="subtitle" style="color: #FFF">\r\n                          ID: {{ id_paciente }}<BR>\r\n                          NOMBRE: {{ nombre_paciente }} <BR>\r\n                          LOCALIDAD: {{ localidad_paciente }}<BR>\r\n\r\n                        </h2>\r\n                      </div>\r\n                    </div>\r\n                  </section>\r\n                   <br>    \r\n                  <div class="control is-grouped">\r\n                    <p class="control is-expanded  has-icon has-icon-right">\r\n                        <label class="label">Referido</label>\r\n                      \t<span class="select is-fullwidth">\r\n    \t\t                \t<select  formControlName="referido" name="referido" #referido (change)="valida_referido(referido.value)">\r\n    \t\t                \t\t<option value="1" selected="selected">SI</option>\r\n    \t\t                \t\t<option value="2">NO</option>\r\n    \t\t                \t</select>\r\n\t\t                    </span>\t\r\n\r\n\t                 \t<span class="icon is-small" *ngIf="pacienteIngreso.get(\'referido\').hasError(\'required\') && pacienteIngreso.get(\'referido\').touched">\r\n\t                     \t<i class="fa fa-warning"></i>\r\n\t                    </span>\r\n\t                    <span class="help is-danger" *ngIf="pacienteIngreso.get(\'referido\').hasError(\'required\') && pacienteIngreso.get(\'referido\').touched">Este campo es requerido.</span>                     \r\n                    </p>\r\n                    <p class="control is-expanded  has-icon has-icon-right"  [hidden]="!nombre_conocido">\r\n                        <label class="label">Unidad Referida</label>\r\n                      \t<span class="select is-fullwidth">\r\n                          <select  formControlName="unidad_referido" name="unidad_referido">\r\n                              <option *ngFor="let item of UnidadesMedicas" value="{{item.clues}}">{{ item.nombre }} - {{ item.clues }}</option>\r\n                          </select>\r\n                        </span>\r\n    \t                  <span class="icon is-small" *ngIf="pacienteIngreso.get(\'unidad_referido\').hasError(\'required\') && pacienteIngreso.get(\'unidad_referido\').touched">\r\n    \t                    <i class="fa fa-warning"></i>\r\n    \t                  </span>\r\n    \t                  <span class="help is-danger" *ngIf="pacienteIngreso.get(\'unidad_referido\').hasError(\'required\') && pacienteIngreso.get(\'unidad_referido\').touched">Este campo es requerido.</span>\r\n                    </p>    \r\n\t                </div>\r\n\r\n                  <div class="control is-grouped">\r\n                    <p class="control is-expanded  has-icon has-icon-right">\r\n                        <label class="label">Urgencia Calificada</label>\r\n                        <span class="select is-fullwidth">\r\n                          <select  formControlName="urgencia_calificada" name="urgencia_calificada" (change)="bloquea_formulario()" >\r\n                            <option value="1" selected="selected">SI</option>\r\n                            <option value="2">NO</option>\r\n                          </select>\r\n                        </span> \r\n                    <span class="icon is-small" *ngIf="pacienteIngreso.get(\'urgencia_calificada\').hasError(\'required\') && pacienteIngreso.get(\'urgencia_calificada\').touched">\r\n                        <i class="fa fa-warning"></i>\r\n                      </span>\r\n                      <span class="help is-danger" *ngIf="pacienteIngreso.get(\'urgencia_calificada\').hasError(\'required\') && pacienteIngreso.get(\'urgencia_calificada\').touched">Este campo es requerido.</span>                     \r\n                    </p>\r\n\r\n                    <p class="control is-expanded  has-icon has-icon-right" [hidden]="verForm">\r\n                        <label class="label">Triage Obstetrico</label>\r\n                        <span class="select is-fullwidth">\r\n                          <select  formControlName="registro_triage" name="registro_triage" #registro_triage >\r\n                            <option value="1" selected="selected">SI</option>\r\n                            <option value="2">NO</option>\r\n                          </select>\r\n                        </span> \r\n                    <span class="icon is-small" *ngIf="pacienteIngreso.get(\'registro_triage\').hasError(\'required\') && pacienteIngreso.get(\'registro_triage\').touched">\r\n                        <i class="fa fa-warning"></i>\r\n                      </span>\r\n                      <span class="help is-danger" *ngIf="pacienteIngreso.get(\'registro_triage\').hasError(\'required\') && pacienteIngreso.get(\'registro_triage\').touched">Este campo es requerido.</span>                     \r\n                    </p>\r\n                    <p class="control is-expanded  has-icon has-icon-right" [hidden]="verForm">\r\n                        <label class="label">Lugar donde se encuentra</label>\r\n                        <span class="select is-fullwidth">\r\n                          <select  formControlName="estado_triage_id" name="estado_triage_id">\r\n                            <option *ngFor="let item of Triage" value="{{item.id}}">{{ item.id }} {{ item.descripcion }}</option>\r\n                          </select>\r\n                        </span> \r\n                    <span class="icon is-small" *ngIf="pacienteIngreso.get(\'estado_triage_id\').hasError(\'required\') && pacienteIngreso.get(\'estado_triage_id\').touched">\r\n                        <i class="fa fa-warning"></i>\r\n                      </span>\r\n                      <span class="help is-danger" *ngIf="pacienteIngreso.get(\'estado_triage_id\').hasError(\'required\') && pacienteIngreso.get(\'estado_triage_id\').touched">Este campo es requerido.</span>                     \r\n                    </p>\r\n                     <p class="control is-expanded  has-icon has-icon-right" [hidden]="verForm">\r\n                        <label class="label">Grado de Lesi\xf3n</label>\r\n                        <span class="select is-fullwidth">\r\n                          <select  formControlName="grado_lesion_id" name="grado_lesion_id" >\r\n                              <option *ngFor="let item of GradoLesion" value="{{item.id}}">{{ item.descripcion }}</option>\r\n                          </select>\r\n                        </span> \r\n                    <span class="icon is-small" *ngIf="pacienteIngreso.get(\'grado_lesion_id\').hasError(\'required\') && pacienteIngreso.get(\'grado_lesion_id\').touched">\r\n                        <i class="fa fa-warning"></i>\r\n                      </span>\r\n                      <span class="help is-danger" *ngIf="pacienteIngreso.get(\'grado_lesion_id\').hasError(\'required\') && pacienteIngreso.get(\'grado_lesion_id\').touched">Este campo es requerido.</span>                     \r\n                    </p>\r\n                    <p class="control is-expanded  has-icon has-icon-right" [hidden]="verForm">\r\n                        <label class="label">Fecha de ingreso</label>\r\n                        <input class="input"  type="text" name="fecha_ingreso" formControlName="fecha_ingreso" placeholder="aaaa-mm-dd" readonly="readonly">\r\n                          <span class="icon is-small" *ngIf="pacienteIngreso.get(\'fecha_ingreso\').hasError(\'required\') && pacienteIngreso.get(\'fecha_ingreso\').touched">\r\n                            <i class="fa fa-warning"></i>\r\n                          </span>\r\n                          <span class="help is-danger" *ngIf="pacienteIngreso.get(\'fecha_ingreso\').hasError(\'required\') && pacienteIngreso.get(\'fecha_ingreso\').touched">Este campo es requerido.</span>\r\n                         \r\n                    </p>\r\n                    <p class="control is-expanded  has-icon has-icon-right" [hidden]="verForm">\r\n                        <label class="label">Hora de ingreso</label>\r\n                        <input class="input"  type="text" name="hora_ingreso" formControlName="hora_ingreso" placeholder="HH:mm" readonly="readonly">\r\n                          <span class="icon is-small" *ngIf="pacienteIngreso.get(\'hora_ingreso\').hasError(\'required\') && pacienteIngreso.get(\'hora_ingreso\').touched">\r\n                            <i class="fa fa-warning"></i>\r\n                          </span>\r\n                          <span class="help is-danger" *ngIf="pacienteIngreso.get(\'hora_ingreso\').hasError(\'required\') && pacienteIngreso.get(\'hora_ingreso\').touched">Este campo es requerido.</span>\r\n                         \r\n                    </p>\r\n                  </div>\r\n                  <br><br>\r\n                  <div class="control is-grouped">\r\n                    <p class="control" *ngIf="permiso_guardar">\r\n                      <button class="button is-primary" type="submit" [ngClass]="{\'is-loading\': cargando}" [disabled]="pacienteIngreso.invalid">Guardar</button>\r\n                    </p>\r\n                    \r\n                    <p class="control">\r\n                      <a class="button is-white" (click)="regresar()" >Regresar</a>\r\n                    </p>\r\n                  </div>\r\n\r\n              </form>\r\n            </section>  \r\n        </div>\r\n    </div>    \r\n</div>\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style="text-align:center" ><a  class="button is-danger is-inverted" (click)="ultimaPeticion(); mensajeError.mostrar = false"> <span class="icon"><i class="fa fa-refresh"></i></span> <span>Volver a intentar</span></a></p>        \r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n'},FaRF:function(e,t){e.exports='<menu-farmacia [modulo]="\'Transferencias Almacen\'" [icono]="\'assets/icono-pedidos.svg\'" [url]="\'/almacen/transferencia-almacen\'"></menu-farmacia>\r\n\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%; ">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n      <menu-lateral></menu-lateral>\r\n    </div>\r\n    <div class="column" style="padding:2em;">\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n            <section class="hero" [ngClass] = " {\'is-dark\': busquedaActivada, \'is-primary\': !busquedaActivada } " >\r\n                \r\n                <div class="hero-body" style="position:relative;">\r\n                    <a class="button  is-dark" *ngIf="busquedaActivada" style="position:absolute; top:1em; right:1em;" (click)="busquedaActivada=false;searchBox.value=\'\';resultadosBusqueda=[]"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n                    <a class="button  is-dark" *ngIf="busquedaActivada" style="position:absolute; top:1em; right:3.5em;" (click)="listarBusqueda(searchBox.value,1)"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                    <a class="button  is-primary" *ngIf="!busquedaActivada" style="position:absolute; top:1em; right:1em;" (click)="listar(1)"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                    <div class="container is-fluid">\r\n                        \r\n                        <h1 class="title" *ngIf="!busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa {{ icono }}"></i></span> {{ titulo }}\r\n                        </h1>\r\n                        <h1 class="title" *ngIf="busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-search"></i></span> B\xfasqueda \r\n                        </h1>\r\n                        <div class="control is-grouped">\r\n                            <p class="control is-expanded">\r\n                                <input class="input is-medium" type="text" placeholder="Buscar" #searchBox id="search-box" (keyup)="buscar(searchBox.value)">\r\n                            </p>\r\n                            \x3c!--p class="control">\r\n                                <a class="button is-medium is-primary is-inverted " routerLink="/almacen/pedidos/nuevo">\r\n                                <span class="icon"><i class="fa fa-plus"></i></span><span>Nuevo</span>\r\n                                </a>\r\n                            </p--\x3e\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n\r\n            <table class="table" *ngIf="!cargando">\r\n                <thead>\r\n                    <tr>\r\n                        <th><abbr title="Folio del pedido">Folio</abbr></th>\r\n                        <th>Nombre del Pedido</th>\r\n                        <th>Fecha <span *ngIf="status == \'PS\'">(expiraci\xf3n)</span></th>\r\n                        <th>Claves</th>\r\n                        <th>Cantidad</th>\r\n                        <th>Monto</th>\r\n                        <th style="text-align:center;" width="1">Opciones</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody  *ngIf="!busquedaActivada">\r\n                    <tr *ngFor="let item of pedidos; let i=index" [ngClass]="{\'proyecto-estatus-normal\':(item.status == \'BR\' || item.status == \'PS\'),\'proyecto-estatus-azul\':item.status == \'EF\',\'proyecto-estatus-rojo\':item.status == \'EX-CA\',\'proyecto-estatus-amarillo\':item.status == \'EX\',\'proyecto-estatus-verde\':item.status == \'FI\'}">\r\n                        <th style="vertical-align: middle;"><a routerLink="{{obtenerDireccion(item.id,item.status)}}">\r\n                            <span class="icon" *ngIf="item.tipo_pedido_id==\'PA\'"><i class="fa fa-hospital-o"></i></span>\r\n                            <span class="icon" *ngIf="item.tipo_pedido_id==\'PFS\'"><i class="fa fa-building"></i></span>\r\n                            <span class="icon" *ngIf="item.tipo_pedido_id==\'PALT\'"><i class="fa fa-building-o"></i></span>\r\n                            {{ item.folio?item.folio:\'S/F\' }}</a>\r\n                        </th>\r\n                        <td style="vertical-align: middle;"><a routerLink="{{obtenerDireccion(item.id,item.status)}}">{{ item.descripcion }}</a></td>\r\n                        <td style="vertical-align: middle;"><a [ngClass]="{\'estatus-rojo\':(item.status == \'PS\' && item.expira_en_dias <= 0),\'estatus-amarillo\':(item.status == \'PS\' && (item.expira_en_dias > 0 && item.expira_en_dias <= 5))}" routerLink="{{obtenerDireccion(item.id,item.status)}}">{{ item.fecha | date:\'y-MM-dd\' }} <span *ngIf="item.status == \'PS\'">({{item.expira_en_dias?item.expira_en_dias:\'hoy\'}})</span></a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="{{obtenerDireccion(item.id,item.status)}}"> \r\n                            {{ (item.total_claves_recibidas || 0) | number }} / {{ item.total_claves_solicitadas | number }} [{{(item.total_claves_recibidas/item.total_claves_solicitadas)*100 | number:\'1.0-2\'}}%]\r\n                        </a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="{{obtenerDireccion(item.id,item.status)}}"> \r\n                            {{ (item.total_cantidad_recibida || 0) | number }} / {{ item.total_cantidad_solicitada | number }} [{{(item.total_cantidad_recibida/item.total_cantidad_solicitada)*100 | number:\'1.0-2\'}}%]\r\n                        </a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="{{obtenerDireccion(item.id,item.status)}}">\r\n                            $ {{ (item.total_monto_recibido || 0) | number:\'1.2-2\' }} / $ {{ item.total_monto_solicitado | number:\'1.2-2\' }} [{{(item.total_monto_recibido/item.total_monto_solicitado)*100 | number:\'1.0-2\'}}%]\r\n                        </a></td>\r\n                        <td style="vertical-align: middle;" class="has-text-centered">\r\n                            <a *ngIf="!item.cargando && item.status == \'SD\'" routerLink="/almacen/transferencia-almacen/surtir/{{item.id}}" title="Surtir pedido"><span class="icon"><i class="fa fa-truck"></i></span></a>\r\n                            \x3c!--a *ngIf="!item.cargando && item.status == \'BR\'" class="status-rojo" (click)="eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a--\x3e\r\n\r\n                            \x3c!--span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span>\r\n                            <span *ngIf="!item.cargando && item.status == \'PS\' && item.expira_en_dias < 0" class="tag is-danger" title="Expirado"><span class="icon"><i class="fa fa-exclamation"></i></span></span>\r\n                            <span *ngIf="!item.cargando && item.status == \'FI\'" class="estatus-verde" title="Finalizado"><span class="icon"><i class="fa fa-check-circle"></i></span></span>\r\n                            <span *ngIf="!item.cargando && item.status == \'EX-CA\'" class="estatus-rojo" title="Expirado - Cancelado"><span class="icon"><i class="fa fa-times-circle"></i></span></span>\r\n                            <span *ngIf="!item.cargando && item.status == \'EX\'" class="estatus-amarillo" title="Expirado"><span class="icon"><i class="fa fa-exclamation-circle"></i></span></span--\x3e\r\n                        </td>\r\n                    </tr>\r\n                    <tr *ngIf="pedidos.length == 0">\r\n                        <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n                <tbody *ngIf="busquedaActivada">\r\n                    <tr *ngFor="let item of resultadosBusqueda; let i=index" [ngClass]="{\'proyecto-estatus-normal\':item.status == \'BR\',\'proyecto-estatus-azul\':item.status == \'EF\',\'proyecto-estatus-rojo\':item.status == \'EX-CA\',\'proyecto-estatus-amarillo\':item.status == \'EX\',\'proyecto-estatus-verde\':item.status == \'FI\'}">\r\n                        <th style="vertical-align: middle;"><a routerLink="{{obtenerDireccion(item.id,item.status)}}">\r\n                            <span class="icon" *ngIf="item.tipo_pedido_id==\'PA\'"><i class="fa fa-hospital-o"></i></span>\r\n                            <span class="icon" *ngIf="item.tipo_pedido_id==\'PFS\'"><i class="fa fa-building"></i></span>\r\n                            <span class="icon" *ngIf="item.tipo_pedido_id==\'PALT\'"><i class="fa fa-building-o"></i></span>\r\n                            {{ item.folio?item.folio:\'S/F\' }}</a>\r\n                        </th>\r\n                        <td style="vertical-align: middle;"><a routerLink="{{obtenerDireccion(item.id,item.status)}}">{{ item.descripcion }}</a></td>\r\n                        <td style="vertical-align: middle;"><a [ngClass]="{\'estatus-rojo\':(item.status == \'PS\' && item.expira_en_dias <= 0),\'estatus-amarillo\':(item.status == \'PS\' && (item.expira_en_dias > 0 && item.expira_en_dias <= 5))}" routerLink="{{obtenerDireccion(item.id,item.status)}}">{{ item.fecha | date:\'y-MM-dd\' }} <span *ngIf="item.status == \'PS\'">({{item.expira_en_dias?item.expira_en_dias:\'hoy\'}})</span></a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="{{obtenerDireccion(item.id,item.status)}}"> \r\n                            {{ (item.total_claves_recibidas || 0) | number }} / {{ item.total_claves_solicitadas | number }} [{{(item.total_claves_recibidas/item.total_claves_solicitadas)*100 | number:\'1.0-2\'}}%]\r\n                        </a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="{{obtenerDireccion(item.id,item.status)}}"> \r\n                            {{ (item.total_cantidad_recibida || 0) | number }} / {{ item.total_cantidad_solicitada | number }} [{{(item.total_cantidad_recibida/item.total_cantidad_solicitada)*100 | number:\'1.0-2\'}}%]\r\n                        </a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="{{obtenerDireccion(item.id,item.status)}}">\r\n                            $ {{ (item.total_monto_recibido || 0) | number:\'1.2-2\' }} / $ {{ item.total_monto_solicitado | number:\'1.2-2\' }} [{{(item.total_monto_recibido/item.total_monto_solicitado)*100 | number:\'1.0-2\'}}%]\r\n                        </a></td>\r\n                        <td style="vertical-align: middle;" class="has-text-centered">\r\n                            <a *ngIf="!item.cargando && item.status == \'SD\'" routerLink="/almacen/transferencia-almacen/surtir/{{item.id}}" title="Surtir pedido"><span class="icon"><i class="fa fa-truck"></i></span></a>\r\n                            \x3c!--a *ngIf="!item.cargando && item.status == \'BR\'" class="status-rojo" (click)="eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a--\x3e\r\n                        </td>\r\n                    </tr>\r\n\r\n                    <tr *ngIf="resultadosBusqueda.length == 0 && busquedaActivada">\r\n                        <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion \r\n                [total]="total" \r\n                [paginasTotales]="paginasTotales" \r\n                [resultadosPorPagina]="resultadosPorPagina" \r\n                [paginaActual]="paginaActual" \r\n                [indicePaginas]="indicePaginas"\r\n                (onSiguiente)="paginaSiguiente()" \r\n                (onAnterior)="paginaAnterior()" \r\n                (onListar)="listar($event)" \r\n                *ngIf="total>0 && total > resultadosPorPagina && !busquedaActivada"></paginacion>\r\n            \x3c!-- Paginaci\xf3n para la b\xfasqueda  --\x3e\r\n            <paginacion \r\n                [total]="totalBusqueda" \r\n                [paginasTotales]="paginasTotalesBusqueda" \r\n                [resultadosPorPagina]="resultadosPorPaginaBusqueda" \r\n                [paginaActual]="paginaActualBusqueda" \r\n                [indicePaginas]="indicePaginasBusqueda"\r\n                (onSiguiente)="paginaSiguienteBusqueda(searchBox.value)" \r\n                (onAnterior)="paginaAnteriorBusqueda(searchBox.value)" \r\n                (onListar)="listarBusqueda(searchBox.value,$event)" \r\n                *ngIf="totalBusqueda > 0 && totalBusqueda > resultadosPorPaginaBusqueda && busquedaActivada"></paginacion>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    \x3c!--p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p--\x3e\r\n</div>'},FbSt:function(e,t){e.exports='<section  class="top-nav">\r\n            \r\n    <nav class="nav">\r\n        <a title="Catalogo" class="nav-item pull-left nav-hub-active"  routerLink="/almacen-articulos">\r\n            \r\n            <img src="assets/hub-almacen-articulos.svg" alt="icono">\r\n        \r\n        </a>\r\n        <div class="nav-left">\r\n            \r\n            <span *ngIf="!modulo" class="nav-item" >\r\n                <h1 class="title">&nbsp;Art\xedculos / Cat\xe1logos</h1>\r\n            </span>\r\n            <a *ngIf="modulo" class="nav-item" routerLink="{{ url }}" >\r\n            \r\n            \x3c!-- <img src="{{ icono }}" alt="icono">--\x3e\r\n                <h1 class="title">&nbsp;{{ modulo }}</h1>                     \r\n            </a>\r\n        </div>\r\n\r\n        <a class="nav-item"  (click)="hub.toggle()">\r\n            <span class="icon">\r\n                <i class="fa fa-th"></i>\r\n            </span>\r\n        </a>\r\n\r\n        <a class="nav-item is-hidden-mobile" (click)="perfil.toggle()">                    \r\n            <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n            &nbsp;\r\n            <span>{{ usuario.nombre }} {{ usuario.apellidos }}</span>\r\n        </a>\r\n        <a class="nav-item is-hidden-tablet" (click)="perfil.toggle()">\r\n            \r\n            <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n        </a>\r\n        \r\n        \r\n    </nav>\r\n</section>\r\n\r\n<app-hub #hub></app-hub>\r\n<app-perfil #perfil></app-perfil>'},Fl2z:function(e,t){e.exports='<formulario #ctrl URL="grupos-insumos" titulo="Grupo Insumo / Catalogo" [dato]="dato"></formulario>\r\n<app-menu-catalogo></app-menu-catalogo>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns" style="height:90%; padding-top: 1em;">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em;">\r\n        \x3c!-- formulario --\x3e\r\n        <form name="form" novalidate [formGroup]="dato" (ngSubmit)="ctrl.enviar()">\r\n            <div style="background: #FFF; overflow: hidden;">\r\n                <section class="hero is-primary">\r\n                    <div class="hero-body">\r\n                        \x3c!-- Opciones  --\x3e\r\n                        <formulario-opciones\r\n                            [ctrl]="ctrl"\r\n                            class="control is-grouped"\r\n                            style="position:absolute; top:8em; right:3em;">\r\n                        </formulario-opciones>\r\n                        <div class="container is-fluid">\r\n                            <h1 class="title">\r\n                                <span *ngIf="!ctrl.cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                <span *ngIf="ctrl.cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>                                {{ctrl.moduloTitulo}} grupo insumo\r\n                            </h1>\r\n\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>                    &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n                <section class="section">\r\n\r\n                    <h2 class="subtitle">Tipo</h2>\r\n                    <div class="control">\r\n\r\n                        <select name="tipo" formControlName="tipo" class="select" (change)="requerirCampo()">\r\n                            <option *ngFor="let item of tipo" value="{{item.id}}" [attr.selected]="ctrl.dato.get(\'tipo\').value == item.id ? true:false">{{ item.nombre }}</option>\r\n                        </select>\r\n                        <span class="help is-danger" *ngIf="ctrl.dato.get(\'tipo\').hasError(\'required\') && ctrl.dato.get(\'tipo\').touched">Debe elegir un tipo.</span>\r\n\r\n                    </div>\r\n\r\n                    <div class="field">\r\n                        <label class="label">Nombre:</label>\r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                            <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'nombre\').hasError(\'required\')}" placeholder="nombre"\r\n                                formControlName="nombre">\r\n                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">Este campo es requerido.</span>\r\n                        </p>\r\n                    </div>\r\n\r\n                    <div class="field" *ngIf="ctrl.dato.get(\'tipo\').value == \'ME\'">\r\n                        <label class="label">N\xfamero:</label>\r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                            <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'numero\').hasError(\'required\')}" placeholder="numero" formControlName="numero">\r\n                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'numero\').hasError(\'required\')">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'numero\').hasError(\'required\')">Este campo es requerido.</span>\r\n                        </p>\r\n                    </div>\r\n\r\n\r\n                </section>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>'},"G+NY":function(e,t){e.exports=".top-bar {\r\n\tpadding: 1em ; \r\n\tfont-size: 1.2em; \r\n\tbackground: #FFF;    \r\n\tcolor: #333;\r\n\tposition: relative;\r\n }\r\n .top-bar.is-primary {\r\n\tbackground: #00d1b2;\r\n\tcolor:#FFF;\r\n }\r\n .top-bar.is-primary h1 { color: #FFF; }\r\n .top-bar.is-danger {\r\n\tbackground: #ff3860;\r\n\tcolor:#FFF;\r\n }\r\n .top-bar.is-dark {\r\n\tbackground: #333;\r\n\tcolor:#FFF\r\n }\r\n .top-bar.is-dark h1 { color: #FFF;}\r\n .estatus-rojo{\r\n\tcolor:red !important;\r\n }\r\n .estatus-amarillo{\r\n\tcolor:orange !important;\r\n }\r\n .estatus-verde{\r\n\tcolor:#23d160;\r\n }\r\n .estatus-azul{\r\n\tcolor:#3273dc;\r\n }\r\n .estatus-normal{\r\n\tcolor:#555555;\r\n }"},G3tI:function(e,t){e.exports=""},GMDI:function(e,t){e.exports=""},GYl8:function(e,t){e.exports='<formulario #ctrl URL="tipo-pedido" titulo="Tipo Pedido / Catalogo" [dato]="dato"></formulario>\r\n<app-menu-catalogo></app-menu-catalogo>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:90%; padding-top: 1em;">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em;">\r\n        \x3c!-- formulario --\x3e\r\n        <form name="form" novalidate [formGroup]="dato" (ngSubmit)="ctrl.enviar()">\r\n            <div style="background: #FFF; overflow: hidden;">\r\n                <section class="hero is-primary">\r\n                    <div class="hero-body">\r\n                        \x3c!-- Opciones  --\x3e\r\n                        <formulario-opciones [ctrl]="ctrl" class="control is-grouped" style="position:absolute; top:8em; right:3em;">\r\n                        </formulario-opciones>\r\n                        <div class="container is-fluid">\r\n                            <h1 class="title">\r\n                                <span *ngIf="!ctrl.cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                <span *ngIf="ctrl.cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>                                {{ctrl.moduloTitulo}} tipo de pedido\r\n                            </h1>\r\n\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>                    &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n                <section class="section">\r\n\r\n\r\n                    <div class="field">\r\n                        <label class="label">ID:</label>\r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                            <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'id\').hasError(\'required\') && ctrl.dato.get(\'id\').touched}"\r\n                                placeholder="id" formControlName="id">\r\n                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'id\').hasError(\'required\') && ctrl.dato.get(\'id\').touched">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'id\').hasError(\'required\') && ctrl.dato.get(\'id\').touched">Este campo es requerido.</span>\r\n                        </p>\r\n                    </div>\r\n\r\n                    <div class="field">\r\n                        <label class="label">Nombre:</label>\r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                            <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'nombre\').hasError(\'required\')}" placeholder="nombre"\r\n                                formControlName="nombre">\r\n                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">Este campo es requerido.</span>\r\n                        </p>\r\n                    </div>\r\n\r\n                </section>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>'},"Gb+q":function(e,t){e.exports=".estatus-rojo{\r\n    color:red !important;\r\n}\r\n.estatus-amarillo{\r\n    color:orange !important;\r\n}\r\n.estatus-verde{\r\n    color:#23d160;\r\n}\r\n.estatus-azul{\r\n    color:#3273dc;\r\n}\r\n.estatus-normal{\r\n    color:#555555;\r\n}\r\n.proyecto-estatus-amarillo td a,.proyecto-estatus-amarillo th a {\r\n    color:orange !important;\r\n}\r\n.proyecto-estatus-rojo td a,.proyecto-estatus-rojo th a {\r\n    color:red !important;\r\n}\r\n.proyecto-estatus-verde td a,.proyecto-estatus-verde th a {\r\n    color:#23d160 !important;\r\n}\r\n.proyecto-estatus-azul td a,.proyecto-estatus-azul th a {\r\n    color:#3273dc !important;\r\n}\r\n.proyecto-estatus-normal td a,.proyecto-estatus-normal th a {\r\n    color:#555555;\r\n}"},GgkS:function(e,t){e.exports='<listar #ctrl URL="inventario-articulos" titulo="Inventarios / Almacen"></listar>\r\n<menu-almacen-articulos></menu-almacen-articulos>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:90%; padding-top: 1em;">\r\n    \x3c!--\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    --\x3e\r\n    <div class="column" style="padding: 0em 2em 0em 1.5em">\r\n        <div style="background: #FFF; border-radius: 1em; ">\r\n\r\n            \x3c!-- Opciones y busqueda --\x3e\r\n            <tabla-opciones \r\n                #opciones\r\n                [ctrl]= "ctrl"\r\n                [nombre]= "\'Inventarios\'"\r\n                [ruta]= "\'inventario-articulos\'"\r\n                [nuevo]= false\r\n                [ruta_pdf]="\'almacen-articulos/lista-inventario-articulos.js\'"></tabla-opciones>\r\n            \r\n            <span style="overflow-y:auto; overflow-x: hidden; display:block" [style.maxHeight.px]="tamano-285">\r\n                <div class="is-fullwidth has-text-centered" *ngIf="opciones.cargandoPdf">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Generando PDF...</span></span>\r\n                    <br>\r\n                    <br>\r\n                </div>\r\n                <table class="table" *ngIf="!ctrl.cargando && !opciones.cargandoPdf">\r\n                    <thead>\r\n                        <tr>\r\n                            <th><abbr title="Usuario ID">ID</abbr></th> \r\n                            <th>Almac\xe9n</th>                       \r\n                            <th>Articulo</th>\r\n                            <th>Numero de inventario</th>\r\n                            <th>Existencia</th>\r\n                            <th>Esta dado de baja?</th>\r\n                            <th style="text-align:center;">Opciones</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody *ngIf="!ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.dato; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/almacen-articulos/inventarios/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/almacen-articulos/inventarios/editar/{{item.id}}">{{ item.almacen ? item.almacen.nombre : \'NO TIENE\' }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/almacen-articulos/inventarios/editar/{{item.id}}">{{ item.articulo.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/almacen-articulos/inventarios/editar/{{item.id}}">{{ item.numero_inventario }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/almacen-articulos/inventarios/editar/{{item.id}}">{{ item.existencia }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/almacen-articulos/inventarios/editar/{{item.id}}">{{ item.baja == 1 ? \'Si\'  : \'No\' }} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n                        <tr *ngIf="ctrl.dato ">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                    <tbody *ngIf="ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/almacen-articulos/inventarios/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/almacen-articulos/inventarios/editar/{{item.id}}">{{ item.almacen ? item.almacen.nombre : \'NO TIENE\' }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/almacen-articulos/inventarios/editar/{{item.id}}">{{ item.articulo.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/almacen-articulos/inventarios/editar/{{item.id}}">{{ item.numero_inventario }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/almacen-articulos/inventarios/editar/{{item.id}}">{{ item.existencia }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/almacen-articulos/inventarios/editar/{{item.id}}">{{ item.baja == 1 ? \'Si\'  : \'No\' }} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n\r\n                        <tr *ngIf="ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </span>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [ctrl]="ctrl"></paginacion>\r\n        </div>\r\n\r\n    </div>\r\n</div>'},H4k4:function(e,t){e.exports="<app-graficas></app-graficas>"},H8qH:function(e,t){e.exports=".item{ width: 100%; text-align: center; display:block; font-size: 1em; }"},HJTT:function(e,t){e.exports='<formulario #ctrl URL="programa" titulo="Multiprograma" [dato]="dato2"></formulario>\r\n<form name="dato2" novalidate [formGroup]="dato2" (ngSubmit)="enviar()">\r\n<div class="contenedor columns " style="height:85%">\r\n    <a id="actualizar"></a>\r\n    <a id="catalogoPrograma" (click)="cargarCatalogo(\'programa\', \'lista_programas\', \'status\');"></a>\r\n    \x3c!--(click)="ctrl.cargarDatos();"\r\n        <div *ngIf="!mostrar_pantalla" style="width: 100%; height: 500px; vertical-align: middle; text-align: center;">        \r\n        <a class="button is-warning is-large" style="width: 100%; height: 100%"\r\n        (click)="ctrl.cargarCatalogo(\'tipos_turnos\', \'turnos?bid=1\', \'initMover\'); mostrar_pantalla=true">\r\n            <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> &nbsp; Cargar turnos\r\n        </a>\r\n    </div>\r\n     --\x3e\r\n    <div class="column" style="padding:2em;">\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n            <nav class="level">\r\n                <div class="level-left">\r\n                </div>\r\n                \x3c!-- Right side --\x3e\r\n                <div class="level-right">\r\n                    <p class="level-item">\r\n                        <button class="button is-medium is-success" type="submit">Guardar</button>\r\n                    </p>\r\n                    <p class="level-item">\r\n                        <a class="button is-medium" title="Recargar" (click)="cargarCatalogo(\'programa\', \'lista_programas\', \'status\');"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                    </p>\r\n                    <p class="level-item">&nbsp;</p>\r\n                </div>\r\n            </nav>\r\n            <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n            </div> \r\n            <section class="section">\r\n                    <nav class="panel">\r\n                            <div class="panel-heading">\r\n                                <div class="field">\r\n                                    <label for="Programas">\r\n                                        Programas\r\n                                    </label>\r\n                                </div>\r\n                            </div>\r\n                            <div *ngIf="ctrl.cargando" class="has-text-centered" style="overflow: hidden; overflow-x: hidden; height: 450px;">\r\n                                <br>\r\n                                <br>\r\n                                <span class="tag is-primary is-large"><i class="fa fa-refresh fa-spin"></i> &nbsp; Cargando... </span>\r\n                            </div>\r\n                            <div *ngIf="!ctrl.cargando" style="overflow: scroll; overflow-x: hidden; height: 450px;">\r\n                                <label class="panel-block" *ngFor="let val of lista_programas; let i=index">          \r\n                                    <div class="field">\r\n                                        <div class="b-checkbox">\r\n                                            <input id="{{val.id}}" class="styled" type="checkbox"\r\n                                            (click)="agregarLista(\'multiprograma\', lista_programas, val)">\r\n                                            <label for="{{val.id}}">\r\n                                                {{val.nombre}}\r\n                                            </label>\r\n                                        </div>\r\n                                    </div>\r\n                                </label>\r\n                            </div>\r\n                        </nav>\r\n            </section>\r\n                \x3c!-- formulario --\x3e            \r\n            \x3c!-- <section class="section">\r\n                    <div>                 \r\n                        <div class="box" *ngIf="ctrl.tipos_turnos">\r\n                            <article class="media">\r\n                                <div class="media-content">\r\n                                    <div class="content">\r\n                                        <div class="column is-5" style="float:left">\r\n                                            <nav class="panel">\r\n                                                <div class="panel-heading">\r\n                                                    <div class="field">\r\n                                                        <div class="b-checkbox is-info">\r\n                                                            <input id="Programas" class="styled" type="checkbox" \r\n                                                            [checked]="ctrl.todosSeleccionados.izquierda"\r\n                                                            (click)="ctrl.seleccionarTodosMover(\'izquierda\', lista_programas)">\r\n                                                            <label for="Programas">\r\n                                                            Turnos disponibles\r\n                                                        </label>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div *ngIf="ctrl.cargando" class="has-text-centered" style="overflow: hidden; overflow-x: hidden; height: 450px;">\r\n                                                    <br>\r\n                                                    <br>\r\n                                                    <span class="tag is-primary is-large"><i class="fa fa-refresh fa-spin"></i> &nbsp; Cargando... </span>\r\n                                                </div>\r\n                                                <div *ngIf="!ctrl.cargando" style="overflow: scroll; overflow-x: hidden; height: 450px;">\r\n                                                    <label class="panel-block" *ngFor="let val of lista_programas; let i=index">          \r\n                                                        <div class="field">\r\n                                                            <div class="b-checkbox">\r\n                                                                <input id="{{val.id}}" class="styled" type="checkbox" \r\n                                                                [checked]="ctrl.izquierda.indexOf(val) > -1"\r\n                                                                (click)="ctrl.agregarMover(\'multiprograma\', lista_programas, val)">\r\n                                                                <label for="{{val.id}}">\r\n                                                                    {{val.nombre}} \r\n                                                                </label>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </label>\r\n                                                </div>\r\n                                            </nav>\r\n                                        </div>\r\n                                        <div class="column is-2" style="float:left" >\r\n                                            \r\n                                            <p class="control">\r\n                                                <button class="button is-default" type="button" style="width:100%" \r\n                                                [ngClass]="{\'is-success\': ctrl.izquierda.length > 0}" \r\n                                                [disabled]="ctrl.izquierda.length <= 0"\r\n                                                (click)="ctrl.iniciarMover(\'izquierda\', ctrl.dato.controls.clues_turnos.controls, lista_programas, true)">></button>\r\n                                            </p>\r\n                                            <p class="control">\r\n                                                <button class="button is-default" type="button" style="width:100%" \r\n                                                [ngClass]="{\'is-success\': ctrl.derecha.length > 0}" \r\n                                                [disabled]="ctrl.derecha.length <= 0"\r\n                                                (click)="ctrl.iniciarMover(\'derecha\', lista_programas, ctrl.dato.controls.clues_turnos.controls, false)"><</button>\r\n                                            </p>\r\n                                            \r\n                                        </div>                        \r\n                                        <div class="column is-5" style="float:left" >\r\n                                            <nav class="panel" formGroupName="clues_turnos">\r\n                                                <div class="panel-heading">\r\n                                                    <div class="field">\r\n                                                        <div class="b-checkbox is-info">\r\n                                                            <input id="MisServicios" class="styled" type="checkbox" \r\n                                                            [checked]="ctrl.todosSeleccionados.derecha"\r\n                                                            (click)="ctrl.seleccionarTodosMover(\'derecha\', ctrl.dato.controls.clues_turnos.controls)">\r\n                                                            <label for="MisServicios">\r\n                                                            Mis turnos\r\n                                                        </label>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div *ngIf="ctrl.cargando" class="has-text-centered" style="overflow: hidden; overflow-x: hidden; height: 450px;">\r\n                                                    <br>\r\n                                                    <br>\r\n                                                    <span class="tag is-primary is-large"><i class="fa fa-refresh fa-spin"></i> &nbsp; Cargando... </span>\r\n                                                </div>\r\n                                                <div *ngIf="!ctrl.cargando" style="overflow: scroll; overflow-x: hidden; height: 450px;">\r\n                                                    <label class="panel-block" *ngFor="let item of ctrl.dato.controls.clues_turnos.controls; let i2=index">          \r\n                                                        <div class="field" [formGroupName]="i2">\r\n                                                            <div class="b-checkbox">\r\n                                                                <input id="{{item.value.id}}" class="styled" type="checkbox"\r\n                                                                [checked]="ctrl.derecha.indexOf(item) > -1"\r\n                                                                (click)="ctrl.agregarMover(\'derecha\', ctrl.dato.controls.clues_turnos.controls, item)">\r\n                                                                <label for="{{item.value.id}}">\r\n                                                                    {{item.value.nombre}} \r\n                                                                </label>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </label>\r\n                                                </div>\r\n                                            </nav>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </article>\r\n                        </div>\r\n                    </div>\r\n                    <a *ngIf="ctrl.tipos_turnos" (click)="ctrl.initMover(ctrl.dato.controls.clues_turnos.controls, lista_programas);" id="initMover"></a>\r\n            </section> --\x3e\r\n        </div>\r\n    </div>\r\n</div>          \r\n</form>\r\n'},HlzT:function(e,t){e.exports='<formulario #ctrl URL="marcas" titulo="Marca / Catalogos y par\xe1metros" [dato]="dato"></formulario>\r\n<app-menu-catalogo></app-menu-catalogo>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:90%; padding-top: 1em;">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em;">\r\n        \x3c!-- formulario --\x3e\r\n        <form name="form" novalidate [formGroup]="dato" (ngSubmit)="ctrl.enviar()">\r\n            <div style="background: #FFF; overflow: hidden;">\r\n                <section class="hero is-primary">\r\n                    <div class="hero-body">\r\n                        \x3c!-- Opciones  --\x3e\r\n                        <formulario-opciones [ctrl]="ctrl" class="control is-grouped" style="position:absolute; top:8em; right:3em;">\r\n                        </formulario-opciones>\r\n                        <div class="container is-fluid">\r\n                            <h1 class="title">\r\n                                <span *ngIf="!ctrl.cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                <span *ngIf="ctrl.cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>                                {{ctrl.moduloTitulo}} marca\r\n                            </h1>\r\n\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>                    &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n                <section class="section">\r\n\r\n\r\n\r\n                    <div class="field">\r\n                        <label class="label">Nombre:</label>\r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                            <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'nombre\').hasError(\'required\')}" placeholder="nombre"\r\n                                formControlName="nombre">\r\n                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">Este campo es requerido.</span>\r\n                        </p>\r\n                    </div>\r\n\r\n                </section>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>'},"I++U":function(e,t){e.exports=".item {\r\n    cursor: pointer;\r\n}\r\n.item.seleccionado {\r\n    background: #CCC;\r\n}\r\n.item.seleccionado .icon {\r\n    color:white !important;\r\n}\r\n.item.seleccionado .item-detalle {\r\n    display: inherit;\r\n}\r\n.item .item-detalle {\r\n    display: none;\r\n}\r\n.item.asignado {\r\n    background: #DDD;\r\n    color: #777;\r\n}\r\n.surtido{\r\n    background: #c6f4d7;\r\n    color: #026b27;\r\n}\r\n.surtido:hover{\r\n    background: hsl(141, 73%, 38%);\r\n    color: #FFF;\r\n}\r\n.recibido{\r\n    background: #c3d8fc;\r\n    color: #0c5180;\r\n}\r\n.recibido:hover{\r\n    background: hsl(204, 71%, 40%);\r\n    color: #FFF;\r\n}\r\n.reintegrado{\r\n    background: #98b5f8;\r\n    color: #032982;\r\n}\r\n.reintegrado:hover{\r\n    background: hsl(217, 62%, 45%);\r\n    color: #FFF;\r\n}\r\n.eliminado{\r\n    background: #ea6f6f;\r\n    color: #84051e;\r\n}\r\n.eliminado:hover{\r\n    background: hsl(348, 68%, 44%);\r\n    color: #FFF;\r\n}\r\ntr.filtro td,\r\ntr.filtro th {\r\n    color:#FFF;\r\n    background: #4a4a4a !important;\r\n}\r\n.contenedor-tabla {\r\n    overflow: auto; width:100%; height:99% !important; display:block; position:absolute; left:0; top:0;\r\n}\r\n.contenedor-tabla table { border-radius: 3px; }\r\n@media screen and (max-width: 768px) {\r\n    .contenedor-tabla { position: relative; }\r\n\r\n    .tile.notification { padding:0px !important; }\r\n}"},IF1P:function(e,t){e.exports='<listar #ctrl URL="grupos-insumos" titulo="Grupo Insumo / Catalogo"></listar>\r\n<app-menu-catalogo></app-menu-catalogo>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns" style="height:90%; padding-top: 1em;">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em">\r\n        <div style="background: #FFF; border-radius: 1em; ">\r\n                    \r\n            \x3c!-- Opciones y busqueda --\x3e\r\n            <tabla-opciones \r\n                #opciones\r\n                [ctrl]="ctrl"\r\n                [nombre]="\'Grupos de insumos\'"\r\n                [ruta]="\'grupos-insumos\'"\r\n                [ruta_pdf]="\'catalogos-parametros/lista-grupos-insumos.js\'"></tabla-opciones>\r\n\r\n            <div style="overflow:auto; display:block" [style.maxHeight.px]="ctrl.tamano-300">\r\n                <div class="is-fullwidth has-text-centered" *ngIf="opciones.cargandoPdf">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Generando PDF...</span></span>\r\n                    <br>\r\n                    <br>\r\n                </div>\r\n                <table class="table" *ngIf="!ctrl.cargando && !opciones.cargandoPdf">\r\n\r\n                    <thead>\r\n                        <tr>\r\n                            <th><abbr title="Usuario ID">ID</abbr></th>\r\n                            <th>Tipo</th>\r\n                            <th>Nombre</th>\r\n                            <th style="text-align:center;">Opciones</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody *ngIf="!ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.dato; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/catalogos-parametros/grupos-insumos/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/grupos-insumos/editar/{{item.id}}">{{ item.tipo }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/grupos-insumos/editar/{{item.id}}">{{ item.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n                        <tr *ngIf="ctrl.dato.length == 0">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                    <tbody *ngIf="ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/catalogos-parametros/grupos-insumos/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/grupos-insumos/editar/{{item.id}}">{{ item.tipo }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/grupos-insumos/editar/{{item.id}}">{{ item.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n\r\n                        <tr *ngIf="ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [ctrl]="ctrl"></paginacion>\r\n        </div>\r\n\r\n    </div>\r\n</div>'},IGh0:function(e,t){e.exports="select.is-danger {\r\n    border-color: #D84315 !important;\r\n    border-radius: 3px;\r\n    border: 1px solid;\r\n}\r\n.select {\r\n    margin-bottom: 0px !important;\r\n}\r\n.item {\r\n    cursor: pointer;\r\n}\r\n.item.seleccionado {\r\n    background: #CCC;\r\n}\r\n.item.seleccionado .icon {\r\n    color:white !important;\r\n}\r\n.item.seleccionado .item-detalle {\r\n    display: inherit;\r\n}\r\n.item .item-detalle {\r\n    /*display: none;*/\r\n}\r\n.item.asignado {\r\n    background: #DDD;\r\n    color: #777;\r\n}\r\ntr.filtro td,\r\ntr.filtro th {\r\n    color:#FFF;\r\n    background: #4a4a4a !important;\r\n}\r\n.contenedor-tabla {\r\n    overflow: auto; width:100%; height:99% !important; display:block; position:absolute; left:0; top:0;\r\n}\r\n.contenedor-tabla table { border-radius: 3px; }\r\n@media screen and (max-width: 768px) {\r\n    .contenedor-tabla { position: relative; }\r\n\r\n    .tile.notification { padding:0px !important; }\r\n}"},ILDO:function(e,t){e.exports='<menu-farmacia [modulo]="\'Dashboard salidas\'" [icono]="\'assets/icono-dashboard.svg\'"\r\n  [url]="\'/almacen/dashboard-salidas\'"></menu-farmacia>\r\n<div style="height:50px;"></div>\r\n\r\n<div class="box" style="margin: 20px;">\r\n      <div class="columns">\r\n        <div class="column is-half">\r\n          <section class="section">\r\n                  <div class="heading">\r\n                    <h1 class="title">{{usuario.almacen_activo.nombre}}</h1>\r\n                    <h2 class="subtitle">\r\n                      {{usuario.clues_activa.clues}} <strong>{{usuario.clues_activa.nombre}}</strong>\r\n                    </h2>\r\n                  </div>\r\n          </section>\r\n        </div>\r\n        <div class="column">\r\n          <div class="field">\r\n            <label class="label">Fecha inicial:</label>\r\n            <p class="control is-expanded  has-icon has-icon-right">\r\n              <input class="input" [value]="fecha_inicial_actual" formControlName="fecha_inicial" [(ngModel)]="fecha_inicial" ngui-datetime-picker\r\n                  [min-date]="MinDate" [max-date]="MaxDate" date-only="true" \r\n                  placeholder="YYYY-MM-DD" />\r\n            </p>\r\n          </div>\r\n          <div class="field">\r\n            <label class="label">Fecha final:</label>\r\n            <p class="control is-expanded  has-icon has-icon-right">\r\n              <input class="input" [value]="fecha_actual" formControlName="fecha_final" [(ngModel)]="fecha_final" ngui-datetime-picker\r\n                  [min-date]="MinDate" [max-date]="MaxDate" date-only="true" \r\n                  placeholder="YYYY-MM-DD" />\r\n            </p>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n<div style="overflow:auto; display:block" [style.maxHeight.px]="tamano-300">\r\n  <div class="card" style="margin: 20px; padding-left: 30px; padding-right: 70px">\r\n    <table class="table" style="margin:5px;">\r\n      <tbody>\r\n        <tr>\r\n          <th>Presupuesto Anual Causes:</th>\r\n          <th>\r\n            <div class="columns">\r\n              <div class="column">\r\n                <span class="tag is-primary is-medium">Autorizado: $ {{ presupuesto.causes_modificado | number:\'1.2-2\' }}</span>\r\n              </div>\r\n              <div class="column">\r\n                <span class="tag is-warning is-medium">Comprometido: $ {{ presupuesto.causes_comprometido | number:\'1.2-2\' }}</span>\r\n              </div>\r\n              <div class="column">\r\n                <span class="tag is-danger is-medium">Devengado: $ {{ presupuesto.causes_devengado | number:\'1.2-2\' }}</span>\r\n              </div>\r\n              <div class="column">\r\n                <span class="tag is-success is-medium">Disponible: $ {{ presupuesto.causes_disponible | number:\'1.2-2\' }}</span>\r\n              </div>\r\n            </div>\r\n          </th>\r\n        </tr>\r\n        <tr>\r\n          <th>Presupuesto Anual No Causes:</th>\r\n          <th>\r\n            <div class="columns">\r\n              <div class="column">\r\n                <span class="tag is-primary is-medium">Autorizado: $ {{ presupuesto.no_causes_modificado | number:\'1.2-2\' }}</span>\r\n              </div>\r\n              <div class="column">\r\n                <span class="tag is-warning is-medium">Comprometido: $ {{ presupuesto.no_causes_comprometido | number:\'1.2-2\' }}</span>\r\n              </div>\r\n              <div class="column">\r\n                <span class="tag is-danger is-medium">Devengado: $ {{ presupuesto.no_causes_devengado | number:\'1.2-2\' }}</span>\r\n              </div>\r\n              <div class="column">\r\n                <span class="tag is-success is-medium">Disponible: $ {{ presupuesto.no_causes_disponible | number:\'1.2-2\' }}</span>\r\n              </div>\r\n            </div>\r\n          </th>\r\n        </tr>\r\n        <tr>\r\n          <th>Presupuesto Anual Material de Curaci\xf3n:</th>\r\n          <th>\r\n            <div class="columns">\r\n              <div class="column">\r\n                <span class="tag is-primary is-medium">Autorizado: $ {{ presupuesto.material_curacion_modificado | number:\'1.2-2\' }}</span>\r\n              </div>\r\n              <div class="column">\r\n                <span class="tag is-warning is-medium">Comprometido: $ {{ presupuesto.material_curacion_comprometido | number:\'1.2-2\' }}</span>\r\n              </div>\r\n              <div class="column">\r\n                <span class="tag is-danger is-medium">Devengado: $ {{ presupuesto.material_curacion_devengado | number:\'1.2-2\' }}</span>\r\n              </div>\r\n              <div class="column">\r\n                <span class="tag is-success is-medium">Disponible: $ {{ presupuesto.material_curacion_disponible | number:\'1.2-2\' }}</span>\r\n              </div>\r\n            </div>\r\n          </th>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n  \r\n  \x3c!-- Primera parte --\x3e\r\n  <div class="columns">\r\n    \x3c!-- Mes y total de recetas --\x3e\r\n    <div class="column is-half" style="margin: 10px; padding-left: 20px; padding-right: 60px">\r\n      <div class="card">\r\n        <div class="card-content">\r\n          <div class="content">\r\n            <div class="label" style="text-align: center">\r\n              Mes:\r\n            </div>\r\n            <div class="label" style="text-align: center">\r\n              Total de recetas:\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    \x3c!-- % surtido --\x3e\r\n    <div class="column is-half" style="margin: 10px; padding-left: 20px; padding-right: 60px">\r\n      \x3c!-- % Surtido por claves --\x3e\r\n      <div class="card" [ngClass]="{\'is-hidden\': surtido == 2 || surtido == 3}">\r\n        <header class="card-header is-primary">\r\n          <p class="card-header-title">\r\n            Porcentaje de surtimiento\r\n          </p>\r\n            <div class="level-right">\r\n              <a (click)="cambiarSurtido(1)">\r\n                <div class="tag is-primary">Claves </div>\r\n              </a>\r\n              <a (click)="cambiarSurtido(2)">\r\n                <div class="tag">Insumos </div>\r\n              </a>\r\n              <a (click)="cambiarSurtido(3)">\r\n                <div class="tag">Monto </div>\r\n              </a>\r\n            </div>\r\n        </header>\r\n        <div class="card-content">\r\n          <div class="content scroll">\r\n            <table class="table">\r\n              <thead>\r\n                <tr>\r\n                  <th>No.</th>\r\n                  <th><abbr title="Cantidad solicitada">Solicitado</abbr></th>\r\n                  <th><abbr title="Cantidad surtida">Surtido</abbr></th>\r\n                  <th><abbr title="Porcentaje">%</abbr></th>\r\n                </tr>\r\n              </thead>\r\n              <tfoot>\r\n                <tr>\r\n                  <th>No.</th>\r\n                  <th><abbr title="Cantidad solicitada">Solicitado</abbr></th>\r\n                  <th><abbr title="Cantidad surtida">Surtido</abbr></th>\r\n                  <th><abbr title="Porcentaje">%</abbr></th>\r\n                </tr>\r\n              </tfoot>\r\n              <tbody>\r\n                <tr>\r\n                  <th>1</th>\r\n                  <td>500</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>2</th>\r\n                  <td>500</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>3</th>\r\n                  <td>500</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>4</th>\r\n                  <td>500</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>5</th>\r\n                  <td>500</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>6</th>\r\n                  <td>550</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>7</th>\r\n                  <td>450</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>8</th>\r\n                  <td>400</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>9</th>\r\n                  <td>350</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>10</th>\r\n                  <td>300</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>11</th>\r\n                  <td>250</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>12</th>\r\n                  <td>500</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>13</th>\r\n                  <td>500</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>14</th>\r\n                  <td>500</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>15</th>\r\n                  <td>500</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>16</th>\r\n                  <td>500</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>17</th>\r\n                  <td>500</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>18</th>\r\n                  <td>500</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>19</th>\r\n                  <td>500</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>20</th>\r\n                  <td>500</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \x3c!-- % Surtido por insumos --\x3e\r\n      <div class="card" [ngClass]="{\'is-hidden\': surtido == 1 || surtido == 3 }">\r\n        <header class="card-header is-primary">\r\n          <p class="card-header-title">\r\n            Porcentaje de surtimiento\r\n          </p>\r\n          <div class="level-right">\r\n              <a (click)="cambiarSurtido(1)">\r\n                <div class="tag">Claves</div>\r\n              </a>\r\n              <a (click)="cambiarSurtido(2)">\r\n                <div class="tag is-primary">Insumos</div>\r\n              </a>\r\n              <a (click)="cambiarSurtido(3)">\r\n                <div class="tag">Monto</div>\r\n              </a>\r\n            </div>\r\n        </header>\r\n        <div class="card-content">\r\n          <div class="content scroll">\r\n            <table class="table">\r\n              <thead>\r\n                <tr>\r\n                  <th>No.</th>\r\n                  <th><abbr title="Cantidad solicitada">Solicitado</abbr></th>\r\n                  <th><abbr title="Cantidad surtida">Surtido</abbr></th>\r\n                  <th><abbr title="Porcentaje">%</abbr></th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr>\r\n                  <th>1</th>\r\n                  <td>500</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \x3c!-- % Surtido por monto --\x3e\r\n      <div class="card" [ngClass]="{\'is-hidden\': surtido == 1 || surtido == 2}">\r\n        <header class="card-header is-primary">\r\n          <p class="card-header-title">\r\n            Porcentaje de surtimiento\r\n          </p>\r\n        </header>\r\n        <div class="card-content">\r\n          <div class="content">\r\n            <div class="level-right">\r\n              <a (click)="cambiarSurtido(1)">\r\n                <div class="tag">Claves</div>\r\n              </a>\r\n              <a (click)="cambiarSurtido(2)">\r\n                <div class="tag">Insumos</div>\r\n              </a>\r\n              <a (click)="cambiarSurtido(3)">\r\n                <div class="tag is-primary">Monto</div>\r\n              </a>\r\n            </div>\r\n            <table class="table">\r\n              <thead>\r\n                <tr>\r\n                  <th>No.</th>\r\n                  <th><abbr title="Cantidad solicitada">Solicitado</abbr></th>\r\n                  <th><abbr title="Cantidad surtida">Surtido</abbr></th>\r\n                  <th><abbr title="Porcentaje">%</abbr></th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr>\r\n                  <th>1</th>\r\n                  <td>$ 500.00</td>\r\n                  <td>$ 250.00</td>\r\n                  <td>50</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  \x3c!--  --\x3e\r\n  <div class="columns">\r\n\r\n    \x3c!-- Claves negadas --\x3e\r\n    <div class="column is-half" style="margin: 10px; padding-left: 20px; padding-right: 60px">\r\n      <div class="card">\r\n        <header class="card-header">\r\n          <p class="card-header-title">\r\n            TOP - Claves negadas\r\n          </p>\r\n        </header>\r\n        <div class="card-content">\r\n          <div class="content scroll">\r\n            <table class="table">\r\n              <thead>\r\n                <tr>\r\n                  <th>No.</th>\r\n                  <th><abbr title="Clave">Clave</abbr></th>\r\n                  <th>Nombre</th>\r\n                  <th><abbr title="Cantidad">Cant.</abbr></th>\r\n                  <th><abbr title="Existencia">Exist.</abbr></th>\r\n                  <th><abbr title="Periodo de negacion">Negacion</abbr></th>\r\n                </tr>\r\n              </thead>\r\n              <tfoot>\r\n                <tr>\r\n                  <th>No.</th>\r\n                  <th><abbr title="Clave">Clave</abbr></th>\r\n                  <th>Nombre</th>\r\n                  <th><abbr title="Cantidad">Cant.</abbr></th>\r\n                  <th><abbr title="Existencia">Exist.</abbr></th>\r\n                  <th><abbr title="Periodo de negacion">Negacion</abbr></th>\r\n                </tr>\r\n              </tfoot>\r\n              <tbody>\r\n                <tr>\r\n                  <th>1</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                  <td>2017-04-10</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>2</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                  <td>2017-04-10</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>3</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                  <td>2017-04-10</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>4</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                  <td>2017-04-10</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>5</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                  <td>2017-04-10</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>6</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                  <td>2017-04-10</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>8</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                  <td>2017-04-10</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>9</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                  <td>2017-04-10</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>10</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                  <td>2017-04-10</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>11</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                  <td>2017-04-10</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>12</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                  <td>2017-04-10</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>13</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                  <td>2017-04-10</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>14</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                  <td>2017-04-10</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>15</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                  <td>2017-04-10</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    \x3c!-- Claves de mayor movimiento --\x3e\r\n    <div class="column is-half" style="margin: 10px; padding-left: 20px; padding-right: 60px">\r\n      <div class="card">\r\n        <header class="card-header is-primary">\r\n          <p class="card-header-title">\r\n            TOP - Claves de mayor movimiento\r\n          </p>\r\n        </header>\r\n        <div class="card-content">\r\n          <div class="content scroll">\r\n            <table class="table">\r\n              <thead>\r\n                <tr>\r\n                  <th>No.</th>\r\n                  <th><abbr title="Clave">Clave</abbr></th>\r\n                  <th>Nombre</th>\r\n                  <th><abbr title="Consumo promedio mensual">CPM</abbr></th>\r\n                  <th><abbr title="Existencia actual">Exist.</abbr></th>\r\n                </tr>\r\n              </thead>\r\n              <tfoot>\r\n                <tr>\r\n                  <th>No.</th>\r\n                  <th><abbr title="Clave">Clave</abbr></th>\r\n                  <th>Nombre</th>\r\n                  <th><abbr title="Consumo promedio mensual">CPM</abbr></th>\r\n                  <th><abbr title="Existencia actual">Exist.</abbr></th>\r\n                </tr>\r\n              </tfoot>\r\n              <tbody>\r\n                <tr>\r\n                  <th>1</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>2</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>3</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>4</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>5</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>6</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>7</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>8</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>9</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>10</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>11</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>12</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>13</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>14</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>15</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  \x3c!-- Gr\xe1ficas \r\n    <div class="columns">\r\n        <div class="column is-half" style="margin: 10px; padding-left: 20px; padding-right: 60px">\r\n        </div>\r\n        <div class="column is-half" style="margin: 10px; padding-left: 20px; padding-right: 70px">\r\n            <div class="card" style="align-items: center; align-content: center; align-self: center">\r\n                        <chart [options]="grafica_opciones"></chart>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    --\x3e\r\n    \r\n  \x3c!-- Claves --\x3e\r\n  <div class="card" [ngClass]="{\'is-hidden\': grafica == 2 || grafica == 3}">\r\n    <div class="card-content">\r\n      <div class="content">\r\n        <div class="level-right">\r\n          <a (click)="cambiarGrafica(1)">\r\n            <div class="tag is-primary">Claves</div>\r\n          </a>\r\n          <a (click)="cambiarGrafica(2)">\r\n            <div class="tag">Insumos</div>\r\n          </a>\r\n          <a (click)="cambiarGrafica(3)">\r\n            <div class="tag">Monto</div>\r\n          </a>\r\n        </div>\r\n        \x3c!-- Gr\xe1fica CLAVES --\x3e\r\n        <div class="panel">\r\n          <chart [options]="claves"></chart>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!-- Insumos --\x3e\r\n  <div class="card" [ngClass]="{\'is-hidden\': grafica == 1 || grafica == 3}">\r\n    <div class="card-content">\r\n      <div class="content">\r\n        <div class="level-right">\r\n          <a (click)="cambiarGrafica(1)">\r\n            <div class="tag">Claves</div>\r\n          </a>\r\n          <a (click)="cambiarGrafica(2)">\r\n            <div class="tag is-primary">Insumos</div>\r\n          </a>\r\n          <a (click)="cambiarGrafica(3)">\r\n            <div class="tag">Monto</div>\r\n          </a>\r\n        </div>\r\n        \x3c!-- Gr\xe1fica INSUMOS --\x3e\r\n        <div class="panel">\r\n          <chart [options]="insumos"></chart>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  \x3c!-- Monto --\x3e\r\n  <div class="card" [ngClass]="{\'is-hidden\': grafica == 1 || grafica == 2}">\r\n    <div class="card-content">\r\n      <div class="content">\r\n        <div class="level-right">\r\n          <a (click)="cambiarGrafica(1)">\r\n            <div class="tag">Claves</div>\r\n          </a>\r\n          <a (click)="cambiarGrafica(2)">\r\n            <div class="tag">Insumos</div>\r\n          </a>\r\n          <a (click)="cambiarGrafica(3)">\r\n            <div class="tag is-primary">Monto</div>\r\n          </a>\r\n        </div>\r\n        \x3c!-- Gr\xe1fica MONTO --\x3e\r\n        <div class="panel">\r\n          <chart [options]="monto"></chart>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n</div>'},IWmU:function(e,t){e.exports='<admision-menu></admision-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%; ">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <admision-menu-lateral></admision-menu-lateral>\r\n    </div>\r\n    <div class="column" style="padding:2em;">\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n            <section class="hero" [ngClass] = " \'is-primary\' " >\r\n                \r\n                <div class="hero-body" style="position:relative;">\r\n                    \r\n                    <div class="container is-fluid">\r\n                        \r\n                        <h1 class="title">\r\n                            <span class="icon is-medium"><i class="fa fa-user"></i></span> Alta Paciente\r\n                        </h1>\r\n                        \r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n             <section class="section">\r\n                <form name="form" novalidate [formGroup]="pacienteEgreso"  (ngSubmit)="enviar()">     \r\n                \r\n                  <section class="section" style="background-color: #00d1b2;">\r\n                    <div class="container">\r\n                      <div class="heading">\r\n                        <h1 class="title" style="color: #FFF">Datos del Paciente</h1>\r\n                        <h2 class="subtitle" style="color: #FFF">\r\n                          ID: {{ id_paciente }}<BR>\r\n                          NOMBRE: {{ nombre_paciente }} <BR>\r\n                          LOCALIDAD: {{ localidad_paciente }}<BR>\r\n                          FECHA DE INGRESO: {{ fecha_ingreso}}<br>\r\n                          AREA: {{ area_ingreso}}\r\n\r\n                        </h2>\r\n                      </div>\r\n                    </div>\r\n                  </section>\r\n\r\n                  <br>\r\n                  <div class="control is-grouped">  \r\n                    \r\n                    <p class="control is-expanded has-icon has-icon-right">\r\n                      <label class="label">Motivo Egreso</label> \r\n                      <span class="select is-fullwidth">\r\n                            <select  formControlName="motivo_egreso_id" name="motivo_egreso_id"  >\r\n                                <option *ngFor="let item of MotivoEgreso" value="{{item.id}}">{{ item.descripcion }} </option>\r\n                            </select>\r\n                            \r\n                        </span> \r\n                        <span class="icon is-small" *ngIf="pacienteEgreso.get(\'motivo_egreso_id\').hasError(\'required\') && pacienteEgreso.get(\'motivo_egreso_id\').touched">\r\n                            <i class="fa fa-warning"></i>\r\n                        </span>\r\n                        <span class="help is-danger" *ngIf="pacienteEgreso.get(\'motivo_egreso_id\').hasError(\'required\') && pacienteEgreso.get(\'motivo_egreso_id\').touched">Este campo es requerido.</span>\r\n                    </p>\r\n                    <p class="control is-expanded has-icon has-icon-right">\r\n                      <label class="label">Fecha de egreso</label>    \r\n                        <input class="input" type="text" placeholder="aaaa-mm-dd" formControlName="fecha_egreso"  readonly="readonly"> \r\n                        <span class="icon is-small" *ngIf="pacienteEgreso.get(\'fecha_egreso\').hasError(\'required\') && pacienteEgreso.get(\'fecha_egreso\').touched">\r\n                            <i class="fa fa-warning"></i>\r\n                          </span>\r\n                          <span class="help is-danger" *ngIf="pacienteEgreso.get(\'fecha_egreso\').hasError(\'required\') && pacienteEgreso.get(\'fecha_egreso\').touched">Este campo es requerido.</span>               \r\n                    </p>\r\n                    <p class="control is-expanded has-icon has-icon-right">\r\n                      <label class="label">hora de egreso</label>    \r\n                        <input class="input" type="text" placeholder="00:00" formControlName="hora_egreso" readonly="readonly">\r\n                        <span class="icon is-small" *ngIf="pacienteEgreso.get(\'hora_egreso\').hasError(\'required\') && pacienteEgreso.get(\'hora_egreso\').touched">\r\n                            <i class="fa fa-warning"></i>\r\n                          </span>\r\n                          <span class="help is-danger" *ngIf="pacienteEgreso.get(\'hora_egreso\').hasError(\'required\') && pacienteEgreso.get(\'hora_egreso\').touched">Este campo es requerido.</span>\r\n                    </p>\r\n                  </div>\r\n                  <div class="control is-grouped">  \r\n                    \r\n                    <p class="control is-expanded has-icon has-icon-right">\r\n                      <label class="label">Contrareferencia</label> \r\n                      <span class="select is-fullwidth">\r\n                            <select  formControlName="contrareferencia" name="contrareferencia" #contrareferencia (change)="referido(contrareferencia.value)">\r\n                                <option value="1" selected="selected">SI</option>\r\n                                <option value="2">NO</option>\r\n                            </select>\r\n                            \r\n                        </span> \r\n                        <span class="icon is-small" *ngIf="pacienteEgreso.get(\'contrareferencia\').hasError(\'required\') && pacienteEgreso.get(\'contrareferencia\').touched">\r\n                            <i class="fa fa-warning"></i>\r\n                        </span>\r\n                        <span class="help is-danger" *ngIf="pacienteEgreso.get(\'contrareferencia\').hasError(\'required\') && pacienteEgreso.get(\'contrareferencia\').touched">Este campo es requerido.</span>\r\n                    </p>\r\n                    <p class="control is-expanded has-icon has-icon-right">\r\n                      <label class="label">Unidad Contrareferencia</label> \r\n                      <span class="select is-fullwidth">\r\n                            <select  formControlName="unidad_referencia" name="unidad_referencia" >\r\n                                <option *ngFor="let item of UnidadesMedicas" value="{{item.clues}}">{{ item.nombre }} - {{ item.clues }}</option>\r\n                            </select>\r\n                            \r\n                        </span> \r\n                        <span class="icon is-small" *ngIf="pacienteEgreso.get(\'unidad_referencia\').hasError(\'required\') && pacienteEgreso.get(\'unidad_referencia\').touched">\r\n                            <i class="fa fa-warning"></i>\r\n                        </span>\r\n                        <span class="help is-danger" *ngIf="pacienteEgreso.get(\'unidad_referencia\').hasError(\'required\') && pacienteEgreso.get(\'unidad_referencia\').touched">Este campo es requerido.</span>\r\n                    </p>\r\n                    \r\n                  </div>\r\n                  <br><br>\r\n                  <div class="control is-grouped">\r\n                    <p class="control">\r\n                      <button class="button is-primary" type="submit" [ngClass]="{\'is-loading\': cargando}" [disabled]="pacienteEgreso.invalid">Guardar</button>\r\n                    </p>\r\n                    \r\n                    <p class="control">\r\n                      <a class="button is-white" (click)="regresar()" >Regresar</a>\r\n                    </p>\r\n                  </div>\r\n\r\n              </form>\r\n            </section>  \r\n        </div>\r\n    </div>    \r\n</div>\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style="text-align:center" ><a  class="button is-danger is-inverted" (click)="ultimaPeticion(); mensajeError.mostrar = false"> <span class="icon"><i class="fa fa-refresh"></i></span> <span>Volver a intentar</span></a></p>        \r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n'},IX31:function(e,t){e.exports='<formulario #ctrl URL="inventario-articulos" titulo="Inventarios / Almacen" [dato]="dato"></formulario>\r\n<menu-almacen-articulos [modulo]="\'Inventario de art\xedculos\'" [icono]="\'assets/icono-entradas.svg\'" [url]="\'/almacen-articulos/inventarios\'"></menu-almacen-articulos>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="overflow:auto; padding: 1em;" [style.maxHeight.px]="tamano-50">\r\n    \x3c!--\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    --\x3e\r\n    <div class="column" style="padding: 0em 2em 0em 0em;">\r\n        \x3c!-- formulario --\x3e\r\n        <form name="form" novalidate [formGroup]="dato" (ngSubmit)="ctrl.enviar()" >\r\n            <div style="background: #FFF; overflow: hidden;">\r\n                <section class="hero is-primary">\r\n                    <div class="hero-body">\r\n                        \x3c!-- Opciones  --\x3e\r\n                        <formulario-opciones [ctrl]="ctrl"  class="control is-grouped" style="position:absolute; top:6em; right:3em;">\r\n                           \r\n                        </formulario-opciones>  \r\n                        \r\n\r\n                        <div class="container is-fluid">\r\n                            <h1 class="title">\r\n                                <span *ngIf="!ctrl.cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                <span *ngIf="ctrl.cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>                                {{ctrl.moduloTitulo}} inventario\r\n                            </h1>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>                    &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n                <section class="section">\r\n\r\n\r\n\r\n                    \x3c!-- cargar los catalogos que se requieran parametro 1 modelo donde se guarda el catalogo, parametro 2 ruta de la api --\x3e\r\n                    <a id="catalogos" (click)=" ctrl.cargarCatalogo(\'articulos\', \'articulos\'); "></a>\r\n                    <div class="tabs is-boxed">\r\n                        <ul>\r\n                            <li [ngClass]="{ \'is-active\' : tab == 1}">\r\n                                <a (click)="tab=1">\r\n                                    <span class="icon is-small"><i class="fa fa-file"></i></span>\r\n                                    <span>Datos Generles</span>\r\n                                </a>\r\n                            </li>\r\n                            <li [ngClass]="{ \'is-active\' : tab == 2}">\r\n                                <a (click)="tab=2">\r\n                                    <span class="icon is-small"><i class="fa fa-list"></i></span>\r\n                                    <span>Datos detallados</span>\r\n                                </a>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n                    <div [ngClass]="{ \'is-hidden\': tab != 1}">\r\n                        <div class="field">\r\n                            <label class="label">Articulo:</label>\r\n                            <div class="control is-expanded  has-icon has-icon-right">\r\n                                <div class="select">\r\n                                    <select class="select" formControlName="articulo_id" (change)="seleccionar_articulo(ctrl.articulos)" [ngClass]="{\'is-danger\': ctrl.dato.get(\'articulo_id\').hasError(\'required\')}">\r\n                                        <optgroup *ngFor="let val of ctrl.articulos | groupBy:\'categoria.nombre\'" label="{{val.key}}">\r\n                                            <option *ngFor="let item of val.value" value="{{item.id}}" >{{item.nombre}}</option>\r\n                                        </optgroup>\r\n                                    </select>\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'articulo_id\').hasError(\'required\')">\r\n                                        <i class="fa fa-warning"></i>\r\n                                    </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'articulo_id\').hasError(\'required\')">Este campo es requerido.</span>                                \r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class="field">\r\n                            <label class="label">N\xfamero de inventario:</label>\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n                                <input class="input"  type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'numero_inventario\').hasError(\'required\')}" placeholder="Numero de inventario"\r\n                                    formControlName="numero_inventario">\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'numero_inventario\').hasError(\'required\')">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'numero_inventario\').hasError(\'required\')">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div class="columns">\r\n                            <div class="column is-6">\r\n                                <div class="field">\r\n                                    <label class="label">Existencia:</label>\r\n                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                        <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'existencia\').hasError(\'required\')}" placeholder="Existencia"\r\n                                            formControlName="existencia">\r\n                                        <span class="icon is-small" *ngIf="ctrl.dato.get(\'existencia\').hasError(\'required\')">\r\n                                            <i class="fa fa-warning"></i>\r\n                                        </span>\r\n                                        <span class="help is-danger" *ngIf="ctrl.dato.get(\'existencia\').hasError(\'required\')">Este campo es requerido.</span>\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class="column is-6">\r\n                                <br><br>\r\n                                <div class="b-checkbox control is-expanded  has-icon has-icon-right">\r\n                                    <input type="checkbox" id="baja" class="styled" formControlName="baja" [checked]="ctrl.dato.get(\'baja\').value == 1 ? true : false">\r\n                                    <label for="baja">  Esta dado de baja?\r\n                                    </label>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class="field">\r\n                            <label class="label">Observaciones:</label>\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n                                <textarea class="textarea" type="text" rows="2" placeholder="Observaciones" formControlName="observaciones" [ngClass]="{\'is-danger\': ctrl.dato.get(\'observaciones\').hasError(\'required\')}"></textarea>\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'observaciones\').hasError(\'required\')">\r\n                                        <i class="fa fa-warning"></i>\r\n                                    </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'observaciones\').hasError(\'required\')">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                    <div [ngClass]="{ \'is-hidden\': tab != 2}" formArrayName="inventario_metadato">\r\n                        \r\n                        <div class="field" *ngFor="let item of ctrl.dato.controls.inventario_metadato.controls; let i=index" >\r\n                            <div class="control is-expanded  has-icon has-icon-right"  [formGroupName]="i">   \r\n                                <label *ngIf="item.value.tipo != \'boolean\'" class="label">{{ item.value.campo }}</label>\r\n                                \x3c!--text  --\x3e\r\n                                <input *ngIf="item.value.tipo == \'text\'" class="input" type="text" placeholder="{{item.value.descripcion}}" \r\n                                    [ngClass]="{\'is-danger\': ctrl.dato.controls.inventario_metadato.controls[i].controls.valor.hasError(\'required\')}"\r\n                                    [maxlength]="item.value.longitud" formControlName="valor"> \r\n                                \r\n\r\n                                \x3c!--number  --\x3e\r\n                                <input *ngIf="item.value.tipo == \'number\'" class="input" type="number" step="1" placeholder="{{item.value.descripcion}}" \r\n                                    [ngClass]="{\'is-danger\': ctrl.dato.controls.inventario_metadato.controls[i].controls.valor.hasError(\'required\')}"\r\n                                    [maxlength]="item.value.longitud" formControlName="valor"> \r\n                                \r\n\r\n                                \x3c!--boolean  --\x3e\r\n                                <div class="b-checkbox is-info" *ngIf="item.value.tipo == \'boolean\'" style="margin-bottom: 15px; margin-top: 15px;">\r\n                                    <input id="valor{{i}}" class="styled" type="checkbox" formControlName="valor">\r\n                                    <label for="valor{{i}}">\r\n                                        {{ item.value.campo }} \r\n                                    </label>\r\n                                </div>  \r\n                                \r\n                                \x3c!--timestamp  --\x3e\r\n                                <input id="valor{{i}}" *ngIf="item.value.tipo == \'timestamp\'" class="input" [(ngModel)]=\'valor[i]\' [ngModelOptions]="{standalone: true}" (ngModelChange)="asignar_fecha(i)" ngui-datetime-picker\r\n                                    [ngClass]="{\'is-danger\': ctrl.dato.controls.inventario_metadato.controls[i].controls.valor.hasError(\'required\')}"\r\n                                    placeholder="YYYY-MM-DD HH:MM" />           \r\n                                \r\n\r\n                                \x3c!--date  --\x3e\r\n                                <input id="valor{{i}}" *ngIf="item.value.tipo == \'date\'" class="input" [(ngModel)]=\'valor[i]\' [ngModelOptions]="{standalone: true}" (ngModelChange)="asignar_fecha(i)"  ngui-datetime-picker\r\n                                    [ngClass]="{\'is-danger\': ctrl.dato.controls.inventario_metadato.controls[i].controls.valor.hasError(\'required\')}"\r\n                                    placeholder="YYYY-MM-DD"  date-only="true"/>  \r\n\r\n                                \x3c!--time  --\x3e\r\n                                <input id="valor{{i}}" *ngIf="item.value.tipo == \'time\'" class="input" [(ngModel)]=\'valor[i]\' [ngModelOptions]="{standalone: true}" (ngModelChange)="asignar_fecha(i)"  ngui-datetime-picker\r\n                                    [ngClass]="{\'is-danger\': ctrl.dato.controls.inventario_metadato.controls[i].controls.valor.hasError(\'required\')}"\r\n                                    placeholder="HH:MM" date-format="hh:mm" hour="23" minute=\'59\' time-only="true"/>  \r\n\r\n                                \x3c!--file  --\x3e\r\n                                <span *ngIf="item.value.tipo == \'file\'">\r\n                                    <input type="file" (change)="ctrl.seleccionarImagenBase64($event, ctrl.dato.controls.inventario_metadato.controls[i].controls.valor)" accept="image/x-png,image/gif,image/jpeg,image/jpg">\r\n                                    <input foto type="hidden" formControlName="valor" >\r\n\r\n                                    <div class="block" *ngIf="ctrl.dato.controls.inventario_metadato.controls[i].controls.valor.value != \'\'">\r\n                                        <a class="button is-primary is-outlined is-fullwidth" [ngClass]="{\'is-disabled\': tieneid}" (click)="ctrl.abrirModal(\'verFoto\'+i)">\r\n                                            <span class="icon">\r\n                                                <i class="fa fa-eye"> </i> \r\n                                            </span> \r\n                                            &nbsp; Ver\r\n                                        </a>\r\n                                    </div>\r\n\r\n                                    <div class="modal" id="verFoto{{i}}">\r\n                                        <div class="modal-background"></div>\r\n                                        <div class="modal-content">\r\n                                            <p class="image is-4by3">\r\n                                                <img  [src]="\'data:image/jpg;base64,\'+ctrl.dato.controls.inventario_metadato.controls[i].controls.valor.value"  />\r\n                                            </p>\r\n                                        </div>\r\n                                        <button type="button" class="modal-close" (click)="ctrl.cancelarModal(\'verFoto\'+i)"></button>\r\n                                    </div>\r\n                                </span>\r\n\r\n                                <span style="margin-top: 27px;" class="icon is-small" *ngIf="ctrl.dato.controls.inventario_metadato.controls[i].controls.valor.hasError(\'required\') && item.value.requerido == 1 ">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.controls.inventario_metadato.controls[i].controls.valor.hasError(\'required\') && item.value.requerido == 1">Este campo es requerido.</span>\r\n\r\n                            </div>\r\n                        </div>                        \r\n                    </div>\r\n                </section>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>'},Im09:function(e,t){e.exports=""},IpDl:function(e,t){e.exports='<formulario #ctrl URL="entrada-almacen-standard" titulo="Entrada  de medicamentos" [dato]="dato"></formulario>\r\n<app-menu-almacen-estandar [modulo]="\'Entrada  de medicamentos\'" [icono]="\'assets/icono-entradas.svg\'" [url]="\'/almacen-estandar/entradas\'"></app-menu-almacen-estandar>\r\n<div style="height:50px;"></div>\r\n<form name="form" novalidate [formGroup]="dato" (ngSubmit)="ctrl.enviar()">\r\n    <div class="contenedor columns " style="height:90%">\r\n        <div class="column is-one-third" style="padding:1em;">\r\n            <div style="background: #FFF; border-radius: 1em; ">\r\n                <section class="hero is-primary">\r\n                    <h1 *ngIf="!tieneid || ctrl.dato.get(\'estatus\').value == \'BR\'" class="title" style="margin:0.5em; ">\r\n                        <span class="icon is-medium">\r\n                            <i class="fa fa-file-text"></i>\r\n                        </span> {{ctrl.moduloTitulo}}\r\n                    </h1>\r\n                    <h1 *ngIf="tieneid && ctrl.dato.get(\'estatus\').value == \'FI\'" class="title" style="margin:0.5em; ">\r\n                        <span class="icon is-medium">\r\n                            <i class="fa fa-file-text"></i>\r\n                        </span> Folio {{ctrl.id}}\r\n                    </h1>\r\n                </section>\r\n                <div style="padding: 1em; overflow: scroll; overflow-x: hidden;">              \r\n                    <h3 class="title">\r\n                        \x3c!-- <i class="fa fa-file"></i>\r\n                         Datos del movimiento --\x3e\r\n                         <div class="columns" style="font-size: 22px; text-align: right">\r\n                            <strong class="column">Subtotal: </strong><strong class="column">{{   ( subtotal_precios | currency:\'\' ) }}  &nbsp;  &nbsp;  </strong>\r\n                         </div>\r\n                         <div class="columns" style="font-size: 22px; text-align: right">\r\n                            <strong class="column">IVA: </strong><strong class="column">{{   ( total_iva | currency:\'\' ) }}  &nbsp;  &nbsp;  </strong>\r\n                         </div>\r\n                         <div class="columns" style="font-size: 30px; text-align: right">\r\n                            <strong class="column">TOTAL: </strong><strong class="column">{{   ( total_precio | currency:\'\' ) }}  &nbsp;  &nbsp;  </strong>\r\n                         </div>\r\n                    </h3>\r\n                </div>\r\n                    <div style="padding: 1em; overflow: scroll; overflow-x: hidden;" [style.height.px]="ctrl.tamano-300">                    \r\n                        <div class="field" >\r\n                            <label class="label">Fecha de referencia:</label>\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n    \r\n                                <input class="input" [value]="fecha_actual" [(ngModel)]=\'fecha_referencia\' formControlName="fecha_referencia" ngui-datetime-picker\r\n                                    [min-date]="MinDate" [max-date]="MaxDate" date-only="true" \r\n                                    [ngClass]="{\'is-disabled\': tieneid && ctrl.dato.get(\'estatus\').value == \'FI\',\r\n                                    \'is-danger\': ctrl.dato.get(\'fecha_referencia\').hasError(\'required\')}"\r\n                                    placeholder="YYYY-MM-DD" readonly/>\r\n    \r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'fecha_referencia\').hasError(\'required\')">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'fecha_referencia\').hasError(\'required\')">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div> \r\n                    \r\n                    <div class="columns">\r\n                        <div class="field column" >\r\n                            <label class="label">Fecha del movimiento:</label>\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n\r\n                                <input class="input" [value]="fecha_actual" [(ngModel)]=\'fecha_movimiento\' formControlName="fecha_movimiento" ngui-datetime-picker\r\n                                    [min-date]="MinDate" [max-date]="MaxDate" date-only="true" \r\n                                    [ngClass]="{\'is-disabled\': tieneid && ctrl.dato.get(\'estatus\').value == \'FI\', \'is-danger\': ctrl.dato.get(\'fecha_movimiento\').hasError(\'required\') && ctrl.dato.get(\'fecha_movimiento\').touched}"\r\n                                    placeholder="YYYY-MM-DD" readonly/>\r\n\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'fecha_movimiento\').hasError(\'required\')">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'fecha_movimiento\').hasError(\'required\') && ctrl.dato.get(\'fecha_movimiento\').touched">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div> \r\n                        <div class="column " formGroupName="movimiento_metadato">\r\n                            <label *ngIf=" (ctrl.dato.get(\'movimiento_metadato\').value.donacion == 1 || ctrl.dato.get(\'movimiento_metadato\').value.donacion == \'1\') && tieneid && ctrl.dato.get(\'estatus\').value == \'FI\'"> \r\n                                <label class="label"> &nbsp; </label>\r\n                                <strong style="color: darkblue"> <i class="fa fa-check" aria-hidden="true"></i>&nbsp; Donaci\xf3n </strong>\r\n                            </label> \r\n                            <div class="field" [ngClass]="{\'is-hidden\': tieneid && ctrl.dato.get(\'estatus\').value == \'FI\'}">\r\n                                <label class="label"> &nbsp; </label>\r\n                                <p class="b-checkbox control is-expanded  has-icon has-icon-right" style="padding-left: 5px">\r\n                                    <input type="checkbox" id="donacion" #donacion \r\n                                    (change)="no_requerirCampo(\'numero_pedido\', \'movimiento_metadato\'); no_requerirCampo(\'folio_factura\', \'movimiento_metadato\');\r\n                                    no_requerirCampo(\'programa_id\'); no_requerirCampo(\'proveedor_id\', \'movimiento_metadato\');"\r\n                                    [ngClass]="{\'is-disabled\': tieneid && ctrl.dato.get(\'estatus\').value === \'FI\'}"\r\n                                    [disabled]="tieneid && ctrl.dato.get(\'estatus\').value === \'FI\'"\r\n                                    class="styled" value="ctrl.dato.get(\'movimiento_metadato\').get(\'donacion\').value" formControlName="donacion"\r\n                                    [checked]="ctrl.dato.get(\'movimiento_metadato\').get(\'donacion\').value == \'1\' || \r\n                                    ctrl.dato.get(\'movimiento_metadato\').get(\'donacion\').value == 1 ||\r\n                                    ctrl.dato.get(\'movimiento_metadato\').get(\'donacion\').value == true ? true : false">\r\n                                    <label for="donacion"> \r\n                                        <strong> &nbsp; Donaci\xf3n </strong>\r\n                                    </label>                                            \r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div formGroupName="movimiento_metadato">\r\n                            <div class="field column" *ngIf="ctrl.dato.get(\'movimiento_metadato\').value.donacion == 1 || ctrl.dato.get(\'movimiento_metadato\').value.donacion == \'1\'"\r\n                            [ngClass]="{\'is-hidden\': ctrl.dato.get(\'movimiento_metadato\').value.donacion == 0 || ctrl.dato.get(\'movimiento_metadato\').value.donacion == \'0\'}">\r\n                                <label class="label">Donante</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right" >\r\n                                    <input class="input" type="text"  #donante\r\n                                        [ngClass]="{\'is-danger\': ctrl.dato.get(\'movimiento_metadato\').get(\'donante\').hasError(\'required\')}"\r\n                                        placeholder="Donante" formControlName="donante" id="donante">\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'donante\').hasError(\'required\')">\r\n                                        <i class="fa fa-warning"></i>\r\n                                    </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'donante\').hasError(\'required\')">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n                    </div>\r\n                \r\n                    <div formGroupName="movimiento_metadato">\r\n                        <nav class="panel">\r\n                            <div class="field" [ngClass]="{\'is-hidden\': (ctrl.dato.get(\'movimiento_metadato\').value.donacion == 1 || ctrl.dato.get(\'movimiento_metadato\').value.donacion == \'1\')}">\r\n                                <label class="label">N\xfamero de pedido:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <input class="input" type="text" \r\n                                        [ngClass]="{\'is-disabled\': tieneid && ctrl.dato.get(\'estatus\').value == \'FI\', \r\n                                        \'is-danger\': ctrl.dato.get(\'movimiento_metadato\').get(\'numero_pedido\').hasError(\'required\')}"\r\n                                        placeholder="N\xfamero de pedido" formControlName="numero_pedido">\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'numero_pedido\').hasError(\'required\')">\r\n                                        <i class="fa fa-warning"></i>\r\n                                    </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'numero_pedido\').hasError(\'required\')">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n\r\n                        </nav>\r\n                    </div>\r\n                    <div formGroupName="movimiento_metadato">\r\n                        <nav class="panel">\r\n                            <div class="field" [ngClass]="{\'is-hidden\': (ctrl.dato.get(\'movimiento_metadato\').value.donacion == 1 || ctrl.dato.get(\'movimiento_metadato\').value.donacion == \'1\') }">\r\n                                <label class="label">Folio de la factura:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <input class="input" type="text" [ngClass]="{\'is-disabled\': tieneid && ctrl.dato.get(\'estatus\').value == \'FI\', \'is-danger\': ctrl.dato.get(\'movimiento_metadato\').get(\'folio_factura\').hasError(\'required\')}"\r\n                                        placeholder="Folio de la factura" formControlName="folio_factura">\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'folio_factura\').hasError(\'required\')">\r\n                                        <i class="fa fa-warning"></i>\r\n                                    </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'folio_factura\').hasError(\'required\')">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n\r\n                        </nav>\r\n                    </div>\r\n                    <div class="field" [ngClass]="{\'is-hidden\': (ctrl.dato.get(\'movimiento_metadato\').value.donacion == 1 || ctrl.dato.get(\'movimiento_metadato\').value.donacion == \'1\')}">\r\n                        <div class="field">\r\n                            <label class="label">Proveedor:</label>\r\n                        </div>\x3c!-- SI carga los turnos --\x3e\r\n                        <div class="control is-grouped" formGroupName="movimiento_metadato">\r\n                            <span *ngIf="ctrl.cargando || cargandoCatalogo" class="tag is-primary is-medium">Cargando programas. \r\n                                <i class="fa fa-refresh fa-spin" aria-hidden="true"></i>\r\n                            </span>\r\n                            <div  *ngIf="!ctrl.cargando && !cargandoCatalogo" class="control is-expanded  has-icon has-icon-right">\r\n                                <select class="select" name="programa" formControlName="proveedor_id" \r\n                                    [ngClass]="{\'is-disabled\': tieneid && ctrl.dato.get(\'estatus\').value == \'FI\'}">\r\n                                    <option value="">Seleccione un proveedor</option>\r\n                                    <option *ngFor="let item of lista_proveedores" value="{{item.id}}">{{ item.nombre }}</option>\r\n                                </select>\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'proveedor_id\').hasError(\'required\')">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'proveedor_id\').hasError(\'required\')">Este campo es requerido.</span>\r\n                                <span class="help is-danger" *ngIf="lista_proveedores.length == 0"> No se cargaron programas, contacte al administrador.</span>\r\n                            </div>\r\n                            \x3c!-- Bot\xf3n para agregar turnos \r\n                            <div class="control">\r\n                                <a class="button" *ngIf="permisos.indexOf(\'J1mYtHwF7WVbie5dCZhFptvYzNEtqHXQ\') > -1 && !tieneid" \r\n                                    (click)="abrirModal(\'modal_multiprograma\')" title="Agregar turno">\r\n                                    <i class="fa fa-plus fa-fw" aria-hidden="true"></i>\r\n                                </a>\r\n                            </div> --\x3e\r\n                        </div>\r\n                    </div>\r\n                    <hr [ngClass]="{\'is-hidden\': (ctrl.dato.get(\'movimiento_metadato\').value.donacion == 1 || ctrl.dato.get(\'movimiento_metadato\').value.donacion == \'1\') }">\r\n                    <div class="control" *ngIf="mostrarCancelado">\r\n                        \x3c!-- *ngIf --\x3e\r\n                        <div class="field">\r\n                            <div class="b-checkbox control is-expanded  has-icon has-icon-right">\r\n\r\n                                <input type="checkbox" id="cancelado" class="styled" [checked]="ctrl.dato.get(\'cancelado\').value == \'1\' ? true : false" (change)="ctrl.dato.get(\'cancelado\').patchValue(ctrl.dato.get(\'cancelado\').value == \'1\' ? \'0\' : \'1\')">\r\n                                <label for="cancelado">  Cancelado\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                        <div class="field">\r\n                            <label class="label">Observaciones de cancelaci\xf3n:</label>\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n                                <textarea class="textarea" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'observaciones_cancelacion\').hasError(\'required\') && ctrl.dato.get(\'observaciones_cancelacion\').touched}"\r\n                                    placeholder="Observaciones de cancelacion" formControlName="observaciones_cancelacion"></textarea>\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'observaciones_cancelacion\').hasError(\'required\') && ctrl.dato.get(\'observaciones_cancelacion\').touched">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'observaciones_cancelacion\').hasError(\'required\') && ctrl.dato.get(\'observaciones_cancelacion\').touched">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                    <div class="control" [ngClass]="{\'is-hidden\': (ctrl.dato.get(\'movimiento_metadato\').value.donacion == 1 || ctrl.dato.get(\'movimiento_metadato\').value.donacion == \'1\')}">\r\n                        <div class="field">\r\n                            <label class="label">Programa:</label>\r\n                        </div>\x3c!-- SI carga los turnos --\x3e\r\n                        <div class="control is-grouped">\r\n                            <span *ngIf="ctrl.cargando || cargandoCatalogo" class="tag is-primary is-medium">Cargando programas. \r\n                                <i class="fa fa-refresh fa-spin" aria-hidden="true"></i>\r\n                            </span>\r\n                            <div  *ngIf="!ctrl.cargando && !cargandoCatalogo" class="control is-expanded  has-icon has-icon-right">\r\n                                <select class="select" name="programa" formControlName="programa_id" \r\n                                    [ngClass]="{\'is-disabled\': tieneid && ctrl.dato.get(\'estatus\').value == \'FI\'}">\r\n                                    <option value="">Seleccione un programa</option>\r\n                                    <option *ngFor="let item of lista_programas" value="{{item.id}}">{{ item.nombre }}</option>\r\n                                </select>\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'programa_id\').hasError(\'required\')">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'programa_id\').hasError(\'required\')">Este campo es requerido.</span>\r\n                                <span class="help is-danger" *ngIf="lista_programas.length == 0"> No se cargaron programas, contacte al administrador.</span>\r\n                            </div>\r\n                            \x3c!-- Bot\xf3n para agregar turnos  *ngIf="permisos.indexOf(\'ygwsEwz3cUw4yVMCeaQ9hVMCFXUHri5q\') > -1 && !tieneid"  --\x3e\r\n                            <div class="control"  *ngIf="1==2">\r\n                                <a class="button" \r\n                                    (click)="abrirModal(\'modal_multiprograma\')" title="Editar multiprograma">\r\n                                    <i class="fa fa-plus fa-fw" aria-hidden="true"></i>\r\n                                </a>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <hr>\r\n                    <div >\r\n                        <nav class="panel" formGroupName="movimiento_metadato">\r\n                            <div class="field">\r\n                                <label class="label">Persona que entrega:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <input class="input" type="text" [ngClass]="{\'is-disabled\': tieneid && ctrl.dato.get(\'estatus\').value == \'FI\', \'is-danger\': ctrl.dato.get(\'movimiento_metadato\').get(\'persona_entrega\').hasError(\'required\')}"\r\n                                        placeholder="Persona que entrega" formControlName="persona_entrega">\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'persona_entrega\').hasError(\'required\')">\r\n                                        <i class="fa fa-warning"></i>\r\n                                    </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'persona_entrega\').hasError(\'required\')">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n\r\n                        </nav>\r\n                    </div>\r\n\r\n                    <div class="field">\r\n                        <label class="label">Observaciones:</label>\r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                            <textarea class="textarea" type="text" [ngClass]="{\'is-disabled\': tieneid && ctrl.dato.get(\'estatus\').value == \'FI\', \'is-danger\': ctrl.dato.get(\'observaciones\').hasError(\'required\') && ctrl.dato.get(\'observaciones\').touched}"\r\n                                placeholder="Observaciones" formControlName="observaciones"></textarea>\r\n                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'observaciones\').hasError(\'required\') && ctrl.dato.get(\'observaciones\').touched">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'observaciones\').hasError(\'required\') && ctrl.dato.get(\'observaciones\').touched">Este campo es requerido.</span>\r\n                        </p>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \x3c!-- apartado de insumos --\x3e\r\n        <div class="column" style="padding: 1em; overflow: scroll; overflow-x: hidden;" [style.height.px]="ctrl.tamano-100">\r\n            <div style="background: #FFF; border-radius: 1em; ">\r\n                <section class="hero is-primary">\r\n                    <div class="hero-body">\r\n                        <nav class="level">\r\n                            <div class="level-left"></div>\r\n                            \x3c!-- Right side --\x3e\r\n                            <div class="level-right"> \x3c!-- (click)="ctrl.regresar()" --\x3e\r\n                                <p class="level-item"><a class="button is-primary" routerLink="/almacen-estandar/entradas">Regresar</a></p>\r\n                                <p class="level-item" *ngIf="tieneid && ctrl.dato.get(\'estatus\').value == \'FI\'"><a class="button is-primary" routerLink="/almacen-estandar/entradas/nuevo" *ngIf="!ctrl.busquedaActivada"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;<span>Nueva entrada</span></a></p>\r\n                                <p class="level-item" *ngIf="tieneid && ctrl.dato.get(\'estatus\').value == \'FI\'"><a *ngIf="tieneid" class="button is-primary" (click)="imprimir()"><span class="icon"><i class="fa fa-print"></i></span></a></p>\r\n                                \x3c!--\r\n                                <p class="level-item" *ngIf="!tieneid">\r\n                                    <button class="button is-primary" type="submit" [ngClass]="{\'is-loading\': ctrl.cargando}" [disabled]="ctrl.dato.invalid"> <span class="icon"><i class="fa fa-floppy-o" aria-hidden="true"></i></span> &nbsp; Guardar</button>\r\n                                </p>\r\n                                --\x3e\r\n                                <p class="level-item" *ngIf="!tieneid || ctrl.dato.get(\'estatus\').value == \'BR\'">\r\n                                    <button class="button is-primary" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" \r\n                                    (click)="guardar_movimiento()" [disabled]="ctrl.dato.invalid">\r\n                                        <span class="icon"><i class="fa fa-floppy-o" aria-hidden="true"></i></span> &nbsp; Finalizar entrada\r\n                                    </button>\r\n                                </p>\r\n                                <p class="level-item" *ngIf="!tieneid">\r\n                                    <button class="button is-primary" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="guardarBorrador();">\r\n                                        <span class="icon"><i class="fa fa-floppy-o" aria-hidden="true"></i></span> &nbsp; Guardar avance\r\n                                        <span id="borrador" (click)="ctrl.enviar(false, \'/almacen-estandar/entradas/editar\'); tieneid ? ctrl.cargarDatos() : \'\';"></span>\r\n                                    </button>\r\n                                </p>\r\n                                <p class="level-item" *ngIf="tieneid && ctrl.dato.get(\'estatus\').value == \'BR\'">\r\n                                    <button class="button is-primary" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="actualizarDatos();">\r\n                                        <span class="icon"><i class="fa fa-floppy-o" aria-hidden="true"></i></span> &nbsp; Guardar avance\r\n                                    </button>\r\n                                </p>\r\n                                <p class="level-item" *ngIf="tieneid"><a class="button is-primary" id="actualizar" title="Actualizar" (click)="ctrl.cargarDatos();"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n                                <p class="level-item" *ngIf="!tieneid">\r\n                                    <a class="button is-primary" title="Actualizar" (click)="cargarCatalogo(\'programa\', \'lista_programas\', \'estatus\');cargarCatalogo(\'proveedor\', \'lista_proveedores\', \'activo\');">\r\n                                        <span class="icon "><i class="fa fa-refresh"></i>\r\n                                        </span>\r\n                                    </a>\r\n                                </p>\r\n                                <p class="level-item">&nbsp;</p>\r\n                            </div>\r\n                        </nav>\r\n                        <div class="container is-fluid">\r\n                            <h1 class="title">\r\n                                <span *ngIf="!ctrl.cargando || !cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                <span *ngIf="ctrl.cargando || cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>                                Insumos\r\n                            </h1>\r\n\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>                    &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n                <section class="section">\r\n\r\n                    <div class="field has-addons has-addons-centered" *ngIf="!tieneid || ctrl.dato.get(\'estatus\').value == \'BR\'">\r\n\r\n\x3c!-- ******************************************* AUTOCOMPLETE ********************************************* \r\n                        <p class="control">\r\n                            <input ngui-auto-complete [source]="insumos_term" [list-formatter]="autocompleListFormatter" id="buscarInsumo" value-property-name="clave"\r\n                                display-property-name="nombre" path-to-data="" loading-text="Cargando..." no-match-found-text="No hay resultados."\r\n                                (valueChanged)="select_insumo_autocomplete($event)" min-chars="1" class="input is-success is-medium"\r\n                                type="text" placeholder="Escanea el codigo de barra, o empieza escribir el nombre del producto" >\r\n\r\n                        </p>\r\n******************************************* AUTOCOMPLETE ********************************************* --\x3e\r\n\r\n                        \x3c!-- *****************     INPUT DE BUSQUEDA DE INSUMO     ****************** --\x3e    \r\n                        <div class="control is-grouped">\r\n                            <div class="control is-expanded">\r\n                                <input \r\n                                    (keyup.enter)="buscarInsumo.value != \'\' ?  enviarAutocomplete(buscarInsumo.value) : buscarInsumo.value = \'\'" \r\n                                    id="buscarInsumo"\r\n                                    name="buscarInsumo"\r\n                                    #buscarInsumo\r\n                                    class="input is-success is-medium"\r\n                                    type="text"\r\n                                    placeholder="Escriba la clave o el nombre del insumo y presione la tecla ENTER"/>\r\n                            </div>\r\n                            <div class="control">\r\n                                <a class="button is-success is-medium" title="Buscar insumo" (click)="buscarInsumo.value != \'\' ?  enviarAutocomplete(buscarInsumo.value) : buscarInsumo.value = \'\'">\r\n                                    <i class="fa fa-search" aria-hidden="true"></i> &nbsp; Buscar\r\n                                </a>\r\n                            </div>\r\n                            <div class="control" *ngIf="buscarInsumo.value != \'\'">\r\n                                <a class="button is-info is-medium" title="Borrar texto" (click)="res_busq_insumos=[]; buscarInsumo.value=\'\';">\r\n                                    <i class="fa fa-times" aria-hidden="true"></i>\r\n                                </a>\r\n                            </div>\r\n                        </div>\r\n                        <div class="is-fullwidth has-text-centered" *ngIf="cargando" style="height:100px;">\r\n                            <br>\r\n                            <span class="tag is-primary is-large">\r\n                                <span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span>\r\n                            </span>\r\n                        </div>\r\n                        \x3c!-- *****************     RESULTADOS DE BUSQUEDA DE INSUMO     ****************** --\x3e\r\n                        <div *ngIf="res_busq_insumos.length > 0 && !cargando" style="height: 200px;">\r\n                            <div *ngIf="res_busq_insumos.length > 0 && !cargando" style="overflow: scroll; overflow-x: hidden; height: 90%;">\r\n                                <div class="content" style="z-index: 1;" *ngFor="let item_insumo of res_busq_insumos; let c = index">\r\n                                    <div class="card" (click)="select_insumo_autocomplete(item_insumo)" style="background: rgba(242,248,253, 0.8)">\r\n                                        <div class="card-content">\r\n                                            <div class="media">          \r\n                                                <div class="media-content">\r\n                                                    <p class="title is-4">{{item_insumo.descripcion}}</p>\r\n                                                    <p class="subtitle is-6">\r\n                                                        <strong>Clave: </strong> {{item_insumo.clave}}\r\n                                                        <label class="tag is-success" *ngIf="item_insumo.es_causes == 1"><strong>Cause </strong></label>\r\n                                                        <label class="tag" *ngIf="item_insumo.es_causes == 0" style="background: #B8FB7E; border-color: #B8FB7E; color: rgba(0,0,0,0.7);" ><strong>No Cause </strong> </label>\r\n                                                        <label class="tag is-warning" *ngIf="item_insumo.es_unidosis == 1"><strong>Unidosis</strong> </label>\r\n                                                    </p>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <hr> \x3c!-- L\xednea de division --\x3e\r\n\r\n                    <div *ngIf="!llenando_formulario" formArrayName="insumos" style="overflow: scroll; overflow-x: hidden; height: 550px;">\r\n                        <div class="box" *ngFor="let item of ctrl.dato.controls.insumos.controls; let i=index" [ngStyle]="{\'background\': i%2 == 0 ? \'rgba(230, 230, 232, 0.44)\' : \'\'}">\r\n                            <article class="media" [formGroupName]="i">\r\n                                <div class="media-content">\r\n                                    <div class="content">\r\n                                        <span style="float:right; padding-left: 15px;" >\r\n                                            <a *ngIf="!tieneid || ctrl.dato.get(\'estatus\').value == \'BR\'" class="button is-danger" title="Quitar este elemento de la lista" (click)="abrirModal(\'borrarInsumo\', i);"><span class="icon"><i class="fa fa-trash-o"></i></span></a>\r\n                                        </span>\r\n                                        <a *ngIf="!tieneid || ctrl.dato.get(\'estatus\').value == \'BR\'" class="button is-success" \r\n                                            [ngClass]="{\'is-disabled\': ctrl.dato.controls.insumos.invalid}" \r\n                                            title="Agregar m\xe1s insumos de esta clave" style="float:right" \r\n                                            (click)="select_insumo_autocomplete(item.value);">\r\n                                            <span class="icon"><i class="fa fa-plus-circle" aria-hidden="true"></i></span>\r\n                                        </a>\r\n                                        <span *ngIf="!tieneid || ctrl.dato.get(\'estatus\').value == \'BR\'" style="float:right; padding-left: 15px; font-size: 24px; color: navy" >\r\n                                             &nbsp; <strong>Importe: {{ ctrl.dato.controls.insumos?.controls[i].controls.importe?.value ? ( ctrl.dato.controls.insumos.controls[i].controls.importe.value | currency:\'\') : ( 0 | currency:\'\' ) }}  &nbsp;  &nbsp; </strong> \r\n                                        </span>\r\n                                        <p>\r\n                                            <strong>\r\n                                                <span style="color:cornflowerblue">\r\n                                                    Clave: {{ ctrl.dato.controls.insumos.controls[i].controls.clave.value }} \r\n                                                </span>\r\n                                                Nombre: {{ctrl.dato.controls.insumos.controls[i].controls.descripcion.value}}\r\n                                            \r\n                                                <label class="tag is-success" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_causes.value == 1"><strong>Cause </strong></label>\r\n                                                <label class="tag is-success" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_causes.value == 0"><strong>No Cause </strong> </label>                                           \r\n                                                                                            \r\n                                                <label class="tag is-warning" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_unidosis.value == 1"><strong>Unidosis</strong> </label>\r\n                                            </strong>\r\n                                            <br> {{ctrl.dato.controls.insumos.controls[i].controls.descripcion.value}}\r\n                                        </p>\r\n                                    </div>\r\n                                   <section *ngIf="tieneid && ctrl.dato.get(\'estatus\').value == \'FI\' && estoymodificando == false">\r\n                                        <table *ngIf="tieneid && ctrl.dato.get(\'estatus\').value == \'FI\'" class="table is-narrow is-bordered is-striped">\r\n                                            <thead>\r\n                                                <tr>\r\n                                                    <th>Lote</th>\r\n                                                    <th>Caducidad</th>\r\n                                                    <th>Codigo de barras</th>\r\n                                                    \x3c!-- <th *ngIf="!tieneid || ctrl.dato.get(\'estatus\').value == \'BR\'">Existencia</th> --\x3e\r\n                                                    <th>Cantidad</th>\r\n                                                    <th>Precio unitario</th>\r\n                                                    <th>Importe</th>\r\n                                                    \x3c!-- <th *ngIf="!tieneid || ctrl.dato.get(\'estatus\').value == \'BR\'"></th> --\x3e\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody formArrayName="lotes">\r\n                                                <tr *ngFor="let val of ctrl.dato.controls.insumos.controls[i].controls.lotes.controls;  let i2 = index;">\r\n                                                    <td>{{val.value.lote}}</td>\r\n                                                    <td>{{val.value.fecha_caducidad}}</td>\r\n                                                    <td>{{val.value.codigo_barras}}</td>\r\n                                                    \x3c!-- <td *ngIf="!tieneid">{{val.value.existencia}}</td> --\x3e\r\n                                                    <td [formGroupName]="i2">\r\n                                                        {{val.value.cantidad}}\r\n                                                    </td>\r\n                                                    <td>${{val.value.precio_unitario}}</td>\r\n                                                    <td>${{val.value.importe}}</td>\r\n                                                    \x3c!-- <td *ngIf="!tieneid">\r\n                                                        <a class="is-danger" title="Quitar este lote" (click)="quitar_lote_insumo(i, val.value, i2)">\r\n                                                            <span class="icon">\r\n                                                                <i class="fa fa-trash-o"></i>\r\n                                                            </span>\r\n                                                        </a>\r\n                                                    </td> --\x3e\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </table>\r\n                                    </section>\r\n                                    \x3c!-- || ctrl.dato.get(\'estatus\').value == \'BR\' --\x3e\r\n                                    <div *ngIf="!tieneid || ctrl.dato.get(\'estatus\').value == \'BR\'"  class="level-left">\r\n                                        <div class="columns is-flex-desktop" style="width: 100%">\r\n                                            <div class="column is-3">\r\n                                                <p class="control is-expanded">\r\n                                                    <label class="label">Lote:</label>\r\n                                                    <input type="text" class="input" formControlName="lote"\r\n                                                    [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.lote.hasError(\'required\')}">\r\n                                                </p>\r\n                                                <span class="help is-danger" \r\n                                                *ngIf="ctrl.dato.controls.insumos.controls[i].controls.lote.hasError(\'required\')">Este campo es requerido.</span>\r\n                                            </div>                       \r\n                                            <div class="column is-2">\r\n                                                <p class="control is-expanded">\r\n                                                    <label class="label">Caducidad:</label>\r\n\x3c!--\r\n                                                        <input class="input" type="date" [textMask]="{mask:mask, keepCharPositions: true, pipe: autoCorrectedDatePipe}"\r\n                                                            formControlName="fecha_caducidad" ngui-datetime-picker (blur)="validar_fecha(ctrl.dato.controls.insumos.controls[i].controls.fecha_caducidad.value)"\r\n                                                            [min-date]="MinDateCaducidad" date-only="true" placeholder="YYYY-MM-DD"\r\n                                                            [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.fecha_caducidad.hasError(\'required\') \r\n                                                            && ctrl.dato.controls.insumos.controls[i].controls.fecha_caducidad.touched}">\r\n--\x3e\r\n                                                    <input class="input" formControlName="fecha_caducidad" (blur)="validar_fecha(ctrl.dato.controls.insumos.controls[i].controls.fecha_caducidad.value, i)"\r\n                                                        min="MinDateCaducidad" date-only="true" \r\n                                                        [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.fecha_caducidad.hasError(\'required\')}"\r\n                                                        placeholder="YYYY-MM-DD" [textMask]="{mask:mask, keepCharPositions: true, pipe: autoCorrectedDatePipe}"/>\r\n                                                </p>\r\n                                                <span class="help is-danger" \r\n                                                *ngIf="ctrl.dato.controls.insumos.controls[i].controls.fecha_caducidad.hasError(\'required\')">Este campo es requerido.</span>\r\n                                            </div>                          \r\n                                            <div class="column is-3">\r\n                                                <p class="control is-expanded">\r\n                                                    <label class="label">Codigo de barras:</label>\r\n                                                    <input type="text" class="input" formControlName="codigo_barras">\r\n                                                </p>\r\n                                            </div>    \r\n                                            <div class="column is-2">                                                \r\n                                                <p class="control is-expanded">\r\n                                                    <label class="label">Cantidad:</label>\r\n                                                    <input type="number" class="input" formControlName="cantidad" (keypress)="quitar_punto($event); "\r\n                                                    (keyup)="cambio_cantidad_stock_key($event, ctrl.dato.controls.insumos.controls[i].controls, i)"\r\n                                                    (change)="calcular_cantidad_subtotal(ctrl.dato.controls.insumos.controls[i].controls, i)"\r\n                                                    (blur)="calcular_cantidad_subtotal(ctrl.dato.controls.insumos.controls[i].controls, i)"\r\n                                                    [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.cantidad.hasError(\'required\')}">\r\n                                                </p>\r\n                                                <span class="help is-danger" \r\n                                                *ngIf="ctrl.dato.controls.insumos.controls[i].controls.cantidad.hasError(\'required\')">Este campo es requerido.</span>\r\n                                            </div> \r\n                                            <div class="column is-2">                                                \r\n                                                <p class="control is-expanded">\r\n                                                    <label class="label">Precio unitario:</label>\r\n                                                    <input type="number" class="input" formControlName="precio_unitario" (keypress)="validar_precio($event); "\r\n                                                    (keyup)="cambio_cantidad_stock_key($event, ctrl.dato.controls.insumos.controls[i].controls, i)"\r\n                                                    (change)="calcular_cantidad_subtotal(ctrl.dato.controls.insumos.controls[i].controls, i)"\r\n                                                    (blur)="calcular_cantidad_subtotal(ctrl.dato.controls.insumos.controls[i].controls, i)"\r\n                                                    [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.precio_unitario.hasError(\'required\')}">\r\n                                                </p>\r\n                                                <span class="help is-danger" \r\n                                                *ngIf="ctrl.dato.controls.insumos.controls[i].controls.precio_unitario.hasError(\'required\')">Este campo es requerido.</span>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </article>\r\n                        </div>\r\n                    </div>\r\n\r\n                </section>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</form>\r\n\r\n<div class="modal" id="guardarMovimiento">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card">\r\n        <header class="modal-card-head">\r\n            <p class="modal-card-title"><i class="fa fa-warning"></i> Alerta</p>\r\n            <button class="delete" (click)="cancelarModal(\'guardarMovimiento\')"></button>\r\n        </header>\r\n        <section class="modal-card-body">\r\n            <div class="content">\r\n                <h1>\xbfEsta seguro de finalizar la entrada?</h1>\r\n                <p>Ya no se podr\xe1 realizar cambios</p>\r\n            </div>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-success" (click)="ctrl.enviar(false, \'almacen-estandar/entradas\'); cancelarModal(\'guardarMovimiento\')">Continuar</a>\r\n            <a class="button" (click)="cancelarModal(\'guardarMovimiento\')">Cancelar</a>\r\n        </footer>\r\n    </div>\r\n</div>\r\n\r\n\r\n<div class="modal" id="borrarInsumo">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card">\r\n        <header class="modal-card-head">\r\n            <p class="modal-card-title"><i class="fa fa-warning"></i> Alerta</p>\r\n            <button class="delete" (click)="cancelarModal(\'borrarInsumo\')"></button>\r\n        </header>\r\n        <section class="modal-card-body">\r\n            <div class="content">\r\n                <h1>\xbfEsta seguro de eliminar el insumo? {{i}}</h1>\r\n                <p>Se borrar\xe1n todos los lotes del insumo que se hayan agregado.</p>\r\n            </div>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-success" (click)="ctrl.quitar_form_array(ctrl.dato.controls.insumos, index_borrar); sumaTotal(); cancelarModal(\'borrarInsumo\')">Continuar</a>\r\n            <a class="button" (click)="cancelarModal(\'borrarInsumo\')">Cancelar</a>\r\n        </footer>\r\n    </div>\r\n</div>\r\n\x3c!-- ****************************************************     PROGRAMAS     ******************************************--\x3e\r\n<div class="modal" id="modal_multiprograma">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card" style="width: 90%; height: 90%;">\r\n        <header class="modal-card-head is-primary" style="height: 10%;">\r\n            <p class="modal-card-title"><i class="fa fa-pencil is-succes" aria-hidden="true"></i>&nbsp; Editar Multiprograma</p>\r\n            <button type="button" class="delete" (click)="cancelarModal(\'modal_multiprograma\'); cargarCatalogo(\'programa\', \'lista_programas\', \'estatus\');"></button>\r\n        </header>\r\n        <section class="modal-card-body" style="height: 100%; padding: 1em;" *ngIf="1==2">\r\n                <app-modal-programas\r\n                (MultiprogramaJson)="llenarJson($event)"></app-modal-programas>\r\n            <div *ngIf="ctrl.dato.get(\'estatus\').value != \'FI\'" style="padding: 0.5em; overflow-x: hidden; overflow-y: hidden; height: 100%;">\r\n                \r\n            </div>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <button class="button" (click)="cancelarModal(\'modal_multiprograma\'); cargarCatalogo(\'programa\', \'lista_programas\', \'estatus\');">Cerrar</button>\r\n        </footer>\r\n    </div>\r\n</div>'},J8Vq:function(e,t){e.exports='\r\n    <p class="control" >\r\n        <a class="button is-primary tooltip" (click)="ctrl.regresar()">\r\n            <span class="icon ">\r\n                <i class="fa fa-arrow-left"> </i>\r\n            </span>\r\n            <span class="tooltiptext">Regresar</span>\r\n        </a>\r\n    </p>\r\n    \r\n    <p class="control" *ngIf="ctrl.id">\r\n        <a class="button is-primary tooltip"  (click)="ctrl.cargarDatos()" id="cargar_datos_actualizar">\r\n            <span class="icon ">\r\n                <i class="fa fa-refresh"></i>\r\n            </span>\r\n            <span class="tooltiptext">Actualizar</span>\r\n        </a>\r\n    </p>\r\n\r\n    <p class="control" *ngIf="ctrl.id">\r\n        <a  class="button is-primary tooltip"  routerLink="{{url_nuevo}}">\r\n            <span class="icon ">\r\n                <i class="fa fa-file"></i>\r\n            </span>\r\n            <span class="tooltiptext">Nuevo</span>\r\n        </a>\r\n    </p>\r\n\r\n    <p class="control" *ngIf="ctrl.id">\r\n        <a class="button is-primary tooltip"  (click)="ctrl.imprimir()">\r\n            <span class="icon ">\r\n                <i class="fa fa-print"></i>\r\n            </span>\r\n            <span class="tooltiptext">Imprimir</span>\r\n        </a>\r\n    </p>\r\n\r\n    <p class="control" >\r\n        <button class="button is-primary tooltip" type="submit" [ngClass]="{\'is-loading\': ctrl.cargando}" [disabled]="ctrl.dato.invalid">\r\n            <span class="icon ">\r\n                <i class="fa fa-save"> </i>\r\n            </span>\r\n            <span class="tooltiptext">Guardar</span>\r\n        </button>\r\n\r\n    </p>\r\n\r\n\r\n    <p class="control" *ngIf="ctrl.id">\r\n        <button class="button is-danger tooltip" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="ctrl.eliminar(ctrl.id)">\r\n            <span class="icon ">\r\n                <i class="fa fa-trash"> </i>\r\n            </span>\r\n            <span class="tooltiptext">Eliminar</span>\r\n        </button>        \r\n    </p>\r\n'},JH8I:function(e,t){e.exports='<section class="hero" [ngClass]=" {\'is-dark\': ctrl.busquedaActivada, \'is-primary\': !ctrl.busquedaActivada } ">\r\n    <div class="hero-body" style="position:relative;">\r\n\r\n        <div class="control is-grouped" style="position:absolute; top:0.5em; right:0em;">\r\n            \r\n            <p class="control" *ngIf="!ctrl.busquedaActivada">\r\n                <a class="button is-primary tooltip"  (click)="ctrl.listar(1)">\r\n                    <span class="icon ">\r\n                        <i class="fa fa-refresh"></i>\r\n                    </span>\r\n                    <span class="tooltiptext">Actualizar</span>\r\n                </a>\r\n            </p>\r\n\r\n            <p class="control" *ngIf="ctrl.busquedaActivada">\r\n                <a class="button is-dark tooltip"  (click)="ctrl.listarBusqueda(searchBox.value,1)" id="cargar_datos_actualizar">\r\n                    <span class="icon ">\r\n                        <i class="fa fa-refresh"></i>\r\n                    </span>\r\n                    <span class="tooltiptext">Actualizar</span>\r\n                </a>\r\n            </p>\r\n\r\n            <p class="control" *ngIf="nuevo">\r\n                <a  class="button is-{{ctrl.busquedaActivada ? \'dark\' : \'primary\'}} tooltip"  routerLink="{{url_nuevo}}">\r\n                    <span class="icon ">\r\n                        <i class="fa fa-file"></i>\r\n                    </span>\r\n                    <span class="tooltiptext">Nuevo</span>\r\n                </a>\r\n            </p>\r\n\r\n            <p class="control">\r\n                <a class="button is-{{ctrl.busquedaActivada ? \'dark\' : \'primary\'}} tooltip"  >\r\n                    <span class="icon ">\r\n                        <i class="fa fa-file-excel-o"></i>\r\n                    </span>\r\n                    <span class="tooltiptext">Exportar Excel</span>\r\n                </a>\r\n            </p>\r\n\r\n            <p class="control">\r\n                <a class="button is-{{ctrl.busquedaActivada ? \'dark\' : \'primary\'}} tooltip" (click)="imprimir()">\r\n                    <span class="icon ">\r\n                        <i class="fa fa-print"></i>\r\n                    </span>\r\n                    <span class="tooltiptext">Imprimir</span>\r\n                </a>\r\n            </p>\r\n            <p class="control">\r\n                <a class="button  is-dark tooltip" *ngIf="ctrl.busquedaActivada" (click)="ctrl.cerrar_busqueda(searchBox)">\r\n                    <span class="icon ">\r\n                        <i class="fa fa-close"></i>\r\n                    </span>\r\n                    <span class="tooltiptext">Cerrar Busqueda</span>\r\n                </a>\r\n            </p>\r\n        </div>\r\n\r\n        <div class="container is-fluid" *ngIf="busqueda">\r\n\r\n            <h1 class="title" *ngIf="!ctrl.busquedaActivada && mostrar_nombre">\r\n                <span class="icon is-medium"><i class="{{icono}}"></i></span>&nbsp; {{nombre}}\r\n            </h1>\r\n            <h1 class="title" *ngIf="ctrl.busquedaActivada">\r\n                <span class="icon is-medium"><i class="fa fa-search"></i></span> B\xfasqueda\r\n            </h1>\r\n            <div class="control is-grouped">\r\n                <p class="control is-expanded">\r\n                    <input class="input is-medium" type="text" placeholder="Buscar" #searchBox id="search-box" (keyup)="ctrl.buscar(searchBox.value)">\r\n                </p>\r\n                \r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</section>\r\n\r\n<div class="is-fullwidth has-text-centered" *ngIf="ctrl.cargando">\r\n    <br>\r\n    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n    <br>\r\n    <br>\r\n</div>'},JMwV:function(e,t){e.exports='<listar #ctrl URL="listar-pedidos-proveedor?fecha_desde={{fecha_desde}}&fecha_hasta={{fecha_hasta}}&clues={{clave_clues}}&numero_sinc={{numero_sinc}}&folio={{folio}}" titulo="Sincronizar Receta"></listar>\r\n<formulario #ctrl2 URL="analizar-json-proveedor" titulo="Sincronizar receta" [dato]="dato2"></formulario>\r\n<menu-farmacia [modulo]="\'Sincronizar recetas\'" [icono]="\'assets/hub-farmacia-sub.svg\'" [url]="\'/farmacia-subrrogada/sincronizar-recetas\'"></menu-farmacia>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:85%; ">\r\n    \r\n    <div class="column" style="padding:2em;">\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n            <section class="hero" [ngClass]=" {\'is-dark\': ctrl.busquedaActivada, \'is-primary\': !ctrl.busquedaActivada } ">\r\n\r\n                <div class="hero-body" style="position:relative;">\r\n                    <nav class="level">\r\n                        <div class="level-left"></div>\r\n                        \x3c!-- Right side --\x3e\r\n                        <div class="level-right">\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="Actualizar" (click)="ctrl.listarBusqueda(searchBox.value,1)"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="Actualizar" (click)="ctrl.listar(1)"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n                            \r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="PDF" (click)="imprimir()"><span class="icon "><i class="fa fa-file-pdf-o"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="PDF" (click)="imprimir()"><span class="icon "><i class="fa fa-file-pdf-o"></i></span></a></p>\r\n                            <p class="level-item">&nbsp;</p>\r\n                        </div>\r\n                    </nav>\r\n                    <div class="container is-fluid">\r\n\r\n                        <div class="is-hidden-desktop">\r\n                            <h1 class="title" *ngIf="!ctrl.busquedaActivada">\r\n                                <span class="icon is-medium"><i class="fa fa-user"></i></span> Sincronizar recetas\r\n                            </h1>\r\n                        </div>\r\n                        <h1 class="title" *ngIf="ctrl.busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-search"></i></span> B\xfasqueda\r\n                        </h1>\r\n                        <div class="control is-grouped">\r\n                            <div class="control">\r\n                                <div class="field">   \r\n                                    <label class="label">Desde:</label>                         \r\n                                    <input  style="width: 150px;" class="input is-medium" [(ngModel)]=\'fecha_desde\' ngui-datetime-picker date-only="true" placeholder="YYYY-MM-DD" />\r\n                                </div>\r\n                            </div>\r\n                            <div class="control">\r\n                                <div class="field">   \r\n                                    <label class="label">Hasta:</label>                         \r\n                                    <input style="width: 150px;" class="input is-medium" [(ngModel)]=\'fecha_hasta\' ngui-datetime-picker date-only="true" placeholder="YYYY-MM-DD" />\r\n                                </div>\r\n                            </div>\r\n                            <div class="control is-expanded">\r\n                                <div class="field">   \r\n                                    <label class="label">CLUES:</label> \r\n                                    <p class="control"  style="color:black">\r\n                                        <input ngui-auto-complete [source]="clues_term" [list-formatter]="autocompleListFormatter" id="buscarClues" value-property-name="clues"\r\n                                            display-property-name="clues" path-to-data="" loading-text="Cargando..." no-match-found-text="No hay resultados."\r\n                                            (valueChanged)="select_clues_autocomplete($event)" min-chars="1" class="input is-success is-medium"\r\n                                            type="text" placeholder="Escribe la clave o nombre de la clues" [(ngModel)]=\'clave_clues\'>\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                            <div class="control is-expanded">\r\n                                <span class="field">\r\n                                    <label class="label">FOLIO:</label>\r\n                                    <p class="control">\r\n                                        <input class="input is-medium" type="text" placeholder="Folio" [(ngModel)]=\'folio\'>\r\n                                    </p> \r\n                                </span>\r\n                            </div>\r\n                            <div class="control is-expanded">\r\n                                <span class="field">\r\n                                    <label class="label" title="N\xfamero de sincronizaciones">NUM. SINCRONIZACIONES:</label>\r\n                                    <p class="control">\r\n                                        <input class="input is-medium" type="number" step="1" min="0" (keypress)="quitar_punto($event)" \r\n                                            placeholder="N\xfamero de sincronizaciones" [(ngModel)]=\'numero_sinc\'>\r\n                                    </p> \r\n                                </span>\r\n                            </div>\r\n                            <div class="control">\r\n                                    <label class="label">&nbsp;</label> \r\n                                    <button class="button is-default is-medium" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="fecha_desde=\'\';fecha_hasta=\'\'; tipo=\'TODO\'; clave_clues=\'\'; folio=\'\'; numero_sinc =\'\';" >Limpiar</button>\r\n                            </div>\r\n                            <div class="control">\r\n                                    <label class="label">&nbsp;</label> \r\n                                <button class="button is-medium" (click)="ctrl.listar(1)"><span class="icon"><i class="fa fa-filter"></i></span> <span>Filtrar</span></button>\r\n                            </div> \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class="is-fullwidth has-text-centered" *ngIf="ctrl.cargando">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n\r\n            <div style="overflow: scroll; overflow-x: hidden; height: 630px;">\r\n                <div class="is-fullwidth has-text-centered" *ngIf="cargandoPdf">\r\n                        <br>\r\n                        <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Generando PDF...</span></span>\r\n                        <br>\r\n                        <br>\r\n                    </div>\r\n                <table class="table" *ngIf="!ctrl.cargando && !cargandoPdf" style="min-width:100%; font-size:1em;">\r\n                    <thead>\r\n                        <tr>\r\n                            <th></th>\r\n                            <th></th>\r\n                            <th style="text-align:center;"></th>\r\n                            <th></th>\r\n                            <th></th>\r\n                            <th colspan="2" style="text-align:center;">Aceptados</th>\r\n                            <th class="causes" colspan="2" style="text-align:center;">Ignorados</th>\r\n                            <th></th>\r\n                        </tr>\r\n                        <tr>                            \r\n                            <th>FECHA</th>\r\n                            <th>CLUES</th>\r\n                            <th>FOLIO</th>\r\n                            <th>PROVEEDOR</th>\r\n                            <th>SINCRONIZACIONES</th>\r\n                            \r\n                            <th class="aceptados" style="text-align:center;">Recetas</th>\r\n                            <th class="aceptados" style="text-align:center;">Colectivos</th>\r\n                            <th class="ignorados" style="text-align:center;">Recetas</th>\r\n                            <th class="ignorados" style="text-align:center;">Colectivos</th>\r\n\r\n                            <th style="text-align:center;">OPCIONES</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody *ngIf="!ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.dato; let i=index">\r\n                            <td style="vertical-align: middle;">\r\n                                {{item.fecha | date}}<br>\r\n                            </td>\r\n                            <td style="vertical-align: middle;">\r\n                                <strong style="font-size: 14px">{{item.clues}}</strong>\r\n                                <p style="font-size: 12px">{{item.unidad_medica.nombre}}</p>\r\n                            </td>\r\n                            <td style="vertical-align: middle;">\r\n                                <strong style="font-size: 14px">{{item.folio}}</strong>\r\n                                <p style="font-size: 12px">{{item.descripcion}}</p>\r\n                            </td>\r\n                            <td>{{item.proveedor.nombre}}</td>\r\n                            <td *ngIf="!item.metadatos_sincronizaciones" style="text-align:center; vertical-align: middle;" title="No disponible">N/D<a routerLink="/almacen/sincronizar-recetas/editar/{{item.id}}"></a></td>\r\n                            <td *ngIf="item.metadatos_sincronizaciones" style="text-align:center; vertical-align: middle;" title="N\xfamero de sincronizaciones">\r\n                                <label *ngIf="item.metadatos_sincronizaciones.numero_sincronizaciones==0">{{item.metadatos_sincronizaciones.numero_sincronizaciones}}</label>\r\n                                <a *ngIf="item.metadatos_sincronizaciones.numero_sincronizaciones > 0" routerLink="/farmacia-subrrogada/sincronizar-recetas/lista-sincronizaciones/{{item.metadatos_sincronizaciones.pedido_id}}">{{item.metadatos_sincronizaciones.numero_sincronizaciones}} </a>\r\n                            </td>\r\n                            \r\n                            <td class="aceptados" *ngIf="item.metadatos_sincronizaciones" style="text-align:center; vertical-align: middle;" title="Recetas aceptadas">{{item.metadatos_sincronizaciones.total_recetas}}<a routerLink="/almacen/sincronizar-recetas/editar/{{item.id}}"></a></td>\r\n                            <td *ngIf="!item.metadatos_sincronizaciones" style="text-align:center; vertical-align: middle;" title="No disponible">N/D<a routerLink="/almacen/sincronizar-recetas/editar/{{item.id}}"></a></td>\r\n                            <td class="aceptados" *ngIf="item.metadatos_sincronizaciones" style="text-align:center; vertical-align: middle;" title="Recetas ignoradas">{{item.metadatos_sincronizaciones.total_recetas_repetidas}}</td>\r\n                            <td *ngIf="!item.metadatos_sincronizaciones" style="text-align:center; vertical-align: middle;" title="No disponible">N/D<a routerLink="/almacen/sincronizar-recetas/editar/{{item.id}}"></a></td>\r\n                            <td class="ignorados" *ngIf="item.metadatos_sincronizaciones" style="text-align:center; vertical-align: middle;"  title="Colectivos aceptados">{{item.metadatos_sincronizaciones.total_colectivos}}</td>\r\n                            <td *ngIf="!item.metadatos_sincronizaciones" style="text-align:center; vertical-align: middle;" title="No disponible">N/D<a routerLink="/almacen/sincronizar-recetas/editar/{{item.id}}"></a></td>\r\n                            <td class="ignorados" *ngIf="item.metadatos_sincronizaciones" style="text-align:center; vertical-align: middle;"  title="Colectivos ignorados">{{item.metadatos_sincronizaciones.total_colectivos_repetidos}}</td>\r\n                            <td *ngIf="!item.metadatos_sincronizaciones" style="text-align:center; vertical-align: middle;" title="No disponible">N/D<a routerLink="/almacen/sincronizar-recetas/editar/{{item.id}}"></a></td>\r\n                            <td style="text-align:center; vertical-align: middle;">\r\n                                <button type="button" class="button" (click)="abrirModal(\'sincronizarRecetasJson\', item.id)" >\r\n                                    <span class="icon"><i class="fa fa-upload"></i></span>\r\n                                    <i class="fa fa-file-code-o" aria-hidden="true"></i>\r\n                                </button>\r\n                                \x3c!--\r\n                                <button type="button" class="button" (click)="abrirModal(\'sincronizarRecetasImagenes\', item.id)" >\r\n                                    <span class="icon"><i class="fa fa-upload"></i></span>\r\n                                    <i class="fa fa-file-image-o" aria-hidden="true"></i>\r\n                                </button> --\x3e\r\n                            </td>\r\n                        </tr>\r\n                        <tr *ngIf="ctrl.dato.length == 0">\r\n                            <td colspan="12" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>                    \r\n                        </tr>\r\n                    </tbody>\r\n                    <tbody *ngIf="ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">\r\n                            <td style="vertical-align: middle;">\r\n                                <strong>{{item.folio}}</strong>\r\n                                <br>{{item.descripcion}}<br>\r\n                            </td>\r\n                            <td style="vertical-align: middle;">\r\n                                {{item.clues}}\r\n                            </td>\r\n                            <td style="text-align:center; vertical-align: middle;">\r\n                                {{item.fecha | date}}<br>\r\n                            </td>\r\n                            <td class="aceptados" style="text-align:center; vertical-align: middle;">3<a routerLink="/almacen/sincronizar-recetas/editar/{{item.id}}"></a></td>\r\n                            <td class="aceptados" style="text-align:center; vertical-align: middle;" >10</td>\r\n                            <td class="ignorados" style="text-align:center; vertical-align: middle;" >2</td>\r\n                            <td class="ignorados" style="text-align:center; vertical-align: middle;" >0</td>\r\n                            <td style="text-align:center; vertical-align: middle;">\r\n                                <button type="button" class="button" (click)="abrirModal(\'sincronizarRecetasJson\', item.id)" >\r\n                                    <span class="icon"><i class="fa fa-upload"></i></span>\r\n                                    <i class="fa fa-file-code-o" aria-hidden="true"></i>\r\n                                </button>\r\n                                \x3c!-- <button type="button" class="button" (click)="abrirModal(\'sincronizarRecetasImagenes\', item.id)" >\r\n                                    <span class="icon"><i class="fa fa-upload"></i></span>\r\n                                    <i class="fa fa-file-image-o" aria-hidden="true"></i>\r\n                                </button> --\x3e\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [total]="ctrl.total" [paginasTotales]="ctrl.paginasTotales" [resultadosPorPagina]="ctrl.resultadosPorPagina"\r\n                [paginaActual]="ctrl.paginaActual" [indicePaginas]="ctrl.indicePaginas" (onSiguiente)="ctrl.paginaSiguiente()"\r\n                (onAnterior)="ctrl.paginaAnterior()" (onListar)="ctrl.listar($event)" *ngIf="ctrl.total>0 && ctrl.total > ctrl.resultadosPorPagina && !ctrl.busquedaActivada"></paginacion>\r\n            \x3c!-- Paginaci\xf3n para la b\xfasqueda  --\x3e\r\n            <paginacion [total]="ctrl.totalBusqueda" [paginasTotales]="ctrl.paginasTotalesBusqueda" [resultadosPorPagina]="ctrl.resultadosPorPaginaBusqueda"\r\n                [paginaActual]="ctrl.paginaActualBusqueda" [indicePaginas]="ctrl.indicePaginasBusqueda" (onSiguiente)="ctrl.paginaSiguienteBusqueda(searchBox.value)"\r\n                (onAnterior)="ctrl.paginaAnteriorBusqueda(searchBox.value)" (onListar)="ctrl.listarBusqueda(searchBox.value,$event)"\r\n                *ngIf="ctrl.totalBusqueda > 0 && ctrl.totalBusqueda > ctrl.resultadosPorPaginaBusqueda && ctrl.busquedaActivada"></paginacion>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class="modal" id="sincronizarRecetasJson">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card"  style="width:80%; height: 75%; overflow: hidden;">\r\n        <header class="modal-card-head" style="background: #00d1b2;">\r\n                <div class="container is-fluid"  style="width:100%;">\r\n                    <h1 class="title" style="color:#FFF;">\r\n                        <span class="icon is-medium"><i class="fa fa-file-code-o"></i></span> \r\n                        Sincronizar recetas JSON {{pedido_id}}\r\n                    </h1>\r\n                </div>     \r\n            <button class="delete" (click)="cancelarModal(\'sincronizarRecetasJson\')"></button>\r\n        </header>\r\n        <section class="modal-card-body">\r\n            <div class="content">\r\n                <form name="form" novalidate [formGroup]="dato2" (ngSubmit)="enviarDatos(\'analizar-json-proveedor\')" #mainScreen>\r\n                    \r\n                    <div class="column">\r\n                        <div style="background: #FFF; border-radius: 1em; ">\r\n                            <div class="is-fullwidth has-text-centered" *ngIf="!ctrl2.datosCargados">\r\n                                <br>\r\n                                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>                    &nbsp;<span>Cargando...</span></span>\r\n                            </div>\r\n                            <section class="section" [style.height.px]="tamano">\r\n\r\n                                <div class="is-half">\r\n                                    <div class="field has-addons">\r\n                                        <label class="label">Archivo JSON:</label>\r\n                                        <div style="height:20px;"></div>\r\n                                        <p class="control is-expanded  has-icon has-icon-right" style="float:left; width: 94.6%;" >\r\n                                            <input class="input" type="file" #json (change)="convertirJson($event, dato2?.controls?.json)" accept=".json, .txt">\r\n                                            <input type="hidden" formControlName="json">\r\n                                        </p>\r\n                                        <p class="control" style="float:left">\r\n                                            <button class="button is-primary" type="submit" [ngClass]="{\'is-loading\': ctrl2.cargando,\'is-disabled\': dato2?.controls?.json.value == \'\'}" [disabled]="ctrl2.error_json">Validar</button>\r\n                                        </p>\r\n                                    </div>\r\n                                    \r\n                                </div>\r\n                                <div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n                                    <br>\r\n                                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                                    <br>\r\n                                    <br>\r\n                                </div>\r\n                                <figure *ngIf="!cargando" class="highlight" style="width: 100%; height: 300px; overflow: auto;">\r\n                                    <pre>\r\n                                        <span class="help is-danger" *ngIf="ctrl2.error_json">El archivo no es valido o no tiene el formato adecuado.</span>\r\n                                        <code class="language-json" data-lang="json">{{ dato2?.controls?.json.value | json }}</code>\r\n                                    </pre>                        \r\n                                </figure>\r\n                                <div class="box" *ngIf="recetas_resultado == true">\r\n                                    <span>Recetas aceptadas:</span> <span class="tag is-success">{{json_valido?.recetas_validas}}</span>\r\n                                    &nbsp;&nbsp;&nbsp;<span>Colectivos aceptados:</span> <span class="tag is-success">{{json_valido?.colectivos_validos}}</span>\r\n                                    &nbsp;&nbsp;&nbsp;<span>Recetas ignoradas:</span> <span class="tag is-danger">{{json_valido?.recetas_invalidas}}</span>\r\n                                    &nbsp;&nbsp;&nbsp;<span>Colectivos ignorados:</span> <span class="tag is-danger">{{json_valido?.colectivos_invalidos}}</span>\r\n                                </div>\r\n                                \r\n                            </section>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-success" [ngClass]="{\'is-disabled\': !recetas_resultado}" (click)="sincronizarReceta(\'sincronizarRecetasJson\'); ">Sincronizar recetas</a>\r\n            <a class="button" (click)="cancelarModal(\'sincronizarRecetasJson\'); dato2.controls.json.value == \'\';">Cancelar</a>\r\n        </footer>\r\n        <simple-notifications [options]="options"></simple-notifications>\r\n    </div>\r\n</div>\r\n\x3c!--\r\n<div class="modal" id="sincronizarRecetasImagenes">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card"  style="width:80%; height: 75%; overflow: hidden;">\r\n         <header class="modal-card-head" style="background: #00d1b2;">\r\n                <div class="container is-fluid"  style="width:100%;">\r\n                    <h1 class="title" style="color:#FFF;">\r\n                        <span class="icon is-medium"><i class="fa fa-file-image-o" aria-hidden="true"></i></span> \r\n                        Sincronizar recetas (Fotos)\r\n                    </h1>\r\n                </div>     \r\n            <button class="delete" (click)="cancelarModal(\'sincronizarRecetasImagenes\')"></button>\r\n        </header>\r\n        <section class="modal-card-body">\r\n            <form name="form" novalidate [formGroup]="dato" (ngSubmit)="ctrl.enviar()" #mainScreen>\r\n                \r\n                <div class="column">\r\n                    <div style="background: #FFF; border-radius: 1em; ">\r\n                        <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                            <br>\r\n                            <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>                    &nbsp;<span>Cargando...</span></span>\r\n                        </div>\r\n                        <section class="section" [style.height.px]="tamano">\r\n\r\n                            <div class="is-half">\r\n                                <div class="field has-addons">\r\n                                    <label class="label">Imagen Receta:</label>\r\n                                    <div style="height:20px;"></div>\r\n                                    <p class="control is-expanded  has-icon has-icon-right" style="float:left; width: 95.1%;" >\r\n                                        <input class="input" type="file" multiple (change)="ctrl.seleccionarImagenBase64($event, ctrl.dato.controls.archivos, true)" accept=".jpeg, .jpg, .gif, .bmp, .png">\r\n                                        <input type="hidden" formControlName="archivos">\r\n                                    </p>\r\n                                    <p class="control" style="float:left">\r\n                                        <button class="button is-primary" type="submit" [ngClass]="{\'is-loading\': ctrl.cargando}" [disabled]="ctrl.dato.controls.archivos.value == \'\'">Enviar</button>\r\n                                    </p>\r\n                                </div>\r\n                                \r\n                            </div>\r\n                            <figure class="highlight" style="width: 100%; height: 300px; overflow: auto;">\r\n                                <div *ngFor="let item of ctrl.dato.controls.archivos.value; let i=index">\r\n                                    <img  [src]="\'data:image/png;base64,\' + item" \r\n                                    width="10%" style="float:left; border-style: dashed; border-radius: 5px;" (click)="abrirModal(\'verFoto\', item)">\r\n                                </div>                        \r\n                            </figure>\r\n                            \r\n                        </section>\r\n                    </div>\r\n                </div>\r\n            </form>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-success" (click)="agregarLoteIsumo(cantidad_solicitada.value)">Continuar</a>\r\n            <a class="button" (click)="cancelarModal(\'sincronizarRecetasImagenes\')">Cancelar</a>\r\n        </footer>\r\n    </div>\r\n</div> --\x3e\r\n'},JO2b:function(e,t){e.exports='<listar #ctrl URL="almacenes" titulo="Almacenes / Catalogo"></listar>\r\n<app-menu-catalogo></app-menu-catalogo>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:90%; padding-top: 1em;">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em">\r\n        <div style="background: #FFF; border-radius: 1em; ">\r\n                    \r\n            \x3c!-- Opciones y busqueda --\x3e\r\n            <tabla-opciones \r\n                #opciones\r\n                [ctrl]="ctrl"\r\n                [nombre]="\'Almacenes\'"\r\n                [ruta]="\'almacenes\'"\r\n                [ruta_pdf]="\'catalogos-parametros/lista-almacen.js\'"></tabla-opciones>\r\n                \r\n            <div style="overflow:auto; display:block" [style.maxHeight.px]="ctrl.tamano-300">\r\n                <div class="is-fullwidth has-text-centered" *ngIf="opciones.cargandoPdf">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Generando PDF...</span></span>\r\n                    <br>\r\n                    <br>\r\n                </div>\r\n\r\n                <table class="table" *ngIf="!ctrl.cargando && !opciones.cargandoPdf">\r\n\r\n                    <thead>\r\n                        <tr>\r\n                            <th><abbr title="Usuario ID">ID</abbr></th>                        \r\n                            <th>Nombre</th>\r\n                            <th>Servidor</th>\r\n                            <th>Nivel</th>\r\n                            <th>Tipo</th>\r\n                            <th>Clues</th>\r\n                            <th>Subrogado</th>\r\n                            <th>Unidosis</th>\r\n                            <th style="text-align:center;">Opciones</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody *ngIf="!ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.dato; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/catalogos-parametros/almacenes/editar/{{item.id}}">{{ item.id }}</a></th>                        \r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/almacenes/editar/{{item.id}}">{{ item.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/almacenes/editar/{{item.id}}">{{ item.servidor_id }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/almacenes/editar/{{item.id}}">{{ item.nivel_almacen == 1 ? \'HACE PEDIDOS AL PROVEEDOR\' : \'HACE PEDIDOS A OTRO ALMACEN DENTRO DE LA CLUES\'}} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/almacenes/editar/{{item.id}}">{{ item.tipo_almacen }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/almacenes/editar/{{item.id}}">{{ item.clues }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/almacenes/editar/{{item.id}}">{{ item.subrogado == 0 ? \'No\' : \'Si\'}} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/almacenes/editar/{{item.id}}">{{ item.unidosis  == 0 ? \'No\' : \'Si\'}} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n                        <tr *ngIf="ctrl.dato.length == 0">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                    <tbody *ngIf="ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/catalogos-parametros/almacenes/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/almacenes/editar/{{item.id}}">{{ item.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/almacenes/editar/{{item.id}}">{{ item.servidor_id }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/almacenes/editar/{{item.id}}">{{ item.nivel_almacen == 1 ? \'HACE PEDIDOS AL PROVEEDOR\' : \'HACE PEDIDOS A OTRO ALMACEN DENTRO DE LA CLUES\'}} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/almacenes/editar/{{item.id}}">{{ item.tipo_almacen }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/almacenes/editar/{{item.id}}">{{ item.clues }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/almacenes/editar/{{item.id}}">{{ item.subrogado == 0 ? \'No\' : \'Si\'}} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/almacenes/editar/{{item.id}}">{{ item.unidosis  == 0 ? \'No\' : \'Si\'}} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n\r\n                        <tr *ngIf="ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [ctrl]="ctrl"></paginacion>\r\n        </div>\r\n\r\n    </div>\r\n</div>'},JdJA:function(e,t){e.exports=".item{ width: 100%; text-align: center; display:block; font-size: 0.8em; }"},"Jg/L":function(e,t){e.exports=""},JhnQ:function(e,t){e.exports='<administrador-central-menu></administrador-central-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%; ">\r\n    <div class="column is-narrow is-hidden-mobile">\r\n        <administrador-central-menu-lateral></administrador-central-menu-lateral>\r\n    </div>\r\n    <div class="column">\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden; margin:20px">\r\n            <div class="top-bar is-primary" [ngClass] = " {\'is-dark\': busquedaActivada, \'is-primary\': !busquedaActivada } ">\r\n                <h1 class="title" *ngIf="!busquedaActivada">\r\n                    <span class="icon is-medium"><i class="fa fa-check-square-o"></i></span> Validaci\xf3n de pedidos alternos\r\n                </h1>\r\n                <h1 class="title" *ngIf="busquedaActivada">\r\n                    <span class="icon is-medium"><i class="fa fa-search"></i></span> B\xfasqueda \r\n                </h1>\r\n                <a class="button  is-dark" *ngIf="busquedaActivada" style="position:absolute; top:1em; right:1em;" (click)="busquedaActivada=false;searchBox.value=\'\';resultadosBusqueda=[]"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n                <a class="button  is-dark" *ngIf="busquedaActivada" style="position:absolute; top:1em; right:3.5em;" (click)="listarBusqueda(searchBox.value,1)"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                <a class="button  is-primary" *ngIf="!busquedaActivada" style="position:absolute; top:1em; right:1em;" (click)="listar(1)"><span class="icon "><i class="fa fa-refresh"></i></span></a>               \r\n                \r\n                <div class="control is-grouped">\r\n                    <p class="control is-expanded">\r\n                        <input class="input is-medium" type="text" placeholder="Buscar" #searchBox  id="search-box" (keyup)="buscar(searchBox.value)">\r\n                    </p>\r\n                </div>\r\n               \r\n            </div> \r\n            <br>\r\n            <div class="tabs  is-boxed is-centered" style="margin-bottom:0px;">\r\n                <ul>\r\n                  <li [ngClass]="{ \'is-active\': tab== 1 }"><a (click)="cambiarTab(1)"><span class="icon is-small"><i class="fa fa-inbox"></i></span> <span>Nuevos</span></a></li>\r\n                  <li [ngClass]="{ \'is-active\': tab== 2 }"><a (click)="cambiarTab(2)"><span class="icon is-small"><i class="fa fa-check-square-o"></i></span> <span>Validados</span></a></li>\r\n                </ul>\r\n              </div>\r\n            <div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n        \r\n            <table class="table" style="font-size:0.9em" *ngIf="!cargando">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Folio</th>\r\n                        <th>Descripci\xf3n</th>\r\n                        <th>Unidad M\xe9dica</th>\r\n                        <th>Fecha</th>\r\n                        <th>Claves</th>\r\n                        <th>Cantidad</th>\r\n                        <th>Monto</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody  *ngIf="!busquedaActivada">\r\n                    <tr *ngFor="let item of lista; let i=index">                         \r\n                        \x3c!--<td style="vertical-align: middle;"><a routerLink="/administrador-central/claves-basicas/editar/{{item.id}}">{{ item.nombre }}</a></td>                        --\x3e\r\n                        <th style="vertical-align: middle;"><a routerLink="/administrador-central/validacion-pedidos-alternos/{{item.id}}">\r\n                            {{ item.folio?item.folio:\'S/F\' }}</a>\r\n                        </th>\r\n                        <td style="vertical-align: middle;"><a routerLink="/administrador-central/validacion-pedidos-alternos/{{item.id}}">{{ item.descripcion }}</a></td>                        \r\n                        <td style="vertical-align: middle;"><a routerLink="/administrador-central/validacion-pedidos-alternos/{{item.id}}">{{ item.unidad_medica }}</a></td>                        \r\n                        <td style="vertical-align: middle;"><a [ngClass]="{\'estatus-rojo\':(item.status == \'PS\' && item.expira_en_dias <= 0),\'estatus-amarillo\':(item.status == \'PS\' && (item.expira_en_dias > 0 && item.expira_en_dias <= 5))}" >{{ item.fecha | date:\'y-MM-dd\' }} <span *ngIf="item.status == \'PS\'">({{item.expira_en_dias?item.expira_en_dias:\'hoy\'}})</span></a></td>\r\n                        <td style="text-align:center;vertical-align: middle;">\r\n                            <a routerLink="/administrador-central/validacion-pedidos-alternos/{{item.id}}"> \r\n                                {{ item.total_claves_solicitadas | number }}\r\n                            </a>\r\n                        </td>\r\n                        <td style="text-align:center;vertical-align: middle;">\r\n                            <a routerLink="/administrador-central/validacion-pedidos-alternos/{{item.id}}"> \r\n                                {{ item.total_cantidad_solicitada | number }}\r\n                            </a>\r\n                        </td>\r\n                        <td style="text-align:right;vertical-align: middle;">\r\n                            <a routerLink="/administrador-central/validacion-pedidos-alternos/{{item.id}}">\r\n                                ${{ item.total_monto_solicitado | number:\'1.2-2\' }}\r\n                            </a>\r\n                        </td>\r\n                        \x3c!--\r\n                        <td style="vertical-align: middle;"><a routerLink="/administrador-central/validacion-pedidos-alternos/{{item.id}}"> \r\n                            {{ (item.total_claves_recibidas || 0) | number }} / {{ item.total_claves_solicitadas | number }} [{{(item.total_claves_recibidas/item.total_claves_solicitadas)*100 | number:\'1.0-2\'}}%]\r\n                        </a></td>--\x3e\r\n                        \x3c!--\r\n                        <td style="vertical-align: middle;"><a routerLink="/administrador-central/validacion-pedidos-alternos/{{item.id}}"> \r\n                            {{ (item.total_cantidad_recibida || 0) | number }} / {{ item.total_cantidad_solicitada | number }} [{{(item.total_cantidad_recibida/item.total_cantidad_solicitada)*100 | number:\'1.0-2\'}}%]\r\n                        </a></td>--\x3e\r\n                        \x3c!--<td style="vertical-align: middle;"><a routerLink="/administrador-central/validacion-pedidos-alternos/{{item.id}}">\r\n                            $ {{ (item.total_monto_recibido || 0) | number:\'1.2-2\' }} / $ {{ item.total_monto_solicitado | number:\'1.2-2\' }} [{{(item.total_monto_recibido/item.total_monto_solicitado)*100 | number:\'1.0-2\'}}%]\r\n                        </a></td>--\x3e\r\n                        \x3c!--\r\n                        <td style="vertical-align: middle;" class="has-text-centered">\r\n                            <span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span>\r\n                            <a *ngIf="!item.cargando && item.status == \'BR\'" class="status-rojo" (click)="eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a>\r\n                            <a *ngIf="!item.cargando && item.status == \'PS\' && item.expira_en_dias >= 0" routerLink="/almacen/pedidos/recepcion/{{item.id}}" title="Recibir pedido"><span class="icon"><i class="fa fa-truck"></i></span></a>\r\n                            <span *ngIf="!item.cargando && item.status == \'PS\' && item.expira_en_dias < 0" class="tag is-danger" title="Expirado"><span class="icon"><i class="fa fa-exclamation"></i></span></span>\r\n                            <span *ngIf="!item.cargando && item.status == \'FI\'" class="estatus-verde" title="Finalizado"><span class="icon"><i class="fa fa-check-circle"></i></span></span>\r\n                            <span *ngIf="!item.cargando && item.status == \'EX-CA\'" class="estatus-rojo" title="Expirado - Cancelado"><span class="icon"><i class="fa fa-times-circle"></i></span></span>\r\n                            <span *ngIf="!item.cargando && item.status == \'EX\'" class="estatus-amarillo" title="Expirado"><span class="icon"><i class="fa fa-exclamation-circle"></i></span></span>\r\n                        </td>--\x3e\r\n                    </tr>\r\n                    <tr *ngIf="lista.length == 0">\r\n                        <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n                <tbody *ngIf="busquedaActivada">\r\n                    <tr *ngFor="let item of resultadosBusqueda; let i=index">\r\n                        <th style="vertical-align: middle;"><a routerLink="/administrador-central/validacion-pedidos-alternos/{{item.id}}">\r\n                            {{ item.folio?item.folio:\'S/F\' }}</a>\r\n                        </th>\r\n                        <td style="vertical-align: middle;"><a routerLink="/administrador-central/validacion-pedidos-alternos/{{item.id}}">{{ item.descripcion }}</a></td>                        \r\n                        <td style="vertical-align: middle;"><a routerLink="/administrador-central/validacion-pedidos-alternos/{{item.id}}">{{ item.unidad_medica }}</a></td>                        \r\n                        <td style="vertical-align: middle;"><a [ngClass]="{\'estatus-rojo\':(item.status == \'PS\' && item.expira_en_dias <= 0),\'estatus-amarillo\':(item.status == \'PS\' && (item.expira_en_dias > 0 && item.expira_en_dias <= 5))}" >{{ item.fecha | date:\'y-MM-dd\' }} <span *ngIf="item.status == \'PS\'">({{item.expira_en_dias?item.expira_en_dias:\'hoy\'}})</span></a></td>\r\n                        <td style="text-align:center;vertical-align: middle;">\r\n                            <a routerLink="/administrador-central/validacion-pedidos-alternos/{{item.id}}"> \r\n                                {{ item.total_claves_solicitadas | number }}\r\n                            </a>\r\n                        </td>\r\n                        <td style="text-align:center;vertical-align: middle;">\r\n                            <a routerLink="/administrador-central/validacion-pedidos-alternos/{{item.id}}"> \r\n                                {{ item.total_cantidad_solicitada | number }}\r\n                            </a>\r\n                        </td>\r\n                        <td style="text-align:right;vertical-align: middle;">\r\n                            <a routerLink="/administrador-central/validacion-pedidos-alternos/{{item.id}}">\r\n                                ${{ item.total_monto_solicitado | number:\'1.2-2\' }}\r\n                            </a>\r\n                        </td>\r\n                    </tr>\r\n\r\n                    <tr *ngIf="resultadosBusqueda.length == 0 && busquedaActivada">\r\n                        <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion \r\n                [total]="total" \r\n                [paginasTotales]="paginasTotales" \r\n                [resultadosPorPagina]="resultadosPorPagina" \r\n                [paginaActual]="paginaActual" \r\n                [indicePaginas]="indicePaginas"\r\n                (onSiguiente)="paginaSiguiente()" \r\n                (onAnterior)="paginaAnterior()" \r\n                (onListar)="listar($event)" \r\n                *ngIf="total>0 && total > resultadosPorPagina && !busquedaActivada"></paginacion>\r\n            \x3c!-- Paginaci\xf3n para la b\xfasqueda  --\x3e\r\n            <paginacion \r\n                [total]="totalBusqueda" \r\n                [paginasTotales]="paginasTotalesBusqueda" \r\n                [resultadosPorPagina]="resultadosPorPaginaBusqueda" \r\n                [paginaActual]="paginaActualBusqueda" \r\n                [indicePaginas]="indicePaginasBusqueda"\r\n                (onSiguiente)="paginaSiguienteBusqueda(searchBox.value)" \r\n                (onAnterior)="paginaAnteriorBusqueda(searchBox.value)" \r\n                (onListar)="listarBusqueda(searchBox.value,$event)" \r\n                *ngIf="totalBusqueda > 0 && totalBusqueda > resultadosPorPaginaBusqueda && busquedaActivada"></paginacion>\r\n           \r\n           \r\n            \r\n        </div>\r\n        \r\n    </div>\r\n</div>\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style="text-align:center" ><a  class="button is-danger is-inverted" (click)="ultimaPeticion(); mensajeError.mostrar = false"> <span class="icon"><i class="fa fa-refresh"></i></span> <span>Volver a intentar</span></a></p>        \r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n'},Jnfr:function(e,t){function a(e){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+e+"'.")})}a.keys=function(){return[]},a.resolve=a,e.exports=a,a.id="Jnfr"},Julm:function(e,t){e.exports=""},K2DH:function(e,t){e.exports='<menu-farmacia [modulo]="\'Pedidos\'" [icono]="\'assets/icono-pedidos.svg\'" [url]="\'/almacen/pedidos\'"></menu-farmacia>\r\n\r\n<div style="position:relative; margin-top:50px; padding-top:10px; padding-left:10px; padding-right:10px; display:block; height:100% !important; overflow:auto;" *ngIf="pedido">    \r\n  <div class="tile is-ancestor is-vertical" style="height:100% !important; max-height:100% !important; padding-bottom: 30px;">\r\n    <div class="tile">\r\n      <div class="tile is-4 is-parent is-vertical ">\r\n        <div class="tile is-child">\r\n            <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n                <section class="hero is-primary" [ngClass]="{\'is-primary\':pedido.status==\'PS\',\'is-success\':pedido.status==\'FI\',\'is-info\':pedido.status==\'EF\',\'is-warning\':pedido.status==\'EX\', \'is-danger\': pedido.status==\'EX-CA\', \'is-primary\':(pedido.status == \'VAL\' || pedido.status == \'PV\')}" >\r\n                    <h1 *ngIf="pedido.status == \'PS\'" class="title" style="margin:0.5em;" >\r\n                        <span class="icon is-medium"><i class="fa fa-file-text"></i></span> Pedido Por Surtir <span class="is-pulled-right">{{porcentageTotalPedido | number:\'1.0-2\'}} %</span>\r\n                    </h1>\r\n                    <h1 *ngIf="pedido.status == \'SD\'" class="title" style="margin:0.5em;" >\r\n                        <span class="icon is-medium"><i class="fa fa-minus-circle"></i></span> Solicitud de transferencia\r\n                    </h1>\r\n                    <h1 *ngIf="pedido.status == \'ET\'" class="title" style="margin:0.5em;" >\r\n                        <span class="icon is-medium"><i class="fa fa-clock-o"></i></span> En Transito <span class="is-pulled-right">{{porcentageTotalPedido | number:\'1.0-2\'}} %</span>\r\n                    </h1>\r\n                    <h1 *ngIf="pedido.status == \'FI\'" class="title" style="margin:0.5em;" >\r\n                        <span class="icon is-medium"><i class="fa fa-file-text"></i></span> Pedido Finalizado <span class="is-pulled-right">{{porcentageTotalPedido | number:\'1.0-2\'}} %</span>\r\n                    </h1>\r\n                    <h1 *ngIf="pedido.status == \'EF\'" class="title" style="margin:0.5em;" >\r\n                        <span class="icon is-medium"><i class="fa fa-file-text"></i></span> Pedido En Farmacia <span class="is-pulled-right">{{porcentageTotalPedido | number:\'1.0-2\'}} %</span>\r\n                    </h1>\r\n                    <h1 *ngIf="pedido.status == \'EX\'" class="title" style="margin:0.5em;" >\r\n                        <span class="icon is-medium"><i class="fa fa-exclamation-circle"></i></span> Pedido Expirado <span class="is-pulled-right">{{porcentageTotalPedido | number:\'1.0-2\'}} %</span>\r\n                    </h1>\r\n                    <h1 *ngIf="pedido.status == \'EX-CA\'" class="title" style="margin:0.5em;" >\r\n                        <span class="icon is-medium"><i class="fa fa-exclamation-circle"></i></span> Pedido Cancelado <span class="is-pulled-right">{{porcentageTotalPedido | number:\'1.0-2\'}} %</span>\r\n                    </h1>\r\n                    <h1 *ngIf="pedido.status == \'PV\'" class="title" style="margin:0.5em;" >\r\n                        <span class="icon is-medium"><i class="fa fa-file-text"></i></span> Por Validar\r\n                    </h1>\r\n                    <h1 *ngIf="pedido.status == \'VAL\'" class="title" style="margin:0.5em;" >\r\n                        <span class="icon is-medium"><i class="fa fa-file-text"></i></span> Validado\r\n                    </h1>\r\n                </section>\r\n                <section *ngIf="pedido.tipo_pedido == \'PALT\'" class="hero is-warning" style="text-align:center;">\r\n                    Pedido Alterno\r\n                </section>\r\n                <section *ngIf="!cargando">\r\n                    <div class="control is-grouped">\r\n                        <a class="button is-success is-fullwidth is-outlined" title="Imprimir Excel" (click)="imprimirExcel(); " *ngIf="esEditar">\r\n                            <span class="icon"><i class="fa fa-file-excel-o"></i></span> &nbsp; Excel\r\n                        </a>\r\n                        <a class="button is-info is-fullwidth is-outlined" title="Imprimir PDF" (click)="mostrarDialogo(); " *ngIf="esEditar">\r\n                            <span class="icon"><i class="fa fa-print"></i></span> &nbsp; Pedido\r\n                        </a>\r\n                        <a class="button is-info is-fullwidth is-outlined" [ngClass]="{\'is-loading\': cargandoActa}" title="Imprimir Acta" (click)="imprimirActa(); " *ngIf="esEditar && pedido.datosImprimir && pedido.datosImprimir.acta">\r\n                            <span class="icon"><i class="fa fa-print"></i></span> &nbsp; Acta\r\n                        </a>\r\n                    </div>\r\n                </section>\r\n\r\n                <div style="padding: 1em;">\r\n                    <label class="label">Datos del Pedido:</label>\r\n                    <div *ngIf="pedido.datosImprimir" class="level-item">\r\n                        <p class="subtitle is-5">\r\n                            <strong>Folio: </strong> {{pedido.datosImprimir.folio}}<br>\r\n                            <strong>Almac\xe9n: </strong> {{pedido.datosImprimir.almacen_solicitante.nombre}}<br>\r\n                            <strong>Nombre del pedido: </strong> {{pedido.datosImprimir.descripcion}}<br>\r\n                            <strong>Fecha: </strong> {{pedido.datosImprimir.fecha}}<br>\r\n                            <span *ngIf="pedido.datosImprimir.presupuesto"><strong>Presupuesto: </strong> {{pedido.datosImprimir.presupuesto.anio}}<br></span>\r\n                            <strong>Observaciones: </strong> {{pedido.datosImprimir.observaciones}}<br>\r\n                        </p>\r\n                    </div>\r\n                    <hr>\r\n                    <label class="label">Datos del Proveedor:</label>\r\n                    <div *ngIf="pedido.datosImprimir" class="level-item">\r\n                        <div *ngIf="pedido.datosImprimir.almacen_proveedor" >\r\n                            <p class="subtitle is-5">\r\n                                {{pedido.datosImprimir.almacen_proveedor.nombre}}\r\n                            </p>\r\n                        </div>\r\n                        <div *ngIf="pedido.datosImprimir.proveedor" >\r\n                            <p class="subtitle is-5">\r\n                                {{pedido.datosImprimir.proveedor.nombre}}<br>\r\n                                <small>\r\n                                {{pedido.datosImprimir.proveedor.contacto}}<br>\r\n                                {{pedido.datosImprimir.proveedor.email}}<br>\r\n                                Cel: {{pedido.datosImprimir.proveedor.celular}}\r\n                                </small>\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                    <hr>\r\n                    <div class="control is-grouped" style="padding-top:10px;" *ngIf="!cargando">\r\n                        <p class="control" *ngIf="pedido.recepcionPermitida && pedido.status != \'FI\'">\r\n                            <a class="button is-primary" routerLink="/almacen/pedidos/recepcion/{{pedido.id}}"> <span class="icon"><i class="fa fa-truck"></i></span> <span *ngIf="!tieneRecepcionIniciada">Recibir Pedido</span><span *ngIf="tieneRecepcionIniciada">Continuar Recepci\xf3n</span></a>\r\n                        </p>\r\n\r\n                        <p class="control">\r\n                            <a class="button is-white" routerLink="{{obtenerDireccion()}}" >Ir a la lista</a>\r\n                        </p>                \r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <br>\r\n        </div>\r\n        \r\n        <div class="tile is-child  notification is-white">\r\n        </div>\r\n      </div>\r\n\r\n      \r\n      <div class="tile is-parent is-vertical">\r\n        <div class="tile is-child" >\r\n          <div class="contenedor-pedido" >\r\n            <div class="top-bar" [ngClass]="{\'is-primary\':!pedido.filtro.activo,\'is-dark\': pedido.filtro.activo }">\r\n                <span *ngIf="!pedido.filtro.activo">\r\n                    Claves: {{((pedido.datosImprimir)?(pedido.datosImprimir.total_claves_recibidas||0):0) | number:\'1.0\'}} de {{ pedido.lista.length | number }} \r\n                    Insumos: {{((pedido.datosImprimir)?(pedido.datosImprimir.total_cantidad_recibida||0):0) | number:\'1.0\'}} de {{pedido.totalInsumos | number}} \r\n                    Total: $ {{((pedido.datosImprimir)?(pedido.datosImprimir.total_monto_recibido||0):0) | number:\'1.2-2\'}} de $ {{ pedido.totalMonto | number: \'1.2-2\' }}\r\n                </span>\r\n                <span *ngIf="pedido.filtro.activo"><span class="icon"><i class="fa fa-search"></i></span> Resultados: {{ pedido.filtro.lista.length }}</span>\r\n                \x3c!--a class="button is-primary  is-pulled-right" [ngClass]="{ \'is-inverted\': pedido.filtro.activo }" style="margin-top:-0.25em;" title="Recepciones" (click)="toggleModalRecepciones(); ">\r\n                    <span class="icon"><i class="fa fa-file"></i></span><span>Recepciones: {{pedido.datosImprimir.recepciones.length}}</span>\r\n                </a--\x3e\r\n                <a *ngIf="pedido.status == \'EX\' && permisoCancelarPedido && !esCluesOffline" class="button is-danger is-pulled-right" (click)="mostrarDialogoCancelarPedido()"> <span class="icon"><i class="fa fa-ban"></i></span> <span>Cancelar Pedido</span></a>\r\n                <a *ngIf="pedido.tipo_pedido == \'PEA\' && puedeCancelarTransferencia && !esCluesOffline" class="button is-danger is-pulled-right" (click)="mostrarDialogoCancelarTransferencia()"> <span class="icon"><i class="fa fa-ban"></i></span> <span>Cancelar Transferencia</span></a>\r\n                \x3c!--a *ngIf="pedido.status == \'EX\'" class="button is-warning is-pulled-right" (click)="mostrarDialogoPedidoAlternoPedido()"> <span class="icon"><i class="fa fa-retweet"></i></span> <span>Pedido Alterno</span></a--\x3e\r\n            </div> \r\n\r\n            <div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n            \r\n            <table class="table is-unselectable" *ngIf="!cargando" style="font-size: 0.8em;">\r\n                <thead>\r\n                    <tr  >\r\n                        <th style="width:41px;vertical-align: middle;" class="has-text-centered" >Lote</th>\r\n                        <th class="is-hidden-mobile" style="width:118px;">\r\n                        <p class="control is-expanded" >\r\n                            <input type="hidden" #searchBoxClavePrevia >\r\n                            \x3c!--input class="input is-small" type="text" placeholder="Clave" #searchBoxClave id="search-box-clave-{{indexPedido}}" (keyup)="buscar($event,searchBoxClave, searchBoxClavePrevia,[{ input: searchBoxDescripcion, campos: [\'generico\',\'informacion.concentracion\',\'informacion.presentacion\']}, { input: searchBoxClave, campos: [\'clave\']}])"--\x3e\r\n                            <input class="input is-small" type="text" placeholder="Filtrar" #searchBoxClave id="search-box-clave-{{indexPedido}}" (keyup)="buscar($event,searchBoxClave, searchBoxClavePrevia,[{ input: searchBoxClave, campos: [\'clave\',\'descripcion\']}])">\r\n                        </p>\r\n                        </th>\r\n                        \x3c!--th class="is-hidden-mobile">\r\n                        <p class="control is-expanded">\r\n                            <input type="hidden" #searchBoxDescripcionPrevia >\r\n                            <input class="input is-small" type="text" placeholder="Gen\xe9rico" #searchBoxDescripcion id="search-box-descripcion-{{indexPedido}}" (keyup)="buscar($event,searchBoxDescripcion,searchBoxDescripcionPrevia,[{ input: searchBoxDescripcion, campos: [\'generico_nombre\',\'informacion.concentracion\',\'informacion.presentacion\']}, { input: searchBoxClave, campos: [\'clave\']}])">\r\n                        </p>\r\n                        </th--\x3e \r\n                        <th class="is-hidden-tablet">\r\n                        <p class="control is-expanded">\r\n                            <input type="hidden" #searchBoxDescripcionClavePrevia >\r\n                            \x3c!--input class="input is-small" type="text" placeholder="Clave o Gen\xe9rico" #searchBoxDescripcionClave id="search-box-descripcion-clave-{{indexPedido}}" (keyup)="buscar($event,searchBoxDescripcionClave,searchBoxDescripcionClavePrevia,[{ input: searchBoxDescripcionClave, campos: [\'clave\',\'generico_nombre\',\'informacion.concentracion\',\'informacion.presentacion\']}])"--\x3e\r\n                            <input class="input is-small" type="text" placeholder="Clave o Gen\xe9rico" #searchBoxDescripcionClave id="search-box-descripcion-clave-{{indexPedido}}" (keyup)="buscar($event,searchBoxDescripcionClave,searchBoxDescripcionClavePrevia,[{ input: searchBoxDescripcionClave, campos: [\'clave\',\'descripcion\']}])">\r\n                        </p>\r\n                        </th>  \r\n                        <th style="vertical-align: middle;" class="is-hidden-mobile is-hidden-tablet-only" >Descripcion</th>                  \r\n                        <th style="width:78px !important;text-align: center; vertical-align: middle;"><abbr title="Cantidad">Cant.</abbr></th>\r\n                        <th style="width:78px !important;text-align: center; vertical-align: middle;"><abbr title="Monto">Monto</abbr></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody *ngIf="!pedido.filtro.activo">\r\n\r\n                    <tr   *ngFor="let item of pedido.paginacion.lista; let i = index;">\r\n                    <td class="has-text-centered">{{ item.lote }}</td>\r\n                    <td class="has-text-centered is-hidden-mobile"><a (click)="mostrarFichaInformativa($event, item.clave)" style="cursor:help;">{{ item.clave }}</a></td>            \r\n                    \r\n                    <td>\r\n                        <small class="is-hidden-tablet">{{ item.clave }} <br></small>\r\n                        \x3c!--div *ngIf="item.tipo != \'ME\'" style="line-height:1em;"--\x3e\r\n                        <div style="line-height:1em;">\r\n                        <small>{{ item.descripcion }}</small>\r\n                        </div>\r\n                        <div style="padding: 0.5em 0 0.5em 0; ">\r\n                        <span *ngIf="(item.es_causes && item.tipo == \'ME\')" class="tag is-success" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">CAUSES</span>\r\n                        <span *ngIf="(!item.es_causes && item.tipo == \'ME\')" class="tag is-danger" style="font-size: 0.7em !important;">NO CAUSES</span>\r\n                        <span *ngIf="item.tipo == \'MC\'" class="tag is-warning" style="font-size: 0.7em !important;">MATERIAL CURACI\xd3N</span>\r\n                        <span *ngIf="item.es_cuadro_basico" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">Cuadro b\xe1sico</span>\r\n                        <span *ngIf="(item.tipo == \'ME\' && item.informacion)">\r\n                            <span *ngIf="item.informacion.es_controlado" class="tag is-info" style="font-size: 0.7em">Controlado</span>\r\n                            <span *ngIf="item.informacion.es_surfactante" class="tag is-info" style="font-size: 0.7em">Surfactante</span>  \r\n                        </span>\r\n                        </div>\r\n                    </td>\r\n\r\n                    \x3c!--td >\r\n                        <small class="is-hidden-tablet">{{ item.clave }} <br></small>\r\n                        <b>{{ item.generico_nombre }}</b> <br  class="is-hidden-mobile"><small *ngIf="(item.tipo == \'ME\' && item.informacion)"><b>{{ item.informacion.concentracion }}</b></small><br>\r\n                        \r\n                        <div class="is-hidden-desktop" *ngIf="(item.tipo == \'ME\' && item.informacion)" style="line-height:1em;">\r\n                        <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                        <small><i>{{ item.informacion.contenido }} </i></small>\r\n                        </div>\r\n                        <div class="is-hidden-desktop" *ngIf="item.tipo != \'ME\'" style="line-height:1em;">\r\n                        <small>{{ item.descripcion }}</small>\r\n                        </div>\r\n                        <div class="is-hidden-desktop" style="padding: 0.5em 0 0.5em 0; ">\r\n                        <span *ngIf="item.es_causes" class="tag is-success" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">CAUSES</span>\r\n                        <span *ngIf="!item.es_causes" class="tag is-danger" style="font-size: 0.7em !important;">NO CAUSES</span>\r\n                        <span *ngIf="item.es_cuadro_basico" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">Cuadro b\xe1sico</span>\r\n                        \r\n                        <span *ngIf="(item.tipo == \'ME\' && item.informacion)">\r\n                            <span *ngIf="item.informacion.es_controlado" class="tag is-info" style="font-size: 0.7em">Controlado</span>\r\n                            <span *ngIf="item.informacion.es_surfactante" class="tag is-info" style="font-size: 0.7em">Surfactante</span>  \r\n                        </span>\r\n                        \r\n                        </div>\r\n                    </td> \r\n\r\n                    <td class="is-hidden-mobile is-hidden-tablet-only">\r\n                        <div *ngIf="(item.tipo == \'ME\' && item.informacion)" style="line-height:1em;">\r\n                        <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                        <small><i>{{ item.informacion.contenido }} </i></small>\r\n                        </div>\r\n                        <div  *ngIf="item.tipo != \'ME\'" style="line-height:1em;">\r\n                        <small>{{ item.descripcion }}</small>\r\n                        </div>\r\n                        <div style="padding: 0.5em 0 0.5em 0; ">\r\n                        <span *ngIf="item.es_causes" class="tag is-success" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">CAUSES</span>\r\n                        <span *ngIf="!item.es_causes" class="tag is-danger" style="font-size: 0.7em !important;">NO CAUSES</span>\r\n                        <span *ngIf="item.es_cuadro_basico" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">Cuadro b\xe1sico</span>\r\n                        <span *ngIf="(item.tipo == \'ME\' && item.informacion)">\r\n                            <span *ngIf="item.informacion.es_controlado" class="tag is-info" style="font-size: 0.7em">Controlado</span>\r\n                            <span *ngIf="item.informacion.es_surfactante" class="tag is-info" style="font-size: 0.7em">Surfactante</span>  \r\n                        </span>\r\n                        \r\n                        </div>\r\n                    </td--\x3e \r\n\r\n                    <td style="width:78px !important;">\r\n                        <p class="control is-expanded">\r\n                            {{item.cantidad_recibida | number}} / {{item.cantidad | number}}\r\n                        </p>\r\n                    </td>\r\n                    <td style="width:78px !important;">\r\n                        <b><abbr> ${{item.monto_recibido | number:\'1.2-2\'}} / ${{item.monto | number:\'1.2-2\'}}</abbr></b>\r\n                    </td> \r\n                    </tr>      \r\n                </tbody>\r\n                <tbody *ngIf="pedido.filtro.activo">\r\n                    <tr  *ngFor="let item of pedido.filtro.paginacion.lista; let i = index;">\r\n                    <td class="has-text-centered">{{ item.lote }}</td>\r\n                    <td class="has-text-centered is-hidden-mobile"><a (click)="mostrarFichaInformativa($event, item.clave)" style="cursor:help;">{{ item.clave }}</a></td>            \r\n                    \r\n                    <td>\r\n                        <small class="is-hidden-tablet">{{ item.clave }} <br></small>\r\n                        \x3c!--div *ngIf="item.tipo != \'ME\'" style="line-height:1em;"--\x3e\r\n                        <div style="line-height:1em;">\r\n                        <small>{{ item.descripcion }}</small>\r\n                        </div>\r\n                        <div style="padding: 0.5em 0 0.5em 0; ">\r\n                        <span *ngIf="(item.es_causes && item.tipo == \'ME\')" class="tag is-success" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">CAUSES</span>\r\n                        <span *ngIf="(!item.es_causes && item.tipo == \'ME\')" class="tag is-danger" style="font-size: 0.7em !important;">NO CAUSES</span>\r\n                        <span *ngIf="item.tipo == \'MC\'" class="tag is-warning" style="font-size: 0.7em !important;">MATERIAL CURACI\xd3N</span>\r\n                        <span *ngIf="item.es_cuadro_basico" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">Cuadro b\xe1sico</span>\r\n                        <span *ngIf="(item.tipo == \'ME\' && item.informacion)">\r\n                            <span *ngIf="item.informacion.es_controlado" class="tag is-info" style="font-size: 0.7em">Controlado</span>\r\n                            <span *ngIf="item.informacion.es_surfactante" class="tag is-info" style="font-size: 0.7em">Surfactante</span>  \r\n                        </span>\r\n                        </div>\r\n                    </td>\r\n\r\n                    \x3c!--td >\r\n                        <small class="is-hidden-tablet">{{ item.clave }} <br></small>\r\n                        <b>{{ item.generico_nombre }}</b> <br  class="is-hidden-mobile"><small *ngIf="(item.tipo == \'ME\' && item.informacion)"><b>{{ item.informacion.concentracion }}</b></small><br>\r\n                        \r\n                        <div class="is-hidden-desktop" *ngIf="(item.tipo == \'ME\' && item.informacion)" style="line-height:1em;">\r\n                        <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                        <small><i>{{ item.informacion.contenido }} </i></small>\r\n                        </div>\r\n                        <div class="is-hidden-desktop" *ngIf="item.tipo != \'ME\'" style="line-height:1em;">\r\n                        <small>{{ item.descripcion }}</small>\r\n                        </div>\r\n                        <div class="is-hidden-desktop" style="padding: 0.5em 0 0.5em 0; ">\r\n                        <span *ngIf="item.es_causes" class="tag is-success" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">CAUSES</span>\r\n                        <span *ngIf="!item.es_causes" class="tag is-danger" style="font-size: 0.7em !important;">NO CAUSES</span>\r\n                        <span *ngIf="item.es_cuadro_basico" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">Cuadro b\xe1sico</span>\r\n                        \r\n                        <span *ngIf="(item.tipo == \'ME\' && item.informacion)">\r\n                            <span *ngIf="item.informacion.es_controlado" class="tag is-info" style="font-size: 0.7em">Controlado</span>\r\n                            <span *ngIf="item.informacion.es_surfactante" class="tag is-info" style="font-size: 0.7em">Surfactante</span>  \r\n                        </span>\r\n                        \r\n                        </div>\r\n                    </td> \r\n\r\n                    <td class="is-hidden-mobile is-hidden-tablet-only">\r\n                        <div *ngIf="(item.tipo == \'ME\' && item.informacion)" style="line-height:1em;">\r\n                        <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                        <small><i>{{ item.informacion.contenido }} </i></small>\r\n                        </div>\r\n                        <div  *ngIf="item.tipo != \'ME\'" style="line-height:1em;">\r\n                        <small>{{ item.descripcion }}</small>\r\n                        </div>\r\n                        <div style="padding: 0.5em 0 0.5em 0; ">\r\n                        <span *ngIf="item.es_causes" class="tag is-success" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">CAUSES</span>\r\n                        <span *ngIf="!item.es_causes" class="tag is-danger" style="font-size: 0.7em !important;">NO CAUSES</span>\r\n                        <span *ngIf="item.es_cuadro_basico" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">Cuadro b\xe1sico</span>\r\n\r\n                        <span *ngIf="(item.tipo == \'ME\' && item.informacion)">\r\n                            <span *ngIf="item.informacion.es_controlado" class="tag is-info" style="font-size: 0.7em">Controlado</span>\r\n                            <span *ngIf="item.informacion.es_surfactante" class="tag is-info" style="font-size: 0.7em">Surfactante</span>  \r\n                        </span>\r\n                        </div>\r\n                    </td--\x3e \r\n                    <td style="width:78px !important;">\r\n                        <p class="control is-expanded">\r\n                            {{item.cantidad_recibida | number}} / {{item.cantidad | number}}\r\n                        </p>\r\n                    </td>\r\n                    <td style="width:78px !important;">\r\n                        <b><abbr> ${{item.monto_recibido | number:\'1.2-2\'}} / ${{item.monto | number:\'1.2-2\'}}</abbr></b>\r\n                    </td> \r\n                    </tr>\r\n                </tbody>              \r\n            </table>\r\n            \r\n            <paginacion \r\n                    [total]="pedido.lista.length" \r\n                    [paginasTotales]="pedido.paginacion.totalPaginas" \r\n                    [resultadosPorPagina]="pedido.paginacion.resultadosPorPagina" \r\n                    [paginaActual]="pedido.paginacion.paginaActual" \r\n                    [indicePaginas]="pedido.paginacion.indice"\r\n                    (onSiguiente)="pedido.paginaSiguiente()" \r\n                    (onAnterior)="pedido.paginaAnterior()" \r\n                    (onListar)="pedido.listar($event)" \r\n                    *ngIf="pedido.lista.length > 0 && pedido.lista.length > pedido.paginacion.resultadosPorPagina && !pedido.filtro.activo"></paginacion>\r\n            \r\n            <paginacion \r\n                    [total]="pedido.filtro.lista.length" \r\n                    [paginasTotales]="pedido.filtro.paginacion.totalPaginas" \r\n                    [resultadosPorPagina]="pedido.filtro.paginacion.resultadosPorPagina" \r\n                    [paginaActual]="pedido.filtro.paginacion.paginaActual" \r\n                    [indicePaginas]="pedido.filtro.paginacion.indice"\r\n                    (onSiguiente)="pedido.filtro.paginaSiguiente()" \r\n                    (onAnterior)="pedido.filtro.paginaAnterior()" \r\n                    (onListar)="pedido.filtro.listar($event)" \r\n                    *ngIf="pedido.filtro.lista.length > 0 && pedido.filtro.lista.length > pedido.filtro.paginacion.resultadosPorPagina && pedido.filtro.activo"></paginacion>\r\n            <br>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    \x3c!--p style="text-align:center" ><a  class="button is-danger is-inverted" (click)="ultimaPeticion(); mensajeError.mostrar = false"> <span class="icon"><i class="fa fa-refresh"></i></span> <span>Volver a intentar</span></a></p--\x3e\r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n<div class="modal is-active" [ngClass]="{\'is-active\': mostrarCancelarDialogo}">\r\n  <div class="modal-background" (click)="cerrarDialogoCancelarPedido()"></div>\r\n  <div class="modal-card" style="width:95%; height: auto;">\r\n    <header class="modal-card-head" style="background: #ff3860;">\r\n      <div class="container is-fluid"  style="width:100%;">\r\n          <h1 class="title" style="color:#FFF;">\r\n            <span class="icon is-medium"><i class="fa fa-ban"></i></span> Cancelar Pedido \r\n          </h1>\r\n      </div>            \r\n      <a class="button  is-danger" style="position:absolute; top:1em; right:1em;" (click)="cerrarDialogoCancelarPedido()"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n    </header>\r\n    <section class="modal-card-body" style="padding:0px;" >\r\n      <div style="padding: 1em;">\r\n          El pedido actual sera <strong>cancelado</strong>, y el recurso no utilzado estara disponible. Una vez cancelado este pedido ya no podran hacerse mas recepciones de insumos:\r\n          <table class="table" *ngIf="pedido.datosImprimir">\r\n              <thead>\r\n                <tr><th>Folio</th><th colspan="2">Nombre del Pedido</th><th>Fecha</th></tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr><td>{{pedido.datosImprimir.folio}}</td><td colspan="2">{{pedido.datosImprimir.descripcion}}</td><td>{{pedido.datosImprimir.fecha}}</td></tr>\r\n              </tbody>\r\n              <thead>\r\n                <tr><th>Almac\xe9n</th><th colspan="3">Observaciones:</th></tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr><td>{{pedido.datosImprimir.almacen_solicitante.nombre}}</td><td colspan="3">{{pedido.datosImprimir.observaciones}}</td></tr>\r\n              </tbody>\r\n              <thead>\r\n                  <tr><th>Total Monto del Pedido</th><th>Monto Recibido</th><th>Monto Disponible</th><th>Transferir a</th></tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr>\r\n                    <td>$ {{pedido.datosImprimir.total_monto_solicitado | number:\'1.2-2\'}}</td>\r\n                    <td>$ {{(pedido.datosImprimir.total_monto_recibido||0) | number:\'1.2-2\'}}</td>\r\n                    <td>$ {{(pedido.datosImprimir.total_monto_solicitado - (pedido.datosImprimir.total_monto_recibido||0)) | number:\'1.2-2\'}}</td>\r\n                    <td>\r\n                        <span class="select is-fullwidth">\r\n                            <select [(ngModel)]="dialogCancelarFechaTransferencia">\r\n                                <option *ngFor="let item of dialogCancelarMeses" [ngValue]="item">{{ item.descripcion }}</option>\r\n                            </select>\r\n                        </span>\r\n                    </td>\r\n                </tr>\r\n              </tbody>\r\n          </table>\r\n      </div>\r\n    </section>\r\n    <footer class="" style="position:relative; padding:1em;background: #FFF; border-top:1px solid #EEE; border-radius:0 0 0.8em 0.8em " >\r\n        <span *ngIf="errorCancelarPedido" class="notification is-small is-danger is-inverted">{{errorCancelarPedidoTexto}}</span>\r\n        <button class="button is-medium is-primary is-pulled-right" [ngClass]="{\'is-loading\': cancelandoPedido}"  (click)="transferirRecurso()">\r\n            <span class="icon"><i class="fa fa-exchange"></i></span> &nbsp;Transferir Recurso\r\n        </button>\r\n    </footer>\r\n  </div>\r\n</div>\r\n\r\n<div class="modal is-active" [ngClass]="{\'is-active\': mostrarCancelarTransferenciaDialogo}">\r\n    <div class="modal-background" (click)="cerrarDialogoCancelarTransferencia()"></div>\r\n    <div class="modal-card" style="width:95%; height: auto;">\r\n        <header class="modal-card-head" style="background: #ff3860;">\r\n            <div class="container is-fluid"  style="width:100%;">\r\n                <h1 class="title" style="color:#FFF;">\r\n                <span class="icon is-medium"><i class="fa fa-ban"></i></span> Cancelar Transferencia \r\n                </h1>\r\n            </div>            \r\n            <a class="button  is-danger" style="position:absolute; top:1em; right:1em;" (click)="cerrarDialogoCancelarTransferencia()"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n        </header>\r\n        <section class="modal-card-body" style="padding:0px;" >\r\n            <div style="padding: 1em;">\r\n                La transferencia actual sera <strong>cancelada</strong>\r\n                <table class="table" *ngIf="pedido.datosImprimir">\r\n                    <thead>\r\n                    <tr><th>Folio</th><th>Nombre del Pedido</th><th>Fecha</th></tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    <tr><td>{{pedido.datosImprimir.folio}}</td><td>{{pedido.datosImprimir.descripcion}}</td><td>{{pedido.datosImprimir.fecha}}</td></tr>\r\n                    </tbody>\r\n                    <thead>\r\n                    <tr><th>Almac\xe9n</th><th colspan="2">Observaciones:</th></tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    <tr><td>{{pedido.datosImprimir.almacen_solicitante.nombre}}</td><td colspan="2">{{pedido.datosImprimir.observaciones}}</td></tr>\r\n                    </tbody>\r\n                    <thead>\r\n                        <tr><th colspan="3">Motivo(s) de la cancelaci\xf3n:</th></tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr><td colspan="3">\r\n                            <textarea class="textarea" placeholder="Motivo(s) de la cancelaci\xf3n"  [(ngModel)]="motivosCancelarTransferencia"></textarea>\r\n                        </td></tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </section>\r\n        <footer class="" style="position:relative; padding:1em;background: #FFF; border-top:1px solid #EEE; border-radius:0 0 0.8em 0.8em " >\r\n            <span *ngIf="errorCancelarTransferencia" class="notification is-small is-danger is-inverted">{{errorCancelarTransferenciaTexto}}</span>\r\n            <button class="button is-medium is-danger is-pulled-right" [ngClass]="{\'is-loading\': cancelandoPedido}"  (click)="cancelarTransferencia()">\r\n                <span class="icon"><i class="fa fa-times"></i></span> &nbsp;Cancelar Transferencia\r\n            </button>\r\n        </footer>\r\n    </div>\r\n</div>\r\n\r\n<div class="modal is-active" [ngClass]="{\'is-active\': mostrarImprimirDialogo}">\r\n  <div class="modal-background" (click)="cerrarDialogo()"></div>\r\n  <div class="modal-card" style="width:95%; height: auto;">\r\n    <header class="modal-card-head" style="background: #00d1b2;">\r\n      <div class="container is-fluid"  style="width:100%;">\r\n          <h1 class="title" style="color:#FFF;">\r\n            <span class="icon is-medium"><i class="fa fa-print"></i></span> Imprimir Pedido \r\n          </h1>\r\n      </div>            \r\n      <a class="button  is-primary" style="position:absolute; top:1em; right:1em;" (click)="cerrarDialogo()"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n    </header>\r\n    <section class="modal-card-body" style="padding:0px;" >\r\n      <div style="padding: 1em;">\r\n        <div class="columns is-multiline">\r\n          <div class="column is-one-quarter" *ngFor="let tipo of tiposSubPedidos">\r\n            <div class="card">\r\n              <header class="card-header">\r\n                <p class="card-header-title">\r\n                  {{subPedidos[tipo].titulo}}\r\n                </p>\r\n              </header>\r\n              <div class="card-content">\r\n                <div class="content">\r\n                  <strong>Total claves</strong>: {{subPedidos[tipo].claves | number}} <br>\r\n                  <strong>Total unidades</strong>: {{subPedidos[tipo].cantidad | number}} <br>\r\n                  <strong>Total monto</strong>: $ {{subPedidos[tipo].monto + ((subPedidos[tipo].tiene_iva)?+subPedidos[tipo].monto*16/100:0) | number:\'1.2-2\'}}\r\n                </div>\r\n              </div>\r\n              <footer class="card-footer">\r\n                \x3c!--a class="card-footer-item" (click)="imprimir(tipo)" [ngClass]="{ \'is-loading\': cargandoPdf, \'is-inverted\': !cargandoPdf }">\r\n                  <span class="icon is-medium"><i class="fa fa-file-pdf-o"></i></span>&nbsp;<span>Descargar/Imprimir</span>\r\n                </a--\x3e\r\n                <a class="button is-primary is-fullwidth" [ngClass]="{ \'is-loading\': cargandoPdf[tipo], \'is-inverted\': !cargandoPdf[tipo] }" title="Imprimir Pedido" (click)="imprimir(tipo)">\r\n                    <span class="icon"><i class="fa fa-file-pdf-o"></i></span> &nbsp; Descargar/Imprimir\r\n                </a>\r\n              </footer>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n    <footer class="" style="position:relative; padding:1em;background: #FFF; border-top:1px solid #EEE; border-radius:0 0 0.8em 0.8em " >\r\n        <div class="notification is-danger is-small" *ngIf="errorEnPDF">\r\n            <button class="delete" (click)="errorEnPDF = false"></button>        \r\n            <b>Error:</b> Ocurrio un error al generar el PDF<br><br>\r\n        </div>\r\n    </footer>\r\n  </div>\r\n</div>\r\n\r\n<div class="modal is-active" [ngClass]="{\'is-active\': mostrarPedidoAlternoDialogo}">\r\n    <div class="modal-background" (click)="cerrarDialogoPedidoAlterno()" ></div>\r\n    <div class="modal-card" style="width:95%; height: auto;">\r\n        <header class="modal-card-head" style="background: #ffdd57;">\r\n        <div class="container is-fluid"  style="width:100%;">\r\n            <h1 class="title" style="color:#000;">\r\n              <span class="icon is-medium"><i class="fa fa-retweet"></i></span> Pedido Alterno\r\n            </h1>\r\n        </div>            \r\n        <a class="button  is-warning" style="position:absolute; top:1em; right:1em;" (click)="cerrarDialogoPedidoAlterno()" [ngClass]="{\'is-disabled\': generandoPedidoAlterno}"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n        </header>\r\n        <section class="modal-card-body" style="padding:0px; overflow:visible;" >\r\n            <div style="padding: 1em;">\r\n                El pedido actual sera <strong>cancelado</strong>, y los insumos que no fueron recepcionados generar\xe1n otro pedido a un proveedor alterno, ya no se podr\xe1n hacer recepciones al pedido original:\r\n                <table class="table" style="font-size:0.9em; margin:0px;" *ngIf="pedido.datosImprimir">\r\n                    <thead>\r\n                    <tr><th>Folio</th><th colspan="2">Nombre del Pedido</th><th>Fecha</th></tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    <tr><td>{{pedido.datosImprimir.folio}}</td><td colspan="2">{{pedido.datosImprimir.descripcion}}</td><td>{{pedido.datosImprimir.fecha}}</td></tr>\r\n                    </tbody>\r\n                    <thead>\r\n                    <tr><th>Almac\xe9n</th><th colspan="3">Observaciones:</th></tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    <tr><td>{{pedido.datosImprimir.almacen_solicitante.nombre}}</td><td colspan="3">{{pedido.datosImprimir.observaciones}}</td></tr>\r\n                    </tbody>\r\n                    \x3c!--thead>\r\n                        <tr><th>Total Monto del Pedido</th><th>Monto Recibido</th><th>Monto Disponible</th><th></th></tr>\r\n                    </thead>\r\n                    <tbody>\r\n                    <tr>\r\n                        <td>$ {{pedido.datosImprimir.total_monto_solicitado | number:\'1.2-2\'}}</td>\r\n                        <td>$ {{(pedido.datosImprimir.total_monto_recibido||0) | number:\'1.2-2\'}}</td>\r\n                        <td>$ {{(pedido.datosImprimir.total_monto_solicitado - (pedido.datosImprimir.total_monto_recibido||0)) | number:\'1.2-2\'}}</td>\r\n                        <td>\r\n                        </td>\r\n                    </tr>\r\n                    </tbody--\x3e\r\n                </table>\r\n            </div>\r\n        </section>\r\n      \r\n       \r\n        \r\n        <section class="modal-card-body" style="padding:0px;" >\r\n                <hr style="margin:0px;"/>\r\n                <div style="padding: 1em;">\r\n                        <h1 class="subtitle">Datos del Acta</h1>\r\n                        <div class="control is-grouped">\r\n                            <p class="control   has-icon has-icon-right">\r\n                                <label for="">Fecha</label>\r\n                                <input class="input" autofocus type="date" [ngClass]="{\'is-danger\': errores_acta.fecha != null}" [ngModel]="acta.fecha | date:\'yyyy-MM-dd\'" (ngModelChange)="acta.fecha  = $event" >\r\n                                <span class="icon is-small" *ngIf="errores_acta.fecha != null">\r\n                                <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="errores_acta.fecha != null">Requerido.</span>\r\n                            </p>\r\n                            <p class="control  has-icon has-icon-right">\r\n                                <label for="">Hora inicio</label>\r\n                                <input class="input" type="time" [ngModel]="acta.hora_inicio | date:\'HH:mm\'" (ngModelChange)="acta.hora_inicio  = $event" [ngClass]="{\'is-danger\':  errores_acta.hora_inicio != null}" >\r\n                                <span class="icon is-small" *ngIf="errores_acta.hora_inicio != null">\r\n                                <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="errores_acta.hora_inicio != null">Requerido.</span>\r\n                            </p>\r\n                            <p class="control  has-icon has-icon-right">\r\n                                <label for="">Hora termino</label>\r\n                                <input class="input" type="time" [ngModel]="acta.hora_termino | date:\'HH:mm\'" (ngModelChange)="acta.hora_termino  = $event" [ngClass]="{\'is-danger\':  errores_acta.hora_termino != null}" >\r\n                                <span class="icon is-small" *ngIf="errores_acta.hora_termino != null">\r\n                                <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="errores_acta.hora_termino != null">Requerido.</span>\r\n                            </p>\r\n                        </div>\r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                                <input type="text" class="input is-fullwidth" [(ngModel)]="acta.lugar_reunion" placeholder="Lugar de reunion" [ngClass]="{\'is-danger\':  errores_acta.lugar_reunion != null}" />\r\n                                <span class="icon is-small" *ngIf="errores_acta.lugar_reunion != null">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="errores_acta.lugar_reunion != null">Este campo es requerido.</span>\r\n                            </p>\r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                            <input type="text" class="input is-fullwidth" [(ngModel)]="acta.ciudad" placeholder="Ciudad" [ngClass]="{\'is-danger\':  errores_acta.ciudad != null}" />\r\n                            <span class="icon is-small" *ngIf="errores_acta.ciudad != null">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                            <span class="help is-danger" *ngIf="errores_acta.ciudad != null">Este campo es requerido.</span>\r\n                        </p>\r\n                    </div>   \r\n             <hr style="margin:0px;"/>\r\n            <div style="padding: 1em;">\r\n                <table class="table">\r\n                    <thead><tr><th>No.</th><th>Clave</th><th>Descripci\xf3n</th><th>Cantidad</th><th>Monto</th></tr></thead>\r\n                    <tbody>\r\n                        <tr *ngFor="let insumo of listaInsumosPedidoAlterno; let i = index;">\r\n                            <td>{{i+1}}</td>\r\n                            <td>{{insumo.clave}}</td>\r\n                            <td>{{insumo.descripcion}}</td>\r\n                            <td style="width:100px !important;">\r\n                                <p class="control is-expanded">\r\n                                    <input class="input is-small has-text-centered" type="number" placeholder="Cant" max="{{insumo.cantidad_limite}}" [(ngModel)]="insumo.cantidad" (keyup)="validarCantidad($event.target)">\r\n                                    <small>Limite: <strong>{{insumo.cantidad_limite}}</strong></small>\r\n                                </p>\r\n                            </td>\r\n                            <td style="width:100px;">\r\n                                $ {{(insumo.precio * +insumo.cantidad) | number:\'1.2-2\'}}<br>\r\n                                <small>Precio: <strong>${{insumo.precio | number:\'1.2-2\'}}</strong></small>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </section>\r\n        <footer class="" style="position:relative; padding:1em;background: #FFF; border-top:1px solid #EEE; border-radius:0 0 0.8em 0.8em " >\r\n            <span *ngIf="errorGenerarPedidoAlterno" class="notification is-small is-danger is-inverted">{{errorGenerarPedidoAlternoTexto}}</span>\r\n            <button class="button is-medium is-primary is-pulled-right" [ngClass]="{\'is-loading\': generandoPedidoAlterno}"  (click)="elaborarPedidoAlterno()">\r\n                <span class="icon"><i class="fa fa-retweet"></i></span> &nbsp;Elaborar Pedido Alterno\r\n            </button>\r\n        </footer>\r\n    </div>\r\n  </div>'},"K77/":function(e,t){e.exports=""},KNJT:function(e,t){e.exports=".top-nav { position: fixed; width: 100%;top:0px; z-index:99; background: #00d1b2; }\r\n\r\n\r\nnav {\r\n    background-color:#00d1b2;\r\n    color: #FFF !important;\r\n}\r\n\r\n\r\na.nav-hub-active { background:rgba(0,0,0,0.05);}\r\n\r\n\r\na.nav-hub-active:hover { background:rgba(0,0,0,0.1);}\r\n\r\n\r\nnav a { color: #FFF ; color: rgba(255,255,255,0.9)  !important;}\r\n\r\n\r\nnav a:hover { color: #FFF !important;}\r\n\r\n\r\nnav .title  { color:#FFF;}\r\n\r\n\r\nnav a .title { color:#FFF; color: rgba(255,255,255,0.9)  !important;}\r\n\r\n\r\nnav a:hover .title { color:#FFF !important; }"},KOuM:function(e,t){e.exports='<listar #ctrl URL="servicios" titulo="Servicios / Catalogo"></listar>\r\n<app-menu-catalogo></app-menu-catalogo>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%;  padding-top: 1em;">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em">\r\n        <div style="background: #FFF; border-radius: 1em; ">\r\n\r\n            \x3c!-- Opciones y busqueda --\x3e\r\n            <tabla-opciones \r\n                #opciones\r\n                [ctrl]="ctrl"\r\n                [nombre]="\'Servicios\'"\r\n                [ruta]="\'servicios\'"\r\n                [ruta_pdf]="\'catalogos-parametros/lista-servicios.js\'"></tabla-opciones>\r\n\r\n            <div style="overflow:auto; display:block" [style.maxHeight.px]="ctrl.tamano-300">\r\n                <div class="is-fullwidth has-text-centered" *ngIf="opciones.cargandoPdf">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Generando PDF...</span></span>\r\n                    <br>\r\n                    <br>\r\n                </div>\r\n                <table class="table" *ngIf="!ctrl.cargando && !opciones.cargandoPdf">\r\n                    <thead>\r\n                        <tr>\r\n                            <th><abbr title="Usuario ID">ID</abbr></th>\r\n                            <th>Nombre</th>\r\n                            <th style="text-align:center;">Opciones</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody *ngIf="!ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.dato; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/catalogos-parametros/servicios/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/servicios/editar/{{item.id}}">{{ item.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n                        <tr *ngIf="ctrl.dato.length == 0">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                    <tbody *ngIf="ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/catalogos-parametros/servicios/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/servicios/editar/{{item.id}}">{{ item.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n\r\n                        <tr *ngIf="ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [ctrl]="ctrl"></paginacion>\r\n\r\n        </div>\r\n\r\n    </div>\r\n</div>'},KS36:function(e,t){e.exports='<aside class="menu" style="padding: 1em;">\r\n    <div *ngFor="let item of menuAutorizado">\r\n        <p class="menu-label">{{ item.titulo }}</p>\r\n        <ul class="menu-list">\r\n            <li *ngFor="let modulo of item.modulos">\r\n                <a routerLink="{{ modulo.url }}" routerLinkActive="is-active">\r\n                    <span class="icon" ><i class="fa {{ modulo.icono }}"></i></span>&nbsp;&nbsp;<span>{{ modulo.titulo }}</span>\r\n                </a>\r\n            </li>    \r\n        </ul>\r\n    </div>\r\n        \r\n</aside>'},KSqy:function(e,t){e.exports=".top-nav { position: fixed; width: 100%;top:0px; z-index:99; background: #00d1b2; }\r\n\r\n\r\nnav {\r\n    background-color:#00d1b2;\r\n    color: #FFF !important;\r\n}\r\n\r\n\r\na.nav-hub-active { background:rgba(0,0,0,0.05);}\r\n\r\n\r\na.nav-hub-active:hover { background:rgba(0,0,0,0.1);}\r\n\r\n\r\nnav a { color: #FFF ; color: rgba(255,255,255,0.9)  !important;}\r\n\r\n\r\nnav a:hover { color: #FFF !important;}\r\n\r\n\r\nnav .title  { color:#FFF;}\r\n\r\n\r\nnav a .title { color:#FFF; color: rgba(255,255,255,0.9)  !important;}\r\n\r\n\r\nnav a:hover .title { color:#FFF !important; }\r\n\r\n\r\n.unidad-trabajo {\r\n\tfont-size: 0.7em;\r\n\ttext-align: right !important;\r\n\tpadding: 1em;\r\n    vertical-align: middle;\r\n    text-shadow: 2px 2px slategrey;\r\n}"},KguI:function(e,t){e.exports='<formulario #ctrl URL="proveedor" titulo="Proveedor / Catalogo" [dato]="dato"></formulario>\r\n<app-menu-catalogo></app-menu-catalogo>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:90%; padding-top: 1em;">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em;">\r\n        \x3c!-- formulario --\x3e\r\n        <form name="form" novalidate [formGroup]="dato" (ngSubmit)="ctrl.enviar()">\r\n            <div style="background: #FFF; overflow: hidden;">\r\n                <section class="hero is-primary">\r\n                    <div class="hero-body">\r\n                        \x3c!-- Opciones  --\x3e\r\n                        <formulario-opciones [ctrl]="ctrl" class="control is-grouped" style="position:absolute; top:8em; right:3em;">\r\n                        </formulario-opciones>\r\n                        <div class="container is-fluid">\r\n                            <h1 class="title">\r\n                                <span *ngIf="!ctrl.cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                <span *ngIf="ctrl.cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>                                {{ctrl.moduloTitulo}} proveedor\r\n                            </h1>\r\n\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>                    &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n                <section class="section">\r\n\r\n\r\n                    <div class="columns">\r\n                        <div class="column is-6">\r\n                            <div class="field">\r\n                                <label class="label">Nombre:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'nombre\').hasError(\'required\')}" placeholder="nombre"\r\n                                        formControlName="nombre">\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                        <div class="column is-6">\r\n                            <div class="field">\r\n                                <label class="label">RFC:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'rfc\').hasError(\'required\') && ctrl.dato.get(\'rfc\').touched}"\r\n                                        placeholder="rfc" formControlName="rfc">\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'rfc\').hasError(\'required\') && ctrl.dato.get(\'rfc\').touched">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'rfc\').hasError(\'required\') && ctrl.dato.get(\'rfc\').touched">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="columns">\r\n                        <div class="column is-6">\r\n                            <div class="field">\r\n                                <label class="label">Direccion:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'direccion\').hasError(\'required\') && ctrl.dato.get(\'direccion\').touched}"\r\n                                        placeholder="direccion" formControlName="direccion">\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'direccion\').hasError(\'required\') && ctrl.dato.get(\'direccion\').touched">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'direccion\').hasError(\'required\') && ctrl.dato.get(\'direccion\').touched">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                        <div class="column is-6">\r\n                            <div class="field">\r\n                                <label class="label">Ciudad:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'ciudad\').hasError(\'required\') && ctrl.dato.get(\'ciudad\').touched}"\r\n                                        placeholder="ciudad" formControlName="ciudad">\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'ciudad\').hasError(\'required\') && ctrl.dato.get(\'ciudad\').touched">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'ciudad\').hasError(\'required\') && ctrl.dato.get(\'ciudad\').touched">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="columns">\r\n                        <div class="column is-6">\r\n                            <div class="field">\r\n                                <label class="label">Contacto:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'direccion\').hasError(\'required\') && ctrl.dato.get(\'direccion\').touched}"\r\n                                        placeholder="direccion" formControlName="direccion">\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'direccion\').hasError(\'required\') && ctrl.dato.get(\'direccion\').touched">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'direccion\').hasError(\'required\') && ctrl.dato.get(\'direccion\').touched">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                        <div class="column is-6">\r\n                            <div class="field">\r\n                                <label class="label">Cargo:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'cargo_contacto\').hasError(\'required\') && ctrl.dato.get(\'cargo_contacto\').touched}"\r\n                                        placeholder="cargo_contacto" formControlName="cargo_contacto">\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'cargo_contacto\').hasError(\'required\') && ctrl.dato.get(\'cargo_contacto\').touched">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'cargo_contacto\').hasError(\'required\') && ctrl.dato.get(\'cargo_contacto\').touched">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="columns">\r\n                        <div class="column is-6">\r\n                            <div class="field">\r\n                                <label class="label">Telefono:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'telefono\').hasError(\'required\') && ctrl.dato.get(\'telefono\').touched}"\r\n                                        placeholder="telefono" formControlName="telefono">\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'telefono\').hasError(\'required\') && ctrl.dato.get(\'telefono\').touched">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'telefono\').hasError(\'required\') && ctrl.dato.get(\'telefono\').touched">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                        <div class="column is-6">\r\n                            <div class="field">\r\n                                <label class="label">Celular:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'celular\').hasError(\'required\') && ctrl.dato.get(\'celular\').touched}"\r\n                                        placeholder="celular" formControlName="celular">\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'celular\').hasError(\'required\') && ctrl.dato.get(\'celular\').touched">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'celular\').hasError(\'required\') && ctrl.dato.get(\'celular\').touched">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class="columns">\r\n                        <div class="column is-6">\r\n                            <div class="field">\r\n                                <label class="label">Correo:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'email\').hasError(\'required\') && ctrl.dato.get(\'email\').touched}"\r\n                                        placeholder="correo" formControlName="email">\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'email\').hasError(\'required\') && ctrl.dato.get(\'email\').touched">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'email\').hasError(\'required\') && ctrl.dato.get(\'email\').touched">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                        <div class="column is-6">\r\n                            <br><br>\r\n                            <div class="b-checkbox">\r\n                                <input id="activo" class="styled" [checked]="ctrl.dato.get(\'activo\').value == \'1\' ? true : false" (change)="ctrl.dato.get(\'activo\').patchValue(ctrl.dato.get(\'activo\').value == \'1\' ? \'0\' : \'1\')"\r\n                                    type="checkbox">\r\n                                <label for="activo">\r\n                                    Es para super usuario\r\n                                </label>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                </section>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>'},"Kj/Q":function(e,t){e.exports=".estatus-rojo{\r\n    color:red !important;\r\n}\r\n.estatus-amarillo{\r\n    color:orange !important;\r\n}\r\n.estatus-verde{\r\n    color:#23d160;\r\n}\r\n.estatus-azul{\r\n    color:#3273dc;\r\n}\r\n.estatus-normal{\r\n    color:#555555;\r\n}\r\n.is-primary.is-inverted.is-loading {\r\n    background: #00947E;\r\n}"},Kjto:function(e,t){e.exports='<formulario #ctrl URL="presentaciones-medicamentos" titulo="Presentacion Medicamento / Catalogo" [dato]="dato"></formulario>\r\n<app-menu-catalogo></app-menu-catalogo>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:90%; padding-top: 1em;">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em;">\r\n        \x3c!-- formulario --\x3e\r\n        <form name="form" novalidate [formGroup]="dato" (ngSubmit)="ctrl.enviar()">\r\n            <div style="background: #FFF; overflow: hidden;">\r\n                <section class="hero is-primary">\r\n                    <div class="hero-body">\r\n                        \x3c!-- Opciones  --\x3e\r\n                        <formulario-opciones [ctrl]="ctrl" class="control is-grouped" style="position:absolute; top:8em; right:3em;">\r\n                        </formulario-opciones>\r\n                        <div class="container is-fluid">\r\n                            <h1 class="title">\r\n                                <span *ngIf="!ctrl.cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                <span *ngIf="ctrl.cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>                                {{ctrl.moduloTitulo}} presentacion medicamento\r\n                            </h1>\r\n\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>                    &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n                <section class="section">\r\n\r\n\r\n\r\n                    <div class="field">\r\n                        <label class="label">Nombre:</label>\r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                            <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'nombre\').hasError(\'required\')}" placeholder="nombre"\r\n                                formControlName="nombre">\r\n                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">Este campo es requerido.</span>\r\n                        </p>\r\n                    </div>\r\n\r\n                </section>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>'},Kly8:function(e,t){e.exports="@media only screen {\r\n\t.printable {\r\n\t\tdisplay: none;\r\n\t}\r\n}\r\n\r\n@media only print {\r\n\r\n\r\n\t.web {\r\n\t\tdisplay: none;\r\n\t}\r\n\t.printable {\r\n\t\tfont-family: Courier New, Courier, monospace\r\n\t}\r\n\th1,\r\n\th2 {\r\n\t\tpadding: none;\r\n\t}\r\n\t/*\r\n\t.printable {\r\n\t\ttext-align: center;\r\n\t\tdisplay: inherit;\r\n\t}\r\n\t.printable * {\r\n\t\tdisplay: inherit;\r\n\t}\r\n\t.printable > table > * {\r\n\t\tdisplay: inherit;\r\n\t}*/\r\n\r\n}"},LAUq:function(e,t){e.exports=""},LBt1:function(e,t){e.exports="pre {\r\n    white-space: pre-wrap;       /* Since CSS 2.1 */\r\n    white-space: -moz-pre-wrap;  /* Mozilla, since 1999 */\r\n    white-space: -pre-wrap;      /* Opera 4-6 */\r\n    white-space: -o-pre-wrap;    /* Opera 7 */\r\n    word-wrap: break-word;       /* Internet Explorer 5.5+ */\r\n    padding: 1em; margin: 0px;\r\n}"},LEUf:function(e,t){e.exports='<menu-farmacia [modulo]="\'Entregas\'" [icono]="\'assets/icono-entregas.svg\'" [url]="\'/almacen/entregas\'"></menu-farmacia>\r\n\r\n\r\n\r\n<div class="is-fullwidth has-text-centered" style="padding-top:70px;" *ngIf="cargando">\r\n  <br>\r\n  <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n  <br>\r\n  <br>\r\n</div>\r\n\r\n<div style="position:relative; padding-top:70px; margin-left: 1.5%; display:block; width:97%; height:100% !important;" *ngIf="pedido">    \r\n  <div class="tile is-ancestor is-vertical" style="height:100% !important; max-height:100% !important;">\r\n    <div class="tile is-parent is-12 ">\r\n      <div class="tile is-child notification is-dark">\r\n        \r\n        <div class="columns">\r\n          <div class="column" >\r\n            <div style="padding:1em;">Pedido no. <strong style="color:#FFF;">{{ id }}</strong> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Lotes: {{ lotesSurtidos.length  }} / {{ pedido.lista.length }}</div>\r\n          </div>\r\n          <div class="column is-4" style="text-align:center; ">\r\n            <div style="margin:1em;">\r\n            <a  class="button is-primary" style="width:45%; margin-right:5%;" (click)="surtir()"> <span class="icon"><i class="fa fa-check-circle"></i></span> <span>Surtir</span></a>\r\n            <a  class="button is-white"  style="width:45%"  routerLink="/almacen/entregas/"> Cancelar</a>\r\n            </div>\r\n          </div>\r\n        </div>       \r\n      </div>\r\n    </div>\r\n    <div class="tile">\r\n      <div class="tile is-parent ">\r\n        <div class="tile is-child notification is-white" >\r\n          <div class="contenedor-tabla" >\r\n                      \r\n            <table class="table is-unselectable" *ngIf="!cargando" style="font-size: 0.8em; ">\r\n              <thead>\r\n                  <tr  [ngClass]="{ \'filtro\': pedido.filtro.activo}">\r\n                    <th style="width:41px;vertical-align: middle;" class="has-text-centered" >Lote</th>\r\n                    <th>\r\n                      <p class="control is-expanded">\r\n                        <input type="hidden" #searchBoxDescripcionClavePrevia >\r\n                        <input class="input is-small" type="text" placeholder="Clave o Gen\xe9rico" #searchBoxDescripcionClave id="search-box-descripcion-clave-{{indexPedido}}" (keyup)="buscar($event,searchBoxDescripcionClave,searchBoxDescripcionClavePrevia,[{ input: searchBoxDescripcionClave, campos: [\'clave\',\'generico_nombre\',\'informacion.concentracion\',\'informacion.presentacion\']}])">\r\n                      </p>\r\n                    </th>  \r\n                    \r\n                    <th style="width:78px !important;text-align: center; vertical-align: middle;"><abbr title="Cantidad">Cant.</abbr></th>\r\n                    <th style="width:78px !important;text-align: center; vertical-align: middle;"><abbr title="Surtido">Surt.</abbr></th>\r\n                    <th  style="width:21px !important; text-align: center; vertical-align: middle;">Surtido</th>\r\n                  </tr>\r\n              </thead>\r\n              <tbody *ngIf="!pedido.filtro.activo">\r\n\r\n                <tr class="item" *ngFor="let item of pedido.paginacion.lista; let i = index;" (click)="seleccionarItem(item)" [ngClass]="{ \'seleccionado\': item == itemSeleccionado}">\r\n                  <td class="has-text-centered">{{ item.lote }}</td>\r\n                  <td >\r\n                    <small >{{ item.clave }} <br></small>\r\n                    <b>{{ item.generico_nombre }}</b> <small *ngIf="(item.tipo == \'ME\' && item.informacion)"><b>{{ item.informacion.concentracion }}</b></small><br>\r\n                    <div class="item-detalle">\r\n                      <div   *ngIf="(item.tipo == \'ME\' && item.informacion)" style="line-height:1em;">\r\n                        <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                        <small><i>{{ item.informacion.contenido }} </i></small>\r\n                      </div>\r\n                      <div   *ngIf="item.tipo != \'ME\'" style="line-height:1em;">\r\n                        <small>{{ item.descripcion }}</small>\r\n                      </div>\r\n                    \r\n                      <div  style="padding: 0.5em 0 0.5em 0; ">\r\n                        <span *ngIf="item.es_causes" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">CAUSES</span>\r\n                        <span *ngIf="!item.es_causes" class="tag is-danger" style="font-size: 0.7em !important;">NO CAUSES</span>\r\n                        <span *ngIf="item.es_cuadro_basico" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">Cuadro b\xe1sico</span>\r\n                        \r\n                        <span *ngIf="(item.tipo == \'ME\' && item.informacion)">\r\n                          <span *ngIf="item.informacion.es_controlado" class="tag is-warning" style="font-size: 0.7em">Controlado</span>\r\n                          <span *ngIf="item.informacion.es_surfactante" class="tag is-warning" style="font-size: 0.7em">Surfactante</span>  \r\n                        </span>\r\n                        \r\n                      </div>\r\n                    </div>\r\n                  </td> \r\n                  <td style="width:78px !important; text-align:center;">{{ item.cantidad }}</td>     \r\n                  <th style="width:78px !important; text-align:center;">{{ item.totalStockAsignado || 0 }}</th>                                  \r\n                  <td style="width:21px !important; text-align:center;">\r\n                    <span class="icon" style="color:gray;" *ngIf="item.totalStockAsignado == 0 || item.totalStockAsignado == null"><i class="fa fa-circle-thin"></i></span>\r\n                    <span class="icon" style="color:orange;" *ngIf="item.totalStockAsignado > 0 && item.totalStockAsignado < item.cantidad"><i class="fa fa-minus-circle"></i></span>\r\n                    <span class="icon" style="color:green;" *ngIf="item.totalStockAsignado == item.cantidad"><i class="fa fa-check-circle"></i></span>\r\n                  </td>\r\n                </tr>      \r\n              </tbody>\r\n              <tbody *ngIf="pedido.filtro.activo">\r\n                <tr class="item"  *ngFor="let item of pedido.filtro.paginacion.lista; let i = index;" (click)="seleccionarItem(item)" [ngClass]="{ \'seleccionado\': item == itemSeleccionado}">\r\n                  <td class="has-text-centered">{{ item.lote }}</td>\r\n                  <td >\r\n                    <small >{{ item.clave }} <br></small>\r\n                    <b>{{ item.generico_nombre }}</b> <small *ngIf="(item.tipo == \'ME\' && item.informacion)"><b>{{ item.informacion.concentracion }}</b></small><br>\r\n                    <div class="item-detalle">\r\n                      <div   *ngIf="(item.tipo == \'ME\' && item.informacion)" style="line-height:1em;">\r\n                        <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                        <small><i>{{ item.informacion.contenido }} </i></small>\r\n                      </div>\r\n                      <div   *ngIf="item.tipo != \'ME\'" style="line-height:1em;">\r\n                        <small>{{ item.descripcion }}</small>\r\n                      </div>\r\n                    \r\n                      <div  style="padding: 0.5em 0 0.5em 0; ">\r\n                        <span *ngIf="item.es_causes" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">CAUSES</span>\r\n                        <span *ngIf="!item.es_causes" class="tag is-danger" style="font-size: 0.7em !important;">NO CAUSES</span>\r\n                        <span *ngIf="item.es_cuadro_basico" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">Cuadro b\xe1sico</span>\r\n                        \r\n                        <span *ngIf="(item.tipo == \'ME\' && item.informacion)">\r\n                          <span *ngIf="item.informacion.es_controlado" class="tag is-warning" style="font-size: 0.7em">Controlado</span>\r\n                          <span *ngIf="item.informacion.es_surfactante" class="tag is-warning" style="font-size: 0.7em">Surfactante</span>  \r\n                        </span>\r\n                        \r\n                      </div>\r\n                    </div>\r\n                  </td> \r\n                  <td style="width:78px !important; text-align:center;">{{ item.cantidad }}</td>     \r\n                  <th style="width:78px !important; text-align:center;">0</th>                                  \r\n                  <td style="width:21px !important; text-align:center; color: gray"><span class="icon"><i class="fa fa-minus-circle"></i></span></td>\r\n                </tr>   \r\n              </tbody>              \r\n            </table>\r\n            <paginacion style=" width:100%; height:auto; bottom:0; left:0px; background:#FFF;"\r\n                [total]="pedido.lista.length" \r\n                [paginasTotales]="pedido.paginacion.totalPaginas" \r\n                [resultadosPorPagina]="pedido.paginacion.resultadosPorPagina" \r\n                [paginaActual]="pedido.paginacion.paginaActual" \r\n                [indicePaginas]="pedido.paginacion.indice"\r\n                (onSiguiente)="pedido.paginaSiguiente(); limpiarStock();" \r\n                (onAnterior)="pedido.paginaAnterior(); limpiarStock();" \r\n                (onListar)="pedido.listar($event);limpiarStock();" \r\n                *ngIf="pedido.lista.length > 0 && pedido.lista.length > pedido.paginacion.resultadosPorPagina && !pedido.filtro.activo"></paginacion>\r\n\r\n            <paginacion \r\n                [total]="pedido.filtro.lista.length" \r\n                [paginasTotales]="pedido.filtro.paginacion.totalPaginas" \r\n                [resultadosPorPagina]="pedido.filtro.paginacion.resultadosPorPagina" \r\n                [paginaActual]="pedido.filtro.paginacion.paginaActual" \r\n                [indicePaginas]="pedido.filtro.paginacion.indice"\r\n                (onSiguiente)="pedido.filtro.paginaSiguiente(); limpiarStock();" \r\n                (onAnterior)="pedido.filtro.paginaAnterior();  limpiarStock();" \r\n                (onListar)="pedido.filtro.listar($event); limpiarStock();" \r\n                *ngIf="pedido.filtro.lista.length > 0 && pedido.filtro.lista.length > pedido.filtro.paginacion.resultadosPorPagina && pedido.filtro.activo"></paginacion>\r\n\r\n\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n      <div class="tile is-parent is-vertical ">\r\n        <div class="tile is-child notification" style="background:#CCC;">\r\n          <div class="contenedor-tabla">\r\n            \r\n            <table class="table" *ngIf="!cargando" style="font-size: 0.8em;" >\r\n              <thead>\r\n                <tr>\r\n                  <td colspan="5">\r\n                    <h1 class="subtitle"><span class="icon"><i class="fa fa-archive"></i></span> Existencias</h1>\r\n                  </td>\r\n\r\n                </tr>\r\n                <tr>\r\n                  <td colspan="5">\r\n                    <p class="control">\r\n                      <input class="input" type="text" placeholder="C\xf3digo" #searchBoxStock (keyup)="buscarStock($event, searchBoxStock , searchBoxStock.value)" (focus)="searchBoxStock.select()" >\r\n                    </p>\r\n                  </td>\r\n\r\n                </tr>\r\n              \r\n                <tr>\r\n                  <th>C\xf3digo</th>\r\n                  <th>Marca</th>\r\n                  <th>Lote</th>\r\n                  <th>Caducidad</th>\r\n                  <th><abbr title="Cantidad">Cant.</abbr></th>                \r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                  <tr  class="is-unselectable item" *ngFor="let item of listaStock" (click)="asignarStock(item)" [ngClass]="{ \'asignado\': item.asignado }">\r\n                                      \r\n                    <td>{{ item.codigo_barras }}</td>\r\n                    <td>{{ item.marca.nombre }}</td>\r\n                    <td>{{ item.lote }}</td>\r\n                    <td>{{ item.fecha_caducidad | date:\'dd/MM/y\' }}</td>\r\n                    <td style="width:78px !important;">{{ item.existencia }}</td>   \r\n                  </tr>  \r\n                  <tr *ngIf="claveNoSolicitada">\r\n                    <td colspan="5">La clave de este producto no fue solicitada en el pedido.</td>\r\n                  </tr> \r\n                  <tr *ngIf="listaStock == 0 && itemSeleccionado == null && !cargando && !claveNoSolicitada">\r\n                    <td colspan="5">Sin resultados.</td>\r\n                  </tr> \r\n                  <tr *ngIf="listaStock == 0 && itemSeleccionado != null && !cargando && !claveNoSolicitada">\r\n                    <td colspan="5">No hay stock.</td>\r\n                  </tr>                    \r\n              </tbody>  \r\n            </table>\r\n\r\n            <div class="is-fullwidth has-text-centered" style="padding-top:0px;" *ngIf="cargandoStock">\r\n              <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n              <br>\r\n              <br>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="tile is-child  notification is-white">\r\n          <div class="contenedor-tabla">\r\n            <table class="table" *ngIf="!cargando && itemSeleccionado != null" style="font-size: 0.8em;" >\r\n              <thead>\r\n                  <tr style="background: #00d1b2;">\r\n                    <th style="color:#FFF !important;">C\xf3digo</th>\r\n                    <th style="color:#FFF !important;">Marca</th>\r\n                    <th style="color:#FFF !important;">Lote</th>\r\n                    <th style="color:#FFF !important;">Caducidad</th>\r\n                    <th style="color:#FFF !important;"><abbr title="Cantidad">Cant.</abbr></th>  \r\n                    <th></th>              \r\n                  </tr>\r\n              </thead>\r\n              <tfoot>\r\n                <tr>\r\n                  <th colspan="4" style="text-align:right">\r\n                    <span *ngIf="itemSeleccionado.totalStockAsignado == itemSeleccionado.cantidad"><span class="icon is-small" ><i class="fa fa-check-circle"></i></span> <span>Completo &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> Total </span>\r\n                  </th>\r\n                  <td style="text-align:center">{{ itemSeleccionado.totalStockAsignado || 0 }} / {{ itemSeleccionado.cantidad }}</td>\r\n                </tr>\r\n              </tfoot>\r\n              <tbody>\r\n                  <tr  class="is-unselectable" *ngFor="let item of itemSeleccionado.listaStockAsignado">\r\n                                      \r\n                    <td>{{ item.codigo_barras}}</td>\r\n                    <td>{{ item.marca.nombre }}</td>\r\n                    <td>{{ item.lote }}</td>\r\n                    <td>{{ item.fecha_caducidad | date:\'dd/MM/y\' }}</td>\r\n                    <td style="width:78px !important;">\r\n                        <p class="control is-expanded">\r\n                        <input class="input is-small has-text-centered"  type="number" min="1" max="{{item.existencia}}" placeholder="Cant" [(ngModel)]="item.cantidad" (change)="validarItemStock(item, true)" (keyup)="validarItemStock(item)">\r\n                        </p>\r\n                    </td> \r\n                    <td style="vertical-align: middle;" class="has-text-centered"><a  class="is-danger" (click)="eliminarStock(i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>                    \r\n                  </tr>\r\n                  \r\n                      \r\n              </tbody>  \r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n  </div>\r\n</div>\r\n  \r\n\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style="text-align:center" ><a  class="button is-danger is-inverted" (click)="ultimaPeticion(); mensajeError.mostrar = false"> <span class="icon"><i class="fa fa-refresh"></i></span> <span>Volver a intentar</span></a></p>        \r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n\r\n\r\n'},LSt6:function(e,t){e.exports=""},LT4s:function(e,t){e.exports=".unidad-trabajo {\r\n\tfont-size: 0.7em;\r\n\ttext-align: right !important;\r\n\tpadding: 1em;\r\n    vertical-align: middle;\r\n    text-shadow: 2px 2px slategray;\r\n}"},LY65:function(e,t){e.exports=""},LZf2:function(e,t){e.exports='<app-menu-almacen-estandar></app-menu-almacen-estandar>\r\n\r\n<div style="height:50px;"></div>\r\n<section style="padding: 1em;">\r\n  <div class="control is-grouped">\r\n    <p class="control is-expanded">\r\n        <input class="input is-medium" type="text" placeholder="Buscar" [(ngModel)] = "busqueda" id="search-box">\r\n    </p>\r\n    <p class="control">\r\n        <a class="button is-medium is-primary is-inverted" [ngClass]="{ \'is-disabled\': busqueda==\'\'}" (click)="busqueda=\'\'">\r\n        <span class="icon"><i class="fa fa-close"></i></span>\r\n        </a>\r\n    </p>\r\n  </div>\r\n\r\n</section>\r\n<section style="padding: 1em;">\r\n    <section class="contenedor columns is-multiline is-mobile">\r\n        <div class="column is-1-desktop is-2-tablet is-3-mobile" *ngFor="let item of accesosDirectosAutorizados | buscarModulo: busqueda">\r\n            <a href="#" title="{{ item.titulo}}" class="item" routerLink="{{item.url}}"  routerLinkActive="active">\r\n                <figure class="image " style="height: auto; width: 100%; ">\r\n                    <img src="{{ item.icono }}" alt="{{item.titulo}}">                            \r\n                </figure>\r\n                <span class="is-hidden-mobile">{{ item.titulo}}</span>\r\n                <span class="is-hidden-tablet is-hidden-desktop"><small>{{ item.titulo}}</small></span>\r\n            </a>\r\n        </div>\r\n    </section>\r\n    <hr>\r\n    <section class="contenedor columns is-multiline is-mobile">\r\n        <div class="column is-1-desktop is-2-tablet is-3-mobile" *ngFor="let item of modulosAutorizados | buscarModulo: busqueda">\r\n            <a href="#" title="{{ item.titulo}}" style="position: relative;" class="item" routerLink="{{item.url}}" routerLinkActive="active">\r\n                \r\n                <figure class="image " style="height: auto; width: 100%; ">\r\n                    <img src="{{ item.icono }}" alt="{{item.titulo}}">                            \r\n                </figure>\r\n                <span class="is-hidden-mobile">{{ item.titulo}}</span>\r\n                <span class="is-hidden-tablet is-hidden-desktop"><small>{{ item.titulo}}</small></span>\r\n                <span *ngIf="item.badge>0" class="tag is-danger" style="position:absolute; top:0px; right:0px;">{{ item.badge }}</span>\r\n            </a>\r\n        </div>\r\n    </section>\r\n</section>\r\n\r\n'},LeRw:function(e,t){e.exports='<formulario #ctrl URL="sincronizar-recetas" titulo="Sincronizar receta" [dato]="dato"></formulario>\r\n<menu-farmacia [modulo]="\'Sincronizar recetas\'" [icono]="\'assets/hub-farmacia-sub.svg\'" [url]="\'/farmacia-subrrogada/sincronizar-recetas\'"></menu-farmacia>\r\n<div style="height:50px;"></div>\r\n<form name="form" novalidate [formGroup]="dato" (ngSubmit)="ctrl.enviar()" #mainScreen>\r\n    \x3c!-- apartado de insumos --\x3e\r\n    <div class="column" style="padding:1em;" >\r\n        <div style="background: #FFF; border-radius: 1em; ">\r\n            <section class="hero is-primary" >\r\n                <div class="hero-body" >\r\n                    \r\n                    <div class="container is-fluid">\r\n                        <h1 class="title">\r\n                            <span *ngIf="!ctrl.cargando || !cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                            <span *ngIf="ctrl.cargando || cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>                                Recetas JSON\r\n                        </h1>\r\n\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>                    &nbsp;<span>Cargando...</span></span>\r\n            </div>\r\n            <section class="section" [style.height.px]="tamano">\r\n\r\n                <div class="is-half">\r\n                    <div class="field has-addons">\r\n                        <label class="label">Archivo JSON:</label>\r\n                        <p class="control is-expanded  has-icon has-icon-right" style="float:left; width: 95.1%;" >\r\n                            <input class="input" type="file" (change)="ctrl.convertirJson($event, ctrl.dato.controls.json)" accept=".json, .txt">\r\n                            <input type="hidden" formControlName="json">\r\n                        </p>\r\n                        <p class="control" style="float:left">\r\n                            <button class="button is-primary" type="submit" [ngClass]="{\'is-loading\': ctrl.cargando}" [disabled]="ctrl.error_json">Enviar</button>\r\n                        </p>\r\n                    </div>\r\n                    \r\n                </div>\r\n                <div>                            \r\n                    <figure class="highlight" style="width: 100%;">\r\n                        \r\n                        <pre [style.height.px]="tamano/1.8">\r\n                            <span class="help is-danger" *ngIf="ctrl.error_json">El archivo no es valido o no tiene el formato adecuado.</span>\r\n                            <code class="language-json" data-lang="json">{{ ctrl.dato.controls.json.value | json }}</code>\r\n                        </pre>                        \r\n                    </figure>\r\n                </div>\r\n            </section>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="column" style="padding:1em;">\r\n        <div style="background: #FFF; border-radius: 1em; ">\r\n            <section class="hero is-primary" >\r\n                <div class="hero-body" >\r\n                    \r\n                    <div class="container is-fluid">\r\n                        <h1 class="title">\r\n                            <span *ngIf="!ctrl.cargando || !cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                            <span *ngIf="ctrl.cargando || cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>                                Recetas Imagen\r\n                        </h1>\r\n\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>                    &nbsp;<span>Cargando...</span></span>\r\n            </div>\r\n            <section class="section" >\r\n\r\n                <div class="is-half">\r\n                    <div class="field has-addons">\r\n                        <label class="label">Imagen Receta:</label>\r\n                        <p class="control is-expanded  has-icon has-icon-right" style="float:left; width: 95.1%;" >\r\n                            <input class="input" type="file" multiple (change)="ctrl.seleccionarImagenBase64($event, ctrl.dato.controls.archivos, true)" accept=".jpeg, .jpg, .gif, .bmp, .png">\r\n                            <input type="hidden" formControlName="archivos">\r\n                        </p>\r\n                        <p class="control" style="float:left">\r\n                            <button class="button is-primary" type="submit" [ngClass]="{\'is-loading\': ctrl.cargando}" [disabled]="ctrl.dato.controls.archivos.value == \'\'">Enviar</button>\r\n                        </p>\r\n                    </div>\r\n                    \r\n                </div>\r\n                <figure class="highlight" style="width: 100%;">\r\n                    <div *ngFor="let item of ctrl.dato.controls.archivos.value; let i=index">\r\n                        <img  [src]="\'data:image/png;base64,\' + item" \r\n                        width="10%" style="float:left; border-style: dashed; border-radius: 5px;" (click)="abrirModal(\'verFoto\', item)">\r\n                    </div>\r\n                </figure>\r\n                \r\n            </section>\r\n        </div>\r\n    </div>\r\n    \r\n</form>\r\n\r\n<div class="modal" id="verFoto">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-content">\r\n        <p class="image is-4by3">\r\n            <img [src]="\'data:image/jpg;base64,\' + foto" alt="Receta" />\r\n        </p>\r\n    </div>\r\n    <button type="button" class="modal-close" (click)="cancelarModal(\'verFoto\')"></button>\r\n</div>'},"Lg+O":function(e,t){e.exports='<menu-farmacia [modulo]="\'Surtir\'" [icono]="\'assets/icono-entregas.svg\'" [url]="\'/almacen/transferencia-almacen/por-surtir\'"></menu-farmacia>\r\n\r\n<div class="is-fullwidth has-text-centered" style="padding-top:70px;" *ngIf="cargando">\r\n  <br>\r\n  <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n  <br>\r\n  <br>\r\n</div>\r\n\r\n<div style="position:relative; padding-top:70px; margin-left: 1.5%; display:block; width:97%; height:100% !important;" *ngIf="pedido">    \r\n  <div class="tile is-ancestor is-vertical" style="height:100% !important; max-height:100% !important;">\r\n    <div class="tile is-parent is-12 ">\r\n      <div class="tile is-child notification is-dark">\r\n        \r\n        <div class="columns">\r\n          <div class="column" *ngIf="pedido.datosImprimir">\r\n            <div>Folio: <strong style="color:#FFF;">{{ pedido.datosImprimir.folio }}</strong> \r\n              <span *ngIf="pedidoPorSurtir">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Lotes: {{ lotesSurtidos.length  }} / {{ pedido.lista.length }}</span>\r\n              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span *ngIf="pedidoSurtido && !pedidoEntregado"><strong style="color:#FFF;">Pedido Surtido</strong></span>\r\n              <span *ngIf="pedidoEntregado"><strong style="color:#FFF;">Pedido Entregado</strong></span><br>\r\n              <span *ngIf="pedido.datosImprimir && pedido.datosImprimir.clues_destino && pedido.datosImprimir.clues_destino != pedido.datosImprimir.clues"><small>\r\n                Almacen destino: <strong style="color:#FFF;"> [{{ pedido.datosImprimir.almacen_solicitante.clues }}] {{ pedido.datosImprimir.almacen_solicitante.nombre }}</strong><br>\r\n                Clues destino: <strong style="color:#FFF;"> {{ pedido.datosImprimir.almacen_solicitante.unidad_medica.nombre }}</strong><br>\r\n              </small></span>\r\n            </div>\r\n          </div>\r\n          <div class="column is-5" style="text-align:right; ">\r\n            <div class="block" style="margin:1em;" *ngIf="pedidoPorSurtir">\r\n              <a class="button is-primary" (click)="surtir()"> <span class="icon"><i class="fa fa-check-circle"></i></span> <span>Surtir</span></a>\r\n              <a *ngIf="!permitirResurtir" class="button is-white"  routerLink="/almacen/transferencia-almacen/en-transito"> Regresar</a>\r\n              <a *ngIf="permitirResurtir" class="button is-white"  (click)="cancelarVolverASurtir()"> No surtir</a>\r\n            </div>\r\n            <div class="block" style="margin:1em;" *ngIf="!pedidoPorSurtir">\r\n              <a *ngIf="permitirResurtir"  class="button is-primary" (click)="volverASurtir()"> <span class="icon"><i class="fa fa-repeat"></i></span> <span>Volver a Surtir</span></a>\r\n              <a *ngIf="permitirResurtir" class="button is-danger"  (click)="mostrarDialogoCancelarTransferencia()"> <span class="icon"><i class="fa fa-ban"></i></span> <span>Cancelar Transferencia</span></a>\r\n              <a  class="button is-white"  routerLink="/almacen/transferencia-almacen/en-transito"> Regresar</a>\r\n            </div>\r\n          </div>\r\n        </div>       \r\n      </div>\r\n    </div>\r\n    <div class="tile">\r\n      <div class="tile is-parent ">\r\n        <div class="tile is-child notification is-white" >\r\n          <div class="contenedor-tabla" >\r\n            <table class="table is-unselectable" *ngIf="!cargando" style="font-size: 0.8em; ">\r\n              <thead>\r\n                  <tr  [ngClass]="{ \'filtro\': pedido.filtro.activo}">\r\n                    <th style="width:41px;vertical-align: middle;" class="has-text-centered" >Lote</th>\r\n                    <th>\r\n                      <p class="control is-expanded">\r\n                        <input type="hidden" #searchBoxDescripcionClavePrevia >\r\n                        <input class="input is-small" type="text" placeholder="Clave o Gen\xe9rico" #searchBoxDescripcionClave id="search-box-descripcion-clave-{{indexPedido}}" (keyup)="buscar($event,searchBoxDescripcionClave,searchBoxDescripcionClavePrevia,[{ input: searchBoxDescripcionClave, campos: [\'clave\',\'generico_nombre\',\'informacion.concentracion\',\'informacion.presentacion\']}])">\r\n                      </p>\r\n                    </th>  \r\n                    \r\n                    <th *ngIf="pedidoPorSurtir || pedidoSurtido" style="width:78px !important;text-align: center; vertical-align: middle;"><abbr title="Cantidad Surtida/Solicitada">Cant.</abbr></th>\r\n                    <th *ngIf="pedidoPorSurtir || pedidoSurtido" style="width:78px !important;text-align: center; vertical-align: middle;"><abbr title="Lotes a surtir">Lotes</abbr></th>\r\n\r\n                    <th *ngIf="pedidoEntregado" style="width:78px !important;text-align: center; vertical-align: middle;"><abbr title="Enviado/Solicitado">Env/Sol</abbr></th>\r\n                    <th *ngIf="pedidoEntregado" style="width:78px !important;text-align: center; vertical-align: middle;"><abbr title="Entregado">Entregado</abbr></th>\r\n\r\n                    <th  style="width:21px !important; text-align: center; vertical-align: middle;">Surtido</th>\r\n\r\n                    <th *ngIf="pedidoEntregado" style="width:21px !important; text-align: center; vertical-align: middle;"><abbr title="Seleccionar clave">Selec</abbr></th>\r\n                  </tr>\r\n              </thead>\r\n\r\n              <tbody *ngIf="!pedido.filtro.activo">\r\n                  <tr class="item" *ngFor="let item of pedido.paginacion.lista; let i = index;" (click)="seleccionarItem(item)" [ngClass]="{ \'seleccionado\': item == itemSeleccionado}">\r\n                      <td class="has-text-centered">{{ item.lote }}</td>\r\n                      <td >\r\n                        <small >{{ item.clave }} <br></small>\r\n                          <div style="line-height:1em;">\r\n                            <small>{{ item.descripcion }}</small>\r\n                          </div>\r\n                        \x3c!--b>{{ item.generico_nombre }}</b> <small *ngIf="(item.tipo == \'ME\' && item.informacion)"><b>{{ item.informacion.concentracion }}</b></small><br--\x3e\r\n                        <div class="item-detalle">\r\n                          \x3c!--div   *ngIf="(item.tipo == \'ME\' && item.informacion)" style="line-height:1em;">\r\n                            <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                            <small><i>{{ item.informacion.contenido }} </i></small>\r\n                          </div>\r\n                          <div *ngIf="item.tipo != \'ME\'" style="line-height:1em;">\r\n                            <small>{{ item.descripcion }}</small>\r\n                          </div--\x3e\r\n                          <div  style="padding: 0.5em 0 0.5em 0; ">\r\n                            <span *ngIf="(item.es_causes && item.tipo == \'ME\')" class="tag is-success" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">CAUSES</span>\r\n                            <span *ngIf="(!item.es_causes && item.tipo == \'ME\')" class="tag is-danger" style="font-size: 0.7em !important;">NO CAUSES</span>\r\n                            <span *ngIf="item.tipo == \'MC\'" class="tag is-warning" style="font-size: 0.7em !important;">MATERIAL CURACI\xd3N</span>\r\n                            <span *ngIf="item.es_cuadro_basico" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">Cuadro b\xe1sico</span>\r\n                            \r\n                            <span *ngIf="(item.tipo == \'ME\' && item.informacion)">\r\n                              <span *ngIf="item.informacion.es_controlado" class="tag is-warning" style="font-size: 0.7em">Controlado</span>\r\n                              <span *ngIf="item.informacion.es_surfactante" class="tag is-warning" style="font-size: 0.7em">Surfactante</span>  \r\n                            </span>\r\n                            \r\n                          </div>\r\n                        </div>\r\n                      </td> \r\n                      <td *ngIf="pedidoPorSurtir || pedidoSurtido" style="width:78px !important; text-align:center;">{{ ((item.totalStockAsignado || 0) + ((pedidoSurtido && !permitirResurtir)?(item.cantidad_enviada || 0):(item.cantidad_recibida || 0))) }} / {{ item.cantidad_solicitada }}</td>\r\n                      <th *ngIf="pedidoPorSurtir || pedidoSurtido" style="width:78px !important; text-align:center;">{{ (item.listaStockAsignado)?item.listaStockAsignado.length:0 }}</th>\r\n\r\n                      <td *ngIf="pedidoEntregado" style="width:78px !important; text-align:center;">{{ (item.cantidad_enviada || 0) | number }} / {{ item.cantidad_solicitada | number }}</td>\r\n                      <th *ngIf="pedidoEntregado" style="width:78px !important; text-align:center;">{{ (item.cantidad_recibida || 0) | number }}</th>\r\n\r\n                      <td *ngIf="pedidoPorSurtir || pedidoSurtido" style="width:21px !important; text-align:center;">\r\n                        \x3c!--span class="icon" style="color:gray;" *ngIf="item.totalStockAsignado == 0 || item.totalStockAsignado == null"><i class="fa fa-circle-thin"></i></span>\r\n                        <span class="icon" style="color:orange;" *ngIf="item.totalStockAsignado > 0 && item.totalStockAsignado < item.cantidad"><i class="fa fa-minus-circle"></i></span>\r\n                        <span class="icon" style="color:green;" *ngIf="item.totalStockAsignado == item.cantidad"><i class="fa fa-check-circle"></i></span--\x3e\r\n                        <span class="icon" style="color:gray;" *ngIf="item.cantidad_a_surtir == item.cantidad_solicitada"><i class="fa fa-circle-thin"></i></span>\r\n                        <span class="icon" style="color:orange;" *ngIf="item.cantidad_a_surtir > 0 && item.cantidad_a_surtir < item.cantidad_solicitada"><i class="fa fa-minus-circle"></i></span>\r\n                        <span class="icon" style="color:green;" *ngIf="item.cantidad_a_surtir == 0"><i class="fa fa-check-circle"></i></span>\r\n                      </td>\r\n                      \r\n                      <td *ngIf="pedidoEntregado" style="width:21px !important; text-align:center;">\r\n                        <span class="icon" style="color:gray;" *ngIf="!item.cantidad_enviada"><i class="fa fa-circle-thin"></i></span>\r\n                        <span class="icon" style="color:orange;" *ngIf="item.cantidad_enviada > 0 && item.cantidad_recibida < item.cantidad_enviada"><i class="fa fa-minus-circle"></i></span>\r\n                        <span class="icon" style="color:green;" *ngIf="item.cantidad_enviada > 0 && item.cantidad_enviada == item.cantidad_recibida"><i class="fa fa-check-circle"></i></span>\r\n                      </td>\r\n\r\n                      <td *ngIf="pedidoEntregado">\r\n                        <label *ngIf="item.puede_seleccionar">\r\n                            <span class="icon"><i class="fa" [ngClass]="{ \'fa-square-o\':!item.marcados, \'fa-check-square-o\':item.marcados }"></i></span>\r\n                            <input type="checkbox" [(ngModel)]="item.marcados" (change)="marcarClaves(item.marcados,item.clave)" style="display:none;"/>\r\n                        </label>\r\n                      </td>\r\n                    </tr>\r\n              </tbody>\r\n\r\n              <tbody *ngIf="pedido.filtro.activo">\r\n                  <tr class="item"  *ngFor="let item of pedido.filtro.paginacion.lista; let i = index;" (click)="seleccionarItem(item)" [ngClass]="{ \'seleccionado\': item == itemSeleccionado}">\r\n                      <td class="has-text-centered">{{ item.lote }}</td>\r\n                      <td >\r\n                        <small >{{ item.clave }} <br></small>\r\n                        \x3c!--b>{{ item.generico_nombre }}</b> <small *ngIf="(item.tipo == \'ME\' && item.informacion)"><b>{{ item.informacion.concentracion }}</b></small><br--\x3e\r\n                        <div class="item-detalle">\r\n                          \x3c!--div   *ngIf="(item.tipo == \'ME\' && item.informacion)" style="line-height:1em;">\r\n                            <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                            <small><i>{{ item.informacion.contenido }} </i></small>\r\n                          </div>\r\n                          <div   *ngIf="item.tipo != \'ME\'" style="line-height:1em;">\r\n                            <small>{{ item.descripcion }}</small>\r\n                          </div--\x3e\r\n    \r\n                          <div style="line-height:1em;">\r\n                            <small>{{ item.descripcion }}</small>\r\n                          </div>\r\n                        \r\n                          <div  style="padding: 0.5em 0 0.5em 0; ">\r\n                            <span *ngIf="(item.es_causes && item.tipo == \'ME\')" class="tag is-success" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">CAUSES</span>\r\n                            <span *ngIf="(!item.es_causes && item.tipo == \'ME\')" class="tag is-danger" style="font-size: 0.7em !important;">NO CAUSES</span>\r\n                            <span *ngIf="item.tipo == \'MC\'" class="tag is-warning" style="font-size: 0.7em !important;">MATERIAL CURACI\xd3N</span>\r\n                            <span *ngIf="item.es_cuadro_basico" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">Cuadro b\xe1sico</span>\r\n                            \r\n                            <span *ngIf="(item.tipo == \'ME\' && item.informacion)">\r\n                              <span *ngIf="item.informacion.es_controlado" class="tag is-warning" style="font-size: 0.7em">Controlado</span>\r\n                              <span *ngIf="item.informacion.es_surfactante" class="tag is-warning" style="font-size: 0.7em">Surfactante</span>  \r\n                            </span>\r\n                            \r\n                          </div>\r\n                        </div>\r\n                      </td> \r\n                      <td style="width:78px !important; text-align:center;">{{ item.totalStockAsignado || 0 }} / {{ item.cantidad }}</td>     \r\n                      <th style="width:78px !important; text-align:center;">{{ (item.listaStockAsignado)?item.listaStockAsignado.length:0 }}</th>\r\n                      <td style="width:21px !important; text-align:center;">\r\n                        <span class="icon" style="color:gray;" *ngIf="item.totalStockAsignado == 0 || item.totalStockAsignado == null"><i class="fa fa-circle-thin"></i></span>\r\n                        <span class="icon" style="color:orange;" *ngIf="item.totalStockAsignado > 0 && item.totalStockAsignado < item.cantidad"><i class="fa fa-minus-circle"></i></span>\r\n                        <span class="icon" style="color:green;" *ngIf="item.totalStockAsignado == item.cantidad"><i class="fa fa-check-circle"></i></span>\r\n                      </td>\r\n                    </tr>   \r\n              </tbody>              \r\n            </table>\r\n            <paginacion style=" width:100%; height:auto; bottom:0; left:0px; background:#FFF;"\r\n                [total]="pedido.lista.length" \r\n                [paginasTotales]="pedido.paginacion.totalPaginas" \r\n                [resultadosPorPagina]="pedido.paginacion.resultadosPorPagina" \r\n                [paginaActual]="pedido.paginacion.paginaActual" \r\n                [indicePaginas]="pedido.paginacion.indice"\r\n                (onSiguiente)="pedido.paginaSiguiente(); limpiarStock();" \r\n                (onAnterior)="pedido.paginaAnterior(); limpiarStock();" \r\n                (onListar)="pedido.listar($event);limpiarStock();" \r\n                *ngIf="pedido.lista.length > 0 && pedido.lista.length > pedido.paginacion.resultadosPorPagina && !pedido.filtro.activo"></paginacion>\r\n\r\n            <paginacion \r\n                [total]="pedido.filtro.lista.length" \r\n                [paginasTotales]="pedido.filtro.paginacion.totalPaginas" \r\n                [resultadosPorPagina]="pedido.filtro.paginacion.resultadosPorPagina" \r\n                [paginaActual]="pedido.filtro.paginacion.paginaActual" \r\n                [indicePaginas]="pedido.filtro.paginacion.indice"\r\n                (onSiguiente)="pedido.filtro.paginaSiguiente(); limpiarStock();" \r\n                (onAnterior)="pedido.filtro.paginaAnterior();  limpiarStock();" \r\n                (onListar)="pedido.filtro.listar($event); limpiarStock();" \r\n                *ngIf="pedido.filtro.lista.length > 0 && pedido.filtro.lista.length > pedido.filtro.paginacion.resultadosPorPagina && pedido.filtro.activo"></paginacion>\r\n\r\n\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n      <div class="tile is-parent is-vertical ">\r\n        <div class="tile is-child notification" style="background:#CCC;"  *ngIf="pedidoPorSurtir">\r\n          <div class="contenedor-tabla">\r\n            <table class="table" *ngIf="!cargando" style="font-size: 0.8em;" >\r\n              <thead>\r\n                <tr>\r\n                  <td colspan="5">\r\n                    <h1 class="subtitle"><span class="icon"><i class="fa fa-archive"></i></span> Existencias</h1>\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td colspan="5">\r\n                    <p class="control">\r\n                      <input class="input" type="text" placeholder="C\xf3digo" #searchBoxStock (keyup)="buscarStock($event, searchBoxStock , searchBoxStock.value)" (focus)="searchBoxStock.select()" >\r\n                    </p>\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <th>C\xf3digo</th>\r\n                  <th>Lote</th>\r\n                  <th>Caducidad</th>\r\n                  <th>Existencia</th>\r\n                  <th>Asignado</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                  <tr  class="is-unselectable item" *ngFor="let item of listaStock" (click)="asignarStock(item)" [ngClass]="{ \'asignado\': item.asignado }">\r\n                    <td>{{ item.codigo_barras }}</td>\r\n                    <td>{{ item.lote }}</td>\r\n                    <td>{{ item.fecha_caducidad | date:\'dd/MM/y\' }}</td>\r\n                    <td style="width:78px !important;">{{ (item.existencia - item.cantidad_asignada) | number:\'1.0\' }}</td>\r\n                    <td style="width:78px !important;">{{ item.cantidad_asignada | number:\'1.0\'}}</td>\r\n                  </tr>  \r\n                  <tr *ngIf="claveNoSolicitada">\r\n                    <td colspan="5">La clave de este producto no fue solicitada en el pedido.</td>\r\n                  </tr> \r\n                  <tr *ngIf="listaStock == 0 && itemSeleccionado == null && !cargando && !claveNoSolicitada">\r\n                    <td colspan="5">Sin resultados.</td>\r\n                  </tr> \r\n                  <tr *ngIf="listaStock == 0 && itemSeleccionado != null && !cargando && !claveNoSolicitada">\r\n                    <td colspan="5">No hay stock.</td>\r\n                  </tr>                    \r\n              </tbody>  \r\n            </table>\r\n\r\n            <div class="is-fullwidth has-text-centered" style="padding-top:0px;" *ngIf="cargandoStock">\r\n              <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n              <br>\r\n              <br>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="tile is-child  notification is-white" *ngIf="pedidoPorSurtir || pedidoSurtido">\r\n          <div class="contenedor-tabla">\r\n            <table class="table" *ngIf="!cargando && itemSeleccionado != null" style="font-size: 0.8em;" >\r\n              <thead>\r\n                  <tr style="background: #00d1b2;">\r\n                    <th style="color:#FFF !important;">C\xf3digo</th>\r\n                    <th style="color:#FFF !important;">Lote</th>\r\n                    <th style="color:#FFF !important;">Caducidad</th>\r\n                    <th style="color:#FFF !important;"><abbr title="Cantidad">Cant.</abbr></th>  \r\n                    <th></th>              \r\n                  </tr>\r\n              </thead>\r\n              <tfoot>\r\n                <tr>\r\n                  <th colspan="4" style="text-align:right">\r\n                    <span *ngIf="itemSeleccionado.totalStockAsignado == itemSeleccionado.cantidad"><span class="icon is-small" ><i class="fa fa-check-circle"></i></span> <span>Completo &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> Total </span>\r\n                  </th>\r\n                  <td style="text-align:center">{{ itemSeleccionado.totalStockAsignado || 0 }} / {{ itemSeleccionado.cantidad }}</td>\r\n                </tr>\r\n              </tfoot>\r\n              <tbody>\r\n                  <tr  class="is-unselectable" *ngFor="let item of itemSeleccionado.listaStockAsignado">\r\n                    <td>{{ item.codigo_barras}}</td>\r\n                    <td>{{ item.lote }}</td>\r\n                    <td>{{ item.fecha_caducidad | date:\'dd/MM/y\' }}</td>\r\n                    <td style="width:78px !important;">\r\n                        <p class="control is-expanded">\r\n                        <input class="input is-small has-text-centered"  type="number" min="1" max="{{item.existencia}}" placeholder="Cant" [(ngModel)]="item.cantidad" (change)="validarItemStock(item, true)" (keyup)="validarItemStock(item)">\r\n                        </p>\r\n                    </td> \r\n                    <td style="vertical-align: middle;" class="has-text-centered"><a  class="is-danger" (click)="eliminarStock(i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>                    \r\n                  </tr>    \r\n              </tbody>  \r\n            </table>\r\n          </div>\r\n        </div>\r\n\r\n        <div class="tile is-child box notification is-white is-12"  *ngIf="pedidoEntregado && !permitirResurtir">\r\n          <a class="button is-danger is-pulled-right" (click)="eliminarDelInventario()">Eliminar del inventario</a>\r\n          <a class="button is-info is-pulled-left" (click)="reintegrarAlInventario()">Reintegrar al inventario</a>\r\n        </div>\r\n\r\n        <div class="tile is-child  notification is-white"  *ngIf="pedidoEntregado">\r\n          <div class="contenedor-tabla">\r\n            <table class="table is-unselectable" *ngIf="!cargando && itemsDevueltos != null" style="font-size: 0.8em;" >\r\n              <thead>\r\n                <tr style="background: #00d1b2;">\r\n                  <th colspan="5" style="color:#FFF !important; text-align:center;" >Lotes No Entregados</th>\r\n                </tr>\r\n                <tr style="background: #00d1b2;">\r\n                  <th style="color:#FFF !important;">\r\n                    <label>\r\n                        <span class="icon"><i class="fa" [ngClass]="{ \'fa-square-o\':!marcarTodosStatus, \'fa-check-square-o\':marcarTodosStatus }"></i></span>\r\n                        <input type="checkbox" [(ngModel)]="marcarTodosStatus" (change)="marcarTodos()" style="display:none;"/>\r\n                    </label>\r\n                  </th>\r\n                  <th style="color:#FFF !important;">Clave</th>\r\n                  <th style="color:#FFF !important;">Lote</th>\r\n                  <th style="color:#FFF !important;">Caducidad</th>\r\n                  <th style="color:#FFF !important; text-align:center"><abbr title="Cantidad">Cant.</abbr></th>\r\n                </tr>\r\n              </thead>\r\n              <tfoot>\r\n                <tr>\r\n                  <th colspan="3">\x3c!--small>*Los insumos no entregados seran marcados como merma en un ajuste menos al inventario</small--\x3e</th>\r\n                  <th style="text-align:right">Total</th>\r\n                  <td style="text-align:center">{{ itemsDevueltos.cantidad || 0 }}</td>\r\n                </tr>\r\n              </tfoot>\r\n              <tbody>\r\n                  <tr  class="item" *ngFor="let item of itemsDevueltos.listaStock" [ngClass]="{ \'seleccionado\': (itemSeleccionado)?(itemSeleccionado.clave == item.clave):false}" (click)="marcarLote(item)">\r\n                    <td>\r\n                      <label *ngIf="item.activo">\r\n                          <span class="icon" (click)="marcarLote(item)"><i class="fa" [ngClass]="{ \'fa-square-o\':!item.seleccionado, \'fa-check-square-o\':item.seleccionado }"></i></span>\r\n                          <input type="checkbox" [(ngModel)]="item.seleccionado" style="display:none;">\r\n                      </label>\r\n                      <span class="icon" *ngIf="!item.activo"><i class="fa" [ngClass]="{ \'fa-times-circle\':item.status == \'eliminado\', \'fa-archive\':item.status == \'reintegrado\' }"></i></span>\r\n                    </td>\r\n                    <td>{{ item.clave}}</td>\r\n                    <td>{{ item.lote }}</td>\r\n                    <td>{{ item.fecha_caducidad | date:\'dd/MM/y\' }}</td>\r\n                    <td style="width:78px !important; text-align:center;">{{ item.cantidad }}</td> \r\n                    \x3c!--td style="vertical-align: middle;" class="has-text-centered"><a  class="is-danger" (click)="eliminarStock(i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td--\x3e\r\n                  </tr>\r\n              </tbody>  \r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n  </div>\r\n</div>\r\n\r\n<div class="modal is-active" [ngClass]="{\'is-active\': mostrarCancelarTransferenciaDialogo}">\r\n  <div class="modal-background" (click)="cerrarDialogoCancelarTransferencia()"></div>\r\n  <div class="modal-card" style="width:95%; height: auto;">\r\n      <header class="modal-card-head" style="background: #ff3860;">\r\n          <div class="container is-fluid"  style="width:100%;">\r\n              <h1 class="title" style="color:#FFF;">\r\n              <span class="icon is-medium"><i class="fa fa-ban"></i></span> Cancelar Transferencia \r\n              </h1>\r\n          </div>            \r\n          <a class="button  is-danger" style="position:absolute; top:1em; right:1em;" (click)="cerrarDialogoCancelarTransferencia()"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n      </header>\r\n      <section class="modal-card-body" style="padding:0px;" >\r\n          <div style="padding: 1em;" *ngIf="pedido">\r\n              La transferencia actual sera <strong>cancelada</strong>\r\n              <table class="table" *ngIf="pedido.datosImprimir">\r\n                  <thead>\r\n                  <tr><th>Folio</th><th>Nombre del Pedido</th><th>Fecha</th></tr>\r\n                  </thead>\r\n                  <tbody>\r\n                  <tr><td>{{pedido.datosImprimir.folio}}</td><td>{{pedido.datosImprimir.descripcion}}</td><td>{{pedido.datosImprimir.fecha}}</td></tr>\r\n                  </tbody>\r\n                  <thead>\r\n                  <tr><th>Almac\xe9n</th><th colspan="2">Observaciones:</th></tr>\r\n                  </thead>\r\n                  <tbody>\r\n                  <tr><td>{{pedido.datosImprimir.almacen_solicitante.nombre}}</td><td colspan="2">{{pedido.datosImprimir.observaciones}}</td></tr>\r\n                  </tbody>\r\n                  <thead>\r\n                      <tr><th colspan="3">Motivo(s) de la cancelaci\xf3n:</th></tr>\r\n                  </thead>\r\n                  <tbody>\r\n                      <tr><td colspan="3">\r\n                          <textarea class="textarea" placeholder="Motivo(s) de la cancelaci\xf3n"  [(ngModel)]="motivosCancelarTransferencia"></textarea>\r\n                      </td></tr>\r\n                  </tbody>\r\n              </table>\r\n          </div>\r\n      </section>\r\n      <footer class="" style="position:relative; padding:1em;background: #FFF; border-top:1px solid #EEE; border-radius:0 0 0.8em 0.8em " >\r\n          <span *ngIf="errorCancelarTransferencia" class="notification is-small is-danger is-inverted">{{errorCancelarTransferenciaTexto}}</span>\r\n          <button class="button is-medium is-danger is-pulled-right" [ngClass]="{\'is-loading\': cancelandoPedido}"  (click)="cancelarTransferencia()">\r\n              <span class="icon"><i class="fa fa-times"></i></span> &nbsp;Cancelar Transferencia\r\n          </button>\r\n      </footer>\r\n  </div>\r\n</div>\r\n\r\n<buscar-insumos \r\n    *ngIf="mostrarModalInsumos" \r\n    (onCerrar)="mostrarModalInsumos = false" \r\n    (onEnviar)="agregarItem($event)" \r\n    [listaAgregados]="listaClaveAgregadas" \r\n    [listaAgregadosConClues]="listaClaveAgregadas" \r\n    [conPrecios]="false"\r\n    [conClues]="false">\r\n</buscar-insumos>\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeError.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n\r\n\r\n'},Lqsa:function(e,t){e.exports='<app-menu-inventario [modulo]="\'Inicializaci\xf3n de Inventario\'" [icono]="\'assets/icono-ajustes-inventario.svg\'" [url]="\'/inventario/inicializacion-inventario\'"></app-menu-inventario>\r\n\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%; ">\r\n    <div class="column" style="padding:2em;">\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n            <section class="hero" [ngClass] = " {\'is-dark\': busquedaActivada, \'is-primary\': !busquedaActivada } " >\r\n                \r\n                <div class="hero-body" style="position:relative;">\r\n                    <a class="button  is-dark" *ngIf="busquedaActivada" style="position:absolute; top:1em; right:1em;" (click)="busquedaActivada=false;searchBox.value=\'\';resultadosBusqueda=[]"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n                    <a class="button  is-dark" *ngIf="busquedaActivada" style="position:absolute; top:1em; right:3.5em;" (click)="listarBusqueda(searchBox.value,1)"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                    <a class="button  is-primary" *ngIf="!busquedaActivada" style="position:absolute; top:1em; right:1em;" (click)="listar(1)"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                    <div class="container is-fluid">\r\n                        \r\n                        <h1 class="title" *ngIf="!busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa {{ icono }}"></i></span> {{ titulo }}\r\n                        </h1>\r\n                        <h1 class="title" *ngIf="busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-search"></i></span> B\xfasqueda \r\n                        </h1>\r\n                        <div class="control is-grouped">\r\n                            <p class="control is-expanded">\r\n                                <input class="input is-medium" type="text" placeholder="Buscar" #searchBox id="search-box" (keyup)="buscar(searchBox.value)">\r\n                            </p>\r\n                            <p class="control">\r\n                                <a class="button is-medium is-primary is-inverted " routerLink="/inventario/inicializacion-inventario/inicializar">\r\n                                <span class="icon"><i class="fa fa-archive"></i></span><span>Inicializar</span>\r\n                                </a>\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n\r\n            <table class="table" *ngIf="!cargando">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Estatus</th>\r\n                        <th>Descripcion</th>\r\n                        <th>Fecha de Inicio</th>\r\n                        <th>Fecha de Conclusi\xf3n</th>\r\n                        <th>Total Claves</th>\r\n                        <th>Total Monto</th>\r\n                        <th style="text-align:center;" width="1">Opciones</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody  *ngIf="!busquedaActivada">\r\n                    <tr *ngFor="let item of inventarios; let i=index">\r\n                        <th style="vertical-align: middle;">\r\n                        </th>\r\n                        <td style="vertical-align: middle;"></td>\r\n                        <td style="vertical-align: middle;"></td>\r\n                        <td style="vertical-align: middle;">\r\n                        </td>\r\n                        <td style="vertical-align: middle;">\r\n                        </td>\r\n                        <td style="vertical-align: middle;">\r\n                        </td>\r\n                        <td style="vertical-align: middle;" class="has-text-centered">\r\n                        </td>\r\n                    </tr>\r\n                    <tr *ngIf="inventarios.length == 0">\r\n                        <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n                <tbody *ngIf="busquedaActivada">\r\n                    <tr *ngFor="let item of resultadosBusqueda; let i=index">\r\n                        <th style="vertical-align: middle;">\r\n                        </th>\r\n                        <td style="vertical-align: middle;"></td>\r\n                        <td style="vertical-align: middle;"></td>\r\n                        <td style="vertical-align: middle;">\r\n                        </td>\r\n                        <td style="vertical-align: middle;">\r\n                        </td>\r\n                        <td style="vertical-align: middle;">\r\n                        </td>\r\n                        <td style="vertical-align: middle;" class="has-text-centered">\r\n                        </td>\r\n                    </tr>\r\n\r\n                    <tr *ngIf="resultadosBusqueda.length == 0 && busquedaActivada">\r\n                        <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion \r\n                [total]="total" \r\n                [paginasTotales]="paginasTotales" \r\n                [resultadosPorPagina]="resultadosPorPagina" \r\n                [paginaActual]="paginaActual" \r\n                [indicePaginas]="indicePaginas"\r\n                (onSiguiente)="paginaSiguiente()" \r\n                (onAnterior)="paginaAnterior()" \r\n                (onListar)="listar($event)" \r\n                *ngIf="total>0 && total > resultadosPorPagina && !busquedaActivada"></paginacion>\r\n            \x3c!-- Paginaci\xf3n para la b\xfasqueda  --\x3e\r\n            <paginacion \r\n                [total]="totalBusqueda" \r\n                [paginasTotales]="paginasTotalesBusqueda" \r\n                [resultadosPorPagina]="resultadosPorPaginaBusqueda" \r\n                [paginaActual]="paginaActualBusqueda" \r\n                [indicePaginas]="indicePaginasBusqueda"\r\n                (onSiguiente)="paginaSiguienteBusqueda(searchBox.value)" \r\n                (onAnterior)="paginaAnteriorBusqueda(searchBox.value)" \r\n                (onListar)="listarBusqueda(searchBox.value,$event)" \r\n                *ngIf="totalBusqueda > 0 && totalBusqueda > resultadosPorPaginaBusqueda && busquedaActivada"></paginacion>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n</div>'},Lrjz:function(e,t){e.exports=""},"M/8A":function(e,t){e.exports='<avance-menu></avance-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%; ">\r\n    <div class="column" style="padding:2em;">\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n            <section class="hero" [ngClass] = " {\'is-dark\': busquedaActivada, \'is-primary\': !busquedaActivada } " >\r\n                \r\n                <div class="hero-body" style="position:relative;">\r\n                    \x3c!--<a class="button  is-dark" *ngIf="busquedaActivada" style="position:absolute; top:1em; right:1em;" (click)="busquedaActivada=false;searchBox.value=\'\';resultadosBusqueda=[]"><span class="icon "><i class="fa fa-close"></i></span></a>--\x3e\r\n                    <a class="button  is-dark" *ngIf="busquedaActivada" style="position:absolute; top:1em; right:3.5em;" (click)="listarBusqueda(searchBox.value,1)"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                    <a class="button  is-primary" *ngIf="!busquedaActivada" style="position:absolute; top:1em; right:1em;" (click)="listar(1)"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                    <div class="container is-fluid">\r\n                        \r\n                        <h1 class="title" *ngIf="!busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-user"></i></span> Lista de Temas \r\n                        </h1>\r\n                        <h1 class="title" *ngIf="busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-search"></i></span> B\xfasqueda \r\n                        </h1>\r\n                        <div class="columns">\r\n                          <div class="column"  [ngClass]="{\'is-three-quarters\': filter }">\r\n                            <label class="label" style="color: #FFF">Buscar Tema</label>\r\n                            <input class="input is-medium" type="text" placeholder="Buscar" #searchBox id="search-box" (keyup)="buscar(searchBox.value)">\r\n                          </div>\r\n                          \x3c!--<div class="column"  *ngIf="!filter">\r\n                            <label class="label" style="color: #FFF">Prioridad</label>\r\n                              <select class="select redondear" #prioridad (change)=\'filtro(1, prioridad.value)\'>\r\n                                <option value="">TODOS</option>\r\n                                <option value="1">NORMAL</option>\r\n                                <option value="2">PRIORITARIO</option>\r\n                                <option value="3">URGENTE</option>\r\n                            </select>\r\n                          </div>--\x3e\r\n                          <div class="column" *ngIf="!filter">\r\n                            <label class="label" style="color: #FFF">Estatus</label>\r\n                            <select class="select redondear" #estatus (change)=\'filtro(2, estatus.value)\'>\r\n                                <option value="">TODOS</option>\r\n                                <option value="0">VIGENTES</option>\r\n                                <option value="1">FINALIZADOS</option>\r\n                            </select>\r\n                          </div>\r\n                          <div class="column" *ngIf="!filter">\r\n                            <label class="label" style="color: #FFF">Vistos</label>\r\n                            <select class="select redondear" #vistos (change)=\'filtro(3, vistos.value)\'>\r\n                                <option value="">TODOS</option>\r\n                                <option value="1">VISTOS</option>\r\n                                <option value="2">NO VISTOS</option>\r\n                            </select>\r\n                          </div>\r\n                          <div class="column" *ngIf="!filter">\r\n                          <label class="label" style="color: #FFF">\xc1rea</label>\r\n                            <select class="select redondear" #area (change)=\'filtro(4, area.value)\'>\r\n                                <option value="">TODOS</option>\r\n                                <option  *ngFor="let item of areas; let i=index" value="{{ item.area }}">{{ item.area }}</option>\r\n                            </select>\r\n                          </div>\r\n                          <div class="column" *ngIf="!filter">\r\n                          <label class="label" style="color: #FFF">\xd3rden</label>\r\n                            <select class="select redondear" #orden (change)=\'filtro(5, orden.value)\'>\r\n                                <option value="1" selected="selected">\xdaLTIMA ACTUALIZACI\xd3N</option>\r\n                                <option value="2">PRIORIDAD</option>\r\n                            </select>\r\n                          </div>\r\n                          <div class="column">\r\n                            <a class="button is-medium is-primary is-inverted " (click)=\'showAgregarTema=!showAgregarTema\' style="margin-top: 20px">\r\n                            <span class="icon"><i class="fa fa-plus"></i></span><span>Nuevo</span>\r\n                            </a>\r\n                            \r\n                          </div>\r\n                        </div>\r\n                        \x3c!--<div class="control is-grouped">\r\n                          \r\n                        \x3c!--<p class="control is-expanded">\r\n                            \r\n                        </p>\r\n                        <p class="control">\r\n                            \r\n                        </p>\r\n                        </div>--\x3e\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div style="overflow: scroll; overflow-x: hidden; height: 630px;">\r\n              <div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n                  <br>\r\n                  <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                  <br>\r\n                  <br>\r\n              </div>\r\n          \r\n              <table class="table" *ngIf="!cargando">\r\n                  <thead>\r\n                      <tr>\r\n                      <th style="min-width: 130px"></th>\r\n                      <th>TEMA</th>\r\n                      <th>AVANCE</th>\r\n                      <th>ESTATUS</th>\r\n                      <th>ACTUALIZADO</th>\r\n                      <th style="min-width: 130px"></th>\r\n                      </tr>\r\n                  </thead>\r\n                  <tbody  *ngIf="!busquedaActivada">\r\n                      <tr *ngFor="let item of temas; let i=index">\r\n                          <th>\x3c!--<a class=\'button is-info\' (click)=\'informacion(item.id, item.porcentaje)\'><i class=\'fa fa-info\'></i></a>--\x3e<a class=\'button\' [ngClass]="{\'is-warning\': item.visualizaciones > 0 }"> <span class="tag is-dark"><i class=\'fa\'  [ngClass]="{\'fa-envelope-open\':item.visualizaciones == 0, \'fa-envelope\': item.visualizaciones > 0 }"></i>&nbsp;{{ item.visualizaciones }}</span></a><a class=\'button\'  [ngClass]="{\'is-primary\':item.prioridad == 1, \'is-warning\': item.prioridad == 2, \'is-danger\': item.prioridad == 3 }" (click)=\'informacion(item.id, item.porcentaje)\'><i class=\'fa fa-info-circle\'></i></a></th>\r\n                          <td style="vertical-align: middle; cursor:pointer;"><a routerLink="/temas/avances/{{item.id}}"><b>Tema: {{ item.tema }}</b><br> <b>Responsable:</b> {{ item.responsable }}<br><b>\xc1rea:</b> {{ item.area }}</a></td>\r\n                          <td style="vertical-align: middle; cursor:pointer;"><a routerLink="/temas/avances/{{item.id}}">{{ item.porcentaje }} %</a><progress class="progress is-info is-small" value="{{ item.porcentaje }}" max="100"></progress></td>\r\n                          \r\n\r\n                          <td style="vertical-align: middle; cursor:pointer;" *ngIf="item.estatus==0"><a routerLink="/temas/avances/{{item.id}}">VIGENTE </a></td>\r\n                          <td style="vertical-align: middle; cursor:pointer;" *ngIf="item.estatus == 1"><a routerLink="/temas/avances/{{item.id}}">CONCLUIDO </a></td>\r\n                          \r\n\r\n                          <td style="vertical-align: middle; cursor:pointer;" *ngIf="item.creacion>=0"><a routerLink="/temas/avances/{{item.id}}"><span *ngIf="item.creacion == 0">Hoy</span><span *ngIf="item.creacion > 0">Hace {{ item.creacion }} D\xeda(s)</span> </a></td>\r\n                          <td style="vertical-align: middle; cursor:pointer;" *ngIf="item.creacion<0"><a routerLink="/temas/avances/{{item.id}}">SIN ACTUALIZAR </a></td>\r\n                          \r\n                          \r\n                          <td style="vertical-align: middle;" class="has-text-centered">\r\n                               \r\n                              <button type="button"  class="button is-primary"  (click)=\'ver_tema(item.id)\'>\r\n                                <span class="icon"><i class="fa fa-edit"></i></span>\r\n                              </button>\r\n                              &nbsp;&nbsp;\r\n                              <button type="button"  class="button is-danger"  (click)=\'eliminar_tema(item.id)\'>\r\n                                <span class="icon"><i class="fa fa-close"></i></span>\r\n                              </button>\r\n                              \r\n                          </td>\r\n                          \r\n                      </tr>\r\n                      <tr *ngIf="temas.length == 0">\r\n                          <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>                    \r\n                      </tr>\r\n                  </tbody>\r\n                  <tbody *ngIf="busquedaActivada">\r\n                      <tr *ngFor="let item of resultadosBusqueda; let i=index">\r\n                          <th>\x3c!--<a class=\'button is-info\' (click)=\'informacion(item.id, item.porcentaje)\'><i class=\'fa fa-info\'></i></a>--\x3e<a class=\'button\' [ngClass]="{\'is-warning\': item.visualizaciones > 0 }"> <span class="tag is-dark"><i class=\'fa\'  [ngClass]="{\'fa-envelope-open\':item.visualizaciones == 0, \'fa-envelope\': item.visualizaciones > 0 }"></i>&nbsp;{{ item.visualizaciones }}</span></a><a class=\'button\'  [ngClass]="{\'is-primary\':item.prioridad == 1, \'is-warning\': item.prioridad == 2, \'is-danger\': item.prioridad == 3 }" (click)=\'informacion(item.id, item.porcentaje)\'><i class=\'fa fa-info-circle\'></i></a></th>\r\n                          <td style="vertical-align: middle; cursor:pointer;"><a routerLink="/temas/avances/{{item.id}}"><b>Tema: {{ item.tema }}</b><br> <b>Responsable:</b> {{ item.responsable }}<br><b>\xc1rea:</b> {{ item.area }}</a></td>\r\n                          <td style="vertical-align: middle; cursor:pointer;"><a routerLink="/temas/avances/{{item.id}}">{{ item.porcentaje }} %</a><progress class="progress is-info is-small" value="{{ item.porcentaje }}" max="100"></progress></td>\r\n                          \r\n\r\n                          <td style="vertical-align: middle; cursor:pointer;" *ngIf="item.estatus==0"><a routerLink="/temas/avances/{{item.id}}">VIGENTE </a></td>\r\n                          <td style="vertical-align: middle; cursor:pointer;" *ngIf="item.estatus == 1"><a routerLink="/temas/avances/{{item.id}}">CONCLUIDO </a></td>\r\n                          \r\n\r\n                          <td style="vertical-align: middle; cursor:pointer;" *ngIf="item.creacion>=0"><a routerLink="/temas/avances/{{item.id}}"><span *ngIf="item.creacion == 0">Hoy</span><span *ngIf="item.creacion > 0">Hace {{ item.creacion }} D\xeda(s)</span> </a></td>\r\n                          <td style="vertical-align: middle; cursor:pointer;" *ngIf="item.creacion<0"><a routerLink="/temas/avances/{{item.id}}">SIN ACTUALIZAR </a></td>\r\n                          \r\n                          \r\n                          <td style="vertical-align: middle;" class="has-text-centered">\r\n                               \r\n                              <button type="button"  class="button is-primary"  (click)=\'ver_tema(item.id)\'>\r\n                                <span class="icon"><i class="fa fa-edit"></i></span>\r\n                              </button>\r\n                              &nbsp;&nbsp;\r\n                              <button type="button"  class="button is-danger"  (click)=\'eliminar_tema(item.id)\'>\r\n                                <span class="icon"><i class="fa fa-close"></i></span>\r\n                              </button>\r\n                              \r\n                          </td>\r\n                          \r\n                      </tr>\r\n                      <tr *ngIf="temas.length == 0">\r\n                          <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>                    \r\n                      </tr>\r\n                  </tbody>\r\n              </table>\r\n              \r\n              <paginacion \r\n                  [total]="total" \r\n                  [paginasTotales]="paginasTotales" \r\n                  [resultadosPorPagina]="resultadosPorPagina" \r\n                  [paginaActual]="paginaActual" \r\n                  [indicePaginas]="indicePaginas"\r\n                  (onSiguiente)="paginaSiguiente()" \r\n                  (onAnterior)="paginaAnterior()" \r\n                  (onListar)="listar($event)" \r\n                  *ngIf="total>0 && total > resultadosPorPagina && !busquedaActivada"></paginacion>\r\n              <paginacion \r\n                  [total]="totalBusqueda" \r\n                  [paginasTotales]="paginasTotalesBusqueda" \r\n                  [resultadosPorPagina]="resultadosPorPaginaBusqueda" \r\n                  [paginaActual]="paginaActualBusqueda" \r\n                  [indicePaginas]="indicePaginasBusqueda"\r\n                  (onSiguiente)="paginaSiguienteBusqueda(searchBox.value)" \r\n                  (onAnterior)="paginaAnteriorBusqueda(searchBox.value)" \r\n                  (onListar)="listarBusqueda(searchBox.value,$event)" \r\n                  *ngIf="totalBusqueda > 0 && totalBusqueda > resultadosPorPaginaBusqueda && busquedaActivada"></paginacion>\r\n             \r\n             \r\n              \r\n          </div>\r\n      </div>    \r\n    </div>        \r\n   \r\n</div>\r\n\r\n<div id="modal-temas" class="modal is-active" [ngClass]="{\'is-active\': showAgregarTema}">\r\n  <div class="modal-background"  (click)="showDialog = !showAgregarTema"></div>\r\n  <div class="modal-card" style="width:60%; height: auto;">\r\n    <header class="modal-card-head" style="background-color: #00d1b2" >\r\n      <div class="container is-fluid"  style="width:100%;">\r\n          <h1 class="title" style="color:#FFF;">\r\n            <span class="icon is-medium"><i class="fa fa-user"></i></span> Agregar Tema\r\n          </h1>\r\n      </div>            \r\n      <a class="button  is-primary" style="position:absolute; top:1em; right:1em;" (click)="showAgregarTema = !showAgregarTema"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n    </header>\r\n    <section class="section">\r\n        \r\n        <form name="form" [formGroup]="tema_avance"   (ngSubmit)="agregar_tema()" >   \r\n            <section class="section" style="padding: 1rem 1.5rem; background-color: #EFEFEF">\r\n                <div class="container">\r\n                  <div class="heading">\r\n                    <h1 class="title">Datos del Tema</h1>\r\n                  </div>\r\n                </div>\r\n            </section> \r\n              <div class="control is-grouped">\r\n                <p class="control is-expanded  has-icon has-icon-right">\r\n                    <label class="label">Tema</label>\r\n                  <input class="input" autofocus type="text"  placeholder="Tema" formControlName="tema">\r\n                  <span class="icon is-small" *ngIf="tema_avance.get(\'tema\').hasError(\'required\') && tema_avance.get(\'tema\').touched">\r\n                    <i class="fa fa-warning"></i>\r\n                  </span>\r\n                  <span class="help is-danger" *ngIf="tema_avance.get(\'tema\').hasError(\'required\') && tema_avance.get(\'tema\').touched">Este campo es requerido.</span>\r\n                </p>\r\n                \r\n              </div>\r\n              <div class="control is-grouped">\r\n                <p class="control is-expanded  has-icon has-icon-right">\r\n                    <label class="label">Responsable</label>\r\n                  <input class="input"  type="text"  placeholder="Responsable" formControlName="responsable">\r\n                  <span class="icon is-small" *ngIf="tema_avance.get(\'responsable\').hasError(\'required\') && tema_avance.get(\'responsable\').touched">\r\n                    <i class="fa fa-warning"></i>\r\n                  </span>\r\n                  <span class="help is-danger" *ngIf="tema_avance.get(\'responsable\').hasError(\'required\') && tema_avance.get(\'responsable\').touched">Este campo es requerido.</span>\r\n                </p>\r\n                \r\n              </div>\r\n              <div class="control is-grouped">\r\n                <p class="control is-expanded  has-icon has-icon-right">\r\n                    <label class="label">\xc1rea</label>\r\n                  <input class="input"  type="text"  placeholder="Area" formControlName="area">\r\n                  <span class="icon is-small" *ngIf="tema_avance.get(\'area\').hasError(\'required\') && tema_avance.get(\'area\').touched">\r\n                    <i class="fa fa-warning"></i>\r\n                  </span>\r\n                  <span class="help is-danger" *ngIf="tema_avance.get(\'area\').hasError(\'required\') && tema_avance.get(\'area\').touched">Este campo es requerido.</span>\r\n                </p>\r\n                \r\n              </div>\r\n\r\n              <div class="control is-grouped">\r\n                <p class="control is-expanded  has-icon has-icon-right">\r\n                    <label class="label">Comentario</label>\r\n                  <textarea  class="textarea"  placeholder="Comentario" formControlName="comentario"></textarea>\r\n                  <span class="icon is-small" *ngIf="tema_avance.get(\'comentario\').hasError(\'required\') && tema_avance.get(\'comentario\').touched">\r\n                    <i class="fa fa-warning"></i>\r\n                  </span>\r\n                  <span class="help is-danger" *ngIf="tema_avance.get(\'comentario\').hasError(\'required\') && tema_avance.get(\'comentario\').touched">Este campo es requerido.</span>\r\n                </p>\r\n                \r\n              </div>\r\n            \r\n          <br>\r\n          <div class="control is-grouped">\r\n            <p class="control">\r\n              <button class="button is-primary" type="submit" [ngClass]="{\'is-loading\': cargando}" [disabled]="tema_avance.invalid">Guardar</button>\r\n            </p>\r\n          </div>\r\n      </form>\r\n    </section>\r\n    <footer class="" style="position:relative; padding:1em;background: #FFF; border-top:1px solid #EEE; border-radius:0 0 0.8em 0.8em " >\r\n    </footer>\r\n  </div>\r\n</div>\r\n\r\n<div id="modal-info" class="modal is-active" [ngClass]="{\'is-active\': showInfo}">\r\n  <div class="modal-background"  (click)="showDialog = !showInfo"></div>\r\n  <div class="modal-card" style="width:60%; height: auto;">\r\n    <header class="modal-card-head" style="background-color: #00d1b2" >\r\n      <div class="container is-fluid"  style="width:100%;">\r\n          <h1 class="title" style="color:#FFF;">\r\n            <span class="icon is-medium"><i class="fa fa-user"></i></span> Informaci\xf3n del Tema\r\n          </h1>\r\n      </div>            \r\n      <a class="button  is-primary" style="position:absolute; top:1em; right:1em;" (click)="showInfo = !showInfo"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n    </header>\r\n    <section class="section"  *ngIf="cargando_info">  \r\n      \r\n        <div class="is-fullwidth has-text-centered">\r\n          <br>\r\n          <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n          <br>\r\n          <br>\r\n        </div>\r\n        \r\n    </section>  \r\n    <section class="section"  *ngIf="!cargando_info">  \r\n      \r\n      <div class="columns">\r\n        <div class="column is-one-third"><b>Tema</b></div>\r\n        <div class="column">{{ informacion_tema.tema }}</div>\r\n      </div>\r\n      <div class="columns">\r\n        <div class="column is-one-third"><b>Responsable</b></div>\r\n        <div class="column">{{ informacion_tema.responsable }}</div>\r\n      </div>\r\n      <div class="columns">\r\n        <div class="column is-one-third"><b>\xc1rea</b></div>\r\n        <div class="column">{{ informacion_tema.area }}</div>\r\n      </div>\r\n\r\n      <div class="columns">\r\n        <div class="column is-one-third"><b>Creado por</b></div>\r\n        <div class="column">{{ informacion_tema.creado_por }}</div>\r\n      </div>\r\n      <div class="columns">\r\n        <div class="column is-one-third"><b>Actualizaciones</b></div>\r\n        <div class="column">{{ informacion_tema.actualizacion }}</div>\r\n      </div>\r\n      <div class="columns">\r\n        <div class="column is-one-third"><b>Creado el</b></div>\r\n        <div class="column">{{ informacion_tema.created_at }}</div>\r\n      </div>\r\n      <div class="columns">\r\n        <div class="column is-one-third"><b>% de Avance</b></div>\r\n        <div class="column">{{ informacion_tema.percent }} %</div>\r\n      </div>\r\n\r\n      <div class="columns">\r\n        <div class="column is-one-third"><b>Comentario</b></div>\r\n        <div class="column">{{ informacion_tema.comentario }} </div>\r\n      </div>\r\n\r\n      <div class="columns">\r\n        <div class="column is-one-third"><b>Prioridad</b></div>\r\n        <div class="column"><a class=\'button\'  [ngClass]="{\'is-primary\':informacion_tema.prioridad == 1, \'is-warning\': informacion_tema.prioridad == 2, \'is-danger\': informacion_tema.prioridad == 3 }"><i class=\'fa fa-info-circle\'></i> &nbsp;<span *ngIf=\'informacion_tema.prioridad == 1\'>NORMAL</span> <span *ngIf=\'informacion_tema.prioridad == 2\'>PRIORITARIO</span> <span *ngIf=\'informacion_tema.prioridad == 3\'>URGENTE</span></a> </div>\r\n      </div>\r\n     \r\n    </section>  \r\n\r\n    <footer class="" style="position:relative; padding:1em;background: #FFF; border-top:1px solid #EEE; border-radius:0 0 0.8em 0.8em " >\r\n    </footer>\r\n  </div>\r\n</div>\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style="text-align:center" ><a  class="button is-danger is-inverted" (click)="ultimaPeticion(); mensajeError.mostrar = false"> <span class="icon"><i class="fa fa-refresh"></i></span> <span>Volver a intentar</span></a></p>        \r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n'},M2TH:function(e,t){e.exports='<formulario #ctrl URL="personal-clues" titulo="Personal Clues" [dato]="dato"></formulario>\r\n<panel-control-menu></panel-control-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding:2em;">\r\n        \x3c!-- formulario --\x3e\r\n        <form name="form" novalidate [formGroup]="dato" (ngSubmit)="ctrl.enviar()" >\r\n            <div style="background: #FFF; overflow: hidden;" [style.height.px]="tamano-100">\r\n                <section class="hero is-primary">\r\n                    <div class="hero-body">\r\n                        \x3c!-- Opciones  --\x3e\r\n                        <formulario-opciones [ctrl]="ctrl"  class="control is-grouped" style="position:absolute; top:6em; right:3em;">\r\n                           \r\n                        </formulario-opciones>  \r\n                        \r\n\r\n                        <div class="container is-fluid">\r\n                            <h1 class="title">\r\n                                <span *ngIf="!ctrl.cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                <span *ngIf="ctrl.cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>                                {{ctrl.moduloTitulo}} personal clues\r\n                            </h1>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>                    &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n                <section class="section" style="height: inherit">\r\n\r\n\r\n\r\n                    \x3c!-- cargar los catalogos que se requieran parametro 1 modelo donde se guarda el catalogo, parametro 2 ruta de la api --\x3e\r\n                    <a id="catalogos" (click)=" ctrl.cargarCatalogo(\'tipos_personal\', \'tipo-personal\'); "></a>\r\n                    <div class="tabs is-boxed">\r\n                        <ul>\r\n                            <li [ngClass]="{ \'is-active\' : tab == 1}">\r\n                                <a (click)="tab=1">\r\n                                    <span class="icon is-small"><i class="fa fa-file"></i></span>\r\n                                    <span>Datos Generles</span>\r\n                                </a>\r\n                            </li>\r\n                            \x3c!-- <li [ngClass]="{ \'is-active\' : tab == 2}">\r\n                                <a (click)="tab=2">\r\n                                    <span class="icon is-small"><i class="fa fa-list"></i></span>\r\n                                    <span>Datos detallados</span>\r\n                                </a>\r\n                            </li> --\x3e\r\n                        </ul>\r\n                    </div>\r\n                    <div [ngClass]="{ \'is-hidden\': tab != 1}">\r\n                        <div class="field">\r\n                            <label class="label">Tipo de personal:</label>\r\n                            <div class="control is-expanded  has-icon has-icon-right">\r\n                                <div class="select">\r\n                                    <select class="select" formControlName="tipo_personal_id" (change)="seleccionar_tipo_personal(ctrl.tipos_personal)" [ngClass]="{\'is-danger\': ctrl.dato.get(\'tipo_personal_id\').hasError(\'required\')}">\r\n                                        <option value="" >Seleccione</option>\r\n                                        <option *ngFor="let item of ctrl.tipos_personal " value="{{item.id}}" >{{item.nombre}}</option>\r\n                                    </select>\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'tipo_personal_id\').hasError(\'required\')">\r\n                                        <i class="fa fa-warning"></i>\r\n                                    </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'tipo_personal_id\').hasError(\'required\')">Este campo es requerido.</span>                                \r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class="field">\r\n                                <label class="label">Clues:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <input class="input"  type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'clues\').hasError(\'required\')}" placeholder="Clues"\r\n                                        formControlName="clues" readonly>\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'clues\').hasError(\'required\')">\r\n                                        <i class="fa fa-warning"></i>\r\n                                    </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'clues\').hasError(\'required\')">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n\r\n                        <div class="field">\r\n                            <label class="label">Nombre:</label>\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n                                <input class="input"  type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'nombre\').hasError(\'required\')}" placeholder="Nombre"\r\n                                    formControlName="nombre">\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n\r\n                        \x3c!-- <div class="field">\r\n                            <label class="label">CURP:</label>\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n                                <input class="input"  type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'curp\').hasError(\'required\')}" placeholder="CURP"\r\n                                    formControlName="curp">\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'curp\').hasError(\'required\')">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'curp\').hasError(\'required\')">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div class="field">\r\n                            <label class="label">RFC:</label>\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n                                <input class="input"  type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'rfc\').hasError(\'required\')}" placeholder="RFC"\r\n                                    formControlName="rfc">\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'rfc\').hasError(\'required\')">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'rfc\').hasError(\'required\')">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div> --\x3e\r\n\r\n                       <div class="columns">\r\n                            <div class="column is-6">\r\n                                <div class="field">\r\n                                    <label class="label">Celular:</label>\r\n                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                        <input class="input" type="text"  placeholder="Celular"\r\n                                            formControlName="celular">\r\n                                        \r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class="column is-6">\r\n                                <div class="field">\r\n                                    <label class="label">Email:</label>\r\n                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                        <input class="input" type="text"  placeholder="Email"\r\n                                            formControlName="email">\r\n                                        \r\n                                    </p>\r\n                                </div>\r\n                            </div> \r\n                            \r\n                        </div>\r\n\r\n\r\n                        <div class="columns">\r\n                            <div class="column is-6">\r\n                                <br><br>\r\n                                <div class="b-checkbox is-info" >\r\n                                    <input id="surte_controlados" class="styled" type="checkbox" formControlName="surte_controlados" [checked]="ctrl.dato.get(\'surte_controlados\').value == 1 ? true : false">\r\n                                    <label for="surte_controlados">\r\n                                        Surte controlados? \r\n                                    </label>\r\n                                </div> \r\n                            </div>\r\n\r\n                            <div class="column is-6">\r\n                                <div class="field">\r\n                                    <label class="label">Licencia controlados:</label>\r\n                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                        <input class="input" type="text"  placeholder="Licencia"\r\n                                            formControlName="licencia_controlados">\r\n                                        \r\n                                    </p>\r\n                                </div>\r\n                            </div> \r\n                            \r\n                        </div>\r\n                        <hr>\r\n                        <div>\r\n                            <span class="icon is-small"><i class="fa fa-list"></i></span>\r\n                            <span>\r\n                                <strong>&nbsp; Datos detallados</strong>\r\n                            </span>\r\n                            <br>\r\n                        </div>\r\n                        <div formArrayName="personal_clues_metadatos">\r\n                            <div class="field" *ngFor="let item of ctrl.dato.controls.personal_clues_metadatos.controls; let i=index" >\r\n                                <div class="control is-expanded  has-icon has-icon-right"  [formGroupName]="i">   \r\n                                    <label *ngIf="item.value.tipo != \'boolean\'" class="label">{{ item.value.campo }}</label>\r\n                                    \x3c!--text  --\x3e\r\n                                    <input *ngIf="item.value.tipo == \'text\'" class="input" type="text" placeholder="{{item.value.descripcion}}" \r\n                                        [ngClass]="{\'is-danger\': ctrl.dato.controls.personal_clues_metadatos.controls[i].controls.valor.hasError(\'required\')}"\r\n                                        [maxlength]="item.value.longitud" formControlName="valor"> \r\n                                    \r\n\r\n                                    \x3c!--number  --\x3e\r\n                                    <input *ngIf="item.value.tipo == \'number\'" class="input" type="number" step="1" placeholder="{{item.value.descripcion}}" \r\n                                        [ngClass]="{\'is-danger\': ctrl.dato.controls.personal_clues_metadatos.controls[i].controls.valor.hasError(\'required\')}"\r\n                                        [maxlength]="item.value.longitud" formControlName="valor"> \r\n                                    \r\n\r\n                                    \x3c!--boolean  --\x3e\r\n                                    <div class="b-checkbox is-info" *ngIf="item.value.tipo == \'boolean\'" style="margin-bottom: 15px; margin-top: 15px;">\r\n                                        <input id="valor{{i}}" class="styled" type="checkbox" formControlName="valor" [checked]="ctrl.dato.get(\'personal_clues_metadatos\').value[i].campo == 1 ? true : false">\r\n                                        <label for="valor{{i}}">\r\n                                            {{ item.value.campo }} \r\n                                        </label>\r\n                                    </div>  \r\n                                    \r\n                                    \x3c!--timestamp  --\x3e\r\n                                    <input id="valor{{i}}" *ngIf="item.value.tipo == \'timestamp\'" class="input" [(ngModel)]=\'valor[i]\' [ngModelOptions]="{standalone: true}" (ngModelChange)="asignar_fecha(i)" ngui-datetime-picker\r\n                                        [ngClass]="{\'is-danger\': ctrl.dato.controls.personal_clues_metadatos.controls[i].controls.valor.hasError(\'required\')}"\r\n                                        placeholder="YYYY-MM-DD HH:MM" />           \r\n                                    \r\n\r\n                                    \x3c!--date  --\x3e\r\n                                    <input id="valor{{i}}" *ngIf="item.value.tipo == \'date\'" class="input" [(ngModel)]=\'valor[i]\' [ngModelOptions]="{standalone: true}" (ngModelChange)="asignar_fecha(i)"  ngui-datetime-picker\r\n                                        [ngClass]="{\'is-danger\': ctrl.dato.controls.personal_clues_metadatos.controls[i].controls.valor.hasError(\'required\')}"\r\n                                        placeholder="YYYY-MM-DD"  date-only="true"/>  \r\n\r\n                                    \x3c!--time  --\x3e\r\n                                    <input id="valor{{i}}" *ngIf="item.value.tipo == \'time\'" class="input" [(ngModel)]=\'valor[i]\' [ngModelOptions]="{standalone: true}" (ngModelChange)="asignar_fecha(i)"  ngui-datetime-picker\r\n                                        [ngClass]="{\'is-danger\': ctrl.dato.controls.personal_clues_metadatos.controls[i].controls.valor.hasError(\'required\')}"\r\n                                        placeholder="HH:MM" date-format="hh:mm" hour="23" minute=\'59\' time-only="true"/>  \r\n\r\n                                    \x3c!--file  --\x3e\r\n                                    <span *ngIf="item.value.tipo == \'file\'">\r\n                                        <input type="file" (change)="ctrl.seleccionarImagenBase64($event, ctrl.dato.controls.personal_clues_metadatos.controls[i].controls.valor)" accept="image/x-png,image/gif,image/jpeg,image/jpg">\r\n                                        <input foto type="hidden" formControlName="valor" >\r\n\r\n                                        <div class="block" *ngIf="ctrl.dato.controls.personal_clues_metadatos.controls[i].controls.valor.value != \'\'">\r\n                                            <a class="button is-primary is-outlined is-fullwidth" [ngClass]="{\'is-disabled\': tieneid}" (click)="ctrl.abrirModal(\'verFoto\'+i)">\r\n                                                <span class="icon">\r\n                                                    <i class="fa fa-eye"> </i> \r\n                                                </span> \r\n                                                &nbsp; Ver\r\n                                            </a>\r\n                                        </div>\r\n\r\n                                        <div class="modal" id="verFoto{{i}}">\r\n                                            <div class="modal-background"></div>\r\n                                            <div class="modal-content">\r\n                                                <p class="image is-4by3">\r\n                                                    <img  [src]="\'data:image/jpg;base64,\'+ctrl.dato.controls.personal_clues_metadatos.controls[i].controls.valor.value"  />\r\n                                                </p>\r\n                                            </div>\r\n                                            <button type="button" class="modal-close" (click)="ctrl.cancelarModal(\'verFoto\'+i)"></button>\r\n                                        </div>\r\n                                    </span>\r\n\r\n                                    <span style="margin-top: 27px;" class="icon is-small" *ngIf="ctrl.dato.controls.personal_clues_metadatos.controls[i].controls.valor.hasError(\'required\') && item.value.requerido == 1 ">\r\n                                        <i class="fa fa-warning"></i>\r\n                                    </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.controls.personal_clues_metadatos.controls[i].controls.valor.hasError(\'required\') && item.value.requerido == 1">Este campo es requerido.</span>\r\n\r\n                                </div>\r\n                            </div>   \r\n                        </div>\r\n                    </div>\r\n                    \x3c!-- <div [ngClass]="{ \'is-hidden\': tab != 2}" formArrayName="personal_clues_metadatos">\r\n                        \r\n                        <div class="field" *ngFor="let item of ctrl.dato.controls.personal_clues_metadatos.controls; let i=index" >\r\n                            <div class="control is-expanded  has-icon has-icon-right"  [formGroupName]="i">   \r\n                                <label *ngIf="item.value.tipo != \'boolean\'" class="label">{{ item.value.campo }}</label>\r\n                                \r\n                                <input *ngIf="item.value.tipo == \'text\'" class="input" type="text" placeholder="{{item.value.descripcion}}" \r\n                                    [ngClass]="{\'is-danger\': ctrl.dato.controls.personal_clues_metadatos.controls[i].controls.valor.hasError(\'required\')}"\r\n                                    [maxlength]="item.value.longitud" formControlName="valor"> \r\n                                \r\n\r\n                                >\r\n                                <input *ngIf="item.value.tipo == \'number\'" class="input" type="number" step="1" placeholder="{{item.value.descripcion}}" \r\n                                    [ngClass]="{\'is-danger\': ctrl.dato.controls.personal_clues_metadatos.controls[i].controls.valor.hasError(\'required\')}"\r\n                                    [maxlength]="item.value.longitud" formControlName="valor"> \r\n                                \r\n\r\n                                \r\n                                <div class="b-checkbox is-info" *ngIf="item.value.tipo == \'boolean\'" style="margin-bottom: 15px; margin-top: 15px;">\r\n                                    <input id="valor{{i}}" class="styled" type="checkbox" formControlName="valor" [checked]="ctrl.dato.get(\'personal_clues_metadatos\').value[i].campo == 1 ? true : false">\r\n                                    <label for="valor{{i}}">\r\n                                        {{ item.value.campo }} \r\n                                    </label>\r\n                                </div>  \r\n                                \r\n                                \r\n                                <input id="valor{{i}}" *ngIf="item.value.tipo == \'timestamp\'" class="input" [(ngModel)]=\'valor[i]\' [ngModelOptions]="{standalone: true}" (ngModelChange)="asignar_fecha(i)" ngui-datetime-picker\r\n                                    [ngClass]="{\'is-danger\': ctrl.dato.controls.personal_clues_metadatos.controls[i].controls.valor.hasError(\'required\')}"\r\n                                    placeholder="YYYY-MM-DD HH:MM" />           \r\n                                \r\n\r\n                                <input id="valor{{i}}" *ngIf="item.value.tipo == \'date\'" class="input" [(ngModel)]=\'valor[i]\' [ngModelOptions]="{standalone: true}" (ngModelChange)="asignar_fecha(i)"  ngui-datetime-picker\r\n                                    [ngClass]="{\'is-danger\': ctrl.dato.controls.personal_clues_metadatos.controls[i].controls.valor.hasError(\'required\')}"\r\n                                    placeholder="YYYY-MM-DD"  date-only="true"/>  \r\n\r\n                                \r\n                                <input id="valor{{i}}" *ngIf="item.value.tipo == \'time\'" class="input" [(ngModel)]=\'valor[i]\' [ngModelOptions]="{standalone: true}" (ngModelChange)="asignar_fecha(i)"  ngui-datetime-picker\r\n                                    [ngClass]="{\'is-danger\': ctrl.dato.controls.personal_clues_metadatos.controls[i].controls.valor.hasError(\'required\')}"\r\n                                    placeholder="HH:MM" date-format="hh:mm" hour="23" minute=\'59\' time-only="true"/>  \r\n\r\n                                \r\n                                <span *ngIf="item.value.tipo == \'file\'">\r\n                                    <input type="file" (change)="ctrl.seleccionarImagenBase64($event, ctrl.dato.controls.personal_clues_metadatos.controls[i].controls.valor)" accept="image/x-png,image/gif,image/jpeg,image/jpg">\r\n                                    <input foto type="hidden" formControlName="valor" >\r\n\r\n                                    <div class="block" *ngIf="ctrl.dato.controls.personal_clues_metadatos.controls[i].controls.valor.value != \'\'">\r\n                                        <a class="button is-primary is-outlined is-fullwidth" [ngClass]="{\'is-disabled\': tieneid}" (click)="ctrl.abrirModal(\'verFoto\'+i)">\r\n                                            <span class="icon">\r\n                                                <i class="fa fa-eye"> </i> \r\n                                            </span> \r\n                                            &nbsp; Ver\r\n                                        </a>\r\n                                    </div>\r\n\r\n                                    <div class="modal" id="verFoto{{i}}">\r\n                                        <div class="modal-background"></div>\r\n                                        <div class="modal-content">\r\n                                            <p class="image is-4by3">\r\n                                                <img  [src]="\'data:image/jpg;base64,\'+ctrl.dato.controls.personal_clues_metadatos.controls[i].controls.valor.value"  />\r\n                                            </p>\r\n                                        </div>\r\n                                        <button type="button" class="modal-close" (click)="ctrl.cancelarModal(\'verFoto\'+i)"></button>\r\n                                    </div>\r\n                                </span>\r\n\r\n                                <span style="margin-top: 27px;" class="icon is-small" *ngIf="ctrl.dato.controls.personal_clues_metadatos.controls[i].controls.valor.hasError(\'required\') && item.value.requerido == 1 ">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.controls.personal_clues_metadatos.controls[i].controls.valor.hasError(\'required\') && item.value.requerido == 1">Este campo es requerido.</span>\r\n\r\n                            </div>\r\n                        </div>                        \r\n                    </div> --\x3e\r\n                </section>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>'},MWIx:function(e,t){e.exports='<formulario #ctrl URL="ajuste-menos-inventario" titulo="Ajuste menos de inventario" [dato]="dato"></formulario>\r\n<app-menu-inventario [modulo]="\'Ajuste menos de inventario\'" [icono]="\'assets/icono-stock.svg\'" [url]="\'/inventario/ajuste-menos-inventario\'"></app-menu-inventario>\r\n<div style="height:50px;"></div>\r\n<form name="form" novalidate [formGroup]="dato">\r\n    <div class="contenedor columns " style="height:100%">\r\n        \x3c!-- apartado de insumos --\x3e\r\n        <div class="column is-one-third" style="padding:1em;">\r\n            <div style="background: #FFF; border-radius: 1em; ">\r\n                <section class="hero is-primary">\r\n                    <h1 *ngIf="!tieneid" class="title" style="margin:0.5em; ">\r\n                        <span class="icon is-medium">\r\n                            <i class="fa fa-file-text"></i>\r\n                        </span> {{ctrl.moduloTitulo}}\r\n                    </h1>\r\n                    <h1 *ngIf="tieneid" class="title" style="margin:0.5em; ">\r\n                        <span class="icon is-medium">\r\n                            <i class="fa fa-file-text"></i>\r\n                        </span> Folio {{ctrl.id}}\r\n                    </h1>\r\n                </section>\r\n                <div style="padding: 1em;">\r\n                    <h3 class="title">\r\n                        <i class="fa fa-file"></i>\r\n                         Datos del ajuste\r\n                    </h3>\r\n                    <div>\r\n                        <div class="field">\r\n                            <label class="label">Tipo de ajuste:</label>\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n                                <select class="select" name="tipo_ajuste" formControlName="tipo_ajuste" [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.get(\'tipo_ajuste\').hasError(\'required\') }">\r\n                                    <option *ngFor="let item of tipos_ajustes" value="{{item.id}}" >{{ item.nombre }}</option>\r\n                                </select>\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'tipo_ajuste\').hasError(\'required\') ">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'tipo_ajuste\').hasError(\'required\') ">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div> \r\n                        <div class="field">\r\n                            <label class="label">Observaciones:</label>\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n                                <textarea class="textarea" type="text" [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.get(\'observaciones\').hasError(\'required\')}"\r\n                                    placeholder="Observaciones" formControlName="observaciones"></textarea>\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'observaciones\').hasError(\'required\')">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'observaciones\').hasError(\'required\')">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \x3c!-- apartado de insumos --\x3e\r\n        <div class="column" style="padding:1em;">\r\n            <div style="background: #FFF; border-radius: 1em; ">\r\n                <section class="hero is-primary">\r\n                    <div class="hero-body">\r\n                        <nav class="level">\r\n                            <div class="level-left"></div>\r\n                            \x3c!-- Right side --\x3e\r\n                            <div class="level-right">\r\n                                <p class="level-item"><a class="button is-primary" (click)="ctrl.regresar()">Regresar</a></p>\r\n                                <p class="level-item" *ngIf="tieneid"><a class="button is-primary" routerLink="/inventario/ajuste-menos-inventario/nuevo" *ngIf="!ctrl.busquedaActivada"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;<span>Nuevo ajuste menos </span></a></p>\r\n                                <p class="level-item" *ngIf="tieneid"><a *ngIf="tieneid" class="button is-primary" (click)="array_servicios = ctrl.servicios; array_turnos = ctrl.turnos; imprimir();"><span class="icon"><i class="fa fa-print"></i></span></a></p>\r\n                                <p class="level-item" *ngIf="!tieneid">\r\n                                        <button class="button is-primary" type="submit" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="guardar_movimiento()" [disabled]="ctrl.dato.invalid"> <span class="icon"><i class="fa fa-floppy-o" aria-hidden="true"></i></span> &nbsp; Guardar</button>\r\n                                </p>\r\n                                <p class="level-item"><a class="button is-primary" title="Actualizar" (click)="ctrl.cargarDatos();"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n                                <p class="level-item">&nbsp;</p>\r\n                            </div>\r\n                        </nav>\r\n                        \r\n                        <div class="container is-fluid">\r\n                            <h1 class="title">\r\n                                <span *ngIf="!ctrl.cargando || !cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                <span *ngIf="ctrl.cargando || cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>                                Insumos\r\n                            </h1>\r\n\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>                    &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n                <section class="section">\r\n                    <div class="field has-addons has-addons-centered" *ngIf="!tieneid">\r\n                        <p class="control">\r\n                            <input ngui-auto-complete [source]="insumos_term" [list-formatter]="autocompleListFormatter" id="buscarInsumo" value-property-name="clave"\r\n                                display-property-name="descripcion" path-to-data="" loading-text="Cargando..." no-match-found-text="No hay resultados."\r\n                                (valueChanged)="select_insumo_autocomplete($event)" min-chars="1" class="input is-success is-medium"\r\n                                type="text" placeholder="Escanea el codigo de barra, o empieza escribir el nombre del producto" >\r\n                        </p>\r\n                        <hr>\r\n                    </div>\r\n\r\n                    <div style="height:20px;"></div>\r\n\r\n                    <div formArrayName="insumos" style="overflow: scroll; overflow-x: hidden; height: 530px;">\r\n                        <div class="box" *ngFor="let item of ctrl.dato.controls.insumos.controls; let i=index" [ngStyle]="{\'background\': i%2 == 0 ? \'rgba(120, 162, 51, 0.16)\' : \'rgba(206, 249, 197, 0.44)\'}">\r\n                            <article class="media" [formGroupName]="i">\r\n                                <div class="media-content">\r\n                                    <div class="content">\r\n                                        <a *ngIf="!tieneid" class="is-danger" title="Quitar este elemento de la lista" style="float:right" (click)="ctrl.quitar_form_array(ctrl.dato.controls.insumos,i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a>\r\n                                        <p>\r\n                                            <strong *ngIf="!tieneid">\r\n                                                <a (click)="select_insumo_autocomplete(item.value)"> \r\n                                                    <span style="color:cornflowerblue"> Clave: {{ ctrl.dato.controls.insumos.controls[i].controls.clave.value }}\r\n                                                    </span>\r\n                                                    <span style="color:black"> Nombre: {{ctrl.dato.controls.insumos.controls[i].controls.descripcion.value}} </span>\r\n                                                \r\n                                                    <label class="tag is-success" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_causes.value == 1"><strong>Cause </strong></label>\r\n                                                    <label class="tag is-success" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_causes.value == 0"><strong>No Cause </strong> </label>                                           \r\n                                                                                                \r\n                                                    <label class="tag is-warning" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_unidosis.value == 1\r\n                                                    "><strong>Unidosis</strong> </label>\r\n                                                </a>\r\n                                            </strong>\r\n                                            <strong *ngIf="tieneid">\r\n                                                <span style="color:cornflowerblue"> Clave: {{ ctrl.dato.controls.insumos.controls[i].controls.clave.value }}\r\n                                                </span>\r\n                                                <span style="color:black"> Nombre: {{ctrl.dato.controls.insumos.controls[i].controls.descripcion.value}} </span>\r\n                                            \r\n                                                <label class="tag is-success" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_causes.value == 1"><strong>Cause </strong></label>\r\n                                                <label class="tag is-success" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_causes.value == 0"><strong>No Cause </strong> </label>                                           \r\n                                                                                            \r\n                                                <label class="tag is-warning" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_unidosis.value == 1\r\n                                                "><strong>Unidosis</strong> </label>\r\n                                            </strong>\r\n                                            <br> {{ctrl.dato.controls.insumos.controls[i].controls.descripcion.value}}\r\n                                        </p>\r\n                                        <a class="is-danger" title="Ver la lista de lotes de este articulo" style="float:right" (click)="ver_lotes_asignados(i)"> \r\n                                        </a>\r\n                                    </div>\r\n                                    <section>\r\n                                        <table class="table is-narrow is-bordered is-striped">\r\n                                            <thead>\r\n                                                <tr>\r\n                                                    <th>Lote</th>\r\n                                                    <th>Caducidad</th>\r\n                                                    <th>Codigo de barras</th>\r\n                                                    <th *ngIf=\'!tieneid\'>Existencia</th>\r\n                                                    <th *ngIf=\'tieneid\'>Existencia anterior</th>                                                \r\n                                                    <th>Nueva existencia</th>\r\n                                                    <th *ngIf="!tieneid"></th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody formArrayName="lotes">\r\n                                                <tr *ngFor="let val of ctrl.dato.controls.insumos.controls[i].controls.lotes.controls;  let i2 = index;">\r\n                                                    <td><span *ngIf="val.value.nuevo == 1" class="tag is-success is-small ">Nuevo</span> &nbsp; {{val.value.lote}}</td>\r\n                                                    <td>{{val.value.fecha_caducidad}}</td>\r\n                                                    <td>{{val.value.codigo_barras}}</td>\r\n                                                    <td *ngIf="!tieneid">{{val.value.existencia}}</td>\r\n                                                    <td *ngIf="tieneid">{{val.value.existencia_anterior}}</td>\r\n                                                    <td [formGroupName]="i2">\r\n                                                        <input *ngIf="!tieneid" class="input has-text-centered" (blur)="validar_cantidad_lote(i, val, i2, modo)" type="number" step="1"\r\n                                                            (keypress)="quitar_punto($event)" min="0" max="{{item.existencia - 1}}" placeholder="Cantidad" formControlName="cantidad">\r\n                                                        <input *ngIf="tieneid" class="input has-text-centered" type="number" step="1"  min="{{val.value.existencia + 1}}"\r\n                                                            placeholder="Cantidad" formControlName="nueva_existencia" readonly>\r\n                                                    </td>\r\n                                                    <td *ngIf="!tieneid">\r\n                                                        <a class="is-danger" title="Quitar este lote" (click)="quitar_lote_insumo(i, val.value, i2)">\r\n                                                            <span class="icon">\r\n                                                                <i class="fa fa-trash-o"></i>\r\n                                                            </span>\r\n                                                        </a>\r\n                                                    </td>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </table>\r\n                                    </section>\r\n                                    <nav class="level is-mobile">\r\n                                        <div class="level-left">\r\n                                        </div>\r\n                                        <div class="level-right">\r\n                                            <a class="level-item" >\r\n                                                <div class="field">\r\n                                                    <label class="label" *ngIf="!tieneid">Total ({{ctrl.dato.controls.insumos.controls[i].controls.presentacion_nombre.value}}):</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input *ngIf="!tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_surtida" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.hasError(\'required\') && ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.touched}">\r\n                                                    </p>\r\n                                                </div>\r\n                                            </a>\r\n                                        </div>\r\n                                    </nav>\r\n                                </div>\r\n                            </article>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</form>\r\n\r\n\r\n<div class="modal" id="verLotes">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card" style="width: 60%;">\r\n        <header class="modal-card-head">\r\n            <p class="modal-card-title" id="tituloModal" style="width: 200px"> </p>\r\n            <button type="button" class="delete" (click)="cancelarModal(\'verLotes\'); modo = \'N\';"></button>\r\n        </header>\r\n        <section class="modal-card-body">\r\n            <div class="columns">\r\n                <div class="column is-two-thirds">\r\n                    <div class="columns">\r\n                        <div class="column is-4">\r\n                            <label class="label" style="font-size: large;float: left;margin-right: 6%;">Ajuste menos : </label>\r\n                        </div>\r\n                        <label for="modo_n">\r\n                            <span class="tag is-large is-success">Normal</span>\r\n                        </label>\r\n                    </div>\r\n                </div>\r\n                \r\n            </div>\r\n            <table class="table is-narrow is-bordered is-striped">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Lote</th>\r\n                        <th>Caducidad</th>\r\n                        <th>Codigo de barras</th>\r\n                        <th>Existencia</th>\r\n                        <th>Nueva existencia</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor="let item of lotes_insumo;  let i = index;">\r\n                        <td *ngIf="!item.nuevo">{{item.lote}}</td>\r\n                        <td *ngIf="item.nuevo"><input class="input has-text-centered " type="text" placeholder="Lote" [(ngModel)]="item.lote"></td>\r\n                        <td *ngIf="!item.nuevo">{{item.fecha_caducidad}}</td>\r\n                        <td *ngIf="item.nuevo"><input class="input has-text-centered " type="date" placeholder="Fecha de caducidad" [(ngModel)]="item.fecha_caducidad"></td>\r\n                        <td *ngIf="!item.nuevo">{{item.codigo_barras}}</td>\r\n                        <td *ngIf="item.nuevo"><input class="input has-text-centered " type="text" placeholder="Codigo de barras" [(ngModel)]="item.codigo_barras"></td>\r\n                        <td *ngIf="!item.nuevo">{{item.existencia}}</td>\r\n                        <td *ngIf="item.nuevo "></td>\r\n                        <td>\r\n                            <input class="input has-text-centered" type="number" step="1" (keypress)="quitar_punto($event)"  (keyup)="comprobar_cant_lotes()"\r\n                            (change)="comprobar_cant_lotes()" min="0" max="{{item.existencia - 1}}" placeholder="Nueva Existencia" [(ngModel)]="item.cantidad">\r\n                        </td>\r\n                        <td *ngIf="item.nuevo">\r\n                            <a class="delete" (click)=eliminarLote(i)></a>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </section>\r\n        <footer class="modal-card-foot">                          \r\n            <a class="button is-success" [ngClass]="{\'is-disabled\':!sum_cant_lotes}" (click)="validarLotesInsumo()">Aceptar</a>\r\n            <a class="button" (click)="cancelarModal(\'verLotes\'); modo = \'N\';">Cancelar</a>\r\n            <div class="card-footer-item"></div>\r\n        </footer>\r\n        <simple-notifications [options]="options"></simple-notifications>\r\n    </div>\r\n</div>\r\n\r\n<div class="modal" id="negarExistencia">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card">\r\n        <header class="modal-card-head">\r\n            <p class="modal-card-title"><i class="fa fa-warning"></i> Alerta</p>\r\n            <button class="delete" (click)="cancelarModal(\'negarExistencia\')"></button>\r\n        </header>\r\n        <section class="modal-card-body">\r\n            <div class="content">\r\n                <h1>\xbfEsta seguro de negar la existencia del insumo?</h1>\r\n                <p>Ya no se podra cambiar la cantidad negada</p>\r\n            </div>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-success" (click)="agregarLoteIsumo()">Continuar</a>\r\n            <a class="button" (click)="cancelarModal(\'negarExistencia\')">Cancelar</a>\r\n        </footer>\r\n    </div>\r\n</div>\r\n\r\n<div class="modal" id="guardarMovimiento">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card">\r\n        <header class="modal-card-head">\r\n            <p class="modal-card-title"><i class="fa fa-warning"></i> Alerta</p>\r\n            <button class="delete" (click)="cancelarModal(\'guardarMovimiento\')"></button>\r\n        </header>\r\n        <section class="modal-card-body">\r\n            <div class="content">\r\n                <h1>\xbfEsta seguro de guardar el ajuste MENOS?</h1>\r\n                <p>Ya no se podr\xe1 realizar cambios</p>\r\n            </div>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-success" (click)="ctrl.enviar(); cancelarModal(\'guardarMovimiento\')">Continuar</a>\r\n            <a class="button" (click)="cancelarModal(\'guardarMovimiento\')">Cancelar</a>\r\n        </footer>\r\n    </div>\r\n</div>'},Mcsy:function(e,t){e.exports='<panel-control-menu></panel-control-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%; ">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" >\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden; margin:2em;">\r\n            <section class="hero is-primary">\r\n                <div class="hero-body">\r\n                    <div class="container is-fluid">\r\n                        <h1 class="title">\r\n                            <span  *ngIf="!cargando" class="icon is-medium"><i class="fa fa-plus"></i></span>\r\n                            <span  *ngIf="cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span> \r\n                            Nuevo servidor\r\n                        </h1>\r\n                        \r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <section class="section">\r\n                <div class="control is-grouped">\r\n                    <p class="control is-expanded  has-icon has-icon-right">\r\n                        <input class="input is-medium" [(ngModel)]="servidor.id"  [ngClass]="{ \'is-danger\': errores.id != null}"  type="text" placeholder="ID" >\r\n                        \r\n                        <span class="icon is-small" *ngIf="errores.id == \'required\' || errores.id == \'unique\'">\r\n                        <i class="fa fa-warning"></i>\r\n                        </span>\r\n                        <span class="help is-danger" *ngIf="errores.id == \'required\'">Por favor especifique el ID del servidor.</span>\r\n                        <span class="help is-danger" *ngIf="errores.id == \'unique\'">Este ID ya fue utilizado, por favor elija otro.</span>              \r\n                    </p>\r\n                    <p class="control is-expanded  has-icon has-icon-right">\r\n                        <input class="input is-medium" [(ngModel)]="servidor.nombre"  [ngClass]="{ \'is-danger\': errores.nombre != null}"  type="text" placeholder="Nombre" >\r\n                        \r\n                        <span class="icon is-small" *ngIf="errores.nombre == \'required\'">\r\n                        <i class="fa fa-warning"></i>\r\n                        </span>\r\n                        <span class="help is-danger" *ngIf="errores.nombre == \'required\'">Por favor especifique el nombre del servidor.</span>\r\n                    </p>\r\n                </div>\r\n                <div class="control is-grouped">\r\n                   \x3c!-- <div class="field has-addons">\r\n                            <p class="control">\r\n                                <input class="input" type="text" placeholder="Amount of money">\r\n                            </p>\r\n                            <p class="control">\r\n                                <a class="button is-primary">\r\n                                Transfer\r\n                                </a>\r\n                            </p>\r\n                    </div>--\x3e\r\n                    <p class="control is-expanded  has-icon has-icon-right">\r\n                        <input class="input is-medium" [(ngModel)]="servidor.secret_key"  [ngClass]="{ \'is-danger\': errores.secret_key != null}"  type="text" placeholder="Secret key" >\r\n                        \r\n                        <span class="icon is-small" *ngIf="errores.secret_key == \'required\'">\r\n                        <i class="fa fa-warning"></i>\r\n                        </span>\r\n                        <span class="help is-danger" *ngIf="errores.secret_key == \'required\'">Por favor especifique el Secret Key del servidor.</span>                            \r\n                    </p>\r\n                    <p class="control">\r\n                        <a class="button  is-medium is-primary" (click)="generarSecretKey()">\r\n                        <span class="icon"><i class="fa fa-key"></i></span>\r\n                        </a>\r\n                    </p>\r\n                    <p class="control is-expanded  has-icon has-icon-right">\r\n                        <input class="input is-medium" [(ngModel)]="servidor.periodo_sincronizacion"  [ngClass]="{ \'is-danger\': errores.periodo_sincronizacion != null}"  type="text" placeholder="Periodo de sincronizaci\xf3n (Horas)" >\r\n                        \r\n                        <span class="icon is-small" *ngIf="errores.periodo_sincronizacion == \'required\' || errores.periodo_sincronizacion == \'integer\'">\r\n                        <i class="fa fa-warning"></i>\r\n                        </span>\r\n                        <span class="help is-danger" *ngIf="errores.periodo_sincronizacion == \'required\'">Por favor especifique el periodo de sincronizaci\xf3n.</span>                            \r\n                        <span class="help is-danger" *ngIf="errores.periodo_sincronizacion == \'integer\'">Por favor el periodo de sincronizacion debe estar expresado en horas y en n\xfameros enteros. Por ejemplo: 24.</span>                            \r\n                    </p>\r\n                </div>\r\n\r\n                <div class="control is-grouped">\r\n                    \r\n                    <p class="control is-expanded">\r\n                        <span class="select is-fullwidth is-medium ">\r\n                        <select #clues [(ngModel)]="servidor.clues">\r\n                            \x3c!--option [ngValue]="{clues:\'\'}" [selected]="true">Elija una unidad m\xe9dica</option--\x3e\r\n                            <option *ngFor="let item of listaClues" [ngValue]="item.clues">{{ item.clues }} - {{ item.nombre }}</option>\r\n                        </select>\r\n                        </span>\r\n                        <span class="help is-danger" *ngIf="errores.clues == \'required\'">Por favor especifique la clues del servidor.</span>   \r\n                    </p> \r\n                   \x3c!-- <p class="control is-expanded  has-icon has-icon-right">\r\n                        <input class="input is-medium" [(ngModel)]="servidor.clues"  [ngClass]="{ \'is-danger\': errores.clues != null}"  type="text" placeholder="CLUES" >\r\n                        \r\n                        <span class="icon is-small" *ngIf="errores.clues == \'required\'">\r\n                        <i class="fa fa-warning"></i>\r\n                        </span>\r\n                        <span class="help is-danger" *ngIf="errores.clues == \'required\'">Por favor especifique la clues del servidor.</span>                            \r\n                    </p>--\x3e\r\n                    <p class="control is-expanded  has-icon has-icon-right">\r\n                        <input class="input is-medium" [(ngModel)]="servidor.ip"  [ngClass]="{ \'is-danger\': errores.ip != null}"  type="text" placeholder="Direcci\xf3n IP" >\r\n                        \r\n                        <span class="icon is-small" *ngIf="errores.ip == \'required\'">\r\n                        <i class="fa fa-warning"></i>\r\n                        </span>\r\n                        <span class="help is-danger" *ngIf="errores.ip == \'required\'">Por favor especifique la direcci\xf3n ip.</span>                                                    \r\n                    </p>\r\n                </div>\r\n                \r\n                <div class="field">\r\n                    <div class="control  ">\r\n                        <label class="checkbox">\r\n                        <input type="checkbox" [(ngModel)]="servidor.tiene_internet">\r\n                        Tiene internet\r\n                        </label> &nbsp; \r\n                        <label class="checkbox">\r\n                        <input type="checkbox" [(ngModel)]="servidor.principal">\r\n                        Es el principal\r\n                        </label>\r\n                    </div>\r\n                </div>   \r\n                <br>\r\n                    \r\n                <div class="control is-grouped">\r\n                    \r\n                    <p class="control">\r\n                        <a class="button is-medium is-primary " [ngClass]="{ \'is-loading\': enviando}" (click)="guardar()" >\r\n                        <span class="icon"><i class="fa fa-save"></i></span><span>Guardar</span>\r\n                        </a>\r\n                    </p><p class="control">\r\n                        <a class="button is-medium is-white " [ngClass]="{ \'is-disabled\': enviando}" routerLink="/panel-control/sync/servidores">Cancelar</a>\r\n                    </p>                    \r\n                </div>\r\n                           \r\n              \r\n              <br>\r\n              \r\n\r\n\r\n            </section>\r\n            \r\n        </div>\r\n        \r\n    </div>\r\n</div>\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br> \r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeError.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n'},Mr5J:function(e,t){e.exports=""},MwdP:function(e,t){e.exports=".item{ width: 100%; text-align: center; display:block; font-size: 0.8em; }"},"N/oC":function(e,t){e.exports='<div class="modal" [ngClass]="{\'is-active\': mostrar}" >\r\n  <div class="modal-background" (click)="toggle()"></div>\r\n  <div class="modal-content">\r\n    \x3c!-- Any other Bulma elements you want --\x3e\r\n    <div class="card" style="width: 100%; border-radius: 1em; background: #222;">\r\n        <div class="card-content">\r\n            <div class="columns is-multiline is-mobile">\r\n\r\n                <div class="column is-one-quarter" *ngFor="let item of hubAutorizado" >\r\n                    <a href="#" title="{{ item.title }}" class="hub-item" routerLink="{{ item.routerLink }}" routerLinkActive="active">\r\n                        <figure class="image " style="height: auto; width: 100%; ">\r\n                           <img src="{{ item.icono }}" alt="{{ item.title }}">                            \r\n                        </figure>\r\n\r\n                        <span class="is-hidden-mobile">{{item.title}}</span>\r\n\r\n                    </a>\r\n                </div>\r\n                \x3c!--div class="column is-one-quarter">\r\n                    <a href="#" title="Farmacia" class="hub-item" routerLink="/farmacia" routerLinkActive="active">\r\n                        <figure class="image" style="height: 100%; width: 100%;">\r\n                           <img src="assets/hub-farmacia.svg" alt="Almac\xe9n">\r\n                        </figure>\r\n                        <span class="is-hidden-mobile">Almac\xe9n</span>\r\n                    </a>\r\n                </div--\x3e\r\n                \x3c!--div class="column is-one-quarter">\r\n                    <a href="#" title="Almac\xe9n" class="hub-item" routerLink="/almacen" routerLinkActive="active">\r\n                        <figure class="image" style="height: 100%; width: 100%;">\r\n                           <img src="assets/hub-almacen.svg" alt="Almac\xe9n">\r\n                        </figure>\r\n                        <span class="is-hidden-mobile">Almac\xe9n</span>\r\n                    </a>\r\n                </div--\x3e\r\n                \r\n                \x3c!--div class="column is-one-quarter">\r\n                    <a href="#" title="Panel de control" class="hub-item" routerLink="/panel-control" routerLinkActive="active">\r\n                        <figure class="image" style="height: 100%; width: 100%;">\r\n                           <img src="assets/hub-panel-control.svg" alt="Panel de control">\r\n                        </figure>\r\n                        <span class="is-hidden-mobile">Panel de control</span>\r\n                    </a>\r\n                </div--\x3e\r\n\r\n            </div>\r\n            \r\n        </div>\r\n    </div>\r\n  </div>\r\n  <button class="modal-close" (click)="toggle()"></button>\r\n</div>'},N1Pb:function(e,t){e.exports='<section class="hero" [ngClass]=" {\'is-dark\': ctrl.busquedaActivada, \'is-primary\': !ctrl.busquedaActivada } ">\r\n    <div class="hero-body" style="position:relative;">\r\n\r\n        <div class="control is-grouped" style="position:absolute; top:0.5em; right:0em;">\r\n            \r\n            <p class="control" *ngIf="!ctrl.busquedaActivada">\r\n                <a class="button is-primary tooltip"  (click)="ctrl.listar(1)">\r\n                    <span class="icon ">\r\n                        <i class="fa fa-refresh"></i>\r\n                    </span>\r\n                    <span class="tooltiptext">Actualizar</span>\r\n                </a>\r\n            </p>\r\n\r\n            <p class="control" *ngIf="ctrl.busquedaActivada">\r\n                <a class="button is-dark tooltip"  (click)="ctrl.listarBusqueda(searchBox.value,1)" id="cargar_datos_actualizar">\r\n                    <span class="icon ">\r\n                        <i class="fa fa-refresh"></i>\r\n                    </span>\r\n                    <span class="tooltiptext">Actualizar</span>\r\n                </a>\r\n            </p>\r\n\r\n            <p class="control" *ngIf="nuevo">\r\n                <a  class="button is-{{ctrl.busquedaActivada ? \'dark\' : \'primary\'}} tooltip"  routerLink="{{url_nuevo}}">\r\n                    <span class="icon ">\r\n                        <i class="fa fa-file"></i>\r\n                    </span>\r\n                    <span class="tooltiptext">Nuevo</span>\r\n                </a>\r\n            </p>\r\n\r\n            <p class="control" *ngIf="excel_export">\r\n                <a class="button is-{{ctrl.busquedaActivada ? \'dark\' : \'primary\'}} tooltip" (click)="imprimirExcel()">\r\n                    <span class="icon ">\r\n                        <i class="fa fa-file-excel-o"></i>\r\n                    </span>\r\n                    <span class="tooltiptext">Exportar Excel</span>\r\n                </a>\r\n            </p>\r\n\r\n            <p class="control">\r\n                <a class="button is-{{ctrl.busquedaActivada ? \'dark\' : \'primary\'}} tooltip" (click)="imprimir()">\r\n                    <span class="icon ">\r\n                        <i class="fa fa-print"></i>\r\n                    </span>\r\n                    <span class="tooltiptext">Imprimir</span>\r\n                </a>\r\n            </p>\r\n            <p class="control">\r\n                <a class="button  is-dark tooltip" *ngIf="ctrl.busquedaActivada" (click)="ctrl.cerrar_busqueda(searchBox)">\r\n                    <span class="icon ">\r\n                        <i class="fa fa-close"></i>\r\n                    </span>\r\n                    <span class="tooltiptext">Cerrar Busqueda</span>\r\n                </a>\r\n            </p>\r\n        </div>\r\n\r\n        <div class="container is-fluid" *ngIf="busqueda">\r\n\r\n            <h1 class="title" *ngIf="!ctrl.busquedaActivada && mostrar_nombre">\r\n                <span class="icon"><i class="{{icono}}"></i></span>&nbsp; {{nombre}}\r\n            </h1>\r\n            <h1 class="title" *ngIf="ctrl.busquedaActivada">\r\n                <span class="icon"><i class="fa fa-search"></i></span> B\xfasqueda\r\n            </h1>\r\n            <div class="control is-grouped">\r\n                <p class="control is-expanded">\r\n                    <input class="input" type="text" placeholder="Buscar" #searchBox id="search-box" (keyup)="ctrl.buscar(searchBox.value)">\r\n                </p>\r\n                \r\n            </div>\r\n        </div>\r\n\r\n        <div class="container is-fluid">\r\n            <div class="control is-grouped">\r\n                \x3c!--\r\n                <p class="control">\r\n                    <span class="select">\r\n                        <select style="width: 150px" name="tipo_busqueda" #tipoBusqueda (change)="tipo_busqueda = tipoBusqueda.value">\r\n                            <option value="TODO" selected>TODO</option>\r\n                            <option value="OPTIMA">OPTIMA</option>\r\n                            <option value="MEDIA">MEDIA</option>\r\n                            <option value="PRONTA">PRONTA</option>\r\n                            <option value="CADUCADO">CADUCADO</option>\r\n                        </select>\r\n                    </span>\r\n                </p>\r\n                --\x3e\r\n                <p class="control">&nbsp;</p>\r\n                <p class="control b-checkbox is-info is-circular" style="margin-top: -15px;">\r\n                    <input class="styled" type="radio" id="buscar_en_mis_claves" #claves [checked]="buscar_en == \'MIS_CLAVES\'" (click)="buscar_en = \'MIS_CLAVES\'" [value]="\'MIS_CLAVES\'" name="buscar_en">\r\n                    <label class="radio" for="buscar_en_mis_claves">\r\n                        <span class="tag is-medium" [ngClass]="{\'is-dark\':buscar_en == \'MIS_CLAVES\'}">Mis claves</span>\r\n                    </label>\r\n                </p>\r\n                <p class="control">&nbsp;</p>\r\n                <p class="control  b-checkbox is-circular" style="margin-top: -15px;">\r\n                    <input class="styled" type="radio" id="buscar_en_todas_claves" #claves [checked]="buscar_en == \'TODAS_LAS_CLAVES\'" (click)="buscar_en = \'TODAS_LAS_CLAVES\'" [value]="\'TODAS_LAS_CLAVES\'" name="buscar_en">\r\n                    <label class="radio" for="buscar_en_todas_claves">\r\n                        <span class="tag is-medium" [ngClass]="{\'is-dark\':buscar_en == \'TODAS_LAS_CLAVES\'}">Todas las claves</span>\r\n                    </label>    \r\n                </p>\r\n                <p class="control">\r\n                    <span class="select">\r\n                        <select name="tipo_insumo" #tipoInsumo title="Tipo de insumo"\r\n                            (change)="tipo_insumo = tipoInsumo.value; tipoInsumo.value == \'MC\' ? tipoCauses.value = \'TODO\' : \'\'; \r\n                            tipoInsumo.value == \'MC\' ? tipo_causes = \'TODO\' : \'\'; tipoInsumo.value == \'MC\' ? tipoControlado.value = \'TODO\' : \'\';\r\n                            tipoInsumo.value == \'MC\' ? tipo_controlado = \'TODO\' : \'\';">\r\n                            <option value="TODO">TODO</option>\r\n                            <option value="ME">MEDICAMENTOS</option>\r\n                            <option value="MC">MATERIAL DE CURACI\xd3N</option>\r\n                        </select>\r\n                    </span>\r\n                </p>\r\n                <p class="control">\r\n                    <span class="select">\r\n                        <select style="width: 150px"  name="tipo_causes" title="Clasificaci\xf3n de CAUSES" #tipoCauses (change)="tipo_causes = tipoCauses.value"\r\n                            [ngClass]="{\'is-disabled\': tipoInsumo.value == \'MC\'}">\r\n                            <option value="TODO">TODO</option>\r\n                            <option value="CAUSES">CAUSES</option>\r\n                            <option value="NO_CAUSES">NO CAUSES</option>\r\n                        </select>\r\n                    </span>\r\n                </p>\r\n                <p class="control">\r\n                    <span class="select">\r\n                        <select name="tipo_controlados" title="Tipo de controlado" #tipoControlado (change)="tipo_controlado = tipoControlado.value"\r\n                            [ngClass]="{\'is-disabled\': tipoInsumo.value == \'MC\'}">>\r\n                            <option value="TODO">TODO</option>\r\n                            <option value="CONTROLADOS">CONTROLADOS</option>\r\n                            <option value="NO_CONTROLADOS">NO CONTROLADOS</option>\r\n                        </select>\r\n                    </span>\r\n                </p>\r\n                <p class="control is-expanded">\r\n                    <input class="input" type="text" #claveInsumo (change)="clave_insumo = claveInsumo.value"\r\n                    placeholder="Descripci\xf3n o clave del insumo" id="clave_insumo" name="clave_insumo">\r\n                </p>\r\n                <p class="control">\r\n                    <button class="button is-default" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" \r\n                    (click)="buscar_en=\'TODAS_LAS_CLAVES\';\r\n                    tipoInsumo.value=\'TODO\'; tipoCauses.value=\'TODO\'; tipoControlado.value=\'TODO\'; claveInsumo.value=\'\';\r\n                    tipo_insumo=\'TODO\'; tipo_causes=\'TODO\'; tipo_controlado=\'TODO\'; clave_insumo=\'\'" >Limpiar</button>\r\n                </p>\r\n                <p class="control">\r\n                    <button class="button" (click)="ctrl.listar(1)">\r\n                        <span class="icon"><i class="fa fa-filter"></i></span> <span>Filtrar</span>\r\n                    </button>\r\n                </p>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</section>\r\n\r\n<div class="is-fullwidth has-text-centered" *ngIf="ctrl.cargando">\r\n    <br>\r\n    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n    <br>\r\n    <br>\r\n</div>'},NQph:function(e,t){e.exports='<aside class="menu" style="padding: 1em;">\r\n    <p class="menu-label">\r\n        Admisi\xf3n\r\n    </p>\r\n    \r\n    <a routerLink="/pacientes/modulo/verificacion" routerLinkActive="is-active" class="button is-primary is-inverted is-medium is-fullwidth" ><span class="icon"  ><i class="fa fa-plus"></i></span> <span>Nuevo Ingreso</span></a>\r\n    <br>\r\n\r\n    <ul class="menu-list">  \r\n        <li>\r\n            <a routerLinkActive="is-active" routerLink="/paciente/">\r\n                <span class="icon" ><i class="fa fa-user"></i></span> Pacientes\r\n                <span class="icon is-pulled-right" *ngIf="cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span>\r\n                \r\n            </a>\r\n        </li>        \r\n        <li>\r\n            <a routerLinkActive="is-active" routerLink="/pacientes/modulo/verificacion">\r\n                <span class="icon" ><i class="fa fa-hospital-o"></i></span> Ingresos\r\n                <span class="icon is-pulled-right" *ngIf="cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span>\r\n               \r\n            </a>\r\n        </li>        \r\n        <li>\r\n            <a  routerLinkActive="is-active" routerLink="/pacientes/modulo/egreso">\r\n                <span class="icon"  ><i class="fa fa-arrow-right"></i></span> Egresos \r\n                <span class="icon is-pulled-right" *ngIf="cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span>\r\n            </a>\r\n        </li>\r\n    </ul>        \r\n</aside>'},Nf35:function(e,t){e.exports='<formulario #ctrl URL="ajuste-mas-inventario" titulo="Ajuste m\xe1s de inventario" [dato]="dato"></formulario>\r\n<app-menu-inventario [modulo]="\'Ajuste m\xe1s de inventario\'" [icono]="\'assets/icono-stock.svg\'" [url]="\'/inventario/ajuste-mas-inventario\'"></app-menu-inventario>\r\n<div style="height:50px;"></div>\r\n<form name="form" novalidate [formGroup]="dato">\r\n    <div class="contenedor columns " style="height:100%">\r\n        \x3c!-- apartado de insumos --\x3e\r\n        <div class="column is-one-third" style="padding:1em;">\r\n            <div style="background: #FFF; border-radius: 1em; ">\r\n                <section class="hero is-primary">\r\n                    <h1 *ngIf="!tieneid" class="title" style="margin:0.5em; ">\r\n                        <span class="icon is-medium">\r\n                            <i class="fa fa-file-text"></i>\r\n                        </span> {{ctrl.moduloTitulo}}\r\n                    </h1>\r\n                    <h1 *ngIf="tieneid" class="title" style="margin:0.5em; ">\r\n                        <span class="icon is-medium">\r\n                            <i class="fa fa-file-text"></i>\r\n                        </span> Folio {{ctrl.id}}\r\n                    </h1>\r\n                </section>\r\n                <div style="padding: 1em;">\r\n                    <h3 class="title">\r\n                        <i class="fa fa-file"></i>\r\n                         Datos del ajuste\r\n                    </h3>\r\n                    <div>\r\n                        <div class="field">\r\n                            <label class="label">Observaciones:</label>\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n                                <textarea class="textarea" type="text" [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.get(\'observaciones\').hasError(\'required\') && ctrl.dato.get(\'observaciones\').touched}"\r\n                                    placeholder="Observaciones" formControlName="observaciones"></textarea>\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'observaciones\').hasError(\'required\') && ctrl.dato.get(\'observaciones\').touched">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'observaciones\').hasError(\'required\') && ctrl.dato.get(\'observaciones\').touched">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \x3c!-- apartado de insumos --\x3e\r\n        <div class="column" style="padding:1em;">\r\n            <div style="background: #FFF; border-radius: 1em; ">\r\n                <section class="hero is-primary">\r\n                    <div class="hero-body">\r\n                        <nav class="level">\r\n                            <div class="level-left"></div>\r\n                            \x3c!-- Right side --\x3e\r\n                            <div class="level-right">\r\n                                <p class="level-item"><a class="button is-primary" routerLink="/inventario/ajuste-mas-inventario">Regresar</a></p>\r\n                                <p class="level-item" *ngIf="tieneid"><a class="button is-primary" routerLink="/inventario/ajuste-mas-inventario/nuevo" *ngIf="!ctrl.busquedaActivada"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;<span>Nuevo ajuste m\xe1s</span></a></p>\r\n                                <p class="level-item" *ngIf="tieneid"><a *ngIf="tieneid" class="button is-primary" (click)="array_servicios = ctrl.servicios; array_turnos = ctrl.turnos; imprimir();"><span class="icon"><i class="fa fa-print"></i></span></a></p>\r\n                                <p class="level-item" *ngIf="!tieneid">\r\n                                        <button class="button is-primary" type="submit" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="guardar_movimiento()" [disabled]="ctrl.dato.invalid"> <span class="icon"><i class="fa fa-floppy-o" aria-hidden="true"></i></span> &nbsp; Guardar</button>\r\n                                </p>\r\n                                <p class="level-item"><a class="button is-primary" title="Actualizar" (click)="ctrl.cargarDatos();"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n                                <p class="level-item">&nbsp;</p>\r\n                            </div>\r\n                        </nav>\r\n                        \r\n                        <div class="container is-fluid">\r\n                            <h1 class="title">\r\n                                <span *ngIf="!ctrl.cargando || !cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                <span *ngIf="ctrl.cargando || cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>                                Insumos\r\n                            </h1>\r\n\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>                    &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n                <section class="section">\r\n                    <div class="field has-addons has-addons-centered" *ngIf="!tieneid">\r\n                        <p class="control">\r\n                            <input ngui-auto-complete [source]="insumos_term" [list-formatter]="autocompleListFormatter" id="buscarInsumo" value-property-name="clave"\r\n                                display-property-name="descripcion" path-to-data="" loading-text="Cargando..." no-match-found-text="No hay resultados."\r\n                                (valueChanged)="select_insumo_autocomplete($event)" min-chars="1" class="input is-success is-medium"\r\n                                type="text" placeholder="Escanea el codigo de barra, o empieza escribir el nombre del producto" >\r\n                        </p>\r\n                        <hr>\r\n                    </div>\r\n\r\n                    <div style="height:20px;"></div>\r\n\r\n                    <div formArrayName="insumos" style="overflow: scroll; overflow-x: hidden; height: 530px;">\r\n                        <div class="box" *ngFor="let item of ctrl.dato.controls.insumos.controls; let i=index" [ngStyle]="{\'background\': i%2 == 0 ? \'rgba(120, 162, 51, 0.16)\' : \'rgba(206, 249, 197, 0.44)\'}">\r\n                            <article class="media" [formGroupName]="i">\r\n                                <div class="media-content">\r\n                                    <div class="content">\r\n                                        <a *ngIf="!tieneid" class="is-danger" title="Quitar este elemento de la lista" style="float:right" (click)="ctrl.quitar_form_array(ctrl.dato.controls.insumos,i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a>\r\n                                        <p>\r\n                                            <strong *ngIf="!tieneid">\r\n                                                <a (click)="select_insumo_autocomplete(item.value)"> \r\n                                                    <span style="color:cornflowerblue"> Clave: {{ ctrl.dato.controls.insumos.controls[i].controls.clave.value }}\r\n                                                    </span>\r\n                                                    <span style="color:black"> Nombre: {{ctrl.dato.controls.insumos.controls[i].controls.descripcion.value}} </span>\r\n                                                \r\n                                                    <label class="tag is-success" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_causes.value == 1"><strong>Cause </strong></label>\r\n                                                    <label class="tag is-success" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_causes.value == 0"><strong>No Cause </strong> </label>                                           \r\n                                                                                                \r\n                                                    <label class="tag is-warning" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_unidosis.value == 1\r\n                                                    "><strong>Unidosis</strong> </label>\r\n                                                </a>\r\n                                            </strong>\r\n                                            <strong *ngIf="tieneid">\r\n                                                <span style="color:cornflowerblue"> Clave: {{ ctrl.dato.controls.insumos.controls[i].controls.clave.value }}\r\n                                                </span>\r\n                                                <span style="color:black"> Nombre: {{ctrl.dato.controls.insumos.controls[i].controls.descripcion.value}} </span>\r\n                                            \r\n                                                <label class="tag is-success" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_causes.value == 1"><strong>Cause </strong></label>\r\n                                                <label class="tag is-success" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_causes.value == 0"><strong>No Cause </strong> </label>                                           \r\n                                                                                            \r\n                                                <label class="tag is-warning" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_unidosis.value == 1\r\n                                                "><strong>Unidosis</strong> </label>\r\n                                            </strong>\r\n                                            <br> {{ctrl.dato.controls.insumos.controls[i].controls.descripcion.value}}\r\n                                        </p>\r\n                                        <a class="is-danger" title="Ver la lista de lotes de este articulo" style="float:right" (click)="ver_lotes_asignados(i)"> \r\n                                        </a>\r\n                                    </div>\r\n                                    <section>\r\n                                        <table class="table is-narrow is-bordered is-striped">\r\n                                            <thead>\r\n                                                <tr>\r\n                                                    <th>Lote</th>\r\n                                                    <th>Caducidad</th>\r\n                                                    <th>Codigo de barras</th>\r\n                                                    <th *ngIf=\'!tieneid\'>Existencia</th>\r\n                                                    <th *ngIf=\'tieneid\'>Existencia anterior</th>                                                \r\n                                                    <th>Nueva existencia</th>\r\n                                                    <th *ngIf="!tieneid"></th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody formArrayName="lotes">\r\n                                                <tr *ngFor="let val of ctrl.dato.controls.insumos.controls[i].controls.lotes.controls;  let i2 = index;">\r\n                                                    <td><span *ngIf="val.value.nuevo == 1" class="tag is-success is-small ">Nuevo</span> &nbsp; {{val.value.lote}}</td>\r\n                                                    <td>{{val.value.fecha_caducidad}}</td>\r\n                                                    <td>{{val.value.codigo_barras}}</td>\r\n                                                    <td *ngIf="!tieneid">{{val.value.existencia}}</td>\r\n                                                    <td *ngIf="tieneid">{{val.value.existencia_anterior}}</td>\r\n                                                    <td [formGroupName]="i2">\r\n                                                        <input *ngIf="!tieneid" class="input has-text-centered" (blur)="validar_cantidad_lote(i, val, i2, modo)" type="number" step="1"  min="{{val.value.existencia + 1}}"\r\n                                                            (keypress)="quitar_punto($event)" placeholder="Cantidad" formControlName="cantidad">\r\n                                                        <input *ngIf="tieneid" class="input has-text-centered" type="number" step="1"  min="{{val.value.existencia + 1}}"\r\n                                                            placeholder="Cantidad" formControlName="nueva_existencia" readonly>\r\n                                                    </td>\r\n                                                    <td *ngIf="!tieneid">\r\n                                                        <a class="is-danger" title="Quitar este lote" (click)="quitar_lote_insumo(i, val.value, i2)">\r\n                                                            <span class="icon">\r\n                                                                <i class="fa fa-trash-o"></i>\r\n                                                            </span>\r\n                                                        </a>\r\n                                                    </td>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </table>\r\n                                    </section>\r\n                                    <nav class="level is-mobile">\r\n                                        <div class="level-left">\r\n                                        </div>\r\n                                        <div class="level-right">\r\n                                            <a class="level-item" >\r\n                                                <div class="field">\r\n                                                    <label class="label" *ngIf="!tieneid">Total ({{ctrl.dato.controls.insumos.controls[i].controls.presentacion_nombre.value}}):</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input *ngIf="!tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_surtida" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.hasError(\'required\') && ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.touched}">\r\n                                                    </p>\r\n                                                </div>\r\n                                            </a>\r\n                                        </div>\r\n                                    </nav>\r\n                                </div>\r\n                            </article>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</form>\r\n\r\n\r\n<div class="modal" id="verLotes">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card" style="width: 60%;">\r\n        <header class="modal-card-head">\r\n            <p class="modal-card-title" id="tituloModal" style="width: 200px"> </p>\r\n            <button type="button" class="delete" (click)="cancelarModal(\'verLotes\'); modo = \'N\';"></button>\r\n        </header>\r\n        <section class="modal-card-body">\r\n            <div class="columns">\r\n                <div class="column is-two-thirds">\r\n                    <div class="columns">\r\n                        <div class="column is-4">\r\n                            <label class="label" style="font-size: large;float: left;margin-right: 6%;">Ajuste m\xe1s: </label>\r\n                        </div>\r\n                        <label for="modo_n">\r\n                            <span class="tag is-large is-success">Normal</span>\r\n                        </label>\r\n                    </div>\r\n                </div>\r\n                \r\n            </div>\r\n            <table class="table is-narrow is-bordered is-striped">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Lote</th>\r\n                        <th>Caducidad</th>\r\n                        <th>Codigo de barras</th>\r\n                        <th>Existencia</th>\r\n                        <th>Nueva existencia</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor="let item of lotes_insumo;  let i = index;">\r\n                        <td *ngIf="!item.nuevo">{{item.lote}}</td>\r\n                        <td *ngIf="item.nuevo"><input class="input has-text-centered " type="text" placeholder="Lote" [(ngModel)]="item.lote"></td>\r\n                        <td *ngIf="!item.nuevo">{{item.fecha_caducidad}}</td>\r\n                        <td *ngIf="item.nuevo"><input class="input has-text-centered " type="date" placeholder="Fecha de caducidad" [(ngModel)]="item.fecha_caducidad"></td>\r\n                        <td *ngIf="!item.nuevo">{{item.codigo_barras}}</td>\r\n                        <td *ngIf="item.nuevo"><input class="input has-text-centered " type="text" placeholder="Codigo de barras" [(ngModel)]="item.codigo_barras"></td>\r\n                        <td *ngIf="!item.nuevo">{{item.existencia}}</td>\r\n                        <td *ngIf="item.nuevo "></td>\r\n                        <td>\r\n                            <input class="input has-text-centered" type="number" step="1" (keypress)="quitar_punto($event)"  (keyup)="comprobar_cant_lotes()"\r\n                            (change)="comprobar_cant_lotes()" min="{{item.existencia}}" placeholder="Nueva Existencia" [(ngModel)]="item.cantidad">\r\n                        </td>\r\n                        <td *ngIf="item.nuevo">\r\n                            <a class="delete" (click)=eliminarLote(i)></a>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-dark" *ngIf="modo==\'N\'" (click)="agregarNuevoLote()">Agregar nuevo lote</a>                            \r\n            <a class="button is-success" [ngClass]="{\'is-disabled\':!sum_cant_lotes}" (click)="validarLotesInsumo()">Aceptar</a>\r\n            <a class="button" (click)="cancelarModal(\'verLotes\'); modo = \'N\';">Cancelar</a>\r\n            <div class="card-footer-item"></div>\r\n        </footer>\r\n        <simple-notifications [options]="options"></simple-notifications>\r\n    </div>\r\n</div>\r\n\r\n<div class="modal" id="negarExistencia">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card">\r\n        <header class="modal-card-head">\r\n            <p class="modal-card-title"><i class="fa fa-warning"></i> Alerta</p>\r\n            <button class="delete" (click)="cancelarModal(\'negarExistencia\')"></button>\r\n        </header>\r\n        <section class="modal-card-body">\r\n            <div class="content">\r\n                <h1>\xbfEsta seguro de negar la existencia del insumo?</h1>\r\n                <p>Ya no se podra cambiar la cantidad negada</p>\r\n            </div>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-success" (click)="agregarLoteIsumo()">Continuar</a>\r\n            <a class="button" (click)="cancelarModal(\'negarExistencia\')">Cancelar</a>\r\n        </footer>\r\n    </div>\r\n</div>\r\n\r\n<div class="modal" id="guardarMovimiento">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card">\r\n        <header class="modal-card-head">\r\n            <p class="modal-card-title"><i class="fa fa-warning"></i> Alerta</p>\r\n            <button class="delete" (click)="cancelarModal(\'guardarMovimiento\')"></button>\r\n        </header>\r\n        <section class="modal-card-body">\r\n            <div class="content">\r\n                <h1>\xbfEsta seguro de guardar el ajuste M\xc1S?</h1>\r\n                <p>Ya no se podr\xe1 realizar cambios</p>\r\n            </div>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-success" (click)="ctrl.enviar(); cancelarModal(\'guardarMovimiento\')">Continuar</a>\r\n            <a class="button" (click)="cancelarModal(\'guardarMovimiento\')">Cancelar</a>\r\n        </footer>\r\n    </div>\r\n</div>'},NhMh:function(e,t){e.exports='<app-menu-laboratorio></app-menu-laboratorio>\r\n\r\n<div style="height:50px;"></div>\r\n<section style="padding: 1em;">\r\n  <div class="control is-grouped">\r\n    <p class="control is-expanded">\r\n        <input class="input is-medium" type="text" placeholder="Buscar" [(ngModel)] = "busqueda" id="search-box">\r\n    </p>\r\n    <p class="control">\r\n        <a class="button is-medium is-primary is-inverted" [ngClass]="{ \'is-disabled\': busqueda==\'\'}" (click)="busqueda=\'\'">\r\n        <span class="icon"><i class="fa fa-close"></i></span>\r\n        </a>\r\n    </p>\r\n  </div>\r\n\r\n</section>\r\n<section style="padding: 1em;">\r\n    <section class="contenedor columns is-multiline is-mobile">\r\n        <div class="column is-1-desktop is-2-tablet is-3-mobile" *ngFor="let item of accesosDirectosAutorizados | buscarModulo: busqueda">\r\n            <a href="#" title="{{ item.titulo}}" class="item" routerLink="{{item.url}}"  routerLinkActive="active">\r\n                <figure class="image " style="height: auto; width: 100%; ">\r\n                    <img src="{{ item.icono }}" alt="{{item.titulo}}">                            \r\n                </figure>\r\n                <span class="is-hidden-mobile">{{ item.titulo}}</span>\r\n                <span class="is-hidden-tablet is-hidden-desktop"><small>{{ item.titulo}}</small></span>\r\n            </a>\r\n        </div>\r\n    </section>\r\n    <hr>\r\n    <section class="contenedor columns is-multiline is-mobile">\r\n        <div class="column is-1-desktop is-2-tablet is-3-mobile" *ngFor="let item of modulosAutorizados | buscarModulo: busqueda">\r\n            <a href="#" title="{{ item.titulo}}" style="position: relative;" class="item" routerLink="{{item.url}}" routerLinkActive="active">\r\n                \r\n                <figure class="image " style="height: auto; width: 100%; ">\r\n                    <img src="{{ item.icono }}" alt="{{item.titulo}}">                            \r\n                </figure>\r\n                <span class="is-hidden-mobile">{{ item.titulo}}</span>\r\n                <span class="is-hidden-tablet is-hidden-desktop"><small>{{ item.titulo}}</small></span>\r\n                <span *ngIf="item.badge>0" class="tag is-danger" style="position:absolute; top:0px; right:0px;">{{ item.badge }}</span>\r\n            </a>\r\n        </div>\r\n    </section>\r\n</section>\r\n\r\n'},NkF7:function(e,t){e.exports=""},"O/TU":function(e,t){e.exports='<panel-control-menu></panel-control-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%; ">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding:2em; overflow:auto;">\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n            <section class="hero" [ngClass] = " {\'is-dark\': busquedaActivada, \'is-primary\': !busquedaActivada } " >\r\n                \r\n                <div class="hero-body" style="position:relative;">\r\n                    <a class="button  is-dark" *ngIf="busquedaActivada" style="position:absolute; top:1em; right:1em;" (click)="busquedaActivada=false;searchBox.value=\'\';resultadosBusqueda=[]"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n                    <a class="button  is-dark" *ngIf="busquedaActivada" style="position:absolute; top:1em; right:3.5em;" (click)="listarBusqueda(searchBox.value,1)"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                    <a class="button  is-primary" *ngIf="!busquedaActivada" style="position:absolute; top:1em; right:1em;" (click)="listar(1)"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                    <div class="container is-fluid">\r\n                        \r\n                        <h1 class="title" *ngIf="!busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-shield"></i></span> Permisos\r\n                        </h1>\r\n                        <h1 class="title" *ngIf="busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-search"></i></span> B\xfasqueda \r\n                        </h1>\r\n                        <div class="control is-grouped">\r\n                        <p class="control is-expanded">\r\n                            <input class="input is-medium" type="text" placeholder="Buscar" #searchBox id="search-box" (keyup)="buscar(searchBox.value)">\r\n                        </p>\r\n                        <p class="control">\r\n                            <a class="button is-medium is-primary is-inverted " routerLink="/panel-control/permisos/nuevo">\r\n                            <span class="icon"><i class="fa fa-plus"></i></span><span>Nuevo</span>\r\n                            </a>\r\n                        </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n        \r\n            <table class="table" *ngIf="!cargando">\r\n                <thead>\r\n                    <tr>\r\n\t\t\t\t\t            \t<th>ID</th>\r\n                        <th>Descripcion</th>\r\n                        <th>Grupo</th>\r\n                        <th>Es Super Usuario</th>\r\n                    <th style="text-align:center; width:60px"></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody  *ngIf="!busquedaActivada">\r\n                    <tr *ngFor="let item of lista; let i=index">                        \r\n\t\t\t\t\t\t          <td style="vertical-align: middle;"><a routerLink="/panel-control/permisos/editar/{{item.id}}">{{ item.id }}</a></td>            \r\n                      <td >{{ item.descripcion}}</td>\r\n                      <td style="vertical-align: middle;">{{ item.grupo}}</td>\r\n                      <td style="vertical-align: middle;">{{ item.su ? \'S\xed\': \'No\' }}</td>  \r\n\t\t\t\t\t\t          <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando" class="is-danger" (click)="eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>                        \r\n                    </tr>\r\n                    <tr *ngIf="lista.length == 0">\r\n                        <td colspan="7" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n                <tbody *ngIf="busquedaActivada">\r\n                    <tr *ngFor="let item of resultadosBusqueda; let i=index">\r\n                        <td style="vertical-align: middle;"><a routerLink="/panel-control/permisos/editar/{{item.id}}">{{ item.id }}</a></td>            \r\n                        <td >{{ item.descripcion}}</td>\r\n                        <td style="vertical-align: middle;">{{ item.grupo}}</td>\r\n                        <td style="vertical-align: middle;">{{ item.su ? \'S\xed\': \'No\' }}</td>  \r\n                        <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando" class="is-danger" (click)="eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>                        \r\n                    </tr>\r\n\r\n                    <tr *ngIf="resultadosBusqueda.length == 0 && busquedaActivada">\r\n                        <td colspan="7" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion \r\n                [total]="total" \r\n                [paginasTotales]="paginasTotales" \r\n                [resultadosPorPagina]="resultadosPorPagina" \r\n                [paginaActual]="paginaActual" \r\n                [indicePaginas]="indicePaginas"\r\n                (onSiguiente)="paginaSiguiente()" \r\n                (onAnterior)="paginaAnterior()" \r\n                (onListar)="listar($event)" \r\n                *ngIf="total>0 && total > resultadosPorPagina && !busquedaActivada"></paginacion>\r\n            \x3c!-- Paginaci\xf3n para la b\xfasqueda  --\x3e\r\n            <paginacion \r\n                [total]="totalBusqueda" \r\n                [paginasTotales]="paginasTotalesBusqueda" \r\n                [resultadosPorPagina]="resultadosPorPaginaBusqueda" \r\n                [paginaActual]="paginaActualBusqueda" \r\n                [indicePaginas]="indicePaginasBusqueda"\r\n                (onSiguiente)="paginaSiguienteBusqueda(searchBox.value)" \r\n                (onAnterior)="paginaAnteriorBusqueda(searchBox.value)" \r\n                (onListar)="listarBusqueda(searchBox.value,$event)" \r\n                *ngIf="totalBusqueda > 0 && totalBusqueda > resultadosPorPaginaBusqueda && busquedaActivada"></paginacion>\r\n           \r\n           \r\n            \r\n        </div>\r\n        \r\n    </div>\r\n</div>\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style="text-align:center" ><a  class="button is-danger is-inverted" (click)="ultimaPeticion(); mensajeError.mostrar = false"> <span class="icon"><i class="fa fa-refresh"></i></span> <span>Volver a intentar</span></a></p>        \r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n'},OMGn:function(e,t){e.exports=""},P2oc:function(e,t){e.exports='<aside class="menu" style="padding: 1em;">\r\n    \x3c!--  <p class="menu-label">\r\n        Pedidos\r\n    </p>--\x3e\r\n    <a routerLink="/almacen/pedidos/nuevo" routerLinkActive="is-active" class="button is-primary is-inverted is-medium is-fullwidth" *ngIf="!usuario.clues_activa.es_offline"><span class="icon"  ><i class="fa fa-plus"></i></span> <span>Nuevo Pedido</span></a>\r\n    <br>\r\n    <ul class="menu-list">\r\n        <li>\r\n            <a routerLink="/almacen/pedidos/todos" #todos routerLinkActive="is-active">\r\n                <span class="icon"><i class="fa fa-file"></i></span> Pedidos\r\n                <span class="icon is-pulled-right" *ngIf="cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span>\r\n                <span *ngIf="stats.todos>0" class="tag is-pulled-right" [ngClass]="{ \'is-white\': todos.className == \'is-active\', \'is-primary\': todos.className != \'is-active\' }">{{  stats.todos }}</span>\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a routerLink="/almacen/pedidos/borradores" #borradores routerLinkActive="is-active">\r\n                <span class="icon"><i class="fa fa-pencil-square-o"></i></span> Borradores\r\n                <span class="icon is-pulled-right" *ngIf="cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span>\r\n                <span *ngIf="stats.borradores>0" class="tag is-pulled-right" [ngClass]="{ \'is-white\': borradores.className == \'is-active\', \'is-primary\': borradores.className != \'is-active\' }">{{  stats.borradores }}</span>\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a routerLink="/almacen/pedidos/solicitados" #solicitados routerLinkActive="is-active">\r\n                <span class="icon"  ><i class="fa fa-minus-circle"></i></span> Solicitudes de transferencia\r\n                <span class="icon is-pulled-right" *ngIf="cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span>\r\n                <span *ngIf="stats.solicitados>0" class="tag is-pulled-right" [ngClass]="{ \'is-white\': solicitados.className == \'is-active\', \'is-primary\': solicitados.className != \'is-active\' }" >{{  stats.solicitados }}</span>\r\n            </a>             \r\n        </li>\r\n        <li>\r\n            <a routerLink="/almacen/pedidos/en-transito" #enTransito routerLinkActive="is-active">\r\n                <span class="icon"><i class="fa fa-clock-o"></i></span> En transito\r\n                <span class="icon is-pulled-right" *ngIf="cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span>\r\n                <span *ngIf="stats.en_transito>0" class="tag is-pulled-right" [ngClass]="{ \'is-white\': enTransito.className == \'is-active\', \'is-primary\': enTransito.className != \'is-active\' }">{{  stats.en_transito }}</span>\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a routerLink="/almacen/pedidos/por-surtir" #porSurtir routerLinkActive="is-active">\r\n                <span class="icon"><i class="fa fa-truck"></i></span> Por surtir\r\n                <span class="icon is-pulled-right" *ngIf="cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span>\r\n                <span *ngIf="stats.por_surtir>0" class="tag is-pulled-right" [ngClass]="{ \'is-white\': porSurtir.className == \'is-active\', \'is-primary\': porSurtir.className != \'is-active\' }">{{  stats.por_surtir }}</span>\r\n            </a>\r\n        </li>\r\n        <hr>\r\n        <li>\r\n            <a routerLink="/almacen/pedidos/finalizados" #finalizados routerLinkActive="is-active">\r\n                <span class="icon"><i class="fa fa-check-circle"></i></span> Finalizados\r\n                <span class="icon is-pulled-right" *ngIf="cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span>\r\n                <span *ngIf="stats.finalizados>0" class="tag is-pulled-right" [ngClass]="{ \'is-white\': finalizados.className == \'is-active\', \'is-success\': finalizados.className != \'is-active\' }">{{  stats.finalizados }}</span>\r\n            </a>\r\n            \x3c!--ul>\r\n                <li><a routerLink="/almacen/pedidos/finalizados/completos" routerLinkActive="is-active">Completos</a></li>\r\n                <li><a routerLink="/almacen/pedidos/finalizados/incompletos" routerLinkActive="is-active">Incompletos</a></li>\r\n                <li><a routerLink="/almacen/pedidos/finalizados/cancelados" routerLinkActive="is-active">Cancelados</a></li>\r\n            </ul--\x3e\r\n        </li>\r\n        <li>\r\n            <a routerLink="/almacen/pedidos/expirados" #expirados routerLinkActive="is-active">\r\n                <span class="icon"><i class="fa fa-exclamation-circle"></i></span> Expirados\r\n                <span class="icon is-pulled-right" *ngIf="cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span>\r\n                <span *ngIf="stats.expirados>0" class="tag is-pulled-right" [ngClass]="{ \'is-white\': expirados.className == \'is-active\', \'is-warning\': expirados.className != \'is-active\' }">{{  stats.expirados }}</span>\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a routerLink="/almacen/pedidos/expirados-cancelados" #expiradosCancelados routerLinkActive="is-active">\r\n                <span class="icon"><i class="fa fa-times-circle"></i></span> Cancelados\r\n                <span class="icon is-pulled-right" *ngIf="cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span>\r\n                <span *ngIf="stats.expirados_cancelados>0" class="tag is-pulled-right" [ngClass]="{ \'is-white\': expiradosCancelados.className == \'is-active\', \'is-danger\': expiradosCancelados.className != \'is-active\' }">{{  stats.expirados_cancelados }}</span>\r\n            </a>\r\n        </li>\r\n        <hr>\r\n        <li>\r\n            <a routerLink="/almacen/pedidos/actas" #actas routerLinkActive="is-active">\r\n                <span class="icon"><i class="fa fa-gavel"></i></span> Actas\r\n                <span class="icon is-pulled-right" *ngIf="cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span>\r\n                <span *ngIf="stats.actas>0" class="tag is-pulled-right" [ngClass]="{ \'is-white\': actas.className == \'is-active\', \'is-primary\': actas.className != \'is-active\' }">{{  stats.actas }}</span>\r\n            </a>\r\n        </li> \r\n        <li>\r\n            <a routerLink="/almacen/pedidos/alternos" #alternos routerLinkActive="is-active">\r\n                <span class="icon"><i class="fa fa-code-fork"></i></span> Alternos\r\n                <span class="icon is-pulled-right" *ngIf="cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span>\r\n                <span *ngIf="stats.alternos>0" class="tag is-pulled-right" [ngClass]="{ \'is-white\': alternos.className == \'is-active\', \'is-primary\': alternos.className != \'is-active\' }">{{  stats.alternos }}</span>\r\n            </a>\r\n        </li>        \r\n        <hr>\r\n        <li>\r\n            <a routerLink="/almacen/pedidos/farmacia-subrogada" #farmacia routerLinkActive="is-active">\r\n                <span class="icon"><i class="fa fa-building"></i></span> Farmacia Subrogada\r\n                <span class="icon is-pulled-right" *ngIf="cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span>\r\n                <span *ngIf="stats.farmacia>0" class="tag is-pulled-right" [ngClass]="{ \'is-white\': farmacia.className == \'is-active\', \'is-info\': farmacia.className != \'is-active\' }">{{  stats.farmacia }}</span>\r\n            </a>\r\n        </li>\r\n    </ul>\r\n\r\n</aside>'},P8Eb:function(e,t){e.exports=""},PSai:function(e,t){e.exports='<listar #ctrl URL="tipo-insumo" titulo="Tipo Insumo / Catalogo"></listar>\r\n<app-menu-catalogo></app-menu-catalogo>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:90%;  padding-top: 1em;">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em">\r\n        <div style="background: #FFF; border-radius: 1em;">\r\n            \x3c!-- Opciones y busqueda --\x3e\r\n            <tabla-opciones \r\n                #opciones\r\n                [ctrl]="ctrl"\r\n                [nombre]="\'Tipos de insumos\'"\r\n                [ruta]="\'tipo-insumo\'"\r\n                [ruta_pdf]="\'catalogos-parametros/lista-tipo-insumos.js\'"></tabla-opciones>\r\n\r\n            <div style="overflow:auto; display:block" [style.maxHeight.px]="ctrl.tamano-300">\r\n                <div class="is-fullwidth has-text-centered" *ngIf="opciones.cargandoPdf">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Generando PDF...</span></span>\r\n                    <br>\r\n                    <br>\r\n                </div>\r\n                <table class="table" *ngIf="!ctrl.cargando && !opciones.cargandoPdf">\r\n                    <thead>\r\n                        <tr>\r\n                            <th><abbr title="Usuario ID">ID</abbr></th>\r\n                            <th>Nombre</th>\r\n                            <th style="text-align:center;">Opciones</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody *ngIf="!ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.dato; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/catalogos-parametros/tipos-insumos/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/tipos-insumos/editar/{{item.id}}">{{ item.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n                        <tr *ngIf="ctrl.dato.length == 0">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                    <tbody *ngIf="ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/catalogos-parametros/tipos-insumos/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/tipos-insumos/editar/{{item.id}}">{{ item.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n\r\n                        <tr *ngIf="ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [ctrl]="ctrl"></paginacion>\r\n        </div>\r\n\r\n    </div>\r\n</div>'},PbUY:function(e,t){e.exports=""},PjWh:function(e,t){e.exports=".top-bar {\r\n    padding: 1em ; \r\n    font-size: 1.2em; \r\n    background: #FFF;    \r\n    color: #333;\r\n    position: relative;\r\n}\r\n.contenedor-lista.con-tabs .top-bar {\r\n    padding: 0.5em ; \r\n\r\n    border-radius: 1em;\r\n}\r\n.top-bar.is-primary {\r\n    background: #00d1b2;\r\n    color:#FFF;\r\n}\r\n.top-bar.is-primary h1 { color: #FFF; }\r\n.top-bar.is-danger {\r\n    background: #ff3860;\r\n    color:#FFF;\r\n}\r\n.top-bar.is-dark {\r\n    background: #333;\r\n    color:#FFF\r\n}\r\n.contenedor-lista {\r\n    background: #FFF; border-radius: 1em; overflow: hidden;\r\n    margin:20px;\r\n}\r\ntr.is-dark td,\r\ntr.is-dark th{\r\n    background: #333;\r\n    color:#FFF\r\n}\r\n\r\n\r\n"},Q4yS:function(e,t){e.exports=""},Q815:function(e,t){e.exports='<formulario #ctrl URL="forma-farmaceutica" titulo="Forma farmaceutica / Catalogo" [dato]="dato"></formulario>\r\n<app-menu-catalogo></app-menu-catalogo>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:90%; padding-top: 1em;">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em;">\r\n        \x3c!-- formulario --\x3e\r\n        <form name="form" novalidate [formGroup]="dato" (ngSubmit)="ctrl.enviar()">\r\n            <div style="background: #FFF; overflow: hidden;">\r\n                <section class="hero is-primary">\r\n                    <div class="hero-body">\r\n                        \x3c!-- Opciones  --\x3e\r\n                        <formulario-opciones [ctrl]="ctrl" class="control is-grouped" style="position:absolute; top:8em; right:3em;">\r\n                        </formulario-opciones>\r\n                        <div class="container is-fluid">\r\n                            <h1 class="title">\r\n                                <span *ngIf="!ctrl.cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                <span *ngIf="ctrl.cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>                                {{ctrl.moduloTitulo}} forma farmaceutica\r\n                            </h1>\r\n\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>                    &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n                <section class="section">\r\n\r\n                    <div class="field">\r\n                        <label class="label">Nombre:</label>\r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                            <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'nombre\').hasError(\'required\')}" placeholder="nombre"\r\n                                formControlName="nombre">\r\n                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">Este campo es requerido.</span>\r\n                        </p>\r\n                    </div>\r\n\r\n                </section>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>'},QUQJ:function(e,t){e.exports='<section  class="top-nav">\r\n            \r\n    <nav class="nav">\r\n        <a title="Almacen" class="nav-item pull-left nav-hub-active"  routerLink="/almacen">\r\n            \r\n            <img src="assets/hub-farmacia.svg" alt="icono">\r\n        \r\n        </a>\r\n        <div class="nav-left is-hidden-touch">\r\n            \r\n            <span *ngIf="!modulo" class="nav-item">\r\n                <h1 class="title">&nbsp;Almac\xe9n de medicamentos</h1>\r\n            </span>\r\n            <a *ngIf="modulo" class="nav-item" routerLink="{{ url }}" >\r\n            \r\n            \x3c!-- <img src="{{ icono }}" alt="icono">--\x3e\r\n                <h1 class="title">&nbsp;{{ modulo }}</h1>                     \r\n            </a>\r\n        </div>\r\n\r\n        \x3c!--div class="nav-center">\r\n            <span *ngIf="usuario.almacen_activo" class="nav-item is-small">\r\n                <span>{{usuario.clues_activa.clues}}&nbsp;-&nbsp;</span><span class="is-hidden-mobile">{{usuario.clues_activa.nombre}}&nbsp;-&nbsp;</span><span>{{usuario.almacen_activo.nombre}}</span>\r\n            </span>\r\n        </div--\x3e\r\n\r\n        <div class="nav-center"></div>\r\n        <div class="nav-right is-hidden-mobile">\r\n            <span class="unidad-trabajo">\r\n                {{usuario.clues_activa.clues}} <span *ngIf="usuario.almacen_activo"> - {{usuario.almacen_activo.nombre}}</span><br>            \r\n                <span>{{usuario.clues_activa.nombre}}</span>\r\n            </span>\r\n        </div>\r\n\r\n        <a class="nav-item"  (click)="hub.toggle()">\r\n            <span class="icon">\r\n                <i class="fa fa-th"></i>\r\n            </span>\r\n        </a>\r\n\r\n        <a class="nav-item is-hidden-mobile" (click)="perfil.toggle()">                    \r\n            <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n            &nbsp;\r\n            <span>{{ usuario.nombre }} {{ usuario.apellidos }}</span>\r\n        </a>\r\n        <a class="nav-item is-hidden-tablet" (click)="perfil.toggle()">\r\n            \r\n            <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n        </a>\r\n        <a routerLink="{{ urlAyuda }}" class="nav-item">\r\n            <span class="nav-item is-small" title="Ayuda">\r\n                <i class="fa fa-question-circle" aria-hidden="true"></i>\r\n            </span>\r\n        </a>\r\n        \r\n        \r\n    </nav>\r\n</section>\r\n\r\n<app-hub #hub></app-hub>\r\n<app-perfil #perfil></app-perfil>'},QVNv:function(e,t){e.exports="<p>\r\n  lista works!\r\n</p>\r\n"},QmW2:function(e,t){e.exports=""},R2FR:function(e,t){e.exports='\x3c!-- crud asignar url de la api URL="url de la api" titulo="un titulo para la pesta\xf1a de la pagina" [dato]="variable que contiene el formulario]--\x3e\r\n<formulario #ctrl URL="entrada-almacen" titulo="Inicializar / Inventario" [dato]="dato"></formulario>\r\n\r\n\x3c!-- Menu principal  menutitulo="titulo del modulo en el que estamos con el nombre como se encuentra en enviroment" menuactual="nombre del hub donde estamos como se especifico en el routing"--\x3e\r\n<app-menu-inventario [modulo]="\'Inicializaci\xf3n de inventario de insumos m\xe9dicos\'" [icono]="\'assets/icono-salidas.svg\'" [url]="\'/inventario\'"></app-menu-inventario>\r\n\r\n<div class="contenedor columns " style="height:90%; padding: 1em;">\r\n    <div class="column is-one-quarter" style="padding-top: 4em;">\r\n        <div style="background: #FFF; border-radius: 1em; overflow:auto; display:block" [style.maxHeight.px]="tamano-250">\r\n            \r\n            <div style="padding: 1em; overflow: scroll; overflow-x: hidden;">              \r\n                <h3 class="title">\r\n                    \x3c!-- <i class="fa fa-file"></i>\r\n                        Datos del movimiento --\x3e\r\n                        <div class="columns" style="font-size: 22px; text-align: right">\r\n                        <strong class="column is-one-third">Subtotal: </strong><strong class="column">{{   ( subtotal_precios | currency:\'\' ) }}  &nbsp;  &nbsp;  </strong>\r\n                        </div>\r\n                        <div class="columns" style="font-size: 22px; text-align: right">\r\n                        <strong class="column is-one-third">IVA: </strong><strong class="column">{{   ( total_iva | currency:\'\' ) }}  &nbsp;  &nbsp;  </strong>\r\n                        </div>\r\n                        <div class="columns" style="font-size: 30px; text-align: right">\r\n                        <strong class="column is-one-third">TOTAL: </strong><strong class="column">{{   ( total_precio | currency:\'\' ) }}  &nbsp;  &nbsp;  </strong>\r\n                        </div>\r\n                </h3>\r\n            </div>\r\n        </div>\r\n        <div style="background: #FFF; border-radius: 1em; padding: 1em; overflow: scroll; overflow-x: hidden;" [style.height.px]="ctrl.tamano-350"> \r\n            <div>\r\n                <div class="field">\r\n                    <label class="label">Fecha de inicio:</label>\r\n                    <p class="control is-expanded  has-icon has-icon-right">\r\n                        <input class="input"  [(ngModel)]=\'form_dato.fecha_inicio\' ngui-datetime-picker \r\n                            [max-date]="MaxDate" date-only="true" [ngClass]="{\'is-disabled\': form_dato.estatus === \'INICIALIZADO\', \'is-danger\': form_dato.fecha_inicio == \'\'}" name="fecha_inicio"\r\n                            placeholder="YYYY-MM-DD" readonly/>\r\n\r\n                        <span class="icon is-small">\r\n                            <i class="fa fa-warning" *ngIf="form_dato.fecha_inicio == \'\'"></i>\r\n                        </span>\r\n                        <span class="help is-danger" *ngIf="form_dato.fecha_inicio == \'\'">Este campo es requerido.</span>\r\n                    </p>\r\n                </div>\r\n                <div class="field">\r\n                        <label class="label">Fecha de fin:</label>\r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                            <input class="input"  [(ngModel)]=\'form_dato.fecha_fin\' ngui-datetime-picker\r\n                                [max-date]="MaxDate" date-only="true" [ngClass]="{\'is-disabled\': form_dato.estatus === \'INICIALIZADO\', \'is-danger\': form_dato.fecha_fin == \'\'}"\r\n                                placeholder="YYYY-MM-DD" readonly/>\r\n    \r\n                            <span class="icon is-small">\r\n                                <i class="fa fa-warning" *ngIf="form_dato.fecha_fin == \'\'"></i>\r\n                            </span>\r\n                            <span class="help is-danger" *ngIf="form_dato.fecha_fin == \'\'">Este campo es requerido.</span>\r\n                        </p>\r\n                    </div>\r\n                <br>\r\n                <div class="control" >\r\n                    <div class="field">\r\n                        <label class="label">Programa:</label>\r\n                    </div>\x3c!-- SI carga los programas --\x3e\r\n                    <div class="control is-grouped">\r\n                        <span *ngIf="ctrl.cargando || cargandoCatalogo" class="tag is-primary is-medium">Cargando programas. \r\n                            <i class="fa fa-refresh fa-spin" aria-hidden="true"></i>\r\n                        </span>\r\n                        <div  *ngIf="!ctrl.cargando && !cargandoCatalogo" class="select control is-expanded  has-icon has-icon-right">\r\n                            <select class="select is-medium" name="seleccionar_programa" id="seleccionar_programa" required\r\n                                [ngClass]="{\'is-disabled\': tieneid && ctrl.dato.get(\'estatus\').value == \'FI\', \'is-hidden\': form_dato.estatus === \'INICIALIZADO\'}">\r\n                                <option value="">Seleccione un programa</option>\r\n                                <option *ngFor="let item of lista_programas" value="{{item.id}}">{{ item.nombre }}</option>\r\n                            </select>\r\n                            <span class="icon is-small" *ngIf="">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                            <span class="help is-danger" *ngIf="">Este campo es requerido.</span>\r\n                            <span class="help is-danger" *ngIf="lista_programas.length == 0"> No se cargaron programas, contacte al administrador.</span>\r\n                        </div>\r\n                        \x3c!-- Bot\xf3n para agregar programas  --\x3e\r\n                        <div class="control" [ngClass]="{\'is-hidden\': form_dato.estatus == \'INICIALIZADO\'}" >\r\n                            <a class="button" \r\n                                (click)="addPrograma()" title="Agregar programa">\r\n                                <i class="fa fa-plus fa-fw" aria-hidden="true"></i>\r\n                            </a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div class="control">\r\n                    <div class="field">\r\n                        <label class="label">Programas agregados:</label>\r\n                    </div>\r\n                    <div class="control is-grouped">\r\n                        <div class="select is-multiple control is-expanded  has-icon has-icon-right">\r\n                            <select class="select is-medium" multiple (click)="seleccionarPrograma()" id="programa_agregado" style="height: 150px">\r\n                                <option *ngFor="let item_programa of form_dato.programas; let idx = index" value="{{item_programa.id}}">{{ item_programa.nombre }}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="column" style="padding:1em;">\r\n        <form #f="ngForm">\r\n            \x3c!-- inicio formulario --\x3e\r\n            <div style="background: #FFF; border-radius: 1em; ">\r\n                <div style="background: #FFF; border-radius: 1em; padding-top: 3.5em;">\r\n                        <section class="hero is-primary">\r\n                            <div class="hero-body">\r\n                                \x3c!-- Opciones  --\x3e\r\n                                <nav class="level" style="padding-left: 1em;">\r\n                                    \x3c!-- Left side --\x3e\r\n                                    <div class="level-left ">\r\n                                        <div class="level-item">\r\n                                            <p class="title">\r\n                                                <span *ngIf="!ctrl.cargando || !cargando" class="icon is-medium">\r\n                                                    <i class="fa fa-list-alt"></i>\r\n                                                </span>\r\n                                                <span *ngIf="ctrl.cargando || cargando" class="icon is-medium">\r\n                                                    <i class="fa fa-refresh fa-spin"></i>\r\n                                                </span>\r\n                                                Inicializar inventarios\r\n                                            </p>\r\n                                        </div>\r\n                                    </div>\r\n                                \r\n                                    <div class="level-right" style="padding-top: 1em;">\r\n                                        <button class="button is-primary tooltip" (click)="ctrl.regresar()">\r\n                                            <span class="icon fa-2x">\r\n                                                <i class="fa fa-arrow-left"> </i>\r\n                                            </span>\r\n                                            <span class="tooltiptext">Regresar</span>\r\n                                        </button>\r\n\r\n                                        <button class="button is-primary tooltip" (click)=" cargarCatalogo(\'programa\', \'lista_programas\', \'estatus\');" id=\'cargar_datos_actualizar\'>\r\n                                            <span class="icon ">\r\n                                                <i class="fa fa-refresh fa-2x"></i>\r\n                                            </span>\r\n                                            <span class="tooltiptext">Actualizar</span>\r\n                                        </button>\r\n        \r\n                                        <button class="button is-primary tooltip" (click)="enviar()" type="submit" [ngClass]="{\'is-loading\': cargando, \'is-hidden\': form_dato.estatus === \'INICIALIZADO\'}" [disabled]="form_dato.invalid">\r\n                                            <span class="icon ">\r\n                                                <i class="fa fa-save fa-2x"> </i>\r\n                                            </span>\r\n                                            <span class="tooltiptext">Guardar avance</span>\r\n                                        </button>\r\n                                        \r\n                                        <button class="button is-primary tooltip" (click)="inicializar();" type="submit" [ngClass]="{\'is-loading\': cargando, \'is-hidden\': form_dato.estatus === \'INICIALIZADO\'}" [disabled]="form_dato.invalid">\r\n                                            <span class="icon" style="color: gold">\r\n                                                <i class="fa fa-play-circle fa-2x"></i>\r\n                                            </span>\r\n                                            <span class="tooltiptext">Inicializar inventario</span>\r\n                                        </button>\r\n                                        <button class="button is-primary tooltip"  (click)="imprimir()" title="PDF" type="submit" [ngClass]="{\'is-loading\': cargando, \'is-hidden\': form_dato.estatus === \'NOINICIALIZADO\'}" [disabled]="form_dato.invalid">\r\n                                            <span class="icon">\r\n                                                <i class="fa fa-file-pdf-o fa-2x"></i>\r\n                                            </span>\r\n                                            <span class="tooltiptext">Imprimir</span>\r\n                                        </button>\r\n                                    </div>\r\n                                </nav>\r\n                            </div>\r\n                        </section>\r\n                    <div style="padding: 1em; overflow: scroll; overflow-x: hidden;" [style.height.px]="tamano-200"  *ngFor="let programa of form_dato.programas; let idx = index">\r\n                        <div class="columns" style="padding: 1em;">\r\n                            <div class="column is-one-quarter">\r\n                                <div class="control" >\r\n                                    <div class="field">\r\n                                        <label class="label">Programa:</label>\r\n                                    </div>\r\n                                    <div>\r\n                                        <span class="tag" style="color:darkblue; font-size: 18px">\r\n                                            {{ form_dato.programas[i_programa].nombre }}\r\n                                        </span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class="column">\r\n                                <div class="field has-addons has-addons-centered" style="padding-top: 1.5em">\r\n                                    \x3c!-- *****************     INPUT DE BUSQUEDA DE INSUMO     ****************** --\x3e    \r\n                                    <div class="control is-grouped">\r\n                                        <div class="control is-expanded">\r\n                                            <input \r\n                                                (keyup.enter)="buscarInsumo.value != \'\' ?  enviarAutocomplete(buscarInsumo.value) : buscarInsumo.value = \'\'" \r\n                                                id="buscarInsumo"\r\n                                                name="buscarInsumo"\r\n                                                #buscarInsumo\r\n                                                class="input is-success is-medium"\r\n                                                type="text"\r\n                                                placeholder="Escriba la clave o el nombre del insumo y presione la tecla ENTER"\r\n                                                [ngClass]="{\'is-disabled\': form_dato.programas[i_programa].id == \'\', \'is-hidden\': form_dato.estatus === \'INICIALIZADO\' }"/>\r\n                                        </div>\r\n                                        <div class="control">\r\n                                            <a class="button is-success is-medium" title="Buscar insumo" [ngClass]="{\'is-hidden\': form_dato.estatus === \'INICIALIZADO\' }"\r\n                                            (click)="buscarInsumo.value != \'\' ?  enviarAutocomplete(buscarInsumo.value) : buscarInsumo.value = \'\'">\r\n                                                <i class="fa fa-search" aria-hidden="true"></i> &nbsp; Buscar\r\n                                            </a>\r\n                                        </div>\r\n                                        <div class="control" *ngIf="buscarInsumo.value != \'\'">\r\n                                            <a class="button is-info is-medium" title="Borrar texto" (click)="res_busq_insumos=[]; buscarInsumo.value=\'\';">\r\n                                                <i class="fa fa-times" aria-hidden="true"></i>\r\n                                            </a>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div class="is-fullwidth has-text-centered" *ngIf="cargando" style="height:100px;">\r\n                                        <br>\r\n                                        <span class="tag is-primary is-large">\r\n                                            <span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span>\r\n                                        </span>\r\n                                    </div>\r\n                                    \x3c!-- *****************     RESULTADOS DE BUSQUEDA DE INSUMO     ****************** --\x3e\r\n                                    <div *ngIf="res_busq_insumos.length > 0 && !cargando" style="height: 200px;">\r\n                                        <div *ngIf="res_busq_insumos.length > 0 && !cargando" style="overflow: scroll; overflow-x: hidden; height: 90%;">\r\n                                            <div class="content" style="z-index: 1;" *ngFor="let item_insumo of res_busq_insumos; let c = index">\r\n                                                <div class="card" (click)="select_insumo_autocomplete(item_insumo, i_programa)" style="background: rgba(242,248,253, 0.8)">\r\n                                                    <div class="card-content">\r\n                                                        <div class="media">          \r\n                                                            <div class="media-content">\r\n                                                                <p class="title is-4">{{item_insumo.descripcion}}</p>\r\n                                                                <p class="subtitle is-6">\r\n                                                                    <strong>Clave: </strong> {{item_insumo.clave}}\r\n                                                                    <label class="tag is-success" *ngIf="item_insumo.es_causes == 1"><strong>Cause </strong></label>\r\n                                                                    <label class="tag" *ngIf="item_insumo.es_causes == 0" style="background: #B8FB7E; border-color: #B8FB7E; color: rgba(0,0,0,0.7);" ><strong>No Cause </strong> </label>\r\n                                                                    <label class="tag is-warning" *ngIf="item_insumo.es_unidosis == 1"><strong>Unidosis</strong> </label>\r\n                                                                </p>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <hr>\r\n                        </div>\r\n                        \x3c!-- FORMULARIO DE INSUMOS --\x3e\r\n                        <div style="overflow:auto; display:block" [style.maxHeight.px]="tamano-365"> \x3c!-- DATOS DEL INSUMO --\x3e\r\n                            <div *ngFor="let insumo of form_dato.programas[i_programa].insumos; let i = index" style="padding: 1em;">\r\n                                <div class="box" style="padding: 1em">                                \r\n                                        <div class="content">\r\n                                            <span style="float:right; padding-left: 15px;" [ngClass]="{\'is-hidden\': form_dato.estatus === \'INICIALIZADO\' }">\r\n                                                <a  class="button is-danger" title="Quitar este elemento de la lista" (click)="abrirModal(\'borrarInsumo\', i_programa, i)">\r\n                                                    <span class="icon"><i class="fa fa-trash-o"></i></span>\r\n                                                </a>\r\n                                            </span>\r\n                                            <a  class="button is-success" \r\n                                                [ngClass]="{\'is-hidden\': form_dato.estatus === \'INICIALIZADO\' }"\r\n                                                title="Agregar m\xe1s insumos de esta clave" style="float:right" (click)="agregarLote(i_programa, i)" > \r\n                                                \x3c!-- (click)="select_insumo_autocomplete(item.value);" --\x3e\r\n                                                <span class="icon"><i class="fa fa-plus-circle" aria-hidden="true"></i></span>\r\n                                            </a>\r\n                                            <span *ngIf="!tieneid || ctrl.dato.get(\'estatus\').value == \'BR\'" style="float:right; padding-left: 15px; font-size: 20px; color: navy" >\r\n                                                &nbsp; <strong>Subtotal: {{ form_dato.programas[i_programa].insumos[i].subtotal ? ( form_dato.programas[i_programa].insumos[i].subtotal | currency:\'\') : ( 0 | currency:\'\' ) }}  &nbsp;  &nbsp; </strong> \r\n                                            </span>\r\n                                            <p>\r\n                                                <strong>\r\n                                                    Clave: \r\n                                                    <span style="color:cornflowerblue; font-size: 18px">\r\n                                                        {{ form_dato.programas[i_programa].insumos[i].clave_insumo_medico }} \r\n                                                    </span>\r\n                                                    Nombre: {{ form_dato.programas[i_programa].insumos[i].descripcion }}\r\n                                                \r\n                                                    <label class="tag is-success" *ngIf="form_dato.programas[i_programa].insumos[i].es_causes == 1"><strong>Cause </strong></label>\r\n                                                    <label class="tag" style="background: #B8FB7E; border-color: #B8FB7E; color: rgba(0,0,0,0.7);" *ngIf="form_dato.programas[i_programa].insumos[i].es_causes== 0"><strong>No Cause </strong> </label>                                           \r\n                                                                                                \r\n                                                    <label class="tag is-warning" *ngIf="form_dato.programas[i_programa].insumos[i].es_unidosis == 1"><strong>Unidosis</strong> </label>\r\n                                                </strong>\r\n                                                \x3c!-- <br> {{ctrl.dato.controls.insumos.controls[i].controls.descripcion.value}}  --\x3e\r\n                                            </p>\r\n                                        </div>\r\n\r\n                                        \x3c!-- <pre style="height: 50px">{{form_dato | json}}</pre> --\x3e\r\n                                    <div *ngFor="let lote of form_dato.programas[i_programa].insumos[i].lotes; let i_lote = index">\r\n                                        \x3c!-- inputs DE LOTES--\x3e\r\n                                        <div *ngIf="!tieneid || ctrl.dato.get(\'estatus\').value == \'BR\'"  class="level-left">\r\n                                            <div class="columns is-flex-desktop" style="width: 100%">\r\n                                                <div class="column is-2">\r\n                                                    <p class="control is-expanded">\r\n                                                        <label>Lote:</label>\r\n                                                        <input type="text" class="input is-small" [(ngModel)]="lote.lote" [ngModelOptions]="{standalone: true}"\r\n                                                            [ngClass]="{\'is-danger\': form_dato.programas[i_programa].insumos[i].lotes[i_lote].lote == \'\', \'is-disabled\': form_dato.estatus === \'INICIALIZADO\'}">\r\n                                                    </p>\r\n                                                </div>                       \r\n                                                <div class="column is-1">\r\n                                                    <p class="control is-expanded">\r\n                                                        <label>Caducidad:</label>\r\n                                                        <input class="input is-small" [(ngModel)]="lote.fecha_caducidad" [ngModelOptions]="{standalone: true}"\r\n                                                            min="MinDateCaducidad" date-only="true" (blur)="validar_fecha(form_dato.programas[i_programa].insumos[i].lotes[i_lote].fecha_caducidad, i_programa, i, i_lote)"\r\n                                                            placeholder="YYYY-MM-DD" [textMask]="{mask:mask, keepCharPositions: true, pipe: autoCorrectedDatePipe}"\r\n                                                            [ngClass]="{\'is-danger\': form_dato.programas[i_programa].insumos[i].lotes[i_lote].fecha_caducidad == \'\', \'is-disabled\': form_dato.estatus === \'INICIALIZADO\'}">\r\n                                                    </p>\r\n                                                </div>                          \r\n                                                <div class="column is-2">\r\n                                                    <p class="control is-expanded">\r\n                                                        <label>Codigo de barras:</label>\r\n                                                        <input type="text" class="input is-small" [(ngModel)]="lote.codigo_barras" [ngModelOptions]="{standalone: true}"\r\n                                                            [ngClass]="{\'is-disabled\': form_dato.estatus === \'INICIALIZADO\'}" >\r\n                                                    </p>\r\n                                                </div>    \r\n                                                <div class="column is-2">                                                \r\n                                                    <p class="control is-expanded">\r\n                                                        <label>Existencia:</label>\r\n                                                        <input type="number" class="input is-small" [(ngModel)]="lote.existencia" [ngModelOptions]="{standalone: true}"\r\n                                                            (keypress)="quitar_punto($event);"\r\n                                                            (keyup)="cambio_cantidad_stock_key($event, form_dato.programas[i_programa].insumos[i].lotes[i_lote], i_programa, i, i_lote)"\r\n                                                            (blur)="cambio_cantidad_stock_key($event, form_dato.programas[i_programa].insumos[i].lotes[i_lote], i_programa, i, i_lote)"\r\n                                                            (change)="cambio_cantidad_stock_key($event, form_dato.programas[i_programa].insumos[i].lotes[i_lote], i_programa, i, i_lote)"\r\n                                                            [ngClass]="{\'is-danger\': form_dato.programas[i_programa].insumos[i].lotes[i_lote].existencia == \'\' || form_dato.programas[i_programa].insumos[i].lotes[i_lote].existencia == null, \'is-disabled\': form_dato.estatus === \'INICIALIZADO\'}">\r\n                                                    </p>\r\n                                                </div> \r\n                                                <div class="column is-2">                                                \r\n                                                    <p class="control is-expanded">\r\n                                                        <label>Precio unitario:</label>\r\n                                                        <input type="number" class="input is-small" [(ngModel)]="lote.precio_unitario" [ngModelOptions]="{standalone: true}"\r\n                                                            (keypress)="quitar_punto($event);"\r\n                                                            (keyup)="cambio_cantidad_stock_key($event, form_dato.programas[i_programa].insumos[i].lotes[i_lote], i_programa, i, i_lote)"\r\n                                                            (blur)="cambio_cantidad_stock_key($event, form_dato.programas[i_programa].insumos[i].lotes[i_lote], i_programa, i, i_lote)"\r\n                                                            (change)="cambio_cantidad_stock_key($event, form_dato.programas[i_programa].insumos[i].lotes[i_lote], i_programa, i, i_lote)"\r\n                                                            [ngClass]="{\'is-danger\': form_dato.programas[i_programa].insumos[i].lotes[i_lote].precio_unitario == \'\', \'is-disabled\': form_dato.estatus === \'INICIALIZADO\'}">\r\n                                                    </p>\r\n                                                </div>\r\n                                                <div class="column is-1">\r\n                                                    <p class="control is-expanded">        \r\n                                                        <label style="float:right;">Importe:</label>    \r\n                                                        <span style="float:right;">                   \r\n                                                            {{ form_dato.programas[i_programa].insumos[i].lotes[i_lote].importe ? ( form_dato.programas[i_programa].insumos[i].lotes[i_lote].importe | currency:\'\') : ( 0 | currency:\'\' ) }}\r\n                                                        </span>\r\n                                                    </p>\r\n                                                </div>\r\n                                                <div class="column is-1">\r\n                                                    <p class="control is-expanded" >        \r\n                                                        <label style="float:right;">&nbsp; &nbsp; &nbsp; &nbsp; IVA:</label>      \r\n                                                        <span style="float:right;">\r\n                                                            {{ form_dato.programas[i_programa].insumos[i].lotes[i_lote].iva_importe ? ( form_dato.programas[i_programa].insumos[i].lotes[i_lote].iva_importe | currency:\'\') : ( 0 | currency:\'\' ) }}                                 \r\n                                                        </span>\r\n                                                    </p>\r\n                                                </div>\r\n                                                <div class="column is-1">\r\n                                                    <p class="control is-expanded" [ngClass]="{\'is-hidden\': form_dato.estatus === \'INICIALIZADO\' }">    \r\n                                                        <span style="float:right;" >\r\n                                                            <a  class="button is-small" style="color: red; padding-left: 12px;" title="Quitar este elemento de la lista" (click)="abrirModal(\'borrarLote\', i_programa, i, i_lote)">\r\n                                                                <span class="icon is-small"><i class="fa fa-trash-o"></i></span>\r\n                                                            </a>\r\n                                                        </span>\r\n                                                    </p>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <simple-notifications [options]="options"></simple-notifications>\r\n        </form> \x3c!-- FIN DE FORMULARIO --\x3e\r\n    </div>\r\n</div>\r\n\r\n\x3c!-- ***************************************** INICIO - MODALES ***************************************** --\x3e\r\n\r\n\r\n<div [ngClass]="{\'is-active\': cargarInventario}" class="modal" id="cargandoInventario" >\r\n    <div class="modal-background"></div>\r\n    <div class="modal-content">\r\n        <p style="color: rgb(255, 255, 255); text-align: center;">\r\n            <span><i class="fa fa-spinner fa-pulse fa-10x"></i></span>\r\n            <br>\r\n            <span><h1>Cargando inventario. <strong style="color: #FFF">Espere un momento.</strong> </h1></span>\r\n        </p>\r\n    </div>\r\n  </div>\r\n\r\n<div class="modal" id="confirmarReestablecer">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card">\r\n        <header class="modal-card-head">\r\n        <p class="modal-card-title"><i class="fa fa-warning"></i> Alerta</p>\r\n        <button class="delete" (click)="ctrl.cancelarModal(\'confirmarReestablecer\')"></button>\r\n        </header>\r\n        <section class="modal-card-body">\r\n            <div class="content">\r\n                <h1>\xbfEsta seguro de resetear el inventario?</h1>\r\n                <p>esta acci\xf3n cargaratodos los productos que tienen inventario para susutituirlo, es necesario llenar y guardar la inicializaci\xf3n de inventario para que se refleje en el stock</p>\r\n            </div>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n        <a class="button is-success" (click)="cargarArticulos(\'iniciar\')" >Continuar</a>\r\n        <a class="button" (click)="ctrl.cancelarModal(\'confirmarReestablecer\')" id="cerra_restablecer">Cancelar</a>\r\n        </footer>\r\n    </div>\r\n</div>\r\n<div class="modal" id="cambiarPrograma">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card">\r\n        <header class="modal-card-head">\r\n            <p class="modal-card-title"><i class="fa fa-warning"></i> Alerta</p>\r\n            <button class="delete" (click)="cancelarModal(\'cambiarPrograma\')"></button>\r\n        </header>\r\n        <section class="modal-card-body">\r\n            <div class="content">\r\n                <h1>\xbfEsta seguro de cambiar el programa?</h1>\r\n                <p style="color:red;">Se eliminar\xe1n los insumos capturados.</p>\r\n                <p class="modal-card-title" id="tituloGuardar"> </p>\r\n            </div>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-success" (click)="mantenerPrograma(false); cancelarModal(\'cambiarPrograma\')">Continuar</a>\r\n            <a class="button" (click)="mantenerPrograma(true); cancelarModal(\'cambiarPrograma\')">Cancelar</a>\r\n        </footer>\r\n    </div>\r\n</div>\r\n\r\n<div class="modal" id="borrarInsumo">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card">\r\n        <header class="modal-card-head">\r\n            <p class="modal-card-title"><i class="fa fa-warning"></i> Alerta</p>\r\n            <button class="delete" (click)="cancelarModal(\'borrarInsumo\')"></button>\r\n        </header>\r\n        <section class="modal-card-body">\r\n            <div class="content">\r\n                <h1>\xbfEsta seguro de eliminar el insumo?</h1>\r\n                <p>Se borrar\xe1n todos los lotes del insumo que se hayan agregado.</p>\r\n            </div>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-success" (click)="quitar_form_array(form_dato.programas[i_programa].insumos, index_insumo); cancelarModal(\'borrarInsumo\');">Continuar</a>\r\n            <a class="button" (click)="cancelarModal(\'borrarInsumo\')">Cancelar</a>\r\n        </footer>\r\n    </div>\r\n</div>\r\n\r\n<div class="modal" id="borrarLote">\r\n        <div class="modal-background"></div>\r\n        <div class="modal-card">\r\n            <header class="modal-card-head">\r\n                <p class="modal-card-title"><i class="fa fa-warning"></i> Alerta</p>\r\n                <button class="delete" (click)="cancelarModal(\'borrarLote\')"></button>\r\n            </header>\r\n            <section class="modal-card-body">\r\n                <div class="content">\r\n                    <h1>\xbfEsta seguro de eliminar el lote?</h1>\r\n                    <p>Se borrar\xe1n todos el lote seleccionado.</p>\r\n                </div>\r\n            </section>\r\n            <footer class="modal-card-foot">\r\n                <a class="button is-success" (click)="quitar_form_array(form_dato.programas[i_programa].insumos[index_insumo].lotes, index_borrar, index_insumo); cancelarModal(\'borrarLote\');">Continuar</a>\r\n                <a class="button" (click)="cancelarModal(\'borrarLote\')">Cancelar</a>\r\n            </footer>\r\n        </div>\r\n    </div>\r\n\r\n\x3c!-- ***************************************** FIN - MODALES ***************************************** --\x3e\r\n'},R7g0:function(e,t){e.exports=""},R7nA:function(e,t){e.exports='<formulario #ctrl URL="medicamentos" titulo="Medicamentos / Catalogo" [dato]="dato"></formulario>\r\n<app-menu-catalogo></app-menu-catalogo>\r\n<div style="height:50px ;"></div>\r\n<div class="contenedor columns " style="height:90%; padding-top: 1em;">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em;">\r\n        \x3c!-- formulario --\x3e\r\n        <form name="form" novalidate [formGroup]="dato" (ngSubmit)="ctrl.enviar()">\r\n            <div style="background: #FFF; overflow: hidden;">\r\n                <section class="hero is-primary">\r\n                    <div class="hero-body">\r\n                        \x3c!-- Opciones  --\x3e\r\n                        <formulario-opciones\r\n                            [ctrl]="ctrl"\r\n                            class="control is-grouped"\r\n                            style="position:absolute; top:8em; right:3em;">\r\n                        </formulario-opciones>\r\n                        <div class="container is-fluid">\r\n                            <h1 class="title">\r\n                                <span *ngIf="!ctrl.cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                <span *ngIf="ctrl.cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>                                {{ctrl.moduloTitulo}} Medicamentos\r\n                            </h1>\r\n\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>                    &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n                <section class="section" style="overflow:auto; display:block" [style.maxHeight.px]="ctrl.tamano-250">\r\n\r\n                    <a id="catalogos" (click)="ctrl.cargarCatalogo(\'unidades_medidas\', \'unidad-medida\'); ctrl.cargarCatalogo(\'presentacion_medicamento\', \'presentacion-medicamento\'); ctrl.cargarCatalogo(\'vias_administracion\', \'via-administracion\'); ctrl.cargarCatalogo(\'formas_farmaceuticas\', \'forma-farmaceutica\'); "></a>\r\n\r\n                    <div class="field">\r\n                        <label class="label">Clave:</label>\r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                            <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'insumo_medico_clave\').hasError(\'required\')}" placeholder="clave insumo medico"\r\n                                formControlName="insumo_medico_clave">\r\n                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'insumo_medico_clave\').hasError(\'required\')">\r\n                                                        <i class="fa fa-warning"></i>\r\n                                                    </span>\r\n                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'insumo_medico_clave\').hasError(\'required\')">Este campo es requerido.</span>\r\n                        </p>\r\n                    </div>\r\n                    <div class="columns">\r\n                        <div class="column is-6">\r\n                            <div class="field">\r\n                                <label class="label">Cantidad por envase:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'cantidad_x_envase\').hasError(\'required\')}" placeholder="Cantidad por envase"\r\n                                        formControlName="cantidad_x_envase">\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'cantidad_x_envase\').hasError(\'required\')">\r\n                                                                <i class="fa fa-warning"></i>\r\n                                                            </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'cantidad_x_envase\').hasError(\'required\')">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                        <div class="column is-6">\r\n                            <div class="field">\r\n                                    <label class="label">Concentracion:</label>\r\n                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                        <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'concentracion\').hasError(\'required\')}" placeholder="Concentracion"\r\n                                            formControlName="concentracion">\r\n                                        <span class="icon is-small" *ngIf="ctrl.dato.get(\'concentracion\').hasError(\'required\')">\r\n                                                                    <i class="fa fa-warning"></i>\r\n                                                                </span>\r\n                                        <span class="help is-danger" *ngIf="ctrl.dato.get(\'concentracion\').hasError(\'required\')">Este campo es requerido.</span>\r\n                                    </p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="columns">\r\n                        <div class="column is-6">\r\n                            <div class="field">\r\n                                    <label class="label">Contenido:</label>\r\n                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                        <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'contenido\').hasError(\'required\')}" placeholder="Contenido"\r\n                                            formControlName="contenido">\r\n                                        <span class="icon is-small" *ngIf="ctrl.dato.get(\'contenido\').hasError(\'required\')">\r\n                                                                    <i class="fa fa-warning"></i>\r\n                                                                </span>\r\n                                        <span class="help is-danger" *ngIf="ctrl.dato.get(\'contenido\').hasError(\'required\')">Este campo es requerido.</span>\r\n                                    </p>\r\n                            </div>\r\n                        </div>\r\n                        <div class="column is-6">\r\n                            <div class="field">\r\n                                <label class="label">Dosis:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <input class="input" type="text" formControlName="dosis">\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="columns">\r\n                        <div class="column is-6">\r\n                            <br>\r\n                            <div class="b-checkbox control is-expanded  has-icon has-icon-right">\r\n                                <input type="checkbox" id="es_controlado" class="styled" formControlName="es_controlado" [checked]="ctrl.dato.get(\'es_controlado\').value == 1 ? true : false">\r\n                                <label for="es_controlado">  Es controlado?\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                        <div class="column is-6">\r\n                            <br>\r\n                            <div class="b-checkbox control is-expanded  has-icon has-icon-right">\r\n                                <input type="checkbox" id="es_surfactante" class="styled" formControlName="es_surfactante" [checked]="ctrl.dato.get(\'es_surfactante\').value == 1 ? true : false">\r\n                                <label for="es_surfactante">  Es surfactante?\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="field">\r\n                        <label class="label">Indicaciones:</label>\r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                            <textarea class="textarea" type="text" rows="2" placeholder="Indicaciones" formControlName="indicaciones" [ngClass]="{\'is-danger\': ctrl.dato.get(\'indicaciones\').hasError(\'required\')}"></textarea>\r\n                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'indicaciones\').hasError(\'required\')">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'indicaciones\').hasError(\'required\')">Este campo es requerido.</span>\r\n                        </p>\r\n                    </div>\r\n                    \r\n\r\n\r\n                    <div class="field">\r\n                        <label>Unidad de medida: </label>\r\n                        <div class="select control is-expanded has-icon has-icon-right">\r\n                            <select class="select" name="unidad_medida_id" formControlName="unidad_medida_id" [ngClass]="{\'is-danger\': ctrl.dato.get(\'unidad_medida_id\').hasError(\'required\')}">\r\n                                <option *ngFor="let val of ctrl.unidades_medidas" value="{{val.id}}" >{{ val.nombre }}</option>\r\n                            </select>\r\n                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'unidad_medida_id\').hasError(\'required\')">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'unidad_medida_id\').hasError(\'required\')">Este campo es requerido.</span>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                    <div class="field">\r\n                        <label>Forma farmaceutica: </label>\r\n                        <div class="select control is-expanded has-icon has-icon-right">\r\n                            <select class="select" name="forma_farmaceutica_id" formControlName="forma_farmaceutica_id" [ngClass]="{\'is-danger\': ctrl.dato.get(\'forma_farmaceutica_id\').hasError(\'required\')}">\r\n                                                                <option *ngFor="let val of ctrl.formas_farmaceuticas" value="{{val.id}}" >{{ val.nombre }}</option>\r\n                                                            </select>\r\n                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'forma_farmaceutica_id\').hasError(\'required\')">\r\n                                                                <i class="fa fa-warning"></i>\r\n                                                            </span>\r\n                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'forma_farmaceutica_id\').hasError(\'required\')">Este campo es requerido.</span>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div class="field">\r\n                        <label>Presentaci\xf3n: </label>\r\n                        <div class="select control is-expanded has-icon has-icon-right">\r\n                            <select class="select" name="presentacion_id" formControlName="presentacion_id" [ngClass]="{\'is-danger\': ctrl.dato.get(\'presentacion_id\').hasError(\'required\')}">\r\n                                                                    <option *ngFor="let val of ctrl.presentacion_medicamento" value="{{val.id}}" >{{ val.nombre }}</option>\r\n                                                                </select>\r\n                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'presentacion_id\').hasError(\'required\')">\r\n                                                                    <i class="fa fa-warning"></i>\r\n                                                                </span>\r\n                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'presentacion_id\').hasError(\'required\')">Este campo es requerido.</span>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div class="field">\r\n                        <label>via de administraci\xf3n: </label>\r\n                        <div class="select control is-expanded has-icon has-icon-right">\r\n                            <select class="select" name="via_administracion_id" formControlName="via_administracion_id" [ngClass]="{\'is-danger\': ctrl.dato.get(\'via_administracion_id\').hasError(\'required\')}">\r\n                                                                        <option *ngFor="let val of ctrl.vias_administracion" value="{{val.id}}" >{{ val.nombre }}</option>\r\n                                                                    </select>\r\n                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'via_administracion_id\').hasError(\'required\')">\r\n                                                                        <i class="fa fa-warning"></i>\r\n                                                                    </span>\r\n                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'via_administracion_id\').hasError(\'required\')">Este campo es requerido.</span>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </section>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>'},RJfI:function(e,t){e.exports='<formulario #ctrl URL="medicos/recetas" titulo="Nueva receta" [dato]="dato"></formulario>\r\n<menu-medicos [modulo]="\'Recetas\'" [icono]="\'assets/hub-medicos.svg\'" [url]="\'/medicos/recetas\'"></menu-medicos>\r\n\r\n\r\n<form name="form" novalidate [formGroup]="dato">\r\n    <div class="columns">\r\n        <div class="column is-one-third">\r\n            <div style="height:60px;"></div>\r\n            <div style="background: #FFF; border-radius: 1em; overflow:hidden;">\r\n                <section class="hero is-primary">\r\n                    <h1 *ngIf="!tieneid" class="title" style="margin:0.5em; ">\r\n                        <span class="icon is-medium">\r\n                            <i class="fa fa-file-text"></i>\r\n                        </span> {{ctrl.moduloTitulo}}\r\n                    </h1>\r\n                    <h1 *ngIf="tieneid" class="title" style="margin:0.5em; ">\r\n                        <span class="icon is-medium">\r\n                            <i class="fa fa-file-text"></i>\r\n                        </span> Folio {{ctrl.id}}\r\n                    </h1>\r\n                </section>\r\n                <div>      \r\n                    <div>\r\n                        <div  style="margin:0.75rem">                               \r\n                            <div class="field">\r\n                                <label class="label">Tipo de receta:</label>\r\n                                <div class="control  is-expanded  has-icon has-icon-right ">\r\n                                    <div class="select is-fullwidth">\r\n                                        <select  name="tipo_receta_id" formControlName="tipo_receta_id" [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.get(\'tipo_receta_id\').hasError(\'required\')}">\r\n                                            <option *ngFor="let item of tipos_recetas" value="{{item.id}}" >{{ item.nombre }}</option>\r\n                                        </select>\r\n                                    </div>\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'tipo_receta_id\').hasError(\'required\')">\r\n                                        <i class="fa fa-warning"></i>\r\n                                    </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'tipo_receta_id\').hasError(\'required\')">Este campo es requerido.</span>\r\n                                </div>\r\n                            </div>\r\n                            <div class="field">\r\n                                <label class="label">Fecha de receta:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <input class="input" [value]="fecha_actual" [(ngModel)]=\'fecha_receta\' formControlName="fecha_receta" ngui-datetime-picker\r\n                                        [min-date]="MinDate" [max-date]="MaxDate" date-only="true" [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.get(\'fecha_receta\').hasError(\'required\')}"\r\n                                        placeholder="YYYY-MM-DD" readonly/>\r\n\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'fecha_receta\').hasError(\'required\')">\r\n                                        <i class="fa fa-warning"></i>\r\n                                    </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'fecha_receta\').hasError(\'required\')">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n                            <div class="field">\r\n                                <label class="label">Paciente:</label>\r\n                                <div class="control is-grouped">                               \r\n                                    <div class="control is-expanded  has-icon has-icon-right">\r\n                                        <input type="hidden" formControlName="paciente_id" id="paciente_id">\r\n                                        <input class="input" #autocompletePaciente   (keyup)="buscarPaciente(autocompletePaciente.value)"  [ngClass]="{\'is-danger\': ctrl.dato.get(\'paciente_id\').hasError(\'required\'), \'is-success\': !ctrl.dato.get(\'paciente_id\').hasError(\'required\') }">\r\n                                        <div class="akira-autocomplete" *ngIf="mostrarAutocompletePaciente">\r\n                                            <ul>\r\n                                                <li *ngFor="let item of resultadosPaciente;"  [ngClass]="{ \'is-selected\': item.seleccionado }" (click)="seleccionarPaciente(item)">\r\n                                                    <p>\r\n                                                        {{item.nombre}}<br>\r\n                                                        <small><i class="fa fa-{{item.sexo==1?\'mars\':\'venus\'}}" style="font-size:1em;line-height:2em;"></i> {{ item.sexo==1? "Hombre": "Mujer" }}\r\n                                                        {{item.edad}} a\xf1os</small>\r\n                                                    </p>\r\n                                                </li>\r\n                                            </ul>\r\n                                            <p *ngIf="resultadosPaciente.length == 0 && ! buscandoAutocompletePaciente">No hay resultados</p>\r\n                                            <p *ngIf="buscandoAutocompletePaciente">Cargando...</p>\r\n                                        </div>\r\n                                        <span class="icon is-small" *ngIf="ctrl.dato.get(\'paciente_id\').hasError(\'required\')">\r\n                                            <i class="fa fa-warning"></i>\r\n                                        </span>\r\n                                        <span class="help is-danger" *ngIf="ctrl.dato.get(\'paciente_id\').hasError(\'required\')">Este campo es requerido.</span>\r\n                                    </div>\r\n                                    <p class="control">\r\n                                    <a class="button is-primary" (click)="agregarPaciente()" [ngClass]="{ \'is-disabled\': !ctrl.dato.get(\'paciente_id\').hasError(\'required\') }">\r\n                                        <span class="icon"><i class="fa fa-plus"></i></span>\r\n                                    </a>\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                           \r\n                            \r\n                            <div class="field">\r\n                                <label class="label">Diagnostico:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <textarea class="textarea" autofocus type="text" \r\n                                        [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.get(\'diagnostico\').hasError(\'required\')}"\r\n                                        placeholder="Diagnostico" formControlName="diagnostico" id="diagnostico"></textarea>\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'diagnostico\').hasError(\'required\')">\r\n                                        <i class="fa fa-warning"></i>\r\n                                    </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'diagnostico\').hasError(\'required\')">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \x3c!-- apartado de insumos --\x3e\r\n        <div class="column" >\r\n            <div style="height:60px;"></div>\r\n            <div >\r\n                <section class="hero is-primary is-small" style="border-radius: 1em 1em 0 0;">\r\n                    <div class="hero-body">\r\n                        <nav class="level">\r\n                            <div class="level-left">\r\n                                <h1 class="title" style="padding-left:1em;">\r\n                                    <span *ngIf="!ctrl.cargando || !cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                    <span *ngIf="ctrl.cargando || cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span> \r\n                                    Insumos\r\n                                </h1>\r\n                            </div>\r\n                            \x3c!-- Right side --\x3e\r\n                            <div class="level-right">\r\n                                <p class="level-item"><a class="button is-primary" routerLink="/medicos/recetas">Regresar</a></p>\r\n                                <p class="level-item" *ngIf="tieneid"><a class="button is-primary" routerLink="/medicos/recetas/nuevo" *ngIf="!ctrl.busquedaActivada"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;<span>Nueva receta</span></a></p>\r\n                                <p class="level-item" *ngIf="tieneid"><a *ngIf="tieneid" class="button is-primary" (click)="imprimir()"><span class="icon"><i class="fa fa-print"></i></span></a></p>                               \r\n                                <p class="level-item" *ngIf="!tieneid" [title]="ctrl.dato.invalid ? \'Llene los campos en rojo\' : \'Guardar\'">\r\n                                    <button class="button is-primary" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="guardar_receta()"\r\n                                        [disabled]="ctrl.dato.invalid"> <span class="icon"><i class="fa fa-floppy-o" aria-hidden="true"></i></span> \r\n                                        &nbsp; Guardar</button>\r\n                                </p>\r\n                                <p *ngIf="tieneid" class="level-item"><a class="button is-primary" title="Actualizar" (click)="ctrl.cargarDatos();"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n                                \r\n                                <p class="level-item">&nbsp;</p>\r\n                            </div>\r\n                        </nav>\r\n                    </div>\r\n                </section>\r\n                <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>                    &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n                <section class="section" style="border-radius: 0px 0px 1em 1em;">\r\n\r\n                    <div class="field has-addons has-addons-centered" *ngIf="!tieneid">\r\n\r\n                    \r\n\r\n                        \x3c!-- *****************     INPUT DE BUSQUEDA DE INSUMO     ****************** --\x3e    \r\n                        <div class="control is-grouped">\r\n                            <div class="control is-expanded">\r\n                                <input \r\n                                    (keyup.enter)="buscarInsumo.value != \'\' ?  enviarAutocomplete(buscarInsumo.value) : buscarInsumo.value = \'\'" \r\n                                    id="buscarInsumo"\r\n                                    name="buscarInsumo"\r\n                                    #buscarInsumo\r\n                                    class="input is-success is-medium"\r\n                                    type="text"\r\n                                    placeholder="Escriba la clave o el nombre del insumo y presione la tecla ENTER"/>\r\n                            </div>\r\n                            <div class="control">\r\n                                <a class="button is-success is-medium" title="Buscar insumo" (click)="buscarInsumo.value != \'\' ?  enviarAutocomplete(buscarInsumo.value) : buscarInsumo.value = \'\'">\r\n                                    <i class="fa fa-search" aria-hidden="true"></i> &nbsp; Buscar\r\n                                </a>\r\n                            </div>\r\n                            <div class="control" *ngIf="buscarInsumo.value != \'\'">\r\n                                <a class="button is-info is-medium" title="Borrar texto" (click)="res_busq_insumos=[]; buscarInsumo.value=\'\'">\r\n                                    <i class="fa fa-times" aria-hidden="true"></i>\r\n                                </a>\r\n                            </div>\r\n                        </div>\r\n                        \r\n                        <div class="is-fullwidth has-text-centered" *ngIf="cargando" style="height:100px;">\r\n                            <br>\r\n                            <span class="tag is-primary is-large">\r\n                                <span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span>\r\n                            </span>\r\n                        </div>\r\n                        \x3c!-- *****************     RESULTADOS DE BUSQUEDA DE INSUMO     ****************** --\x3e\r\n                        <div *ngIf="res_busq_insumos.length > 0 && !cargando" style="height: 200px; border:1px solid #DDD;">\r\n                            <div *ngIf="res_busq_insumos.length > 0 && !cargando" style="overflow: scroll; overflow-x: hidden; height: 90%;">\r\n                                <div style="z-index: 1; margin-bottom: none !important" *ngFor="let item_insumo of res_busq_insumos; let c = index">\r\n                                    <div class="card" (click)="select_insumo_autocomplete(item_insumo)" style="background: white">\r\n                                        <div class="card-content" style="font-size:0.8em;">\r\n                                            <p >{{item_insumo.descripcion}}</p>\r\n                                            <p>\r\n                                                <small>\r\n                                                <strong>Existencia:</strong> {{ item_insumo.existencia | number}} \r\n                                                <strong>Clave: </strong> {{item_insumo.clave}}\r\n                                                <label class="tag is-primary" *ngIf="item_insumo.es_causes == 1">Causes</label>\r\n                                                <label class="tag is-warning"  *ngIf="item_insumo.es_causes == 0"  >No Causes</label>\r\n                                                <label class="tag" *ngIf="item_insumo.es_unidosis == 1">Unidosis </label>\r\n                                                </small>\r\n                                            </p>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <hr> \x3c!-- L\xednea de division --\x3e\r\n\r\n                    \x3c!-- *****************     INSUMOS AGREGADOS     ****************** --\x3e\r\n                    <div formArrayName="insumos" style="overflow-y: auto; overflow-x: hidden; min-height:180px; " [ngStyle]="{\'height\': res_busq_insumos.length > 0 ? \'100px\' : \'auto\'}" >\r\n                        <div  *ngFor="let item of ctrl.dato.controls.insumos.controls; let i=index"  style="padding:0.75rem; border-bottom:1px solid #DDD" [ngStyle]="{\'background\': i%2 == 0 ? \'rgba(230, 230, 232, 0.44)\' : \'\'}">\r\n                            <article class="media" [formGroupName]="i" style="font-size:0.8em">\r\n                                <div class="media-content">\r\n                                    <div class="content" >\r\n                                        <a *ngIf="!tieneid" class="is-danger" title="Quitar este elemento de la lista" style="float:right" (click)="ctrl.quitar_form_array(ctrl.dato.controls.insumos,i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a>\r\n                                        <p>\r\n                                            <strong>\r\n                                                <span style="color:cornflowerblue">\r\n                                                    Clave: {{ ctrl.dato.controls.insumos.controls[i].controls.clave.value }} \r\n                                                </span>\r\n                                                Nombre: {{ctrl.dato.controls.insumos.controls[i].controls.descripcion.value}}\r\n                                                <br>                                            \r\n                                                <label class="tag is-success" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_causes.value">Causes</label>\r\n                                                <label class="tag is-warning" *ngIf="!ctrl.dato.controls.insumos.controls[i].controls.es_causes.value">No Causes</label>                                                                                                                                       \r\n                                                <label class="tag" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_unidosis.value">Unidosis</label>\r\n                                            </strong>\r\n                                            <br> {{ctrl.dato.controls.insumos.controls[i].controls.descripcion.value}}\r\n                                        </p>\r\n                                    </div>\r\n                                    <table>\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    <label *ngIf="!tieneid" class="label">Dosis ({{ ctrl.dato.controls.insumos.controls[i].controls.unidad_medida.value }}):</label>\r\n                                                    <label *ngIf="tieneid" class="label">Dosis ({{ ctrl.dato.controls.insumos.controls[i].controls.informacion_ampliada.value.unidad_medida_nombre }}):</label>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <label class="label">Frecuencia (hrs.):</label>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <label class="label">Duraci\xf3n (d\xedas):</label>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <label *ngIf="!tieneid" class="label">Cant. ({{ ctrl.dato.controls.insumos.controls[i].controls.presentacion_nombre.value }}):</label>\r\n                                                    <label *ngIf="tieneid" class="label">Cant. ({{ ctrl.dato.controls.insumos.controls[i].controls.informacion_ampliada.value.presentacion_nombre }}):</label>\r\n                                                </td>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            <tr>\r\n                                                <td>\r\n                                                    <p class="control is-expanded">\r\n                                                        <input type="text" autofocus class="input" formControlName="dosis" (keypress)="quitar_punto($event)"  [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.dosis.hasError(\'required\') && ctrl.dato.controls.insumos.controls[i].controls.dosis.touched}">\r\n                                                    </p>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <p class="control is-expanded">\r\n                                                        <input type="text" class="input" formControlName="frecuencia" (keypress)="quitar_punto($event)"  [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.frecuencia.hasError(\'required\') && ctrl.dato.controls.insumos.controls[i].controls.frecuencia.touched}">\r\n                                                    </p>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <p class="control is-expanded">\r\n                                                        <input type="text" class="input" formControlName="duracion" (keypress)="quitar_punto($event)" [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.duracion.hasError(\'required\') && ctrl.dato.controls.insumos.controls[i].controls.duracion.touched}">\r\n                                                    </p>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <p class="control is-expanded">\r\n                                                        <input type="text" class="input" formControlName="cantidad_recetada" (keypress)="quitar_punto($event)" [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.cantidad_recetada.hasError(\'required\') && ctrl.dato.controls.insumos.controls[i].controls.cantidad_recetada.touched}">\r\n                                                    </p>\r\n                                                </td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>                                    \r\n                                </div>\r\n                            </article>\r\n                        </div>\r\n                    </div>\r\n\r\n                </section>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</form>\r\n        \r\n        \r\n<div class="modal" id="verLotes">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card" style="width: 70%;">\r\n        <header class="modal-card-head">\r\n            <p class="modal-card-title" id="tituloModal"> </p>\r\n            <button type="button" class="delete" (click)="cancelarModal(\'verLotes\')"></button>\r\n        </header>\r\n        <section class="modal-card-body" >\r\n            <h2>Indicaciones del medicamento</h2>\r\n            <div class="columns is-flex-desktop" >\r\n                <div class="column is-2">\r\n                    <p class="control is-expanded">\r\n                    <label *ngIf="!tieneid" class="label">Dosis <br> ({{unidad_medida}}):</label>\r\n                    <label *ngIf="tieneid" class="label">Dosis ():</label>\r\n                        <input type="number" autofocus class="input" #dosis id="dosis" min="1" name="dosis" (keypress)="quitar_punto($event)" \r\n                        (blur)="calcularCantidadSugerida(dosis.value, frecuencia.value, duracion.value);" \r\n                        [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': dosis.value == \'\'}">\r\n                    </p>\r\n                </div>\r\n                <div class="column is-auto" style="vertical-align: bottom !important;">\r\n                        <p class="control is-expanded">\r\n                        <label class="label">Frecuencia <br> (hrs.):</label>\r\n                            <input type="number" class="input" #frecuencia id="frecuencia" min="1" name="frecuencia" (keypress)="quitar_punto($event)"\r\n                            (blur)="calcularCantidadSugerida(dosis.value, frecuencia.value, duracion.value);"\r\n                            [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': frecuencia.value == \'\'}">\r\n                        </p>\r\n                </div>\r\n                <div class="column is-2">\r\n                    <p class="control is-expanded">\r\n                    <label class="label">Duraci\xf3n <br> (d\xedas):</label>\r\n                        <input type="number" class="input" #duracion id="duracion" min="1" name="duracion" (keypress)="quitar_punto($event)" \r\n                        (blur)="calcularCantidadSugerida(dosis.value, frecuencia.value, duracion.value);"\r\n                        [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': duracion.value == \'\'}">\r\n                    </p>\r\n                </div>\r\n                <div class="column  is-auto">\r\n                    <p class="control is-expanded">\r\n                    <label *ngIf="!tieneid" class="label">Cant. recetada <br> ({{presentacion_nombre}}):</label>\r\n                    <label *ngIf="tieneid" class="label">Cant. recetada ():</label>\r\n                        <input type="number" class="input" #cant_recetada id="cant_recetada" min="1" name="cant_recetada"\r\n                        (keypress)="quitar_punto($event)"\r\n                        \r\n                        [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': cant_recetada.value == \'\'}">\r\n                    </p>\r\n                </div>\r\n                <div class="column  is-auto">\r\n                    <p class="control is-expanded">\r\n                        <label *ngIf="!tieneid" class="label">Cant. sugerida <br> a surtir</label>\r\n                        <strong style="text-align: center;">\r\n                            {{cantidad_recomendada ? cantidad_recomendada : 0}}  {{presentacion_nombre}}\r\n                        </strong>\r\n                    </p>\r\n                </div>\r\n                \r\n            </div>\r\n        </section>\r\n        <footer class="modal-card-foot">                         \r\n            <a class="button is-success" [ngClass]="{\'is-disabled\':cant_recetada.value == \'\'}"  (click)="agregarLoteIsumo(dosis.value, frecuencia.value, duracion.value, cant_recetada.value)">Aceptar</a>\r\n            <a class="button" (click)="cancelarModal(\'verLotes\')">Cancelar</a>\r\n        </footer>\r\n    </div>\r\n</div>\r\n\r\n<div class="modal" id="modalGuardarReceta">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card">\r\n        <header class="modal-card-head">\r\n            <p class="modal-card-title"><i class="fa fa-warning"></i> Alerta</p>\r\n            <button class="delete" (click)="cancelarModal(\'modalGuardarReceta\')"></button>\r\n        </header>\r\n        <section class="modal-card-body">\r\n            <div class="content">\r\n                <h1>\xbfEsta seguro de guardar la receta?</h1>\r\n                <p>Ya no se podr\xe1 realizar cambios</p>\r\n                <p class="modal-card-title" id="tituloGuardar"> </p>\r\n            </div>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-success" (click)="ctrl.enviar(false, \'medicos/recetas/\',\'medicos/recetas/ver\'); cancelarModal(\'modalGuardarReceta\')">Continuar</a>\r\n            <a class="button" (click)="cancelarModal(\'modalGuardarReceta\')">Cancelar</a>\r\n        </footer>\r\n    </div>\r\n</div>\r\n\r\n\r\n<div class="modal" id="modalNuevoPaciente">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card">\r\n        <header class="modal-card-head">\r\n            <p class="modal-card-title"><i class="fa fa-user"></i> Nuevo Paciente</p>\r\n            <button class="delete" (click)="cancelarModal(\'modalNuevoPaciente\')"></button>\r\n        </header>\r\n        <section class="modal-card-body">\r\n            <div class="notification is-danger" *ngIf="mensajeErrorPaciente!=\'\'">\r\n                <button class="delete" (click)="mensajeErrorPaciente=\'\'"></button>\r\n                {{mensajeErrorPaciente}}\r\n            </div>\r\n            <div class="field">\r\n                <label class="label">Nombre:</label>\r\n                <div class="control is-expanded  has-icon has-icon-right">\r\n                    <input class="input" [(ngModel)] = "nuevoPaciente.nombre" [ngClass]="{\'is-danger\': erroresPaciente.nombre != null}" />\r\n                    <p class="help is-danger" *ngIf="erroresPaciente.nombre == \'required\'">Este campo es obligatorio.</p>      \r\n                </div>\r\n                \r\n            </div>\r\n            <div class="field">\r\n                <label class="label">Sexo:</label>\r\n                <div class="control  is-expanded  has-icon has-icon-right ">\r\n                    <div class="select is-fullwidth" >\r\n                        <select [(ngModel)] = "nuevoPaciente.sexo"  [ngClass]="{\'is-danger\': erroresPaciente.sexo != null}" >\r\n                            <option value="1">Hombre</option>\r\n                            <option value="2">Mujer</option>\r\n                        </select>\r\n                        <p class="help is-danger" *ngIf="erroresPaciente.sexo == \'required\'">Este campo es obligatorio.</p>\r\n                    </div>                    \r\n                </div>\r\n                 \r\n            </div>\r\n            <div class="field">\r\n                <label class="label">Fecha de nacimiento:</label>\r\n                <div class="control is-expanded  has-icon has-icon-right">\r\n                    <input class="input"  ngui-datetime-picker\r\n                       [max-date]="MaxDate" date-only="true" placeholder="YYYY-MM-DD" [(ngModel)] = "nuevoPaciente.fecha_nacimiento" [ngClass]="{\'is-danger\': erroresPaciente.fecha_nacimiento != null}" />\r\n                    <p class="help is-danger" *ngIf="erroresPaciente.fecha_nacimiento == \'required\'">Este campo es obligatorio.</p>   \r\n                </div>\r\n                \r\n            </div>\r\n            \r\n            <div class="field">\r\n                <label class="label">No expediente:</label>\r\n                <p class="control is-expanded  has-icon has-icon-right">\r\n                    <input class="input" [(ngModel)] = "nuevoPaciente.no_expediente" />\r\n                </p>\r\n            </div>\r\n            <div class="field">\r\n                <label class="label">No afiliaci\xf3n:</label>\r\n                <p class="control is-expanded  has-icon has-icon-right">\r\n                    <input class="input" [(ngModel)] = "nuevoPaciente.no_afiliacion" />\r\n                </p>\r\n            </div>\r\n            \r\n            <b>* Este es un formulario simplificado con los datos b\xe1sicos m\xednimos para evitar alargar la receta, para una edici\xf3n completa vaya al m\xf3dulo de pacientes de filtro.</b>\r\n            \r\n            \r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-success" (click)="enviarDatosPaciente()" [ngClass]="{\'is-loading\': enviandoDatosPaciente}">Crear</a>\r\n            <a class="button" (click)="cancelarModal(\'modalNuevoPaciente\')">Cancelar</a>\r\n        </footer>\r\n    </div>\r\n</div>\r\n\r\n'},RNpM:function(e,t){e.exports=".hack-column {\r\n\twidth:75%;\r\n}"},RfYq:function(e,t){e.exports='<menu-equipamiento></menu-equipamiento>\r\n\r\n<div style="height:50px;"></div>\r\n<section style="padding: 1em;">\r\n  <div class="control is-grouped">\r\n    <p class="control is-expanded">\r\n        <input class="input is-medium" type="text" placeholder="Buscar" [(ngModel)] = "busqueda" id="search-box">\r\n    </p>\r\n    <p class="control">\r\n        <a class="button is-medium is-primary is-inverted" [ngClass]="{ \'is-disabled\': busqueda==\'\'}" (click)="busqueda=\'\'">\r\n        <span class="icon"><i class="fa fa-close"></i></span>\r\n        </a>\r\n    </p>\r\n  </div>\r\n\r\n</section>\r\n<section style="padding: 1em;">\r\n    <section class="contenedor columns is-multiline is-mobile">\r\n        <div class="column is-1-desktop is-2-tablet is-3-mobile" *ngFor="let item of accesosDirectosAutorizados | buscarModulo: busqueda">\r\n            <a href="#" title="{{ item.titulo}}" class="item" routerLink="{{item.url}}"  routerLinkActive="active">\r\n                <figure class="image " style="height: auto; width: 100%; ">\r\n                    <img src="{{ item.icono }}" alt="{{item.titulo}}">                            \r\n                </figure>\r\n                <span class="is-hidden-mobile">{{ item.titulo}}</span>\r\n                <span class="is-hidden-tablet is-hidden-desktop"><small>{{ item.titulo}}</small></span>\r\n            </a>\r\n        </div>\r\n    </section>\r\n    <hr>\r\n    <section class="contenedor columns is-multiline is-mobile">\r\n        <div class="column is-1-desktop is-2-tablet is-3-mobile" *ngFor="let item of modulosAutorizados | buscarModulo: busqueda">\r\n            <a href="#" title="{{ item.titulo}}" style="position: relative;" class="item" routerLink="{{item.url}}" routerLinkActive="active">\r\n                \r\n                <figure class="image " style="height: auto; width: 100%; ">\r\n                    <img src="{{ item.icono }}" alt="{{item.titulo}}">                            \r\n                </figure>\r\n                <span class="is-hidden-mobile">{{ item.titulo}}</span>\r\n                <span class="is-hidden-tablet is-hidden-desktop"><small>{{ item.titulo}}</small></span>\r\n                <span *ngIf="item.badge>0" class="tag is-danger" style="position:absolute; top:0px; right:0px;">{{ item.badge }}</span>\r\n            </a>\r\n        </div>\r\n    </section>\r\n</section>\r\n\r\n'},RmuW:function(e,t){e.exports='<app-menu-catalogo></app-menu-catalogo>\r\n\r\n<div style="height:50px;"></div>\r\n<section style="padding: 1em;">\r\n  <div class="control is-grouped">\r\n    <p class="control is-expanded">\r\n        <input class="input is-medium" type="text" placeholder="Buscar" [(ngModel)] = "busqueda" id="search-box">\r\n    </p>\r\n    <p class="control">\r\n        <a class="button is-medium is-primary is-inverted" [ngClass]="{ \'is-disabled\': busqueda==\'\'}" (click)="busqueda=\'\'">\r\n        <span class="icon"><i class="fa fa-close"></i></span>\r\n        </a>\r\n    </p>\r\n  </div>\r\n\r\n</section>\r\n<section style="padding: 1em;">\r\n    <section class="contenedor columns is-multiline is-mobile">\r\n        <div class="column is-1-desktop is-2-tablet is-3-mobile" *ngFor="let item of accesosDirectosAutorizados | buscarModulo: busqueda">\r\n            <a href="#" title="{{ item.titulo}}" class="item" routerLink="{{item.url}}"  routerLinkActive="active">\r\n                <figure class="image " style="height: auto; width: 100%; ">\r\n                    <img src="{{ item.icono }}" alt="{{item.titulo}}">                            \r\n                </figure>\r\n                <span class="is-hidden-mobile">{{ item.titulo}}</span>\r\n                <span class="is-hidden-tablet is-hidden-desktop"><small>{{ item.titulo}}</small></span>\r\n            </a>\r\n        </div>\r\n    </section>\r\n    <hr>\r\n    <section class="contenedor columns is-multiline is-mobile">\r\n        <div class="column is-1-desktop is-2-tablet is-3-mobile" *ngFor="let item of modulosAutorizados | buscarModulo: busqueda">\r\n            <a href="#" title="{{ item.titulo}}" style="position: relative;" class="item" routerLink="{{item.url}}" routerLinkActive="active">\r\n                \r\n                <figure class="image " style="height: auto; width: 100%; ">\r\n                    <img src="{{ item.icono }}" alt="{{item.titulo}}">                            \r\n                </figure>\r\n                <span class="is-hidden-mobile">{{ item.titulo}}</span>\r\n                <span class="is-hidden-tablet is-hidden-desktop"><small>{{ item.titulo}}</small></span>\r\n                <span *ngIf="item.badge>0" class="tag is-danger" style="position:absolute; top:0px; right:0px;">{{ item.badge }}</span>\r\n            </a>\r\n        </div>\r\n    </section>\r\n</section>\r\n\r\n'},RppL:function(e,t){e.exports='<formulario #ctrl URL="articulos" titulo="Articulos / Almacen" [dato]="dato"></formulario>\r\n<menu-almacen-articulos></menu-almacen-articulos>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:90%; padding-top: 1em;">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em;">\r\n        \x3c!-- formulario --\x3e\r\n        <form name="form" novalidate [formGroup]="dato" (ngSubmit)="ctrl.enviar()" >\r\n            <div style="background: #FFF; overflow: hidden;">\r\n                <section class="hero is-primary">\r\n                    <div class="hero-body">\r\n                        \x3c!-- Opciones  --\x3e\r\n                        <formulario-opciones [ctrl]="ctrl"  class="control is-grouped" style="position:absolute; top:8em; right:3em;">\r\n                           \r\n                        </formulario-opciones>  \r\n                        \r\n\r\n                        <div class="container is-fluid">\r\n                            <h1 class="title">\r\n                                <span *ngIf="!ctrl.cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                <span *ngIf="ctrl.cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>                                {{ctrl.moduloTitulo}} categoria\r\n                            </h1>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>                    &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n                <section class="section">\r\n\r\n\r\n\r\n                    \x3c!-- cargar los catalogos que se requieran parametro 1 modelo donde se guarda el catalogo, parametro 2 ruta de la api --\x3e\r\n                    <a id="catalogos" (click)="ctrl.cargarCatalogo(\'categorias\', \'categoria\'); ctrl.cargarCatalogo(\'articulos\', \'articulos\'); "></a>\r\n                   \r\n                    <div class="field">\r\n                        <label class="label">Categor\xeda:</label>\r\n                        <div class="control is-expanded  has-icon has-icon-right">\r\n                            <div class="select">\r\n                                <select class="select" formControlName="categoria_id" [ngClass]="{\'is-danger\': ctrl.dato.get(\'categoria_id\').hasError(\'required\')}">\r\n                                    <optgroup *ngFor="let val of ctrl.categorias | groupBy:\'categoria_id\'" label="{{val.key}}">\r\n                                        <option *ngFor="let item of val.value" value="{{item.id}}" >{{item.nombre}}</option>\r\n                                    </optgroup>\r\n                                </select>\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'categoria_id\').hasError(\'required\')">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'categoria_id\').hasError(\'required\')">Este campo es requerido.</span>                                \r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="field">\r\n                            <label class="label">Articulo padre:</label>\r\n                            <div class="control is-expanded  has-icon has-icon-right">\r\n                                <div class="select">\r\n                                    <select class="select" formControlName="articulo_id">\r\n                                        <optgroup *ngFor="let val of ctrl.articulos | groupBy:\'articulo_id\'" label="{{val.key}}">\r\n                                            <option *ngFor="let item of val.value" value="{{item.id}}" >{{item.nombre}}</option>\r\n                                        </optgroup>\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class="field">\r\n                            <label class="label">Nombre:</label>\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n                                <input class="input" autofocus type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'nombre\').hasError(\'required\')}" placeholder="Nombre"\r\n                                    formControlName="nombre">\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div class="field">\r\n                            <br>\r\n                            <div class="b-checkbox control is-expanded  has-icon has-icon-right">\r\n                                <input type="checkbox" id="es_activo_fijo{{i}}" class="styled" formControlName="es_activo_fijo" [checked]="ctrl.dato.get(\'es_activo_fijo\').value == 1 ? true : false">\r\n                                <label for="es_activo_fijo{{i}}">  Es activo fijo? \r\n                                </label>\r\n                            </div>\r\n                            <br>\r\n                        </div>\r\n\r\n\r\n                        <div class="field">\r\n                            <label class="label">Descripci\xf3n:</label>\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n                                <textarea class="textarea" type="text" rows="2" placeholder="Descripci\xf3n" formControlName="descripcion" [ngClass]="{\'is-danger\': ctrl.dato.get(\'descripcion\').hasError(\'required\')}"></textarea>\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'descripcion\').hasError(\'required\')">\r\n                                        <i class="fa fa-warning"></i>\r\n                                    </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'descripcion\').hasError(\'required\')">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n                    \r\n                    \r\n                </section>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>'},Rpt0:function(e,t){e.exports='<section class="hero is-primary" style="position: fixed; width: 100%;top:0px; z-index:99">\r\n    <div class="hero-head">\r\n        <div class="container is-fluid">\r\n            <nav class="nav is-primary">\r\n                <div class="nav-left">\r\n                    <a class="nav-item is-brand" routerLink="/dashboard" routerLinkActive="active">\r\n                    \x3c!--<img src="http://bulma.io/images/bulma-type.png" alt="Bulma logo">--\x3e\r\n                    <span class="icon">\r\n                        <i class="fa fa-tachometer"></i>\r\n                    </span> \r\n                     <h1 class="title">&nbsp;Dashboard</h1>\r\n                    </a>\r\n                </div>\r\n\r\n                <a class="nav-item"  (click)="hub.toggle()">\r\n                    <span class="icon">\r\n                        <i class="fa fa-th"></i>\r\n                    </span>\r\n                </a>\r\n\r\n                <a class="nav-item is-hidden-mobile" (click)="perfil.toggle()">                    \r\n                    <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n                    &nbsp;\r\n                    <span>{{ usuario.nombre }} {{ usuario.apellidos }}</span>\r\n                </a>\r\n                <a class="nav-item is-hidden-tablet" (click)="perfil.toggle()">\r\n                    \r\n                    <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n                </a>\r\n               \r\n                \r\n            </nav>\r\n        </div>\r\n    </div>\r\n</section>\r\n\r\n<app-hub #hub></app-hub>\r\n<app-perfil #perfil></app-perfil>'},"S+IZ":function(e,t){e.exports='<listar #ctrl URL="inventario-laboratorio?seleccionar={{opciones.seleccionar}}&tipo={{opciones.tipo_sustancia}}&clave_insumo={{opciones.clave_insumo}}" titulo="Existencias de laboratorio"></listar>\r\n<app-menu-laboratorio [modulo]="\'Existencias de laboratorio\'" [icono]="\'assets/icono-stock-lab.svg\'" [url]="\'/laboratorio/existencias\'"></app-menu-laboratorio>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:80%;">\r\n    <div class="column" style="padding:2em;">\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n            <app-tabla-opciones-laboratorio \r\n                #opciones\r\n                [ctrl]="ctrl"\r\n                [nombre]="\'Almacenes\'"\r\n                [excel_export]= false\r\n                [ruta]="\'inventario-laboratorio?seleccionar=\'+opciones.seleccionar+\'&tipo=\'+opciones.tipo_sustancia+\'&clave_insumo=\'+opciones.clave_insumo"\r\n                [nuevo]= false\r\n                [busqueda]= false\r\n                [mostrar_nombre]= false\r\n                [ruta_pdf]="\'laboratorio/lista-inventario-laboratorio.js\'">\r\n            </app-tabla-opciones-laboratorio>\r\n            <span id="exportable">\r\n                <div style="overflow:auto; display:block" [style.maxHeight.px]="ctrl.tamano-300">\r\n                    <div class="is-fullwidth has-text-centered" *ngIf="opciones.cargandoPdf">\r\n                        <br>\r\n                        <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Generando PDF...</span></span>\r\n                        <br>\r\n                        <br>\r\n                    </div>\r\n\r\n                    <table class="table" *ngIf="!ctrl.cargando && !opciones.cargandoPdf">\r\n                        <thead>\r\n                            <tr>\r\n                                <th style="text-align: center;">Clave</th>\r\n                                <th>Descripci\xf3n</th>\r\n                                <th title="Consumo Promedio del D\xeda">C.P.D.</th>\r\n                                <th title="Consumo Promedio Semanal">C.P.S.</th>\r\n                                <th title="Consumo Promedio Mensual">C.P.M.</th>\r\n                                <th style="text-align: right;">Existencia</th>\r\n                                <th style="text-align: right;">Existencia Unidosis</th>\r\n                                <th style="text-align: center;">Actualizado</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody *ngIf="!ctrl.busquedaActivada">\r\n                            <tr *ngFor="let item of ctrl.dato; let i=index" style="border: 1px">\r\n                                <th style="vertical-align: middle; text-align: center;"><a (click)="select_insumo_autocomplete(item)">{{ item.clave_insumo_medico }}</a></th>\r\n                                <td style="vertical-align: middle;">\r\n                                    <a (click)="select_insumo_autocomplete(item)">\r\n                                        <p class="title is-5"> <small>{{ item.descripcion }} </small></p>\r\n                                            <p class="subtitle is-6">\r\n                                                <label *ngIf="item.es_causes==1" class="tag is-success" ><strong>Causes </strong></label>\r\n                                                <label *ngIf="item.es_causes==0" class="tag" style="background: #B8FB7E; border-color: #B8FB7E; color: rgba(0,0,0,0.7);">\r\n                                                    <strong>No Causes </strong> \r\n                                                </label>\r\n                                                <label *ngIf="item.tipo==\'MC\'" class="tag is-info" ><strong title="Material de curaci\xf3n">Mat. Curaci\xf3n </strong></label>\r\n                                                <label *ngIf="item.es_unidosis==1" class="tag is-warning" ><strong>Unidosis</strong></label>\r\n                                            </p>\r\n                                    </a>\r\n                                </td>\r\n                                <td>--</td>\r\n                                <td>--</td>\r\n                                <td>--</td>\r\n                                <td style="vertical-align: middle; text-align: center;"><a (click)="select_insumo_autocomplete(item)" style="font-size:1.2em;" class="help" [ngClass]="{\'is-danger\': item.existencia == 0}">{{ item.existencia }} </a></td>\r\n                                <td style="vertical-align: middle; text-align: center;"><a (click)="select_insumo_autocomplete(item)" style="font-size:1.2em;" class="help" [ngClass]="{\'is-danger\': item.existencia_unidosis == 0}">{{ item.existencia_unidosis }} </a></td>\r\n                                <td style="vertical-align: middle; text-align: center;"><a (click)="select_insumo_autocomplete(item)">{{ item.updated_at | date}} </a></td>\r\n                            </tr>\r\n                            <tr *ngIf="ctrl.dato.length == 0">\r\n                                <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>\r\n                            </tr>\r\n                        </tbody>\r\n                        <tbody *ngIf="ctrl.busquedaActivada">\r\n                            <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">\r\n                                <th style="vertical-align: middle; text-align: center;"><a (click)="select_insumo_autocomplete(item)">{{ item.clave_insumo_medico }}</a></th>\r\n                                <td style="vertical-align: middle;">\r\n                                    <a (click)="select_insumo_autocomplete(item)">\r\n                                        <p class="title is-5"> <small>{{ item.descripcion }} </small></p>\r\n                                            <p class="subtitle is-6">\r\n                                                <label *ngIf="item.es_causes==1" class="tag is-success" ><strong>Causes </strong></label>\r\n                                                <label *ngIf="item.es_causes==0" class="tag" style="background: #B8FB7E; border-color: #B8FB7E; color: rgba(0,0,0,0.7);">\r\n                                                    <strong>No Causes </strong> \r\n                                                </label>\r\n                                                <label *ngIf="item.es_unidosis==1" class="tag is-warning" ><strong>Unidosis</strong></label>\r\n                                            </p>\r\n                                    </a>\r\n                                </td>\r\n                                <td>--</td>\r\n                                <td>--</td>\r\n                                <td>--</td>\r\n                                <td style="vertical-align: middle; text-align: center;"><a (click)="select_insumo_autocomplete(item)" style="font-size:1.2em;" class="help" [ngClass]="{\'is-danger\': item.existencia == 0}">{{ item.existencia }} </a></td>\r\n                                <td style="vertical-align: middle; text-align: center;"><a (click)="select_insumo_autocomplete(item)" style="font-size:1.2em;" class="help" [ngClass]="{\'is-danger\': item.existencia_unidosis == 0}">{{ item.existencia_unidosis }} </a></td>\r\n                                <td style="vertical-align: middle; text-align: center;"><a (click)="select_insumo_autocomplete(item)">{{ item.updated_at | date}} </a></td>\r\n                            </tr>\r\n                            <tr *ngIf="ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada">\r\n                                <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </span>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [total]="ctrl.total" [paginasTotales]="ctrl.paginasTotales" [resultadosPorPagina]="ctrl.resultadosPorPagina"\r\n                [paginaActual]="ctrl.paginaActual" [indicePaginas]="ctrl.indicePaginas" (onSiguiente)="ctrl.paginaSiguiente()"\r\n                (onAnterior)="ctrl.paginaAnterior()" (onListar)="ctrl.listar($event)" *ngIf="ctrl.total>0 && ctrl.total > ctrl.resultadosPorPagina && !ctrl.busquedaActivada"></paginacion>\r\n            \x3c!-- Paginaci\xf3n para la b\xfasqueda  --\x3e\r\n            <paginacion [total]="ctrl.totalBusqueda" [paginasTotales]="ctrl.paginasTotalesBusqueda" [resultadosPorPagina]="ctrl.resultadosPorPaginaBusqueda"\r\n                [paginaActual]="ctrl.paginaActualBusqueda" [indicePaginas]="ctrl.indicePaginasBusqueda" (onSiguiente)="ctrl.paginaSiguienteBusqueda(searchBox.value)"\r\n                (onAnterior)="ctrl.paginaAnteriorBusqueda(searchBox.value)" (onListar)="ctrl.listarBusqueda(searchBox.value,$event)"\r\n                *ngIf="ctrl.totalBusqueda > 0 && ctrl.totalBusqueda > ctrl.resultadosPorPaginaBusqueda && ctrl.busquedaActivada"></paginacion>\r\n\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n\r\n<div class="modal" id="verLotes">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card" style="width: 60%;">\r\n        <header class="modal-card-head" style="background: #00d1b2;">\r\n            <p class="modal-card-title" style="width: 200px; color:#FFF;">\r\n                <span class="icon is-medium"><i class="fa fa-medkit"></i></span> &nbsp; \r\n                <span class="title" style="color:#FFF;">Insumo m\xe9dico</span> \r\n            </p>\r\n            <button type="button" class="delete" (click)="cancelarModal(\'verLotes\');"></button>\r\n        </header>\r\n        <header class="modal-card-head">\r\n            <p class="modal-card-title" id="tituloModal" style="width: 200px"> </p>\r\n        \x3c!--     <button type="button" class="delete" (click)="cancelarModal(\'verLotes\');"></button> --\x3e\r\n        </header>\r\n        <section class="modal-card-body">\r\n            <label class="label">Lotes disponibles:</label>\r\n            <table class="table is-narrow is-bordered is-striped">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Lote</th>\r\n                        <th>Caducidad</th>\r\n                        <th>C\xf3digo de barras</th>\r\n                        <th>Existencia</th>\r\n                        <th>Existencia Unidosis</th> \r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor="let item of lotes_insumo;  let i = index;">\r\n                        <td>{{item.lote}}</td>\r\n                        <td>{{item.fecha_caducidad}}</td>\r\n                        <td>{{item.codigo_barras}}</td>\r\n                        <td>{{item.existencia}}</td>\r\n                        <td>{{item.existencia_unidosis}}</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-success" (click)="cancelarModal(\'verLotes\');">Aceptar</a>\r\n            <a class="button" (click)="cancelarModal(\'verLotes\');">Cancelar</a>\r\n        </footer>\r\n    </div>\r\n</div>\r\n\r\n<div class="modal" id="imprimirModal">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card" style="width: 60%;">\r\n        <header class="modal-card-head" style="background: #00d1b2;">\r\n            <p class="modal-card-title" style="width: 200px; color:#FFF;">\r\n                <span class="icon is-medium"><i class="fa fa-medkit"></i></span> &nbsp; \r\n                <span class="title" style="color:#FFF;">Imprimir</span> \r\n            </p>\r\n            <button type="button" class="delete" (click)="cancelarModal(\'imprimirModal\');"></button>\r\n        </header>\r\n        <header class="modal-card-head">\r\n        </header>\r\n        <section class="modal-card-body">\r\n           \r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-success" (click)="cancelarModal(\'imprimirModal\');">Aceptar</a>\r\n            <a class="button" (click)="cancelarModal(\'imprimirModal\');">Cancelar</a>\r\n        </footer>\r\n    </div>\r\n</div>'},"S/zg":function(e,t){e.exports='<formulario #ctrl URL="almacenes" titulo="Almacenes / Catalogo" [dato]="dato"></formulario>\r\n<app-menu-catalogo></app-menu-catalogo>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:90%; padding-top: 1em;">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em;">\r\n        \x3c!-- formulario --\x3e\r\n        <form name="dato" novalidate [formGroup]="dato" (ngSubmit)="ctrl.enviar()">\r\n            <div style="background: #FFF; overflow: hidden;">\r\n                <section class="hero is-primary">\r\n                    <div class="hero-body">\r\n                        \x3c!-- Opciones  --\x3e\r\n                        <formulario-opciones\r\n                            [ctrl]="ctrl"\r\n                            class="control is-grouped"\r\n                            style="position:absolute; top:8em; right:3em;">\r\n                        </formulario-opciones>\r\n                        <div class="container is-fluid">\r\n                            <h1 class="title">\r\n                                <span *ngIf="!ctrl.cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                <span *ngIf="ctrl.cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>                                {{ctrl.moduloTitulo}} almacen\r\n                            </h1>\r\n\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>                    &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n                <section class="section">\r\n                    \r\n                        <div class="tabs is-boxed">\r\n                            <ul>\r\n                                <li [ngClass]="{ \'is-active\' : tab == 1}">\r\n                                    <a (click)="tab=1">\r\n                                    <span class="icon is-small"><i class="fa fa-file"></i></span>\r\n                                    <span>Datos del almac\xe9n</span>\r\n                                </a>\r\n                                </li>\r\n                                <li [ngClass]="{ \'is-active\' : tab == 2}">\r\n                                    <a (click)="tab=2">\r\n                                    <span class="icon is-small"><i class="fa fa-home"></i></span>\r\n                                    <span>Tipos de movimientos</span>\r\n                                </a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n\r\n                        <div [ngClass]="{ \'is-hidden\': tab != 1}">\r\n\r\n                            <div class="field">\r\n                                <label class="label">ID:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'id\').hasError(\'required\') && ctrl.dato.get(\'id\').touched}"\r\n                                        placeholder="id" formControlName="id" [readonly]="tieneid">\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'id\').hasError(\'required\') && ctrl.dato.get(\'id\').touched">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'id\').hasError(\'required\') && ctrl.dato.get(\'id\').touched">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n\r\n                            <div class="field">\r\n                                <label class="label">Nombre:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'nombre\').hasError(\'required\')}" placeholder="nombre"\r\n                                        formControlName="nombre">\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n\r\n                            <div class="field">\r\n                                <label class="label">Nivel de almac\xe9n:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <select class="select" name="nivel_almacen" formControlName="nivel_almacen" [ngClass]="{\'is-warning\': nivel_almacen?.length ==0 }">\r\n                                    <option *ngFor="let item of niveles_almacen" value="{{item.id}}" [attr.selected]="ctrl.dato.get(\'nivel_almacen\').value == item.id > -1">{{ item.nombre }}</option>\r\n                                </select>\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'nivel_almacen\').hasError(\'required\') && ctrl.dato.get(\'nivel_almacen\').touched">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'nivel_almacen\').hasError(\'required\') && ctrl.dato.get(\'nivel_almacen\').touched">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n\r\n                            <div class="field">\r\n                                <label class="label">Tipo de almac\xe9n:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <select class="select" name="tipo_almacen" formControlName="tipo_almacen" [ngClass]="{\'is-warning\': tipo_almacen?.length ==0 }">\r\n                                    <option *ngFor="let item of tipos_almacen" value="{{item.id}}" [attr.selected]="ctrl.dato.get(\'tipo_almacen\').value == item.id > -1">{{ item.nombre }}</option>\r\n                                </select>\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'tipo_almacen\').hasError(\'required\') && ctrl.dato.get(\'tipo_almacen\').touched">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'tipo_almacen\').hasError(\'required\') && ctrl.dato.get(\'tipo_almacen\').touched">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n\r\n\r\n\r\n                            <div class="field">\r\n                                <label class="label">Clues:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <input ngui-auto-complete [source]="clues_term" [list-formatter]="autocompleListFormatter" value-property-name="clues" display-property-name="clues"\r\n                                        path-to-data="" loading-text="Cargando..." no-match-found-text="No hay resultados." (valueChanged)="ctrl.select_item_autocomplete(\'clues\', \'clues\', $event)"\r\n                                        min-chars="1" class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'clues\').hasError(\'required\') && ctrl.dato.get(\'clues\').touched}"\r\n                                        placeholder="Clues" formControlName="clues">\r\n\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'clues\').hasError(\'required\') && ctrl.dato.get(\'clues\').touched">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'clues\').hasError(\'required\') && ctrl.dato.get(\'clues\').touched">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n\r\n                            <div class="field">\r\n                                <label class="label" id="catalogos" (click)="ctrl.cargarCatalogo(\'proveedores\', \'proveedor\'); ctrl.cargarCatalogo(\'tipos_movimientos\', \'tipo-movimiento\');">Proveedor:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <select class="select" name="proveedor_id" formControlName="proveedor_id" [ngClass]="{\'is-warning\': proveedor_id?.length ==0 }">\r\n                                    <option *ngFor="let item of ctrl.proveedores" value="{{item.id}}" [attr.selected]="ctrl.dato.get(\'proveedor_id\').value == item.id > -1">{{ item.nombre }}</option>\r\n                                </select>\r\n                                </p>\r\n                            </div>\r\n\r\n                            <br>\r\n                            <div class="control is-grouped">\r\n                                <div class="b-checkbox control is-expanded  has-icon has-icon-right">\r\n\r\n                                    <input type="checkbox" id="subrogado" class="styled" [checked]="ctrl.dato.get(\'subrogado\').value == \'1\' ? true : false" (change)="ctrl.dato.get(\'subrogado\').patchValue(ctrl.dato.get(\'subrogado\').value == \'1\' ? \'0\' : \'1\')">\r\n                                    <label for="subrogado">  Es Subrogado?\r\n                                </label>\r\n                                </div>\r\n\r\n                                <div class="b-checkbox control is-expanded  has-icon has-icon-right">\r\n\r\n                                    <input type="checkbox" id="unidosis" class="styled" [checked]="ctrl.dato.get(\'unidosis\').value == \'1\' ? true : false" (change)="ctrl.dato.get(\'unidosis\').patchValue(ctrl.dato.get(\'unidosis\').value == \'1\' ? \'0\' : \'1\')">\r\n                                    <label for="unidosis">   Maneja unidosis?\r\n                                </label>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div [ngClass]="{ \'is-hidden\': tab != 2}">\r\n\r\n                            <div formArrayName="almacen_tipos_movimientos">\r\n                                <div *ngFor="let item of ctrl.dato.controls.almacen_tipos_movimientos.controls; let i=index" class="column is-4" style="float:left">\r\n                                    <nav class="panel" [formGroupName]="i">\r\n                                        <div class="panel-heading">\r\n                                            Tipo de movimiento {{i + 1}}\r\n                                            <a style="float:right" class="is-danger" (click)="ctrl.quitar_form_array(\'almacen_tipos_movimientos\', i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a>\r\n                                        </div>\r\n                                        <label class="panel-block">                                                  \r\n                                        <select class="select" name="tipo_movimiento_id" formControlName="tipo_movimiento_id" [ngClass]="{\'is-warning\': tipo_movimiento_id?.length ==0 }">\r\n                                            <option *ngFor="let val of ctrl.tipos_movimientos" value="{{val.id}}" >{{ val.nombre }}</option>\r\n                                        </select>\r\n                                        <span class="help is-danger" *ngIf="!ctrl.dato.controls.almacen_tipos_movimientos.controls[i].controls.tipo_movimiento_id.valid">Este campo es requerido.</span>                                            \r\n                                    </label>\r\n                                    </nav>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class="block">\r\n                                <a class="button is-primary is-outlined is-fullwidth" (click)="ctrl.agregar_form_array(ctrl.dato.controls.almacen_tipos_movimientos, form_almacen_tipos_movimientos)">\r\n                                <span class="icon">\r\n                                    <i class="fa fa-plus"> </i> \r\n                                </span> \r\n                                &nbsp; Agregar\r\n                            </a>\r\n                            </div>\r\n                        </div>\r\n                </section>\r\n            </div>\r\n            </form>\r\n    </div>\r\n</div>'},SGRD:function(e,t){e.exports=""},"T/4t":function(e,t){e.exports='<section class="hero is-primary" style="position: fixed; width: 100%;top:0px; z-index:99">\r\n    <div class="hero-head">\r\n        <div class="container is-fluid">\r\n            <nav class="nav is-primary">\r\n                <div class="nav-left">\r\n                    <a class="nav-item is-brand" routerLink="/admision" routerLinkActive="active">\r\n                     <span class="icon">\r\n                        <i class="fa fa-user"></i>\r\n                    </span> \r\n                     <h1 class="title">&nbsp;Pacientes de <span style="font-size: 16pt"> ({{ DatoUnidad.unidades_medicas[0].clues }}) {{ DatoUnidad.unidades_medicas[0].nombre }}</span></h1> \r\n                    </a>\r\n                </div>\r\n                <a class="nav-item is-hidden-tablet" (click)="toggleMenuAside()">\r\n                    <span class="icon">\r\n                        <i class="fa fa-navicon"></i>\r\n                    </span>\r\n                </a>\r\n                <a class="nav-item"  (click)="hub.toggle()">\r\n                    <span class="icon">\r\n                        <i class="fa fa-th"></i>\r\n                    </span>\r\n                </a>\r\n\r\n                <a class="nav-item is-hidden-mobile" (click)="perfil.toggle()">\r\n                    \r\n                    <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n                    &nbsp;\r\n                    <span>{{ usuario.nombre }} {{ usuario.apellidos }}</span>\r\n                </a>\r\n                <a class="nav-item is-hidden-tablet" (click)="perfil.toggle()">\r\n                    \r\n                    <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n                </a>\r\n               \r\n                \r\n            </nav>\r\n        </div>\r\n    </div>\r\n</section>\r\n\r\n<app-hub #hub></app-hub>\r\n<app-perfil #perfil></app-perfil>\r\n\r\n<div class="modal" [ngClass]="{\'is-active\': mostrarMenuAside}">\r\n  <div class="modal-background" (click)="toggleMenuAside()"></div>\r\n  <div class="modal-content">\r\n    <div class="card" style="width: 100%">\r\n        <div class="card-content">\r\n            <admision-menu-aside></admision-menu-aside>\r\n        </div>\r\n    </div>\r\n  </div>\r\n  <button class="modal-close" (click)="toggleMenuAside()"></button>\r\n</div>\r\n'},T4UE:function(e,t){e.exports='<formulario #ctrl URL="servidor" titulo="Servidor / Catalogo" [dato]="dato"></formulario>\r\n<app-menu-catalogo></app-menu-catalogo>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:90%; padding-top: 1em;">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em;">\r\n        \x3c!-- formulario --\x3e\r\n        <form name="form" novalidate [formGroup]="dato" (ngSubmit)="ctrl.enviar()">\r\n            <div style="background: #FFF; overflow: hidden;">\r\n                <section class="hero is-primary">\r\n                    <div class="hero-body">\r\n                        \x3c!-- Opciones  --\x3e\r\n                        <formulario-opciones [ctrl]="ctrl" class="control is-grouped" style="position:absolute; top:8em; right:3em;">\r\n                        </formulario-opciones>\r\n                        <div class="container is-fluid">\r\n                            <h1 class="title">\r\n                                <span *ngIf="!ctrl.cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                <span *ngIf="ctrl.cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>                                {{ctrl.moduloTitulo}} servidor\r\n                            </h1>\r\n\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>                    &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n                <section class="section">\r\n\r\n\r\n                    <div class="field">\r\n                        <label class="label">ID:</label>\r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                            <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'id\').hasError(\'required\') && ctrl.dato.get(\'id\').touched}"\r\n                                placeholder="id" formControlName="id">\r\n                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'id\').hasError(\'required\') && ctrl.dato.get(\'id\').touched">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'id\').hasError(\'required\') && ctrl.dato.get(\'id\').touched">Este campo es requerido.</span>\r\n                        </p>\r\n                    </div>\r\n\r\n                    <div class="field">\r\n                        <label class="label">Nombre:</label>\r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                            <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'nombre\').hasError(\'required\')}" placeholder="nombre"\r\n                                formControlName="nombre">\r\n                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">Este campo es requerido.</span>\r\n                        </p>\r\n                    </div>\r\n\r\n                    <div class="field">\r\n                        <label class="label">Clave secreta:</label>\r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                            <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'secret_key\').hasError(\'required\') && ctrl.dato.get(\'secret_key\').touched}"\r\n                                placeholder="Clave secreta" formControlName="secret_key">\r\n                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'secret_key\').hasError(\'required\') && ctrl.dato.get(\'secret_key\').touched">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'secret_key\').hasError(\'required\') && ctrl.dato.get(\'secret_key\').touched">Este campo es requerido.</span>\r\n                        </p>\r\n                    </div>\r\n\r\n                    <div class="field">\r\n                        <label class="label">Versi\xf3n:</label>\r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                            <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'version\').hasError(\'required\') && ctrl.dato.get(\'version\').touched}"\r\n                                placeholder="Versi\xf3n" formControlName="version">\r\n                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'version\').hasError(\'required\') && ctrl.dato.get(\'version\').touched">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'version\').hasError(\'required\') && ctrl.dato.get(\'version\').touched">Este campo es requerido.</span>\r\n                        </p>\r\n                    </div>\r\n\r\n                    <div class="field">\r\n                        <label class="label">Per\xedodo de sincronizaci\xf3n:</label>\r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                            <input class="input" type="number" min="1" max="31" [ngClass]="{\'is-danger\': ctrl.dato.get(\'periodo_sincronizacion\').hasError(\'required\') && ctrl.dato.get(\'periodo_sincronizacion\').touched}"\r\n                                placeholder="secret key" formControlName="periodo_sincronizacion">\r\n                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'periodo_sincronizacion\').hasError(\'required\') && ctrl.dato.get(\'periodo_sincronizacion\').touched">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'periodo_sincronizacion\').hasError(\'required\') && ctrl.dato.get(\'periodo_sincronizacion\').touched">Este campo es requerido.</span>\r\n                        </p>\r\n                    </div>\r\n                    <br>\r\n                    <br>\r\n                    <div class="control is-grouped">\r\n                        <div class="b-checkbox control is-expanded  has-icon has-icon-right">\r\n\r\n                            <input type="checkbox" id="principal" class="styled" [checked]="ctrl.dato.get(\'principal\').value == \'1\' ? true : false" (change)="ctrl.dato.get(\'principal\').patchValue(ctrl.dato.get(\'principal\').value == \'1\' ? \'0\' : \'1\')">\r\n                            <label for="principal">  Es principal?\r\n                            </label>\r\n                        </div>\r\n\r\n                        <div class="b-checkbox control is-expanded  has-icon has-icon-right">\r\n\r\n                            <input type="checkbox" id="tiene_internet" class="styled" [checked]="ctrl.dato.get(\'tiene_internet\').value == \'1\' ? true : false"\r\n                                (change)="ctrl.dato.get(\'tiene_internet\').patchValue(ctrl.dato.get(\'tiene_internet\').value == \'1\' ? \'0\' : \'1\')">\r\n                            <label for="tiene_internet">   Tiene internet?\r\n                            </label>\r\n                        </div>\r\n\r\n                        <div class="b-checkbox control is-expanded  has-icon has-icon-right">\r\n\r\n                            <input type="checkbox" id="catalogos_actualizados" class="styled" [checked]="ctrl.dato.get(\'catalogos_actualizados\').value == \'1\' ? true : false"\r\n                                (change)="ctrl.dato.get(\'catalogos_actualizados\').patchValue(ctrl.dato.get(\'catalogos_actualizados\').value == \'1\' ? \'0\' : \'1\')">\r\n                            <label for="catalogos_actualizados">   Los cat\xe1logos estan actualizados?\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n\r\n                </section>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>'},T603:function(e,t){e.exports=".item {\r\n    cursor: pointer;\r\n}\r\n.item.seleccionado {\r\n    background: #CCC;\r\n}\r\n.item.seleccionado .icon {\r\n    color:white !important;\r\n}\r\n.item.seleccionado .item-detalle {\r\n    display: inherit;\r\n}\r\n.item .item-detalle {\r\n    display: none;\r\n}\r\n.item.asignado {\r\n    background: #DDD;\r\n    color: #777;\r\n}\r\ntr.filtro td,\r\ntr.filtro th {\r\n    color:#FFF;\r\n    background: #4a4a4a !important;\r\n}\r\n.contenedor-tabla {\r\n    overflow: auto; width:100%; height:99% !important; display:block; position:absolute; left:0; top:0;\r\n}\r\n.contenedor-tabla table { border-radius: 3px; }\r\n@media screen and (max-width: 768px) {\r\n    .contenedor-tabla { position: relative; }\r\n\r\n    .tile.notification { padding:0px !important; }\r\n}\r\nform{\r\n    overflow: auto;\r\n    padding: 0;\r\n}"},TQow:function(e,t){e.exports=""},TRu6:function(e,t){e.exports='<section class="hero is-dark" style="position: fixed; width: 100%;top:0px; z-index:99">\r\n    <div class="hero-head">\r\n        <div class="container is-fluid">\r\n            <nav class="nav is-primary">\r\n                <div class="nav-left">\r\n                    <a class="nav-item is-brand" routerLink="/configuracion" routerLinkActive="active">\r\n                    \x3c!--<img src="http://bulma.io/images/bulma-type.png" alt="Bulma logo">--\x3e\r\n                    <span class="icon">\r\n                        <i class="fa fa-sliders"></i>\r\n                    </span> \r\n                     <h1 class="title">&nbsp;Configuraci\xf3n</h1>\r\n                    </a>\r\n                </div>\r\n                <a class="nav-item is-hidden-tablet" (click)="toggleMenuAside()">\r\n                    <span class="icon">\r\n                        <i class="fa fa-navicon"></i>\r\n                    </span>\r\n                </a>\r\n\r\n                <div class="nav-center"></div>\r\n                <div class="nav-right is-hidden-mobile">\r\n                    <span class="unidad-trabajo">\r\n                        {{usuario.clues_activa.clues}} <span *ngIf="usuario.almacen_activo"> - {{usuario.almacen_activo.nombre}}</span><br>            \r\n                        <span>{{usuario.clues_activa.nombre}}</span>\r\n                    </span>\r\n                </div>\r\n\r\n                <a class="nav-item"  (click)="hub.toggle()">\r\n                    <span class="icon">\r\n                        <i class="fa fa-th"></i>\r\n                    </span>\r\n                </a>\r\n\r\n                <a class="nav-item is-hidden-mobile" (click)="perfil.toggle()">\r\n                    \r\n                    <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n                    &nbsp;\r\n                    <span>{{ usuario.nombre }} {{ usuario.apellidos }}</span>\r\n                </a>\r\n                <a class="nav-item is-hidden-tablet" (click)="perfil.toggle()">\r\n                    \r\n                    <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n                </a>\r\n               \r\n                \r\n            </nav>\r\n        </div>\r\n    </div>\r\n</section>\r\n\r\n<app-hub #hub></app-hub>\r\n<app-perfil #perfil></app-perfil>\r\n\r\n<div class="modal" [ngClass]="{\'is-active\': mostrarMenuAside}">\r\n  <div class="modal-background" (click)="toggleMenuAside()"></div>\r\n  <div class="modal-content">\r\n    <div class="card" style="width: 100%">\r\n        <div class="card-content">\r\n            <panel-control-menu-aside></panel-control-menu-aside>\r\n        </div>\r\n    </div>\r\n  </div>\r\n  <button class="modal-close" (click)="toggleMenuAside()"></button>\r\n</div>'},TcBW:function(e,t){e.exports='<menu-farmacia [modulo]="\'Ver\'" [icono]="\'assets/icono-entregas.svg\'" [url]="\'/almacen/transferencia-almacen/finalizados\'"></menu-farmacia>\r\n\r\n<div class="is-fullwidth has-text-centered" style="padding-top:70px;" *ngIf="cargando">\r\n  <br>\r\n  <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n  <br>\r\n  <br>\r\n</div>\r\n\r\n<div style="position:relative; padding-top:70px; margin-left: 1.5%; display:block; width:97%; height:100% !important;" *ngIf="pedido">    \r\n  <div class="tile is-ancestor is-vertical" style="height:100% !important; max-height:100% !important;">\r\n    <div class="tile is-parent is-12 ">\r\n      <div class="tile is-child notification is-dark">\r\n        <div class="columns">\r\n          <div class="column" *ngIf="pedido.datosImprimir">\r\n            <div>Folio: <strong style="color:#FFF;">{{ pedido.datosImprimir.folio }}</strong> \r\n              <span *ngIf="pedidoPorSurtir">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Lotes: {{ lotesSurtidos.length  }} / {{ pedido.lista.length }}</span>\r\n              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span *ngIf="pedidoSurtido && !pedidoEntregado"><strong style="color:#FFF;">Pedido Surtido</strong></span>\r\n              <span *ngIf="pedidoEntregado"><strong style="color:#FFF;">Pedido Entregado</strong></span><br>\r\n              <span *ngIf="pedido.datosImprimir.clues_destino && pedido.datosImprimir.clues_destino != pedido.datosImprimir.clues"><small>\r\n                Almacen destino: <strong style="color:#FFF;"> [{{ pedido.datosImprimir.almacen_solicitante.clues }}] {{ pedido.datosImprimir.almacen_solicitante.nombre }}</strong><br>\r\n                Clues destino: <strong style="color:#FFF;"> {{ pedido.datosImprimir.almacen_solicitante.unidad_medica.nombre }}</strong><br>\r\n              </small></span>\r\n            </div>\r\n          </div>\r\n          <div class="column is-4" style="text-align:center; ">\r\n            <div style="margin:1em;">\r\n              <a  class="button is-white"  style="width:45%" routerLink="/almacen/transferencia-almacen/finalizados"> Regresar</a>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="tile">\r\n      <div class="tile is-parent ">\r\n        <div class="tile is-child notification is-white" >\r\n          <div class="contenedor-tabla" >\r\n            <table class="table is-unselectable" *ngIf="!cargando" style="font-size: 0.8em; ">\r\n              <thead>\r\n                  <tr  [ngClass]="{ \'filtro\': pedido.filtro.activo}">\r\n                    <th style="width:41px;vertical-align: middle;" class="has-text-centered" >Lote</th>\r\n                    <th>\r\n                      <p class="control is-expanded">\r\n                        <input type="hidden" #searchBoxDescripcionClavePrevia >\r\n                        <input class="input is-small" type="text" placeholder="Clave o Gen\xe9rico" #searchBoxDescripcionClave id="search-box-descripcion-clave-{{indexPedido}}" (keyup)="buscar($event,searchBoxDescripcionClave,searchBoxDescripcionClavePrevia,[{ input: searchBoxDescripcionClave, campos: [\'clave\',\'generico_nombre\',\'informacion.concentracion\',\'informacion.presentacion\']}])">\r\n                      </p>\r\n                    </th>  \r\n                    \r\n                    <th style="width:78px !important;text-align: center; vertical-align: middle;"><abbr title="Cantidad Solicitada">Solicitado</abbr></th>\r\n                    <th style="width:78px !important;text-align: center; vertical-align: middle;"><abbr title="Cantidad Enviada">Enviado</abbr></th>\r\n                    <th style="width:78px !important;text-align: center; vertical-align: middle;"><abbr title="Cantidad Entregada">Entregado</abbr></th>\r\n\r\n                    <th  style="width:21px !important; text-align: center; vertical-align: middle;">Surtido</th>\r\n                  </tr>\r\n              </thead>\r\n\r\n              <tbody *ngIf="!pedido.filtro.activo">\r\n                  <tr class="item" *ngFor="let item of pedido.paginacion.lista; let i = index;" (click)="seleccionarItem(item)" [ngClass]="{ \'seleccionado\': item == itemSeleccionado}">\r\n                      <td class="has-text-centered">{{ item.lote }}</td>\r\n                      <td >\r\n                        <small >{{ item.clave }} <br></small>\r\n                          <div style="line-height:1em;">\r\n                            <small>{{ item.descripcion }}</small>\r\n                          </div>\r\n                        \x3c!--b>{{ item.generico_nombre }}</b> <small *ngIf="(item.tipo == \'ME\' && item.informacion)"><b>{{ item.informacion.concentracion }}</b></small><br--\x3e\r\n                        <div class="item-detalle">\r\n                          \x3c!--div   *ngIf="(item.tipo == \'ME\' && item.informacion)" style="line-height:1em;">\r\n                            <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                            <small><i>{{ item.informacion.contenido }} </i></small>\r\n                          </div>\r\n                          <div *ngIf="item.tipo != \'ME\'" style="line-height:1em;">\r\n                            <small>{{ item.descripcion }}</small>\r\n                          </div--\x3e\r\n                          <div  style="padding: 0.5em 0 0.5em 0; ">\r\n                            <span *ngIf="(item.es_causes && item.tipo == \'ME\')" class="tag is-success" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">CAUSES</span>\r\n                            <span *ngIf="(!item.es_causes && item.tipo == \'ME\')" class="tag is-danger" style="font-size: 0.7em !important;">NO CAUSES</span>\r\n                            <span *ngIf="item.tipo == \'MC\'" class="tag is-warning" style="font-size: 0.7em !important;">MATERIAL CURACI\xd3N</span>\r\n                            <span *ngIf="item.es_cuadro_basico" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">Cuadro b\xe1sico</span>\r\n                            \r\n                            <span *ngIf="(item.tipo == \'ME\' && item.informacion)">\r\n                              <span *ngIf="item.informacion.es_controlado" class="tag is-warning" style="font-size: 0.7em">Controlado</span>\r\n                              <span *ngIf="item.informacion.es_surfactante" class="tag is-warning" style="font-size: 0.7em">Surfactante</span>  \r\n                            </span>\r\n                            \r\n                          </div>\r\n                        </div>\r\n                      </td> \r\n                      \r\n                      <th style="width:78px !important; text-align:center;">{{ (item.cantidad_solicitada || 0) | number }}</th>\r\n                      <td style="width:78px !important; text-align:center;">{{ (item.cantidad_enviada || 0) | number }}</td>\r\n                      <th style="width:78px !important; text-align:center;">{{ (item.cantidad_recibida || 0) | number }}</th>\r\n\r\n                      <td style="width:21px !important; text-align:center;">\r\n                        <span class="icon" style="color:gray;" *ngIf="!item.cantidad_enviada"><i class="fa fa-circle-thin"></i></span>\r\n                        <span class="icon" style="color:orange;" *ngIf="item.cantidad_enviada > 0 && item.cantidad_recibida < item.cantidad_enviada"><i class="fa fa-minus-circle"></i></span>\r\n                        <span class="icon" style="color:green;" *ngIf="item.cantidad_enviada > 0 && item.cantidad_enviada == item.cantidad_recibida"><i class="fa fa-check-circle"></i></span>\r\n                      </td>\r\n                    </tr>\r\n              </tbody>\r\n\r\n              <tbody *ngIf="pedido.filtro.activo">\r\n                  <tr class="item"  *ngFor="let item of pedido.filtro.paginacion.lista; let i = index;" (click)="seleccionarItem(item)" [ngClass]="{ \'seleccionado\': item == itemSeleccionado}">\r\n                    <td class="has-text-centered">{{ item.lote }}</td>\r\n                    <td >\r\n                      <small >{{ item.clave }} <br></small>\r\n                        <div style="line-height:1em;">\r\n                          <small>{{ item.descripcion }}</small>\r\n                        </div>\r\n                      \x3c!--b>{{ item.generico_nombre }}</b> <small *ngIf="(item.tipo == \'ME\' && item.informacion)"><b>{{ item.informacion.concentracion }}</b></small><br--\x3e\r\n                      <div class="item-detalle">\r\n                        \x3c!--div   *ngIf="(item.tipo == \'ME\' && item.informacion)" style="line-height:1em;">\r\n                          <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                          <small><i>{{ item.informacion.contenido }} </i></small>\r\n                        </div>\r\n                        <div *ngIf="item.tipo != \'ME\'" style="line-height:1em;">\r\n                          <small>{{ item.descripcion }}</small>\r\n                        </div--\x3e\r\n                        <div  style="padding: 0.5em 0 0.5em 0; ">\r\n                          <span *ngIf="(item.es_causes && item.tipo == \'ME\')" class="tag is-success" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">CAUSES</span>\r\n                          <span *ngIf="(!item.es_causes && item.tipo == \'ME\')" class="tag is-danger" style="font-size: 0.7em !important;">NO CAUSES</span>\r\n                          <span *ngIf="item.tipo == \'MC\'" class="tag is-warning" style="font-size: 0.7em !important;">MATERIAL CURACI\xd3N</span>\r\n                          <span *ngIf="item.es_cuadro_basico" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">Cuadro b\xe1sico</span>\r\n                          \r\n                          <span *ngIf="(item.tipo == \'ME\' && item.informacion)">\r\n                            <span *ngIf="item.informacion.es_controlado" class="tag is-warning" style="font-size: 0.7em">Controlado</span>\r\n                            <span *ngIf="item.informacion.es_surfactante" class="tag is-warning" style="font-size: 0.7em">Surfactante</span>  \r\n                          </span>\r\n                          \r\n                        </div>\r\n                      </div>\r\n                    </td> \r\n                    \r\n                    <th style="width:78px !important; text-align:center;">{{ (item.cantidad_solicitada || 0) | number }}</th>\r\n                    <td style="width:78px !important; text-align:center;">{{ (item.cantidad_enviada || 0) | number }}</td>\r\n                    <th style="width:78px !important; text-align:center;">{{ (item.cantidad_recibida || 0) | number }}</th>\r\n\r\n                    <td style="width:21px !important; text-align:center;">\r\n                      <span class="icon" style="color:gray;" *ngIf="!item.cantidad_enviada"><i class="fa fa-circle-thin"></i></span>\r\n                      <span class="icon" style="color:orange;" *ngIf="item.cantidad_enviada > 0 && item.cantidad_recibida < item.cantidad_enviada"><i class="fa fa-minus-circle"></i></span>\r\n                      <span class="icon" style="color:green;" *ngIf="item.cantidad_enviada > 0 && item.cantidad_enviada == item.cantidad_recibida"><i class="fa fa-check-circle"></i></span>\r\n                    </td>\r\n                  </tr>   \r\n              </tbody>              \r\n            </table>\r\n            <paginacion style=" width:100%; height:auto; bottom:0; left:0px; background:#FFF;"\r\n                [total]="pedido.lista.length" \r\n                [paginasTotales]="pedido.paginacion.totalPaginas" \r\n                [resultadosPorPagina]="pedido.paginacion.resultadosPorPagina" \r\n                [paginaActual]="pedido.paginacion.paginaActual" \r\n                [indicePaginas]="pedido.paginacion.indice"\r\n                (onSiguiente)="pedido.paginaSiguiente(); limpiarStock();" \r\n                (onAnterior)="pedido.paginaAnterior(); limpiarStock();" \r\n                (onListar)="pedido.listar($event);limpiarStock();" \r\n                *ngIf="pedido.lista.length > 0 && pedido.lista.length > pedido.paginacion.resultadosPorPagina && !pedido.filtro.activo"></paginacion>\r\n\r\n            <paginacion \r\n                [total]="pedido.filtro.lista.length" \r\n                [paginasTotales]="pedido.filtro.paginacion.totalPaginas" \r\n                [resultadosPorPagina]="pedido.filtro.paginacion.resultadosPorPagina" \r\n                [paginaActual]="pedido.filtro.paginacion.paginaActual" \r\n                [indicePaginas]="pedido.filtro.paginacion.indice"\r\n                (onSiguiente)="pedido.filtro.paginaSiguiente(); limpiarStock();" \r\n                (onAnterior)="pedido.filtro.paginaAnterior();  limpiarStock();" \r\n                (onListar)="pedido.filtro.listar($event); limpiarStock();" \r\n                *ngIf="pedido.filtro.lista.length > 0 && pedido.filtro.lista.length > pedido.filtro.paginacion.resultadosPorPagina && pedido.filtro.activo"></paginacion>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="tile is-parent is-vertical ">\r\n        <div class="tile is-child  notification is-white">\r\n          <div class="contenedor-tabla">\r\n            <table class="table" *ngIf="!cargando && itemSeleccionado != null" style="font-size: 0.8em;" >\r\n              <thead>\r\n                  <tr style="background: #00d1b2;">\r\n                    <th colspan="6" style="color:#FFF !important; text-align:center;" >Movmientos</th>\r\n                  </tr>\r\n                  <tr>\r\n                    <th width="1"></th>\r\n                    <th>Movmiento</th>\r\n                    <th>Fecha</th>\r\n                    <th>Lote</th>\r\n                    <th>Caducidad</th>\r\n                    <th><abbr title="Cantidad">Cant.</abbr></th>\r\n                  </tr>\r\n              </thead>\r\n              \x3c!--tfoot>\r\n                <tr>\r\n                  <th colspan="3" style="text-align:right">\r\n                    <span *ngIf="itemSeleccionado.totalStockAsignado == itemSeleccionado.cantidad"><span class="icon is-small" ><i class="fa fa-check-circle"></i></span> <span>Completo &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> Total </span>\r\n                  </th>\r\n                  <td style="text-align:center">{{ itemSeleccionado.totalStockAsignado || 0 }} / {{ itemSeleccionado.cantidad }}</td>\r\n                </tr>\r\n              </tfoot--\x3e\r\n              <tbody>\r\n                  <tr  class="is-unselectable" *ngFor="let item of itemSeleccionado.historial_lotes" [ngClass]="{\'surtido\': item.estatus == \'SURTIDO\',\'recibido\': item.estatus == \'RECIBIDO\',\'reintegrado\': item.estatus == \'REINTEGRADO\',\'eliminado\': item.estatus == \'ELIMINADO\'}">\r\n                    <td>\r\n                        <small><span class="icon"><i class="fa" [ngClass]="{\'fa-inbox\': item.estatus == \'SURTIDO\',\'fa-truck\': item.estatus == \'RECIBIDO\',\'fa-archive\': item.estatus == \'REINTEGRADO\',\'fa-times-circle\': item.estatus == \'ELIMINADO\'}"></i></span></small> \r\n                    </td>\r\n                    <td>\r\n                      {{ item.estatus }}\r\n                    </td>\r\n                    <td>{{ item.fecha_movimiento}}</td>\r\n                    <td>{{ item.lote }}</td>\r\n                    <td>{{ item.fecha_caducidad }}</td>\r\n                    <td style="width:78px !important;">{{ item.cantidad | number }}</td>\r\n                  </tr>    \r\n              </tbody>  \r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeError.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n\r\n\r\n'},TfzO:function(e,t){e.exports='<administrador-central-menu></administrador-central-menu>\r\n\r\n<div class="contenedor columns " style="height:100%; ">\r\n    <div class="column is-narrow is-hidden-mobile">\r\n        <div style="height:50px;"></div>\r\n        <administrador-central-menu-lateral></administrador-central-menu-lateral>\r\n    </div>\r\n    <div class="column" style="position:relative; overflow-x:hidden;">\r\n        <div style="height:60px;"></div>\r\n        <div style="background: #FFF; overflow:hidden; border-radius:1em; width:100%;margin-bottom:1em;">\r\n            <table class="table" *ngIf="!cargando" style="min-width:100%; font-size:0.8em; margin-bottom:0.2em;margin-top:0.2em;">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Presupuesto {{ <span>{{presupuestoActual.anio}}</span> }}</th>\r\n                        <th style="text-align:center">Autorizado</th>\r\n                        <th style="text-align:center">Comprometido</th>\r\n                        <th style="text-align:center">Devengado</th>\r\n                        <th style="text-align:center">Disponible</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr>\r\n                        <th>Causes y Material de Curaci\xf3n</th>\r\n                        <td style="text-align:center"><span class="tag is-primary">$ {{ presupuesto.insumos_modificado | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-warning"> $ {{ presupuesto.insumos_comprometido | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-danger">$ {{ presupuesto.insumos_devengado | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-success">$ {{ presupuesto.insumos_disponible | number:\'1.2-2\' }}</span></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>No causes</th>\r\n                        <td style="text-align:center"><span class="tag is-primary">$ {{ presupuesto.no_causes_modificado | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-warning"> $ {{ presupuesto.no_causes_comprometido | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-danger">$ {{ presupuesto.no_causes_devengado | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-success">$ {{ presupuesto.no_causes_disponible | number:\'1.2-2\' }}</span></td>\r\n                    </tr>\r\n                    \x3c!--tr>\r\n                        <th>Causes</th>\r\n                        <td style="text-align:center"><span class="tag is-primary">$ {{ presupuesto.causes_modificado | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-warning"> $ {{ presupuesto.causes_comprometido | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-danger">$ {{ presupuesto.causes_devengado | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-success">$ {{ presupuesto.causes_disponible | number:\'1.2-2\' }}</span></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>Material de curaci\xf3n</th>\r\n                        <td style="text-align:center"><span class="tag is-primary">$ {{ presupuesto.material_curacion_modificado | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-warning"> $ {{ presupuesto.material_curacion_comprometido | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-danger">$ {{ presupuesto.material_curacion_devengado | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-success">$ {{ presupuesto.material_curacion_disponible | number:\'1.2-2\' }}</span></td>\r\n                    </tr--\x3e\r\n                    <tr>\r\n                        <th>Total</th>\r\n                        <td style="text-align:center"><span class="tag is-primary">$ {{ presupuesto.total_modificado | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-warning"> $ {{ presupuesto.total_comprometido | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-danger">$ {{ presupuesto.total_devengado | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-success">$ {{ presupuesto.total_disponible | number:\'1.2-2\' }}</span></td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n         </div>\r\n            \r\n        <section class="hero is-primary"  style="  border-radius:  1em  1em 0  0;" >\r\n            \r\n            <div class="hero-body" style="position:relative;">                    \r\n                \r\n                <a class="button  is-primary" *ngIf="!cargando" style="position:absolute; top:1em; right:1em;" (click)="exportar()"><span class="icon "><i class="fa fa-file-excel-o"></i></span> <span>Exportar</span></a>\r\n                <div class="container is-fluid">\r\n                    \r\n                    <h1 class="title">\r\n                        <span class="icon is-medium"><i class="fa fa-file-text"></i></span> Pedidos\r\n                    </h1>\r\n                    \r\n                    <div class="control is-grouped">\r\n                    <p class="control is-expanded">\r\n                        <input class="input is-medium" type="text" placeholder="Buscar por CLUES \xf3 Folio \xf3 Nombre del pedido" [(ngModel)] = "q" (keyup)="filtrarQuery($event)">\r\n                    </p>\r\n                    </div>\r\n                    <div class="columns">                            \r\n                        <div class="column">\r\n                            <label>Proveedores:</label>\r\n                    \r\n                            <p class="control is-expanded">\r\n                                <span class="select is-fullwidth">\r\n                                <select #proveedoresSelect (change)="cambioSeleccionProveedor(proveedoresSelect.value)">\r\n                                    <option value="-1">Todos</option>\r\n                                    <option *ngFor="let item of proveedores" value="{{item.id}}">{{ item.nombre }}</option>\r\n                                </select>\r\n                                </span>\r\n                            </p>                   \r\n                        \r\n                        </div>\r\n                        <div class="column">\r\n                            <label>Jurisdicciones:</label>\r\n                            \r\n                            <p class="control is-expanded">\r\n                                <span class="select is-fullwidth">\r\n                                <select #js id="jurisdicciones"  (change)="cambioSeleccionJurisdiccion(js.value)">\r\n                                    <option value="-1">Todas</option>\r\n                                    <option *ngFor="let item of jurisdicciones" value="{{item.id}}">JS {{ item.numero }} - {{ item.nombre }}</option>\r\n                                </select>\r\n                                </span>\r\n                            </p>\r\n                                                    \r\n                            \r\n                        </div>\r\n                    </div>\r\n                    <div class="columns">                            \r\n                        <div class="column">\r\n                            <label>Status:</label>\r\n                            <p class="control is-expanded">\r\n                                <span class="select is-fullwidth">\r\n                                <select #statusSelect (change)="cambioSeleccionStatus(statusSelect.value)">\r\n                                    <option value="-1">Todos</option>\r\n                                    <option *ngFor="let item of status" value="{{item.id}}">{{ item.descripcion }}</option>\r\n                                </select>\r\n                                </span>\r\n                            </p>                   \r\n                        \r\n                        </div>\r\n                        <div class="column">\r\n                            <label for="jurisdicciones">Desde:</label>                             \r\n                            <p class="control is-expanded">\r\n                                <input class="input " type="date"  [(ngModel)] = "fecha_desde" >\r\n                            </p>\r\n                        </div>\r\n                        <div class="column">\r\n                            <label for="jurisdicciones">Hasta:</label>                             \r\n                            <p class="control is-expanded">\r\n                                <input class="input " type="date"  [(ngModel)] = "fecha_hasta" >\r\n                            </p>\r\n                        </div>\r\n                        \x3c!--div class="column">\r\n                            <label>Sin Pedidos</label>\r\n                            <div class="control">\r\n                                <button class="button is-primary" (click)="sin_pedidos = !sin_pedidos"><span class="icon"><i class="fa" [ngClass]="{\'fa-check-square-o\': sin_pedidos, \'fa-square-o\':!sin_pedidos }"></i></span></button>\r\n                            </div>\r\n                        </div--\x3e\r\n                    </div>\r\n\r\n                    <div *ngIf="jurisdiccionesSeleccionadas.length>0 || proveedoresSeleccionados.length>0 || statusSeleccionados.length>0">\r\n                        <h1 class="title is-6">Filtro aplicado:</h1>\r\n                        <span class="tag is-dark is-medium" style="margin-bottom:0.5em; margin-right:0.2em;" *ngFor="let item of proveedoresSeleccionados; let i = index">{{ item.nombre_corto }}<button class="delete is-small" (click)="quitarProveedor(i)"></button></span>\r\n                        <span class="tag is-white is-medium" style="margin-bottom:0.5em; margin-right:0.2em;" *ngFor="let item of jurisdiccionesSeleccionadas;  let i = index">JS {{ item.numero }}<button class="delete is-small" (click)="quitarJurisdiccion(i)"></button></span>\r\n                        <span class="tag is-warning is-medium" style="margin-bottom:0.5em; margin-right:0.2em;" *ngFor="let item of statusSeleccionados;  let i = index">{{ item.descripcion }}<button class="delete is-small" (click)="quitarStatus(i)"></button></span>\r\n                        \r\n                    </div>\r\n                    <nav class="level">\r\n                        <div class="level-left">\r\n                            <h1 class="title is-5">Resultados: <b>{{ total }}</b></h1>\r\n                        </div>\r\n                        <div class="level-right">\r\n                            <div class="block">\r\n                            <button class="button " *ngIf="jurisdiccionesSeleccionadas.length>0 || proveedoresSeleccionados.length>0  || statusSeleccionados.length>0 || q != \'\' || fecha_desde != null  || fecha_hasta != null " (click)="q = \'\'; jurisdiccionesSeleccionadas = []; proveedoresSeleccionados = []; statusSeleccionados =[]; js.value = -1; proveedoresSelect.value= -1; statusSelect.value = -1; fecha_desde = null; fecha_hasta = null; "><span class="icon"><i class="fa fa-times"></i></span> <span>Limpiar filtro</span></button>\r\n                            <button class="button is-primary is-inverted" (click)="listar(1)"><span class="icon"><i class="fa fa-filter"></i></span> <span>Filtrar</span></button>\r\n                            </div>\r\n                        </div>\r\n                    </nav>\r\n                \r\n                    \r\n                </div>\r\n            </div>\r\n        </section>\r\n        \r\n        <div  style="background: #FFF; overflow-x:auto; ">\r\n            <div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n            <table class="table" *ngIf="!cargando" style="min-width:100%; font-size:0.8em;">\r\n                <thead>\r\n                    <tr>\r\n                        <th colspan="16" style="vertical-align: middle;">\r\n                            Status: \r\n                            <span class="icon sin-surtir"><i class="fa fa-circle"></i></span> Sin Surtir | \r\n                            <span class="icon surtiendo"><i class="fa fa-minus-circle"></i></span> Surtiendo | \r\n                            <span class="icon surtido"><i class="fa fa-check-circle"></i></span> Surtido | \r\n                            <span class="icon farmacia"><i class="fa fa-cubes"></i></span> Farmacia |\r\n                            <span class="icon expirado"><i class="fa fa-exclamation-circle"></i></span> Expirado |\r\n                            <span class="icon cancelado"><i class="fa fa-times-circle"></i></span> Cancelado\r\n                        </th>\r\n                    </tr>\r\n                    <tr>\r\n                        <th colspan="6"></th>\r\n                        <th colspan="2">Total</th>\r\n                        <th colspan="2">Causes</th>\r\n                        <th colspan="2">No causes</th>\r\n                        <th colspan="2">Mat. de curaci\xf3n</th>\r\n                        <th colspan="2"></th>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>Status</th>\r\n                        <th>Proveedor</th>\r\n                        <th>Folio</th>\r\n                        <th>Nombre</th>\r\n                        <th>Unidad m\xe9dica</th>\r\n                        <th>Fecha</th>\r\n                        <th>Claves</th>\r\n                        <th>Monto</th>\r\n                        <th>Claves</th>\r\n                        <th>Monto</th>\r\n                        <th>Claves</th>\r\n                        <th>Monto</th>\r\n                        <th>Claves</th>\r\n                        <th>Monto</th>  \r\n                        <th>Exportar</th>\r\n                        <th>Remisiones</th>                        \r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor="let item of lista; let i=index">\r\n                        <td [ngClass]="{\'borrador\':item.status==\'BR\',\'surtido\':item.status==\'FI\',\'expirado\':item.status==\'EX\',\'cancelado\':item.status==\'EX-CA\',\'sin-surtir\':(item.total_cantidad_recibida==0 && item.status==\'PS\'),\'surtiendo\':(item.total_cantidad_recibida>0 && item.status==\'PS\'),\'farmacia\':item.status==\'EF\'}" style="text-align:center; vertical-align: middle;"><span class="icon is-medium"><i class="fa" [ngClass]="{\'fa-pencil\':item.status==\'BR\',\'fa-check-circle\':item.status==\'FI\',\'fa-times-circle\':item.status==\'EX-CA\',\'fa-exclamation-circle\':item.status==\'EX\',\'fa-circle\':(item.total_cantidad_recibida==0 && item.status == \'PS\'),\'fa-minus-circle\':(item.total_cantidad_recibida>0 && item.status == \'PS\'),\'fa-cubes\':item.status==\'EF\'}"></i></span></td>\r\n                        <td style="vertical-align: middle;">\r\n                        \x3c!--<button type="button" *ngIf="item.status!=\'EX-CA\' && item.status!=\'EF\' && item.status!=\'BR\'" class="button is-warning is-small" (click)=\'verInformacion(item)\'><i class="fa fa-exclamation-triangle"></i></button>--\x3e \r\n                        {{ (item.proveedor)?item.proveedor:\'Proveedor no Asignado\' }}</td>\r\n                        \r\n                        <td style="vertical-align: middle;" *ngIf="item.status!=\'EF\' && item.status!=\'BR\'"><b><a class="surtiendo" (click)=\'verInformacion(item)\'>{{ (item.folio)?item.folio:\'S/F\' }}</a></b></td>\r\n                        <td style="vertical-align: middle;" *ngIf="item.status==\'EF\' || item.status==\'BR\'">{{ (item.folio)?item.folio:\'S/F\' }}</td>\r\n                        <td style="vertical-align: middle;">{{ item.descripcion }}</td>\r\n                        <td style="vertical-align: middle;">{{ item.unidad_medica }}</td>\r\n                        <td style="vertical-align: middle;">{{ item.fecha_concluido | date:\'y-MM-dd\' }}</td>\r\n\r\n                        <td style="text-align:center; vertical-align: middle; white-space: nowrap;">{{ item.total_claves_recibidas }} / {{ item.total_claves_solicitadas }} <br> <strong>({{(item.total_claves_recibidas/item.total_claves_solicitadas)*100 | number:\'1.0-2\'}} %)</strong></td>\r\n                        <td style="text-align:center; vertical-align: middle;">${{ item.total_monto_recibido | number:\'1.2-2\' }} / ${{ item.total_monto_solicitado | number:\'1.2-2\' }} <br> <strong>({{((item.total_monto_recibido/item.total_monto_solicitado)*100) | number:\'1.0-2\'}} %)</strong></td>\r\n\r\n                        <td class="causes"  style="text-align:center; vertical-align: middle; white-space: nowrap;">\r\n                            <span *ngIf="item.total_claves_causes">{{ item.total_claves_causes_recibidas }} / {{ item.total_claves_causes }} <br> <strong>({{((item.total_claves_causes_recibidas/item.total_claves_causes)*100) | number:\'1.0-2\'}} %)</strong></span>\r\n                            <span *ngIf="!item.total_claves_causes"> --- </span>\r\n                        </td>\r\n                        <td class="causes"  style="text-align:center; vertical-align: middle;">\r\n                            <span *ngIf="(+item.total_monto_causes*1)">${{ item.total_monto_causes_recibido  | number:\'1.2-2\'}} / ${{ item.total_monto_causes  | number:\'1.2-2\'}} <br> <strong>({{((item.total_monto_causes_recibido/item.total_monto_causes)*100) | number:\'1.0-2\'}} %)</strong></span>\r\n                            <span *ngIf="!(+item.total_monto_causes*1)"> --- </span>\r\n                        </td>\r\n\r\n                        <td class="no-causes" style="text-align:center; vertical-align: middle; white-space: nowrap;">\r\n                            <span *ngIf="item.total_claves_no_causes">{{ item.total_claves_no_causes_recibidas }} / {{ item.total_claves_no_causes }} <br> <strong>({{((item.total_claves_no_causes_recibidas/item.total_claves_no_causes)*100) | number:\'1.0-2\'}} %)</strong></span>\r\n                            <span *ngIf="!item.total_claves_no_causes"> --- </span>\r\n                        </td>\r\n                        <td class="no-causes" style="text-align:center; vertical-align: middle;">\r\n                            <span *ngIf="(+item.total_monto_no_causes*1)">${{ item.total_monto_no_causes_recibido  | number:\'1.2-2\'}} / ${{ item.total_monto_no_causes  | number:\'1.2-2\'}} <br> <strong>({{((item.total_monto_no_causes_recibido/item.total_monto_no_causes)*100) | number:\'1.0-2\'}} %)</strong></span>\r\n                            <span *ngIf="!(+item.total_monto_no_causes*1)"> --- </span>\r\n                        </td>\r\n\r\n                        <td class="material-curacion" style="text-align:center; vertical-align: middle; white-space: nowrap;">\r\n                            <span *ngIf="item.total_claves_material_curacion">{{ item.total_claves_material_curacion_recibidas }} / {{ item.total_claves_material_curacion }} <br> <strong>({{((item.total_claves_material_curacion_recibidas/item.total_claves_material_curacion)*100) | number:\'1.0-2\'}} %)</strong></span>\r\n                            <span *ngIf="!item.total_claves_material_curacion"> --- </span>\r\n                        </td>\r\n                        <td class="material-curacion" style="text-align:center; vertical-align: middle;">\r\n                            <span *ngIf="(+item.total_monto_material_curacion*1)">${{ item.total_monto_material_curacion_recibido | number:\'1.2-2\' }} / ${{ item.total_monto_material_curacion | number:\'1.2-2\' }} <br> <strong>({{((item.total_monto_material_curacion_recibido/item.total_monto_material_curacion)*100) | number:\'1.0-2\'}} %)</strong></span>\r\n                            <span *ngIf="!(+item.total_monto_material_curacion*1)"> --- </span>\r\n                        </td>\r\n\r\n                        \x3c!--td style="vertical-align: middle;">{{ item.status == \'BR\' ? \'Borrador\': item.status == \'TR\' ? \'En transito\': item.status == \'PS\' ? \'Por surtir\': item.status == \'FI\' ? \'Finalizado\': item.status == \'EX\' ? \'Expirado\': \'Otro\' }}</td--\x3e\r\n\r\n                        <td style="vertical-align: middle; text-align:center;">\r\n                            <a (click)="imprimirExcelItem(item.pedido_id)"><span class="icon"><i class="fa fa-file-excel-o"></i></span></a> \r\n                            \x3c!--a><span class="icon"><i class="fa fa-file-pdf-o"></i></span></a--\x3e\r\n                        </td>\r\n                        <td style="vertical-align: middle; text-align:center;">\r\n                            <button type="button" class="button is-light" [ngClass]="{\'is-success\':item.numero_archivos > 0}" (click)="mostrarDialogoArchivos(item)">\r\n                                <span class="icon"><i class="fa fa-download"></i></span><span class="tag">{{ item.numero_archivos }}</span>\r\n                            </button>\r\n                        </td>\r\n                    </tr>\r\n                    <tr *ngIf="lista.length == 0">\r\n                        <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n        <div style="background: #FFF; border-radius: 0  0 1em  1em; width:100%;">\r\n        \r\n            <paginacion \r\n                [total]="total" \r\n                [paginasTotales]="paginasTotales" \r\n                [resultadosPorPagina]="resultadosPorPagina" \r\n                [paginaActual]="paginaActual" \r\n                [indicePaginas]="indicePaginas"\r\n                (onSiguiente)="paginaSiguiente()" \r\n                (onAnterior)="paginaAnterior()" \r\n                (onListar)="listar($event)" \r\n                *ngIf="total>0 && total > resultadosPorPagina"></paginacion>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div id="modal-pedido" class="modal is-active" [ngClass]="{\'is-active\': showPedido}">\r\n  <div class="modal-background"  (click)="showPedido = !showPedido"></div>\r\n  <div class="modal-card" style="width:60%; height: auto;">\r\n    <header class="modal-card-head" style="background-color: #00d1b2" >\r\n      <div class="container is-fluid"  style="width:100%;">\r\n          <h1 class="title" style="color:#FFF;">\r\n            <span class="icon is-medium"><i class="fa fa-user"></i></span> PEDIDO <strong>[{{pedido_status}}]</strong>\r\n          </h1>\r\n      </div>            \r\n      <a class="button  is-primary" style="position:absolute; top:1em; right:1em;" (click)="showPedido = !showPedido"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n    </header>\r\n        <section class="section" style="padding:  1rem 1.5rem;">\r\n            <form name="form"  >\r\n                <table class="table">\r\n                    <thead>\r\n                        <th colspan="3">Datos Pedido</th>\r\n                         <th colspan="2"> \r\n                                <button type="button" class="button is-warning"  *ngIf="!borrador" [ngClass]="{\'is-loading\': cargaRecepciones}" [disabled]="borrador" (click)=\'regresarBorrador(datos_pedido.pedido_id)\'><i class="fa fa-exclamation-triangle"></i> REGRESAR A BORRADOR</button>\r\n                                <button type="button" class="button is-warning"  *ngIf="!borrador_cancelado" [ngClass]="{\'is-loading\': cargaRecepciones}" [disabled]="borrador_cancelado" (click)=\'regresarBorradorCancelador(datos_pedido.pedido_id)\'><i class="fa fa-exclamation-triangle"></i> REGRESAR A EXPIRADO</button>\r\n                            </th>\r\n                    </thead>\r\n                    <tbody >\r\n                        <tr>\r\n                            <td>\r\n                                <b>CLUES</b> <br>{{ datos_pedido.clues }}\r\n                            </td>\r\n                            <td>\r\n                                <b>FOLIO</b> <br>{{ datos_pedido.folio }}\r\n                            </td>\r\n                            <td>\r\n                                <b>FECHA</b> <br>{{ datos_pedido.fecha }}\r\n                            </td>\r\n                            <td>\r\n                                <b>FECHA EXPIRACION</b><br>{{ datos_pedido.fecha_expiracion }}\r\n                            </td>\r\n                           \r\n                        </tr>\r\n                        <tr>\r\n                            <td>\r\n                                <b>UNIDAD MEDICA:</b> \r\n                            </td>\r\n                            <td colspan="3">\r\n                                {{ datos_pedido.unidad_medica }}\r\n                            </td>\r\n                        </tr>\r\n                        <tr>    \r\n                            <td>\r\n                                <b>PROVEEDOR:</b>\r\n                            </td>\r\n                            <td colspan="3">\r\n                                {{ datos_pedido.proveedor }}\r\n                            </td>                            \r\n                        </tr>\r\n                        <tr>\r\n                            <td colspan="4"><b>RESUMEN</b></td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td><b>TOTAL CLAVES</b> <br>\r\n                                  {{ datos_pedido.total_claves_recibidas}} / {{ datos_pedido.total_claves_solicitadas}}\r\n                            </td>\r\n                            <td><b>TOTAL CANTIDAD INSUMOS</b> <br>\r\n                                {{ datos_pedido.total_cantidad_recibida}} / {{ datos_pedido.total_cantidad_solicitada}}\r\n                               \r\n                            </td>\r\n                            <td><b>TOTAL MONTO</b> <br>\r\n                                {{ datos_pedido.total_monto_recibido | currency:\'USD\':true:\'4.2-2\'}} / {{ datos_pedido.total_monto_solicitado | currency:\'USD\':true:\'4.2-2\'}}\r\n                            \r\n                            </td>\r\n\r\n                        </tr>\r\n                        \r\n                       \r\n                    </tbody>\r\n                </table>\r\n                <table class="table"   *ngIf="borrador_cancelado">\r\n                    <thead>\r\n                        <th>ACTUALIZADO</th>\r\n                        <th>ESTATUS</th>\r\n                        <th>CLAVES</th> \r\n                        <th>CANTIDAD INSUMOS</th>\r\n                        <th>MONTO</th>\r\n                        <th>ACCIONES</th>\r\n                    </thead>\r\n                    <tbody *ngIf="!cargaRecepciones">\r\n                        \r\n                        <tr *ngFor="let item of recepciones; let i=index" >  \r\n                            \x3c!--<td>{{ item.movimiento.created_at }}</td>--\x3e                      \r\n                            <td>{{ item.movimiento_borrados.updated_at }}</td>                      \r\n                            \r\n                            <td *ngIf="item.movimiento_borrados.status == \'FI\'">FINALIZADO</td>                      \r\n                            <td *ngIf="item.movimiento_borrados.status == \'BR\'">BORRADOR</td> \r\n                            <td *ngIf="item.movimiento_borrados.status == \'FI\'">{{ item.total_claves }}</td>\r\n                            <td *ngIf="item.movimiento_borrados.status == \'BR\'">--</td>\r\n                            <td *ngIf="item.movimiento_borrados.status == \'FI\'">{{ item.total_cantidad }}</td>\r\n                            <td *ngIf="item.movimiento_borrados.status == \'BR\'">--</td>\r\n                            <td *ngIf="item.movimiento_borrados.status == \'FI\'">{{ item.total_monto | currency:\'USD\':true:\'4.2-2\'}}</td>\r\n                            <td *ngIf="item.movimiento_borrados.status == \'BR\'">--</td>\r\n                            <td *ngIf="item.movimiento_borrados.status == \'FI\'  && item.movimiento_borrados.deleted_at== null && datos_pedido.status!=\'EX-CA\'">\r\n                                <button type="button" class="button is-small is-danger" (click)=\'borrarRecepcion(item.movimiento_borrados.id)\' [disabled]=""><i class="fa fa-close"></i></button>\r\n                                <button type="button" class="button is-small is-primary" (click)=\'regresarBorrarRecepcion(item.movimiento_borrados.id)\' [disabled]=""><i class="fa fa-edit"></i></button>\r\n                            </td>                          \r\n                            <td *ngIf="(item.movimiento_borrados.status == \'BR\' || datos_pedido.status==\'EX-CA\') && item.movimiento_borrados.deleted_at== null "></td>\r\n                            <td *ngIf="item.movimiento_borrados.deleted_at!= null">\r\n                              <div class="block">\r\n                                  <span class="tag is-danger">\r\n                                    {{ item.borrado_por }} {{ item.borrado_al }}                                    \r\n                                  </span>\r\n                               </div>\r\n                            </td>\r\n                                                  \r\n                        </tr>\r\n                        <tr *ngIf="recepciones.length == 0">\r\n                        <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>                    \r\n                    </tr>\r\n                    </tbody>\r\n                    <tbody>\r\n                        <tr *ngIf="cargaRecepciones">\r\n                            <td colspan="6" style="text-align: center;">\r\n                                <br>\r\n                                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                                <br>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n                <table class="table"   *ngIf="!borrador_cancelado">\r\n                    <thead>\r\n                        \r\n                        <th>MES</th>\r\n                        <th>A\xd1O</th>\r\n                        <th>CAUSES</th> \r\n                        <th>NO CAUSES</th> \r\n                        <th>MATERIAL DE CURACI\xd3N</th> \r\n                        <th>TOTAL TRANSACCI\xd3N</th> \r\n                        \r\n                    </thead>\r\n                    <tbody *ngIf="!cargaRecepciones">\r\n                        \r\n                        <tr *ngFor="let item of transaccion; let i=index" >  \r\n                            <td >{{ item.mes_texto }}</td>\r\n                            <td >{{ item.anio_destino }}</td>\r\n                            <td >{{ item.causes | currency:\'USD\':true:\'4.2-2\'}}</td>\r\n                            <td >{{ item.no_causes | currency:\'USD\':true:\'4.2-2\'}}</td>\r\n                            <td >{{ item.material_curacion | currency:\'USD\':true:\'4.2-2\'}}</td>\r\n                            <td >{{ item.total_monto_restante | currency:\'USD\':true:\'4.2-2\'}}</td>\r\n                                                  \r\n                        </tr>\r\n                        <tr *ngIf="transaccion.length == 0">\r\n                        <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>                    \r\n                    </tr>\r\n                    </tbody>\r\n                    <tbody>\r\n                        <tr *ngIf="cargaRecepciones">\r\n                            <td colspan="6" style="text-align: center;">\r\n                                <br>\r\n                                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                                <br>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>   \r\n             \r\n            </form>\r\n        </section>\r\n    <footer class="" style="position:relative; padding:1em;background: #FFF; border-top:1px solid #EEE; border-radius:0 0 0.8em 0.8em " >\r\n        <button type="button" class="button is-info"  *ngIf="datos_pedido.status == \'EX\' && !datos_pedido.recepcion_permitida" [ngClass]="{\'is-loading\': cargaRecepciones}" (click)=\'permitirRecepcion(datos_pedido.pedido_id,true)\'><i class="fa fa-truck"></i>&nbsp;PERMITIR RECEPCI\xd3N</button>\r\n        <button type="button" class="button is-danger"  *ngIf="datos_pedido.status == \'EX\' && datos_pedido.recepcion_permitida" [ngClass]="{\'is-loading\': cargaRecepciones}" (click)=\'permitirRecepcion(datos_pedido.pedido_id,false)\'><i class="fa fa-ban"></i>&nbsp;NEGAR RECEPCI\xd3N</button>\r\n    </footer>\r\n  </div>\r\n</div>\r\n\r\n<div class="modal is-active" [ngClass]="{\'is-active\': verDialogoArchivos}">\r\n  <div class="modal-background" (click)="cerrarDialogoArchivos()"></div>\r\n  <div class="modal-card" style="width:70%; height: auto;">\r\n    <header class="modal-card-head" style="background: #00d1b2;">\r\n      <div class="container is-fluid"  style="width:100%;">\r\n          <h1 class="title" style="color:#FFF;">\r\n            <span class="icon is-medium"><i class="fa fa-file"></i></span> {{tituloDialogoArchivos}} \r\n          </h1>\r\n      </div>            \r\n      <a class="button  is-primary" style="position:absolute; top:1em; right:1em;" (click)="cerrarDialogoArchivos()"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n    </header>\r\n    <section class="modal-card-body" style="padding:0px;" >\r\n      <div style="padding: 1em;">\r\n        <div class="is-fullwidth has-text-centered" *ngIf="cargandoArchivos">\r\n            <br>\r\n            <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando repositorio...</span></span>\r\n            <br>\r\n            <br>\r\n        </div>\r\n        <div class="columns" *ngIf="!cargandoArchivos">\r\n          <table class="table" *ngIf="!cargandoArchivos" style="min-width:100%; font-size:0.8em;">\r\n                <thead>\r\n                    <tr>\r\n                        <th style="text-align:center;">Fecha Subido</th>\r\n                        <th style="text-align:center;">Nombre</th>\r\n                        <th style="text-align:center;">Peso</th>                        \r\n                        <th style="text-align:center;">Usuario</th>                        \r\n                        <th style="text-align:center;">Descargas</th>                        \r\n                        <th></th>\r\n                    </tr>\r\n                    \r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor="let item of lista_archivos_pedido; let i=index"> \r\n                        <td style="text-align: center;"><strong>{{ item.created_at }}</strong></td>  \r\n                        <td style="text-align: center;"><strong>{{ item.nombre_archivo }}</strong></td>   \r\n                        <td style="text-align: center;"><strong>{{ (item.peso/1024) | number : \'1.2-2\' }} Kb ({{(item.peso/1048576) | number : \'1.2-2\' }} Mb)</strong></td>\r\n                        <td style="text-align: center;"><strong>{{ item.usuario_id }}</strong></td>   \r\n                         \r\n                        <td style="text-align: center;"><strong>{{ item.descargas }}</strong></td>   \r\n                        <td style="text-align: center;" *ngIf="!item.deleted_at"><button (click)=\'descargar(item)\' type="button" class="button is-primary"><i class="fa fa-download"></i></button></td>\r\n                        <td style="text-align: center;" *ngIf="item.deleted_at">\r\n                            <div class="block">\r\n                              <span class="tag is-danger">\r\n                                {{ item.usuario_deleted_id}} {{ item.deleted_at }}\r\n                              </span>\r\n                            </div>\r\n                        </td>   \r\n                    </tr>\r\n                    <tr *ngIf="lista_archivos_pedido.length == 0">\r\n                        <td colspan="12" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n      </div>\r\n    </section>\r\n    <footer class="" style="position:relative; padding:1em;background: #FFF; border-top:1px solid #EEE; border-radius:0 0 0.8em 0.8em " >\r\n        \r\n    </footer>\r\n  </div>\r\n</div>\r\n\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em; z-index: 10000;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style="text-align:center" ><a  class="button is-danger is-inverted" (click)="ultimaPeticion(); mensajeError.mostrar = false"> <span class="icon"><i class="fa fa-refresh"></i></span> <span>Volver a intentar</span></a></p>        \r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto; z-index: 10000;" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n\r\n'},TwmS:function(e,t){e.exports='\x3c!-- crud asignar url de la api URL="url de la api" titulo="un titulo para la pesta\xf1a de la pagina" [dato]="variable que contiene el formulario]--\x3e\r\n<formulario #ctrl URL="entrada-articulo" titulo="Entrada" [dato]="dato"></formulario>\r\n\r\n\x3c!-- Menu principal "--\x3e\r\n<menu-almacen-articulos [modulo]="\'Entrada  de art\xedculos\'" [icono]="\'assets/icono-entradas.svg\'" [url]="\'/almacen-articulos/entradas\'"></menu-almacen-articulos>\r\n<div style="height:50px;"></div>\r\n<form name="form" novalidate [formGroup]="dato" (ngSubmit)="enviar();">\r\n    <div class="contenedor columns " style="overflow:auto; padding: 1em;" [style.maxHeight.px]="tamano-50">\r\n\r\n        \x3c!-- apartado de movimiento_articulos --\x3e\r\n        <div class="column">\r\n            <div style="background: #FFF; border-radius: 1em; ">\r\n                <section class="hero is-primary">\r\n                    <div class="hero-body">\r\n                        <div class="container is-fluid">\r\n                            <h1 class="title">\r\n                                <span *ngIf="!ctrl.cargando || !cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                <span *ngIf="ctrl.cargando || cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>                                Art\xedculos\r\n                            </h1>\r\n\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n                <section class="section">\r\n                    \r\n                    <div class="notification is-danger" *ngIf="error_entrada">\r\n                        \xa1No se completo la entrada! <strong>Intente de nuevo</strong>, Si no contacte con soporte\r\n                    </div>\r\n                    <div class="notification is-success" *ngIf="entrada_ok">\r\n                        Entrada realizada con exito \r\n                    </div>\r\n                    <div class="field has-addons">\r\n                        <p class="control is-expanded" >\r\n                            <input autofocus autocomplete="off" ngui-auto-complete [source]="articulos_term" [list-formatter]="autocompleListFormatter"\r\n                                id="buscarArticulo" value-property-name="clave" display-property-name="nombre" path-to-data=""\r\n                                loading-text="Cargando..." no-match-found-text="No hay resultados." (valueChanged)="select_articulo_autocomplete($event)"\r\n                                min-chars="1" class="input is-success is-medium" type="text" placeholder="Empieza escribir el nombre del producto">\r\n                        </p>\r\n                        \r\n                    </div>\r\n                    <hr>\r\n                    <div formArrayName="movimiento_articulos" style="overflow:auto; display:block" [style.maxHeight.px]="tamano-285">\r\n                        <div class="box" *ngFor="let val of ctrl.dato.controls.movimiento_articulos.controls;  let i = index;" [ngStyle]="{\'background\': i%2 == 0 ? \'rgba(230, 230, 232, 0.44)\' : \'rgba(237, 242, 243, 0.44)\'}">\r\n                            <article class="media" [formGroupName]="i">\r\n                                <div class="media-content">\r\n                                    <div class="content">\r\n                                        <a style="float: right;" class="is-danger" title="Quitar" (click)="ctrl.quitar_form_array(ctrl.dato.controls.movimiento_articulos, i); calcular_importe_articulo();">\r\n                                            <span class="icon">\r\n                                                <i class="fa fa-trash-o"></i>\r\n                                            </span>\r\n                                        </a>\r\n                                        <div class="columns"> \r\n                                            <div class="column is-2">   \r\n                                                <strong>NOMBRE: </strong> {{val.get("articulos").value.nombre}} \r\n                                            </div> \r\n\r\n                                            <div class="column is-2">  \r\n                                                <label class="label">Cantidad</label>                              \r\n                                                <p class="control  has-icon has-icon-right">\r\n                                                    <input class="input" type="number" [ngClass]="{\'is-danger\': val.get(\'cantidad\').hasError(\'required\') }"\r\n                                                        placeholder="Cantidad" formControlName="cantidad" min="0" \r\n                                                        (change)="cambio_cantidad(i, ctrl.dato.controls.movimiento_articulos.controls[i].controls)"\r\n                                                        (keyup)="cambio_cantidad_key($event, i, ctrl.dato.controls.movimiento_articulos.controls[i].controls)">\r\n                                                    <span class="icon is-small" *ngIf="val.get(\'cantidad\').hasError(\'required\') ">\r\n                                                        <i class="fa fa-warning"></i>\r\n                                                    </span>                                            \r\n                                                </p>\r\n                                            </div>\r\n\r\n                                            <div class="column is-2">\r\n                                                <label class="label">Precio Unitario</label>  \r\n                                                <p class="control  has-icon has-icon-right">\r\n                                                    <input class="input" type="number" [ngClass]="{\'is-danger\': val.get(\'precio_unitario\').hasError(\'required\') }"\r\n                                                        placeholder="Precio" formControlName="precio_unitario" min="0" \r\n                                                        (change)="cambio_precio_unitario(ctrl.dato.controls.movimiento_articulos.controls[i].controls)"\r\n                                                        (keyup)="cambio_precio_unitario_key($event, ctrl.dato.controls.movimiento_articulos.controls[i].controls)">\r\n                                                    <span class="icon is-small" *ngIf="val.get(\'precio_unitario\').hasError(\'required\') ">\r\n                                                        <i class="fa fa-warning"></i>\r\n                                                    </span>                                            \r\n                                                </p>\r\n                                            </div>\r\n                                            \r\n                                            <div class="column is-2"> \r\n                                                <label class="label">Iva({{configuracion_general.iva}} %)</label>                                                 \r\n                                                <p class="control  has-icon has-icon-right">\r\n                                                    <input class="input" type="number" [ngClass]="{\'is-danger\': val.get(\'iva\').hasError(\'required\') }"\r\n                                                        placeholder="Iva" formControlName="iva" min="0" \r\n                                                        (change)="cambio_precio_unitario(ctrl.dato.controls.movimiento_articulos.controls[i].controls)"\r\n                                                        (keyup)="cambio_precio_unitario_key($event, ctrl.dato.controls.movimiento_articulos.controls[i].controls)" >\r\n                                                    <span class="icon is-small" *ngIf="val.get(\'iva\').hasError(\'required\') ">\r\n                                                        <i class="fa fa-warning"></i>\r\n                                                    </span>                                            \r\n                                                </p>\r\n                                            </div>\r\n\r\n                                            <div class="column is-2">\r\n                                                <p class="control"><br>\r\n                                                    <span class="tag is-success is-large">{{val.value.importe | currency:\'MXN\':true}}</span>\r\n                                                </p>\r\n                                            </div>\r\n                                            <div class="column is-2">\r\n                                                <label class="label">Observaciones</label>  \r\n                                                <p class="control  has-icon has-icon-right">\r\n                                                    <input class="input" type="text" [ngClass]="{\'is-danger\': val.get(\'observaciones\').hasError(\'required\') }"\r\n                                                        placeholder="observaciones" formControlName="observaciones" >\r\n                                                    <span class="icon is-small" *ngIf="val.get(\'observaciones\').hasError(\'required\') ">\r\n                                                        <i class="fa fa-warning"></i>\r\n                                                    </span>                                            \r\n                                                </p>\r\n                                            </div>\r\n                                        </div>\r\n                                        <table class="table">\r\n                                            <thead>\r\n                                                <tr> \r\n                                                    <th>N\xb0</th>\r\n                                                    <th>Inventario</th>\r\n                                                    <th>Observaciones</th>                                                \r\n                                                    <th>Metadatos</th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody formArrayName="inventarios">\r\n                                                <tr *ngFor="let stck of val.controls.inventarios.controls; let x = index;" [formGroupName]="x">        \r\n                                                    <td>{{ x + 1 }}</td>                                                                                        \r\n                                                    <td>\r\n                                                        <div class="field">\r\n                                                            <p class="control is-expanded  has-icon has-icon-right">\r\n                                                                <input class="input" type="text" [ngClass]="{\'is-danger\': stck.get(\'numero_inventario\').hasError(\'required\') }"\r\n                                                                    placeholder="Almacen + - + n\xfamero consecutivo" formControlName="numero_inventario" >\r\n                                                                <span class="icon is-small" *ngIf="stck.get(\'numero_inventario\').hasError(\'required\') ">\r\n                                                                    <i class="fa fa-warning"></i>\r\n                                                                </span>                                            \r\n                                                            </p>\r\n                                                        </div>\r\n                                                    </td>\r\n                                                    <td>\r\n                                                        <div class="field">\r\n                                                            <p class="control is-expanded ">\r\n                                                                <input class="input" type="text" placeholder="Observaciones" formControlName="observaciones" >                                                                                                      \r\n                                                            </p>\r\n                                                        </div>\r\n                                                    </td>\r\n                                                    <td formArrayName="inventario_metadato">\r\n                                                        <a title="Capturar informaci\xf3n" class="button is-{{stck.value.valido == \'1\' || ctrl.id ? \'success\' : \'warning\'}}" (click)="ctrl.abrirModal(\'meta\'+i+\'\'+x)">\r\n                                                            <span class="icon">\r\n                                                                <i class="fa fa-{{stck.value.valido == \'1\' || ctrl.id ? \'check\' : \'ban\'}}"></i>\r\n                                                            </span> \r\n                                                            &nbsp;\r\n                                                            {{stck.value.valido || ctrl.id ? \'Completo\' : \'Incompleto\'}}\r\n                                                        </a>\r\n    \r\n                                                        <div class="modal" id="meta{{i}}{{x}}">\r\n                                                            <div class="modal-background"></div>\r\n                                                            <div class="modal-card">\r\n                                                                <header class="modal-card-head">\r\n                                                                    <p class="modal-card-title"><i class="fa fa-check"></i> Informaci\xf3n apliada</p>\r\n                                                                    <button class="delete" type="button" (click)="ctrl.cancelarModal(\'meta\'+i+\'\'+x)"></button>\r\n                                                                </header>\r\n                                                                <section class="modal-card-body"  style="overflow:auto; display:block" [style.maxHeight.px]="tamano-385">\r\n                                                                    <div class="field" *ngFor="let item of stck.controls.inventario_metadato.controls; let z=index" >\r\n                                                                        <div class="control is-expanded  has-icon has-icon-right"  [formGroupName]="z">   \r\n                                                                            <label *ngIf="item.value.tipo != \'boolean\'" class="label">{{ item.value.campo }}</label>\r\n                                                                            \x3c!--text  --\x3e\r\n                                                                            <input *ngIf="item.value.tipo == \'text\'" class="input" type="text" placeholder="{{item.value.descripcion}}" \r\n                                                                                [ngClass]="item.controls.valor.value == \'\' && item.controls.requerido.value == \'1\' ? \'is-danger\' : \'\'"\r\n                                                                                [maxlength]="item.value.longitud" formControlName="valor"> \r\n                                                                            \r\n                                            \r\n                                                                            \x3c!--number  --\x3e\r\n                                                                            <input *ngIf="item.value.tipo == \'number\'" class="input" type="number" step="1" placeholder="{{item.value.descripcion}}" \r\n                                                                                [ngClass]="item.controls.valor.value == \'\' && item.controls.requerido.value == \'1\' ? \'is-danger\' : \'\'"\r\n                                                                                [maxlength]="item.value.longitud" formControlName="valor"> \r\n                                                                            \r\n                                            \r\n                                                                            \x3c!--boolean  --\x3e\r\n                                                                            <div class="b-checkbox is-info" *ngIf="item.value.tipo == \'boolean\'" style="margin-bottom: 15px; margin-top: 15px;">\r\n                                                                                <input id="valor{{z}}" class="styled" type="checkbox" formControlName="valor">\r\n                                                                                <label for="valor{{z}}">\r\n                                                                                    {{ item.value.campo }} \r\n                                                                                </label>\r\n                                                                            </div>  \r\n                                                                            \r\n                                                                            \x3c!--timestamp  --\x3e\r\n                                                                            <input id="valor{{z}}" *ngIf="item.value.tipo == \'timestamp\'" class="input" [(ngModel)]=\'valor[z]\' [ngModelOptions]="{standalone: true}" (ngModelChange)="asignar_fecha(i,x,z)" ngui-datetime-picker\r\n                                                                                [ngClass]="item.controls.valor.value == \'\' && item.controls.requerido.value == \'1\' ? \'is-danger\' : \'\'"\r\n                                                                                placeholder="YYYY-MM-DD HH:MM" />           \r\n                                                                            \r\n                                            \r\n                                                                            \x3c!--date  --\x3e\r\n                                                                            <input id="valor{{z}}" *ngIf="item.value.tipo == \'date\'" class="input" [(ngModel)]=\'valor[z]\' [ngModelOptions]="{standalone: true}" (ngModelChange)="asignar_fecha(i,x,z)"  ngui-datetime-picker\r\n                                                                                [ngClass]="item.controls.valor.value == \'\' && item.controls.requerido.value == \'1\' ? \'is-danger\' : \'\'"\r\n                                                                                placeholder="YYYY-MM-DD"  date-only="true"/>  \r\n                                            \r\n                                                                            \x3c!--time  --\x3e\r\n                                                                            <input id="valor{{z}}" *ngIf="item.value.tipo == \'time\'" class="input" [(ngModel)]=\'valor[z]\' [ngModelOptions]="{standalone: true}" (ngModelChange)="asignar_fecha(i,x,z)"  ngui-datetime-picker\r\n                                                                                [ngClass]="item.controls.valor.value == \'\' && item.controls.requerido.value == \'1\' ? \'is-danger\' : \'\'"\r\n                                                                                placeholder="HH:MM" date-format="hh:mm" hour="23" minute=\'59\' time-only="true"/>  \r\n                                            \r\n                                                                            \x3c!--file  --\x3e\r\n                                                                            <span *ngIf="item.value.tipo == \'file\'">\r\n                                                                                <input type="file" (change)="ctrl.seleccionarImagenBase64($event, item.controls.valor)" accept="image/x-png,image/gif,image/jpeg,image/jpg">\r\n                                                                                <input foto type="hidden" formControlName="valor" >\r\n                                            \r\n                                                                                <div class="block" *ngIf="item.controls.valor.value != \'\'">\r\n                                                                                    <a class="button is-primary is-outlined is-fullwidth" [ngClass]="{\'is-disabled\': tieneid}" (click)="ctrl.abrirModal(\'verFoto\'+z)">\r\n                                                                                        <span class="icon">\r\n                                                                                            <i class="fa fa-eye"> </i> \r\n                                                                                        </span> \r\n                                                                                        &nbsp; Ver\r\n                                                                                    </a>\r\n                                                                                </div>\r\n                                            \r\n                                                                                <div class="modal" id="verFoto{{z}}">\r\n                                                                                    <div class="modal-background"></div>\r\n                                                                                    <div class="modal-content">\r\n                                                                                        <p class="image is-4by3">\r\n                                                                                            <img  [src]="\'data:image/jpg;base64,\'+item.controls.valor.value"  />\r\n                                                                                        </p>\r\n                                                                                    </div>\r\n                                                                                    <button type="button" class="modal-close" (click)="ctrl.cancelarModal(\'verFoto\'+z)"></button>\r\n                                                                                </div>\r\n                                                                            </span>\r\n                                            \r\n                                                                            <span style="margin-top: 27px;" class="icon is-small" *ngIf="item.controls.valor.value == \'\' && item.controls.requerido.value == \'1\' ? true : false">\r\n                                                                                <i class="fa fa-warning"></i>\r\n                                                                            </span>\r\n                                                                            <span class="help is-danger" *ngIf="item.controls.valor.value == \'\' && item.controls.requerido.value == \'1\' ? true : false">Este campo es requerido.</span>\r\n                                            \r\n                                                                        </div>\r\n                                                                    </div> \r\n    \r\n                                                                </section>\r\n                                                                <footer class="modal-card-foot">\r\n                                                                    <a class="button is-success" type="button" (click)="ctrl.cancelarModal(\'meta\'+i+\'\'+x); validar_campos(val.controls.inventarios.controls[x].controls.inventario_metadato.controls, val.controls.inventarios.controls[x].controls)">Continuar</a>\r\n                                                                </footer>\r\n                                                            </div>\r\n                                                        </div>\r\n    \r\n                                                    </td>       \r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </table>\r\n                                    </div>\r\n                                </div>\r\n                            </article>\r\n                        </div>\r\n                    </div>    \r\n                </section>\r\n            </div>\r\n        </div>\r\n\r\n        \x3c!-- datos del cliente y los importes --\x3e\r\n        <div class="column is-one-third">\r\n\r\n            <div style="background: #FFF; border-radius: 1em; ">\r\n                <section class="hero is-primary">\r\n                    <h1 class="title" style="margin:0.5em; ">\r\n                        <span class="icon is-medium">\r\n                            <i class="fa fa-file-text"></i>\r\n                        </span> Entrada\r\n                    </h1>\r\n                    <div class="control is-grouped" style="position:absolute; top:5.5em; right:2em;">\r\n                            <p class="control" >\r\n                                <a class="button is-primary tooltip" (click)="ctrl.regresar()">\r\n                                    <span class="icon ">\r\n                                        <i class="fa fa-arrow-left"> </i>\r\n                                    </span>\r\n                                    <span class="tooltiptext">Regresar</span>\r\n                                </a>\r\n                            </p>\r\n                            <p class="control" *ngIf="ctrl.id">\r\n                                <a class="button is-primary tooltip" (click)="ctrl.cargarDatos()" id="cargar_datos_actualizar">\r\n                                    <span class="icon ">\r\n                                        <i class="fa fa-refresh"></i>\r\n                                    </span>\r\n                                    <span class="tooltiptext">Actualizar</span>\r\n                                </a>\r\n                            </p>\r\n                            <p class="control" *ngIf="ctrl.id">\r\n                                <a  class="button is-primary tooltip"  routerLink="{{url_nuevo}}">\r\n                                    <span class="icon ">\r\n                                        <i class="fa fa-file"></i>\r\n                                    </span>\r\n                                    <span class="tooltiptext">Nuevo</span>\r\n                                </a>\r\n                            </p>\r\n                            <p class="control" *ngIf="!tieneid">\r\n                                <button class="button is-primary tooltip" type="submit" [ngClass]="{\'is-loading\': ctrl.cargando}" [disabled]="ctrl.dato.invalid">\r\n                                    <span class="icon ">\r\n                                        <i class="fa fa-save"> </i>\r\n                                    </span>\r\n                                    <span class="tooltiptext">Guardar</span>\r\n                                </button>\r\n                            </p>                        \r\n                            <p class="control" *ngIf="reimprimir">\r\n                                <button class="button is-primary tooltip" type="button" (click)="imprimir()">\r\n                                    <span class="icon ">\r\n                                        <i class="fa fa-print"> </i>\r\n                                    </span>\r\n                                    <span class="tooltiptext">Reimprimir el ticket</span>                                \r\n                                </button>\r\n                            </p>\r\n                        </div>\r\n\r\n                </section>\r\n                <div style="padding: 1em;">\r\n\r\n                    \x3c!-- cargar los catalogos que se requieran parametro 1 modelo donde se guarda el catalogo, parametro 2 ruta de la api --\x3e\r\n                    \r\n                    <h3 class="title">\r\n                        <i class="fa fa-file"></i> Datos de la entrada\r\n                    </h3>\r\n                    <div class="field">\r\n                            <label class="label">Fecha:</label>\r\n                            <input id="fecha_movimiento"  class="input"   ngui-datetime-picker\r\n                            [ngClass]="{\'is-danger\': ctrl.dato.get(\'fecha_movimiento\').hasError(\'required\')}" formControlName="fecha_movimiento"\r\n                            placeholder="YYYY-MM-DD HH:MM" />  \r\n                    </div>\r\n                    <div class="field">\r\n                        <label class="label">Comentarios:</label>\r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                            <textarea class="textarea" type="text" rows="2" placeholder="Comentarios" formControlName="observaciones"></textarea>\r\n                        </p>\r\n                    </div>\r\n\r\n\r\n                    <nav class="panel" style="font-size:1.5em">\r\n                        <p class="panel-heading">\r\n                            Total\r\n                        </p>\r\n                        <a class="panel-block">\r\n                            <span class="panel-icon">\r\n                            <i class="fa fa-money"></i>\r\n                            </span>\r\n                            <div class="columns" style="width:100%">\r\n                                <div class="column is-6">\r\n                                    Sub Total: \r\n                                </div>\r\n                                <div class="column is-6"> \r\n                                    {{ctrl.dato.get(\'subtotal\').value  | currency:\'MXN\':true}}\r\n                                </div>\r\n                            </div>\r\n                        </a>\r\n                        <a class="panel-block" *ngIf="ctrl.dato.get(\'iva\').value > 0">\r\n                            <span class="panel-icon">\r\n                            <i class="fa fa-money"></i>\r\n                            </span>\r\n                            <div class="columns" style="width:100%">\r\n                                <div class="column is-6">\r\n                                    Iva: \r\n                                </div>\r\n                                <div class="column is-6">\r\n                                    {{ctrl.dato.get(\'iva\').value  | currency:\'MXN\':true}}\r\n                                </div>\r\n                            </div>\r\n                        </a>\r\n                        <a class="panel-block">\r\n                            <span class="panel-icon">\r\n                            <i class="fa fa-money"></i>\r\n                            </span>\r\n                            <div class="columns" style="width:100%">\r\n                                <div class="column is-6">\r\n                                    Total: \r\n                                </div>\r\n                                <div class="column is-6"> \r\n                                    {{ctrl.dato.get(\'total\').value  | currency:\'MXN\':true}}\r\n                                </div>\r\n                            </div>\r\n                        </a>\r\n                        \r\n                    </nav>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</form>\r\n'},U4Dc:function(e,t){e.exports='<app-menu-inventario [modulo]="\'Inicializaci\xf3n de Inventario\'" [icono]="\'assets/icono-ajustes-inventario.svg\'" [url]="\'/inventario/inicializacion-inventario\'"></app-menu-inventario>\r\n\r\n<div class="is-fullwidth has-text-centered" style="padding-top:70px;" *ngIf="cargando">\r\n  <br>\r\n  <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n  <br>\r\n  <br>\r\n</div>\r\n\r\n<div style="position:relative; padding-top:70px; margin-left: 1.5%; display:block; width:97%; height:100% !important;" *ngIf="inventario">    \r\n  <div class="tile is-ancestor is-vertical" style="height:100% !important; max-height:100% !important;">\r\n    <div class="tile is-parent is-12 ">\r\n      <div class="tile is-child notification is-dark">\r\n        <div class="columns">\r\n          <div class="column" >\r\n            <div style="padding:1em;">\r\n              Almacen: <strong style="color:white !important;">{{almacen_seleccionado.nombre}}</strong>\r\n               &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Claves en Inventario: <strong style="color:white !important;">{{ lotesSurtidos.length  }}</strong>\r\n               &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span *ngIf="statusCaptura == \'BR\'"><strong style="color:#FFF;">Captura inciada</strong></span>\r\n               <span *ngIf="statusCaptura == \'FI\'"><strong style="color:#FFF;">Captura concluida</strong></span>\r\n            </div>\r\n          </div>\r\n          <div class="column">\r\n            <div style="padding:1em;">\r\n                Valor Total del Inventario: <strong style="color:white !important;">$ {{ ( inventario.totalMontoMaterialCuracion + inventario.totalMontoNoCauses + inventario.totalMontoCauses ).toFixed(2) | number: \'1.2-2\' }}</strong>\r\n            </div>\r\n          </div>\r\n          <div class="column is-4" style="text-align:right; " *ngIf="statusCaptura != \'FI\'">\r\n            <div style="margin:1em;">\r\n            <a *ngIf="!guardando && statusCaptura == \'BR\'" class="button is-primary" style="width:45%; margin-right:5%;" (click)="finalizar()"> <span class="icon"><i class="fa fa-check"></i></span> <span>Concluir</span></a>\r\n            <a  class="button is-white"  style="width:45%"  [ngClass]="{ \'is-loading\': guardando }"  (click)="guardar()"> <span class="icon"><i class="fa fa-save"></i></span> <span>Guardar</span></a>\r\n            </div>\r\n          </div>\r\n        </div>       \r\n      </div>\r\n    </div>\r\n    <div class="tile">\r\n      <div class="tile is-parent is-vertical">\r\n        <div class="tile is-child notification is-white" >\r\n           \r\n          <div class="contenedor-tabla" >\r\n            <div style="padding: 1em;">\r\n              <form name="form" novalidate>\r\n                <label class="label">Descripci\xf3n:</label>\r\n                <p class="control is-expanded  has-icon has-icon-right">\r\n                  <input type="text" class="input is-fullwidth" name="descripcion" [(ngModel)]="formulario.datos.descripcion">\r\n                  <span *ngIf="!formulario.validacion.valido && formulario.validacion.errores.descripcion" class="icon is-small">\r\n                    <i class="fa fa-warning"></i>\r\n                  </span>\r\n                  <span  *ngIf="!formulario.validacion.valido && formulario.validacion.errores.descripcion?.required" class="help is-danger">Este campo es requerido.</span>\r\n                </p>\r\n                <div class="control">\r\n                  <textarea name="observaciones" class="textarea" placeholder="Observaciones" [(ngModel)]="formulario.datos.observaciones"></textarea>\r\n                </div>\r\n              </form>\r\n            </div>\r\n\r\n            <table class="table is-unselectable" *ngIf="!cargando" style="font-size: 0.8em; ">\r\n              <thead>\r\n                  <tr  [ngClass]="{ \'filtro\': inventario.filtro.activo}">\r\n                    <th style="width:41px;vertical-align: middle;" class="has-text-centered" >Filtro:</th>\r\n                    <th>\r\n                      <p class="control is-expanded">\r\n                        <input type="hidden" #searchBoxDescripcionClavePrevia >\r\n                        \x3c!--input class="input is-small" type="text" placeholder="Clave o Descripci\xf3n" #searchBoxDescripcionClave id="search-box-descripcion-clave-{{indexPedido}}" (keyup)="buscar($event,searchBoxDescripcionClave,searchBoxDescripcionClavePrevia,[{ input: searchBoxDescripcionClave, campos: [\'clave\',\'generico_nombre\',\'informacion.concentracion\',\'informacion.presentacion\']}])"--\x3e\r\n                        <input class="input is-small" type="text" placeholder="Clave o Descripci\xf3n" #searchBoxDescripcionClave id="search-box-descripcion-clave" (keyup)="buscar($event,searchBoxDescripcionClave,searchBoxDescripcionClavePrevia,[{ input: searchBoxDescripcionClave, campos: [\'clave\',\'descripcion\']}])">\r\n                      </p>\r\n                    </th>  \r\n                    \r\n                    <th style="width:78px !important;text-align: center; vertical-align: middle;"><abbr title="Cantidad">Cantidad</abbr></th>\r\n                    <th style="width:78px !important;text-align: center; vertical-align: middle;"><abbr title="Surtido">Lotes</abbr></th>\r\n                  </tr>\r\n              </thead>\r\n              <tbody *ngIf="!inventario.filtro.activo">\r\n                <tr class="item" *ngFor="let item of inventario.paginacion.lista; let i = index;" (click)="seleccionarItem(item)" [ngClass]="{ \'seleccionado\': item == itemSeleccionado}">\r\n                  <td class="has-text-centered">\r\n                      <span class="icon" style="color:green;" *ngIf="item.totalStockAsignado"><i class="fa fa-check-circle"></i></span>\r\n                      <span class="icon" style="color:gray;" *ngIf="!item.totalStockAsignado"><i class="fa fa-circle-thin"></i></span>\r\n                  </td>\r\n                  <td >\r\n                    <small >{{ item.clave }} <br></small>\r\n                      <div style="line-height:1em;">\r\n                        <small>{{ item.descripcion }}</small>\r\n                      </div>\r\n                    \x3c!--b>{{ item.generico_nombre }}</b> <small *ngIf="(item.tipo == \'ME\' && item.informacion)"><b>{{ item.informacion.concentracion }}</b></small><br--\x3e\r\n                    <div class="item-detalle">\r\n                      \x3c!--div   *ngIf="(item.tipo == \'ME\' && item.informacion)" style="line-height:1em;">\r\n                        <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                        <small><i>{{ item.informacion.contenido }} </i></small>\r\n                      </div>\r\n                      <div *ngIf="item.tipo != \'ME\'" style="line-height:1em;">\r\n                        <small>{{ item.descripcion }}</small>\r\n                      </div--\x3e\r\n                      \r\n                      <div  style="padding: 0.5em 0 0.5em 0; ">\r\n                        <span *ngIf="(item.es_causes && item.tipo == \'ME\')" class="tag is-success" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">CAUSES</span>\r\n                        <span *ngIf="(!item.es_causes && item.tipo == \'ME\')" class="tag is-danger" style="font-size: 0.7em !important;">NO CAUSES</span>\r\n                        <span *ngIf="item.tipo == \'MC\'" class="tag is-warning" style="font-size: 0.7em !important;">MATERIAL CURACI\xd3N</span>\r\n                        <span *ngIf="item.es_cuadro_basico" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">Cuadro b\xe1sico</span>\r\n                        <span *ngIf="(item.tipo == \'ME\' && item.informacion)">\r\n                          <span *ngIf="item.informacion.es_controlado" class="tag is-info" style="font-size: 0.7em">Controlado</span>\r\n                          <span *ngIf="item.informacion.es_surfactante" class="tag is-info" style="font-size: 0.7em">Surfactante</span>  \r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </td> \r\n                  <td style="width:78px !important; text-align:center;">{{ item.totalStockAsignado || 0 }}</td>     \r\n                  <th style="width:78px !important; text-align:center;">{{ (item.listaStockAsignado)?item.listaStockAsignado.length:0 }}</th>\r\n                </tr>      \r\n              </tbody>\r\n              <tbody *ngIf="inventario.filtro.activo">\r\n                <tr class="item"  *ngFor="let item of inventario.filtro.paginacion.lista; let i = index;" (click)="seleccionarItem(item)" [ngClass]="{ \'seleccionado\': item == itemSeleccionado}">\r\n                  <td class="has-text-centered">\r\n                      <span class="icon" style="color:green;" *ngIf="item.totalStockAsignado"><i class="fa fa-check-circle"></i></span>\r\n                      <span class="icon" style="color:gray;" *ngIf="!item.totalStockAsignado"><i class="fa fa-circle-thin"></i></span>\r\n                  </td>\r\n                  <td >\r\n                    <small >{{ item.clave }} <br></small>\r\n                     <div style="line-height:1em;">\r\n                        <small>{{ item.descripcion }}</small>\r\n                      </div>\r\n                    \x3c!--b>{{ item.generico_nombre }}</b> <small *ngIf="(item.tipo == \'ME\' && item.informacion)"><b>{{ item.informacion.concentracion }}</b></small><br--\x3e\r\n                    <div class="item-detalle">\r\n                      \x3c!--div   *ngIf="(item.tipo == \'ME\' && item.informacion)" style="line-height:1em;">\r\n                        <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                        <small><i>{{ item.informacion.contenido }} </i></small>\r\n                      </div>\r\n                      <div   *ngIf="item.tipo != \'ME\'" style="line-height:1em;">\r\n                        <small>{{ item.descripcion }}</small>\r\n                      </div--\x3e\r\n                      <div  style="padding: 0.5em 0 0.5em 0; ">\r\n                        <span *ngIf="(item.es_causes && item.tipo == \'ME\')" class="tag is-success" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">CAUSES</span>\r\n                        <span *ngIf="(!item.es_causes && item.tipo == \'ME\')" class="tag is-danger" style="font-size: 0.7em !important;">NO CAUSES</span>\r\n                        <span *ngIf="item.tipo == \'MC\'" class="tag is-warning" style="font-size: 0.7em !important;">MATERIAL CURACI\xd3N</span>\r\n                        <span *ngIf="item.es_cuadro_basico" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">Cuadro b\xe1sico</span>\r\n                        <span *ngIf="(item.tipo == \'ME\' && item.informacion)">\r\n                          <span *ngIf="item.informacion.es_controlado" class="tag is-info" style="font-size: 0.7em">Controlado</span>\r\n                          <span *ngIf="item.informacion.es_surfactante" class="tag is-info" style="font-size: 0.7em">Surfactante</span>  \r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </td> \r\n                  <td style="width:78px !important; text-align:center;">{{ item.totalStockAsignado || 0 }}</td>     \r\n                  <th style="width:78px !important; text-align:center;">{{ (item.listaStockAsignado)?item.listaStockAsignado.length:0 }}</th>\r\n                </tr>   \r\n              </tbody>              \r\n            </table>\r\n            <paginacion style=" width:100%; height:auto; bottom:0; left:0px; background:#FFF;"\r\n                [total]="inventario.lista.length" \r\n                [paginasTotales]="inventario.paginacion.totalPaginas" \r\n                [resultadosPorPagina]="inventario.paginacion.resultadosPorPagina" \r\n                [paginaActual]="inventario.paginacion.paginaActual" \r\n                [indicePaginas]="inventario.paginacion.indice"\r\n                (onSiguiente)="inventario.paginaSiguiente(); limpiarStock();" \r\n                (onAnterior)="inventario.paginaAnterior(); limpiarStock();" \r\n                (onListar)="inventario.listar($event);limpiarStock();" \r\n                *ngIf="inventario.lista.length > 0 && inventario.lista.length > inventario.paginacion.resultadosPorPagina && !inventario.filtro.activo"></paginacion>\r\n\r\n            <paginacion \r\n                [total]="inventario.filtro.lista.length" \r\n                [paginasTotales]="inventario.filtro.paginacion.totalPaginas" \r\n                [resultadosPorPagina]="inventario.filtro.paginacion.resultadosPorPagina" \r\n                [paginaActual]="inventario.filtro.paginacion.paginaActual" \r\n                [indicePaginas]="inventario.filtro.paginacion.indice"\r\n                (onSiguiente)="inventario.filtro.paginaSiguiente(); limpiarStock();" \r\n                (onAnterior)="inventario.filtro.paginaAnterior();  limpiarStock();" \r\n                (onListar)="inventario.filtro.listar($event); limpiarStock();" \r\n                *ngIf="inventario.filtro.lista.length > 0 && inventario.filtro.lista.length > inventario.filtro.paginacion.resultadosPorPagina && inventario.filtro.activo"></paginacion>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="tile is-parent is-vertical ">\r\n        <div class="tile is-parent is-12">\r\n            <div class="tile is-parent" style="padding:0px;">\r\n          <article class="tile is-child notification is-success has-text-centered" style="padding:0.5rem 0.5rem 0.5rem 0.5rem">\r\n              <div class="content" *ngIf="!cargandoPresupuestos">\r\n                  <p class="subtitle" style="font-weight:bold;">\r\n                      <small>\r\n                          Causes:<br> \r\n                          $ {{ inventario.totalMontoCauses.toFixed(2) | number: \'1.2-2\' }}\r\n                      </small>\r\n                  </p>\r\n              </div>\r\n              <div class="content" *ngIf="cargandoPresupuestos">\r\n                  <span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span>\r\n              </div>\r\n          </article>\r\n\r\n          <article class="tile is-child notification is-danger has-text-centered" style="padding:0.5rem 0.5rem 0.5rem 0.5rem">\r\n              <div class="content" *ngIf="!cargandoPresupuestos">\r\n                  <p class="subtitle" style="font-weight:bold;">\r\n                      <small>\r\n                          No Causes:<br>  $ {{ inventario.totalMontoNoCauses.toFixed(2) | number: \'1.2-2\' }}\r\n                      </small>\r\n                  </p>\r\n              </div>\r\n              <div class="content" *ngIf="cargandoPresupuestos">\r\n                  <span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span>\r\n              </div>\r\n          </article>\r\n\r\n          <article class="tile is-child notification is-warning has-text-centered" style="padding:0.5rem 0.5rem 0.5rem 0.5rem">\r\n              <div class="content" *ngIf="!cargandoPresupuestos">\r\n                  <p class="subtitle" style="font-weight:bold;">\r\n                      <small>\r\n                          Material de Curaci\xf3n:<br> \r\n                          $ {{ inventario.totalMontoMaterialCuracion.toFixed(2) | number: \'1.2-2\' }}\r\n                      </small>\r\n                  </p>\r\n              </div>\r\n              <div class="content" *ngIf="cargandoPresupuestos">\r\n                  <span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span>\r\n              </div>\r\n          </article>\r\n            </div>\r\n        </div>\r\n        <div *ngIf="capturarStock" class="tile is-child notification">\r\n          <div class="control is-grouped">\r\n            <p class="control is-expanded  has-icon has-icon-right">\r\n              <label class="label">C\xf3digo de Barras</label>\r\n              <input class="input" autofocus type="text" placeholder="C\xf3digo de Barras" [(ngModel)]="formStock.codigo_barras">\r\n            </p>\r\n          </div>\r\n\r\n          <div class="control is-grouped">\r\n            <p class="control is-expanded  has-icon has-icon-right">\r\n              <label class="label">Lote</label>\r\n              <input class="input" autofocus type="text" placeholder="Lote" [(ngModel)]="formStock.lote">\r\n              <span *ngIf="erroresFormularioStock.lote.error" class="icon is-small" >\r\n                <i class="fa fa-warning"></i>\r\n              </span>\r\n              <span *ngIf="erroresFormularioStock.lote.error" class="help is-danger">{{erroresFormularioStock.lote.texto}}</span>\r\n            </p>\r\n            <p class="control is-expanded has-icon has-icon-right">\r\n              <label class="label">Caducidad (aaaa-mm-dd)</label>\r\n              <input class="input" type="text" placeholder="aaaa-mm-dd" [(ngModel)]="formStock.fecha_caducidad">\r\n              <span *ngIf="erroresFormularioStock.fecha_caducidad.error" class="icon is-small" >\r\n                <i class="fa fa-warning"></i>\r\n              </span>\r\n              <span *ngIf="erroresFormularioStock.fecha_caducidad.error" class="help is-danger">{{erroresFormularioStock.fecha_caducidad.texto}}</span>\r\n            </p>\r\n            <p class="control is-expanded has-icon has-icon-right">\r\n              <label class="label">Cantidad</label>\r\n              <input class="input" type="number" placeholder="Cantidad" [(ngModel)]="formStock.cantidad">\r\n              <span *ngIf="erroresFormularioStock.cantidad.error" class="icon is-small" >\r\n                <i class="fa fa-warning"></i>\r\n              </span>\r\n              <span *ngIf="erroresFormularioStock.cantidad.error" class="help is-danger">{{erroresFormularioStock.cantidad.texto}}</span>\r\n            </p>\r\n          </div>\r\n\r\n          <div class="control is-grouped is-pulled-right " >\r\n            <p class="control is-expanded">\r\n            </p>\r\n            <p class="control">\r\n                <button class="button is-medium is-primary " (click)="asignarStock()">\r\n                  <span class="icon"><i class="fa fa-plus"></i></span><span>Agregar</span>\r\n                </button>\r\n            </p>\r\n            <p class="control">\r\n                <button class="button is-medium "  (click)="cancelarCapturaStock()">\r\n                  <span>Cancelar</span>\r\n                </button>\r\n            </p>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class="tile is-child  notification is-white">\r\n          <div class="contenedor-tabla">\r\n            <table class="table" *ngIf="!cargando && itemSeleccionado != null" style="font-size: 0.8em;" >\r\n              <thead>\r\n                  <tr style="background: #00d1b2;">\r\n                    <th style="color:#FFF !important;">C\xf3digo</th>\r\n                    <th style="color:#FFF !important;">Lote</th>\r\n                    <th style="color:#FFF !important;">Caducidad</th>\r\n                    <th style="color:#FFF !important;"><abbr title="Cantidad">Cant.</abbr></th>  \r\n                    <th></th>              \r\n                  </tr>\r\n              </thead>\r\n              <tfoot>\r\n                <tr>\r\n                  <th colspan="4" style="text-align:right">\r\n                  </th>\r\n                  <td style="text-align:center">{{ itemSeleccionado.totalStockAsignado || 0 }}</td>\r\n                </tr>\r\n              </tfoot>\r\n              <tbody>\r\n                  <tr  class="is-unselectable" *ngFor="let item of itemSeleccionado.listaStockAsignado">\r\n                    <td>{{ item.codigo_barras}}</td>\r\n                    <td>{{ item.lote }}</td>\r\n                    <td [ngClass]="{\'rojo\':item.esta_caducado}">{{ item.fecha_caducidad | date:\'dd/MM/y\' }} <br><small *ngIf="item.esta_caducado">Caducado</small></td>\r\n                    <td style="width:150px !important;">\r\n                        <p class="control is-expanded">\r\n                        <input class="input is-small has-text-centered"  type="number" min="1" max="{{item.existencia}}" placeholder="Cant" [(ngModel)]="item.cantidad" (change)="calcularTotalStockItem()" (keyup)="calcularTotalStockItem()">\r\n                        </p>\r\n                    </td> \r\n                    <td style="vertical-align: middle;" class="has-text-centered"><a  class="is-danger" (click)="eliminarStock(item)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>                    \r\n                  </tr>\r\n              </tbody>  \r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    \x3c!--p style="text-align:center" ><a  class="button is-danger is-inverted" (click)="ultimaPeticion(); mensajeError.mostrar = false"> <span class="icon"><i class="fa fa-refresh"></i></span> <span>Volver a intentar</span></a></p--\x3e\r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n'},U77z:function(e,t){e.exports='<section class="hero is-warning" style="position: fixed; width: 100%;top:0px; z-index:99">\r\n    <div class="hero-head">\r\n        <div class="container is-fluid">\r\n            <nav class="nav is-primary">\r\n                <div class="nav-left">\r\n                    <a class="nav-item is-brand" routerLink="/" routerLinkActive="active">\r\n                    \x3c!--<img src="http://bulma.io/images/bulma-type.png" alt="Bulma logo">--\x3e\r\n                    <span class="icon">\r\n                        <i class="fa fa-safari"></i>\r\n                    </span> \r\n                     <h1 class="title">&nbsp;404</h1>\r\n                    </a>\r\n                </div>\r\n\r\n                <a class="nav-item"  (click)="hub.toggle()">\r\n                    <span class="icon">\r\n                        <i class="fa fa-th"></i>\r\n                    </span>\r\n                </a>\r\n\r\n                <a class="nav-item is-hidden-mobile" (click)="perfil.toggle()">\r\n                    \r\n                    <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n                    &nbsp;\r\n                    <span>{{ usuario.nombre }} {{ usuario.apellidos }}</span>\r\n                </a>\r\n                <a class="nav-item is-hidden-tablet" (click)="perfil.toggle()">\r\n                    \r\n                    <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n                </a>\r\n               \r\n                \r\n            </nav>\r\n        </div>\r\n    </div>\r\n</section>\r\n<app-hub #hub></app-hub>\r\n<app-perfil #perfil></app-perfil>\r\n<section class="hero is-dark is-fullheight has-text-centered">\r\n  <div class="hero-body">\r\n    <div class="container">\r\n      <figure class="image" style="height: auto; width: 25%; display: inline-block;">\r\n        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 50 50" style="fill:#FFF;">\r\n        <path d="M42.128,22.257c0.01-0.192,0.015-0.378,0.015-0.561c0-7.251-5.899-13.149-13.15-13.149c-5.009,0-9.583,2.896-11.78,7.331\tc-1.134-0.751-2.464-1.154-3.857-1.154c-3.703,0-6.745,2.887-6.993,6.528C2.581,22.628,0,26.258,0,30.331C0,35.662,4.338,40,9.67,40\th31.428C46.006,40,50,36.007,50,31.099C50,26.539,46.553,22.769,42.128,22.257z M31,22c1.105,0,2,0.895,2,2c0,1.105-0.895,2-2,2\ts-2-0.895-2-2C29,22.895,29.895,22,31,22z M19,22c1.105,0,2,0.895,2,2c0,1.105-0.895,2-2,2s-2-0.895-2-2C17,22.895,17.895,22,19,22z M34.654,34.756C34.465,34.92,34.232,35,34,35c-0.279,0-0.559-0.117-0.756-0.346C33.214,34.62,29.99,31,25,31\tc-5.022,0-8.212,3.618-8.244,3.654c-0.361,0.418-0.993,0.462-1.41,0.102c-0.418-0.362-0.463-0.993-0.102-1.411\tC15.397,33.168,19.073,29,25,29s9.603,4.168,9.756,4.346C35.117,33.763,35.072,34.395,34.654,34.756z"></path>\r\n        </svg>\r\n      </figure>\r\n      <h1 class="title">\xa1Lo sentimos!</h1>\r\n      <h2 class="subtitle">El contenido que intentas buscar <strong>no existe</strong>.</h2>\r\n    </div>\r\n  </div>\r\n</section>\r\n\r\n'},UBJ0:function(e,t){e.exports='<formulario #ctrl URL="mis-servicios" titulo="Servicios / Configuraci\xf3n" [dato]="dato"></formulario>\r\n<panel-control-menu></panel-control-menu>\r\n<div style="height:50px;"></div>\r\n\r\n<form name="dato" novalidate [formGroup]="dato" (ngSubmit)="ctrl.enviar(false)">\r\n    <div class="contenedor columns " style="height:85%">\r\n        <div class="column is-one-quarter is-hidden-mobile">\r\n            <panel-control-menu-aside></panel-control-menu-aside>\r\n        </div>\r\n        <div class="column" style="padding:2em;">\r\n            <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n                <section class="hero is-primary">\r\n                    <div class="hero-body">\r\n                        <nav class="level">\r\n                            <div class="level-left">\r\n                                <div class="container is-fluid">\r\n                                    <h1 class="title">\r\n                                        <span *ngIf="!ctrl.cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                        <span *ngIf="ctrl.cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>                            \r\n                                        \x3c!-- --\x3e Mis servicios\r\n                                    </h1>\r\n                                    <span style="text-align: right">\r\n                                        \xdaltima actualizaci\xf3n: <span class="icon is-small"><i class="fa fa-refresh fa-spin"></i></span>\r\n                                        \x3c!-- <strong *ngIf="actualizado" >{{actualizacion | date}}</strong> --\x3e\r\n                                        \r\n                                        Por: <span class="icon is-small"><i class="fa fa-refresh fa-spin"></i></span>\r\n                                        \x3c!-- <strong *ngIf="actualizado">{{actualizacion_usuario}} </strong> --\x3e\r\n                                    </span>\r\n                                </div>\r\n                            </div>\r\n                            \x3c!-- Right side --\x3e\r\n                            <div class="level-right">\r\n                                <p class="level-item"><a class="button is-primary" (click)="ctrl.regresar()">Regresar</a></p>\r\n                                <p class="level-item">\r\n                                    <button class="button is-primary" type="submit" [ngClass]="{\'is-loading\': ctrl.cargando}" [disabled]="ctrl.dato.invalid">Guardar</button>\r\n                                </p>\r\n                                <p class="level-item">\r\n                                    <a class="button  is-primary" (click)="ctrl.cargarDatos(); ctrl.cargarCatalogo(\'tipos_servicios\', \'servicios?bid=1\', \'initMover\'); cargarValidar();" id="actualizar"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                                </p>\r\n                                <p class="level-item">&nbsp;</p>\r\n                            </div>\r\n                        </nav>\r\n                        \r\n                    </div>\r\n                </section>\r\n                <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n                <section class="section">\r\n                    \x3c!-- formulario --\x3e\r\n                        <div class="tabs is-boxed">\r\n                            <ul>\r\n                                <li [ngClass]="{ \'is-active\' : tab == 2}">\r\n                                    <a (click)="tab=2">\r\n                                        <span class="icon is-small"><i class="fa fa-home"></i></span>\r\n                                        <span>Tipos de servicios</span>\r\n                                    </a>\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n\r\n                        <div [ngClass]="{ \'is-hidden\': tab != 2}">\r\n                            <div class="box">\r\n                                <a id="catalogos" (click)="ctrl.cargarCatalogo(\'tipos_servicios\', \'servicios?bid=1\', \'initMover\'); "></a>\r\n                                <article class="media">\r\n                                    <div class="media-content">\r\n                                        <div class="content">\r\n                                            <div class="column is-5" style="float:left">\r\n                                                <nav class="panel">\r\n                                                    <div class="panel-heading">\r\n                                                        <div class="field">\r\n                                                            <div class="b-checkbox is-info">\r\n                                                                <input id="Movimientos" class="styled" type="checkbox" \r\n                                                                [checked]="ctrl.todosSeleccionados.izquierda"\r\n                                                                (click)="ctrl.seleccionarTodosMover(\'izquierda\', ctrl.tipos_servicios)">\r\n                                                                <label for="Movimientos">\r\n                                                                Servicios disponibles\r\n                                                            </label>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div *ngIf="ctrl.cargando" class="has-text-centered" style="overflow: hidden; overflow-x: hidden; height: 450px;">\r\n                                                        <br>\r\n                                                        <br>\r\n                                                        <span class="tag is-primary is-large"><i class="fa fa-refresh fa-spin"></i>&nbsp; Cargando... </span>\r\n                                                    </div>\r\n                                                    <div *ngIf="!ctrl.cargando" style="overflow: scroll; overflow-x: hidden; height: 450px;">\r\n                                                        <label class="panel-block" *ngFor="let val of ctrl.tipos_servicios; let i=index">          \r\n                                                            <div class="field">\r\n                                                                <div class="b-checkbox">\r\n                                                                    <input id="{{val.id}}" class="styled" type="checkbox" \r\n                                                                    [checked]="ctrl.izquierda.indexOf(val) > -1"\r\n                                                                    (click)="ctrl.agregarMover(\'izquierda\', ctrl.tipos_servicios, val)">\r\n                                                                    <label for="{{val.id}}">\r\n                                                                        {{val.nombre}} \r\n                                                                    </label>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </label>\r\n                                                    </div>\r\n                                                </nav>\r\n                                            </div>\r\n                                            <div class="column is-2" style="float:left" >\r\n                                                \r\n                                                <p class="control">\r\n                                                    <button class="button is-default" type="button" style="width:100%" \r\n                                                    [ngClass]="{\'is-success\': ctrl.izquierda.length > 0}" \r\n                                                    [disabled]="ctrl.izquierda.length <= 0"\r\n                                                    (click)="ctrl.iniciarMover(\'izquierda\', ctrl.dato.controls.clues_servicios.controls, ctrl.tipos_servicios, true)">></button>\r\n                                                </p>\r\n                                                <p class="control">\r\n                                                    <button class="button is-default" type="button" style="width:100%" \r\n                                                    [ngClass]="{\'is-success\': ctrl.derecha.length > 0}" \r\n                                                    [disabled]="ctrl.derecha.length <= 0"\r\n                                                    (click)="ctrl.iniciarMover(\'derecha\', ctrl.tipos_servicios, ctrl.dato.controls.clues_servicios.controls, false)"><</button>\r\n                                                </p>\r\n                                                \r\n                                            </div>                        \r\n                                            <div class="column is-5" style="float:left" >\r\n                                                <nav class="panel" formGroupName="clues_servicios">\r\n                                                    <div class="panel-heading">\r\n                                                        <div class="field">\r\n                                                            <div class="b-checkbox is-info">\r\n                                                                <input id="MisServicios" class="styled" type="checkbox" \r\n                                                                [checked]="ctrl.todosSeleccionados.derecha"\r\n                                                                (click)="ctrl.seleccionarTodosMover(\'derecha\', ctrl.dato.controls.clues_servicios.controls)">\r\n                                                                <label for="MisServicios">\r\n                                                                Mis servicios\r\n                                                            </label>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div *ngIf="ctrl.cargando" class="has-text-centered" style="overflow: hidden; overflow-x: hidden; height: 450px;">\r\n                                                        <br>\r\n                                                        <br>\r\n                                                        <span class="tag is-primary is-large"><i class="fa fa-refresh fa-spin"></i>&nbsp; Cargando... </span>\r\n                                                    </div>\r\n                                                    <div *ngIf="!ctrl.cargando" style="overflow: scroll; overflow-x: hidden; height: 450px;">\r\n                                                        <label class="panel-block" *ngFor="let item of ctrl.dato.controls.clues_servicios.controls; let i2=index">          \r\n                                                            <div class="field" [formGroupName]="i2">\r\n                                                                <div class="b-checkbox">\r\n                                                                    <input id="{{item.value.id}}" class="styled" type="checkbox"\r\n                                                                    [checked]="ctrl.derecha.indexOf(item) > -1"\r\n                                                                    (click)="ctrl.agregarMover(\'derecha\', ctrl.dato.controls.clues_servicios.controls, item)">\r\n                                                                    <label for="{{item.value.id}}">\r\n                                                                        {{item.value.nombre}} \r\n                                                                    </label>\r\n                                                                </div>\r\n                                                            </div>\r\n                                                        </label>\r\n                                                    </div>\r\n                                                </nav>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </article>\r\n                            </div>\r\n                        </div>\r\n                        <a (click)="ctrl.initMover(ctrl.dato.controls.clues_servicios.controls, ctrl.tipos_servicios, \'nombre\');  cargarValidar();" id="initMover"></a>\r\n                        \x3c!--\r\n                        <div class="control is-grouped" style="float:left; padding:10px;">\r\n                            <p class="control">\r\n                                <button class="button is-primary" type="submit" [ngClass]="{\'is-loading\': ctrl.cargando}" [disabled]="ctrl.dato.invalid">Guardar</button>\r\n                            </p>\r\n                            <p class="control" *ngIf="ctrl.id">\r\n                                <button class="button is-danger" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="ctrl.eliminar(ctrl.id)">Eliminar </button>\r\n                            </p>\r\n                            <p class="control">\r\n                                <a class="button is-white" (click)="ctrl.regresar()">Regresar</a>\r\n                            </p>\r\n                        </div>\r\n                        --\x3e\r\n                </section>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</form>\r\n'},UXli:function(e,t){e.exports='<div class="modal is-active">\r\n  <div class="modal-background" (click)="cerrar()"></div>\r\n  <div class="modal-card">\r\n    <header class="modal-card-head">\r\n      <p class="modal-card-title"> <span class="icon"><i class="fa fa-key"></i></span>  Recuperar contrase\xf1a</p>\r\n      <button class="delete" (click)="cerrar()"></button>\r\n    </header>\r\n    <section class="modal-card-body ">\r\n      <div class="notification is-danger" *ngIf="mensajeError!=\'\'">\r\n          <button class="delete" (click)="mensajeError=\'\'"></button>\r\n          {{ mensajeError}}\r\n      </div>\r\n      <div class="has-text-centered" *ngIf="!mostrarEnviarEmail&&!mostrarPreguntaSecreta&&!resetPasswordViaToken">\r\n        <p>Por favor elija un m\xe9todo para recuperar su contrase\xf1a:</p><br>\r\n        <div class="block">\r\n          <a class="button is-info is-medium" (click)="mostrarEnviarEmail=true">Enviarme un email</a>\r\n          <a class="button  is-medium" (click)="mostrarPreguntaSecreta=true">Pregunta secreta</a>\r\n        </div>\r\n        <br>\r\n      </div>\r\n      <div *ngIf="mostrarEnviarEmail">    \r\n        <div *ngIf="emailEnviado">\r\n            <h5 class="title is-5">Solicitud enviada</h5>\r\n            <p>Hemos enviado un correo electr\xf3nico con las instrucciones para reestablecer tu contrase\xf1a.</p>            \r\n        </div>\r\n        <div *ngIf="!emailEnviado">\r\n          <p>Por favor introduzca el correo electr\xf3nico que est\xe1 ligado a su cuenta:</p><br>    \r\n          <div class="field">\r\n            <div class="control">\r\n              <input class="input is-primary" type="email" [(ngModel)]="email"  [ngClass]="{\'is-disabled\': enviandoEmail, \'is-danger\': errores.email != null}" placeholder="Correo electr\xf3nico">            \r\n            </div>\r\n            <p class="help is-danger" *ngIf="errores.email == \'required\'">El correo electr\xf3nico es requerido.</p>\r\n            <p class="help is-danger" *ngIf="errores.email == \'email\'">El correo electr\xf3nico es inv\xe1lido.</p>        \r\n            <p class="help is-danger" *ngIf="errores.email == \'not-exist\'">El correo electr\xf3nico no existe.</p>          \r\n          </div>\r\n          <div class="has-text-centered">\r\n            <br>\r\n            <a class="button  is-medium is-primary" [ngClass]="{\'is-loading\': enviandoEmail}" (click)="enviarEmail()"><span class="icon"><i class="fa fa-send"></i></span> <span>Enviar</span></a>\r\n          </div>\r\n        </div>          \r\n      </div>\r\n      <div *ngIf="mostrarPreguntaSecreta">    \r\n          <div *ngIf="passwordActualizado">\r\n              <h5 class="title is-5">Contrase\xf1a actualizada</h5>\r\n              <p>Tu contrase\xf1a ha sido actualizada, ahora puedes iniciar sesi\xf3n.</p>            \r\n          </div>\r\n          <div *ngIf="!passwordActualizado && !preguntaSecretaCargada">\r\n            <p>Por favor introduzca su usuario:</p><br>    \r\n            <div class="field">\r\n              <div class="control">\r\n                <input class="input is-primary" type="text" [(ngModel)]="usuario"  [ngClass]="{\'is-disabled\': obteniendoPreguntaSecreta, \'is-danger\': errores.usuario != null || errores.pregunta != null}" placeholder="Usuario">            \r\n              </div>\r\n              <p class="help is-danger" *ngIf="errores.usuario == \'required\'">El usuario es requerido.</p>     \r\n              <p class="help is-danger" *ngIf="errores.usuario == \'not-exist\'">El usuario no existe.</p>          \r\n              <p class="help is-danger" *ngIf="errores.pregunta == \'not-exist\'">No hay una pregunta configurada para este usuario, contacte un administrador.</p>          \r\n            </div>\r\n            <div class="has-text-centered">\r\n              <br>\r\n              <a class="button  is-medium is-primary" [ngClass]="{\'is-loading\': obteniendoPreguntaSecreta, \'is-disabled\': usuario == \'\'}" (click)="obtenerPreguntaSecreta()"> <span>Siguiente</span> <span class="icon"><i class="fa fa-arrow-right"></i></span></a>\r\n            </div>\r\n          </div>   \r\n          \r\n          <div *ngIf="!passwordActualizado && preguntaSecretaCargada">\r\n              <p>{{preguntaSecreta}}</p><br>    \r\n              <div class="field">\r\n                <div class="control">\r\n                  <input class="input is-primary" type="text" [(ngModel)]="respuesta"  [ngClass]="{\'is-disabled\': enviandoRespuesta, \'is-danger\': errores.respuesta != null }" placeholder="Respuesta">            \r\n                </div>\r\n                <p class="help is-danger" *ngIf="errores.respuesta == \'required\'">La respuesta es requerida.</p>     \r\n                <p class="help is-danger" *ngIf="errores.respuesta == \'wrong\'">La respuesta es incorrecta.</p>          \r\n                \r\n              </div>\r\n              <div class="has-text-centered">\r\n                <br>\r\n                <a class="button  is-medium is-primary" [ngClass]="{\'is-loading\': enviandoRespuesta}" (click)="enviarRespuesta()"> <span>Siguiente</span> <span class="icon"><i class="fa fa-arrow-right"></i></span></a>\r\n              </div>\r\n            </div>   \r\n      </div>\r\n      <div *ngIf="resetPasswordViaToken" class="has-text-centered">\r\n          <span class="icon is-large" *ngIf="verificandoToken"><i class="fa fa-refresh fa-spin"></i></span>\r\n          <div *ngIf="passwordActualizado">\r\n              <h5 class="title is-5">Contrase\xf1a actualizada</h5>\r\n              <p>Tu contrase\xf1a ha sido actualizada, ahora puedes iniciar sesi\xf3n.</p>            \r\n          </div>\r\n          <div *ngIf="!verificandoToken&&!errorToken&&!passwordActualizado">\r\n              <p>Por favor introduzca la nueva contrase\xf1a:</p><br>    \r\n              <div class="field">\r\n                <div class="control">\r\n                  <input class="input is-primary" type="password" [(ngModel)]="passwordNuevo"  [ngClass]="{\'is-disabled\': enviandoPasswordNuevo, \'is-danger\': errores.password_nuevo != null || passwordNuevo!=passwordNuevoConfirmar}" placeholder="Nueva contrase\xf1a">            \r\n                </div>\r\n                <p class="help is-danger" *ngIf="errores.password_nuevo == \'required\'">La constrase\xf1a es requerida.</p>     \r\n                <p class="help is-danger" *ngIf="passwordNuevo!=passwordNuevoConfirmar">Las contrase\xf1as no coinciden.</p>          \r\n              </div>\r\n              <br>\r\n              <div class="field">\r\n                  <div class="control">\r\n                    <input class="input is-primary" type="password" [(ngModel)]="passwordNuevoConfirmar"  [ngClass]="{\'is-disabled\': enviandoPasswordNuevo, \'is-danger\': passwordNuevo!=passwordNuevoConfirmar}" placeholder="Confirmar nueva contrase\xf1a">            \r\n                  </div>\r\n                </div>\r\n              <div class="has-text-centered">\r\n                <br>\r\n                <a class="button  is-medium is-primary" [ngClass]="{\'is-loading\': enviandoPasswordNuevo , \'is-disabled\': passwordNuevoConfirmar!= passwordNuevo || passwordNuevo==\'\' }" (click)="enviarPasswordNuevo()"><span class="icon"><i class="fa fa-key"></i></span> <span>Cambiar contrase\xf1a</span></a>\r\n              </div>\r\n          </div>\r\n      </div>\r\n    </section>\r\n    <footer class="modal-card-foot">\r\n      \x3c!--<a class="button is-success">Save changes</a>--\x3e\r\n      <a class="button" *ngIf="mostrarEnviarEmail||mostrarPreguntaSecreta" (click)="mostrarEnviarEmail=false;mostrarPreguntaSecreta=false;resetErrores();emailEnviado=false;usuario=\'\';preguntaSecretaCargada=false;"><span class="icon"><i class="fa fa-arrow-left"></i></span> <span>Atr\xe1s</span></a>\r\n      <a class="button" (click)="cerrar()">Cerrar</a>\r\n    </footer>\r\n  </div>\r\n</div>'},UduK:function(e,t){e.exports='<panel-control-menu></panel-control-menu>\r\n<div style="height:50px;"></div>\r\n\x3c!--div class="contenedor columns " style="height:100%; overflow:scroll "--\x3e\r\n<div class="contenedor columns " style="height:90%; ">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" >\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden; margin:2em;">\r\n            <section class="hero is-primary">\r\n                <div class="hero-body">\r\n                    <div class="container is-fluid">\r\n                        <h1 class="title">\r\n                            <span  *ngIf="!cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                            <span  *ngIf="cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span> \r\n                            Editar rol\r\n                        </h1>\r\n                        \r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <section class="section" *ngIf="!cargando">\r\n              <div class="control is-grouped">\r\n                <p class="control is-expanded">\r\n                    <input class="input is-medium" [(ngModel)]="rol.nombre"  [ngClass]="{ \'is-danger\': errores.nombre != null}"  type="text" placeholder="Nombre" >\r\n                </p>\r\n                <p class="control">\r\n                    <a class="button is-medium is-primary " [ngClass]="{ \'is-loading\': enviando}" (click)="guardar()" >\r\n                    <span class="icon"><i class="fa fa-save"></i></span><span>Guardar</span>\r\n                    </a>\r\n                </p><p class="control">\r\n                    <a class="button is-medium is-white " [ngClass]="{ \'is-disabled\': enviando}" routerLink="/panel-control/roles">Cancelar</a>\r\n                </p>\r\n                \r\n              </div>\r\n              <label class="checkbox">\r\n                <input type="checkbox" [(ngModel)]="rol.es_offline" >\r\n                Para servidores offline\r\n              </label>\r\n              <p class="help is-danger" *ngIf="errores.nombre == \'required\'">Por favor especifique el nombre del rol.</p>              \r\n              <p class="help is-danger" *ngIf="errores.nombre == \'unique\'">Este nombre ya fue utilizado, por favor elija otro.</p>\r\n\x3c!--\r\n              <hr>\r\n              <table class="table">\r\n                <thead>\r\n                  <tr>\r\n                    <td style="width:42px; cursor:pointer;" (click)="seleccionarTodos()">\r\n                      <span class="icon" style="color:#00d1b2"><i class="fa" [ngClass]="{ \'fa-square-o\': !todosSeleccionados, \'fa-check-square\': todosSeleccionados }"></i></span>\r\n                    </td>\r\n                    <td><span style="color:red" *ngIf="errores.permisos == \'required\'"><span class="icon"><i class="fa fa-exclamation-circle"></i></span> <span>Elija un permiso:</span></span><span *ngIf="errores.permisos == null">Permiso</span></td>\r\n                    <td>Grupo</td>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr *ngFor="let item of permisos" (click)="item.seleccionado = !item.seleccionado" style="cursor:pointer">\r\n                    <td><span class="icon"><i class="fa" [ngClass]="{ \'fa-square-o\': !item.seleccionado, \'fa-check-square\': item.seleccionado }"></i></span></td>\r\n                    <td>{{ item.descripcion }}</td>\r\n                    <td>{{ item.grupo }}</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n--\x3e\r\n              <br>\r\n                <div style="overflow:auto; display:block" [style.maxHeight.px]="tamano-380">\r\n                    <table class="table">\r\n                        <thead>\r\n                        <tr>\r\n                            <td style="width:42px; cursor:pointer;" (click)="seleccionarTodos()">\r\n                            <span class="icon" style="color:#00d1b2"><i class="fa" [ngClass]="{ \'fa-square-o\': !todosSeleccionados, \'fa-check-square\': todosSeleccionados }"></i></span>\r\n                            </td>\r\n                            <td><span style="color:red" *ngIf="errores.permisos == \'required\'"><span class="icon"><i class="fa fa-exclamation-circle"></i></span> <span>Elija un permiso:</span></span><span *ngIf="errores.permisos == null">Permiso</span></td>\r\n                            <td>Grupo</td>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                        <tr *ngFor="let item of permisos" (click)="item.seleccionado = !item.seleccionado" style="cursor:pointer">\r\n                            <td><span class="icon"><i class="fa" [ngClass]="{ \'fa-square-o\': !item.seleccionado, \'fa-check-square\': item.seleccionado }"></i></span></td>\r\n                            <td>{{ item.descripcion }}</td>\r\n                            <td>{{ item.grupo }}</td>\r\n                        </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </section>\r\n            \r\n        </div>\r\n        \r\n    </div>\r\n</div>\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>    \r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeError.cuentaAtras }} segundos.</small></p>        \r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n'},UtdK:function(e,t){e.exports='<listar #ctrl URL="listar-sincronizaciones-pedido?pedido_id={{pedido_id}}&fecha_desde={{fecha_desde}}&fecha_hasta={{fecha_hasta}}&folio={{folio}}" titulo="Sincronizaciones"></listar>\r\n<menu-farmacia [modulo]="\'Sincronizaciones\'" [icono]="\'assets/hub-farmacia-sub.svg\'" [url]="\'.\'"></menu-farmacia>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:85%; ">\r\n    \r\n    <div class="column" style="padding:2em;">\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n            <section class="hero" [ngClass]=" {\'is-dark\': ctrl.busquedaActivada, \'is-primary\': !ctrl.busquedaActivada } ">\r\n\r\n                <div class="hero-body" style="position:relative;">\r\n                    <nav class="level">\r\n                        <div class="level-left"></div>\r\n                        \x3c!-- Right side --\x3e\r\n                        <div class="level-right">\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="Actualizar" (click)="ctrl.listarBusqueda(searchBox.value,1)"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="Actualizar" (click)="ctrl.listar(1)"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n                            \r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="PDF" (click)="imprimir()"><span class="icon "><i class="fa fa-file-pdf-o"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="PDF" (click)="imprimir()"><span class="icon "><i class="fa fa-file-pdf-o"></i></span></a></p>\r\n                            <p class="level-item">&nbsp;</p>\r\n                        </div>\r\n                    </nav> \r\n                    <div class="container is-fluid">\r\n\r\n                        <div class="is-hidden-desktop">\r\n                            <h1 class="title" *ngIf="!ctrl.busquedaActivada">\r\n                                <span class="icon is-medium"><i class="fa fa-user"></i></span> Sincronizar recetas\r\n                            </h1>\r\n                        </div>\r\n                        <div class="is-hidden-touch">\r\n                            <div style="height:30px;"></div>\r\n                        </div>\r\n                        <h1 class="title" *ngIf="ctrl.busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-search"></i></span> B\xfasqueda\r\n                        </h1>\r\n                        <div class="control is-grouped">\r\n                            <div class="control">\r\n                                <div class="field">   \r\n                                    <label class="label">Desde:</label>                         \r\n                                    <input  style="width: 150px;" class="input is-medium" [(ngModel)]=\'fecha_desde\' ngui-datetime-picker date-only="true" placeholder="YYYY-MM-DD" />\r\n                                </div>\r\n                            </div>\r\n                            <div class="control">\r\n                                <div class="field">   \r\n                                    <label class="label">Hasta:</label>                         \r\n                                    <input style="width: 150px;" class="input is-medium" [(ngModel)]=\'fecha_hasta\' ngui-datetime-picker date-only="true" placeholder="YYYY-MM-DD" />\r\n                                </div>\r\n                            </div>\r\n                            <div class="control is-expanded">\r\n                                <span class="field">\r\n                                    <label class="label">FOLIO:</label>\r\n                                    <p class="control">\r\n                                        <input class="input is-medium" type="text" placeholder="Folio" [(ngModel)]=\'folio\'>\r\n                                    </p> \r\n                                </span>\r\n                            </div>\r\n                            <div class="control">\r\n                                    <label class="label">&nbsp;</label> \r\n                                    <button class="button is-default is-medium" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="fecha_desde=\'\';fecha_hasta=\'\'; folio=\'\';" >Limpiar</button>\r\n                            </div>\r\n                            <div class="control">\r\n                                    <label class="label">&nbsp;</label> \r\n                                <button class="button is-medium" (click)="ctrl.listar(1)"><span class="icon"><i class="fa fa-filter"></i></span> <span>Filtrar</span></button>\r\n                            </div> \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class="is-fullwidth has-text-centered" *ngIf="ctrl.cargando">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n\r\n            <div style="overflow: scroll; overflow-x: hidden; height: 650px;">\r\n                <table class="table" *ngIf="!ctrl.cargando" style="min-width:100%; font-size:1em;">\r\n                    <thead>\r\n                        <tr>\r\n                            <th></th>\r\n                            <th></th>\r\n                            <th></th>\r\n                            <th style="text-align:center;"></th>\r\n                            <th></th>\r\n                            <th colspan="2" style="text-align:center;">Aceptados</th>\r\n                            <th class="causes" colspan="2" style="text-align:center;">Ignorados</th>\r\n                            <th></th>\r\n                        </tr>\r\n                        <tr>  \r\n                            <th title="Folio de sincronizaci\xf3n">FOLIO</th>                          \r\n                            <th>CLUES</th>\r\n                            <th>PEDIDO</th>\r\n                            <th>ALMACEN</th>\r\n                            <th>FECHA</th>\r\n                            \r\n                            <th class="aceptados" style="text-align:center;">Recetas</th>\r\n                            <th class="aceptados" style="text-align:center;">Colectivos</th>\r\n                            <th class="ignorados" style="text-align:center;">Recetas</th>\r\n                            <th class="ignorados" style="text-align:center;">Colectivos</th>\r\n\r\n                            <th style="text-align:center;" title="Archivo JSON">JSON</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody *ngIf="!ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.dato; let i=index">\r\n                            <td style="vertical-align: middle;">\r\n                                {{item.id}}\r\n                            </td>\r\n                            <td style="vertical-align: middle;">\r\n                                \x3c!-- {{item.fecha | date}}<br>--\x3e\r\n                                {{item.clues}}\r\n                            </td>\r\n                            <td style="vertical-align: middle;">\r\n                                \x3c!--<strong style="font-size: 14px">{{item.clues}}</strong>\r\n                                <p style="font-size: 12px">{{item.unidad_medica.nombre}}</p>--\x3e\r\n                                {{item.pedido_id}}\r\n                            </td>\r\n                            <td style="vertical-align: middle;">\r\n                                \x3c!--<strong style="font-size: 14px">{{item.folio}}</strong>\r\n                                <p style="font-size: 12px">{{item.descripcion}}</p>--\x3e\r\n                                {{item.almacen_id}}\r\n                            </td>\r\n                            <td>\x3c!--{{item.proveedor.nombre}}--\x3e\r\n                                {{item.fecha_surtimiento}}\r\n                            </td>\r\n                            \r\n                            <td class="aceptados" *ngIf="item.metadatos_sincronizaciones" style="text-align:center; vertical-align: middle;" title="Recetas aceptadas">{{item.metadatos_sincronizaciones.total_recetas}}<a routerLink="/almacen/sincronizar-recetas/editar/{{item.id}}"></a></td>\r\n                            <td *ngIf="!item.metadatos_sincronizaciones" style="text-align:center; vertical-align: middle;" title="No disponible">N/D<a routerLink="/almacen/sincronizar-recetas/editar/{{item.id}}"></a></td>\r\n                            \r\n                            <td class="aceptados" *ngIf="item.metadatos_sincronizaciones" style="text-align:center; vertical-align: middle;" title="Recetas ignoradas">{{item.metadatos_sincronizaciones.total_recetas_repetidas}}</td>\r\n                            <td *ngIf="!item.metadatos_sincronizaciones" style="text-align:center; vertical-align: middle;" title="No disponible">N/D<a routerLink="/almacen/sincronizar-recetas/editar/{{item.id}}"></a></td>\r\n                            \r\n                            <td class="ignorados" *ngIf="item.metadatos_sincronizaciones" style="text-align:center; vertical-align: middle;"  title="Colectivos aceptados">{{item.metadatos_sincronizaciones.total_colectivos}}</td>\r\n                            <td *ngIf="!item.metadatos_sincronizaciones" style="text-align:center; vertical-align: middle;" title="No disponible">N/D<a routerLink="/almacen/sincronizar-recetas/editar/{{item.id}}"></a></td>\r\n                            \r\n                            <td class="ignorados" *ngIf="item.metadatos_sincronizaciones" style="text-align:center; vertical-align: middle;"  title="Colectivos ignorados">{{item.metadatos_sincronizaciones.total_colectivos_repetidos}}</td>\r\n                            <td *ngIf="!item.metadatos_sincronizaciones" style="text-align:center; vertical-align: middle;" title="No disponible">N/D<a routerLink="/almacen/sincronizar-recetas/editar/{{item.id}}"></a></td>\r\n                            \r\n                            \x3c!--\r\n                                <td *ngIf="!item.metadatos_sincronizaciones" style="text-align:center; vertical-align: middle;" title="No disponible">N/D<a routerLink="/almacen/sincronizar-recetas/editar/{{item.id}}"></a></td>\r\n                            --\x3e\r\n                            <td *ngIf="item.metadatos_sincronizaciones" style="text-align:center; vertical-align: middle;" title="N\xfamero de sincronizaciones">\r\n                                <label *ngIf="item.metadatos_sincronizaciones.numero_sincronizaciones==0">{{item.metadatos_sincronizaciones.numero_sincronizaciones}}</label>\r\n                                <a *ngIf="item.metadatos_sincronizaciones.numero_sincronizaciones > 0" routerLink="/farmacia-subrrogada/sincronizar-recetas/lista-sincronizaciones">{{item.metadatos_sincronizaciones.numero_sincronizaciones}} </a>\r\n                            </td>\r\n                            <td style="text-align:center; vertical-align: middle;">\r\n                                <button type="button" class="button" (click)="abrirModal(\'verJSON\', item.json)" >\r\n                                    <span class="icon"><i class="fa fa-eye" aria-hidden="true"></i></span>                                    \r\n                                </button>\r\n                            </td>\r\n                        </tr>\r\n                        <tr *ngIf="ctrl.dato.length == 0">\r\n                            <td colspan="12" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>                    \r\n                        </tr>\r\n                    </tbody>\r\n                    <tbody *ngIf="ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">\r\n                            <td style="vertical-align: middle;">\r\n                                <strong>{{item.folio}}</strong>\r\n                                <br>{{item.descripcion}}<br>\r\n                            </td>\r\n                            <td style="vertical-align: middle;">\r\n                                {{item.clues}}\r\n                            </td>\r\n                            <td style="text-align:center; vertical-align: middle;">\r\n                                {{item.fecha | date}}<br>\r\n                            </td>\r\n                            <td class="aceptados" style="text-align:center; vertical-align: middle;">3<a routerLink="/almacen/sincronizar-recetas/editar/{{item.id}}"></a></td>\r\n                            <td class="aceptados" style="text-align:center; vertical-align: middle;" >10</td>\r\n                            <td class="ignorados" style="text-align:center; vertical-align: middle;" >2</td>\r\n                            <td class="ignorados" style="text-align:center; vertical-align: middle;" >0</td>\r\n                            \x3c!-- \r\n                            <td style="text-align:center; vertical-align: middle;">\r\n                                <button type="button" class="button" (click)="abrirModal(\'sincronizarRecetasJson\', item.id)" >\r\n                                    <span class="icon"><i class="fa fa-upload"></i></span>\r\n                                    <i class="fa fa-file-code-o" aria-hidden="true"></i>\r\n                                </button>\r\n                            </td> --\x3e\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [total]="ctrl.total" [paginasTotales]="ctrl.paginasTotales" [resultadosPorPagina]="ctrl.resultadosPorPagina"\r\n                [paginaActual]="ctrl.paginaActual" [indicePaginas]="ctrl.indicePaginas" (onSiguiente)="ctrl.paginaSiguiente()"\r\n                (onAnterior)="ctrl.paginaAnterior()" (onListar)="ctrl.listar($event)" *ngIf="ctrl.total>0 && ctrl.total > ctrl.resultadosPorPagina && !ctrl.busquedaActivada"></paginacion>\r\n            \x3c!-- Paginaci\xf3n para la b\xfasqueda  --\x3e\r\n            <paginacion [total]="ctrl.totalBusqueda" [paginasTotales]="ctrl.paginasTotalesBusqueda" [resultadosPorPagina]="ctrl.resultadosPorPaginaBusqueda"\r\n                [paginaActual]="ctrl.paginaActualBusqueda" [indicePaginas]="ctrl.indicePaginasBusqueda" (onSiguiente)="ctrl.paginaSiguienteBusqueda(searchBox.value)"\r\n                (onAnterior)="ctrl.paginaAnteriorBusqueda(searchBox.value)" (onListar)="ctrl.listarBusqueda(searchBox.value,$event)"\r\n                *ngIf="ctrl.totalBusqueda > 0 && ctrl.totalBusqueda > ctrl.resultadosPorPaginaBusqueda && ctrl.busquedaActivada"></paginacion>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class="modal" id="verJSON">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card"  style="width:80%; height: 75%; overflow: hidden;">\r\n        <header class="modal-card-head" style="background: #00d1b2;">\r\n                <div class="container is-fluid"  style="width:100%;">\r\n                    <h1 class="title" style="color:#FFF;">\r\n                        <span class="icon is-medium"><i class="fa fa-file-code-o"></i></span> \r\n                        JSON\r\n                    </h1>\r\n                </div>     \r\n            <button class="delete" (click)="cancelarModal(\'verJSON\')"></button>\r\n        </header>\r\n        <section class="modal-card-body">\r\n            <div class="content">\r\n                <figure class="highlight" style="width: 100%; overflow: auto;">\r\n                    <pre>\r\n                        <span class="help is-danger" *ngIf="error_json">El archivo no es valido o no tiene el formato adecuado.</span>\r\n                        <code class="language-json" data-lang="json">{{json_vista | json}}</code>\r\n                    </pre>\r\n                </figure>\r\n            </div>            \r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-success" (click)="cancelarModal(\'verJSON\');">Aceptar</a>\r\n            <a class="button" (click)="cancelarModal(\'verJSON\');">Cancelar</a>\r\n        </footer>\r\n    </div>\r\n</div>'},UxGz:function(e,t){e.exports=""},Vpty:function(e,t){e.exports='<app-menu-receta></app-menu-receta>\r\n<div style="position:relative; padding-top:70px; margin-left: 1.5%; display:block; width:97%; height:100% !important;">    \r\n  <div class="tile is-ancestor is-vertical" style="height:100% !important; max-height:100% !important;">\r\n    <div class="tile">\r\n      <div class="tile is-4 is-parent is-vertical ">\r\n        <div class="tile is-child">\r\n            <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n                <section class="hero is-primary" >\r\n                <h1 class="title" style="margin:0.5em;" >\r\n                    <span class="icon is-medium"><i class="fa fa-file-text"></i></span> {{formularioTitulo}} \r\n                </h1>\r\n                \x3c!--<a class="button is-success" title="Imprimir Excel" (click)="imprimirExcel(); " *ngIf="esEditar">\r\n                    <span class="icon"><i class="fa fa-file-excel-o"></i></span> &nbsp; Descargar receta en Excel\r\n                </a>--\x3e\r\n                </section>\r\n\r\n                <div style="padding: 1em;">\r\n                <form name="form" [formGroup]="datos_receta">\r\n                    \x3c!--<label class="label">Folio:  {{  folio }}</label>--\x3e\r\n                    <label class="label">Fecha:</label>\r\n                    <p class="control is-expanded  has-icon has-icon-right">\r\n                        <input class="input" ngui-datetime-picker  date-only="true" formControlName="fecha" placeholder="aaaa-mm-dd"  readonly />    \r\n\r\n                        <span class="icon is-small" *ngIf="datos_receta.get(\'fecha\').hasError(\'required\') && datos_receta.get(\'fecha\').touched">\r\n                            <i class="fa fa-warning"></i>\r\n                        </span>\r\n                        <span class="help is-danger" *ngIf="datos_receta.get(\'fecha\').hasError(\'required\') && datos_receta.get(\'fecha\').touched">Este campo es requerido.</span>\r\n                    </p>\r\n                   <label class="label">Dr(a)</label>\r\n                    <p class="control is-expanded  has-icon has-icon-right">\r\n                        <input type="text" class="input is-fullwidth" formControlName="personal_name" #personal (keyup)=\'modal_personal(personal.value, 1);\'/>\r\n                        \x3c!--<button type="button" class="button  is-primary">Buscar</button>--\x3e\r\n                        <span class="icon is-small" *ngIf="datos_receta.get(\'personal_name\').hasError(\'required\') && datos_receta.get(\'personal_name\').touched">\r\n                            <i class="fa fa-warning"></i>\r\n                        </span>\r\n                        <span class="help is-danger" *ngIf="datos_receta.get(\'personal_name\').hasError(\'required\') && datos_receta.get(\'personal_name\').touched">Este campo es requerido.</span>\r\n                    </p>\r\n                    <label class="label">Paciente</label>\r\n                    <p class="control is-expanded  has-icon has-icon-right">\r\n                        <input type="text" class="input is-fullwidth"  formControlName="paciente_name" #pacientes (keyup)=\'modal_personal(pacientes.value, 2);\'/>\r\n                        \x3c!--<button type="button" class="button  is-primary">Buscar</button>--\x3e\r\n                       <span class="icon is-small" *ngIf="datos_receta.get(\'paciente_name\').hasError(\'required\') && datos_receta.get(\'paciente_name\').touched">\r\n                            <i class="fa fa-warning"></i>\r\n                        </span>\r\n                        <span class="help is-danger" *ngIf="datos_receta.get(\'paciente_name\').hasError(\'required\') && datos_receta.get(\'paciente_name\').touched">Este campo es requerido.</span>\r\n                    </p>\r\n                    \r\n\r\n                    <div class="control">\r\n                        <textarea name="observaciones" class="textarea" placeholder="Diagnostico" formControlName="diagnostico" ></textarea>\r\n                        <span class="help is-danger" *ngIf="datos_receta.get(\'diagnostico\').hasError(\'required\') && datos_receta.get(\'diagnostico\').touched">Este campo es requerido.</span>\r\n                    </div>\r\n                    \r\n                </form>\r\n                <hr>\r\n\r\n                    <div class="control is-grouped" style="padding-top:10px;" *ngIf="!cargando">\r\n                        <p class="control">\r\n                            <a class="button is-primary " >Guardar</a>\r\n                        </p>\r\n                        <p class="control">\r\n                            <a class="button is-danger " ><span class="icon"><i class="fa fa-check"></i></span><span>Concluir</span></a>\r\n                        </p>\r\n                        <p class="control">\r\n                            <a class="button is-white">Ir a la lista</a>\r\n                        </p>                \r\n                    </div>\r\n                </div>\r\n                \r\n            </div>\r\n            <br>\r\n        </div>\r\n        \r\n        \r\n      </div>\r\n      \x3c!-- --\x3e\r\n      <div class="tile is-parent is-vertical">\r\n          <div class="tile is-child" >\r\n                      <div class="contenedor-receta" >\r\n                      \x3c!--[ngClass]="{\'is-primary\':!pedido.filtro.activo,\'is-dark\': pedido.filtro.activo }"--\x3e\r\n                        <div class="top-bar is-primary">\r\n                            <span>\r\n                                <span>\r\n                                    <small>\r\n                                    Insumos M\xe9dicos\r\n                                    </small>\r\n                                </span>\r\n\r\n                            </span>\r\n                            \x3c!--  [ngClass]="{ \'is-inverted\': receta.filtro.activo }".--\x3e\r\n                            <a class="button is-primary  is-pulled-right" style="margin-top:-0.25em;" title="Ctrl + espacio" (click)="toggleModalInsumos(); ">\r\n                                <span class="icon"><i class="fa fa-plus"></i></span><span>Agregar Clave</span>\r\n                            </a>\r\n                        </div> \r\n\r\n                        <div class="is-fullwidth has-text-centered" *ngIf="guardando">\r\n                            <br>\r\n                            <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-spinner fa-spin"></i></span> &nbsp;<span>Guardando...</span></span>\r\n                            <br>\r\n                            <br>\r\n                        </div>\r\n\r\n                        <div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n                            <br>\r\n                            <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                            <br>\r\n                            <br>\r\n                        </div>\r\n\r\n                        <table class="table is-unselectable" *ngIf="!cargando && !guardando" style="font-size: 0.8em;">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th style="width:41px;vertical-align: middle;" class="has-text-centered" >Clave</th>\r\n                                    <th style="vertical-align: middle;" class="is-hidden-mobile " >Descripcion</th>                  \r\n                                    <th style="width:78px !important;text-align: center; vertical-align: middle;"><abbr title="Medicacion">Medicaci\xf3n</abbr></th>\r\n                                    <th style="width:78px !important;text-align: center; vertical-align: middle;"><abbr title="Cantidad">Cant.</abbr></th>\r\n                                    \r\n                                    <th  style="width:21px !important;"></th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody >\r\n\r\n                                <tr   *ngFor="let item of insumos; let i = index;">\r\n                                    <td class="has-text-centered">{{ item.lote }}</td>\r\n                                    \x3c!--<td class="has-text-centered is-hidden-mobile"><a (click)="mostrarFichaInformativa($event, item.clave)" style="cursor:help;">{{ item.clave }}</a></td>--\x3e            \r\n                                    \r\n                                    <td>\r\n                                        <small class="is-hidden-tablet">{{ item.clave }} <br></small>\r\n                                        <div style="line-height:1em;">\r\n                                        <small>{{ item.descripcion }}</small>\r\n                                        </div>\r\n                                        <div style="padding: 0.5em 0 0.5em 0; ">\r\n                                        <span *ngIf="(item.es_causes && item.tipo == \'ME\')" class="tag is-success" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">CAUSES</span>\r\n                                        <span *ngIf="(!item.es_causes && item.tipo == \'ME\')" class="tag is-danger" style="font-size: 0.7em !important;">NO CAUSES</span>\r\n                                        <span *ngIf="item.tipo == \'MC\'" class="tag is-warning" style="font-size: 0.7em !important;">MATERIAL CURACI\xd3N</span>\r\n                                        <span *ngIf="item.es_cuadro_basico" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">Cuadro b\xe1sico</span>\r\n                                        <span *ngIf="(item.tipo == \'ME\' && item.informacion)">\r\n                                            <span *ngIf="item.informacion.es_controlado" class="tag is-info" style="font-size: 0.7em">Controlado</span>\r\n                                            <span *ngIf="item.informacion.es_surfactante" class="tag is-info" style="font-size: 0.7em">Surfactante</span>  \r\n                                        </span>\r\n                                        </div>\r\n                                    </td>  \r\n                                    \x3c!--<td style="width:78px !important;">\r\n                                        <b>\r\n                                            <abbr>${{item.monto | number:\'1.2-2\'}}</abbr>\r\n                                        </b>\r\n                                    </td>--\x3e\r\n\r\n                                    \r\n                                </tr> \r\n                                <tr *ngIf="insumos.length == 0">\r\n                                    <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>                    \r\n                                </tr>     \r\n                            </tbody>\r\n                                          \r\n                        </table>\r\n                        \r\n                        \x3c!--<paginacion \r\n                                [total]="receta.lista.length" \r\n                                [paginasTotales]="receta.paginacion.totalPaginas" \r\n                                [resultadosPorPagina]="receta.paginacion.resultadosPorPagina" \r\n                                [paginaActual]="receta.paginacion.paginaActual" \r\n                                [indicePaginas]="receta.paginacion.indice"\r\n                                (onSiguiente)="receta.paginaSiguiente()" \r\n                                (onAnterior)="receta.paginaAnterior()" \r\n                                (onListar)="receta.listar($event)" \r\n                                *ngIf="receta.lista.length > 0 && receta.lista.length > receta.paginacion.resultadosPorPagina && !receta.filtro.activo"></paginacion>\r\n                        \r\n                        <paginacion \r\n                                [total]="receta.filtro.lista.length" \r\n                                [paginasTotales]="receta.filtro.paginacion.totalPaginas" \r\n                                [resultadosPorPagina]="receta.filtro.paginacion.resultadosPorPagina" \r\n                                [paginaActual]="receta.filtro.paginacion.paginaActual" \r\n                                [indicePaginas]="receta.filtro.paginacion.indice"\r\n                                (onSiguiente)="receta.filtro.paginaSiguiente()" \r\n                                (onAnterior)="receta.filtro.paginaAnterior()" \r\n                                (onListar)="receta.filtro.listar($event)" \r\n                                *ngIf="receta.filtro.lista.length > 0 && receta.filtro.lista.length > receta.filtro.paginacion.resultadosPorPagina && receta.filtro.activo"></paginacion>--\x3e\r\n                        \r\n                        <br>\r\n                    </div>    \r\n          </div>\r\n        </div>\r\n    \r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div id="modal-temas" class="modal is-active" [ngClass]="{\'is-active\': mostrarBuscadorPersonas}">\r\n  <div class="modal-background"  (click)="showDialog = !mostrarBuscadorPersonas"></div>\r\n  <div class="modal-card" style="width:60%; height: auto;">\r\n    <header class="modal-card-head" style="background-color: #00d1b2" >\r\n      <div class="container is-fluid"  style="width:100%;">\r\n          <h1 class="title" style="color:#FFF;">\r\n            <span class="icon is-medium"><i class="fa fa-user"></i></span> Buscar {{ NombreBuscador }}\r\n          </h1>\r\n      </div>            \r\n      <a class="button  is-primary" style="position:absolute; top:1em; right:1em;" (click)="mostrarBuscadorPersonas = !mostrarBuscadorPersonas"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n    </header>\r\n    <section class="section" style="padding: 0rem 1.5rem;">\r\n        <div>\r\n            <div class="columns">\r\n              <div class="column is-10"  >\r\n                <label class="label" style="color: #FFF">Nombre</label>\r\n                <input class="input is-medium" type="text" [(ngModel)]="buscarPersonal" placeholder="Buscar" #searchBoxPersonal (keyup)="buscar_personal(searchBoxPersonal.value)">\r\n              </div>\r\n              <div class="column is-2">\r\n                <button type="button" class="button is-info" [ngClass]="{\'is-loading\': agregando_personal}" style="margin-top: 35px" [disabled]="agregando_personal" (click)=\'AgregarPersonal(searchBoxPersonal.value)\'>Agregar Nuevo</button>\r\n              </div>\r\n            </div>\r\n            <table class="table">\r\n                <thead>\r\n                    <tr>\r\n                      <th>NOMBRE</th>\r\n                      <th>CLUES</th>\r\n                      <th>UNIDAD</th>\r\n                    </tr>\r\n                </thead>\r\n                \x3c!--  (click) = \'seleccionarPersonal(item)\' --\x3e\r\n                <tbody>\r\n                    <tr *ngFor="let item of personal_medico; let i=index" style="cursor:pointer" (click)=\'obtener_personal(item)\'>\r\n                    <td>{{ item.nombre }}</td>\r\n                    <td>{{ item.clues }}</td>\r\n                    <td *ngIf="item.unidad">{{ item.unidad.nombre }}</td>\r\n                    <td  *ngIf="!item.unidad">SIN UNIDAD</td>\r\n                    </tr>\r\n                   <tr *ngIf="personal_medico.length == 0">\r\n                    <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>                    \r\n                </tr>\r\n                </tbody>\r\n                \r\n            </table>\r\n           \r\n            <div class="is-fullwidth has-text-centered" *ngIf="cargando_personal">\r\n              <br>\r\n              <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n              <br>\r\n              <br>\r\n          </div>\r\n        </div>\r\n\r\n        \r\n    \r\n    </section>\r\n    <footer class="" style="position:relative; padding:1em;background: #FFF; border-top:1px solid #EEE; border-radius:0 0 0.8em 0.8em " >\r\n    </footer>\r\n  </div>\r\n</div>\r\n\r\n\r\n<div id="modal-pacientes" class="modal is-active" [ngClass]="{\'is-active\': mostrarBuscadorPacientes}">\r\n  <div class="modal-background"  (click)="showDialog = !mostrarBuscadorPacientes"></div>\r\n  <div class="modal-card" style="width:60%; height: auto;">\r\n    <header class="modal-card-head" style="background-color: #00d1b2" >\r\n      <div class="container is-fluid"  style="width:100%;">\r\n          <h1 class="title" style="color:#FFF;">\r\n            <span class="icon is-medium"><i class="fa fa-user"></i></span> Buscar {{ NombreBuscador }}\r\n          </h1>\r\n      </div>            \r\n      <a class="button  is-primary" style="position:absolute; top:1em; right:1em;" (click)="mostrarBuscadorPacientes = !mostrarBuscadorPacientes"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n    </header>\r\n    <section class="section" style="padding: 0rem 1.5rem;">\r\n        \r\n        \x3c!-- Pacientes --\x3e\r\n        \r\n            <div class="columns"  *ngIf=\'!form_paciente\'>\r\n              <div class="column is-10"  >\r\n                <label class="label" style="color: #FFF">Nombre</label>\r\n                <input class="input is-medium" type="text" [(ngModel)]="buscarPaciente" placeholder="Buscar" [disabled]="form_paciente" #searchBoxPaciente (keyup)="buscar_paciente(searchBoxPaciente.value)">\r\n              </div>\r\n              <div class="column is-2">\r\n                <button type="button" class="button is-info" [ngClass]="{\'is-loading\': agregando_personal}" style="margin-top: 35px" [disabled]="form_paciente" (click)=\'AgregarPacientes(searchBoxPersonal.value)\'>Agregar Nuevo</button>\r\n              </div>\r\n            </div>\r\n            <table class="table" *ngIf=\'!cargando_personal_pacientes && !form_paciente \' >\r\n                <thead>\r\n                    <tr>\r\n                      <th>NOMBRE</th>\r\n                      <th>FECHA NACIMIENTO</th>\r\n                      <th>UNIDAD</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor="let item of personal_paciente; let i=index" style="cursor:pointer"  (click)=\'obtener_pacientes(item)\'>\r\n                    <td>{{ item.nombre }}</td>\r\n                    <td>{{ item.fecha_nacimiento }}</td>\r\n                   \r\n                    </tr>\r\n                   <tr *ngIf="personal_paciente.length == 0">\r\n                        <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            \r\n            <div *ngIf=\'form_paciente\'>\r\n                <section class="section" style="padding: 1rem 1.5rem; background-color: #EFEFEF">\r\n                <div class="container">\r\n                  <div class="heading">\r\n                    <h1 class="title">Agregar Personal</h1>\r\n                  </div>\r\n                </div>\r\n            </section> \r\n            <form name="form" [formGroup]="datos_paciente"   (ngSubmit)="agregar_paciente()" >    \r\n              <div class="control is-grouped">\r\n                    <p class="control is-expanded  has-icon has-icon-right">\r\n                        <label class="label">Nombre</label>\r\n                      <input class="input" autofocus type="text"  placeholder="Nombre" formControlName="nombre">\r\n                      <span class="icon is-small" *ngIf="datos_paciente.get(\'nombre\').hasError(\'required\') && datos_paciente.get(\'nombre\').touched">\r\n                        <i class="fa fa-warning"></i>\r\n                      </span>\r\n                      <span class="help is-danger" *ngIf="datos_paciente.get(\'nombre\').hasError(\'required\') && datos_paciente.get(\'nombre\').touched">Este campo es requerido.</span>\r\n                    </p>\r\n                    \r\n                  </div>\r\n                  <div class="control is-grouped">\r\n                    <p class="control is-expanded  has-icon has-icon-right">\r\n                        <label class="label">Sexo</label>\r\n                        <span class="select is-fullwidth">\r\n                            <select  formControlName="sexo"  name="sexo">\r\n                                <option value="1" selected="selected">MASCULINO</option>\r\n                                <option value="2">FAMENINO</option>\r\n                            </select>\r\n\r\n                        </span> \r\n                        <span class="icon is-small" *ngIf="datos_paciente.get(\'sexo\').hasError(\'required\') && datos_paciente.get(\'sexo\').touched">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                            <span class="help is-danger" *ngIf="datos_paciente.get(\'sexo\').hasError(\'required\') && datos_paciente.get(\'sexo\').touched">Este campo es requerido.</span>\r\n                    </p>\r\n                    <p class="control is-expanded has-icon has-icon-right">\r\n                    <label class="label">Fecha Nacimiento</label>\r\n                      <input class="input" type="text" placeholder="aaaa-mm-dd" formControlName="fecha_nacimiento">\r\n                      <span class="icon is-small" *ngIf="datos_paciente.get(\'fecha_nacimiento\').hasError(\'required\') && datos_paciente.get(\'fecha_nacimiento\').touched">\r\n                        <i class="fa fa-warning"></i>\r\n                      </span>\r\n                      <span class="help is-danger" *ngIf="datos_paciente.get(\'fecha_nacimiento\').hasError(\'required\') && datos_paciente.get(\'fecha_nacimiento\').touched">Este campo es requerido.</span>\r\n                    </p>\r\n                  </div>\r\n                  \r\n                 <div class="control is-grouped">  \r\n                    \r\n                    <p class="control is-expanded has-icon has-icon-right">\r\n                        <label class="label">No Expediente</label>\r\n                        <input class="input" type="text" placeholder="No Expediente" formControlName="no_expediente">\r\n                        <span class="icon is-small" *ngIf="datos_paciente.get(\'no_expediente\').hasError(\'required\') && datos_paciente.get(\'no_expediente\').touched">\r\n                            <i class="fa fa-warning"></i>\r\n                        </span>\r\n                        <span class="help is-danger" *ngIf="datos_paciente.get(\'no_expediente\').hasError(\'required\') && datos_paciente.get(\'no_expediente\').touched">Este campo es requerido.</span>\r\n                        \r\n                    </p>\r\n                    <p class="control is-expanded has-icon has-icon-right">\r\n                        <label class="label">No Afililaci\xf3n</label>\r\n                        <input class="input" type="text" placeholder="No Afiliaci\xf3n" formControlName="no_afiliacion">\r\n                        <span class="icon is-small" *ngIf="datos_paciente.get(\'no_afiliacion\').hasError(\'required\') && datos_paciente.get(\'no_afiliacion\').touched">\r\n                            <i class="fa fa-warning"></i>\r\n                        </span>\r\n                        <span class="help is-danger" *ngIf="datos_paciente.get(\'no_afiliacion\').hasError(\'required\') && datos_paciente.get(\'no_afiliacion\').touched">Este campo es requerido.</span>\r\n                        \r\n                    </p>\r\n                    \r\n                </div>\r\n                <hr>\r\n                <div class="control is-grouped">\r\n                    <p class="control">\r\n                        <button class="button is-primary" type="submit" [ngClass]="{\'is-loading\': cargando}" [disabled]="datos_paciente.invalid">Guardar</button>\r\n                    </p>\r\n                \r\n                    <p class="control">\r\n                        <a class="button is-white" (click)="regresar()" >Cancelar </a>\r\n                    </p>\r\n                </div>  \r\n              \r\n              \r\n            </form>  \r\n            </div>\r\n            <div class="is-fullwidth has-text-centered" *ngIf="cargando_personal_pacientes">\r\n              <br>\r\n              <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n              <br>\r\n              <br>\r\n          </div>\r\n        \r\n        \x3c!-- Fin pacientes --\x3e  \r\n\r\n       \r\n    \r\n    </section>\r\n    <footer class="" style="position:relative; padding:1em;background: #FFF; border-top:1px solid #EEE; border-radius:0 0 0.8em 0.8em " >\r\n    </footer>\r\n  </div>\r\n</div>\r\n\r\n\r\n<div id="modal-temas" class="modal is-active" [ngClass]="{\'is-active\': mostrarModalInsumos}">\r\n  <div class="modal-background"  (click)="showDialog = !mostrarModalInsumos"></div>\r\n  <div class="modal-card" style="width:60%; height: auto;">\r\n    <header class="modal-card-head" style="background-color: #00d1b2" >\r\n      <div class="container is-fluid"  style="width:100%;">\r\n          <h1 class="title" style="color:#FFF;">\r\n            <span class="icon is-medium"><i class="fa fa-user"></i></span> Buscar {{ NombreBuscador }}\r\n          </h1>\r\n      </div>            \r\n      <a class="button  is-primary" style="position:absolute; top:1em; right:1em;" (click)="mostrarModalInsumos = !mostrarModalInsumos"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n    </header>\r\n    <section class="section" style="padding: 0rem 1.5rem;">\r\n        <div>\r\n            <div class="columns">\r\n              <div class="column is-12"  >\r\n                <label class="label" style="color: #FFF">Nombre</label>\r\n                <input class="input is-medium" type="text" placeholder="Buscar" #searchBoxInsumos (keyup)="buscar_insumos(searchBoxInsumos.value)">\r\n              </div>\r\n              \r\n            </div>\r\n            \r\n            <table class="table"  *ngIf="!cargando_insumos">\r\n                <thead>\r\n                    <tr>\r\n                      <th>CLAVE</th>\r\n                      <th>DESCRIPCI\xd3N</th>\r\n                      <th>EXISTENCIA</th>\r\n                    </tr>\r\n                </thead>\r\n                    <tbody>\r\n                        <tr *ngFor="let item of insumos_busqueda; let i=index" style="cursor:pointer" (click)=\'seleccionar_insumo(item)\'>\r\n                         <td class="has-text-centered">{{ item.clave }}</td>\r\n                            \x3c!--<td class="has-text-centered is-hidden-mobile"><a (click)="mostrarFichaInformativa($event, item.clave)" style="cursor:help;">{{ item.clave }}</a></td>--\x3e            \r\n                            \r\n                            <td>\r\n                                \r\n                                <div style="line-height:1em;">\r\n                                <small>{{ item.descripcion }}</small>\r\n                                </div>\r\n                                <div style="padding: 0.5em 0 0.5em 0; ">\r\n                                <span *ngIf="(item.es_causes && item.tipo == \'ME\')" class="tag is-success" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">CAUSES</span>\r\n                                <span *ngIf="(!item.es_causes && item.tipo == \'ME\')" class="tag is-danger" style="font-size: 0.7em !important;">NO CAUSES</span>\r\n                                <span *ngIf="item.tipo == \'MC\'" class="tag is-warning" style="font-size: 0.7em !important;">MATERIAL CURACI\xd3N</span>\r\n                                <span *ngIf="item.es_cuadro_basico" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">Cuadro b\xe1sico</span>\r\n                                <span *ngIf="(item.tipo == \'ME\' && item.informacion)">\r\n                                    <span *ngIf="item.informacion.es_controlado" class="tag is-info" style="font-size: 0.7em">Controlado</span>\r\n                                    <span *ngIf="item.informacion.es_surfactante" class="tag is-info" style="font-size: 0.7em">Surfactante</span>  \r\n                                </span>\r\n                                <br>\r\n                                \r\n                                </div>\r\n                            </td>\r\n                            <td>\r\n                                {{ item.stockExistencia.existencia }}\r\n                            </td>\r\n                        </tr>\r\n                        \r\n                       <tr *ngIf="insumos_busqueda.length == 0">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>                    \r\n                        </tr>\r\n                        \r\n                    </tbody>\r\n                    \r\n                </table>\r\n                <paginacion \r\n                    [total]="totalBusqueda"\r\n                    [paginasTotales]="paginasTotalesBusqueda" \r\n                    [resultadosPorPagina]="resultadosPorPaginaBusqueda"\r\n                    [paginaActual]="paginaActual"\r\n                    [indicePaginas]="indicePaginasBusqueda"\r\n                    (onSiguiente)="paginaSiguiente(searchBoxInsumos.value)" \r\n                    (onAnterior)="paginaAnterior(searchBoxInsumos.value)" \r\n                    (onListar)="listar(searchBoxInsumos.value, $event)" \r\n                    *ngIf="totalBusqueda > 0 && totalBusqueda > resultadosPorPaginaBusqueda && lista_insumos"> \r\n\r\n                </paginacion>\r\n            <form name="form" [formGroup]="insumo_receta"   (ngSubmit)="agregar_insumos()" >      \r\n                <table class="table" *ngIf="!lista_insumos" >\r\n                    <thead>\r\n                        <th>Cantidad</th>\r\n                        <th>Dosis</th>\r\n                        <th>Frecuencia</th>\r\n                        <th>Duraci\xf3n</th>\r\n                        <th>Cantidad Recetada</th>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr>\r\n                            <td>\r\n                                <input class="input" type="text" placeholder="Dosis"  formControlName="dosis">\r\n                            </td>\r\n                            <td>\r\n                                <input class="input" type="text" placeholder="Frecuencia" formControlName="frecuencia">\r\n                            </td>\r\n                            <td>\r\n                                <input class="input" type="text" placeholder="Duracion" formControlName="duracion">\r\n                            </td>\r\n                            <td>\r\n                                <input class="input" type="text" placeholder="Cantidad Sugerido" formControlName="sugerido" readonly="readonly">\r\n                            </td>\r\n                            <td>\r\n                                <input class="input" type="text" placeholder="Cantidad Recetada" formControlName="cantidad">\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                    <tfoot>\r\n                        <div class="control is-grouped" style="padding-top:10px;">\r\n                            <p class="control">\r\n                                <a class="button is-primary " >Guardar</a>\r\n                            </p>\r\n                            <p class="control">\r\n                                <a class="button is-danger " ><span class="icon"><i class="fa fa-close"></i></span><span>Cancelar</span></a>\r\n                            </p>\r\n                                            \r\n                        </div>\r\n                    </tfoot>\r\n                </table>\r\n                \r\n            \r\n           \r\n\r\n                <div class="is-fullwidth has-text-centered" *ngIf="cargando_insumos">\r\n                  <br>\r\n                  <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                  <br>\r\n                  <br>\r\n                </div>\r\n            \r\n            </form>\r\n\r\n        </div>\r\n    \r\n    </section>\r\n    <footer class="" style="position:relative; padding:1em;background: #FFF; border-top:1px solid #EEE; border-radius:0 0 0.8em 0.8em " >\r\n    </footer>\r\n  </div>\r\n</div>'},WOGE:function(e,t){e.exports=".top-nav { position: fixed; width: 100%;top:0px; z-index:99; background: #00d1b2; }\r\n\r\n\r\nnav {\r\n    background-color:#00d1b2;\r\n    color: #FFF !important;\r\n}\r\n\r\n\r\na.nav-hub-active { background:rgba(0,0,0,0.05);}\r\n\r\n\r\na.nav-hub-active:hover { background:rgba(0,0,0,0.1);}\r\n\r\n\r\nnav a { color: #FFF ; color: rgba(255,255,255,0.9)  !important;}\r\n\r\n\r\nnav a:hover { color: #FFF !important;}\r\n\r\n\r\nnav .title  { color:#FFF;}\r\n\r\n\r\nnav a .title { color:#FFF; color: rgba(255,255,255,0.9)  !important;}\r\n\r\n\r\nnav a:hover .title { color:#FFF !important; }\r\n\r\n\r\n.unidad-trabajo {\r\n\tfont-size: 0.7em;\r\n\ttext-align: right !important;\r\n\tpadding: 1em;\r\n    vertical-align: middle;\r\n    text-shadow: 2px 2px slategrey;\r\n}"},WTnz:function(e,t){e.exports=".unidad-trabajo {\r\n\tfont-size: 0.7em;\r\n\ttext-align: right !important;\r\n\tpadding: 1em;\r\n    vertical-align: middle;\r\n    text-shadow: 2px 2px slategray;\r\n}"},"Wf+u":function(e,t){e.exports=".bulma-select-multiple {\r\n    width:100%; font-size: 1em; border-color: #ddd; border-radius: 0.15em;-webkit-box-shadow: inset 0 1px 2px rgba(10, 10, 10, 0.1);box-shadow: inset 0 1px 2px rgba(10, 10, 10, 0.1);\r\n}\r\n.bulma-select-multiple:focus {\r\n    border-color: #00d1b2;\r\n    outline: none;\r\n}\r\n.bulma-select-multiple.is-warning {\r\n    width:100%; font-size: 1em; border-color: #ffdd57; border-radius: 0.15em;-webkit-box-shadow: inset 0 1px 2px rgba(10, 10, 10, 0.1);box-shadow: inset 0 1px 2px rgba(10, 10, 10, 0.1);\r\n}\r\n.table tr.is-selected {\r\n    background: #00d1b2!important;\r\n    color: white!important;\r\n}\r\n.table tr .icon {\r\n    color: #00d1b2;\r\n}\r\n.table tr.is-selected a .icon {\r\n    color: white!important;\r\n}\r\nform{\r\n    overflow: auto;\r\n}"},X0Ll:function(e,t){e.exports='<listar #ctrl URL="marcas" titulo="Marcas / Catalogo"></listar>\r\n<app-menu-catalogo></app-menu-catalogo>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns" style="padding-top: 1em;">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em">\r\n        <div style="background: #FFF; border-radius: 1em; ">\r\n                    \r\n            \x3c!-- Opciones y busqueda --\x3e\r\n            <tabla-opciones \r\n                #opciones\r\n                [ctrl]="ctrl"\r\n                [nombre]="\'Marcas\'"\r\n                [ruta]="\'marcas\'"\r\n                [ruta_pdf]="\'catalogos-parametros/lista-marcas.js\'"></tabla-opciones>\r\n\r\n            <div style="overflow:auto; display:block" [style.maxHeight.px]="ctrl.tamano-300">\r\n\r\n                <div class="is-fullwidth has-text-centered" *ngIf="opciones.cargandoPdf">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Generando PDF...</span></span>\r\n                    <br>\r\n                    <br>\r\n                </div>\r\n                <table class="table" *ngIf="!ctrl.cargando && !opciones.cargandoPdf">\r\n\r\n                    <thead>\r\n                        <tr>\r\n                            <th><abbr title="Usuario ID">ID</abbr></th>\r\n                            <th>Nombre</th>\r\n                            <th style="text-align:center;">Opciones</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody *ngIf="!ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.dato; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/catalogos-parametros/marcas/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/marcas/editar/{{item.id}}">{{ item.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n                        <tr *ngIf="ctrl.dato.length == 0">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                    <tbody *ngIf="ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/catalogos-parametros/marcas/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/marcas/editar/{{item.id}}">{{ item.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n\r\n                        <tr *ngIf="ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [ctrl]="ctrl"></paginacion>\r\n        </div>\r\n\r\n    </div>\r\n</div>'},X5mc:function(e,t){e.exports='<menu-farmacia [modulo]="\'Entregas\'" [icono]="\'assets/icono-pedidos-alt.svg\'" [url]="\'/almacen/entregas\'"></menu-farmacia>\r\n\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%; ">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n      <menu-lateral></menu-lateral>\r\n    </div>\r\n    <div class="column" style="padding:2em;">\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n            <section class="hero" [ngClass] = " {\'is-dark\': busquedaActivada, \'is-primary\': !busquedaActivada } " >\r\n                \r\n                <div class="hero-body" style="position:relative;">\r\n                    <a class="button  is-dark" *ngIf="busquedaActivada" style="position:absolute; top:1em; right:1em;" (click)="busquedaActivada=false;searchBox.value=\'\';resultadosBusqueda=[]"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n                    <a class="button  is-dark" *ngIf="busquedaActivada" style="position:absolute; top:1em; right:3.5em;" (click)="listarBusqueda(searchBox.value,1)"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                    <a class="button  is-primary" *ngIf="!busquedaActivada" style="position:absolute; top:1em; right:1em;" (click)="listar(1)"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                    <div class="container is-fluid">\r\n                        \r\n                        <h1 class="title" *ngIf="!busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-history"></i></span> {{ titulo }}\r\n                        </h1>\r\n                        <h1 class="title" *ngIf="busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-search"></i></span> B\xfasqueda \r\n                        </h1>\r\n                        <p class="control is-expanded">\r\n                            <input class="input is-medium" type="text" placeholder="Buscar" #searchBox id="search-box" (keyup)="buscar(searchBox.value)">\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n        \r\n            <table class="table" *ngIf="!cargando">\r\n                <thead>\r\n                    <tr>\r\n                    <th>Folio</th>\r\n                    <th><abbr title="N\xfamero del pedido">Pedido</abbr></th>\r\n                    <th>Almacen solicitante:</th>\r\n                    <th>Fecha</th>\r\n                    <th>Hora</th>\r\n                    <th style="text-align:center;"></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody  *ngIf="!busquedaActivada">\r\n                    <tr *ngFor="let item of pedidos; let i=index">                       \r\n                        <th style="vertical-align: middle;"><a routerLink="/almacen/entregas/ver/{{item.id}}">{{ item.id }}</a></th>\r\n                        <th style="vertical-align: middle;"><a routerLink="/almacen/entregas/ver/{{item.id}}">{{ item.movimiento_pedido.pedido_id }}</a></th>\r\n                        <td style="vertical-align: middle;"><a routerLink="/almacen/entregas/ver/{{item.id}}">{{ item.movimiento_pedido.pedido.almacen_solicitante.nombre}}</a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/almacen/entregas/ver/{{item.id}}">{{ item.created_at | date:\'dd/MM/y\' }}</a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/almacen/entregas/ver/{{item.id}}">{{ item.created_at | date: \'HH:mm\'}}</a></td>\r\n                        <td></td>                        \r\n                    </tr>\r\n                    <tr *ngIf="pedidos.length == 0">\r\n                        <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n                <tbody *ngIf="busquedaActivada">\r\n                    <tr *ngFor="let item of resultadosBusqueda; let i=index">\r\n                    <th style="vertical-align: middle;"><a routerLink="/almacen/entregas/surtir/{{item.id}}">{{ item.id }}</a></th>\r\n                        <th style="vertical-align: middle;"><a routerLink="/almacen/entregas/ver/{{item.id}}">{{ item.id }}</a></th>\r\n                        <th style="vertical-align: middle;"><a routerLink="/almacen/entregas/ver/{{item.id}}">{{ item.movimiento_pedido.pedido_id }}</a></th>\r\n                        <td style="vertical-align: middle;"><a routerLink="/almacen/entregas/ver/{{item.id}}">{{ item.movimiento_pedido.pedido.almacen_solicitante.nombre}}</a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/almacen/entregas/ver/{{item.id}}">{{ item.created_at | date:\'dd/MM/y\' }}</a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/almacen/entregas/ver/{{item.id}}">{{ item.created_at | date: \'HH:mm\'}}</a></td>\r\n                        <td></td>                   \r\n                    </tr>\r\n\r\n                    <tr *ngIf="resultadosBusqueda.length == 0 && busquedaActivada">\r\n                        <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion \r\n                [total]="total" \r\n                [paginasTotales]="paginasTotales" \r\n                [resultadosPorPagina]="resultadosPorPagina" \r\n                [paginaActual]="paginaActual" \r\n                [indicePaginas]="indicePaginas"\r\n                (onSiguiente)="paginaSiguiente()" \r\n                (onAnterior)="paginaAnterior()" \r\n                (onListar)="listar($event)" \r\n                *ngIf="total>0 && total > resultadosPorPagina && !busquedaActivada"></paginacion>\r\n            \x3c!-- Paginaci\xf3n para la b\xfasqueda  --\x3e\r\n            <paginacion \r\n                [total]="totalBusqueda" \r\n                [paginasTotales]="paginasTotalesBusqueda" \r\n                [resultadosPorPagina]="resultadosPorPaginaBusqueda" \r\n                [paginaActual]="paginaActualBusqueda" \r\n                [indicePaginas]="indicePaginasBusqueda"\r\n                (onSiguiente)="paginaSiguienteBusqueda(searchBox.value)" \r\n                (onAnterior)="paginaAnteriorBusqueda(searchBox.value)" \r\n                (onListar)="listarBusqueda(searchBox.value,$event)" \r\n                *ngIf="totalBusqueda > 0 && totalBusqueda > resultadosPorPaginaBusqueda && busquedaActivada"></paginacion>\r\n           \r\n          \r\n            \r\n        </div>\r\n        \r\n    </div>\r\n</div>\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style="text-align:center" ><a  class="button is-danger is-inverted" (click)="ultimaPeticion(); mensajeError.mostrar = false"> <span class="icon"><i class="fa fa-refresh"></i></span> <span>Volver a intentar</span></a></p>        \r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>'},X9f8:function(e,t){e.exports='<menu-farmacia [modulo]="\'Transfer\'" [icono]="\'assets/icono-pedidos.svg\'" [url]="\'/almacen/transferencia-almacen\'"></menu-farmacia>\r\n\r\n\r\n\r\n<div class="is-fullwidth has-text-centered" style="padding-top:70px;" *ngIf="cargando">\r\n  <br>\r\n  <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n  <br>\r\n  <br>\r\n</div>\r\n\r\n<div style="position:relative; padding-top:70px; margin-left: 1.5%; display:block; width:97%; height:100% !important;" >    \r\n  <div *ngIf="almacenDelUsuario.tipo_almacen == \'ALMPAL\'" class="tile is-ancestor is-vertical" style="height:100% !important; max-height:100% !important;">\r\n    <div class="tile is-parent is-12 ">\r\n      <div class="tile is-child notification is-white">\r\n        <div class="columns">\r\n          <div class="column">              \r\n              <label class="label">Elegir unidad m\xe9dica:</label>\r\n              <p class="control is-expanded" [ngClass]="{ \'is-loading\':  cargandoUnidadesMedicas}">\r\n                  <span class="select is-fullwidth">\r\n                      <select (change)="seleccionarClues($event.target.value)" [(ngModel)]="datosPedido.clues_destino" [ngClass]="{\'is-danger\': errores.clues_destino != null}">\r\n                          <option value="-1">Elige una unidad m\xe9dica</option>\r\n                          <option *ngFor="let um of unidadesMedicas" value="{{ um.clues }}" [selected]="false">{{ um.clues }} {{ um.nombre}}</option>\r\n                      </select>\r\n\t\t\t\t  </span>\r\n\t\t\t\t  <span class="help is-danger" *ngIf="errores.clues_destino == \'required\'">Este campo es requerido.</span>\r\n              </p>\r\n          </div>\r\n          <div class="column">\r\n            <label class="label">Almac\xe9n de la unidad:</label>\r\n            <div class="control is-expanded" [ngClass]="{ \'is-loading\':  cargandoAlmacenes}" >\r\n              <div *ngIf="!cluesSinAlmacenes" class="select is-fullwidth" >\r\n                <select   [(ngModel)]="datosPedido.almacen_solicitante"  [ngClass]="{\'is-danger\': errores.almacen_solicitante != null}">                          \r\n                  <option *ngFor="let almacen of almacenes" value="{{ almacen.id }}" [selected]="false">{{ almacen.nombre }}</option>\r\n                </select>\r\n              </div>\r\n              <span class="help is-danger" *ngIf="errores.almacen_solicitante == \'required\'">Este campo es requerido.</span>\r\n              <span class="help is-danger" *ngIf="cluesSinAlmacenes">La unidad seleccionada, no tiene almacenes asignados.</span>\r\n\t\t\t\t    </div>\r\n          </div>\r\n          <div class="column">\r\n              <label class="label">Nombre de la transferencia:</label>\r\n              <p class="control is-expanded  has-icon has-icon-right">\r\n                  <input type="text" class="input is-fullwidth" [ngClass]="{ \'is-danger\': errores.descripcion != null}" [(ngModel)]="datosPedido.descripcion" placeholder="Ej. Transferencia por desabasto" />\r\n                  <span class="icon is-small" *ngIf="errores.descripcion != null">\r\n                      <i class="fa fa-warning"></i>\r\n                  </span>\r\n                  <span class="help is-danger" *ngIf="errores.descripcion == \'required\'">Este campo es requerido.</span>\r\n              </p>\r\n          </div>\r\n          <div class="column">\r\n              <label class="label">Fecha:</label>\r\n              <p class="control is-expanded  ">\r\n                  <input type="date" class="input is-fullwidth" [ngClass]="{ \'is-danger\': errores.fecha != null}" [value]=" datosPedido.fecha | date: \'yyyy-MM-dd\'" (input)="datosPedido.fecha = $event.target.valueAsDate" />                  \r\n                  <span class="help is-danger" *ngIf="errores.fecha == \'required\'">Este campo es requerido.</span>\r\n              </p>\r\n          </div>\r\n        </div>\r\n        <div class="columns">\r\n            <div class="column is-one-third">\r\n                <div class="control">\r\n\t\t\t\t\t<textarea name="observaciones" [ngClass]="{ \'is-danger\': errores.observaciones != null}"   [(ngModel)]="datosPedido.observaciones" rows="2" class="textarea" placeholder="Observaciones" style="min-height:3em"></textarea>\r\n\t\t\t\t\t<span class="help is-danger" *ngIf="errores.observaciones == \'required\'">Este campo es requerido.</span>\r\n                </div>\r\n\r\n            </div>\r\n            <div class="column">\r\n\t\t\t\t<div style="margin-left:1em;margin-right:1em;">\r\n\t\t\t\t\t<a  class="button is-primary is-medium" style="width:30%; " (click)="finalizar()" [ngClass]="{ \'is-disabled\' : guardando }"> <span class="icon"><i class="fa fa-check-circle"></i></span> <span>Finalizar</span></a>\r\n\t\t\t\t\t<a  class="button is-primary is-outlined is-medium" style="width:30%; margin-right:4%; margin-left:4%;" [ngClass]="{ \'is-loading\' : guardando }" (click)="guardar()"> <span class="icon"><i class="fa fa-save"></i></span> <span>Guardar</span></a>\r\n\t\t\t\t\t<a  class="button is-white is-medium"  style="width:30%"  routerLink="/almacen/transferencia-almacen/" [ngClass]="{ \'is-disabled\' : guardando }"> Cancelar</a>\r\n\t\t\t\t</div>\r\n            </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class="tile">\r\n      <div class="tile is-parent ">\r\n        <div class="tile is-child notification is-white" >\r\n          <div class="contenedor-tabla" >\r\n            <table class="table is-unselectable" *ngIf="!cargando" style="font-size: 0.8em; margin:0px !important">\r\n              <thead>\r\n                  <tr  [ngClass]="{ \'filtro\': pedido.filtro.activo}">\r\n                    <th style="width:41px;vertical-align: middle;" class="has-text-centered" >Lote</th>\r\n                    <th>\r\n                      <p class="control is-expanded">\r\n                        <input type="hidden" #searchBoxDescripcionClavePrevia >\r\n                        <input class="input is-small" type="text" placeholder="Clave o descripci\xf3n" #searchBoxDescripcionClave id="search-box-descripcion-clave-{{indexPedido}}" (keyup)="buscar($event,searchBoxDescripcionClave,searchBoxDescripcionClavePrevia,[{ input: searchBoxDescripcionClave, campos: [\'clave\',\'descripcion\',\'informacion.concentracion\',\'informacion.presentacion\']}])">\r\n                      </p>\r\n                    </th>  \r\n                    <th style="width:78px !important;text-align: center; vertical-align: middle;"><abbr title="Cantidad">Cant.</abbr></th>                    \r\n                    <th width="1">\r\n                      <a  class="button is-primary is-small" (click)="mostrarModalInsumos = true" [ngClass]="{ \'is-disabled\' : guardando }"> <span class="icon"><i class="fa fa-plus"></i></span></a>\r\n                    </th>\r\n                  </tr>\r\n              </thead>\r\n              <tbody *ngIf="!pedido.filtro.activo">\r\n                <tr class="item" *ngFor="let item of pedido.paginacion.lista; let i = index;" (click)="seleccionarItem(item)" [ngClass]="{ \'seleccionado\': item == itemSeleccionado}">\r\n                  <td class="has-text-centered">{{ item.lote   }}</td>\r\n                  <td >\r\n                    <small >{{ item.clave }} <span *ngIf="(item.tipo == \'ME\' && item.informacion)"><b>{{ item.informacion.concentracion }}</b></span> <br></small>\r\n                    \r\n                    <div class="item-detalle">\r\n                      <div   *ngIf="(item.tipo == \'ME\' && item.informacion)" style="line-height:1em;">\r\n                        <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                        <small><i>{{ item.informacion.contenido }} </i></small>\r\n                      </div>\r\n                      <div  style="line-height:1em;">\r\n                        <small>{{ item.descripcion }}</small>\r\n                      </div>\r\n                    \r\n                      <div  style="padding: 0.5em 0 0.5em 0; ">\r\n                        <span *ngIf="item.es_causes && item.tipo == \'ME\'" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">CAUSES</span>\r\n                        <span *ngIf="!item.es_causes && item.tipo == \'ME\'" class="tag is-danger" style="font-size: 0.7em !important;">NO CAUSES</span>\r\n                        <span *ngIf="item.tipo == \'MC\'" class="tag is-warning" style="font-size: 0.7em !important;">MATERIAL DE CURACI\xd3N</span>\r\n                        <span *ngIf="item.es_cuadro_basico" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">Cuadro b\xe1sico</span>\r\n                        \r\n                        <span *ngIf="(item.tipo == \'ME\' && item.informacion)">\r\n                          <span *ngIf="item.informacion.es_controlado" class="tag is-warning" style="font-size: 0.7em">Controlado</span>\r\n                          <span *ngIf="item.informacion.es_surfactante" class="tag is-warning" style="font-size: 0.7em">Surfactante</span>  \r\n                        </span>\r\n                        \r\n                      </div>\r\n                    </div>\r\n                  </td> \r\n                  <td style="width:78px !important; text-align:center;">{{ item.cantidad || 0 }}</td>     \r\n                  <td style="vertical-align: middle;" class="has-text-centered"><a  class="is-danger" (click)="eliminarInsumo(i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n                </tr>      \r\n              </tbody>\r\n              <tbody *ngIf="pedido.filtro.activo">\r\n                <tr class="item"  *ngFor="let item of pedido.filtro.paginacion.lista; let i = index;" (click)="seleccionarItem(item)" [ngClass]="{ \'seleccionado\': item == itemSeleccionado}">\r\n                  <td class="has-text-centered">{{ item.lote  }}</td>\r\n                  <td >\r\n                    <small >{{ item.clave }} <span *ngIf="(item.tipo == \'ME\' && item.informacion)"><b>{{ item.informacion.concentracion }}</b></span> <br></small>\r\n                    <div class="item-detalle">\r\n                      <div   *ngIf="(item.tipo == \'ME\' && item.informacion)" style="line-height:1em;">\r\n                      <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                      <small><i>{{ item.informacion.contenido }} </i></small>\r\n                      </div>\r\n                      <div  style="line-height:1em;">\r\n                      <small>{{ item.descripcion }}</small>\r\n                      </div>\r\n                    \r\n                      <div  style="padding: 0.5em 0 0.5em 0; ">\r\n                      <span *ngIf="item.es_causes" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">CAUSES</span>\r\n                      <span *ngIf="!item.es_causes" class="tag is-danger" style="font-size: 0.7em !important;">NO CAUSES</span>\r\n                      <span *ngIf="item.es_cuadro_basico" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">Cuadro b\xe1sico</span>\r\n                      \r\n                      <span *ngIf="(item.tipo == \'ME\' && item.informacion)">\r\n                        <span *ngIf="item.informacion.es_controlado" class="tag is-warning" style="font-size: 0.7em">Controlado</span>\r\n                        <span *ngIf="item.informacion.es_surfactante" class="tag is-warning" style="font-size: 0.7em">Surfactante</span>  \r\n                      </span>\r\n                      \r\n                      </div>\r\n                    </div>\r\n                  </td> \r\n                  <td style="width:78px !important; text-align:center;">{{ item.cantidad }}</td>   \r\n                  <td style="vertical-align: middle;" class="has-text-centered"><a  class="is-danger" (click)="eliminarInsumo(i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n                </tr>   \r\n              </tbody>              \r\n            </table>\r\n            <span class="help is-danger" style="padding:0 0.5em" *ngIf="errores.insumos == \'required\'">La lista de insumos est\xe1 vac\xeda, por favor agregue al menos 1 insumo.</span>\r\n            <paginacion style=" width:100%; height:auto; bottom:0; left:0px; background:#FFF;"\r\n                [total]="pedido.lista.length" \r\n                [paginasTotales]="pedido.paginacion.totalPaginas" \r\n                [resultadosPorPagina]="pedido.paginacion.resultadosPorPagina" \r\n                [paginaActual]="pedido.paginacion.paginaActual" \r\n                [indicePaginas]="pedido.paginacion.indice"\r\n                (onSiguiente)="pedido.paginaSiguiente(); limpiarStock();" \r\n                (onAnterior)="pedido.paginaAnterior(); limpiarStock();" \r\n                (onListar)="pedido.listar($event);limpiarStock();" \r\n                *ngIf="pedido.lista.length > 0 && pedido.lista.length > pedido.paginacion.resultadosPorPagina && !pedido.filtro.activo"></paginacion>\r\n\r\n            <paginacion \r\n                [total]="pedido.filtro.lista.length" \r\n                [paginasTotales]="pedido.filtro.paginacion.totalPaginas" \r\n                [resultadosPorPagina]="pedido.filtro.paginacion.resultadosPorPagina" \r\n                [paginaActual]="pedido.filtro.paginacion.paginaActual" \r\n                [indicePaginas]="pedido.filtro.paginacion.indice"\r\n                (onSiguiente)="pedido.filtro.paginaSiguiente(); limpiarStock();" \r\n                (onAnterior)="pedido.filtro.paginaAnterior();  limpiarStock();" \r\n                (onListar)="pedido.filtro.listar($event); limpiarStock();" \r\n                *ngIf="pedido.filtro.lista.length > 0 && pedido.filtro.lista.length > pedido.filtro.paginacion.resultadosPorPagina && pedido.filtro.activo"></paginacion>\r\n\r\n\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="tile is-parent is-vertical ">\r\n        <div class="tile is-child notification" style="background:#CCC;">\r\n          <div class="contenedor-tabla">\r\n            <table class="table" *ngIf="!cargando" style="font-size: 0.8em;" >\r\n              <thead>\r\n                <tr>\r\n                  <td colspan="6">\r\n                    <h1 class="subtitle"><span class="icon"><i class="fa fa-archive"></i></span> Lotes</h1>\r\n                  </td>\r\n                </tr>\r\n                \x3c!--tr>\r\n                  <td colspan="6">\r\n                    <h1 class="subtitle"><span class="icon"><i class="fa fa-archive"></i></span> Existencias <small>( Ctrl + Barra espaciadora)</small></h1>\r\n                  </td>\r\n                </tr>\r\n                <tr>\r\n                  <td colspan="6">\r\n                    <p class="control">\r\n                      <input class="input" type="text" placeholder="C\xf3digo" #searchBoxStock (keyup)="buscarStock($event, searchBoxStock , searchBoxStock.value)" (focus)="searchBoxStock.select()" >\r\n                    </p>\r\n                  </td>\r\n                </tr--\x3e\r\n                <tr>\r\n                  <th>C\xf3digo</th>\r\n                  <th>Lote</th>\r\n                  <th>Caducidad</th>\r\n                  <th><abbr title="Cantidad">Cant.</abbr></th>                \r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                  <tr  class="is-unselectable item" *ngFor="let item of listaStock" (click)="asignarStock(item)" [ngClass]="{ \'asignado\': item.asignado }">\r\n                    <td>{{ item.codigo_barras != null ? item.codigo_barras : \'-\' }}</td>\r\n                    <td>{{ item.lote }}</td>\r\n                    <td>{{ item.fecha_caducidad | date:\'dd/MM/y\' }}</td>\r\n                    <td style="width:78px !important;">{{ item.existencia }}</td>   \r\n                  </tr>  \r\n                  <tr *ngIf="listaStock == 0 && itemSeleccionado == null && !cargando" >\r\n                    <td colspan="6">Sin resultados.</td>\r\n                  </tr> \r\n                  <tr *ngIf="listaStock == 0 && itemSeleccionado != null && !cargando ">\r\n                    <td colspan="6">No hay stock.</td>\r\n                  </tr>                    \r\n              </tbody>  \r\n            </table>\r\n            <div class="is-fullwidth has-text-centered" style="padding-top:0px;" *ngIf="cargandoStock">\r\n              <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n              <br>\r\n              <br>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class="tile is-child  notification is-white">\r\n          <div class="contenedor-tabla">\r\n            <table class="table" *ngIf="!cargando && itemSeleccionado != null" style="font-size: 0.8em;" >\r\n              <thead>\r\n                  <tr style="background: #00d1b2;">\r\n                    <th style="color:#FFF !important;">C\xf3digo</th>\r\n                    <th style="color:#FFF !important;">Lote</th>\r\n                    <th style="color:#FFF !important;">Caducidad</th>\r\n                    <th style="color:#FFF !important;"><abbr title="Cantidad">Cant.</abbr></th>  \r\n                    <th></th>              \r\n                  </tr>\r\n              </thead>\r\n              <tfoot>\r\n                <tr>\r\n                  <th colspan="4" style="text-align:right">\r\n                    <span>Total </span>\r\n                  </th>\r\n                  <td style="text-align:center">{{ itemSeleccionado.totalStockAsignado || 0 }}</td>\r\n                </tr>\r\n              </tfoot>\r\n              <tbody>\r\n                  <tr  class="is-unselectable" *ngFor="let item of itemSeleccionado.listaStockAsignado">\r\n                                      \r\n                    <td>{{ item.codigo_barras}}</td>\r\n                    <td>{{ item.lote }}</td>\r\n                    <td>{{ item.fecha_caducidad | date:\'dd/MM/y\' }}</td>\r\n                    <td style="width:78px !important;">\r\n                        <p class="control is-expanded">\r\n                        <input class="input is-small has-text-centered"  type="number" min="1" max="{{item.existencia}}" placeholder="Cant" [(ngModel)]="item.cantidad" (change)="validarItemStock(item, true)" (keyup)="validarItemStock(item)">\r\n                        </p>\r\n                    </td> \r\n                    <td style="vertical-align: middle;" class="has-text-centered"><a  class="is-danger" (click)="eliminarStock(item)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>                    \r\n                  </tr>\r\n              </tbody>  \r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<buscar-insumos \r\n    *ngIf="mostrarModalInsumos" \r\n    (onCerrar)="mostrarModalInsumos = false" \r\n    (onEnviar)="agregarItem($event)" \r\n    [listaAgregadosConStock]="listaLotesAgregados"\r\n    [conPrecios]="true"\r\n    [conClues]="false"\r\n    [conStock]="true"\r\n    >\r\n</buscar-insumos>\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>    \r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n\r\n\r\n'},XGOn:function(e,t){e.exports=""},XQAG:function(e,t){e.exports='<menu-medicos [modulo]="\'Recetas\'" [icono]="\'assets/hub-medicos.svg\'" [url]="\'/medicos/recetas\'" class="web"></menu-medicos>\r\n<div style="overflow-y:auto; overflow-x: hidden; width:100%; height:100%;" class="web">\r\n<div class="is-fullwidth has-text-centered" *ngIf="cargando" style="height:75%;"> \x3c!-- 75/100% height --\x3e\r\n  <br><br><br><br><br><br><br>\r\n  <span class="tag is-primary is-large">\r\n      <span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span>\r\n  </span>\r\n</div>\r\n  <div class="columns" *ngIf="!cargando && receta != null">\r\n      <div class="column is-one-third">\r\n          <div style="height:60px;"></div>\r\n          <div style="background: #FFF; border-radius: 1em; overflow:hidden; margin:0.75rem" >\r\n              <section class="hero is-primary">                \r\n                  <h1  class="title" style="margin:0.5em; ">\r\n                      <span class="icon is-medium">\r\n                          <i class="fa fa-file-text"></i>\r\n                      </span> Folio {{receta.id}}\r\n                  </h1>               \r\n              </section>               \r\n              <div  style="margin:1rem">\r\n                  <table class="table">\r\n                    <tbody>\r\n                      <tr>\r\n                        <th><small>Tipo de receta</small></th>\r\n                        <td>{{ receta.tipo_receta_id == \'1\'  ? "Normal" : "Controlado" }}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <th><small>Fecha</small></th>\r\n                        <td>{{ receta.fecha_receta | date: \'mediumDate\' }}</td>\r\n                      </tr>\r\n                      <tr>\r\n                          <th><small>Paciente</small></th>\r\n                          <td>\r\n                            {{ receta.paciente.nombre }}<br>\r\n                            <small>{{ receta.paciente.sexo == \'1\'? \'Hombre\': \'Mujer\'}} {{ receta.paciente.edad}} a\xf1os</small>\r\n                          </td>\r\n                      </tr>\r\n                      \r\n                      <tr>\r\n                          <th><small>M\xe9dico</small></th>\r\n                          <td>{{ receta.personal_medico.nombre }}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td colspan="2">\r\n                          <strong><small>Diagn\xf3stico</small></strong><br>\r\n                          {{receta.diagnostico}}\r\n                        </td>\r\n                      </tr>\r\n                      <tr>\r\n                          <th><small>Creada el</small></th>\r\n                          <td><small>{{ receta.updated_at | date: \'medium\' }}</small></td>\r\n                        </tr>\r\n                    </tbody>\r\n                  </table>  \r\n              </div>\r\n          </div>\r\n      </div>\r\n      <div class="column" >\r\n          <div style="height:60px;"></div>\r\n          <div style="background: #FFF; border-radius: 1em; overflow:hidden; margin:0.75rem" >\r\n              <section class="hero is-primary" >           \r\n                  <nav class="level" style="margin:1em; ">\r\n                      <div class="level-left">\r\n                          <h1 class="title" >\r\n                              <span class="icon is-medium"><i class="fa fa-file-text"></i></span> Detalles\r\n                          </h1>\r\n                      </div>\r\n                      \x3c!-- Right side --\x3e\r\n                      <div class="level-right">\r\n                          <p class="level-item"><a class="button is-primary" routerLink="/medicos/recetas">Regresar</a></p>\r\n                          <p class="level-item"><a class="button is-primary" routerLink="/medicos/recetas/nuevo"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;<span>Nueva receta</span></a></p>\r\n                          <p class="level-item"><a class="button is-primary" (click)="imprimir()"><span class="icon"><i class="fa fa-print"></i></span></a></p>                                                       \r\n                          <p class="level-item">&nbsp;</p>\r\n                      </div>\r\n                  </nav>     \r\n              </section>               \r\n            \r\n              <table class="table" style="font-size:0.8em;">\r\n                <thead>\r\n                  <tr>\r\n                    <th>Clave</th>\r\n                    <th>Descripcion</th>\r\n                    <th style="text-align:center">Dosis</th>\r\n                    <th style="text-align:center">Cantidad (envase)</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr *ngFor="let item of receta.receta_digital_detalles">\r\n                    <td>{{ item.clave_insumo_medico}}</td>\r\n                    <td>\r\n                      {{ item.insumo.descripcion}}                        \r\n                    </td>\r\n                    <td>{{ item.dosis}} cada {{ item.frecuencia }} hrs durante {{ item.duracion}} dias</td>\r\n                    <td style="text-align:center">{{ item.cantidad}}</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>  \r\n          </div>\r\n      </div>\r\n  </div>\r\n</div>\r\n\r\n<div class="printable" *ngIf="!cargando && receta != null">\r\n    \r\n  <p style="text-align:center">\r\n    Secretar\xeda de Salud<br>\r\n    Instituto de Salud<br>\r\n    {{ receta.unidad_medica.nombre }}<br>\r\n    {{ receta.personal_medico.nombre }}\r\n  </p>\r\n  <br>\r\n  <table  style="width:100%; border: 1px solid black; ">\r\n      <tr >\r\n        <td style="text-align:left;padding:0.5em;" > \r\n          Paciente: {{ receta.paciente.nombre }}<br>\r\n          Edad: {{receta.paciente.edad}} Sexo: {{ receta.paciente.sexo == 1 ? "Hombre" : "Mujer"}}\r\n        </td>\r\n        <td style="padding:0.5em;">Folio: {{ receta.id}}<br>Fecha: {{ receta.fecha_receta}}</td>\r\n      </tr>\r\n  </table>\r\n  <br>\r\n  <p>\r\n    Diagn\xf3stico: <br>\r\n    {{ receta.diagnostico}}\r\n  </p> \r\n  <br> \r\n  <table  style="width:100%">\r\n      <tr style="border-bottom:1px solid black">\r\n        <td></td>\r\n        <td>Medicamento(s)</td>\r\n        <td style="text-align:center">Cant. (envase)</td>\r\n      </tr>\r\n      <tr *ngFor="let item of receta.receta_digital_detalles; let i = index">\r\n        <td>{{ i + 1}}</td>\r\n        <td>\r\n          {{ item.insumo.descripcion}}    <br>                    \r\n          Clave: {{ item.clave_insumo_medico}}<br>\r\n          Indicaciones: <br>\r\n          {{ item.dosis}} cada {{ item.frecuencia }} hrs durante {{ item.duracion}} dias\r\n\r\n        </td>\r\n        <td style="text-align:center">{{ item.cantidad}}</td>\r\n      </tr>\r\n  </table>\r\n  <br><br><br><br>\r\n  <table style="width:100%;">\r\n      <tr >\r\n          <td></td>\r\n          <td style=" width:50%; text-align:center;border-top:1px solid black">Firma</td>\r\n          <td></td>\r\n      </tr>\r\n  </table>\r\n</div>'},"Y0+g":function(e,t){e.exports=""},Y2iU:function(e,t){e.exports=""},YBXS:function(e,t){e.exports='<panel-control-menu></panel-control-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%; ">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding:2em; overflow:auto;">\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n            <section class="hero" [ngClass] = " {\'is-dark\': busquedaActivada, \'is-primary\': !busquedaActivada } " >\r\n                \r\n                <div class="hero-body" style="position:relative;">\r\n                    <a class="button  is-dark" *ngIf="busquedaActivada" style="position:absolute; top:1em; right:1em;" (click)="busquedaActivada=false;searchBox.value=\'\';resultadosBusqueda=[]"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n                    <a class="button  is-dark" *ngIf="busquedaActivada" style="position:absolute; top:1em; right:3.5em;" (click)="listarBusqueda(searchBox.value,1)"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                    <a class="button  is-primary" *ngIf="!busquedaActivada" style="position:absolute; top:1em; right:1em;" (click)="listar(1)"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                    <div class="container is-fluid">\r\n                        \r\n                        <h1 class="title" *ngIf="!busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-user"></i></span> Usuarios\r\n                        </h1>\r\n                        <h1 class="title" *ngIf="busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-search"></i></span> B\xfasqueda \r\n                        </h1>\r\n                        <div class="control is-grouped">\r\n                        <p class="control is-expanded">\r\n                            <input class="input is-medium" type="text" placeholder="Buscar" #searchBox id="search-box" (keyup)="buscar(searchBox.value)">\r\n                        </p>\r\n                        <p class="control">\r\n                            <a class="button is-medium is-primary is-inverted " routerLink="/panel-control/usuarios/nuevo">\r\n                            <span class="icon"><i class="fa fa-plus"></i></span><span>Nuevo</span>\r\n                            </a>\r\n                        </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n            <div style="overflow:auto; display:block" [style.maxHeight.px]="tamano-320">\r\n                <table class="table" *ngIf="!cargando">\r\n                    <thead>\r\n                        <tr>\r\n                        <th></th>\r\n                        <th><abbr title="Usuario ID">ID</abbr></th>\r\n                        <th>Nombre</th>\r\n                        <th>Servidor</th>\r\n                        <th style="text-align:center;">Opciones</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody  *ngIf="!busquedaActivada">\r\n                        <tr *ngFor="let item of usuarios; let i=index">\r\n                            <th><a routerLink="/panel-control/usuarios/editar/{{item.id}}"><img style="min-width: 1.5em; width:2em;" src="assets/{{ item.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></a></th>\r\n                            <th style="vertical-align: middle;"><a routerLink="/panel-control/usuarios/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/panel-control/usuarios/editar/{{item.id}}">{{ item.nombre }} {{ item.apellidos }}</a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/panel-control/usuarios/editar/{{item.id}}">{{ item.servidor_id }}</a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando" class="is-danger" (click)="eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n                            \r\n                        </tr>\r\n                        <tr *ngIf="usuarios.length == 0">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>                    \r\n                        </tr>\r\n                    </tbody>\r\n                    <tbody *ngIf="busquedaActivada">\r\n                        <tr *ngFor="let item of resultadosBusqueda; let i=index">\r\n                        <th><a routerLink="/panel-control/usuarios/editar/{{item.id}}"><img style="min-width: 1.5em; width:2em;" src="assets/{{ item.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></a></th>\r\n                        <th style="vertical-align: middle;"><a routerLink="/panel-control/usuarios/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                        <td style="vertical-align: middle;"><a routerLink="/panel-control/usuarios/editar/{{item.id}}">{{ item.nombre }} {{ item.apellidos }}</a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/panel-control/usuarios/editar/{{item.id}}">{{ item.servidor_id }}</a></td>\r\n                        <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando" class="is-danger" (click)="eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n                        \r\n                        </tr>\r\n\r\n                        <tr *ngIf="resultadosBusqueda.length == 0 && busquedaActivada">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>                    \r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion \r\n                [total]="total" \r\n                [paginasTotales]="paginasTotales" \r\n                [resultadosPorPagina]="resultadosPorPagina" \r\n                [paginaActual]="paginaActual" \r\n                [indicePaginas]="indicePaginas"\r\n                (onSiguiente)="paginaSiguiente()" \r\n                (onAnterior)="paginaAnterior()" \r\n                (onListar)="listar($event)" \r\n                *ngIf="total>0 && total > resultadosPorPagina && !busquedaActivada"></paginacion>\r\n            \x3c!-- Paginaci\xf3n para la b\xfasqueda  --\x3e\r\n            <paginacion \r\n                [total]="totalBusqueda" \r\n                [paginasTotales]="paginasTotalesBusqueda" \r\n                [resultadosPorPagina]="resultadosPorPaginaBusqueda" \r\n                [paginaActual]="paginaActualBusqueda" \r\n                [indicePaginas]="indicePaginasBusqueda"\r\n                (onSiguiente)="paginaSiguienteBusqueda(searchBox.value)" \r\n                (onAnterior)="paginaAnteriorBusqueda(searchBox.value)" \r\n                (onListar)="listarBusqueda(searchBox.value,$event)" \r\n                *ngIf="totalBusqueda > 0 && totalBusqueda > resultadosPorPaginaBusqueda && busquedaActivada"></paginacion>\r\n           \r\n           \r\n            \r\n        </div>\r\n        \r\n    </div>\r\n</div>\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style="text-align:center" ><a  class="button is-danger is-inverted" (click)="ultimaPeticion(); mensajeError.mostrar = false"> <span class="icon"><i class="fa fa-refresh"></i></span> <span>Volver a intentar</span></a></p>        \r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n'},YD97:function(e,t){e.exports='<section  class="top-nav">\r\n            \r\n    <nav class="nav">\r\n        <a title="Almacen art\xedculos" class="nav-item pull-left nav-hub-active"  routerLink="/almacen-articulos">\r\n            \r\n            <img src="assets/hub-almacen-articulos.svg" alt="icono">\r\n        \r\n        </a>\r\n        <div class="nav-left is-hidden-touch">\r\n            \r\n            <span *ngIf="!modulo" class="nav-item">\r\n                <h1 class="title">&nbsp;Almacen General</h1>\r\n            </span>\r\n            <a *ngIf="modulo" class="nav-item" routerLink="{{ url }}" >\r\n            \r\n            \x3c!-- <img src="{{ icono }}" alt="icono">--\x3e\r\n                <h1 class="title">&nbsp;{{ modulo }}</h1>                     \r\n            </a>\r\n        </div>\r\n\r\n        <div class="nav-center">\r\n            <span *ngIf="usuario.almacen_activo" class="nav-item is-small">\r\n                <span>{{usuario.clues_activa.clues}}&nbsp;-&nbsp;</span><span class="is-hidden-mobile">{{usuario.clues_activa.nombre}}&nbsp;-&nbsp;</span><span>{{usuario.almacen_activo.nombre}}</span>\r\n            </span>\r\n        </div>\r\n\r\n        <a class="nav-item"  (click)="hub.toggle()">\r\n            <span class="icon">\r\n                <i class="fa fa-th"></i>\r\n            </span>\r\n        </a>\r\n\r\n        <a class="nav-item is-hidden-mobile" (click)="perfil.toggle()">                    \r\n            <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n            &nbsp;\r\n            <span>{{ usuario.nombre }} {{ usuario.apellidos }}</span>\r\n        </a>\r\n        <a class="nav-item is-hidden-tablet" (click)="perfil.toggle()">\r\n            \r\n            <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n        </a>\r\n        \r\n        \r\n    </nav>\r\n</section>\r\n\r\n<app-hub #hub></app-hub>\r\n<app-perfil #perfil></app-perfil>'},Ygs2:function(e,t){e.exports='<menu-farmacia [modulo]="\'Entregas\'" [icono]="\'assets/icono-pedidos-alt.svg\'" [url]="\'/almacen/entregas\'"></menu-farmacia>\r\n\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%; ">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n      <menu-lateral></menu-lateral>\r\n    </div>\r\n    <div class="column" style="padding:2em;">\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n            <section class="hero" [ngClass] = " {\'is-dark\': busquedaActivada, \'is-primary\': !busquedaActivada } " >\r\n                \r\n                <div class="hero-body" style="position:relative;">\r\n                    <a class="button  is-dark" *ngIf="busquedaActivada" style="position:absolute; top:1em; right:1em;" (click)="busquedaActivada=false;searchBox.value=\'\';resultadosBusqueda=[]"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n                    <a class="button  is-dark" *ngIf="busquedaActivada" style="position:absolute; top:1em; right:3.5em;" (click)="listarBusqueda(searchBox.value,1)"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                    <a class="button  is-primary" *ngIf="!busquedaActivada" style="position:absolute; top:1em; right:1em;" (click)="listar(1)"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                    <div class="container is-fluid">\r\n                        \r\n                        <h1 class="title" *ngIf="!busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa {{ icono }}"></i></span> {{ titulo }}\r\n                        </h1>\r\n                        <h1 class="title" *ngIf="busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-search"></i></span> B\xfasqueda \r\n                        </h1>\r\n                        <p class="control is-expanded">\r\n                            <input class="input is-medium" type="text" placeholder="Buscar" #searchBox id="search-box" (keyup)="buscar(searchBox.value)">\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n        \r\n            <table class="table" *ngIf="!cargando">\r\n                <thead>\r\n                    <tr>\r\n                    <th><abbr title="N\xfamero del pedido">Pedido</abbr></th>\r\n                    <th>Solicitado por</th>\r\n                    <th>Fecha</th>\r\n                    <th>Hora</th>\r\n                    <th style="text-align:center;"></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody  *ngIf="!busquedaActivada">\r\n                    <tr *ngFor="let item of pedidos; let i=index">\r\n                       \r\n                        <th style="vertical-align: middle;"><a routerLink="/almacen/entregas/surtir/{{item.id}}">{{ item.id }}</a></th>\r\n                        <td style="vertical-align: middle;"><a routerLink="/almacen/entregas/surtir/{{item.id}}">{{ item.almacen_solicitante.nombre }} {{ item.apellidos }}</a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/almacen/entregas/surtir/{{item.id}}">{{ item.created_at | date:\'dd/MM/y\' }}</a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/almacen/entregas/surtir/{{item.id}}">{{ item.created_at | date: \'HH:mm\'}}</a></td>\r\n                        <td></td>\r\n                        \r\n                    </tr>\r\n                    <tr *ngIf="pedidos.length == 0">\r\n                        <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n                <tbody *ngIf="busquedaActivada">\r\n                    <tr *ngFor="let item of resultadosBusqueda; let i=index">\r\n                    <th style="vertical-align: middle;"><a routerLink="/almacen/entregas/surtir/{{item.id}}">{{ item.id }}</a></th>\r\n                    <td style="vertical-align: middle;"><a routerLink="/almacen/entregas/surtir/{{item.id}}">{{ item.almacen_solicitante.nombre }} {{ item.apellidos }}</a></td>\r\n                    <td style="vertical-align: middle;"><a routerLink="/almacen/entregas/surtir/{{item.id}}">{{ item.created_at | date:\'dd/MM/y\' }}</a></td>\r\n                    <td style="vertical-align: middle;"><a routerLink="/almacen/entregas/surtir/{{item.id}}">{{ item.created_at | date: \'HH:mm\'}}</a></td>\r\n                     \r\n                    </tr>\r\n\r\n                    <tr *ngIf="resultadosBusqueda.length == 0 && busquedaActivada">\r\n                        <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion \r\n                [total]="total" \r\n                [paginasTotales]="paginasTotales" \r\n                [resultadosPorPagina]="resultadosPorPagina" \r\n                [paginaActual]="paginaActual" \r\n                [indicePaginas]="indicePaginas"\r\n                (onSiguiente)="paginaSiguiente()" \r\n                (onAnterior)="paginaAnterior()" \r\n                (onListar)="listar($event)" \r\n                *ngIf="total>0 && total > resultadosPorPagina && !busquedaActivada"></paginacion>\r\n            \x3c!-- Paginaci\xf3n para la b\xfasqueda  --\x3e\r\n            <paginacion \r\n                [total]="totalBusqueda" \r\n                [paginasTotales]="paginasTotalesBusqueda" \r\n                [resultadosPorPagina]="resultadosPorPaginaBusqueda" \r\n                [paginaActual]="paginaActualBusqueda" \r\n                [indicePaginas]="indicePaginasBusqueda"\r\n                (onSiguiente)="paginaSiguienteBusqueda(searchBox.value)" \r\n                (onAnterior)="paginaAnteriorBusqueda(searchBox.value)" \r\n                (onListar)="listarBusqueda(searchBox.value,$event)" \r\n                *ngIf="totalBusqueda > 0 && totalBusqueda > resultadosPorPaginaBusqueda && busquedaActivada"></paginacion>\r\n           \r\n          \r\n            \r\n        </div>\r\n        \r\n    </div>\r\n</div>\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style="text-align:center" ><a  class="button is-danger is-inverted" (click)="ultimaPeticion(); mensajeError.mostrar = false"> <span class="icon"><i class="fa fa-refresh"></i></span> <span>Volver a intentar</span></a></p>        \r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>'},YyKe:function(e,t){e.exports=".warning td {\r\n\tbackground: #FFD8E4;\r\n\tcolor: #A0003E;\r\n\tborder-bottom: 1px solid #A0003E;\r\n}"},ZLtL:function(e,t){e.exports='<formulario #ctrl URL="movimientos" titulo="Salida por receta" [dato]="dato"></formulario>\r\n<menu-farmacia [modulo]="\'Salida por receta\'" [icono]="\'assets/icono-salidas.svg\'" [url]="\'/almacen/salidas-recetas\'"></menu-farmacia>\r\n<div style="height:50px;"></div>\r\n<form name="form" novalidate [formGroup]="dato">\r\n    <div class="contenedor columns " style="height:90%">\r\n        <div class="column is-one-third" style="padding:1em; height:90%">\r\n            <div style="background: #FFF; border-radius: 1em;">\r\n                <section class="hero is-primary" style="">\r\n                    <h1 *ngIf="!tieneid" class="title" style="margin:0.5em; ">\r\n                        <span class="icon is-medium">\r\n                            <i class="fa fa-file-text"></i>\r\n                        </span> {{ctrl.moduloTitulo}}\r\n                    </h1>\r\n                    <h1 *ngIf="tieneid" class="title" style="margin:0.5em; ">\r\n                        <span class="icon is-medium">\r\n                            <i class="fa fa-file-text"></i>\r\n                        </span> Folio {{ctrl.id}}\r\n                    </h1>\r\n\r\n\r\n                </section>\r\n                <div style="padding: 1em; overflow: scroll; overflow-x: hidden; height: 820px;">\r\n\r\n                    <h3 class="title">\r\n                        <i class="fa fa-file"></i>\r\n                         Datos del movimiento\r\n                    </h3>\r\n                    <div >\r\n                        <div class="field">\r\n                            <label class="label">Fecha del movimiento:</label>\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n\r\n\r\n                                <input class="input" [value]="fecha_actual" [(ngModel)]=\'fecha_movimiento\' formControlName="fecha_movimiento" ngui-datetime-picker\r\n                                    [min-date]="MinDate" [max-date]="MaxDate" date-only="true" [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.get(\'fecha_movimiento\').hasError(\'required\') && ctrl.dato.get(\'fecha_movimiento\').touched}"\r\n                                    placeholder="YYYY-MM-DD" readonly/>\r\n\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'fecha_movimiento\').hasError(\'required\') && ctrl.dato.get(\'fecha_movimiento\').touched">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'fecha_movimiento\').hasError(\'required\') && ctrl.dato.get(\'fecha_movimiento\').touched">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div class="field">\r\n                            <label class="label"> Observaciones:</label>\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n                                <textarea class="textarea" autofocus type="text" [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.get(\'observaciones\').hasError(\'required\') && ctrl.dato.get(\'observaciones\').touched}"\r\n                                    placeholder="Observaciones" formControlName="observaciones"></textarea>\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'observaciones\').hasError(\'required\') && ctrl.dato.get(\'observaciones\').touched">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'observaciones\').hasError(\'required\') && ctrl.dato.get(\'observaciones\').touched">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div class="control" *ngIf="mostrarCancelado">\r\n                            \x3c!-- *ngIf --\x3e\r\n                            <div class="field">\r\n                                <div class="b-checkbox control is-expanded  has-icon has-icon-right">\r\n\r\n                                    <input type="checkbox" id="cancelado" class="styled" [checked]="ctrl.dato.get(\'cancelado\').value == \'1\' ? true : false"\r\n                                        [ngClass]="{\'is-disabled\': tieneid}" (change)="ctrl.dato.get(\'cancelado\').patchValue(ctrl.dato.get(\'cancelado\').value == \'1\' ? \'0\' : \'1\')">\r\n                                    <label for="cancelado">  Cancelado\r\n                                    </label>\r\n                                </div>\r\n                            </div>\r\n                            <div class="field">\r\n                                <label class="label">Observaciones de cancelaci\xf3n:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <textarea class="textarea" autofocus type="text" [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.get(\'observaciones_cancelacion\').hasError(\'required\') && ctrl.dato.get(\'observaciones_cancelacion\').touched}"\r\n                                        placeholder="Observaciones de cancelacion" formControlName="observaciones_cancelacion"></textarea>\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'observaciones_cancelacion\').hasError(\'required\') && ctrl.dato.get(\'observaciones_cancelacion\').touched">\r\n                                        <i class="fa fa-warning"></i>\r\n                                    </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'observaciones_cancelacion\').hasError(\'required\') && ctrl.dato.get(\'observaciones_cancelacion\').touched">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n\r\n                        </div>\r\n                        <div formGroupName="movimiento_metadato">\r\n                            <div class="field"  >\r\n                                <label class="label">Turno:</label>\r\n                            </div>\x3c!-- SI carga los turnos --\x3e\r\n                            <div class="control is-grouped">\r\n                                <span *ngIf="ctrl.cargando" class="tag is-primary is-medium">Cargando turnos. <i class="fa fa-refresh fa-spin" aria-hidden="true"></i></span>\r\n                                <div  *ngIf="ctrl.turnos && !ctrl.cargando" class="control is-expanded  has-icon has-icon-right">\r\n                                    <select class="select" name="turno" formControlName="turno_id" \r\n                                        [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.get(\'movimiento_metadato\').get(\'turno_id\').hasError(\'required\')}">\r\n                                        <option value="">Seleccione un turno</option>\r\n                                        <option *ngFor="let item of ctrl.turnos.clues_turnos" value="{{item.id}}">{{ item.nombre }}</option>\r\n                                    </select>\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'turno_id\').hasError(\'required\')">\r\n                                        <i class="fa fa-warning"></i>\r\n                                    </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'turno_id\').hasError(\'required\')">Este campo es requerido.</span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.turnos[\'clues_turnos\'].length == 0"> No se cargaron turnos, contacte al administrador.</span>\r\n                                </div>\r\n                                <div class="control">\r\n                                    <a class="button" *ngIf="permisos.indexOf(\'9dKCEyujSdLQF2CbpjXiWKeap0NlJCzw\') > -1 && !tieneid" \r\n                                        (click)="abrirModal(\'editar_turnos\')" title="Agregar turno">\r\n                                        <i class="fa fa-plus fa-fw" aria-hidden="true"></i>\r\n                                    </a>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <hr id="catalogos" (click)="ctrl.cargarCatalogo(\'turnos\', \'mis-turnos\');">\r\n                    <h3 class="title">\r\n                        <i class="fa fa-user-md"></i>\r\n                        Datos de la receta\r\n                    </h3>\r\n\r\n                    <div >\r\n                        <nav class="panel" formGroupName="receta">\r\n\r\n                            <div class="columns" style="width:100%">\r\n                                <div class="column is-half">\r\n                                    <div class="field">\r\n                                        <label class="label">Folio:</label>\r\n                                        <p class="control is-expanded  has-icon has-icon-right">\r\n                                            <input class="input" type="text" [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.get(\'receta\').get(\'folio\').hasError(\'required\')}"\r\n                                                placeholder="folio" formControlName="folio">\r\n                                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'receta\').get(\'folio\').hasError(\'required\')">\r\n                                                <i class="fa fa-warning"></i>\r\n                                            </span>\r\n                                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'receta\').get(\'folio\').hasError(\'required\')">Este campo es requerido.</span>\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                                <div class="column is-half">\r\n                                    <div class="field">\r\n                                        <label class="label">Tipo de receta:</label>\r\n                                        <p class="control is-expanded  has-icon has-icon-right">\r\n\r\n                                                <select class="select" name="tipo_receta_id" formControlName="tipo_receta_id" [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.get(\'receta\').get(\'tipo_receta_id\').hasError(\'required\')}">\r\n                                                    <option *ngFor="let item of tipos_recetas" value="{{item.id}}" >{{ item.nombre }}</option>\r\n                                                </select>\r\n\r\n                                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'receta\').get(\'tipo_receta_id\').hasError(\'required\')">\r\n                                                <i class="fa fa-warning"></i>\r\n                                            </span>\r\n                                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'receta\').get(\'tipo_receta_id\').hasError(\'required\')">Este campo es requerido.</span>\r\n                                        </p>\r\n                                    </div>\r\n\r\n                                    \r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class="columns" style="width:100%">\r\n                                <div class="column is-half">\r\n                                    <div class="field">\r\n                                        <label class="label">Fecha de receta:</label>\r\n                                        <p class="control is-expanded  has-icon has-icon-right">\r\n                                            <input class="input" [value]="fecha_actual" [(ngModel)]=\'fecha_receta\' formControlName="fecha_receta" ngui-datetime-picker\r\n                                                [min-date]="MinDate" [max-date]="MaxDate" date-only="true" [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.get(\'receta\').get(\'fecha_receta\').hasError(\'required\')}"\r\n                                                placeholder="YYYY-MM-DD" readonly/>\r\n\r\n                                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'receta\').get(\'fecha_receta\').hasError(\'required\')">\r\n                                                <i class="fa fa-warning"></i>\r\n                                            </span>\r\n                                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'receta\').get(\'fecha_receta\').hasError(\'required\')">Este campo es requerido.</span>\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class="column is-half">\r\n                                    <div class="field" style="width:100%">\r\n                                        <label class="label">Imagen:</label>\r\n                                        <p class="control is-expanded  has-icon has-icon-right">\r\n                                            <input type="file" [ngClass]="{\'is-disabled\': tieneid}" (change)="ctrl.seleccionarImagenBase64($event, ctrl.dato.controls.receta.controls.imagen_receta)" accept="image/*" >\r\n                                            <br>\r\n                                            <input type="hidden" placeholder="Imagen de la receta" formControlName="imagen_receta" id="imagen_receta">\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class="columns" style="width:100%">\r\n                                <div class="column ">\r\n                                    <div class="field">\r\n                                        <label class="label">Doctor:</label>\r\n                                        <p class="control is-expanded  has-icon has-icon-right">\r\n                                            \x3c!--<input class="input" type="text" *ngIf="tieneid"\r\n                                                [ngClass]="{\'is-hidden\':!tieneid, \'is-disabled\': tieneid, \'is-danger\': ctrl.dato.get(\'receta\').get(\'doctor\').hasError(\'required\') || ctrl.dato.get(\'receta\').get(\'personal_clues_id\').hasError(\'required\')}"\r\n                                                placeholder="Doctor" formControlName="doctor" id="doctor">--\x3e\r\n\r\n                                            \x3c!--<input #campoDr *ngIf="!tieneid" ngui-auto-complete [source]="medicos_term" [list-formatter]="autocompleListFormatMedico"\r\n                                                display-property-name="nombre" path-to-data="" loading-text="Cargando..." no-match-found-text="No hay resultados."\r\n                                                (valueChanged)="select_medico_autocomplete($event)" min-chars="1" class="input is-success"\r\n                                                (keyup)="DoctorBuscador()" id="buscarMedico" value-property-name="nombre"\r\n                                                [ngClass]="{\'is-danger\': ctrl.dato.get(\'receta\').get(\'doctor\').hasError(\'required\') || ctrl.dato.get(\'receta\').get(\'personal_clues_id\').hasError(\'required\')}"\r\n                                                type="text" placeholder="Doctor" formControl>--\x3e\r\n\r\n                                            <input #campoDr ngui-auto-complete [source]="medicos_term" [list-formatter]="autocompleListFormatMedico"\r\n                                                display-property-name="nombre" path-to-data="" loading-text="Cargando..." no-match-found-text="No hay resultados."\r\n                                                (valueChanged)="select_medico_autocomplete($event)" min-chars="1" class="input"\r\n                                                id="buscarMedico" value-property-name="nombre"\r\n                                                [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.get(\'receta\').get(\'doctor\').hasError(\'required\') }"\r\n                                                type="text" placeholder="Doctor" formControlName="doctor">    \r\n\r\n                                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'receta\').get(\'doctor\').hasError(\'required\')">\r\n                                                <i class="fa fa-warning"></i>\r\n                                            </span>\r\n                                            \x3c!--<span class="help is-danger" *ngIf="ctrl.dato.get(\'receta\').get(\'personal_clues_id\').hasError(\'required\')">\r\n                                                Ingrese el nombre de un m\xe9dico registrado.\r\n                                            </span>--\x3e\r\n                                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'receta\').get(\'doctor\').hasError(\'required\')">Este campo es requerido.</span>\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class="columns" style="width:100%">\r\n                                <div class="column ">\r\n                                    <div class="field">\r\n                                        <label class="label">Paciente:</label>\r\n                                        <p class="control is-expanded  has-icon has-icon-right">\r\n                                            <input class="input" type="text" [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.get(\'receta\').get(\'paciente\').hasError(\'required\')}"\r\n                                                placeholder="Paciente" formControlName="paciente" id="paciente">\r\n                                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'receta\').get(\'paciente\').hasError(\'required\')">\r\n                                                <i class="fa fa-warning"></i>\r\n                                            </span>\r\n                                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'receta\').get(\'paciente\').hasError(\'required\')">Este campo es requerido.</span>\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            \r\n                            <div class="columns" style="width:100%">\r\n                                <div class="column ">\r\n                                    <div class="field" *ngIf="!tieneid">\r\n                                        <p class="b-checkbox control is-expanded  has-icon has-icon-right">\r\n                                            <input type="checkbox" id="tiene_seguro_popular" (click)="requerirCampo()" \r\n                                            class="styled" value="true" formControlName="tiene_seguro_popular">\r\n                                            <label for="tiene_seguro_popular"> \r\n                                                <strong> &nbsp; \xbfAfiliado a seguro popular? </strong>\r\n                                            </label>                                            \r\n                                        </p>\r\n                                    </div>\r\n                                    <br>\r\n                                    <div class="field" [ngClass]="{\'is-hidden\': !ctrl.dato.get(\'receta\').value.tiene_seguro_popular && !tieneid}">\r\n                                        <label class="label" *ngIf="!tieneid || ctrl.dato.controls.receta.controls.poliza_seguro_popular.value != null">P\xf3liza de Seguro Popular</label>\r\n                                        <label class="label" *ngIf="tieneid && ctrl.dato.controls.receta.controls.poliza_seguro_popular.value == null">\r\n                                            No cuenta con p\xf3liza de Seguro Popular\r\n                                        </label>\r\n                                        <p class="control is-expanded  has-icon has-icon-right" >\r\n                                            <input class="input" type="text"  #poliza [disabled]="!ctrl.dato.get(\'receta\').value.tiene_seguro_popular"\r\n                                                [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.get(\'receta\').get(\'poliza_seguro_popular\').hasError(\'required\')}"\r\n                                                placeholder="Poliza de seguro popular" formControlName="poliza_seguro_popular" id="poliza_seguro_popular"\r\n                                                *ngIf="!tieneid || ctrl.dato.controls.receta.controls.poliza_seguro_popular.value != null">\r\n                                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'receta\').get(\'poliza_seguro_popular\').hasError(\'required\')">\r\n                                                <i class="fa fa-warning"></i>\r\n                                            </span>\r\n                                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'receta\').get(\'poliza_seguro_popular\').hasError(\'required\')">Este campo es requerido.</span>\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class="columns" style="width:100%">\r\n                                <div class="column ">\r\n                                    <div class="field">\r\n                                        <label class="label">Diagnostico:</label>\r\n                                        <p class="control is-expanded  has-icon has-icon-right">\r\n                                            <textarea class="textarea" autofocus type="text" \r\n                                                [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.get(\'receta\').get(\'diagnostico\').hasError(\'required\')}"\r\n                                                placeholder="Diagnostico" formControlName="diagnostico" id="diagnostico"></textarea>\r\n                                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'receta\').get(\'diagnostico\').hasError(\'required\')">\r\n                                                <i class="fa fa-warning"></i>\r\n                                            </span>\r\n                                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'receta\').get(\'diagnostico\').hasError(\'required\')">Este campo es requerido.</span>\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class="block" *ngIf="ctrl.dato.controls.receta.controls.imagen_receta.value != \'\'">\r\n                                <a class="button is-primary is-outlined is-fullwidth" [ngClass]="{\'is-disabled\': tieneid}" (click)="abrirModal(\'verFoto\')">\r\n                                    <span class="icon">\r\n                                        <i class="fa fa-eye"> </i> \r\n                                    </span> \r\n                                    &nbsp; Ver receta\r\n                                </a>\r\n                            </div>\r\n\r\n                            <div class="modal" id="verFoto">\r\n                                <div class="modal-background"></div>\r\n                                <div class="modal-content">\r\n                                    <p class="image is-4by3">\r\n                                        <img [src]="\'data:image/jpg;base64,\'+ctrl.dato.controls.receta.controls.imagen_receta.value" alt="Receta" />\r\n                                    </p>\r\n                                </div>\r\n                                <button type="button" class="modal-close" (click)="cancelarModal(\'verFoto\')"></button>\r\n                            </div>\r\n                        </nav>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \x3c!-- apartado de insumos --\x3e\r\n        <div class="column" style="padding:1em; height:90%">\r\n            <div style="background: #FFF; border-radius: 1em; height:100%">\r\n                <section class="hero is-primary is-small">\r\n                    <div class="hero-body">\r\n                        <nav class="level">\r\n                            <div class="level-left"></div>\r\n                            \x3c!-- Right side --\x3e\r\n                            <div class="level-right">\r\n                                <p class="level-item"><a class="button is-primary" routerLink="/almacen/salidas-recetas">Regresar</a></p>\r\n                                <p class="level-item" *ngIf="tieneid"><a class="button is-primary" routerLink="/almacen/salidas-recetas/nuevo" *ngIf="!ctrl.busquedaActivada"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;<span>Nueva receta</span></a></p>\r\n                                <p class="level-item" *ngIf="tieneid"><a *ngIf="tieneid" class="button is-primary" (click)="imprimir()"><span class="icon"><i class="fa fa-print"></i></span></a></p>\r\n                                \x3c!-- <p class="level-item" *ngIf="!tieneid">\r\n                                        <button class="button is-primary" type="submit" [ngClass]="{\'is-loading\': ctrl.cargando}" [disabled]="ctrl.dato.invalid"> <span class="icon"><i class="fa fa-floppy-o" aria-hidden="true"></i></span> &nbsp; Guardar</button>\r\n                                </p> --\x3e\r\n                                <p class="level-item" *ngIf="!tieneid" [title]="ctrl.dato.invalid ? \'Llene los campos en rojo\' : \'Guardar\'">\r\n                                    <button class="button is-primary" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="guardar_movimiento()"\r\n                                        [disabled]="ctrl.dato.invalid"> <span class="icon"><i class="fa fa-floppy-o" aria-hidden="true"></i></span> \r\n                                        &nbsp; Guardar</button>\r\n                                </p>\r\n                                <p *ngIf="tieneid" class="level-item"><a class="button is-primary" title="Actualizar" (click)="ctrl.cargarDatos();"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n                                <p *ngIf="!tieneid" class="level-item"><a class="button is-primary" title="Actualizar" (click)="ctrl.cargarCatalogo(\'turnos\', \'mis-turnos\');"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n                                <p class="level-item">&nbsp;</p>\r\n                            </div>\r\n                        </nav>\r\n                        <div class="container is-fluid">\r\n                            <h1 class="title">\r\n                                <span *ngIf="!ctrl.cargando || !cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                <span *ngIf="ctrl.cargando || cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>                                Insumos\r\n                            </h1>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>                    &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n                <section class="section">\r\n\r\n                    <div class="field has-addons has-addons-centered" *ngIf="!tieneid">\r\n\r\n                        \x3c!-- <p class="control">\r\n                            <input ngui-auto-complete \r\n                            [source]="insumos_term"\r\n                            [list-formatter]="autocompleListFormatter"\r\n                            id="buscarInsumo"  \r\n                            value-property-name="clave"\r\n                            display-property-name="descripcion" \r\n                            path-to-data="" \r\n                            loading-text="Cargando..." \r\n                            no-match-found-text="No hay resultados."\r\n                            max-num-list="10" \r\n                            (valueChanged)="select_insumo_autocomplete($event)"\r\n                            min-chars="7" \r\n                            class="input is-success is-medium"\r\n                            type="text"\r\n                            placeholder="Escanea el codigo de barra, o empieza escribir el nombre del producto" >\r\n                        </p> --\x3e\r\n\r\n                        \x3c!-- *****************     INPUT DE BUSQUEDA DE INSUMO     ****************** --\x3e    \r\n                        <div class="control is-grouped">\r\n                            <div class="control is-expanded">\r\n                                <input \r\n                                    (keyup.enter)="buscarInsumo.value != \'\' ?  enviarAutocomplete(buscarInsumo.value) : buscarInsumo.value = \'\'" \r\n                                    id="buscarInsumo"\r\n                                    name="buscarInsumo"\r\n                                    #buscarInsumo\r\n                                    class="input is-success is-medium"\r\n                                    type="text"\r\n                                    placeholder="Escriba la clave o el nombre del insumo y presione la tecla ENTER"/>\r\n                            </div>\r\n                            <div class="control">\r\n                                <a class="button is-success is-medium" title="Buscar insumo" (click)="buscarInsumo.value != \'\' ?  enviarAutocomplete(buscarInsumo.value) : buscarInsumo.value = \'\'">\r\n                                    <i class="fa fa-search" aria-hidden="true"></i> &nbsp; Buscar\r\n                                </a>\r\n                            </div>\r\n                            <div class="control" *ngIf="buscarInsumo.value != \'\'">\r\n                                <a class="button is-info is-medium" title="Borrar texto" (click)="res_busq_insumos=[]; buscarInsumo.value=\'\'">\r\n                                    <i class="fa fa-times" aria-hidden="true"></i>\r\n                                </a>\r\n                            </div>\r\n                        </div>\r\n                        \r\n                        <div class="is-fullwidth has-text-centered" *ngIf="cargando" style="height:100px;">\r\n                            <br>\r\n                            <span class="tag is-primary is-large">\r\n                                <span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span>\r\n                            </span>\r\n                        </div>\r\n                        \x3c!-- *****************     RESULTADOS DE BUSQUEDA DE INSUMO     ****************** --\x3e\r\n                        <div *ngIf="res_busq_insumos.length > 0 && !cargando" style="height: 200px;">\r\n                            <div *ngIf="res_busq_insumos.length > 0 && !cargando" style="overflow: scroll; overflow-x: hidden; height: 90%;">\r\n                                <div class="content" style="z-index: 1;" *ngFor="let item_insumo of res_busq_insumos; let c = index">\r\n                                    <div class="card" (click)="select_insumo_autocomplete(item_insumo)" style="background: rgba(242,248,253, 0.8)">\r\n                                        <div class="card-content">\r\n                                            <div class="media">          \r\n                                                <div class="media-content">\r\n                                                    <p class="title is-4">{{item_insumo.descripcion}}</p>\r\n                                                    <p class="subtitle is-6">\r\n                                                        <strong>Clave: </strong> {{item_insumo.clave}}\r\n                                                        <label class="tag is-success" *ngIf="item_insumo.es_causes == 1"><strong>Cause </strong></label>\r\n                                                        <label class="tag" *ngIf="item_insumo.es_causes == 0" style="background: #B8FB7E; border-color: #B8FB7E; color: rgba(0,0,0,0.7);" ><strong>No Cause </strong> </label>\r\n                                                        <label class="tag is-warning" *ngIf="item_insumo.es_unidosis == 1"><strong>Unidosis</strong> </label>\r\n                                                    </p>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <hr> \x3c!-- L\xednea de division --\x3e\r\n\r\n                    \x3c!-- *****************     INSUMOS AGREGADOS     ****************** --\x3e\r\n                    <div formArrayName="insumos" style="overflow: scroll; overflow-x: hidden;" [ngStyle]="{\'height\': res_busq_insumos.length > 0 ? \'350px\' : \'550px\'}" >\r\n                        <div class="box" *ngFor="let item of ctrl.dato.controls.insumos.controls; let i=index"  [ngStyle]="{\'background\': i%2 == 0 ? \'rgba(230, 230, 232, 0.44)\' : \'\'}">\r\n                            <article class="media" [formGroupName]="i">\r\n                                <div class="media-content">\r\n                                    <div class="content">\r\n                                        <a *ngIf="!tieneid" class="is-danger" title="Quitar este elemento de la lista" style="float:right" (click)="ctrl.quitar_form_array(ctrl.dato.controls.insumos,i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a>\r\n                                        <p>\r\n                                            <strong>\r\n                                                <span style="color:cornflowerblue">\r\n                                                    Clave: {{ ctrl.dato.controls.insumos.controls[i].controls.clave.value }} \r\n                                                </span>\r\n                                                Nombre: {{ctrl.dato.controls.insumos.controls[i].controls.descripcion.value}}\r\n                                            \r\n                                                <label class="tag is-success" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_causes.value"><strong>Cause </strong></label>\r\n                                                <label class="tag is-success" *ngIf="!ctrl.dato.controls.insumos.controls[i].controls.es_causes.value"><strong>No Cause </strong> </label>                                           \r\n                                                                                            \r\n                                                <label class="tag is-warning" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_unidosis.value"><strong>Unidosis</strong> </label>\r\n                                            </strong>\r\n                                            <br> {{ctrl.dato.controls.insumos.controls[i].controls.descripcion.value}}\r\n                                        </p>\r\n                                        <a class="is-danger" title="Ver la lista de lotes de este articulo" style="float:right" (click)="ver_lotes_asignados(i)">\r\n                                            <span class="icon">\r\n                                                <i *ngIf="!mostrar_lote[i]" class="fa fa-plus"></i>\r\n                                                <i *ngIf="mostrar_lote[i]" class="fa fa-minus"></i>\r\n                                            </span>\r\n                                        </a>\r\n                                    </div>\r\n                                    <section *ngIf="mostrar_lote[i]">\r\n                                        <table class="table is-narrow is-bordered is-striped">\r\n                                            <thead>\r\n                                                <tr>\r\n                                                    <th>Lote</th>\r\n                                                    <th>Caducidad</th>\r\n                                                    <th>Codigo de barras</th>\r\n                                                    <th *ngIf="!tieneid">Existencia</th>\r\n                                                    <th>Cantidad</th>\r\n                                                    <th *ngIf="!tieneid"></th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody formArrayName="lotes">\r\n                                                <tr *ngFor="let val of ctrl.dato.controls.insumos.controls[i].controls.lotes.controls;  let i2 = index;">\r\n                                                    <td>{{val.value.lote}} </td>\r\n                                                    <td>{{val.value.fecha_caducidad}}</td>\r\n                                                    <td>{{val.value.codigo_barras}}</td>\r\n                                                    <td *ngIf="!tieneid">{{val.value.existencia}}</td>\r\n                                                    <td [formGroupName]="i2">\r\n                                                        <input *ngIf="!val.nuevo" class="input has-text-centered" [ngClass]="{\'is-disabled\': tieneid}" (keypress)="quitar_punto($event)" (blur)="validar_cantidad_lote(i, val, i2)" type="number" step="1" min="0" max="{{val.value.existencia}}"\r\n                                                            placeholder="Cantidad" formControlName="cantidad">\r\n                                                        <input *ngIf="val.nuevo" class="input has-text-centered" (blur)="validar_cantidad_lote(i, val, i2)" (keypress)="quitar_punto($event)" type="number" step="1" min="0" \r\n                                                            placeholder="Cantidad" formControlName="cantidad"></td>\r\n                                                    <td *ngIf="!tieneid">\r\n                                                        <a class="is-danger" title="Quitar este lote" (click)="quitar_lote_insumo(i, val.value, i2)">\r\n                                                            <span class="icon">\r\n                                                                <i class="fa fa-trash-o"></i>\r\n                                                            </span>\r\n                                                        </a>\r\n                                                    </td>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </table>\r\n                                    </section>\r\n                                    <div class="level-left">\r\n\r\n                                        <hr>\r\n                                        <div class="columns is-flex-desktop" style="width: 100%; vertical-align: bottom;">\r\n                                            <div class="column is-2" >\r\n                                                <p class="control is-expanded">\r\n                                                <label *ngIf="!tieneid" class="label">Dosis ({{ ctrl.dato.controls.insumos.controls[i].controls.unidad_medida.value }}):</label>\r\n                                                <label *ngIf="tieneid" class="label">Dosis ({{ ctrl.dato.controls.insumos.controls[i].controls.informacion_ampliada.value.unidad_medida_nombre }}):</label>\r\n                                                    <input type="text" autofocus class="input" formControlName="dosis" (keypress)="quitar_punto($event)"  [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.dosis.hasError(\'required\') && ctrl.dato.controls.insumos.controls[i].controls.dosis.touched}">\r\n                                                </p>\r\n                                            </div>\r\n                                            <div class="column is-auto" style="vertical-align: bottom;">\r\n                                                <p class="control is-expanded">\r\n                                                <label class="label">Frecuencia (hrs.):</label>\r\n                                                    <input type="text" class="input" formControlName="frecuencia" (keypress)="quitar_punto($event)"  [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.frecuencia.hasError(\'required\') && ctrl.dato.controls.insumos.controls[i].controls.frecuencia.touched}">\r\n                                                </p>\r\n                                            </div>\r\n                                            <div class="column is-2">\r\n                                                <p class="control is-expanded">\r\n                                                <label class="label">Duraci\xf3n (d\xedas):</label>\r\n                                                    <input type="text" class="input" formControlName="duracion" (keypress)="quitar_punto($event)" [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.duracion.hasError(\'required\') && ctrl.dato.controls.insumos.controls[i].controls.duracion.touched}">\r\n                                                </p>\r\n                                            </div>\r\n                                            <div class="column  is-auto">\r\n                                                <p class="control is-expanded">\r\n                                                <label *ngIf="!tieneid" class="label">Cant. recetada ({{ ctrl.dato.controls.insumos.controls[i].controls.presentacion_nombre.value }}):</label>\r\n                                                <label *ngIf="tieneid" class="label">Cant. recetada ({{ ctrl.dato.controls.insumos.controls[i].controls.informacion_ampliada.value.presentacion_nombre }}):</label>\r\n                                                    <input type="text" class="input" formControlName="cantidad_recetada" (keypress)="quitar_punto($event)" [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.cantidad_recetada.hasError(\'required\') && ctrl.dato.controls.insumos.controls[i].controls.cantidad_recetada.touched}">\r\n                                                </p>\r\n                                            </div>\r\n                                            <div class="column is-auto">\r\n                                                <p class="control is-expanded">\r\n                                                <label *ngIf="!tieneid" class="label">Cant. surtida ({{ ctrl.dato.controls.insumos.controls[i].controls.presentacion_nombre.value }}):</label>\r\n                                                <label *ngIf="tieneid" class="label">Cant. surtida ({{ ctrl.dato.controls.insumos.controls[i].controls.informacion_ampliada.value.presentacion_nombre }}):</label>\r\n                                                    <input *ngIf="!tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_surtida" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.hasError(\'required\') && ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.touched}">\r\n                                                    <input *ngIf="tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad" >\r\n                                                </p>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </article>\r\n                        </div>\r\n                    </div>\r\n\r\n                </section>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</form>\r\n\r\n\r\n<div class="modal" id="verLotes">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card" style="width: 70%; height: 95%;">\r\n        <header class="modal-card-head" style="height: 10%;">\r\n            <p class="modal-card-title" id="tituloModal"> </p>\r\n            <button type="button" class="delete" (click)="cancelarModal(\'verLotes\')"></button>\r\n        </header>\r\n        <section class="modal-card-body" style="height: 90%;">\r\n            <div style="padding: 1em; overflow-x: hidden; height: 100%;">\r\n                <div style="padding: 1em; overflow: scroll; overflow-x: hidden; height: 28%;">\r\n                    <div class="columns"  style="padding: 0; margin-bottom: -15px">\r\n                        <div class="column is-auto" style="padding: 0; margin-top: 0.5em; margin-bottom: 1em;">\r\n                            <label class="title is-3" style="vertical-align: center;">\r\n                                <strong>Indicaciones del medicamento</strong>\r\n                            </label>\r\n                        </div>\r\n                    </div>\r\n                    <hr style="margin-top: 0.5em; margin-bottom: 1em; margin-right: 15px;">\r\n                    <div class="level-left">\r\n                        <div class="columns is-flex-desktop" style="width: 100%; background-color: rgba(63, 191, 63, 0.1); vertical-align: bottom !important;">\r\n                            <div class="column is-2">\r\n                                <p class="control is-expanded">\r\n                                <label *ngIf="!tieneid" class="label">Dosis <br> ({{unidad_medida}}):</label>\r\n                                <label *ngIf="tieneid" class="label">Dosis ():</label>\r\n                                    <input type="number" autofocus class="input" #dosis id="dosis" min="1" name="dosis" (keypress)="quitar_punto($event)" \r\n                                    (blur)="calcularCantidadSugerida(dosis.value, frecuencia.value, duracion.value); calcularCantidadSurtida(); comprobar_cant_lotes()" \r\n                                    [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': dosis.value == \'\'}">\r\n                                </p>\r\n                            </div>\r\n                            <div class="column is-auto" style="vertical-align: bottom !important;">\r\n                                    <p class="control is-expanded">\r\n                                    <label class="label">Frecuencia <br> (hrs.):</label>\r\n                                        <input type="number" class="input" #frecuencia id="frecuencia" min="1" name="frecuencia" (keypress)="quitar_punto($event)"\r\n                                        (blur)="calcularCantidadSugerida(dosis.value, frecuencia.value, duracion.value); calcularCantidadSurtida(); comprobar_cant_lotes()"\r\n                                        [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': frecuencia.value == \'\'}">\r\n                                    </p>\r\n                            </div>\r\n                            <div class="column is-2">\r\n                                <p class="control is-expanded">\r\n                                <label class="label">Duraci\xf3n <br> (d\xedas):</label>\r\n                                    <input type="number" class="input" #duracion id="duracion" min="1" name="duracion" (keypress)="quitar_punto($event)" \r\n                                    (blur)="calcularCantidadSugerida(dosis.value, frecuencia.value, duracion.value); calcularCantidadSurtida(); comprobar_cant_lotes()"\r\n                                    [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': duracion.value == \'\'}">\r\n                                </p>\r\n                            </div>\r\n                            <div class="column  is-auto">\r\n                                <p class="control is-expanded">\r\n                                <label *ngIf="!tieneid" class="label">Cant. recetada <br> ({{presentacion_nombre}}):</label>\r\n                                <label *ngIf="tieneid" class="label">Cant. recetada ():</label>\r\n                                    <input type="number" class="input" #cant_recetada id="cant_recetada" min="1" name="cant_recetada"\r\n                                    (keypress)="quitar_punto($event)" (change)="comprobar_cant_lotes(); calcularCantidadSurtida();"\r\n                                    (blur)="calcularCantidadSugerida(dosis.value, frecuencia.value, duracion.value); calcularCantidadSurtida(); comprobar_cant_lotes()"\r\n                                    [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': cant_recetada.value == \'\'}">\r\n                                </p>\r\n                            </div>\r\n                            <div class="column  is-auto">\r\n                                <p class="control is-expanded">\r\n                                    <label *ngIf="!tieneid" class="label">Cant. sugerida <br> a surtir</label>\r\n                                    <strong style="text-align: center;">\r\n                                        {{cantidad_recomendada ? cantidad_recomendada : 0}}  {{presentacion_nombre}}\r\n                                    </strong>\r\n                                </p>\r\n                            </div>\r\n                            <div class="column is-auto">\r\n                                <p class="control is-expanded">\r\n                                <label *ngIf="!tieneid" class="label">Cant. surtida <br> ({{presentacion_nombre}}):</label>\r\n                                <label *ngIf="tieneid" class="label">Cant. surtida ():</label>\r\n                                    <input *ngIf="!tieneid" style="background:aliceblue" #cant_surtida name="cant_surtida" id="cant_surtida" type="text" class="input" readonly [(ngModel)]="cantidad_surtida">\r\n                                    <input *ngIf="tieneid" style="background:aliceblue" type="text" readonly class="input" [(ngModel)]="cantidad" >\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                        <hr>\r\n                    </div>\r\n                </div>\r\n                <div style="padding: 1em; overflow: scroll; overflow-x: hidden; height: 72%;">\r\n                    <table class="table is-narrow is-bordered is-striped">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Lote</th>\r\n                                <th>Caducidad</th>\r\n                                <th>Codigo de barras</th>\r\n                                <th>Existencia</th>\r\n                                <th>Cantidad (normal)</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor="let item of lotes_insumo;  let i = index;">\r\n                                <td *ngIf="!item.nuevo">{{item.lote}}</td>\r\n                                <td *ngIf="item.nuevo"><input class="input has-text-centered " type="text" placeholder="Lote" [(ngModel)]="item.lote"></td>\r\n                                <td *ngIf="!item.nuevo" style="text-align: center">\r\n                                    &nbsp;\r\n                                    <span *ngIf="item.tipo_caducidad">\r\n                                        <label *ngIf="item.tipo_caducidad == \'OPTIMA\'" class="tag is-success" ><strong>&nbsp;</strong></label>\r\n                                        <label *ngIf="item.tipo_caducidad == \'MEDIA\'" class="tag is-warning" ><strong>&nbsp;</strong></label>\r\n                                        <label *ngIf="item.tipo_caducidad == \'PRONTA\'" class="tag is-danger" ><strong>&nbsp;</strong></label>\r\n                                        <label *ngIf="item.tipo_caducidad == \'CADUCADO\'" class="tag is-black" ><strong>&nbsp;</strong></label>\r\n                                    </span>\r\n                                    &nbsp;\r\n                                    {{item.fecha_caducidad}}\r\n                                </td>\r\n                                <td *ngIf="item.nuevo"><input class="input has-text-centered " type="date" placeholder="Fecha de caducidad" [(ngModel)]="item.fecha_caducidad"></td>\r\n                                <td *ngIf="!item.nuevo">{{item.codigo_barras}}</td>\r\n                                <td *ngIf="item.nuevo"><input class="input has-text-centered " type="text" placeholder="Codigo de barras" [(ngModel)]="item.codigo_barras"></td>\r\n                                <td *ngIf="!item.nuevo">{{item.existencia}}</td>\r\n                                <td *ngIf="item.nuevo"></td>\r\n                                <td>\r\n                                    <input class="input has-text-centered " type="number" step="1" min="0" max="{{item.existencia}}" \r\n                                    (keyup)="calcularCantidadSurtida(); comprobar_cant_lotes()" (keypress)="quitar_punto($event);" \r\n                                    (change)="comprobar_cant_lotes(); calcularCantidadSurtida();" placeholder="Cantidad"\r\n                                    [(ngModel)]="item.cantidad" [ngClass]="{\'is-disabled\': item.tipo_caducidad == \'CADUCADO\'}">\r\n                                </td>\r\n                                <td *ngIf="item.nuevo && es_unidosis"></td>\r\n                                <td *ngIf="item.nuevo">\r\n                                    <a class="delete" (click)=eliminarLote(i)></a>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-dark" (click)="agregarNuevoLote()">Agregar nuevo lote</a>                            \r\n            <a class="button is-success" [ngClass]="{\'is-disabled\':!sum_cant_lotes}"  (click)="agregarLoteIsumo(dosis.value, frecuencia.value, duracion.value, cant_recetada.value)">Aceptar</a>\r\n            <a class="button" (click)="cancelarModal(\'verLotes\')">Cancelar</a>\r\n        </footer>\r\n    </div>\r\n</div>\r\n\r\n<div class="modal" id="guardarMovimiento">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card">\r\n        <header class="modal-card-head">\r\n            <p class="modal-card-title"><i class="fa fa-warning"></i> Alerta</p>\r\n            <button class="delete" (click)="cancelarModal(\'guardarMovimiento\')"></button>\r\n        </header>\r\n        <section class="modal-card-body">\r\n            <div class="content">\r\n                <h1>\xbfEsta seguro de guardar la receta?</h1>\r\n                <p>Ya no se podr\xe1 realizar cambios</p>\r\n                <p class="modal-card-title" id="tituloGuardar"> </p>\r\n            </div>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-success" (click)="ctrl.enviar(false, \'almacen/salidas-recetas\'); cancelarModal(\'guardarMovimiento\')">Continuar</a>\r\n            <a class="button" (click)="cancelarModal(\'guardarMovimiento\')">Cancelar</a>\r\n        </footer>\r\n    </div>\r\n</div>\r\n\r\n\x3c!-- ****************************************************     TURNOS     ******************************************--\x3e\r\n<div class="modal" id="editar_turnos">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card" style="width: 90%; height: 90%;">\r\n        <header class="modal-card-head is-primary" style="height: 10%;">\r\n            <p class="modal-card-title"><i class="fa fa-pencil is-succes" aria-hidden="true"></i>&nbsp; Editar turnos</p>\r\n            <button type="button" class="delete" (click)="cancelarModal(\'editar_turnos\'); ctrl.cargarCatalogo(\'turnos\', \'mis-turnos\');"></button>\r\n        </header>\r\n        <section class="modal-card-body" style="height: 100%; padding: 1em; ">\r\n            <div *ngIf="!tieneid" style="padding: 0.5em; overflow-x: hidden; overflow-y: hidden; height: 100%;">\r\n                <app-modal-turnos></app-modal-turnos>\r\n                \x3c!-- <iframe src="http://localhost:4200/configuracion/turnos" style="padding: 1em; overflow-x: hidden; height: 100%; width: 100%"></iframe>\r\n                --\x3e                \r\n            </div>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <button class="button" (click)="cancelarModal(\'editar_turnos\'); ctrl.cargarCatalogo(\'turnos\', \'mis-turnos\');">Cerrar</button>\r\n        </footer>\r\n    </div>\r\n</div>'},Zdxq:function(e,t){e.exports='<administrador-central-menu></administrador-central-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%;  margin:0px; ">\r\n\t<div class="column is-narrow is-hidden-mobile">\r\n\t\t<administrador-central-menu-lateral></administrador-central-menu-lateral>\r\n\t</div>\r\n\t<div class="column hack-column" >\r\n\t\t<div style="background: #FFF; border-radius: 1em; overflow: hidden;">\t\t\t\r\n\t\t\t<section class="hero is-primary"  >\t\t\t\t\r\n\t\t\t\t<div class="hero-body" style="position:relative;">                    \r\n\t\t\t\t\t\r\n\t\t\t\t\t<a class="button  is-primary" *ngIf="!cargando" style="position:absolute; top:1em; right:1em;" (click)="exportar()"><span class="icon "><i class="fa fa-file-excel-o"></i></span> <span>Exportar</span></a>\r\n\t\t\t\t\t<div class="container is-fluid">\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<h1 class="title">\r\n\t\t\t\t\t\t\t<span class="icon is-medium"><i class="fa fa-money"></i></span> Reporte financiero\r\n\t\t\t\t\t\t</h1>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<div class="control is-grouped">\r\n\t\t\t\t\t\t<p class="control is-expanded">\r\n\t\t\t\t\t\t\t<input class="input is-medium" type="text" placeholder="Buscar por CLUES" [(ngModel)] = "clues">\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class="columns">\r\n\t\t\t\t\t\t\t<div class="column">\r\n\t\t\t\t\t\t\t\t<label for="tipoUnidad">A\xf1adir tipo de unidad:</label>\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<p class="control is-expanded">\r\n\t\t\t\t\t\t\t\t\t<span class="select is-fullwidth">\r\n\t\t\t\t\t\t\t\t\t<select #tipoUnidadSelect (change)="cambioSeleccionTipoUnidad(tipoUnidadSelect.value)">\r\n\t\t\t\t\t\t\t\t\t\t<option value="-1">Todas</option>\r\n\t\t\t\t\t\t\t\t\t\t<option *ngFor="let item of tiposUnidad" value="{{item.id}}">{{item.id}} - {{ item.nombre }}</option>\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</p>                   \t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class="column">\r\n\t\t\t\t\t\t\t\t<label for="jurisdicciones">A\xf1adir proveedor:</label>\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<p class="control is-expanded" [ngClass]="{\'is-loading\': cargandoProveedores, \'is-disabled\': cargandoProveedores}">\r\n\t\t\t\t\t\t\t\t\t<span class="select is-fullwidth">\r\n\t\t\t\t\t\t\t\t\t<select #proveedoresSelect (change)="cambioSeleccionProveedor(proveedoresSelect.value)">\r\n\t\t\t\t\t\t\t\t\t\t<option value="-1" *ngIf="cargandoProveedores">Cargando...</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value="-1" *ngIf="!cargandoProveedores">Todos</option>\r\n\t\t\t\t\t\t\t\t\t\t<option *ngFor="let item of proveedores" value="{{item.id}}">{{ item.nombre }}</option>\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</p>   \r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class="column">\r\n\t\t\t\t\t\t\t\t<label for="jurisdicciones">A\xf1adir jurisdicci\xf3n:</label>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<p class="control is-expanded" [ngClass]="{\'is-loading\': cargandoJurisdicciones, \'is-disabled\': cargandoJurisdicciones}">\r\n\t\t\t\t\t\t\t\t\t<span class="select is-fullwidth">\r\n\t\t\t\t\t\t\t\t\t<select #js id="jurisdicciones"  (change)="cambioSeleccionJurisdiccion(js.value)">\r\n\t\t\t\t\t\t\t\t\t\t<option value="-1" *ngIf="cargandoJurisdicciones">Cargando...</option>\r\n\t\t\t\t\t\t\t\t\t\t<option value="-1" *ngIf="!cargandoJurisdicciones">Todas</option>\r\n\t\t\t\t\t\t\t\t\t\t<option *ngFor="let item of jurisdicciones" value="{{item.id}}">JS {{ item.numero }} - {{ item.nombre }}</option>\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class="columns">                            \r\n\t\t\t\t\t\t\t<div class="column">\r\n\t\t\t\t\t\t\t\t<label for="fechaInicio">Fecha inicio:</label>\r\n\t\t\t\t\t\t\t\t<p class="control "  [ngClass]="{\'is-loading\': cargandoFechas, \'is-disabled\': cargandoFechas}">\r\n\t\t\t\t\t\t\t\t\t<span class="select is-fullwidth">\r\n\t\t\t\t\t\t\t\t\t\t<select id="fechaInicio" (change)="lista=[]" [(ngModel)]="fechaInicio">\r\n\t\t\t\t\t\t\t\t\t\t\t<option value="-1" *ngIf="cargandoFechas">Cargando...</option>\r\n\t\t\t\t\t\t\t\t\t\t\t<option value="-1" *ngIf="!cargandoFechas">Cualquier fecha</option>\r\n\t\t\t\t\t\t\t\t\t\t\t<option *ngFor="let item of listaMesesAnios" [value]="item.fecha">{{ item.mes_nombre }}/{{ item.anio }}</option>\r\n\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</p> \r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class="column">\r\n\t\t\t\t\t\t\t\t<label for="fechaInicio">Fecha fin:</label>\r\n\t\t\t\t\t\t\t\t<p class="control "  [ngClass]="{\'is-loading\': cargandoFechas, \'is-disabled\': cargandoFechas}">\r\n\t\t\t\t\t\t\t\t\t<span class="select is-fullwidth">\r\n\t\t\t\t\t\t\t\t\t\t<select id="fechaFin" (change)="lista=[]"  [(ngModel)]="fechaFin">\r\n\t\t\t\t\t\t\t\t\t\t\t<option value="-1" *ngIf="cargandoFechas">Cargando...</option>\r\n\t\t\t\t\t\t\t\t\t\t\t<option value="-1" *ngIf="!cargandoFechas">Cualquier fecha</option>\r\n\t\t\t\t\t\t\t\t\t\t\t<option *ngFor="let item of listaMesesAnios" [value]="item.fecha">{{ item.mes_nombre }}/{{ item.anio }}</option>\r\n\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</p> \r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\x3c!--\r\n\t\t\t\t\t\t\t<div class="column">\r\n\t\t\t\t\t\t\t\t<label for="statusPedido">Status pedido:</label>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<p class="control is-expanded">\r\n\t\t\t\t\t\t\t\t\t<span class="select is-fullwidth">\r\n\t\t\t\t\t\t\t\t\t<select  id="statusPedido" (change)="lista=[]" [(ngModel)]="statusSeleccionado">\r\n\t\t\t\t\t\t\t\t\t\t<option value="-1">Todos</option>\r\n\t\t\t\t\t\t\t\t\t\t<option *ngFor="let item of status" value="{{item.id}}">{{ item.nombre }}</option>\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t--\x3e\r\n\t\t\t\t\t\t\t<div class="column">\r\n\t\t\t\t\t\t\t\t<label for="agrup">Agrupado por:</label>\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t<p class="control is-expanded">\r\n\t\t\t\t\t\t\t\t\t<span class="select is-fullwidth">\r\n\t\t\t\t\t\t\t\t\t<select  id="agrup" (change)="lista=[]"  [(ngModel)]="agrupadoPor">\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t<option *ngFor="let item of agrupacion" value="{{item.id}}">{{ item.nombre }}</option>\r\n\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div *ngIf="tiposUnidadSeleccionados.length>0  || jurisdiccionesSeleccionadas.length>0 || proveedoresSeleccionados.length>0">\r\n\t\t\t\t\t\t\t<h1 class="title is-6">Filtro aplicado:</h1>\r\n\t\t\t\t\t\t\t<span class="tag is-info is-medium" style="margin-bottom:0.5em; margin-right:0.2em;" *ngFor="let item of tiposUnidadSeleccionados; let i = index">{{ item.id }}<button class="delete is-small" (click)="quitarTipoUnidad(i)"></button></span>\r\n\t\t\t\t\t\t\t<span class="tag is-dark is-medium" style="margin-bottom:0.5em; margin-right:0.2em;" *ngFor="let item of proveedoresSeleccionados; let i = index">{{ item.nombre_corto }}<button class="delete is-small" (click)="quitarProveedor(i)"></button></span>\r\n\t\t\t\t\t\t\t<span class="tag is-white is-medium" style="margin-bottom:0.5em; margin-right:0.2em;" *ngFor="let item of jurisdiccionesSeleccionadas;  let i = index">JS {{ item.numero }}<button class="delete is-small" (click)="quitarJurisdiccion(i)"></button></span>\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<nav class="level">\r\n\t\t\t\t\t\t\t<div class="level-left" ><h1 class="title is-5">Resultados: <b>{{ lista.length }}</b></h1></div>\r\n\t\t\t\t\t\t\t<div class="level-right">\r\n\t\t\t\t\t\t\t\t<div class="block">\r\n\t\t\t\t\t\t\t\t<button class="button " *ngIf="tiposUnidadSeleccionados.length>0 || jurisdiccionesSeleccionadas.length>0 || proveedoresSeleccionados.length>0 || clues != \'\'" (click)="clues = \'\'; jurisdiccionesSeleccionadas = []; proveedoresSeleccionados = []; tiposUnidadSeleccionados =[]; js.value = -1; proveedoresSelect.value= -1; agrupadoPor=\'UM\'; statusSeleccionado = -1; tipoUnidadSelect.value = -1; fechaInicio =-1; fechaFin=-1; "><span class="icon"><i class="fa fa-times"></i></span> <span>Limpiar filtro</span></button>\r\n\t\t\t\t\t\t\t\t<button class="button is-primary is-inverted" (click)="listar()"><span class="icon"><i class="fa fa-filter"></i></span> <span>Generar</span></button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</nav>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</section>\r\n\t\t\t<div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n\t\t\t\t<br>\r\n\t\t\t\t<span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n\t\t\t\t<br>\r\n\t\t\t\t<br>\r\n\t\t\t</div>\r\n\t\t\t<div style="overflow-x:auto; width:100%; ">\r\n\t\t\t<table *ngIf="!cargando" class="table is-bordered" style="font-size:0.7em;">\r\n\t\t\t\t<thead *ngIf="agrupadoPor == \'UM\'">\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th colspan="8" rowspan="2"></th>\r\n\t\t\t\t\t\t<th colspan="6" style="text-align:center">Causes y Mat. Cur.</th>\r\n\t\t\t\t\t\t<th colspan="6" style="text-align:center">No Causes</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th colspan="3" style="text-align:center">Monto</th>\r\n\t\t\t\t\t\t<th colspan="3" style="text-align:center">Insumos</th>\r\n\t\t\t\t\t\t<th colspan="3" style="text-align:center">Monto</th>\r\n\t\t\t\t\t\t<th colspan="3" style="text-align:center">Insumos</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>#</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Clues</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Tipo</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Nombre</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Modificado</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Comprometido</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Devengado</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Disponible</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Solicitado</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Surtido</th>\r\n\t\t\t\t\t\t<th style="text-align:center">%</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Solicitado</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Surtido</th>\r\n\t\t\t\t\t\t<th style="text-align:center">%</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Solicitado</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Surtido</th>\r\n\t\t\t\t\t\t<th style="text-align:center">%</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Solicitado</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Surtido</th>\r\n\t\t\t\t\t\t<th style="text-align:center">%</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<thead *ngIf="agrupadoPor == \'P\'">\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th colspan="7" rowspan="2"></th>\r\n\t\t\t\t\t\t<th colspan="6" style="text-align:center">Causes y Mat. Cur.</th>\r\n\t\t\t\t\t\t<th colspan="6" style="text-align:center">No Causes</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th colspan="3" style="text-align:center">Monto</th>\r\n\t\t\t\t\t\t<th colspan="3" style="text-align:center">Insumos</th>\r\n\t\t\t\t\t\t<th colspan="3" style="text-align:center">Monto</th>\r\n\t\t\t\t\t\t<th colspan="3" style="text-align:center">Insumos</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th style="text-align:center">#</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Proveedor</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Cant. Clues</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Modificado</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Comprometido</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Devengado</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Disponible</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Solicitado</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Surtido</th>\r\n\t\t\t\t\t\t<th style="text-align:center">%</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Solicitado</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Surtido</th>\r\n\t\t\t\t\t\t<th style="text-align:center">%</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Solicitado</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Surtido</th>\r\n\t\t\t\t\t\t<th style="text-align:center">%</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Solicitado</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Surtido</th>\r\n\t\t\t\t\t\t<th style="text-align:center">%</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<thead *ngIf="agrupadoPor == \'NA\'">\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th colspan="7" rowspan="2"></th>\r\n\t\t\t\t\t\t<th colspan="6" style="text-align:center">Causes y Mat. Cur.</th>\r\n\t\t\t\t\t\t<th colspan="6" style="text-align:center">No Causes</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th colspan="3" style="text-align:center">Monto</th>\r\n\t\t\t\t\t\t<th colspan="3" style="text-align:center">Insumos</th>\r\n\t\t\t\t\t\t<th colspan="3" style="text-align:center">Monto</th>\r\n\t\t\t\t\t\t<th colspan="3" style="text-align:center">Insumos</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th style="text-align:center">#</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Nivel de Atenci\xf3n</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Cant. Clues</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Modificado</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Comprometido</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Devengado</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Disponible</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Solicitado</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Surtido</th>\r\n\t\t\t\t\t\t<th style="text-align:center">%</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Solicitado</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Surtido</th>\r\n\t\t\t\t\t\t<th style="text-align:center">%</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Solicitado</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Surtido</th>\r\n\t\t\t\t\t\t<th style="text-align:center">%</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Solicitado</th>\r\n\t\t\t\t\t\t<th style="text-align:center">Surtido</th>\r\n\t\t\t\t\t\t<th style="text-align:center">%</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\r\n\t\t\t\t<tbody >\r\n\t\t\t\t\t<tr *ngFor="let item of lista; let i=index; ">                        \r\n\t\t\t\t\t\t<td style="vertical-align: middle;">{{ i + 1 }}</td>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<td *ngIf="agrupadoPor == \'UM\'" style="vertical-align: middle;">{{ item.clues }}</td>\r\n\t\t\t\t\t\t<td *ngIf="agrupadoPor == \'UM\'" style="text-align:center; vertical-align: middle;">{{ item.tipo }}</td>\r\n\t\t\t\t\t\t<td *ngIf="agrupadoPor == \'UM\' || agrupadoPor == \'P\'" style="vertical-align: middle;">{{ item.nombre }}</td>\r\n\t\t\t\t\t\t<td *ngIf="agrupadoPor == \'NA\'" style="text-align:center; vertical-align: middle;">{{ item.nivel_atencion }} nivel</td>\r\n\t\t\t\t\t\t<td *ngIf="agrupadoPor == \'P\' || agrupadoPor == \'NA\'" style="text-align:center; vertical-align: middle;">{{ item.cantidad_clues | number }}</td>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<td style="text-align:right; vertical-align: middle;">${{ item.modificado  | number:\'1.2-2\' }}</td>\r\n\t\t\t\t\t\t<td style="text-align:right; vertical-align: middle;">${{ item.comprometido | number:\'1.2-2\' }}</td>\r\n\t\t\t\t\t\t<td style="text-align:right; vertical-align: middle;">${{ item.devengado | number:\'1.2-2\' }}</td>\r\n\t\t\t\t\t\t<td style="text-align:right; vertical-align: middle;">${{ item.disponible | number:\'1.2-2\' }}</td>\r\n\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<td style="text-align:right; vertical-align: middle;">${{ item.causes_mat_cur_monto_solicitado | number:\'1.2-2\' }}</td>\r\n\t\t\t\t\t\t<td style="text-align:right; vertical-align: middle;">${{ item.causes_mat_cur_monto_recibido | number:\'1.2-2\' }}</td>\r\n\t\t\t\t\t\t<td style="text-align:center; vertical-align: middle;">{{ item.causes_mat_cur_porcentaje_monto | number:\'1.2-2\' }}%</td>\r\n\r\n\t\t\t\t\t\t<td style="text-align:right; vertical-align: middle;">{{ item.causes_mat_cur_cantidad_solicitada | number }}</td>\r\n\t\t\t\t\t\t<td style="text-align:right; vertical-align: middle;">{{ item.causes_mat_cur_cantidad_recibida | number }}</td>\r\n\t\t\t\t\t\t<td style="text-align:center; vertical-align: middle;">{{ item.causes_mat_cur_porcentaje_cantidad | number:\'1.2-2\' }}%</td>\r\n\r\n\t\t\t\t\t\t<td style="text-align:right; vertical-align: middle;">${{ item.no_causes_monto_solicitado | number:\'1.2-2\' }}</td>\r\n\t\t\t\t\t\t<td style="text-align:right; vertical-align: middle;">${{ item.no_causes_monto_recibido | number:\'1.2-2\' }}</td>\r\n\t\t\t\t\t\t<td style="text-align:center; vertical-align: middle;">{{ item.no_causes_porcentaje_monto | number:\'1.2-2\' }}%</td>\r\n\r\n\t\t\t\t\t\t<td style="text-align:right; vertical-align: middle;">{{ item.no_causes_cantidad_solicitada | number }}</td>\r\n\t\t\t\t\t\t<td style="text-align:right; vertical-align: middle;">{{ item.no_causes_cantidad_recibida | number }}</td>\r\n\t\t\t\t\t\t<td style="text-align:center; vertical-align: middle;">{{ item.no_causes_porcentaje_cantidad | number:\'1.2-2\' }}%</td>\r\n\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr *ngIf="lista.length == 0">\r\n\t\t\t\t\t\t<td colspan="20" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>                    \r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</tbody>\r\n\t\t\t\t<tfoot *ngIf="lista.length > 0">\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th style="text-align:right;" [attr.colspan]="agrupadoPor == \'UM\' ? \'4\' : \'3\' ">TOTAL</th>\r\n\t\t\t\t\t\t<th style="text-align:right;" >${{ totalModificado | number:\'1.2-2\' }}</th>\r\n\t\t\t\t\t\t<th style="text-align:right;" >${{ totalComprometido | number:\'1.2-2\' }}</th>\r\n\t\t\t\t\t\t<th style="text-align:right;" >${{ totalDevengado | number:\'1.2-2\' }}</th>\r\n\t\t\t\t\t\t<th style="text-align:right;" >${{ totalDisponible | number:\'1.2-2\' }}</th>\r\n\r\n\r\n\r\n\t\t\t\t\t\t<th style="text-align:right;" >${{ totalMontoSolicitadoCausesMatCur | number:\'1.2-2\' }}</th>\r\n\t\t\t\t\t\t<th style="text-align:right;" >${{ totalMontoRecibidoCausesMatCur  | number:\'1.2-2\' }}</th>\r\n\t\t\t\t\t\t<th style="text-align:right;" >{{ totalMontoRecibidoCausesMatCur  * 100 / totalMontoSolicitadoCausesMatCur  | number:\'1.2-2\' }}%</th>\r\n\r\n\t\t\t\t\t\t<th style="text-align:right;" >{{ totalCantidadSolicitadaCausesMatCur  | number }}</th>\r\n\t\t\t\t\t\t<th style="text-align:right;" >{{ totalCantidadRecibidaCausesMatCur  | number }}</th>\r\n\t\t\t\t\t\t<th style="text-align:right;" >{{ totalCantidadRecibidaCausesMatCur  * 100 / totalCantidadSolicitadaCausesMatCur  | number:\'1.2-2\' }}%</th>\r\n\r\n\t\t\t\t\t\t<th style="text-align:right;" >${{ totalMontoSolicitadoNoCauses | number:\'1.2-2\' }}</th>\r\n\t\t\t\t\t\t<th style="text-align:right;" >${{ totalMontoRecibidoNoCauses | number:\'1.2-2\' }}</th>\r\n\t\t\t\t\t\t<th style="text-align:right;" >{{ totalMontoRecibidoNoCauses * 100 / totalMontoSolicitadoNoCauses | number:\'1.2-2\' }}%</th>\r\n\r\n\t\t\t\t\t\t<th style="text-align:right;" >{{ totalCantidadSolicitadaNoCauses | number }}</th>\r\n\t\t\t\t\t\t<th style="text-align:right;" >{{ totalCantidadRecibidaNoCauses | number }}</th>\r\n\t\t\t\t\t\t<th style="text-align:right;" >{{ totalCantidadRecibidaNoCauses * 100 / totalCantidadSolicitadaNoCauses | number:\'1.2-2\' }}%</th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</tfoot>\r\n\t\t\t</table>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t\t\x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n\t\t\r\n\t</div>\r\n</div>\r\n'},Zjmk:function(e,t){e.exports=""},a6Kf:function(e,t){e.exports=""},a9Vm:function(e,t){e.exports='<listar #ctrl URL="almacenes" titulo="Almacenes / Catalogo"></listar>\r\n<articulos-catalogo-menu></articulos-catalogo-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%; ">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em">\r\n        <div style="background: #FFF; border-radius: 1em; ">\r\n                    \r\n            \x3c!-- Opciones y busqueda --\x3e\r\n            <tabla-opciones [ctrl]="ctrl" [nombre]="\'Almacenes\'"></tabla-opciones>\r\n\r\n            <table class="table" *ngIf="!ctrl.cargando">\r\n                <thead>\r\n                    <tr>\r\n                        <th><abbr title="Usuario ID">ID</abbr></th>                        \r\n                        <th>Nombre</th>\r\n                        <th>Servidor</th>\r\n                        <th>Nivel</th>\r\n                        <th>Tipo</th>\r\n                        <th>Clues</th>\r\n                        <th>Subrogado</th>\r\n                        <th>Unidosis</th>\r\n                        <th style="text-align:center;">Opciones</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody *ngIf="!ctrl.busquedaActivada">\r\n                    <tr *ngFor="let item of ctrl.dato; let i=index">\r\n                        <th style="vertical-align: middle;"><a routerLink="/catalogos/almacenes/editar/{{item.id}}">{{ item.id }}</a></th>                        \r\n                        <td style="vertical-align: middle;"><a routerLink="/catalogos/almacenes/editar/{{item.id}}">{{ item.nombre }} </a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/catalogos/almacenes/editar/{{item.id}}">{{ item.servidor_id }} </a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/catalogos/almacenes/editar/{{item.id}}">{{ item.nivel_almacen == 1 ? \'HACE PEDIDOS AL PROVEEDOR\' : \'HACE PEDIDOS A OTRO ALMACEN DENTRO DE LA CLUES\'}} </a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/catalogos/almacenes/editar/{{item.id}}">{{ item.tipo_almacen }} </a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/catalogos/almacenes/editar/{{item.id}}">{{ item.clues }} </a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/catalogos/almacenes/editar/{{item.id}}">{{ item.subrogado == 0 ? \'No\' : \'Si\'}} </a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/catalogos/almacenes/editar/{{item.id}}">{{ item.unidosis  == 0 ? \'No\' : \'Si\'}} </a></td>\r\n                        <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                    </tr>\r\n                    <tr *ngIf="ctrl.dato.length == 0">\r\n                        <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>\r\n                    </tr>\r\n                </tbody>\r\n                <tbody *ngIf="ctrl.busquedaActivada">\r\n                    <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">\r\n                        <th style="vertical-align: middle;"><a routerLink="/catalogos/almacenes/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                        <td style="vertical-align: middle;"><a routerLink="/catalogos/almacenes/editar/{{item.id}}">{{ item.nombre }} </a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/catalogos/almacenes/editar/{{item.id}}">{{ item.servidor_id }} </a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/catalogos/almacenes/editar/{{item.id}}">{{ item.nivel_almacen == 1 ? \'HACE PEDIDOS AL PROVEEDOR\' : \'HACE PEDIDOS A OTRO ALMACEN DENTRO DE LA CLUES\'}} </a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/catalogos/almacenes/editar/{{item.id}}">{{ item.tipo_almacen }} </a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/catalogos/almacenes/editar/{{item.id}}">{{ item.clues }} </a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/catalogos/almacenes/editar/{{item.id}}">{{ item.subrogado == 0 ? \'No\' : \'Si\'}} </a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/catalogos/almacenes/editar/{{item.id}}">{{ item.unidosis  == 0 ? \'No\' : \'Si\'}} </a></td>\r\n                        <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                    </tr>\r\n\r\n                    <tr *ngIf="ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada">\r\n                        <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [ctrl]="ctrl"></paginacion>\r\n        </div>\r\n\r\n    </div>\r\n</div>'},aBcd:function(e,t){e.exports='<listar #ctrl URL="medicamentos" titulo="Medicamentos / Catalogo"></listar>\r\n<app-menu-catalogo></app-menu-catalogo>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:90%; padding-top: 1em;">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em">\r\n        <div style="background: #FFF; border-radius: 1em; ">\r\n                    \r\n            \x3c!-- Opciones y busqueda --\x3e\r\n            <tabla-opciones \r\n                #opciones\r\n                [ctrl]="ctrl"\r\n                [nombre]="\'Medicamentos\'"\r\n                [ruta]="\'medicamentos\'"\r\n                [ruta_pdf]="\'catalogos-parametros/lista-medicamentos.js\'"></tabla-opciones>\r\n\r\n            <div style="overflow:auto; display:block" [style.maxHeight.px]="ctrl.tamano-300">\r\n\r\n                <div class="is-fullwidth has-text-centered" *ngIf="opciones.cargandoPdf">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Generando PDF...</span></span>\r\n                    <br>\r\n                    <br>\r\n                </div>\r\n                <table class="table" *ngIf="!ctrl.cargando && !opciones.cargandoPdf">\r\n\r\n                    <thead>\r\n                        <tr>\r\n                            <th><abbr title="Usuario ID">ID</abbr></th>\r\n                            <th>Clave</th>\r\n                            <th>Cantidad por envase</th>\r\n                            <th>Concentracion</th>\r\n                            <th>Contenido</th>\r\n                            <th>Dosis</th>\r\n                            <th>Es controlado</th>\r\n                            <th>Es surfactante</th>\r\n                            <th style="text-align:center;">Opciones</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody *ngIf="!ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.dato; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/catalogos-parametros/medicamentos/editar/{{item.insumo_medico_clave}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/medicamentos/editar/{{item.insumo_medico_clave}}">{{ item.insumo_medico_clave }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/medicamentos/editar/{{item.insumo_medico_clave}}">{{ item.cantidad_x_envase }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/medicamentos/editar/{{item.insumo_medico_clave}}">{{ item.concentracion }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/medicamentos/editar/{{item.insumo_medico_clave}}">{{ item.contenido }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/medicamentos/editar/{{item.insumo_medico_clave}}">{{ item.dosis }} </a></td>                            \r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/medicamentos/editar/{{item.insumo_medico_clave}}">{{ item.es_controlado == 1 ? \'Si\': \'No\' }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/medicamentos/editar/{{item.insumo_medico_clave}}">{{ item.es_surfactante == 1 ? \'Si\': \'No\' }} </a></td>                        \r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i, \'insumo_medico_clave\')"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n                        <tr *ngIf="ctrl.dato.length == 0">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                    <tbody *ngIf="ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/catalogos-parametros/medicamentos/editar/{{item.insumo_medico_clave}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/medicamentos/editar/{{item.insumo_medico_clave}}">{{ item.insumo_medico_clave }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/medicamentos/editar/{{item.insumo_medico_clave}}">{{ item.cantidad_x_envase }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/medicamentos/editar/{{item.insumo_medico_clave}}">{{ item.concentracion }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/medicamentos/editar/{{item.insumo_medico_clave}}">{{ item.contenido }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/medicamentos/editar/{{item.insumo_medico_clave}}">{{ item.dosis }} </a></td>                            \r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/medicamentos/editar/{{item.insumo_medico_clave}}">{{ item.es_controlado == 1 ? \'Si\': \'No\' }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/medicamentos/editar/{{item.insumo_medico_clave}}">{{ item.es_surfactante == 1 ? \'Si\': \'No\' }} </a></td>                        \r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i, \'insumo_medico_clave\')"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n                        <tr *ngIf="ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [ctrl]="ctrl"></paginacion>\r\n        </div>\r\n\r\n    </div>\r\n</div>'},aMU3:function(e,t){e.exports='<listar #ctrl URL="material-curacion" titulo="Material curaci\xf3n / Catalogo"></listar>\r\n<app-menu-catalogo></app-menu-catalogo>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:90%; padding-top: 1em;">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em">\r\n        <div style="background: #FFF; border-radius: 1em; ">\r\n                    \r\n            \x3c!-- Opciones y busqueda --\x3e\r\n            <tabla-opciones \r\n                #opciones\r\n                [ctrl]="ctrl"\r\n                [nombre]="\'Material de curaci\xf3n\'"\r\n                [ruta]="\'material-curacion\'"\r\n                [ruta_pdf]="\'catalogos-parametros/lista-material-curacion.js\'"></tabla-opciones>\r\n\r\n            <div style="overflow:auto; display:block" [style.maxHeight.px]="ctrl.tamano-300">\r\n\r\n                <div class="is-fullwidth has-text-centered" *ngIf="opciones.cargandoPdf">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Generando PDF...</span></span>\r\n                    <br>\r\n                    <br>\r\n                </div>\r\n                <table class="table" *ngIf="!ctrl.cargando && !opciones.cargandoPdf">\r\n\r\n                    <thead>\r\n                        <tr>\r\n                            <th><abbr title="Usuario ID">ID</abbr></th>\r\n                            <th>Cantidad por envase</th>\r\n                            <th>Clave</th>\r\n                            <th>Nombre</th>\r\n                            <th>Funcion</th>\r\n                            <th>Unidad de medida</th>                        \r\n                            <th style="text-align:center;">Opciones</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody *ngIf="!ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.dato; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/catalogos-parametros/material-curacion/editar/{{item.insumo_medico_clave}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/material-curacion/editar/{{item.insumo_medico_clave}}">{{ item.cantidad_x_envase }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/material-curacion/editar/{{item.insumo_medico_clave}}">{{ item.insumo_medico_clave }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/material-curacion/editar/{{item.insumo_medico_clave}}">{{ item.nombre_generico_especifico }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/material-curacion/editar/{{item.insumo_medico_clave}}">{{ item.funcion }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/material-curacion/editar/{{item.insumo_medico_clave}}">{{ item.unidad_medida.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i, \'insumo_medico_clave\')"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n                        <tr *ngIf="ctrl.dato.length == 0">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                    <tbody *ngIf="ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/catalogos-parametros/material-curacion/editar/{{item.insumo_medico_clave}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/material-curacion/editar/{{item.insumo_medico_clave}}">{{ item.cantidad_x_envase }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/material-curacion/editar/{{item.insumo_medico_clave}}">{{ item.insumo_medico_clave }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/material-curacion/editar/{{item.insumo_medico_clave}}">{{ item.nombre_generico_especifico }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/material-curacion/editar/{{item.insumo_medico_clave}}">{{ item.funcion }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/material-curacion/editar/{{item.insumo_medico_clave}}">{{ item.unidad_medida.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i, \'insumo_medico_clave\')"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n\r\n                        <tr *ngIf="ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [ctrl]="ctrl"></paginacion>\r\n        </div>\r\n\r\n    </div>\r\n</div>'},aZKm:function(e,t){e.exports='<formulario #ctrl URL="tipo-insumo" titulo="Tipo insumo / Catalogo" [dato]="dato"></formulario>\r\n<app-menu-catalogo></app-menu-catalogo>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns" style="height:90%;  padding-top: 1em;">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em;">\r\n        \x3c!-- formulario --\x3e\r\n        <form name="form" novalidate [formGroup]="dato" (ngSubmit)="ctrl.enviar()">\r\n            <div style="background: #FFF; overflow: hidden;">\r\n                <section class="hero is-primary">\r\n                    <div class="hero-body">\r\n                        \x3c!-- Opciones  --\x3e\r\n                        <formulario-opciones\r\n                            [ctrl]="ctrl"\r\n                            class="control is-grouped"\r\n                            style="position:absolute; top:8em; right:3em;">\r\n                        </formulario-opciones>\r\n                        <div class="container is-fluid">\r\n                            <h1 class="title">\r\n                                <span *ngIf="!ctrl.cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                <span *ngIf="ctrl.cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>                                {{ctrl.moduloTitulo}} tipo de insumo\r\n                            </h1>\r\n\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>                    &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n                <section class="section">\r\n\r\n\r\n                    <div class="field">\r\n                        <label class="label">ID:</label>\r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                            <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'id\').hasError(\'required\') && ctrl.dato.get(\'id\').touched}"\r\n                                placeholder="id" formControlName="id">\r\n                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'id\').hasError(\'required\') && ctrl.dato.get(\'id\').touched">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'id\').hasError(\'required\') && ctrl.dato.get(\'id\').touched">Este campo es requerido.</span>\r\n                        </p>\r\n                    </div>\r\n\r\n                    <div class="field">\r\n                        <label class="label">Nombre:</label>\r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                            <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'nombre\').hasError(\'required\')}" placeholder="nombre"\r\n                                formControlName="nombre">\r\n                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">Este campo es requerido.</span>\r\n                        </p>\r\n                    </div>\r\n\r\n                </section>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>'},aeT4:function(e,t){e.exports=".top-nav { position: fixed; width: 100%;top:0px; z-index:99; background: #00d1b2; }\r\n\r\n\r\nnav {\r\n    background-color:#00d1b2;\r\n    color: #FFF !important;\r\n}\r\n\r\n\r\na.nav-hub-active { background:rgba(0,0,0,0.05); width:4em !important;}\r\n\r\n\r\na.nav-hub-active:hover { background:rgba(0,0,0,0.1);}\r\n\r\n\r\nnav a { color: #FFF ; color: rgba(255,255,255,0.9)  !important;}\r\n\r\n\r\nnav a:hover { color: #FFF !important;}\r\n\r\n\r\nnav .title  { color:#FFF;}\r\n\r\n\r\nnav a .title { color:#FFF; color: rgba(255,255,255,0.9)  !important;}\r\n\r\n\r\nnav a:hover .title { color:#FFF !important; }\r\n\r\n\r\n.unidad-trabajo {\r\n\tfont-size: 0.7em;\r\n\ttext-align: right !important;\r\n\tpadding: 1em;\r\n    vertical-align: middle;\r\n    text-shadow: 2px 2px slategray;\r\n}"},aegp:function(e,t){e.exports='<admision-menu></admision-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%; ">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <admision-menu-lateral></admision-menu-lateral>\r\n    </div>\r\n    <div class="column" style="padding:2em;">\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n            <section class="hero" [ngClass] = " \'is-primary\' " >\r\n                \r\n                <div class="hero-body" style="position:relative;">\r\n                    \r\n                    <div class="container is-fluid">\r\n                        \r\n                        <h1 class="title">\r\n                            <span class="icon is-medium"><i class="fa fa-user"></i></span> Editar Paciente\r\n                        </h1>\r\n                        \r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n            \x3c!-- Form Nuevo --\x3e\r\n            <section class="section">\r\n\t            <form name="form" novalidate [formGroup]="paciente"  (ngSubmit)="enviar()">     \r\n\t            \r\n\t              <div class="control is-grouped">\r\n\t                <p class="control is-expanded  has-icon has-icon-right">\r\n\t                \t<label class="label">Nombre</label>\r\n\t                  <input class="input" autofocus type="text"  placeholder="Nombre" formControlName="nombre">\r\n\t                  <span class="icon is-small" *ngIf="paciente.get(\'nombre\').hasError(\'required\') && paciente.get(\'nombre\').touched">\r\n\t                    <i class="fa fa-warning"></i>\r\n\t                  </span>\r\n\t                  <span class="help is-danger" *ngIf="paciente.get(\'nombre\').hasError(\'required\') && paciente.get(\'nombre\').touched">Este campo es requerido.</span>\r\n\t                </p>\r\n\t                \r\n\t              </div>\r\n\t              <div class="control is-grouped">\r\n\t                <p class="control is-expanded  has-icon has-icon-right">\r\n\t                \t<label class="label">Sexo</label>\r\n\t                \t<span class="select is-fullwidth">\r\n\t\t                \t<select  formControlName="sexo"  name="sexo">\r\n\t\t                \t\t<option value="1" selected="selected">MASCULINO</option>\r\n\t\t                \t\t<option value="2">FAMENINO</option>\r\n\t\t                \t</select>\r\n\r\n\t\t                </span>\t\r\n\t                 \t<span class="icon is-small" *ngIf="paciente.get(\'sexo\').hasError(\'required\') && paciente.get(\'sexo\').touched">\r\n\t\t                     \t<i class="fa fa-warning"></i>\r\n\t\t                    </span>\r\n\t\t                    <span class="help is-danger" *ngIf="paciente.get(\'sexo\').hasError(\'required\') && paciente.get(\'sexo\').touched">Este campo es requerido.</span>\r\n\t                </p>\r\n\t                <p class="control is-expanded has-icon has-icon-right">\r\n\t                \t<label class="label">Tel\xe9fono</label>\r\n\t                  <input class="input" type="text" placeholder="Telefono" formControlName="telefono">\r\n\t                  <span class="icon is-small" *ngIf="paciente.get(\'telefono\').hasError(\'required\') && paciente.get(\'telefono\').touched">\r\n\t                    <i class="fa fa-warning"></i>\r\n\t                  </span>\r\n\t                  <span class="help is-danger" *ngIf="paciente.get(\'telefono\').hasError(\'required\') && paciente.get(\'telefono\').touched">Este campo es requerido.</span>\r\n\t                </p>\r\n\t                <p class="control is-expanded has-icon has-icon-right">\r\n\t                <label class="label">Fecha Nacimiento</label>\r\n\t                  <input class="input" type="text" placeholder="AAAA/mm/dd" formControlName="fecha_nacimiento">\r\n\t                  <span class="icon is-small" *ngIf="paciente.get(\'fecha_nacimiento\').hasError(\'required\') && paciente.get(\'fecha_nacimiento\').touched">\r\n\t                    <i class="fa fa-warning"></i>\r\n\t                  </span>\r\n\t                  <span class="help is-danger" *ngIf="paciente.get(\'fecha_nacimiento\').hasError(\'required\') && paciente.get(\'fecha_nacimiento\').touched">Este campo es requerido.</span>\r\n\t                </p>\r\n\t                <p class="control is-expanded has-icon has-icon-right">\r\n\t                \t<label class="label">Hora Nacimiento (si aplica)</label>\r\n\t                  <input class="input" type="text" placeholder="HH:mm" formControlName="hora_nacimiento">\r\n\t                 \r\n\t                </p>\r\n\t              </div>\r\n\t              <div class="control is-grouped">\r\n\t              \t\r\n\t                <p class="control is-expanded  has-icon has-icon-right">\r\n\t                \t<label class="label">Domicilio</label>\r\n\t                \t<input class="input" type="text" placeholder="Domicilio" formControlName="domicilio">\r\n\t                \t<span class="icon is-small" *ngIf="paciente.get(\'domicilio\').hasError(\'required\') && paciente.get(\'domicilio\').touched">\r\n\t\t                    <i class="fa fa-warning"></i>\r\n\t\t                </span>\r\n\t\t                <span class="help is-danger" *ngIf="paciente.get(\'domicilio\').hasError(\'required\') && paciente.get(\'domicilio\').touched">Este campo es requerido.</span>\r\n\t                 \r\n\t                </p>\r\n\t                <p class="control is-expanded has-icon has-icon-right">\r\n\t                <label class="label">Colonia</label>\r\n\t                  <input class="input" type="text" placeholder="Colonia" formControlName="colonia">\r\n\t                  <span class="icon is-small" *ngIf="paciente.get(\'colonia\').hasError(\'required\') && paciente.get(\'colonia\').touched">\r\n\t                    <i class="fa fa-warning"></i>\r\n\t                  </span>\r\n\t                  <span class="help is-danger" *ngIf="paciente.get(\'colonia\').hasError(\'required\') && paciente.get(\'colonia\').touched">Este campo es requerido.</span>\r\n\t                </p>\r\n\t             </div>\r\n\t             <div class="control is-grouped">  \r\n\t             \t\r\n\t                <p class="control is-expanded has-icon has-icon-right">\r\n\t                  <label class="label">Municipio</label> \r\n\t                  <span class="select is-fullwidth">\r\n\t\t                \t<select  formControlName="municipio_id" name="municipio_id" #municipio (change)="cargarLocalidades(municipio.value)">\r\n\t\t                \t\t<option *ngFor="let item of Municipios" value="{{item.id}}">{{ item.nombre }} </option>\r\n\t\t                \t</select>\r\n\t\t                \t\r\n\t\t                </span>\t\r\n\t\t                <span class="icon is-small" *ngIf="paciente.get(\'municipio_id\').hasError(\'required\') && paciente.get(\'municipio_id\').touched">\r\n\t                     \t<i class="fa fa-warning"></i>\r\n\t                    </span>\r\n\t                    <span class="help is-danger" *ngIf="paciente.get(\'municipio_id\').hasError(\'required\') && paciente.get(\'municipio_id\').touched">Este campo es requerido.</span>\r\n\t                </p>\r\n\t                <p class="control is-expanded has-icon has-icon-right">\r\n\t                  <label class="label">Localidad</label>\t\r\n\t                  <span class="select is-fullwidth">\r\n\t\t                \t<select formControlName="localidad_id" name="localidad_id">\r\n\t\t                \t\t<option *ngFor="let item of Localidades" value="{{item.id}}">{{ item.nombre }} </option>\r\n\t\t                \t</select>\r\n\t\t                \t\r\n\t\t                </span>\t\r\n\t\t                <span class="icon is-small" *ngIf="paciente.get(\'localidad_id\').hasError(\'required\') && paciente.get(\'localidad_id\').touched">\r\n\t\t                     \t<i class="fa fa-warning"></i>\r\n\t\t                    </span>\r\n\t\t                <span class="help is-danger" *ngIf="paciente.get(\'localidad_id\').hasError(\'required\') && paciente.get(\'localidad_id\').touched">Este campo es requerido.</span>\r\n\t                </p>\r\n\t              </div>\r\n\t              <div class="control is-grouped">   \r\n\t                \r\n\t                <p class="control is-expanded has-icon has-icon-right">\r\n\t                  \t<label class="label">No Expediente</label>\r\n\t\t                <input class="input" type="text" placeholder="No Expediente" formControlName="no_expediente">\r\n\t                    <span class="icon is-small" *ngIf="paciente.get(\'no_expediente\').hasError(\'required\') && paciente.get(\'no_expediente\').touched">\r\n\t                     \t<i class="fa fa-warning"></i>\r\n\t                    </span>\r\n\t                    <span class="help is-danger" *ngIf="paciente.get(\'no_expediente\').hasError(\'required\') && paciente.get(\'no_expediente\').touched">Este campo es requerido.</span>\r\n\t\t                \r\n\t                </p>\r\n\t                <p class="control is-expanded has-icon has-icon-right">\r\n\t                  \t<label class="label">No Afililaci\xf3n</label>\r\n\t\t                <input class="input" type="text" placeholder="No Afiliaci\xf3n" formControlName="no_afiliacion">\r\n\t                    <span class="icon is-small" *ngIf="paciente.get(\'no_afiliacion\').hasError(\'required\') && paciente.get(\'no_afiliacion\').touched">\r\n\t                     \t<i class="fa fa-warning"></i>\r\n\t                    </span>\r\n\t                    <span class="help is-danger" *ngIf="paciente.get(\'no_afiliacion\').hasError(\'required\') && paciente.get(\'no_afiliacion\').touched">Este campo es requerido.</span>\r\n\t\t                \r\n\t                </p>\r\n\t              </div>\r\n\r\n\t              <div class="control is-grouped">\r\n                    <p class="control is-expanded  has-icon has-icon-right">\r\n                        <label class="label">Resposable Conocido</label>\r\n                        <span class="select is-fullwidth">\r\n                            <select formControlName="responsableconocido" name="responsableconocido" (change)="responsable()">\r\n                                <option value="1">SI</option>\r\n                                <option value="2">NO</option>\r\n                            </select>\r\n\r\n                        </span> \r\n                    </p>\r\n                  </div>\r\n                  <div [hidden]="verFormResponsable">\r\n                      <section class="section" style="padding: 1rem 1.5rem; background-color: #EFEFEF">\r\n                            <div class="container">\r\n                              <div class="heading">\r\n                                <h1 class="title">Datos del Responsable</h1>\r\n                              </div>\r\n                            </div>\r\n                        </section>  \r\n                      <div class="control is-grouped">\r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                            <label class="label">Nombre</label>\r\n                          <input class="input" autofocus type="text"  placeholder="Nombre Responsable" formControlName="nombre_responsable">\r\n                          <span class="icon is-small" *ngIf="paciente.get(\'nombre_responsable\').hasError(\'required\') && paciente.get(\'nombre_responsable\').touched">\r\n                            <i class="fa fa-warning"></i>\r\n                          </span>\r\n                          <span class="help is-danger" *ngIf="paciente.get(\'nombre_responsable\').hasError(\'required\') && paciente.get(\'nombre_responsable\').touched">Este campo es requerido.</span>\r\n                        </p>\r\n                        \r\n                      </div>\r\n                      <div class="control is-grouped">\r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                            <label class="label">Patentesco</label>\r\n                               <input class="input" autofocus type="text"  placeholder="Parentesco" formControlName="parentesco">\r\n                              <span class="icon is-small" *ngIf="paciente.get(\'parentesco\').hasError(\'required\') && paciente.get(\'parentesco\').touched">\r\n                                <i class="fa fa-warning"></i>\r\n                              </span>\r\n                              <span class="help is-danger" *ngIf="paciente.get(\'parentesco\').hasError(\'required\') && paciente.get(\'parentesco\').touched">Este campo es requerido.</span>\r\n\r\n                        </p>\r\n                         <p class="control is-expanded  has-icon has-icon-right">\r\n                            <label class="label">Domicilio</label>\r\n                            <input class="input" type="text" placeholder="Domicilio Responsable" formControlName="domicilio_responsable">\r\n                            <span class="icon is-small" *ngIf="paciente.get(\'domicilio_responsable\').hasError(\'required\') && paciente.get(\'domicilio_responsable\').touched">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                            <span class="help is-danger" *ngIf="paciente.get(\'domicilio_responsable\').hasError(\'required\') && paciente.get(\'domicilio_responsable\').touched">Este campo es requerido.</span>\r\n                         \r\n                        </p>\r\n                        <p class="control is-expanded has-icon has-icon-right">\r\n                            <label class="label">Tel\xe9fono</label>\r\n                          <input class="input" type="text" placeholder="Telefono Responsable" formControlName="telefono_responsable">\r\n                          <span class="icon is-small" *ngIf="paciente.get(\'telefono_responsable\').hasError(\'required\') && paciente.get(\'telefono_responsable\').touched">\r\n                            <i class="fa fa-warning"></i>\r\n                          </span>\r\n                          <span class="help is-danger" *ngIf="paciente.get(\'telefono_responsable\').hasError(\'required\') && paciente.get(\'telefono_responsable\').touched">Este campo es requerido.</span>\r\n                        </p>\r\n                        \r\n                      </div>\r\n                     \r\n                    </div> \r\n\t              <br><br>\r\n\t              <div class="control is-grouped">\r\n\t                <p class="control">\r\n\t                  <button class="button is-primary" type="submit" [ngClass]="{\'is-loading\': cargando}" [disabled]="paciente.invalid">Guardar</button>\r\n\t                </p>\r\n\t                \r\n\t                <p class="control">\r\n\t                  <a class="button is-white" (click)="regresar()" >Regresar</a>\r\n\t                </p>\r\n\t              </div>\r\n\t          </form>\r\n\t        </section>  \r\n            \x3c!--  Fin Nuevo  --\x3e\r\n        </div>\r\n    </div>\r\n</div>    \r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <p><b>Error:</b> {{ mensajeError.texto }}<br></p>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeError.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n<div class="notification is-warning" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeAdvertencia.mostrar">\r\n    <button class="delete" (click)="mensajeAdvertencia.mostrar = false"></button>        \r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-warning"></i></span> <span>{{ mensajeAdvertencia.texto }}</span></p>\r\n    \r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeAdvertencia.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>    '},ayZJ:function(e,t){e.exports='<listar #ctrl URL="movimientos?tipo=2&fecha_desde={{fecha_desde}}&fecha_hasta={{fecha_hasta}}&turno={{turno}}&servicio={{servicio}}&recibe={{recibe}}" titulo="Salida  de almac\xe9n"></listar>\r\n<menu-farmacia [modulo]="\'Salidas  de almac\xe9n\'" [icono]="\'assets/icono-salidas.svg\'" [url]="\'/almacen/salidas-estandar\'"></menu-farmacia>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%; ">\r\n    <div class="column" style="padding:2em; overflow:auto;">\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n            <section class="hero" [ngClass]=" {\'is-dark\': ctrl.busquedaActivada, \'is-primary\': !ctrl.busquedaActivada } ">\r\n\r\n                <div class="hero-body" style="position:relative;">\r\n                    <nav class="level">\r\n                        <div class="level-left"></div>\r\n                        \x3c!-- Right side --\x3e\r\n                        <div class="level-right">\r\n                            <p class="level-item"><a class="button is-dark is-medium" routerLink="nuevo" *ngIf="ctrl.busquedaActivada"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;<span>Nueva salida</span></a></p>\r\n                            <p class="level-item"><a class="button is-primary is-medium" routerLink="nuevo" *ngIf="!ctrl.busquedaActivada"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;<span>Nueva salida</span></a></p>\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" (click)="ctrl.busquedaActivada=false;searchBox.value=\'\'; ctrl.resultadosBusqueda=[]"><span class="icon "><i class="fa fa-close"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="Actualizar" (click)="ctrl.listarBusqueda(searchBox.value,1)"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="Actualizar" (click)="ctrl.listar(1)"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="PDF" (click)="imprimir()"><span class="icon "><i class="fa fa-file-pdf-o"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="PDF" (click)="imprimir()"><span class="icon "><i class="fa fa-file-pdf-o"></i></span></a></p>\r\n\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="Excel" (click)="export_excel()"><span class="icon "><i class="fa fa-file-excel-o"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="Excel" (click)="export_excel()"><span class="icon "><i class="fa fa-file-excel-o"></i></span></a></p>\r\n                            <p class="level-item">&nbsp;</p>\r\n                        </div>\r\n                    </nav> \r\n                    <div class="container is-fluid" id="titulo">\r\n                        <span></span>\r\n                        <div class="is-hidden-desktop">\r\n                            <h1 class="title" *ngIf="!ctrl.busquedaActivada">\r\n                                <span class="icon is-medium"><i class="fa fa-user"></i></span> Salidas  de almac\xe9n\r\n                            </h1>\r\n                        </div>\r\n                        <h1 class="title" *ngIf="ctrl.busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-search"></i></span> B\xfasqueda\r\n                        </h1>\r\n                        <div class="control is-grouped">\r\n                            <div class="control">\r\n                                <div class="field">   \r\n                                    <label class="label">Desde:</label>                         \r\n                                    <input  style="width: 150px;" class="input is-medium" [(ngModel)]=\'fecha_desde\' ngui-datetime-picker date-only="true" placeholder="YYYY-MM-DD" />\r\n                                </div>\r\n                            </div>\r\n                            <div class="control is-expanded" >\r\n                                <div class="field">   \r\n                                    <label class="label">Hasta:</label>                         \r\n                                    <input style="width: 150px;" class="input is-medium" [(ngModel)]=\'fecha_hasta\' ngui-datetime-picker date-only="true" placeholder="YYYY-MM-DD" />\r\n                                </div>\r\n                            </div>\r\n                            \x3c!-- /*******************************************/ --\x3e\r\n                            <div class="control is-expanded" *ngIf="!ctrl.cargando">                                \r\n                                <div class="field">\r\n                                    <label class="label">Turno:</label>\r\n                                    <div class="select is-medium">\r\n                                        <select *ngIf="ctrl.dato" class="select is-medium" [(ngModel)]="turno" #tr>\r\n                                            <option value="">Todos</option>\r\n                                            <option *ngFor="let val of ctrl.dato[ctrl.dato.length-1].turnos_disponibles" value="{{val.id}}" >{{ val.nombre }}</option>\r\n                                        </select>\r\n                                        <select *ngIf="!ctrl.dato"  class="select is-medium" [(ngModel)]="turno" #tr>\r\n                                            <option value="">Todos</option>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class="control is-expanded" *ngIf="!ctrl.cargando">\r\n                                <div class="field ">\r\n                                    <label class="label">Servicio:</label>\r\n                                    <div class="select is-medium ">\r\n                                        <select *ngIf="ctrl.dato" class="select is-medium" [(ngModel)]="servicio" #sr>\r\n                                            <option value="">Todos</option>\r\n                                            <option *ngFor="let val of ctrl.dato[ctrl.dato.length-1].servicios_disponibles" value="{{val.id}}" >{{ val.nombre }}</option>\r\n                                        </select>\r\n                                        <select *ngIf="!ctrl.dato" class="select is-medium" [(ngModel)]="servicio" #sr>\r\n                                            <option value="">Todos</option>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class="control is-expanded">\r\n                                <div class="field">   \r\n                                    <label class="label">Recibe:</label>                         \r\n                                    <input class="input is-medium" type="text" placeholder="Persona que recibe" [(ngModel)]="recibe">\r\n                                </div>\r\n                            </div>\r\n                            <div class="control">\r\n                                <div class="field">  \r\n                                <label class="label">&nbsp;</label>\r\n                                <button class="button is-default is-medium" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="recibe=\'\';servicio=\'\'; turno=\'\'; fecha_desde=\'\'; fecha_hasta=\'\';" >Limpiar</button>\r\n                                </div>\r\n                            </div>\r\n                            <div class="control">\r\n                                <div class="field">  \r\n                                <label class="label">&nbsp;</label>\r\n                                <button class="button is-info is-medium" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="ctrl.listar(1)" >Filtrar</button>\r\n                                </div>\r\n                            </div>\r\n                            \x3c!-- <div>\r\n                                <p style="border: 2px solid #ebebeb; min-width: 100%; border-bottom: 0 none; height: 501px;">\r\n                                    <iframe style="border: 0 none; min-width: 100%" src="https://www.iorad.com/player/95080/sial?src=iframe" width="100%" height="500px" allowfullscreen="true">\r\n                                    </iframe>\r\n                                </p>\r\n                            </div> --\x3e\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            \r\n            <div class="is-fullwidth has-text-centered" *ngIf="ctrl.cargando">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n            <span id="exportable">\r\n            <div style="overflow: scroll; overflow-x: hidden; height: 650px;">\r\n                <table class="table" *ngIf="!ctrl.cargando " >\r\n                    <thead>\r\n                        <tr>\r\n                            <th style=" text-align: center;"><abbr title="Folio">Fecha</abbr></th>\r\n                            <th style=" text-align: center;"><abbr title="Folio">Folio</abbr></th>\r\n                            <th>Servicio</th>\r\n                            <th>Turno</th>\r\n                            <th>Insumos</th>\r\n                            <th>Recibe</th>\r\n                            <th>Entreg\xf3</th>\r\n                            <th style=" text-align: center;">Capturado</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody *ngIf="!ctrl.busquedaActivada && ctrl.dato;">\r\n                        <tr *ngFor="let item of ctrl.dato; let i=index">\r\n                            <th *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle; text-align: center;"><a routerLink="/almacen/salidas-estandar/ver/{{item.id}}">{{ item.fecha_movimiento }}</a></th>\r\n                            <th *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle; text-align: center;"><a routerLink="/almacen/salidas-estandar/ver/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td *ngIf="item.movimiento_metadato && (i+1)<ctrl.dato.length" style="vertical-align: middle;" ><a *ngIf="item.movimiento_metadato.servicio.nombre"  routerLink="/almacen/salidas-estandar/ver/{{item.id}}" >{{ item.movimiento_metadato.servicio.nombre }} </a></td>\r\n                            <td *ngIf="!item.movimiento_metadato && (i+1)<ctrl.dato.length" style="vertical-align: middle;" >No disponible</td>\r\n                            <td *ngIf="item.movimiento_metadato && (i+1)<ctrl.dato.length" style="vertical-align: middle;"><a *ngIf="item.movimiento_metadato.turno.nombre"  routerLink="/almacen/salidas-estandar/ver/{{item.id}}">{{ item.movimiento_metadato.turno.nombre }} </a></td>\r\n                            <td *ngIf="!item.movimiento_metadato && (i+1)<ctrl.dato.length" style="vertical-align: middle;" >No disponible</td>\r\n                            <td *ngIf="(i+1)<ctrl.dato.length"> <a routerLink="/almacen/salidas-estandar/ver/{{item.id}}"> <p> Lotes: {{item.numero_claves}}</p> <p> Insumos: {{item.numero_insumos}}</p> </a> </td>\r\n                            <td *ngIf="item.movimiento_metadato && (i+1)<ctrl.dato.length" style="vertical-align: middle;" ><a routerLink="/almacen/salidas-estandar/ver/{{item.id}}">{{ item.movimiento_metadato.persona_recibe }}</a></td>\r\n                            <td *ngIf="!item.movimiento_metadato && (i+1)<ctrl.dato.length" style="vertical-align: middle;" >No disponible</td>\r\n                            <td *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle;"><a routerLink="/almacen/salidas-estandar/ver/{{item.id}}">{{ item.movimiento_usuario.nombre }} {{ item.movimiento_usuario.apellidos }} </a></td>                        \r\n                            <td *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle; text-align: center;"><a routerLink="/almacen/salidas-estandar/ver/{{item.id}}">{{ item.created_at | date:\'medium\'}} </a></td>\r\n                            \x3c!--\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n                            --\x3e\r\n                        </tr>\r\n                        <tr *ngIf="ctrl.dato.length == 0">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                    <tbody *ngIf="ctrl.busquedaActivada && ctrl.dato">\r\n                        <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">\r\n                            <th style="vertical-align: middle; text-align: center;"><a routerLink="/almacen/salidas-estandar/ver/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;" *ngIf="item.movimiento_metadato"><a *ngIf="item.movimiento_metadato.servicio.nombre" routerLink="/almacen/salidas-estandar/ver/{{item.id}}">{{ item.movimiento_metadato.servicio.nombre }}</a></td>\r\n                            <td style="vertical-align: middle;" *ngIf="!item.movimiento_metadato">No disponible</td>\r\n                            <td style="vertical-align: middle;" *ngIf="item.movimiento_metadato"><a *ngIf="item.movimiento_metadato.turno.nombre" routerLink="/almacen/salidas-estandar/ver/{{item.id}}">{{ item.movimiento_metadato.turno.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;" *ngIf="!item.movimiento_metadato">No disponible</td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/almacen/salidas-estandar/ver/{{item.id}}">{{ item.movimiento_usuario.nombre }} {{ item.movimiento_usuario.apellidos }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/almacen/salidas-estandar/ver/{{item.id}}">{{ item.status }} </a></td>\r\n                            <td style="vertical-align: middle; text-align: center;"><a routerLink="/almacen/salidas-estandar/ver/{{item.id}}">{{ item.created_at | date}} </a></td>\r\n                            <td style="vertical-align: middle; text-align: center;"><a routerLink="/almacen/salidas-estandar/ver/{{item.id}}">{{ item.updated_at | date}} </a></td>\r\n                        </tr>\r\n\r\n                        <tr *ngIf="ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            </span>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [total]="ctrl.total" [paginasTotales]="ctrl.paginasTotales" [resultadosPorPagina]="ctrl.resultadosPorPagina"\r\n                [paginaActual]="ctrl.paginaActual" [indicePaginas]="ctrl.indicePaginas" (onSiguiente)="ctrl.paginaSiguiente()"\r\n                (onAnterior)="ctrl.paginaAnterior()" (onListar)="ctrl.listar($event)" *ngIf="ctrl.total>0 && ctrl.total > ctrl.resultadosPorPagina && !ctrl.busquedaActivada"></paginacion>\r\n            \x3c!-- Paginaci\xf3n para la b\xfasqueda  --\x3e\r\n            <paginacion [total]="ctrl.totalBusqueda" [paginasTotales]="ctrl.paginasTotalesBusqueda" [resultadosPorPagina]="ctrl.resultadosPorPaginaBusqueda"\r\n                [paginaActual]="ctrl.paginaActualBusqueda" [indicePaginas]="ctrl.indicePaginasBusqueda" (onSiguiente)="ctrl.paginaSiguienteBusqueda(searchBox.value)"\r\n                (onAnterior)="ctrl.paginaAnteriorBusqueda(searchBox.value)" (onListar)="ctrl.listarBusqueda(searchBox.value,$event)"\r\n                *ngIf="ctrl.totalBusqueda > 0 && ctrl.totalBusqueda > ctrl.resultadosPorPaginaBusqueda && ctrl.busquedaActivada"></paginacion>\r\n\r\n\r\n\r\n        </div>\r\n\r\n    </div>\r\n</div>'},bAoB:function(e,t){e.exports=".item{ width: 100%; text-align: center; display:block; font-size: 0.8em; }"},bm2y:function(e,t){e.exports='<section class="hero is-dark" style="position: fixed; width: 100%;top:0px; z-index:99">\r\n    <div class="hero-head">\r\n        <div class="container is-fluid">\r\n            <nav class="nav is-primary">\r\n                <div class="nav-left">\r\n                    <a class="nav-item is-brand" routerLink="/administrador-proveedores" routerLinkActive="active">\r\n                      \x3c!-- <img src="assets/hub-administrador-proveedores.svg" alt="icono"> --\x3e\r\n                        <span class="icon">\r\n                            <i class="fa fa-folder-open-o"></i>\r\n                        </span>\r\n                        <h1 class="title">&nbsp;Administrador Proveedores</h1>\r\n                    </a>\r\n                </div>\r\n\r\n                <div class="nav-center">\r\n                    <span *ngIf="usuario.proveedor_activo" class="nav-item is-small">\r\n                        <span>{{usuario.proveedor_activo.nombre}}</span>\r\n                    </span>\r\n                </div>\r\n                \r\n                <a class="nav-item"  (click)="hub.toggle()">\r\n                    <span class="icon">\r\n                        <i class="fa fa-th"></i>\r\n                    </span>\r\n                </a>\r\n\r\n                <a class="nav-item is-hidden-mobile" (click)="perfil.toggle()">\r\n                    \r\n                    <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n                    &nbsp;\r\n                    <span>{{ usuario.nombre }} {{ usuario.apellidos }}</span>\r\n                </a>\r\n                <a class="nav-item is-hidden-tablet" (click)="perfil.toggle()">\r\n                    \r\n                    <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n                </a>\r\n            </nav>\r\n        </div>\r\n    </div>\r\n</section>\r\n\r\n<app-hub #hub></app-hub>\r\n<app-perfil #perfil></app-perfil>'},bpii:function(e,t){e.exports=".rojo{\r\n    color:red;\r\n}"},c6M3:function(e,t){e.exports='<administrador-central-menu></administrador-central-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%; ">\r\n    <div class="column is-narrow is-hidden-mobile">\r\n        <administrador-central-menu-lateral></administrador-central-menu-lateral>\r\n    </div>\r\n    <div class="column">\r\n\t\t\r\n\t\t<div style="background: #FFF; border-radius: 1em; overflow: hidden; margin-top:1em;">\r\n\t\t\t\r\n\t\t\t<section class="hero is-primary" [ngClass]="{ \'is-success\': pedido.proveedor_id != null}">\r\n\t\t\t\t<h1 class="title" style="margin:0.5em;" *ngIf="pedido.proveedor_id == null">\r\n\t\t\t\t\t<span class="icon is-medium"><i class="fa fa-check-square-o"></i></span> Asignar proveedor Pedido alterno \r\n\t\t\t\t</h1>\r\n\t\t\t\t<h1 class="title" style="margin:0.5em;" *ngIf="pedido.proveedor_id != null">\r\n\t\t\t\t\t<span class="icon is-medium"><i class="fa fa-check-circle"></i></span> Proveedor asignado a pedido alterno\r\n\t\t\t\t</h1>\r\n\t\t\t</section>\r\n\t\t\r\n\t\t\t<div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n\t\t\t\t\t<br>\r\n\t\t\t\t\t<span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n\t\t\t\t\t<br>\r\n\t\t\t\t\t<br>\r\n\t\t\t</div>\r\n\t\t\t<table class="table"  *ngIf="!cargando">\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>Folio:</th>\r\n\t\t\t\t\t\t<td>{{pedido.datosImprimir.folio}}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>Almac\xe9n:</th>\r\n\t\t\t\t\t\t<td>{{pedido.datosImprimir.almacen_solicitante.nombre}} / {{pedido.datosImprimir.unidad_medica.nombre}}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>Nombre del pedido:</th>\r\n\t\t\t\t\t\t<td>{{pedido.datosImprimir.descripcion}}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>Fecha:</th>\r\n\t\t\t\t\t\t<td>{{pedido.datosImprimir.fecha}}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>Observaciones:</th>\r\n\t\t\t\t\t\t<td>{{pedido.datosImprimir.observaciones}}</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t\t<hr>\r\n\t\t\t<form name="form" [formGroup]="asignacion" (submit)=\'asignar()\' > \r\n\t\t\t\t<table class="table"  *ngIf="!cargando">\r\n\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Proveedor:</th>\r\n\t\t\t\t\t\t\t<td colspan="2">\r\n\t\t\t\t\t\t\t\t<div class="control is-expanded " [ngClass]="{ \'is-loading\': cargandoProveedores }">\r\n\t\t\t\t\t\t\t\t\t<div class="select is-fullwidth">\r\n\t\t\t\t\t\t\t\t\t\t<select class="select"  formControlName="proveedor_id">\r\n\t\t\t\t\t\t\t\t\t\t\t<option *ngFor="let item of proveedores" value="{{item.id}}">{{ item.nombre }}</option>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t\t<span class="icon is-small" *ngIf="asignacion.get(\'proveedor_id\').hasError(\'required\') && asignacion.get(\'proveedor_id\').touched">\r\n\t\t\t\t\t                        <i class="fa fa-warning"></i>\r\n\t\t\t\t\t                    </span>\r\n\t\t\t\t\t                    <span class="help is-danger" *ngIf="asignacion.get(\'proveedor_id\').hasError(\'required\') && asignacion.get(\'proveedor_id\').touched">Este campo es requerido.</span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Firma 1:</th>\r\n\t\t\t\t\t\t\t<td colspan="2">\r\n\t\t\t\t\t\t\t\t<div class="control is-expanded " [ngClass]="{ \'is-loading\': cargandoProveedores }">\r\n\t\t\t\t\t\t\t\t\t<div class="select is-fullwidth">\r\n\t\t\t\t\t\t\t\t\t\t<select  class="select" formControlName="asignacion_firmante_1">\r\n\t\t\t\t\t\t\t\t\t\t\t<option *ngFor="let item of firmante_1" value="{{item.id}}">{{ item.nombre || uppercase  }} - {{ item.puesto || uppercase }}</option>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t\t<span class="icon is-small" *ngIf="asignacion.get(\'asignacion_firmante_1\').hasError(\'required\') && asignacion.get(\'asignacion_firmante_1\').touched">\r\n\t\t\t\t\t                        <i class="fa fa-warning"></i>\r\n\t\t\t\t\t                    </span>\r\n\t\t\t\t\t                    <span class="help is-danger" *ngIf="asignacion.get(\'asignacion_firmante_1\').hasError(\'required\') && asignacion.get(\'asignacion_firmante_1\').touched">Este campo es requerido.</span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>Firma 2:</th>\r\n\t\t\t\t\t\t\t<td colspan="2">\r\n\t\t\t\t\t\t\t\t<div class="control is-expanded " [ngClass]="{ \'is-loading\': cargandoProveedores }">\r\n\t\t\t\t\t\t\t\t\t<div class="select is-fullwidth">\r\n\t\t\t\t\t\t\t\t\t\t<select  class="select" formControlName="asignacion_firmante_2">\r\n\t\t\t\t\t\t\t\t\t\t\t<option *ngFor="let item of firmante_2" value="{{item.id}}">{{ item.nombre || uppercase  }} - {{ item.puesto || uppercase }}</option>\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t</select>\r\n\t\t\t\t\t\t\t\t\t\t<span class="icon is-small" *ngIf="asignacion.get(\'asignacion_firmante_2\').hasError(\'required\') && asignacion.get(\'asignacion_firmante_2\').touched">\r\n\t\t\t\t\t                        <i class="fa fa-warning"></i>\r\n\t\t\t\t\t                    </span>\r\n\t\t\t\t\t                    <span class="help is-danger" *ngIf="asignacion.get(\'asignacion_firmante_2\').hasError(\'required\') && asignacion.get(\'asignacion_firmante_2\').touched">Este campo es requerido.</span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t</tr>\r\n\r\n\t\t\t\t\t</tbody>\t\r\n\t\t\t\t</table>\r\n\t\t\t\r\n\t\t\t<hr>\r\n\t\t\t<div class="control " style="padding-left:10px;" *ngIf="!cargando">\t\r\n\t\t\t\t\t<button type="submit" class="button is-primary" name="enviar"  *ngIf="asignado" [ngClass]="{\'is-loading\': cargando}"  [disabled]="asignacion.invalid"><span class="icon"><i class="fa fa-check"></i></span> &nbsp; Asignar proveedor</button>\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t<a class="button is-white" title="Imprimir Excel" (click)="imprimirExcel();" [ngClass]="{\'is-disabled\': asignando}">\r\n\t\t\t\t\t\t<span class="icon"><i class="fa fa-file-excel-o"></i></span> &nbsp; Excel\r\n\t\t\t\t\t</a>\t\t\t\r\n\t\t\t\t\t<a class="button is-white  " title="Imprimir PDF" (click)="mostrarDialogo(); " [ngClass]="{\'is-disabled\': asignando}">\r\n\t\t\t\t\t\t<span class="icon"><i class="fa fa-print"></i></span> &nbsp; PDF\r\n\t\t\t\t\t</a>\t\t\t\t\r\n\t\t\t\t\t<a class="button is-white" routerLink="/administrador-central/asignacion-proveedores-pedidos-alternos/" [ngClass]="{\'is-disabled\': asignando}" >Regresar</a>\t\t\t                \r\n\t\t\t</div>\r\n\t\t\t</form>\t\r\n\t\t\t<section>\r\n\t\t\t\t<div class="control is-grouped">\r\n\t\t\t\t\t\r\n\t\t\t\t</div>\r\n\t\t\t</section>\r\n\t\t</div>\r\n\t\t<br>\r\n\t\t<div class="contenedor-pedido" >\r\n\t\t\t<div class="top-bar" [ngClass]="{\'is-primary\':!pedido.filtro.activo,\'is-dark\': pedido.filtro.activo }">\r\n\t\t\t\t<span *ngIf="!pedido.filtro.activo">\r\n\t\t\t\t\tClaves: {{ pedido.lista.length | number }}\r\n\t\t\t\t\tInsumos: {{pedido.totalInsumos | number}} \r\n\t\t\t\t\tTotal: $ {{ pedido.totalMonto | number: \'1.2-2\' }}\r\n\t\t\t\t</span>\r\n\t\t\t\t<span *ngIf="pedido.filtro.activo"><span class="icon"><i class="fa fa-search"></i></span> Resultados: {{ pedido.filtro.lista.length }}</span>\r\n\t\t\t\t\x3c!--a class="button is-primary  is-pulled-right" [ngClass]="{ \'is-inverted\': pedido.filtro.activo }" style="margin-top:-0.25em;" title="Recepciones" (click)="toggleModalRecepciones(); ">\r\n\t\t\t\t\t<span class="icon"><i class="fa fa-file"></i></span><span>Recepciones: {{pedido.datosImprimir.recepciones.length}}</span>\r\n\t\t\t\t</a--\x3e\r\n\t\t\t\t<a *ngIf="pedido.status == \'EX\' && pedido.datosImprimir.tipo_pedido_id == \'PA\'" class="button is-danger is-pulled-right" (click)="mostrarDialogoCancelarPedido()"> <span class="icon"><i class="fa fa-ban"></i></span> <span>Cancelar Pedido</span></a>\r\n\t\t\t</div> \r\n\r\n\t\t\t<div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n\t\t\t\t<br>\r\n\t\t\t\t<span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n\t\t\t\t<br>\r\n\t\t\t\t<br>\r\n\t\t\t</div>\r\n\t\t\t\r\n\t\t\t<table class="table is-unselectable" *ngIf="!cargando" style="font-size: 0.8em;">\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<tr  >\r\n\t\t\t\t\t\t<th style="width:41px;vertical-align: middle;" class="has-text-centered" >Lote</th>\r\n\t\t\t\t\t\t<th class="is-hidden-mobile" style="width:118px;">\r\n\t\t\t\t\t\t<p class="control is-expanded" >\r\n\t\t\t\t\t\t\t<input type="hidden" #searchBoxClavePrevia >\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<input class="input is-small" type="text" placeholder="Filtrar" #searchBoxClave id="search-box-clave-{{indexPedido}}" (keyup)="buscar($event,searchBoxClave, searchBoxClavePrevia,[{ input: searchBoxClave, campos: [\'clave\',\'descripcion\']}])">\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t<th class="is-hidden-tablet">\r\n\t\t\t\t\t\t<p class="control is-expanded">\r\n\t\t\t\t\t\t\t<input type="hidden" #searchBoxDescripcionClavePrevia >\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<input class="input is-small" type="text" placeholder="Clave o Gen\xe9rico" #searchBoxDescripcionClave id="search-box-descripcion-clave-{{indexPedido}}" (keyup)="buscar($event,searchBoxDescripcionClave,searchBoxDescripcionClavePrevia,[{ input: searchBoxDescripcionClave, campos: [\'clave\',\'descripcion\']}])">\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t</th>  \r\n\t\t\t\t\t\t<th style="vertical-align: middle;" class="is-hidden-mobile is-hidden-tablet-only" >Descripcion</th>                  \r\n\t\t\t\t\t\t<th style="width:78px !important;text-align: center; vertical-align: middle;"><abbr title="Cantidad">Cant.</abbr></th>\r\n\t\t\t\t\t\t<th style="width:78px !important;text-align: center; vertical-align: middle;"><abbr title="Monto">Monto</abbr></th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody *ngIf="!pedido.filtro.activo">\r\n\r\n\t\t\t\t\t<tr   *ngFor="let item of pedido.paginacion.lista; let i = index;">\r\n\t\t\t\t\t<td class="has-text-centered">{{ item.lote }}</td>\r\n\t\t\t\t\t<td class="has-text-centered is-hidden-mobile"><a (click)="mostrarFichaInformativa($event, item.clave)" style="cursor:help;">{{ item.clave }}</a></td>            \r\n\t\t\t\t\t\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<small class="is-hidden-tablet">{{ item.clave }} <br></small>\r\n\t\t\t\t\t\t<div style="line-height:1em;">\r\n\t\t\t\t\t\t<small>{{ item.descripcion }}</small>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div style="padding: 0.5em 0 0.5em 0; ">\r\n\t\t\t\t\t\t<span *ngIf="(item.es_causes && item.tipo == \'ME\')" class="tag is-success" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">CAUSES</span>\r\n\t\t\t\t\t\t<span *ngIf="(!item.es_causes && item.tipo == \'ME\')" class="tag is-danger" style="font-size: 0.7em !important;">NO CAUSES</span>\r\n\t\t\t\t\t\t<span *ngIf="item.tipo == \'MC\'" class="tag is-warning" style="font-size: 0.7em !important;">MATERIAL CURACI\xd3N</span>\r\n\t\t\t\t\t\t<span *ngIf="item.es_cuadro_basico" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">Cuadro b\xe1sico</span>\r\n\t\t\t\t\t\t<span *ngIf="(item.tipo == \'ME\' && item.informacion)">\r\n\t\t\t\t\t\t\t<span *ngIf="item.informacion.es_controlado" class="tag is-info" style="font-size: 0.7em">Controlado</span>\r\n\t\t\t\t\t\t\t<span *ngIf="item.informacion.es_surfactante" class="tag is-info" style="font-size: 0.7em">Surfactante</span>  \r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</td>\r\n\r\n\r\n\t\t\t\t\t<td style="width:78px !important;">\r\n\t\t\t\t\t\t<p class="control is-expanded">\r\n\t\t\t\t\t\t\t{{item.cantidad | number}}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td style="width:78px !important;">\r\n\t\t\t\t\t\t<b><abbr>${{item.monto | number:\'1.2-2\'}}</abbr></b>\r\n\t\t\t\t\t</td> \r\n\t\t\t\t\t</tr>      \r\n\t\t\t\t</tbody>\r\n\t\t\t\t<tbody *ngIf="pedido.filtro.activo">\r\n\t\t\t\t\t<tr  *ngFor="let item of pedido.filtro.paginacion.lista; let i = index;">\r\n\t\t\t\t\t<td class="has-text-centered">{{ item.lote }}</td>\r\n\t\t\t\t\t<td class="has-text-centered is-hidden-mobile"><a (click)="mostrarFichaInformativa($event, item.clave)" style="cursor:help;">{{ item.clave }}</a></td>            \r\n\t\t\t\t\t\r\n\t\t\t\t\t<td>\r\n\t\t\t\t\t\t<small class="is-hidden-tablet">{{ item.clave }} <br></small>\r\n\t\t\t\t\t\t\x3c!--div *ngIf="item.tipo != \'ME\'" style="line-height:1em;"--\x3e\r\n\t\t\t\t\t\t<div style="line-height:1em;">\r\n\t\t\t\t\t\t<small>{{ item.descripcion }}</small>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div style="padding: 0.5em 0 0.5em 0; ">\r\n\t\t\t\t\t\t<span *ngIf="(item.es_causes && item.tipo == \'ME\')" class="tag is-success" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">CAUSES</span>\r\n\t\t\t\t\t\t<span *ngIf="(!item.es_causes && item.tipo == \'ME\')" class="tag is-danger" style="font-size: 0.7em !important;">NO CAUSES</span>\r\n\t\t\t\t\t\t<span *ngIf="item.tipo == \'MC\'" class="tag is-warning" style="font-size: 0.7em !important;">MATERIAL CURACI\xd3N</span>\r\n\t\t\t\t\t\t<span *ngIf="item.es_cuadro_basico" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">Cuadro b\xe1sico</span>\r\n\t\t\t\t\t\t<span *ngIf="(item.tipo == \'ME\' && item.informacion)">\r\n\t\t\t\t\t\t\t<span *ngIf="item.informacion.es_controlado" class="tag is-info" style="font-size: 0.7em">Controlado</span>\r\n\t\t\t\t\t\t\t<span *ngIf="item.informacion.es_surfactante" class="tag is-info" style="font-size: 0.7em">Surfactante</span>  \r\n\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</td>\r\n\r\n\t\t\t\t\t<td style="width:78px !important;">\r\n\t\t\t\t\t\t<p class="control is-expanded">\r\n\t\t\t\t\t\t\t{{item.cantidad | number}}\r\n\t\t\t\t\t\t</p>\r\n\t\t\t\t\t</td>\r\n\t\t\t\t\t<td style="width:78px !important;">\r\n\t\t\t\t\t\t<b><abbr>${{item.monto | number:\'1.2-2\'}}</abbr></b>\r\n\t\t\t\t\t</td> \r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</tbody>              \r\n\t\t\t</table>\r\n\t\t\t\r\n\t\t\t<paginacion \r\n\t\t\t\t\t[total]="pedido.lista.length" \r\n\t\t\t\t\t[paginasTotales]="pedido.paginacion.totalPaginas" \r\n\t\t\t\t\t[resultadosPorPagina]="pedido.paginacion.resultadosPorPagina" \r\n\t\t\t\t\t[paginaActual]="pedido.paginacion.paginaActual" \r\n\t\t\t\t\t[indicePaginas]="pedido.paginacion.indice"\r\n\t\t\t\t\t(onSiguiente)="pedido.paginaSiguiente()" \r\n\t\t\t\t\t(onAnterior)="pedido.paginaAnterior()" \r\n\t\t\t\t\t(onListar)="pedido.listar($event)" \r\n\t\t\t\t\t*ngIf="pedido.lista.length > 0 && pedido.lista.length > pedido.paginacion.resultadosPorPagina && !pedido.filtro.activo"></paginacion>\r\n\t\t\t\r\n\t\t\t<paginacion \r\n\t\t\t\t\t[total]="pedido.filtro.lista.length" \r\n\t\t\t\t\t[paginasTotales]="pedido.filtro.paginacion.totalPaginas" \r\n\t\t\t\t\t[resultadosPorPagina]="pedido.filtro.paginacion.resultadosPorPagina" \r\n\t\t\t\t\t[paginaActual]="pedido.filtro.paginacion.paginaActual" \r\n\t\t\t\t\t[indicePaginas]="pedido.filtro.paginacion.indice"\r\n\t\t\t\t\t(onSiguiente)="pedido.filtro.paginaSiguiente()" \r\n\t\t\t\t\t(onAnterior)="pedido.filtro.paginaAnterior()" \r\n\t\t\t\t\t(onListar)="pedido.filtro.listar($event)" \r\n\t\t\t\t\t*ngIf="pedido.filtro.lista.length > 0 && pedido.filtro.lista.length > pedido.filtro.paginacion.resultadosPorPagina && pedido.filtro.activo"></paginacion>\r\n\t\t\t<br>\r\n\t\t</div>\r\n      \r\n     \r\n    </div>\r\n</div>\r\n\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    \x3c!--p style="text-align:center" ><a  class="button is-danger is-inverted" (click)="ultimaPeticion(); mensajeError.mostrar = false"> <span class="icon"><i class="fa fa-refresh"></i></span> <span>Volver a intentar</span></a></p--\x3e\r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n\r\n\r\n<div class="modal is-active" [ngClass]="{\'is-active\': mostrarImprimirDialogo}">\r\n  <div class="modal-background" (click)="cerrarDialogo()"></div>\r\n  <div class="modal-card" style="width:95%; height: auto;">\r\n    <header class="modal-card-head" style="background: #00d1b2;">\r\n      <div class="container is-fluid"  style="width:100%;">\r\n          <h1 class="title" style="color:#FFF;">\r\n            <span class="icon is-medium"><i class="fa fa-print"></i></span> Imprimir Pedido \r\n          </h1>\r\n      </div>            \r\n      <a class="button  is-primary" style="position:absolute; top:1em; right:1em;" (click)="cerrarDialogo()"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n    </header>\r\n    <section class="modal-card-body" style="padding:0px;" >\r\n      <div style="padding: 1em;">\r\n        <div class="columns is-multiline">\r\n          <div class="column is-one-quarter" *ngFor="let tipo of tiposSubPedidos">\r\n            <div class="card">\r\n              <header class="card-header">\r\n                <p class="card-header-title">\r\n                  {{subPedidos[tipo].titulo}}\r\n                </p>\r\n              </header>\r\n              <div class="card-content">\r\n                <div class="content">\r\n                  <strong>Total claves</strong>: {{subPedidos[tipo].claves | number}} <br>\r\n                  <strong>Total unidades</strong>: {{subPedidos[tipo].cantidad | number}} <br>\r\n                  <strong>Total monto</strong>: $ {{subPedidos[tipo].monto + ((subPedidos[tipo].tiene_iva)?+subPedidos[tipo].monto*16/100:0) | number:\'1.2-2\'}}\r\n                </div>\r\n              </div>\r\n              <footer class="card-footer">\r\n                \x3c!--a class="card-footer-item" (click)="imprimir(tipo)" [ngClass]="{ \'is-loading\': cargandoPdf, \'is-inverted\': !cargandoPdf }">\r\n                  <span class="icon is-medium"><i class="fa fa-file-pdf-o"></i></span>&nbsp;<span>Descargar/Imprimir</span>\r\n                </a--\x3e\r\n                <a class="button is-primary is-fullwidth" [ngClass]="{ \'is-loading\': cargandoPdf[tipo], \'is-inverted\': !cargandoPdf[tipo] }" title="Imprimir Pedido" (click)="imprimir(tipo)">\r\n                    <span class="icon"><i class="fa fa-file-pdf-o"></i></span> &nbsp; Descargar/Imprimir\r\n                </a>\r\n              </footer>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n    <footer class="" style="position:relative; padding:1em;background: #FFF; border-top:1px solid #EEE; border-radius:0 0 0.8em 0.8em " >\r\n        <div class="notification is-danger is-small" *ngIf="errorEnPDF">\r\n            <button class="delete" (click)="errorEnPDF = false"></button>        \r\n            <b>Error:</b> Ocurrio un error al generar el PDF<br><br>\r\n        </div>\r\n    </footer>\r\n  </div>\r\n</div>'},c8ug:function(e,t){e.exports=""},c9Js:function(e,t){e.exports=".item{ width: 100%; text-align: center; display:block; font-size: 1em; }"},cDsx:function(e,t){e.exports='<admision-menu></admision-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%; ">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <admision-menu-lateral></admision-menu-lateral>\r\n    </div>\r\n    <div class="column" style="padding:2em;">\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n            <section class="hero" [ngClass] = " \'is-primary\' " >\r\n                \r\n                <div class="hero-body" style="position:relative;">\r\n                    <div class="container is-fluid">\r\n                        \r\n                        <h1 class="title">\r\n                            <span class="icon is-medium"><i class="fa fa-user"></i></span> Nuevo Paciente\r\n                        </h1>\r\n                        \r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n            \x3c!-- Form Nuevo --\x3e\r\n            <section class="section">\r\n\t            <form name="form" novalidate [formGroup]="paciente"  (ngSubmit)="enviar()">     \r\n\t            \t<section class="section" style="padding: 1rem 1.5rem; background-color: #EFEFEF">\r\n                        <div class="container">\r\n                          <div class="heading">\r\n                            <h1 class="title">Datos del Paciente</h1>\r\n                          </div>\r\n                        </div>\r\n                      </section>\r\n\t              <div class="control is-grouped">\r\n\t                <p class="control is-expanded  has-icon has-icon-right">\r\n\t                \t<label class="label">Nombre</label>\r\n\t                  <input class="input" autofocus type="text"  placeholder="Nombre" formControlName="nombre">\r\n\t                  <span class="icon is-small" *ngIf="paciente.get(\'nombre\').hasError(\'required\') && paciente.get(\'nombre\').touched">\r\n\t                    <i class="fa fa-warning"></i>\r\n\t                  </span>\r\n\t                  <span class="help is-danger" *ngIf="paciente.get(\'nombre\').hasError(\'required\') && paciente.get(\'nombre\').touched">Este campo es requerido.</span>\r\n\t                </p>\r\n\t                \r\n\t              </div>\r\n\t              <div class="control is-grouped">\r\n\t                <p class="control is-expanded  has-icon has-icon-right">\r\n\t                \t<label class="label">Sexo</label>\r\n\t                \t<span class="select is-fullwidth">\r\n\t\t                \t<select  formControlName="sexo"  name="sexo">\r\n\t\t                \t\t<option value="1" selected="selected">MASCULINO</option>\r\n\t\t                \t\t<option value="2">FAMENINO</option>\r\n\t\t                \t</select>\r\n\r\n\t\t                </span>\t\r\n\t                 \t<span class="icon is-small" *ngIf="paciente.get(\'sexo\').hasError(\'required\') && paciente.get(\'sexo\').touched">\r\n\t\t                     \t<i class="fa fa-warning"></i>\r\n\t\t                    </span>\r\n\t\t                    <span class="help is-danger" *ngIf="paciente.get(\'sexo\').hasError(\'required\') && paciente.get(\'sexo\').touched">Este campo es requerido.</span>\r\n\t                </p>\r\n\t                <p class="control is-expanded has-icon has-icon-right">\r\n\t                \t<label class="label">Tel\xe9fono</label>\r\n\t                  <input class="input" type="text" placeholder="Telefono" formControlName="telefono">\r\n\t                  <span class="icon is-small" *ngIf="paciente.get(\'telefono\').hasError(\'required\') && paciente.get(\'telefono\').touched">\r\n\t                    <i class="fa fa-warning"></i>\r\n\t                  </span>\r\n\t                  <span class="help is-danger" *ngIf="paciente.get(\'telefono\').hasError(\'required\') && paciente.get(\'telefono\').touched">Este campo es requerido.</span>\r\n\t                </p>\r\n\t                <p class="control is-expanded has-icon has-icon-right">\r\n\t                <label class="label">Fecha Nacimiento</label>\r\n\t                  <input class="input" type="text" placeholder="aaaa-mm-dd" formControlName="fecha_nacimiento">\r\n\t                  <span class="icon is-small" *ngIf="paciente.get(\'fecha_nacimiento\').hasError(\'required\') && paciente.get(\'fecha_nacimiento\').touched">\r\n\t                    <i class="fa fa-warning"></i>\r\n\t                  </span>\r\n\t                  <span class="help is-danger" *ngIf="paciente.get(\'fecha_nacimiento\').hasError(\'required\') && paciente.get(\'fecha_nacimiento\').touched">Este campo es requerido.</span>\r\n\t                </p>\r\n\t                <p class="control is-expanded has-icon has-icon-right">\r\n\t                \t<label class="label">Hora Nacimiento (si aplica)</label>\r\n\t                  <input class="input" type="text" placeholder="HH:mm" formControlName="hora_nacimiento">\r\n\t                  \r\n\t                </p>\r\n\t              </div>\r\n\t              <div class="control is-grouped">\r\n\t              \t\r\n\t                <p class="control is-expanded  has-icon has-icon-right">\r\n\t                \t<label class="label">Domicilio</label>\r\n\t                \t<input class="input" type="text" placeholder="Domicilio" formControlName="domicilio">\r\n\t                \t<span class="icon is-small" *ngIf="paciente.get(\'domicilio\').hasError(\'required\') && paciente.get(\'domicilio\').touched">\r\n\t\t                    <i class="fa fa-warning"></i>\r\n\t\t                </span>\r\n\t\t                <span class="help is-danger" *ngIf="paciente.get(\'domicilio\').hasError(\'required\') && paciente.get(\'domicilio\').touched">Este campo es requerido.</span>\r\n\t                 \r\n\t                </p>\r\n\t                <p class="control is-expanded has-icon has-icon-right">\r\n\t                <label class="label">Colonia</label>\r\n\t                  <input class="input" type="text" placeholder="Colonia" formControlName="colonia">\r\n\t                  <span class="icon is-small" *ngIf="paciente.get(\'colonia\').hasError(\'required\') && paciente.get(\'colonia\').touched">\r\n\t                    <i class="fa fa-warning"></i>\r\n\t                  </span>\r\n\t                  <span class="help is-danger" *ngIf="paciente.get(\'colonia\').hasError(\'required\') && paciente.get(\'colonia\').touched">Este campo es requerido.</span>\r\n\t                </p>\r\n\t             </div>\r\n\t             <div class="control is-grouped">  \r\n\t             \t\r\n\t                <p class="control is-expanded has-icon has-icon-right">\r\n\t                  <label class="label">Municipio</label> \r\n\t                  <span class="select is-fullwidth">\r\n\t\t                \t<select  formControlName="municipio_id" name="municipio_id" #municipio (change)="cargarLocalidades(municipio.value)">\r\n\t\t                \t\t<option *ngFor="let item of Municipios" value="{{item.id}}">{{ item.nombre }} </option>\r\n\t\t                \t</select>\r\n\t\t                \t\r\n\t\t                </span>\t\r\n\t\t                <span class="icon is-small" *ngIf="paciente.get(\'municipio_id\').hasError(\'required\') && paciente.get(\'municipio_id\').touched">\r\n\t                     \t<i class="fa fa-warning"></i>\r\n\t                    </span>\r\n\t                    <span class="help is-danger" *ngIf="paciente.get(\'municipio_id\').hasError(\'required\') && paciente.get(\'municipio_id\').touched">Este campo es requerido.</span>\r\n\t                </p>\r\n\t                <p class="control is-expanded has-icon has-icon-right">\r\n\t                  <label class="label">Localidad</label>\t\r\n\t                  <span class="select is-fullwidth">\r\n\t\t                \t<select formControlName="localidad_id" name="localidad_id">\r\n\t\t                \t\t<option *ngFor="let item of Localidades" value="{{item.id}}">{{ item.nombre }} </option>\r\n\t\t                \t</select>\r\n\t\t                \t\r\n\t\t                </span>\t\r\n\t\t                <span class="icon is-small" *ngIf="paciente.get(\'localidad_id\').hasError(\'required\') && paciente.get(\'localidad_id\').touched">\r\n\t\t                     \t<i class="fa fa-warning"></i>\r\n\t\t                    </span>\r\n\t\t                <span class="help is-danger" *ngIf="paciente.get(\'localidad_id\').hasError(\'required\') && paciente.get(\'localidad_id\').touched">Este campo es requerido.</span>\r\n\t                </p>\r\n\t                <p class="control is-expanded has-icon has-icon-right">\r\n\t                  \t<label class="label">No Expediente</label>\r\n\t\t                <input class="input" type="text" placeholder="No Expediente" formControlName="no_expediente">\r\n\t                    <span class="icon is-small" *ngIf="paciente.get(\'no_expediente\').hasError(\'required\') && paciente.get(\'no_expediente\').touched">\r\n\t                     \t<i class="fa fa-warning"></i>\r\n\t                    </span>\r\n\t                    <span class="help is-danger" *ngIf="paciente.get(\'no_expediente\').hasError(\'required\') && paciente.get(\'no_expediente\').touched">Este campo es requerido.</span>\r\n\t\t                \r\n\t                </p>\r\n\t                <p class="control is-expanded has-icon has-icon-right">\r\n\t                  \t<label class="label">No Afililaci\xf3n</label>\r\n\t\t                <input class="input" type="text" placeholder="No Afiliaci\xf3n" formControlName="no_afiliacion">\r\n\t                    <span class="icon is-small" *ngIf="paciente.get(\'no_afiliacion\').hasError(\'required\') && paciente.get(\'no_afiliacion\').touched">\r\n\t                     \t<i class="fa fa-warning"></i>\r\n\t                    </span>\r\n\t                    <span class="help is-danger" *ngIf="paciente.get(\'no_afiliacion\').hasError(\'required\') && paciente.get(\'no_afiliacion\').touched">Este campo es requerido.</span>\r\n\t\t                \r\n\t                </p>\r\n\t              </div>\r\n\t              <div class="control is-grouped">\r\n                    <p class="control is-expanded  has-icon has-icon-right">\r\n                        <label class="label">Resposable Conocido</label>\r\n                        <span class="select is-fullwidth">\r\n                            <select formControlName="responsableconocido" name="responsableconocido" (change)="responsable()">\r\n                                <option value="1">SI</option>\r\n                                <option value="2">NO</option>\r\n                            </select>\r\n\r\n                        </span> \r\n                    </p>\r\n                  </div>\r\n                  <div [hidden]="verFormResponsable">\r\n                      <section class="section" style="padding: 1rem 1.5rem; background-color: #EFEFEF">\r\n                            <div class="container">\r\n                              <div class="heading">\r\n                                <h1 class="title">Datos del Responsable</h1>\r\n                              </div>\r\n                            </div>\r\n                        </section>  \r\n                      <div class="control is-grouped">\r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                            <label class="label">Nombre</label>\r\n                          <input class="input" autofocus type="text"  placeholder="Nombre Responsable" formControlName="nombre_responsable">\r\n                          <span class="icon is-small" *ngIf="paciente.get(\'nombre_responsable\').hasError(\'required\') && paciente.get(\'nombre_responsable\').touched">\r\n                            <i class="fa fa-warning"></i>\r\n                          </span>\r\n                          <span class="help is-danger" *ngIf="paciente.get(\'nombre_responsable\').hasError(\'required\') && paciente.get(\'nombre_responsable\').touched">Este campo es requerido.</span>\r\n                        </p>\r\n                        \r\n                      </div>\r\n                      <div class="control is-grouped">\r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                            <label class="label">Patentesco</label>\r\n                               <input class="input" autofocus type="text"  placeholder="Parentesco" formControlName="parentesco">\r\n                              <span class="icon is-small" *ngIf="paciente.get(\'parentesco\').hasError(\'required\') && paciente.get(\'parentesco\').touched">\r\n                                <i class="fa fa-warning"></i>\r\n                              </span>\r\n                              <span class="help is-danger" *ngIf="paciente.get(\'parentesco\').hasError(\'required\') && paciente.get(\'parentesco\').touched">Este campo es requerido.</span>\r\n\r\n                        </p>\r\n                         <p class="control is-expanded  has-icon has-icon-right">\r\n                            <label class="label">Domicilio</label>\r\n                            <input class="input" type="text" placeholder="Domicilio Responsable" formControlName="domicilio_responsable">\r\n                            <span class="icon is-small" *ngIf="paciente.get(\'domicilio_responsable\').hasError(\'required\') && paciente.get(\'domicilio_responsable\').touched">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                            <span class="help is-danger" *ngIf="paciente.get(\'domicilio_responsable\').hasError(\'required\') && paciente.get(\'domicilio_responsable\').touched">Este campo es requerido.</span>\r\n                         \r\n                        </p>\r\n                        <p class="control is-expanded has-icon has-icon-right">\r\n                            <label class="label">Tel\xe9fono</label>\r\n                          <input class="input" type="text" placeholder="Telefono Responsable" formControlName="telefono_responsable">\r\n                          <span class="icon is-small" *ngIf="paciente.get(\'telefono_responsable\').hasError(\'required\') && paciente.get(\'telefono_responsable\').touched">\r\n                            <i class="fa fa-warning"></i>\r\n                          </span>\r\n                          <span class="help is-danger" *ngIf="paciente.get(\'telefono_responsable\').hasError(\'required\') && paciente.get(\'telefono_responsable\').touched">Este campo es requerido.</span>\r\n                        </p>\r\n                        \r\n                      </div>\r\n                     \r\n                    </div>    \r\n\t              <br><br>\r\n\t              <div class="control is-grouped">\r\n\t                <p class="control">\r\n\t                  <button class="button is-primary" type="submit" [ngClass]="{\'is-loading\': cargando}" [disabled]="paciente.invalid">Guardar</button>\r\n\t                </p>\r\n\t                \r\n\t                <p class="control">\r\n\t                  <a class="button is-white" (click)="regresar()" >Regresar</a>\r\n\t                </p>\r\n\t              </div>\r\n\t          </form>\r\n\t        </section>  \r\n            \x3c!--  Fin Nuevo  --\x3e\r\n        </div>\r\n    </div>\r\n</div>        \r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <p><b>Error:</b> {{ mensajeError.texto }}<br></p>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeError.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n<div class="notification is-warning" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeAdvertencia.mostrar">\r\n    <button class="delete" (click)="mensajeAdvertencia.mostrar = false"></button>        \r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-warning"></i></span> <span>{{ mensajeAdvertencia.texto }}</span></p>\r\n    \r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeAdvertencia.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div> '},cQjd:function(e,t){e.exports='<listar #ctrl URL="unidad-medica" titulo="UM / Catalogo"></listar>\r\n<app-menu-catalogo></app-menu-catalogo>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%;  padding-top: 1em;">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em">\r\n        <div style="background: #FFF; border-radius: 1em; ">\r\n\r\n            \x3c!-- Opciones y busqueda --\x3e\r\n            <tabla-opciones \r\n                #opciones\r\n                [ctrl]="ctrl" \r\n                [icono]="\'fa fa-hospital-o\'" \r\n                [nombre]="\'Unidades m\xe9dicas\'"\r\n                [ruta]="\'unidad-medica\'"\r\n                [ruta_pdf]="\'catalogos-parametros/lista-unidades-medicas.js\'"></tabla-opciones>\r\n            \r\n            <div class="is-fullwidth has-text-centered" *ngIf="opciones.cargandoPdf" style="height: 75%">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Generando PDF...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n\r\n            <div style="overflow:auto; display:block" [style.maxHeight.px]="ctrl.tamano-300">\r\n                <table class="table" *ngIf="!ctrl.cargando && !opciones.cargandoPdf">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Clues</th>\r\n                            <th>Nombre</th>\r\n                            <th style="text-align:center;">Opciones</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody *ngIf="!ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.dato; let i=index">\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/unidades-medicas/editar/{{item.clues}}">{{ item. clues }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/unidades-medicas/editar/{{item.clues}}">{{ item.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n                        <tr *ngIf="ctrl.dato.length == 0">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                    <tbody *ngIf="ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/unidades-medicas/editar/{{item.clues}}">{{ item.clues }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/unidades-medicas/editar/{{item.clues}}">{{ item.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n\r\n                        <tr *ngIf="ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [ctrl]="ctrl"></paginacion>\r\n\r\n        </div>\r\n\r\n    </div>\r\n</div>'},cT7b:function(e,t){e.exports=""},cY0Z:function(e,t){e.exports=".top-bar {\r\n    padding: 1em ; \r\n    font-size: 1.2em; \r\n    background: #FFF;    \r\n    color: #333;\r\n}\r\n.contenedor-pedido.con-tabs .top-bar {\r\n    padding: 0.5em ; \r\n}\r\n.top-bar.is-primary {\r\n    background: #00d1b2;\r\n    color:#FFF\r\n}\r\n.top-bar.is-dark {\r\n    background: #333;\r\n    color:#FFF\r\n}\r\n.contenedor-pedido {\r\n    background: #FFF; border-radius: 1em; overflow: hidden;\r\n}\r\n.contenedor-pedido.con-tabs {\r\n    border-top-left-radius: 0px !important;\r\n    border-top-right-radius: 0px !important;\r\n}\r\nform{\r\n    overflow: auto;\r\n    padding: 0;\r\n}"},ckf6:function(e,t){e.exports='<menu-farmacia [modulo]="\'Pedidos\'" [icono]="\'assets/icono-pedidos.svg\'" [url]="\'/almacen/pedidos\'"></menu-farmacia>\r\n\r\n<div style="position:relative; margin-top:50px; padding-top:10px; padding-left:10px; padding-right:10px; display:block; height:100% !important; overflow:auto;" *ngIf="pedido">    \r\n  <div class="tile is-ancestor is-vertical" style="height:100% !important; max-height:100% !important;">\r\n    <div class="tile">\r\n      <div class="tile is-4 is-parent is-vertical ">\r\n        <div class="tile is-child">\r\n            <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n                <section class="hero is-primary" >\r\n                <h1 class="title" style="margin:0.5em;" >\r\n                    <span class="icon is-medium"><i class="fa fa-file-text"></i></span> {{formularioTitulo}} \r\n                </h1>\r\n                <a class="button is-success" title="Imprimir Excel" (click)="imprimirExcel(); " *ngIf="esEditar">\r\n                    <span class="icon"><i class="fa fa-file-excel-o"></i></span> &nbsp; Descargar Pedido en Excel\r\n                </a>\r\n                </section>\r\n\r\n                <div style="padding: 1em;">\r\n                <form name="form" novalidate [formGroup]="pedido.datos">\r\n                    <label class="label">Pedido para:</label>\r\n                    <p *ngIf="almacenDelUsuario.tipo_almacen == \'ALMPAL\'" class="control">\r\n                        <span class="select is-fullwidth">\r\n                            <select name="almacen_solicitante" formControlName="almacen_solicitante" [ngClass]="{\'is-warning\': almacenes?.length == 0 }" (change)="cambioAlmacen()"> \r\n                                <option *ngFor="let item of almacenes" value="{{item.id}}" [disabled]="deshabilitarAlmacen(item)">{{ item.nombre }}</option>\r\n                            </select>\r\n                        </span>\r\n                        <span class="help is-danger" *ngIf="pedido.tieneError(\'almacen_solicitante\',\'required\')">Debe elegir el almacen solicitante.</span>\r\n                    </p>\r\n                    <p *ngIf="almacenDelUsuario.tipo_almacen != \'ALMPAL\'" class="is-6 is-info">\r\n                        {{almacenDelUsuario.nombre}}\r\n                    </p>\r\n                    <p *ngIf="es_almacen_subrogado" class="subtitle is-6 is-info">\r\n                        Al concluir el pedido, los insumos capturados ser\xe1n  asignados al inventario de la farmacia subrogada.\r\n                    </p>\r\n\r\n                    <label *ngIf="almacenDelUsuario.tipo_almacen != \'ALMPAL\'"  class="label">Solicitar a:</label>\r\n                    <p *ngIf="almacenDelUsuario.tipo_almacen != \'ALMPAL\'"  class="control">\r\n                        <span class="select is-fullwidth">\r\n                            <select name="almacen_proveedor" formControlName="almacen_proveedor" [ngClass]="{\'is-warning\': almacenes?.length == 0 }"> \r\n                                <option *ngFor="let item of almacenes" value="{{item.id}}">{{ item.nombre }}</option>\r\n                            </select>\r\n                        </span>\r\n                        <span class="help is-danger" *ngIf="pedido.tieneError(\'almacen_proveedor\',\'required\')">Debe elegir el almacen proveedor.</span>\r\n                    </p>\r\n\r\n                    <label class="label">Nombre del Pedido:</label>\r\n                    <p class="control is-expanded  has-icon has-icon-right">\r\n                        <input type="text" class="input is-fullwidth" placeholder="Ej. Pedido del mes de Mayo" [ngClass]="{\'is-danger\': pedido.tieneError(\'descripcion\',\'required\')}" formControlName="descripcion"/>\r\n                        <span class="icon is-small" *ngIf="pedido.tieneError(\'descripcion\',\'required\')">\r\n                            <i class="fa fa-warning"></i>\r\n                        </span>\r\n                        <span class="help is-danger" *ngIf="pedido.tieneError(\'descripcion\',\'required\')">Este campo es requerido.</span>\r\n                    </p>\r\n\r\n                    <label class="label">Fecha:</label>\r\n                    <p class="control is-expanded  has-icon has-icon-right">\r\n                        \x3c!--input type="text" class="input is-fullwidth" placeholder="aaaa-mm-dd" [ngClass]="{\'is-danger\': pedido.tieneError(\'fecha\',\'required\')}" formControlName="fecha" #fecha id="fecha" (keyup)="recargarPresupuesto(fecha.value)"/--\x3e\r\n                        <span class="icon is-small" *ngIf="pedido.tieneError(\'fecha\',\'required\')">\r\n                            <i class="fa fa-warning"></i>\r\n                        </span>\r\n                        <span class="select is-fullwidth">\r\n                            <select [ngClass]="{\'is-danger\': pedido.tieneError(\'fecha\',\'required\')}" formControlName="fecha" #fecha id="fecha" (change)="recargarPresupuesto(fecha.value)">\r\n                                <option *ngFor="let item of fechasValidas" value="{{item.fecha}}">{{ item.descripcion }}</option>\r\n                            </select>\r\n                        </span>\r\n                        <span class="help is-danger" *ngIf="pedido.tieneError(\'fecha\',\'required\')">Este campo es requerido.</span>\r\n                    </p>\r\n\r\n                    <div class="control">\r\n                        <textarea name="observaciones" class="textarea" placeholder="Observaciones"  formControlName="observaciones"></textarea>\r\n                    </div>\r\n                </form>\r\n\r\n                <label *ngIf="pedido.tipo_pedido != \'PEA\' && esEditar  && proveedor" class="label">Datos del Proveedor:</label>\r\n                <div *ngIf="pedido.tipo_pedido != \'PEA\' && esEditar" class="level-item">\r\n                    <div *ngIf="esEditar && proveedor" >\r\n                        <p class="subtitle is-5">\r\n                            {{proveedor.nombre}}<br>\r\n                            <small>\r\n                            {{proveedor.contacto}}<br>\r\n                            {{proveedor.email}}<br>\r\n                            Cel: {{proveedor.celular}}\r\n                            </small>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n                <hr>\r\n\r\n                <div class="control is-grouped" style="padding-top:10px;" *ngIf="!cargando">\r\n                    \x3c!--p class="control" *ngIf="esEditar">\r\n                        <a class="button is-success " [ngClass]="{ \'is-loading\': cargando, \'is-inverted\': !cargando }" (click)="imprimirExcel()" title="Imprimir Excel" ><span class="icon"><i class="fa fa-file-excel-o"></i></span></a>\r\n                    </p--\x3e\r\n\r\n                    <p class="control" *ngIf="!esCluesOffline">\r\n                        <a class="button is-primary " (click)="guardar()" [ngClass]="{\'is-loading\': guardando}" >Guardar</a>\r\n                    </p>\r\n                    <p class="control" *ngIf="esEditar && !esCluesOffline">\r\n                        <a class="button is-danger " (click)="finalizar()" [ngClass]="{\'is-loading\': guardando}" ><span class="icon"><i class="fa fa-check"></i></span><span>Concluir</span></a>\r\n                    </p>\r\n                \r\n                    \x3c!--p class="control" *ngIf="esEditar">\r\n                    <a class="button is-primary " [ngClass]="{ \'is-loading\': cargandoPdf, \'is-inverted\': !cargandoPdf }" (click)="imprimir()" ><span class="icon"><i class="fa fa-print"></i></span></a>\r\n                    </p--\x3e\r\n                    <p class="control">\r\n                    <a class="button is-white" [ngClass]="{\'is-loading\': guardando}" routerLink="{{obtenerDireccion()}}" >Ir a la lista</a>\r\n                    </p>                \r\n                </div>\r\n                </div>\r\n            </div>\r\n            <br>\r\n        </div>\r\n        \r\n        <div class="tile is-child is-vertical">\r\n            <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n                <table class="table is-unselectable" *ngIf="!cargando" style="font-size: 0.8em;">\r\n                    <thead>\r\n                        <tr>\r\n                            <th colspan="2">Monto Solicitado</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr><td>Causes</td><td>$ {{pedido.totalMontoCauses.toFixed(2) | number: \'1.2-2\'}}</td></tr>\r\n                        <tr><td>No Causes</td><td>$ {{pedido.totalMontoNoCauses.toFixed(2) | number: \'1.2-2\'}}</td></tr>\r\n                        <tr><td>Material de Curaci\xf3n</td><td>$ {{pedido.totalMontoMaterialCuracion.toFixed(2) | number: \'1.2-2\'}}</td></tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class="tile is-parent is-vertical">\r\n        <div *ngIf="almacenDelUsuario.tipo_almacen == \'ALMPAL\'" class="tile is-child is-12" >\r\n            <div class="tile is-parent" style="padding:0px;">\r\n                <article class="tile is-child notification is-info has-text-centered" style="padding:0.5rem 0.5rem 0.5rem 0.5rem">\r\n                    <div class="content" *ngIf="!cargandoPresupuestos">\r\n                        <span *ngIf="(totalMontoComprometidoCausesMaterial + (presupuesto.insumos_disponible) - (pedido.totalMontoCauses + pedido.totalMontoMaterialCuracion)) < 0" class="icon is-large pull-right"><i class="fa fa-warning"></i></span>\r\n                        <p class="subtitle" style="font-weight:bold;">\r\n                            <small>\r\n                                Disponible Causes y Material de Curaci\xf3n:<br> \r\n                                $ {{ totalMontoComprometidoCausesMaterial + (presupuesto.insumos_disponible - (pedido.totalMontoCauses  + pedido.totalMontoMaterialCuracion).toFixed(2)) | number: \'1.2-2\' }}\r\n                            </small>\r\n                        </p>\r\n                    </div>\r\n                    <div class="content" *ngIf="cargandoPresupuestos">\r\n                        <span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span>\r\n                    </div>\r\n                </article>\r\n\r\n                <article class="tile is-child notification is-danger has-text-centered" style="padding:0.5rem 0.5rem 0.5rem 0.5rem">\r\n                    <div class="content" *ngIf="!cargandoPresupuestos">\r\n                        <span *ngIf="(totalMontoComprometidoNoCauses + presupuesto.no_causes_disponible - pedido.totalMontoNoCauses) < 0" class="icon is-large pull-right"><i class="fa fa-warning"></i></span>\r\n                        <p class="subtitle" style="font-weight:bold;">\r\n                            <small>\r\n                                Disponible No Causes:<br>  $ {{ totalMontoComprometidoNoCauses + (presupuesto.no_causes_disponible - pedido.totalMontoNoCauses.toFixed(2)) | number: \'1.2-2\' }}\r\n                            </small>\r\n                        </p>\r\n                    </div>\r\n                    <div class="content" *ngIf="cargandoPresupuestos">\r\n                        <span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span>\r\n                    </div>\r\n                </article>\r\n            </div>\r\n        </div>\r\n        <div class="tile is-child" >\r\n          <div class="contenedor-pedido" >\r\n            <div class="top-bar" [ngClass]="{\'is-primary\':!pedido.filtro.activo,\'is-dark\': pedido.filtro.activo }">\r\n                <span *ngIf="!pedido.filtro.activo">\r\n                    <small>\r\n                        Mes: <strong style="color:white;">{{ meses[mes] }} </strong>\r\n                        Claves: <strong style="color:white;">{{ pedido.lista.length | number }} </strong>\r\n                        Insumos: <strong style="color:white;">{{pedido.totalInsumos | number}} </strong>\r\n                        Total: <strong style="color:white;">$ {{ pedido.totalMonto | number: \'1.2-2\' }}</strong>\r\n                    </small>\r\n                </span>\r\n                <span *ngIf="pedido.filtro.activo">\r\n                    <span class="icon"><i class="fa fa-search"></i></span> Resultados: {{ pedido.filtro.lista.length }}\r\n                </span>\r\n                <a class="button is-primary  is-pulled-right" *ngIf="almacenSeleccionado.id || almacenDelUsuario.tipo_almacen != \'ALMPAL\'" [ngClass]="{ \'is-inverted\': pedido.filtro.activo }" style="margin-top:-0.25em;" title="Ctrl + espacio" (click)="toggleModalInsumos(); ">\r\n                    <span class="icon"><i class="fa fa-plus"></i></span><span>Agregar Clave</span>\r\n                </a>\r\n            </div> \r\n\r\n            <div class="is-fullwidth has-text-centered" *ngIf="guardando">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-spinner fa-spin"></i></span> &nbsp;<span>Guardando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n\r\n            <div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n\r\n            <table class="table is-unselectable" *ngIf="!cargando && !guardando" style="font-size: 0.8em;">\r\n                <thead>\r\n                    <tr>\r\n                        <th style="width:41px;vertical-align: middle;" class="has-text-centered" >Lote</th>\r\n                        <th class="is-hidden-mobile" style="width:118px;">\r\n                        <p class="control is-expanded" >\r\n                            <input type="hidden" #searchBoxClavePrevia >\r\n                            \x3c!--input class="input is-small" type="text" placeholder="Clave" #searchBoxClave id="search-box-clave-{{indexPedido}}" (keyup)="buscar($event,searchBoxClave, searchBoxClavePrevia,[{ input: searchBoxDescripcion, campos: [\'generico\',\'informacion.concentracion\',\'informacion.presentacion\']}, { input: searchBoxClave, campos: [\'clave\']}])"--\x3e\r\n                            <input class="input is-small" type="text" placeholder="Filtrar" #searchBoxClave id="search-box-clave" (keyup)="buscar($event,searchBoxClave,searchBoxClavePrevia,[{ input: searchBoxClave, campos: [\'clave\',\'descripcion\']}])">\r\n                        </p>\r\n                        </th>\r\n                        \x3c!--th class="is-hidden-mobile">\r\n                        <p class="control is-expanded">\r\n                            <input type="hidden" #searchBoxDescripcionPrevia >\r\n                            <input class="input is-small" type="text" placeholder="Gen\xe9rico" #searchBoxDescripcion id="search-box-descripcion-{{indexPedido}}" (keyup)="buscar($event,searchBoxDescripcion,searchBoxDescripcionPrevia,[{ input: searchBoxDescripcion, campos: [\'generico_nombre\',\'informacion.concentracion\',\'informacion.presentacion\']}, { input: searchBoxClave, campos: [\'clave\']}])">\r\n                        </p>\r\n                        </th--\x3e \r\n                        <th class="is-hidden-tablet">\r\n                        <p class="control is-expanded">\r\n                            <input type="hidden" #searchBoxDescripcionClavePrevia >\r\n                            \x3c!--input class="input is-small" type="text" placeholder="Clave o Gen\xe9rico" #searchBoxDescripcionClave id="search-box-descripcion-clave-{{indexPedido}}" (keyup)="buscar($event,searchBoxDescripcionClave,searchBoxDescripcionClavePrevia,[{ input: searchBoxDescripcionClave, campos: [\'clave\',\'generico_nombre\',\'informacion.concentracion\',\'informacion.presentacion\']}])"--\x3e\r\n                            <input class="input is-small" type="text" placeholder="Clave o Gen\xe9rico" #searchBoxDescripcionClave id="search-box-descripcion-clave-{{indexPedido}}" (keyup)="buscar($event,searchBoxDescripcionClave,searchBoxDescripcionClavePrevia,[{ input: searchBoxDescripcionClave, campos: [\'clave\',\'descripcion\']}])">\r\n                        </p>\r\n                        </th>  \r\n                        <th style="vertical-align: middle;" class="is-hidden-mobile " >Descripcion</th>                  \r\n                        <th style="width:78px !important;text-align: center; vertical-align: middle;"><abbr title="Cantidad">Cant.</abbr></th>\r\n                        <th style="width:78px !important;text-align: center; vertical-align: middle;"><abbr title="Monto">Monto</abbr></th>\r\n                        <th style="width:78px !important;text-align: center; vertical-align: middle;" *ngIf="esPedidoJurisdiccional"><abbr title="Unidades m\xe9dicas asignadas">Clues</abbr></th>\r\n                        <th  style="width:21px !important;"></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody *ngIf="!pedido.filtro.activo">\r\n\r\n                    <tr   *ngFor="let item of pedido.paginacion.lista; let i = index;">\r\n                        <td class="has-text-centered">{{ item.lote }}</td>\r\n                        <td class="has-text-centered is-hidden-mobile"><a (click)="mostrarFichaInformativa($event, item.clave)" style="cursor:help;">{{ item.clave }}</a></td>            \r\n                        \r\n                        <td>\r\n                            <small class="is-hidden-tablet">{{ item.clave }} <br></small>\r\n                            \x3c!--div *ngIf="item.tipo != \'ME\'" style="line-height:1em;"--\x3e\r\n                            <div style="line-height:1em;">\r\n                            <small>{{ item.descripcion }}</small>\r\n                            </div>\r\n                            <div style="padding: 0.5em 0 0.5em 0; ">\r\n                            <span *ngIf="(item.es_causes && item.tipo == \'ME\')" class="tag is-success" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">CAUSES</span>\r\n                            <span *ngIf="(!item.es_causes && item.tipo == \'ME\')" class="tag is-danger" style="font-size: 0.7em !important;">NO CAUSES</span>\r\n                            <span *ngIf="item.tipo == \'MC\'" class="tag is-warning" style="font-size: 0.7em !important;">MATERIAL CURACI\xd3N</span>\r\n                            <span *ngIf="item.es_cuadro_basico" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">Cuadro b\xe1sico</span>\r\n                            <span *ngIf="(item.tipo == \'ME\' && item.informacion)">\r\n                                <span *ngIf="item.informacion.es_controlado" class="tag is-info" style="font-size: 0.7em">Controlado</span>\r\n                                <span *ngIf="item.informacion.es_surfactante" class="tag is-info" style="font-size: 0.7em">Surfactante</span>  \r\n                            </span>\r\n                            </div>\r\n                        </td>\r\n\r\n                        \x3c!--td >\r\n                            <small class="is-hidden-tablet">{{ item.clave }} <br></small>\r\n                            <b>{{ item.generico_nombre }}</b> <br  class="is-hidden-mobile"><small *ngIf="(item.tipo == \'ME\' && item.informacion)"><b>{{ item.informacion.concentracion }}</b></small><br>\r\n                            \r\n                            <div class="is-hidden-desktop" *ngIf="(item.tipo == \'ME\' && item.informacion)" style="line-height:1em;">\r\n                            <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                            <small><i>{{ item.informacion.contenido }} </i></small>\r\n                            </div>\r\n                            <div class="is-hidden-desktop" *ngIf="item.tipo != \'ME\'" style="line-height:1em;">\r\n                            <small>{{ item.descripcion }}</small>\r\n                            </div>\r\n                            <div class="is-hidden-desktop" style="padding: 0.5em 0 0.5em 0; ">\r\n                            <span *ngIf="(item.es_causes && item.tipo == \'ME\')" class="tag is-success" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">CAUSES</span>\r\n                            <span *ngIf="(!item.es_causes && item.tipo == \'ME\')" class="tag is-danger" style="font-size: 0.7em !important;">NO CAUSES</span>\r\n                            <span *ngIf="item.tipo == \'MC\'" class="tag is-warning" style="font-size: 0.7em !important;">MATERIAL CURACI\xd3N</span>\r\n\r\n                            <span *ngIf="item.es_cuadro_basico" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">Cuadro b\xe1sico</span>\r\n                            \r\n                            <span *ngIf="(item.tipo == \'ME\' && item.informacion)">\r\n                                <span *ngIf="item.informacion.es_controlado" class="tag is-info" style="font-size: 0.7em">Controlado</span>\r\n                                <span *ngIf="item.informacion.es_surfactante" class="tag is-info" style="font-size: 0.7em">Surfactante</span>  \r\n                            </span>\r\n                            \r\n                            </div>\r\n                        </td> \r\n\r\n                        <td class="is-hidden-mobile is-hidden-tablet-only">\r\n                            <div *ngIf="(item.tipo == r\'ME\' && item.informacion)" style="line-height:1em;">\r\n                            <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                            <small><i>{{ item.informacion.contenido }} </i></small>\r\n                            </div>\r\n                            <div  *ngIf="item.tipo != \'ME\'" style="line-height:1em;">\r\n                            <small>{{ item.descripcion }}</small>\r\n                            </div>\r\n                            <div style="padding: 0.5em 0 0.5em 0; ">\r\n                            <span *ngIf="(item.es_causes && item.tipo == \'ME\')" class="tag is-success" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">CAUSES</span>\r\n                            <span *ngIf="(!item.es_causes && item.tipo == \'ME\')" class="tag is-danger" style="font-size: 0.7em !important;">NO CAUSES</span>\r\n                            <span *ngIf="item.tipo == \'MC\'" class="tag is-warning" style="font-size: 0.7em !important;">MATERIAL CURACI\xd3N</span>\r\n\r\n                            <span *ngIf="item.es_cuadro_basico" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">Cuadro b\xe1sico</span>\r\n                            <span *ngIf="(item.tipo == \'ME\' && item.informacion)">\r\n                                <span *ngIf="item.informacion.es_controlado" class="tag is-info" style="font-size: 0.7em">Controlado</span>\r\n                                <span *ngIf="item.informacion.es_surfactante" class="tag is-info" style="font-size: 0.7em">Surfactante</span>  \r\n                            </span>\r\n                            \r\n                            </div>\r\n                        </td--\x3e\r\n\r\n\r\n                        <td style="width:100px !important;text-align:center;" *ngIf="esPedidoJurisdiccional">\r\n                            <a (click)="toggleModalListaClues(item); ">{{ item.cantidad }}</a>\r\n                        </td>\r\n\r\n\r\n                        <td style="width:100px !important;" *ngIf="!esPedidoJurisdiccional">\r\n                            <p class="control is-expanded">\r\n                                <input class="input is-small has-text-centered" [ngClass]="{\'is-danger\':erroresEnInsumos.lista[item.clave]}"  type="number" placeholder="Cant" (keyup)="modificarItem(item)" min="{{(item.cantidad_recibida)?item.cantidad_recibida:0}}" (change)="modificarItem(item)" [(ngModel)]="item.cantidad">\r\n                                <small *ngIf="item.cantidad_recibida">Recibido: <strong>{{item.cantidad_recibida}}</strong></small>\r\n                            </p>\r\n                        </td>\r\n                        \r\n                        <td style="width:78px !important;">\r\n                            <b>\r\n                                <abbr>${{item.monto | number:\'1.2-2\'}}</abbr>\r\n                            </b>\r\n                        </td>\r\n\r\n                        <td style="width:100px !important; text-align:center" *ngIf="esPedidoJurisdiccional">\r\n                             <a (click)="toggleModalListaClues(item); ">{{ item.lista_clues.length }}</a>\r\n                        </td>\r\n                        <td style="width:70px !important;" *ngIf="esPedidoJurisdiccional">\r\n                            <a (click)="toggleModalListaClues(item); "><span class="icon"><i class="fa fa-list"></i></span></a>\r\n                            <a *ngIf="!item.cantidad_recibida" (click)="eliminarInsumo(item,i,false)"><span class="icon"><i class="fa fa-trash"></i></span></a>\r\n                        </td>\r\n                       \r\n                        <td style="width:21px !important;"  *ngIf="!esPedidoJurisdiccional">\r\n                            <a *ngIf="!item.cantidad_recibida" (click)="eliminarInsumo(item,i)"><span class="icon"><i class="fa fa-trash"></i></span></a>\r\n                        </td>\r\n                    </tr>      \r\n                </tbody>\r\n                <tbody *ngIf="pedido.filtro.activo">\r\n                    <tr  *ngFor="let item of pedido.filtro.paginacion.lista; let i = index;">\r\n                        <td class="has-text-centered">{{ item.lote }}</td>\r\n                        <td class="has-text-centered is-hidden-mobile"><a (click)="mostrarFichaInformativa($event, item.clave)" style="cursor:help;">{{ item.clave }}</a></td>            \r\n                        \r\n                        <td>\r\n                            <small class="is-hidden-tablet">{{ item.clave }} <br></small>\r\n                            \x3c!--div *ngIf="item.tipo != \'ME\'" style="line-height:1em;"--\x3e\r\n                            <div style="line-height:1em;">\r\n                            <small>{{ item.descripcion }}</small>\r\n                            </div>\r\n                            <div style="padding: 0.5em 0 0.5em 0; ">\r\n                            <span *ngIf="(item.es_causes && item.tipo == \'ME\')" class="tag is-success" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">CAUSES</span>\r\n                            <span *ngIf="(!item.es_causes && item.tipo == \'ME\')" class="tag is-danger" style="font-size: 0.7em !important;">NO CAUSES</span>\r\n                            <span *ngIf="item.tipo == \'MC\'" class="tag is-warning" style="font-size: 0.7em !important;">MATERIAL CURACI\xd3N</span>\r\n                            <span *ngIf="item.es_cuadro_basico" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">Cuadro b\xe1sico</span>\r\n                            <span *ngIf="(item.tipo == \'ME\' && item.informacion)">\r\n                                <span *ngIf="item.informacion.es_controlado" class="tag is-info" style="font-size: 0.7em">Controlado</span>\r\n                                <span *ngIf="item.informacion.es_surfactante" class="tag is-info" style="font-size: 0.7em">Surfactante</span>  \r\n                            </span>\r\n                            </div>\r\n                        </td>\r\n\r\n                        \x3c!--td >\r\n                            <small class="is-hidden-tablet">{{ item.clave }} <br></small>\r\n                            <b>{{ item.generico_nombre }}</b> <br  class="is-hidden-mobile"><small *ngIf="(item.tipo == \'ME\' && item.informacion)"><b>{{ item.informacion.concentracion }}</b></small><br>\r\n                            \r\n                            <div class="is-hidden-desktop" *ngIf="(item.tipo == \'ME\' && item.informacion)" style="line-height:1em;">\r\n                            <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                            <small><i>{{ item.informacion.contenido }} </i></small>\r\n                            </div>\r\n                            <div class="is-hidden-desktop" *ngIf="item.tipo != \'ME\'" style="line-height:1em;">\r\n                            <small>{{ item.descripcion }}</small>\r\n                            </div>\r\n                            <div class="is-hidden-desktop" style="padding: 0.5em 0 0.5em 0; ">\r\n                            <span *ngIf="(item.es_causes && item.tipo == \'ME\')" class="tag is-success" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">CAUSES</span>\r\n                            <span *ngIf="(!item.es_causes && item.tipo == \'ME\')" class="tag is-danger" style="font-size: 0.7em !important;">NO CAUSES</span>\r\n                            <span *ngIf="item.tipo == \'MC\'" class="tag is-warning" style="font-size: 0.7em !important;">MATERIAL CURACI\xd3N</span>\r\n                            <span *ngIf="item.es_cuadro_basico" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">Cuadro b\xe1sico</span>\r\n                            \r\n                            <span *ngIf="(item.tipo == \'ME\' && item.informacion)">\r\n                                <span *ngIf="item.informacion.es_controlado" class="tag is-info" style="font-size: 0.7em">Controlado</span>\r\n                                <span *ngIf="item.informacion.es_surfactante" class="tag is-info" style="font-size: 0.7em">Surfactante</span>  \r\n                            </span>\r\n                            \r\n                            </div>\r\n                        </td> \r\n\r\n                        <td class="is-hidden-mobile is-hidden-tablet-only">\r\n                            <div *ngIf="(item.tipo == \'ME\' && item.informacion)" style="line-height:1em;">\r\n                            <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                            <small><i>{{ item.informacion.contenido }} </i></small>\r\n                            </div>\r\n                            <div  *ngIf="item.tipo != \'ME\'" style="line-height:1em;">\r\n                            <small>{{ item.descripcion }}</small>\r\n                            </div>\r\n                            <div style="padding: 0.5em 0 0.5em 0; ">\r\n                            <span *ngIf="(item.es_causes && item.tipo == \'ME\')" class="tag is-success" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">CAUSES</span>\r\n                            <span *ngIf="(!item.es_causes && item.tipo == \'ME\')" class="tag is-danger" style="font-size: 0.7em !important;">NO CAUSES</span>\r\n                            <span *ngIf="item.tipo == \'MC\'" class="tag is-warning" style="font-size: 0.7em !important;">MATERIAL CURACI\xd3N</span>\r\n                            <span *ngIf="item.es_cuadro_basico" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">Cuadro b\xe1sico</span>\r\n                            <span *ngIf="(item.tipo == \'ME\' && item.informacion)">\r\n                                <span *ngIf="item.informacion.es_controlado" class="tag is-info" style="font-size: 0.7em">Controlado</span>\r\n                                <span *ngIf="item.informacion.es_surfactante" class="tag is-info" style="font-size: 0.7em">Surfactante</span>  \r\n                            </span>\r\n                            \r\n                            </div>\r\n                        </td--\x3e \r\n\r\n                        <td style="width:100px !important;">\r\n                            <p class="control is-expanded">\r\n                                <input class="input is-small has-text-centered" [ngClass]="{\'is-danger\':erroresEnInsumos.lista[item.clave]}"  type="number" placeholder="Cant" (keyup)="modificarItem(item)" min="{{(item.cantidad_recibida)?item.cantidad_recibida:0}}" (change)="modificarItem(item)" [(ngModel)]="item.cantidad">\r\n                                <small *ngIf="item.cantidad_recibida">Recibido: <strong>{{item.cantidad_recibida}}</strong></small>\r\n                            </p>\r\n                        </td>\r\n\r\n                        <td style="width:78px !important;">\r\n                            <b>\r\n                                <abbr>${{item.monto | number:\'1.2-2\'}}</abbr>\r\n                            </b>\r\n                        </td> \r\n\r\n                        <td style="width:100px !important; text-align:center" *ngIf="esPedidoJurisdiccional">\r\n                             <a (click)="toggleModalListaClues(item); ">{{ item.lista_clues.length }}</a>\r\n                        </td>\r\n\r\n                        <td style="width:70px !important;" *ngIf="esPedidoJurisdiccional">\r\n                            <a (click)="toggleModalListaClues(item); "><span class="icon"><i class="fa fa-list"></i></span></a>\r\n                            <a (click)="eliminarInsumo(item,i,true)"><span class="icon"><i class="fa fa-trash"></i></span></a>\r\n                        </td>\r\n                        <td style="width:21px !important;" *ngIf="!esPedidoJurisdiccional">\r\n                            <a *ngIf="!item.cantidad_recibida" (click)="eliminarInsumo(item,i)"><span class="icon"><i class="fa fa-trash"></i></span></a>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>              \r\n            </table>\r\n            \r\n            <paginacion \r\n                    [total]="pedido.lista.length" \r\n                    [paginasTotales]="pedido.paginacion.totalPaginas" \r\n                    [resultadosPorPagina]="pedido.paginacion.resultadosPorPagina" \r\n                    [paginaActual]="pedido.paginacion.paginaActual" \r\n                    [indicePaginas]="pedido.paginacion.indice"\r\n                    (onSiguiente)="pedido.paginaSiguiente()" \r\n                    (onAnterior)="pedido.paginaAnterior()" \r\n                    (onListar)="pedido.listar($event)" \r\n                    *ngIf="pedido.lista.length > 0 && pedido.lista.length > pedido.paginacion.resultadosPorPagina && !pedido.filtro.activo"></paginacion>\r\n            \r\n            <paginacion \r\n                    [total]="pedido.filtro.lista.length" \r\n                    [paginasTotales]="pedido.filtro.paginacion.totalPaginas" \r\n                    [resultadosPorPagina]="pedido.filtro.paginacion.resultadosPorPagina" \r\n                    [paginaActual]="pedido.filtro.paginacion.paginaActual" \r\n                    [indicePaginas]="pedido.filtro.paginacion.indice"\r\n                    (onSiguiente)="pedido.filtro.paginaSiguiente()" \r\n                    (onAnterior)="pedido.filtro.paginaAnterior()" \r\n                    (onListar)="pedido.filtro.listar($event)" \r\n                    *ngIf="pedido.filtro.lista.length > 0 && pedido.filtro.lista.length > pedido.filtro.paginacion.resultadosPorPagina && pedido.filtro.activo"></paginacion>\r\n            \r\n            <br>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    \x3c!--p style="text-align:center" ><a  class="button is-danger is-inverted" (click)="ultimaPeticion(); mensajeError.mostrar = false"> <span class="icon"><i class="fa fa-refresh"></i></span> <span>Volver a intentar</span></a></p--\x3e        \r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n<buscar-insumos \r\n    *ngIf="mostrarModalInsumos" \r\n    (onCerrar)="mostrarModalInsumos = false" \r\n    (onEnviar)="agregarItem($event)" \r\n    [listaAgregados]="listaClaveAgregadas" \r\n    [listaAgregadosConClues]="listaClaveAgregadas" \r\n    [conPrecios]="true"\r\n    [conClues]="esPedidoJurisdiccional"></buscar-insumos>\r\n    <pedidos-lista-clues *ngIf="esPedidoJurisdiccional && mostrarModalListaClues" [insumo]="loteSeleccionado" [listaClaveAgregadas]="listaClaveAgregadas" (onCerrar)="mostrarModalListaClues = false"></pedidos-lista-clues>'},d1I3:function(e,t){e.exports='<formulario #ctrl URL="mis-almacenes" titulo="Almacenes / Configuraci\xf3n" [dato]="dato"></formulario>\r\n<panel-control-menu></panel-control-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding:2em;">\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n            <section class="hero is-primary">\r\n                <div class="hero-body">\r\n                    <a class="button  is-primary" style="position:absolute; top:8em; right:3em;" (click)="ctrl.cargarDatos(); "><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                    <div class="container is-fluid">\r\n                        <h1 class="title">\r\n                            <span *ngIf="!ctrl.cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                            <span *ngIf="ctrl.cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>                            {{ctrl.moduloTitulo}} almacen\r\n                        </h1>\r\n\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n            </div>\r\n            <section class="section">\r\n                \x3c!-- formulario --\x3e\r\n                <form name="dato" novalidate [formGroup]="ctrl.dato" (ngSubmit)="ctrl.enviar()">\r\n                    <div class="tabs is-boxed">\r\n                        <ul>\r\n                            <li [ngClass]="{ \'is-active\' : tab == 1}">\r\n                                <a (click)="tab=1">\r\n                                    <span class="icon is-small"><i class="fa fa-file"></i></span>\r\n                                    <span>Datos del almac\xe9n</span>\r\n                                </a>\r\n                            </li>\r\n                            <li [ngClass]="{ \'is-active\' : tab == 2}">\r\n                                <a (click)="tab=2">\r\n                                    <span class="icon is-small"><i class="fa fa-home"></i></span>\r\n                                    <span>Tipos de movimientos</span>\r\n                                </a>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n\r\n                    <div [ngClass]="{ \'is-hidden\': tab != 1}">\r\n\r\n                        <div class="field" *ngIf="tieneid">\r\n                            <label class="label">ID:</label>\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n                                <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'id\').hasError(\'required\') && ctrl.dato.get(\'id\').touched}"\r\n                                    placeholder="id" formControlName="id" [readonly]="tieneid">\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'id\').hasError(\'required\') && ctrl.dato.get(\'id\').touched">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'id\').hasError(\'required\') && ctrl.dato.get(\'id\').touched">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div class="field">\r\n                            <label class="label">Nombre:</label>\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n                                <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'nombre\').hasError(\'required\')}"\r\n                                    placeholder="nombre" formControlName="nombre">\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div class="field">\r\n                            <label class="label">Nivel de almac\xe9n:</label>\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n                                <select class="select" formControlName="nivel_almacen" name="nivel_almacen"  [ngClass]="{\'is-warning\': nivel_almacen?.length ==0 }">\r\n                                    <option *ngFor="let item of niveles_almacen" value="{{item.id}}" >{{ item.nombre }}</option>\r\n                                </select>\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'nivel_almacen\').hasError(\'required\') && ctrl.dato.get(\'nivel_almacen\').touched">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'nivel_almacen\').hasError(\'required\') && ctrl.dato.get(\'nivel_almacen\').touched">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div class="field">\r\n                            <label class="label">Tipo de almac\xe9n:</label>\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n                                <select class="select" formControlName="tipo_almacen" name="tipo_almacen" [ngClass]="{\'is-warning\': tipo_almacen?.length ==0 }">\r\n                                    <option *ngFor="let item of tipos_almacen" value="{{item.id}}" >{{ item.nombre }}</option>\r\n                                </select>\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'tipo_almacen\').hasError(\'required\') && ctrl.dato.get(\'tipo_almacen\').touched">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'tipo_almacen\').hasError(\'required\') && ctrl.dato.get(\'tipo_almacen\').touched">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n\r\n\r\n                        <div class="field">\r\n                            <label class="label" id="catalogos" (click)="ctrl.cargarCatalogo(\'proveedores\', \'proveedor\'); ctrl.cargarCatalogo(\'tipos_movimientos\', \'tipo-movimiento\'); ">Proveedor:</label>\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n                                <select class="select" name="proveedor_id" formControlName="proveedor_id" [ngClass]="{\'is-warning\': proveedor_id?.length ==0 }">\r\n                                    <option *ngFor="let item of ctrl.proveedores" value="{{item.id}}" >{{ item.nombre }}</option>\r\n                                </select>\r\n                            </p>\r\n                        </div>\r\n\r\n                        <br>\r\n                        <div class="control is-grouped">\r\n                            <div class="b-checkbox control is-expanded  has-icon has-icon-right">\r\n\r\n                                <input type="checkbox" id="subrogado" class="styled" [checked]="ctrl.dato.get(\'subrogado\').value == \'1\' ? true : false" (change)="ctrl.dato.get(\'subrogado\').patchValue(ctrl.dato.get(\'subrogado\').value == \'1\' ? \'0\' : \'1\')">\r\n                                <label for="subrogado">  Es Subrogado?\r\n                                </label>\r\n                            </div>\r\n\r\n                            <div class="b-checkbox control is-expanded  has-icon has-icon-right">\r\n\r\n                                <input type="checkbox" id="unidosis" class="styled" [checked]="ctrl.dato.get(\'unidosis\').value == \'1\' ? true : false" (change)="ctrl.dato.get(\'unidosis\').patchValue(ctrl.dato.get(\'unidosis\').value == \'1\' ? \'0\' : \'1\')">\r\n                                <label for="unidosis">   Maneja unidosis?\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div [ngClass]="{ \'is-hidden\': tab != 2}">\r\n                        \x3c!--\r\n                        <div formArrayName="almacen_tipos_movimientos">\r\n                            <div *ngFor="let item of ctrl.dato.controls.almacen_tipos_movimientos.controls; let i=index" class="column is-4" style="float:left">\r\n                                <nav class="panel" [formGroupName]="i">\r\n                                    <div class="panel-heading">\r\n                                        Tipo de movimiento {{i + 1}}\r\n                                        <a style="float:right" class="is-danger" (click)="ctrl.quitar_form_array(ctrl.dato.controls.almacen_tipos_movimientos, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a>\r\n                                    </div>\r\n                                    <label class="panel-block">                                                  \r\n                                        <select class="select" name="tipo_movimiento_id" formControlName="tipo_movimiento_id" [ngClass]="{\'is-warning\': tipo_movimiento_id?.length ==0 }">\r\n                                            <option *ngFor="let val of ctrl.tipos_movimientos" value="{{val.id}}" >{{ val.nombre }}</option>\r\n                                        </select>\r\n                                        <span class="help is-danger" *ngIf="!ctrl.dato.controls.almacen_tipos_movimientos.controls[i].controls.tipo_movimiento_id.valid">Este campo es requerido.</span>                                            \r\n                                    </label>\r\n                                </nav>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class="block">\r\n                            <a class="button is-primary is-outlined is-fullwidth" (click)="ctrl.agregar_form_array(ctrl.dato.controls.almacen_tipos_movimientos.controls, form_almacen_tipos_movimientos)">\r\n                                <span class="icon">\r\n                                    <i class="fa fa-plus"> </i> \r\n                                </span> \r\n                                &nbsp; Agregar\r\n                            </a>\r\n                        </div>\r\n                        --\x3e\r\n\r\n                        <div class="box" >\r\n                            <article class="media">\r\n                                <div class="media-content">\r\n                                    <div class="content">\r\n                                        <div class="column is-5" style="float:left">\r\n                                            <nav class="panel">\r\n                                                <div class="panel-heading">\r\n                                                    <div class="field">\r\n                                                        <div class="b-checkbox is-info">\r\n                                                            <input id="Movimientos" class="styled" type="checkbox" \r\n                                                            [checked]="ctrl.todosSeleccionados.izquierda"\r\n                                                            (click)="ctrl.seleccionarTodosMover(\'izquierda\', ctrl.tipos_movimientos)">\r\n                                                            <label for="Movimientos">\r\n                                                            Movimientos disponibles\r\n                                                        </label>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <label class="panel-block" *ngFor="let val of ctrl.tipos_movimientos; let i=index">          \r\n                                                    <div class="field">\r\n                                                        <div class="b-checkbox">\r\n                                                            <input id="{{val.id}}" class="styled" type="checkbox" \r\n                                                            [checked]="ctrl.izquierda.indexOf(val) > -1"\r\n                                                            (click)="ctrl.agregarMover(\'izquierda\', ctrl.tipos_movimientos, val)">\r\n                                                            <label for="{{val.id}}">\r\n                                                                {{val.nombre}} \r\n                                                            </label>\r\n                                                        </div>\r\n                                                    </div>\r\n\r\n                                                </label>\r\n                                            </nav>\r\n                                        </div>\r\n                                        <div class="column is-2" style="float:left" >\r\n                                            \r\n                                            <p class="control">\r\n                                                <button class="button is-default" type="button" style="width:100%" \r\n                                                [ngClass]="{\'is-success\': ctrl.izquierda.length > 0}" \r\n                                                [disabled]="ctrl.izquierda.length <= 0"\r\n                                                (click)="ctrl.iniciarMover(\'izquierda\', ctrl.dato.controls.almacen_tipos_movimientos.controls, ctrl.tipos_movimientos, true)">></button>\r\n                                            </p>\r\n                                            <p class="control">\r\n                                                <button class="button is-default" type="button" style="width:100%" \r\n                                                [ngClass]="{\'is-success\': ctrl.derecha.length > 0}" \r\n                                                [disabled]="ctrl.derecha.length <= 0"\r\n                                                (click)="ctrl.iniciarMover(\'derecha\', ctrl.tipos_movimientos, ctrl.dato.controls.almacen_tipos_movimientos.controls, false)"><</button>\r\n                                            </p>\r\n                                            \r\n                                        </div>                        \r\n                                        <div class="column is-5" style="float:left" >\r\n                                            <nav class="panel" formGroupName="almacen_tipos_movimientos">\r\n                                                <div class="panel-heading">\r\n                                                    <div class="field">\r\n                                                        <div class="b-checkbox is-info">\r\n                                                            <input id="MisMovimientos" class="styled" type="checkbox" \r\n                                                            [checked]="ctrl.todosSeleccionados.derecha"\r\n                                                            (click)="ctrl.seleccionarTodosMover(\'derecha\', ctrl.dato.controls.almacen_tipos_movimientos.controls)">\r\n                                                            <label for="MisMovimientos">\r\n                                                            Mis movimientos\r\n                                                        </label>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <label class="panel-block" *ngFor="let item of ctrl.dato.controls.almacen_tipos_movimientos.controls; let i2=index">          \r\n                                                    <div class="field" [formGroupName]="i2">\r\n                                                        <div class="b-checkbox">\r\n                                                            <input id="{{item.value.id}}" class="styled" type="checkbox"\r\n                                                            [checked]="ctrl.derecha.indexOf(item) > -1"\r\n                                                            (click)="ctrl.agregarMover(\'derecha\', ctrl.dato.controls.almacen_tipos_movimientos.controls, item)">\r\n                                                            <label for="{{item.value.id}}">\r\n                                                                {{item.value.nombre}} \r\n                                                            </label>\r\n                                                        </div>\r\n                                                    </div>\r\n\r\n                                                </label>\r\n                                            </nav>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </article>\r\n                        </div>\r\n                    </div>\r\n                    <a (click)="ctrl.initMover(ctrl.dato.controls.almacen_tipos_movimientos.controls, ctrl.tipos_movimientos); " id="initMover"></a>\r\n                    <br><br>\r\n                    <div class="control is-grouped" style="float:left; padding:10px;">\r\n                        <p class="control">\r\n                            <button class="button is-primary" type="submit" [ngClass]="{\'is-loading\': ctrl.cargando}" [disabled]="ctrl.dato.invalid">Guardar</button>\r\n                        </p>\r\n                        <p class="control" *ngIf="ctrl.id">\r\n                            <button class="button is-danger" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="ctrl.eliminar(ctrl.id)">Eliminar </button>\r\n                        </p>\r\n                        <p class="control">\r\n                            <a class="button is-white" (click)="ctrl.regresar()">Regresar</a>\r\n                        </p>\r\n                    </div>\r\n                    \r\n                </form>\r\n            </section>\r\n        </div>\r\n    </div>\r\n</div>\r\n'},dCWM:function(e,t){e.exports='<menu-farmacia [modulo]="\'Pedidos\'" [icono]="\'assets/icono-pedidos.svg\'" [url]="\'/almacen/pedidos/por-surtir\'"></menu-farmacia>\r\n\r\n<div class="is-fullwidth has-text-centered" style="padding-top:70px;" *ngIf="cargando">\r\n  <br>\r\n  <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n  <br>\r\n  <br>\r\n</div>\r\n\r\n<div style="position:relative; padding-top:70px; margin-left: 1.5%; display:block; width:97%; height:100% !important;" *ngIf="pedido">    \r\n  <div class="tile is-ancestor is-vertical" style="height:100% !important; max-height:100% !important;">\r\n    <div class="tile is-parent is-12 ">\r\n      <div class="tile is-child notification is-dark">\r\n        <div class="columns">\r\n          <div class="column" >\r\n            <div style="padding:1em;">\r\n              Folio: <a style="color:#FFFFFF !important; font-weight:bold;" routerLink="{{\'/almacen/pedidos/ver/\'+id}}">{{ folio }}</a>\r\n               &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Claves Recibidas: {{ lotesSurtidos.length  }}\x3c!-- / {{ pedido.lista.length }}--\x3e\r\n               &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span *ngIf="statusRecepcion == \'BR\'"><strong style="color:#FFF;">Recepci\xf3n inciada</strong></span>\r\n               <span *ngIf="statusRecepcion == \'FI\'"><strong style="color:#FFF;">Recepci\xf3n concluida</strong></span>\r\n            </div>\r\n          </div>\r\n          <div class="column is-4" style="text-align:right; " *ngIf="statusRecepcion != \'FI\'">\r\n            <div style="margin:1em;">\r\n            <a *ngIf="!guardando && statusRecepcion == \'BR\'" class="button is-primary" style="width:45%; margin-right:5%;" (click)="finalizar()"> <span class="icon"><i class="fa fa-check"></i></span> <span>Concluir</span></a>\r\n            <a  class="button is-white"  style="width:45%"  [ngClass]="{ \'is-loading\': guardando }"  (click)="guardar()"> <span class="icon"><i class="fa fa-save"></i></span> <span>Guardar</span></a>\r\n            </div>\r\n          </div>\r\n        </div>       \r\n      </div>\r\n    </div>\r\n    <div class="tile">\r\n      <div class="tile is-parent ">\r\n        <div class="tile is-child notification is-white" >\r\n          <div class="contenedor-tabla" >          \r\n            \r\n            <table class="table is-unselectable" *ngIf="!cargando" style="font-size: 0.8em; ">\r\n              <thead>\r\n                  <tr  [ngClass]="{ \'filtro\': pedido.filtro.activo}">\r\n                    <th style="width:41px;vertical-align: middle;" class="has-text-centered" >Lote</th>\r\n                    <th>\r\n                      <p class="control is-expanded">\r\n                        <input type="hidden" #searchBoxDescripcionClavePrevia >\r\n                        \x3c!--input class="input is-small" type="text" placeholder="Clave o Descripci\xf3n" #searchBoxDescripcionClave id="search-box-descripcion-clave-{{indexPedido}}" (keyup)="buscar($event,searchBoxDescripcionClave,searchBoxDescripcionClavePrevia,[{ input: searchBoxDescripcionClave, campos: [\'clave\',\'generico_nombre\',\'informacion.concentracion\',\'informacion.presentacion\']}])"--\x3e\r\n                        <input class="input is-small" type="text" placeholder="Clave o Descripci\xf3n" #searchBoxDescripcionClave id="search-box-descripcion-clave" (keyup)="buscar($event,searchBoxDescripcionClave,searchBoxDescripcionClavePrevia,[{ input: searchBoxDescripcionClave, campos: [\'clave\',\'descripcion\']}])">\r\n                      </p>\r\n                    </th>  \r\n                    \r\n                    <th style="width:78px !important;text-align: center; vertical-align: middle;"><abbr title="Cantidad">Cantidad</abbr></th>\r\n                    <th style="width:78px !important;text-align: center; vertical-align: middle;"><abbr title="Surtido">Lotes</abbr></th>\r\n                    <th  style="width:21px !important; text-align: center; vertical-align: middle;">Surtido</th>\r\n                  </tr>\r\n              </thead>\r\n              <tbody *ngIf="!pedido.filtro.activo">\r\n\r\n                <tr class="item" *ngFor="let item of pedido.paginacion.lista; let i = index;" (click)="seleccionarItem(item)" [ngClass]="{ \'seleccionado\': item == itemSeleccionado}">\r\n                  <td class="has-text-centered">{{ item.lote }}</td>\r\n                  <td >\r\n                    <small >{{ item.clave }} <br></small>\r\n                      <div style="line-height:1em;">\r\n                        <small>{{ item.descripcion }}</small>\r\n                      </div>\r\n                    \x3c!--b>{{ item.generico_nombre }}</b> <small *ngIf="(item.tipo == \'ME\' && item.informacion)"><b>{{ item.informacion.concentracion }}</b></small><br--\x3e\r\n                    <div class="item-detalle">\r\n                      \x3c!--div   *ngIf="(item.tipo == \'ME\' && item.informacion)" style="line-height:1em;">\r\n                        <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                        <small><i>{{ item.informacion.contenido }} </i></small>\r\n                      </div>\r\n                      <div *ngIf="item.tipo != \'ME\'" style="line-height:1em;">\r\n                        <small>{{ item.descripcion }}</small>\r\n                      </div--\x3e\r\n                      \r\n\r\n                      <div  style="padding: 0.5em 0 0.5em 0; ">\r\n                        <span *ngIf="(item.es_causes && item.tipo == \'ME\')" class="tag is-success" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">CAUSES</span>\r\n                        <span *ngIf="(!item.es_causes && item.tipo == \'ME\')" class="tag is-danger" style="font-size: 0.7em !important;">NO CAUSES</span>\r\n                        <span *ngIf="item.tipo == \'MC\'" class="tag is-warning" style="font-size: 0.7em !important;">MATERIAL CURACI\xd3N</span>\r\n                        <span *ngIf="item.es_cuadro_basico" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">Cuadro b\xe1sico</span>\r\n                        \r\n                        <span *ngIf="(item.tipo == \'ME\' && item.informacion)">\r\n                          <span *ngIf="item.informacion.es_controlado" class="tag is-warning" style="font-size: 0.7em">Controlado</span>\r\n                          <span *ngIf="item.informacion.es_surfactante" class="tag is-warning" style="font-size: 0.7em">Surfactante</span>  \r\n                        </span>\r\n                        \r\n                      </div>\r\n                    </div>\r\n                  </td> \r\n                  <td style="width:78px !important; text-align:center;">{{ item.totalStockAsignado || 0 }} / {{ item.cantidad }}</td>     \r\n                  <th style="width:78px !important; text-align:center;">{{ (item.listaStockAsignado)?item.listaStockAsignado.length:0 }}</th>\r\n                  <td style="width:21px !important; text-align:center;">\r\n                    <span class="icon" style="color:gray;" *ngIf="item.totalStockAsignado == 0 || item.totalStockAsignado == null"><i class="fa fa-circle-thin"></i></span>\r\n                    <span class="icon" style="color:orange;" *ngIf="item.totalStockAsignado > 0 && item.totalStockAsignado < item.cantidad"><i class="fa fa-minus-circle"></i></span>\r\n                    <span class="icon" style="color:green;" *ngIf="item.totalStockAsignado == item.cantidad"><i class="fa fa-check-circle"></i></span>\r\n                  </td>\r\n                </tr>      \r\n              </tbody>\r\n              <tbody *ngIf="pedido.filtro.activo">\r\n                <tr class="item"  *ngFor="let item of pedido.filtro.paginacion.lista; let i = index;" (click)="seleccionarItem(item)" [ngClass]="{ \'seleccionado\': item == itemSeleccionado}">\r\n                  <td class="has-text-centered">{{ item.lote }}</td>\r\n                  <td >\r\n                    <small >{{ item.clave }} <br></small>\r\n                    \x3c!--b>{{ item.generico_nombre }}</b> <small *ngIf="(item.tipo == \'ME\' && item.informacion)"><b>{{ item.informacion.concentracion }}</b></small><br--\x3e\r\n                    <div class="item-detalle">\r\n                      \x3c!--div   *ngIf="(item.tipo == \'ME\' && item.informacion)" style="line-height:1em;">\r\n                        <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                        <small><i>{{ item.informacion.contenido }} </i></small>\r\n                      </div>\r\n                      <div   *ngIf="item.tipo != \'ME\'" style="line-height:1em;">\r\n                        <small>{{ item.descripcion }}</small>\r\n                      </div--\x3e\r\n\r\n                      <div style="line-height:1em;">\r\n                        <small>{{ item.descripcion }}</small>\r\n                      </div>\r\n                    \r\n                      <div  style="padding: 0.5em 0 0.5em 0; ">\r\n                        <span *ngIf="(item.es_causes && item.tipo == \'ME\')" class="tag is-success" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">CAUSES</span>\r\n                        <span *ngIf="(!item.es_causes && item.tipo == \'ME\')" class="tag is-danger" style="font-size: 0.7em !important;">NO CAUSES</span>\r\n                        <span *ngIf="item.tipo == \'MC\'" class="tag is-warning" style="font-size: 0.7em !important;">MATERIAL CURACI\xd3N</span>\r\n                        <span *ngIf="item.es_cuadro_basico" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">Cuadro b\xe1sico</span>\r\n                        \r\n                        <span *ngIf="(item.tipo == \'ME\' && item.informacion)">\r\n                          <span *ngIf="item.informacion.es_controlado" class="tag is-warning" style="font-size: 0.7em">Controlado</span>\r\n                          <span *ngIf="item.informacion.es_surfactante" class="tag is-warning" style="font-size: 0.7em">Surfactante</span>  \r\n                        </span>\r\n                        \r\n                      </div>\r\n                    </div>\r\n                  </td> \r\n                  <td style="width:78px !important; text-align:center;">{{ item.totalStockAsignado || 0 }} / {{ item.cantidad }}</td>     \r\n                  <th style="width:78px !important; text-align:center;">{{ (item.listaStockAsignado)?item.listaStockAsignado.length:0 }}</th>\r\n                  <td style="width:21px !important; text-align:center;">\r\n                    <span class="icon" style="color:gray;" *ngIf="item.totalStockAsignado == 0 || item.totalStockAsignado == null"><i class="fa fa-circle-thin"></i></span>\r\n                    <span class="icon" style="color:orange;" *ngIf="item.totalStockAsignado > 0 && item.totalStockAsignado < item.cantidad"><i class="fa fa-minus-circle"></i></span>\r\n                    <span class="icon" style="color:green;" *ngIf="item.totalStockAsignado == item.cantidad"><i class="fa fa-check-circle"></i></span>\r\n                  </td>\r\n                </tr>   \r\n              </tbody>              \r\n            </table>\r\n            <paginacion style=" width:100%; height:auto; bottom:0; left:0px; background:#FFF;"\r\n                [total]="pedido.lista.length" \r\n                [paginasTotales]="pedido.paginacion.totalPaginas" \r\n                [resultadosPorPagina]="pedido.paginacion.resultadosPorPagina" \r\n                [paginaActual]="pedido.paginacion.paginaActual" \r\n                [indicePaginas]="pedido.paginacion.indice"\r\n                (onSiguiente)="pedido.paginaSiguiente(); limpiarStock();" \r\n                (onAnterior)="pedido.paginaAnterior(); limpiarStock();" \r\n                (onListar)="pedido.listar($event);limpiarStock();" \r\n                *ngIf="pedido.lista.length > 0 && pedido.lista.length > pedido.paginacion.resultadosPorPagina && !pedido.filtro.activo"></paginacion>\r\n\r\n            <paginacion \r\n                [total]="pedido.filtro.lista.length" \r\n                [paginasTotales]="pedido.filtro.paginacion.totalPaginas" \r\n                [resultadosPorPagina]="pedido.filtro.paginacion.resultadosPorPagina" \r\n                [paginaActual]="pedido.filtro.paginacion.paginaActual" \r\n                [indicePaginas]="pedido.filtro.paginacion.indice"\r\n                (onSiguiente)="pedido.filtro.paginaSiguiente(); limpiarStock();" \r\n                (onAnterior)="pedido.filtro.paginaAnterior();  limpiarStock();" \r\n                (onListar)="pedido.filtro.listar($event); limpiarStock();" \r\n                *ngIf="pedido.filtro.lista.length > 0 && pedido.filtro.lista.length > pedido.filtro.paginacion.resultadosPorPagina && pedido.filtro.activo"></paginacion>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class="tile is-parent is-vertical ">\r\n        <div *ngIf="(capturarStock && (itemSeleccionado.cantidad_recibida < itemSeleccionado.cantidad)) && pedido.datosImprimir.tipo_pedido_id != \'PEA\' && statusRecepcion != \'FI\'" class="tile is-child notification">\r\n          <div class="control is-grouped">\r\n            <p class="control is-expanded  has-icon has-icon-right">\r\n              <label class="label">C\xf3digo de Barras</label>\r\n              <input class="input" autofocus type="text" placeholder="C\xf3digo de Barras" [(ngModel)]="formStock.codigo_barras">\r\n            </p>\r\n            \x3c!--p class="control has-icon has-icon-right">\r\n              <label class="label">Marca</label>\r\n              <span class="select is-expanded">\r\n                <select [(ngModel)]="formStock.marca">\r\n                  <option *ngFor="let item of marcas" [ngValue]="item">{{ item.nombre }}</option>\r\n                </select>\r\n              </span>\r\n            </p--\x3e\r\n          </div>\r\n\r\n          <div class="control is-grouped">\r\n            <p class="control is-expanded  has-icon has-icon-right">\r\n              <label class="label">Lote</label>\r\n              <input class="input" autofocus type="text" placeholder="Lote" [(ngModel)]="formStock.lote">\r\n              <span *ngIf="erroresFormularioStock.lote.error" class="icon is-small" >\r\n                <i class="fa fa-warning"></i>\r\n              </span>\r\n              <span *ngIf="erroresFormularioStock.lote.error" class="help is-danger">{{erroresFormularioStock.lote.texto}}</span>\r\n            </p>\r\n            <p class="control is-expanded has-icon has-icon-right">\r\n              <label class="label">Caducidad (aaaa-mm-dd)</label>\r\n              \x3c!--input class="input" type="text" placeholder="aaaa-mm-dd" [(ngModel)]="formStock.fecha_caducidad"--\x3e\r\n              <input class="input" [(ngModel)]=\'formStock.fecha_caducidad\' ngui-datetime-picker [min-date]="minDate" date-only="true" placeholder="aaaa-mm-dd" />\r\n              <span *ngIf="erroresFormularioStock.fecha_caducidad.error" class="icon is-small" >\r\n                <i class="fa fa-warning"></i>\r\n              </span>\r\n              <span *ngIf="erroresFormularioStock.fecha_caducidad.error" class="help is-danger">{{erroresFormularioStock.fecha_caducidad.texto}}</span>\r\n            </p>\r\n            <p class="control is-expanded has-icon has-icon-right">\r\n              <label class="label">Cantidad</label>\r\n              <input class="input" type="number" placeholder="Cantidad" [(ngModel)]="formStock.cantidad">\r\n              <span *ngIf="erroresFormularioStock.cantidad.error" class="icon is-small" >\r\n                <i class="fa fa-warning"></i>\r\n              </span>\r\n              <span *ngIf="erroresFormularioStock.cantidad.error" class="help is-danger">{{erroresFormularioStock.cantidad.texto}}</span>\r\n            </p>\r\n          </div>\r\n\r\n          <div class="control is-grouped is-pulled-right " >\r\n            <p class="control is-expanded">\r\n            </p>\r\n            <p class="control">\r\n                <button class="button is-medium is-primary " (click)="asignarStock()">\r\n                  <span class="icon"><i class="fa fa-plus"></i></span><span>Agregar</span>\r\n                </button>\r\n            </p>\r\n            <p class="control">\r\n                <button class="button is-medium "  (click)="cancelarCapturaStock()">\r\n                  <span>Cancelar</span>\r\n                </button>\r\n            </p>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class="tile is-child  notification is-white">\r\n          <div class="contenedor-tabla">\r\n            <table class="table" *ngIf="!cargando && itemSeleccionado != null" style="font-size: 0.8em;" >\r\n              <thead>\r\n                  <tr style="background: #00d1b2;">\r\n                    <th style="color:#FFF !important;">C\xf3digo</th>\r\n                    \x3c!--th style="color:#FFF !important;">Marca</th--\x3e\r\n                    <th style="color:#FFF !important;">Lote</th>\r\n                    <th style="color:#FFF !important;">Caducidad</th>\r\n                    <th *ngIf="pedido.tipo_pedido == \'PEA\'" style="color:#FFF !important;"><abbr title="Cantidad Eviada">Enviado</abbr></th>\r\n                    <th style="color:#FFF !important;"><abbr title="Cantidad Recibida">Recibido</abbr></th>\r\n                    <th></th>              \r\n                  </tr>\r\n              </thead>\r\n              <tfoot>\r\n                <tr>\r\n                  <th colspan="4" style="text-align:right">\r\n                    <span *ngIf="itemSeleccionado.totalStockAsignado == itemSeleccionado.cantidad"><span class="icon is-small" ><i class="fa fa-check-circle"></i></span> <span>Completo &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> Total </span>\r\n                  </th>\r\n                  <td style="text-align:center">{{ itemSeleccionado.totalStockAsignado || 0 }} / {{ itemSeleccionado.cantidad }}</td>\r\n                </tr>\r\n              </tfoot>\r\n              <tbody>\r\n                  <tr  class="is-unselectable" *ngFor="let item of itemSeleccionado.listaStockAsignado">\r\n                    <td>{{ item.codigo_barras}}</td>\r\n                    \x3c!--td>{{ item.marca.nombre }}</td--\x3e\r\n                    <td>{{ item.lote }}</td>\r\n                    <td>{{ item.fecha_caducidad | date:\'dd/MM/y\' }}</td>\r\n                    <td *ngIf="pedido.tipo_pedido == \'PEA\'" style="width:150px !important;">\r\n                      {{ item.cantidad_recibida | number }} / {{ item.cantidad_enviada | number }}\r\n                    </td> \r\n                    <td style="width:150px !important;">\r\n                        <p class="control is-expanded">\r\n                        <input *ngIf="pedido.tipo_pedido != \'PEA\'" class="input is-small has-text-centered"  type="number" min="1" max="{{item.existencia}}" placeholder="Cant" [(ngModel)]="item.cantidad" (change)="validarItemStock(item, true)" (keyup)="validarItemStock(item)">\r\n                        <input *ngIf="pedido.tipo_pedido == \'PEA\'" class="input is-small has-text-centered"  type="number" min="0" max="{{item.cantidad_enviada}}" placeholder="Cant" [(ngModel)]="item.cantidad_recibida" (change)="validarItemStock(item, true)" (keyup)="validarItemStock(item)">\r\n                        </p>\r\n                    </td> \r\n                    <td style="vertical-align: middle;" class="has-text-centered"><a  *ngIf="puedeEliminarStock" class="is-danger" (click)="eliminarStock(item)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n                  </tr>\r\n              </tbody>  \r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n  </div>\r\n</div>\r\n  \r\n\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    \x3c!--p style="text-align:center" ><a  class="button is-danger is-inverted" (click)="ultimaPeticion(); mensajeError.mostrar = false"> <span class="icon"><i class="fa fa-refresh"></i></span> <span>Volver a intentar</span></a></p--\x3e\r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n\r\n<div class="modal is-active" [ngClass]="{\'is-active\': mostrarDialogo}">\r\n  <div class="modal-background" (click)="cerrarDialogo()"></div>\r\n  <div class="modal-card" style="width:60%; height: 90%;">\r\n    <header class="modal-card-head" style="background: #00d1b2;">\r\n      <div class="container is-fluid"  style="width:100%;">\r\n          <h1 class="title" style="color:#FFF;">\r\n            <span class="icon is-medium"><i class="fa fa-check"></i></span> Finalizar Recepci\xf3n \r\n          </h1>\r\n      </div>            \r\n      <a class="button  is-primary" style="position:absolute; top:1em; right:1em;" (click)="cerrarDialogo()"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n    </header>\r\n    <section class="modal-card-body" style="padding:0px;" >\r\n      <div style="padding: 1em;">\r\n        <form name="form" novalidate [formGroup]="formularioRecepcion">\r\n          <label class="label">Nombre de quien entrega:</label>\r\n          <p class="control is-expanded  has-icon has-icon-right">\r\n            <input type="text" class="input is-fullwidth" [ngClass]="{\'is-danger\': formularioTieneError(\'entrega\',\'required\')}" formControlName="entrega"/>\r\n            <span class="icon is-small" *ngIf="formularioTieneError(\'entrega\',\'required\')">\r\n              <i class="fa fa-warning"></i>\r\n            </span>\r\n            <span class="help is-danger" *ngIf="formularioTieneError(\'entrega\',\'required\')">Este campo es requerido.</span>\r\n          </p>\r\n\r\n          <label class="label">Nombre de quien recibe:</label>\r\n          <p class="control is-expanded  has-icon has-icon-right">\r\n            <input type="text" class="input is-fullwidth" [ngClass]="{\'is-danger\': formularioTieneError(\'recibe\',\'required\')}" formControlName="recibe"/>\r\n            <span class="icon is-small" *ngIf="formularioTieneError(\'recibe\',\'required\')">\r\n              <i class="fa fa-warning"></i>\r\n            </span>\r\n            <span class="help is-danger" *ngIf="formularioTieneError(\'recibe\',\'required\')">Este campo es requerido.</span>\r\n          </p>\r\n\r\n          <label class="label">Fecha de la remisi\xf3n (aaaa-mm-dd):</label>\r\n          <p class="control is-expanded  has-icon has-icon-right">\r\n            \x3c!--input type="text" class="input is-fullwidth" placeholder="aaaa-mm-dd" [ngClass]="{\'is-danger\': formularioTieneError(\'fecha_movimiento\',\'required\')}" formControlName="fecha_movimiento" /--\x3e\r\n            <input class="input is-fullwidth" formControlName="fecha_movimiento" ngui-datetime-picker [max-date]="maxDate" date-only="true" [ngClass]="{\'is-danger\': formularioTieneError(\'fecha_movimiento\',\'required\')}" placeholder="aaaa-mm-dd" />\r\n            <span class="icon is-small" *ngIf="formularioTieneError(\'fecha_movimiento\',\'required\')">\r\n              <i class="fa fa-warning"></i>\r\n            </span>\r\n            <span class="help is-danger" *ngIf="formularioTieneError(\'fecha_movimiento\',\'required\')">Este campo es requerido.</span>\r\n          </p>\r\n          \r\n          <div class="control">\r\n            <textarea name="observaciones" class="textarea" placeholder="Observaciones"  formControlName="observaciones"></textarea>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </section>\r\n    <footer class="" style="position:relative; padding:1em;background: #FFF; border-top:1px solid #EEE; border-radius:0 0 0.8em 0.8em " >\r\n      <div class="columns">\r\n          <div class="column" ></div>\r\n          <div class="column is-4" style="text-align:right; " *ngIf="statusRecepcion != \'FI\'">\r\n            <div style="margin:1em;">\r\n            <a  class="button is-primary" style="width:45%; margin-right:5%;" [ngClass]="{ \'is-loading\': guardando }"   (click)="guardar(true)"> <span class="icon"><i class="fa fa-check"></i></span> <span>Concluir</span></a>\r\n            </div>\r\n          </div>\r\n        </div> \r\n    </footer>\r\n  </div>\r\n</div>\r\n\r\n'},dDZ5:function(e,t){e.exports='<menu-catalogo></menu-catalogo>\r\n\r\n<div style="height:50px;"></div>\r\n<section style="padding: 1em;">\r\n  <div class="control is-grouped">\r\n    <p class="control is-expanded">\r\n        <input class="input is-medium" type="text" placeholder="Buscar" [(ngModel)] = "busqueda" id="search-box">\r\n    </p>\r\n    <p class="control">\r\n        <a class="button is-medium is-primary is-inverted" [ngClass]="{ \'is-disabled\': busqueda==\'\'}" (click)="busqueda=\'\'">\r\n        <span class="icon"><i class="fa fa-close"></i></span>\r\n        </a>\r\n    </p>\r\n  </div>\r\n\r\n</section>\r\n<section style="padding: 1em;">\r\n    <section class="contenedor columns is-multiline is-mobile">\r\n        <div class="column is-1-desktop is-2-tablet is-3-mobile" *ngFor="let item of accesosDirectos | buscarModulo: busqueda">\r\n            <a href="#" title="{{ item.titulo}}" class="item" routerLink="{{item.url}}"  routerLinkActive="active">\r\n                <figure class="image " style="height: auto; width: 100%; ">\r\n                    <img src="{{ item.icono }}" alt="{{item.titulo}}">                            \r\n                </figure>\r\n                <span class="is-hidden-mobile">{{ item.titulo}}</span>\r\n                <span class="is-hidden-tablet is-hidden-desktop"><small>{{ item.titulo}}</small></span>\r\n            </a>\r\n        </div>\r\n    </section>\r\n    <hr>\r\n    <section class="contenedor columns is-multiline is-mobile">\r\n        <div class="column is-1-desktop is-2-tablet is-3-mobile" *ngFor="let item of modulos | buscarModulo: busqueda">\r\n            <a href="#" title="{{ item.titulo}}" style="position: relative;" class="item" routerLink="{{item.url}}" routerLinkActive="active">\r\n                \r\n                <figure class="image " style="height: auto; width: 100%; ">\r\n                    <img src="{{ item.icono }}" alt="{{item.titulo}}">                            \r\n                </figure>\r\n                <span class="is-hidden-mobile">{{ item.titulo}}</span>\r\n                <span class="is-hidden-tablet is-hidden-desktop"><small>{{ item.titulo}}</small></span>\r\n                <span *ngIf="item.badge>0" class="tag is-danger" style="position:absolute; top:0px; right:0px;">{{ item.badge }}</span>\r\n            </a>\r\n        </div>\r\n    </section>\r\n</section>\r\n\r\n'},dLuj:function(e,t){e.exports=".item{ width: 100%; text-align: center; display:block; font-size: 0.8em; }"},dfbv:function(e,t){e.exports='<administrador-proveedores-menu></administrador-proveedores-menu>\r\n\r\n<div class="contenedor" style="height:100%; padding:0.75rem; padding-top:0rem;">\r\n    \x3c!--div class="column" style="position:relative; overflow-x:hidden;"--\x3e\r\n        <div style="height:60px;"></div>\r\n        <div style="background: #FFF; overflow:hidden; border-radius:1em; width:100%;margin-bottom:1em;">\r\n            <table class="table" style="min-width:100%; font-size:0.8em; margin-bottom:0.2em;margin-top:0.2em;">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Presupuesto</th>\r\n                        <th style="text-align:center">Causes</th>\r\n                        <th style="text-align:center">No causes</th>\r\n                        <th style="text-align:center">Material de curaci\xf3n</th>\r\n                        <th style="text-align:center">Total</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngIf="cargandoPresupuestos">\r\n                        <th colspan="5" style="text-align:center"><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>&nbsp;Cargando Presupuesto...</th>\r\n                    </tr>\r\n                    <tr *ngIf="!cargandoPresupuestos">\r\n                        <td>Comprometido</td>\r\n                        <td style="text-align:center"><span class="tag is-warning"> $ {{ presupuesto.causes_comprometido | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-warning"> $ {{ presupuesto.no_causes_comprometido | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-warning"> $ {{ presupuesto.material_curacion_comprometido | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-warning"> $ {{ presupuesto.total_comprometido | number:\'1.2-2\' }}</span></td>\r\n                    </tr>\r\n                    <tr *ngIf="!cargandoPresupuestos">\r\n                        <td>Devengado</td>\r\n                        <td style="text-align:center"><span class="tag is-danger">$ {{ presupuesto.causes_devengado | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-danger">$ {{ presupuesto.no_causes_devengado | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-danger">$ {{ presupuesto.material_curacion_devengado | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-danger">$ {{ presupuesto.total_devengado | number:\'1.2-2\' }}</span></td>\r\n                    </tr>\r\n                    <tr *ngIf="!cargandoPresupuestos">\r\n                        <td>Total Pedido</td>\r\n                        <td style="text-align:center"><span class="tag is-info">$ {{ presupuesto.total_causes | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-info">$ {{ presupuesto.total_no_causes | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-info">$ {{ presupuesto.total_material_curacion | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-info">$ {{ presupuesto.total_pedido | number:\'1.2-2\' }}</span></td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            \x3c!--table class="table" *ngIf="!cargando" style="min-width:100%; font-size:0.8em; margin-bottom:0.2em;margin-top:0.2em;">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Presupuesto</th>\r\n                        <th style="text-align:center">Autorizado</th>\r\n                        <th style="text-align:center">Comprometido</th>\r\n                        <th style="text-align:center">Devengado</th>\r\n                        <th style="text-align:center">Disponible</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr>\r\n                        <th>Causes</th>\r\n                        <td style="text-align:center"><span class="tag is-primary">$ {{ presupuesto.causes_modificado | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-warning"> $ {{ presupuesto.causes_comprometido | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-danger">$ {{ presupuesto.causes_devengado | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-success">$ {{ presupuesto.causes_disponible | number:\'1.2-2\' }}</span></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>No causes</th>\r\n                        <td style="text-align:center"><span class="tag is-primary">$ {{ presupuesto.no_causes_modificado | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-warning"> $ {{ presupuesto.no_causes_comprometido | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-danger">$ {{ presupuesto.no_causes_devengado | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-success">$ {{ presupuesto.no_causes_disponible | number:\'1.2-2\' }}</span></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>Material de curaci\xf3n</th>\r\n                        <td style="text-align:center"><span class="tag is-primary">$ {{ presupuesto.material_curacion_modificado | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-warning"> $ {{ presupuesto.material_curacion_comprometido | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-danger">$ {{ presupuesto.material_curacion_devengado | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-success">$ {{ presupuesto.material_curacion_disponible | number:\'1.2-2\' }}</span></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>Total</th>\r\n                        <td style="text-align:center"><span class="tag is-primary">$ {{ presupuesto.total_modificado | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-warning"> $ {{ presupuesto.total_comprometido | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-danger">$ {{ presupuesto.total_devengado | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-success">$ {{ presupuesto.total_disponible | number:\'1.2-2\' }}</span></td>\r\n                    </tr>\r\n                </tbody>\r\n            </table--\x3e\r\n         </div>\r\n            \r\n        <section class="hero is-primary"  style="  border-radius:  1em  1em 0  0;" >\r\n            \r\n            <div class="hero-body" style="position:relative;">                    \r\n                \r\n                <a class="button  is-primary" *ngIf="!cargando" style="position:absolute; top:1em; right:1em;" (click)="exportar()"><span class="icon "><i class="fa fa-file-excel-o"></i></span> <span>Exportar</span></a>\r\n                <div class="container is-fluid">\r\n                    \r\n                    <h1 class="title">\r\n                        <span class="icon is-medium"><i class="fa fa-file-text"></i></span> Pedidos\r\n                    </h1>\r\n                    \r\n                    <div class="control is-grouped">\r\n                        <p class="control is-expanded">\r\n                            <input class="input is-medium" type="text" placeholder="Buscar por CLUES \xf3 Folio \xf3 Nombre del pedido" [(ngModel)] = "q" (keyup)="filtrarQuery($event)">\r\n                        </p>\r\n                        \x3c!--div class="control">\r\n                            <button class="button is-primary" (click)="sin_pedidos = !sin_pedidos"><span class="icon"><i class="fa" [ngClass]="{\'fa-check-square-o\': sin_pedidos, \'fa-square-o\':!sin_pedidos }"></i></span> &nbsp;&nbsp;Sin pedidos</button>\r\n                        </div--\x3e\r\n                    </div>\r\n                    <div class="columns">\r\n                        <div class="column">\r\n                            <label>Status:</label>\r\n                            <p class="control is-expanded">\r\n                                <span class="select is-fullwidth">\r\n                                <select #statusSelect (change)="cambioSeleccionStatus(statusSelect.value)">\r\n                                    <option value="-1">Todos</option>\r\n                                    <option *ngFor="let item of status" value="{{item.id}}">{{ item.descripcion }}</option>\r\n                                </select>\r\n                                </span>\r\n                            </p>                   \r\n                        </div>\r\n                        <div class="column">\r\n                            <label>Jurisdicciones:</label>\r\n                            <p class="control is-expanded">\r\n                                <span class="select is-fullwidth">\r\n                                <select #js id="jurisdicciones"  (change)="cambioSeleccionJurisdiccion(js.value)">\r\n                                    <option value="-1">Todas</option>\r\n                                    <option *ngFor="let item of jurisdicciones" value="{{item.id}}">JS {{ item.numero }} - {{ item.nombre }}</option>\r\n                                </select>\r\n                                </span>\r\n                            </p>\r\n                        </div>\r\n                        <div class="column">\r\n                            <label for="mes">Mes:</label>\r\n                            <p class="control is-expanded">\r\n                                <span class="select is-fullwidth">\r\n                                    <select [(ngModel)]="mes" name="mes">\r\n                                        <option *ngFor="let item of meses" [value]="item.id">{{ item.nombre }}</option>\r\n                                    </select>\r\n                                </span>\r\n                            </p>\r\n                        </div>\r\n                        <div class="column">\r\n                            <label for="mes">A\xf1o:</label>\r\n                            <p class="control is-expanded">\r\n                                <input class="input" type="number" placeholder="2017" [(ngModel)] = "anio" (keyup)="filtrarQuery($event)">\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <div *ngIf="jurisdiccionesSeleccionadas.length>0 || statusSeleccionados.length>0">\r\n                        <h1 class="title is-6">Filtro aplicado:</h1>\r\n                        <span class="tag is-white is-medium" style="margin-bottom:0.5em; margin-right:0.2em;" *ngFor="let item of jurisdiccionesSeleccionadas;  let i = index">JS {{ item.numero }}<button class="delete is-small" (click)="quitarJurisdiccion(i)"></button></span>\r\n                        <span class="tag is-warning is-medium" style="margin-bottom:0.5em; margin-right:0.2em;" *ngFor="let item of statusSeleccionados;  let i = index">{{ item.descripcion }}<button class="delete is-small" (click)="quitarStatus(i)"></button></span>\r\n                    </div>\r\n                    <nav class="level">\r\n                        <div class="level-left">\r\n                            <h1 class="title is-5">Resultados: <b>{{ total }}</b></h1>\r\n                        </div>\r\n                        <div class="level-right">\r\n                            <div class="block">\r\n                            <button class="button " *ngIf="jurisdiccionesSeleccionadas.length>0 || statusSeleccionados.length>0 || q != \'\' " (click)="q = \'\'; jurisdiccionesSeleccionadas = []; proveedoresSeleccionados = []; statusSeleccionados =[]; js.value = -1; statusSelect.value = -1;"><span class="icon"><i class="fa fa-times"></i></span> <span>Limpiar filtro</span></button>\r\n                            <button class="button is-primary is-inverted" (click)="listar(1)"><span class="icon"><i class="fa fa-filter"></i></span> <span>Filtrar</span></button>\r\n                            </div>\r\n                        </div>\r\n                    </nav>\r\n                \r\n                    \r\n                </div>\r\n            </div>\r\n        </section>\r\n        \r\n        <div  style="background: #FFF; overflow-x:auto; ">\r\n            <div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n            <table class="table" *ngIf="!cargando" style="min-width:100%; font-size:0.8em;">\r\n                <thead>\r\n                    <tr>\r\n                        <th colspan="12">\r\n                            Status: \r\n                            <span class="icon sin-surtir"><i class="fa fa-circle"></i></span> Sin Surtir | \r\n                            <span class="icon surtiendo"><i class="fa fa-minus-circle"></i></span> Surtiendo | \r\n                            <span class="icon surtido"><i class="fa fa-check-circle"></i></span> Surtido | \r\n                            <span class="icon farmacia"><i class="fa fa-cubes"></i></span> Farmacia |\r\n                            <span class="icon expirado"><i class="fa fa-exclamation-circle"></i></span> Expirado |\r\n                            <span class="icon cancelado"><i class="fa fa-times-circle"></i></span> Cancelado\r\n                        </th>\r\n                    </tr>\r\n                    <tr>\r\n                        <th></th>\r\n                        <th></th>\r\n                        <th style="text-align:center;">Fecha</th>\r\n                        <th colspan="2" style="text-align:center;">Total</th>\r\n                        <th class="causes" colspan="2" style="text-align:center;">Causes</th>\r\n                        <th class="no-causes" colspan="2" style="text-align:center;">No causes</th>\r\n                        <th class="material-curacion" colspan="2" style="text-align:center;">Mat. de curaci\xf3n</th>\r\n                        <th></th>\r\n                    </tr>\r\n                    <tr>\r\n                        <th style="text-align:center;">Status</th>\r\n                        <th>Folio/Nombre del Pedido/Unidad Medica</th>\r\n                        \x3c!--th>Nombre</th>\r\n                        <th>Unidad m\xe9dica</th--\x3e\r\n                        <th style="text-align:center;">Pedido [Expiraci\xf3n]</th>\r\n                        \r\n                        <th style="text-align:center;">Claves</th>\r\n                        <th style="text-align:center;">Monto</th>\r\n\r\n                        <th class="causes" style="text-align:center;">Claves</th>\r\n                        <th class="causes" style="text-align:center;">Monto</th>\r\n\r\n                        <th class="no-causes" style="text-align:center;">Claves</th>\r\n                        <th class="no-causes" style="text-align:center;">Monto</th>\r\n\r\n                        <th class="material-curacion" style="text-align:center;">Claves</th>\r\n                        <th class="material-curacion" style="text-align:center;">Monto</th>\r\n\r\n                        <th style="text-align:center;">Archivos</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor="let item of lista; let i=index"> \r\n                        <td [ngClass]="{\'surtido\':item.status==\'FI\',\'expirado\':item.status==\'EX\', \'cancelado\':item.status==\'EX-CA\',\'sin-surtir\':(item.total_cantidad_recibida==0 && item.status==\'PS\'),\'surtiendo\':(item.total_cantidad_recibida>0 && item.status==\'PS\'),\'farmacia\':item.status==\'EF\'}" style="text-align:center; vertical-align: middle;"><span class="icon is-medium"><i class="fa" [ngClass]="{\'fa-check-circle\':item.status==\'FI\',\'fa-times-circle\':item.status==\'EX-CA\',\'fa-exclamation-circle\':item.status==\'EX\',\'fa-circle\':(item.total_cantidad_recibida==0 && item.status == \'PS\'),\'fa-minus-circle\':(item.total_cantidad_recibida>0 && item.status == \'PS\'),\'fa-cubes\':item.status==\'EF\'}"></i></span></td>\r\n                        <td style="vertical-align: middle;"><strong>{{ item.folio }}</strong><br>{{item.unidad_medica}}<br>{{item.descripcion}}</td>\r\n                        \x3c!--td style="vertical-align: middle;">{{ item.descripcion }}</td>\r\n                        <td style="vertical-align: middle;">{{ item.unidad_medica }}</td--\x3e\r\n                        <td style="text-align:center; vertical-align: middle;" [ngClass]="{\'estatus-rojo\':(item.status != \'EF\' && item.expira_en_dias <= 0),\'estatus-amarillo\':(item.status == \'PS\' && (item.expira_en_dias > 0 && item.expira_en_dias <= 5))}">\r\n                            {{ item.fecha_concluido | date:\'y-MM-dd\' }}<br>\r\n                            <span *ngIf="item.status != \'EF\'">\r\n                                [{{ item.fecha_expiracion | date:\'y-MM-dd\' }}]<br>\r\n                            </span>\r\n                            <strong *ngIf="item.status == \'PS\' && item.expira_en_dias >= 0">\r\n                                Expira <span *ngIf="item.expira_en_dias == 0">Hoy</span><span *ngIf="item.expira_en_dias > 0">en {{item.expira_en_dias}} d\xeda(s)</span>\r\n                            </strong>\r\n                            <strong *ngIf="item.status == \'EX\' && item.expira_en_dias < 0">\r\n                                <span *ngIf="item.status != \'EX-CA\'">Expirado  hace {{item.expira_en_dias*(-1)}} d\xeda(s)</span>\r\n                            </strong>\r\n                        </td>\r\n                        \r\n                        <td style="text-align:center; vertical-align: middle; white-space: nowrap;">{{ item.total_claves_recibidas }} / {{ item.total_claves_solicitadas }} <br> <strong>({{(item.total_claves_recibidas/item.total_claves_solicitadas)*100 | number:\'1.0-2\'}} %)</strong></td>\r\n                        <td style="text-align:center; vertical-align: middle;">$ {{ item.total_monto_recibido | number:\'1.2-2\' }} / $ {{ item.total_monto_solicitado | number:\'1.2-2\' }} <br> <strong>({{((item.total_monto_recibido/item.total_monto_solicitado)*100) | number:\'1.0-2\'}} %)</strong></td>\r\n\r\n                        <td class="causes"  style="text-align:center; vertical-align: middle; white-space: nowrap;">\r\n                            <span *ngIf="item.total_claves_causes">{{ item.total_claves_causes_recibidas }} / {{ item.total_claves_causes }} <br> <strong>({{((item.total_claves_causes_recibidas/item.total_claves_causes)*100) | number:\'1.0-2\'}} %)</strong></span>\r\n                            <span *ngIf="!item.total_claves_causes"> --- </span>\r\n                        </td>\r\n                        <td class="causes"  style="text-align:center; vertical-align: middle;">\r\n                            <span *ngIf="(+item.total_monto_causes*1)">${{ item.total_monto_causes_recibido  | number:\'1.2-2\'}} / ${{ item.total_monto_causes  | number:\'1.2-2\'}} <br> <strong>({{((item.total_monto_causes_recibido/item.total_monto_causes)*100) | number:\'1.0-2\'}} %)</strong></span>\r\n                            <span *ngIf="!(+item.total_monto_causes*1)"> --- </span>\r\n                        </td>\r\n\r\n                        <td class="no-causes" style="text-align:center; vertical-align: middle; white-space: nowrap;">\r\n                            <span *ngIf="item.total_claves_no_causes">{{ item.total_claves_no_causes_recibidas }} / {{ item.total_claves_no_causes }} <br> <strong>({{((item.total_claves_no_causes_recibidas/item.total_claves_no_causes)*100) | number:\'1.0-2\'}} %)</strong></span>\r\n                            <span *ngIf="!item.total_claves_no_causes"> --- </span>\r\n                        </td>\r\n                        <td class="no-causes" style="text-align:center; vertical-align: middle;">\r\n                            <span *ngIf="(+item.total_monto_no_causes*1)">${{ item.total_monto_no_causes_recibido  | number:\'1.2-2\'}} / ${{ item.total_monto_no_causes  | number:\'1.2-2\'}} <br> <strong>({{((item.total_monto_no_causes_recibido/item.total_monto_no_causes)*100) | number:\'1.0-2\'}} %)</strong></span>\r\n                            <span *ngIf="!(+item.total_monto_no_causes*1)"> --- </span>\r\n                        </td>\r\n\r\n                        <td class="material-curacion" style="text-align:center; vertical-align: middle; white-space: nowrap;">\r\n                            <span *ngIf="item.total_claves_material_curacion">{{ item.total_claves_material_curacion_recibidas }} / {{ item.total_claves_material_curacion }} <br> <strong>({{((item.total_claves_material_curacion_recibidas/item.total_claves_material_curacion)*100) | number:\'1.0-2\'}} %)</strong></span>\r\n                            <span *ngIf="!item.total_claves_material_curacion"> --- </span>\r\n                        </td>\r\n                        <td class="material-curacion" style="text-align:center; vertical-align: middle;">\r\n                            <span *ngIf="(+item.total_monto_material_curacion*1)">${{ item.total_monto_material_curacion_recibido | number:\'1.2-2\' }} / ${{ item.total_monto_material_curacion | number:\'1.2-2\' }} <br> <strong>({{((item.total_monto_material_curacion_recibido/item.total_monto_material_curacion)*100) | number:\'1.0-2\'}} %)</strong></span>\r\n                            <span *ngIf="!(+item.total_monto_material_curacion*1)"> --- </span>\r\n                        </td>\r\n\r\n                        <td style="text-align:center; vertical-align: middle; width: 130px">\r\n                            \r\n                            <button type="button" class="button"  (click)="mostrarDialogoPedidos(item.pedido_id)" >\r\n                                <span class="icon is-small"><i class="fa fa-archive"></i></span>\r\n                            </button>\r\n                            \r\n                            <button type="button" class="button" [ngClass]="{\'descargado\':item.repositorio>0 }" (click)="mostrarDialogoArchivos(item.pedido_id, item.folio)" >\r\n                                <span class="icon is-small"><i class="fa fa-upload"></i></span><span class="tag" [ngClass]="{\'color_tag_descargas\':item.repositorio>0 }"><b>{{ item.repositorio }}</b></span>\r\n                            </button>\r\n                            \x3c!--a (click)="imprimirExcelItem(item.pedido_id)"><span class="icon"><i class="fa fa-file-excel-o"></i></span></a> <a><span class="icon"><i class="fa fa-file-pdf-o"></i></span></a--\x3e\r\n                        </td>\r\n                    </tr>\r\n                    <tr *ngIf="lista.length == 0">\r\n                        <td colspan="12" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n        <div style="background: #FFF; border-radius: 0  0 1em  1em; width:100%;">\r\n        \r\n            <paginacion \r\n                [total]="total" \r\n                [paginasTotales]="paginasTotales" \r\n                [resultadosPorPagina]="resultadosPorPagina" \r\n                [paginaActual]="paginaActual" \r\n                [indicePaginas]="indicePaginas"\r\n                (onSiguiente)="paginaSiguiente()" \r\n                (onAnterior)="paginaAnterior()" \r\n                (onListar)="listar($event)" \r\n                *ngIf="total>0 && total > resultadosPorPagina"></paginacion>\r\n        </div>\r\n    \x3c!--/div--\x3e\r\n</div>\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>\r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>\r\n</div>\r\n\r\n<div class="modal is-active" [ngClass]="{\'is-active\': verDialogoPedido}">\r\n  <div class="modal-background" (click)="cerrarDialogoPedidos()"></div>\r\n  <div class="modal-card" style="width:95%; height: auto;">\r\n    <header class="modal-card-head" style="background: #00d1b2;">\r\n      <div class="container is-fluid"  style="width:100%;">\r\n          <h1 class="title" style="color:#FFF;">\r\n            <span class="icon is-medium"><i class="fa fa-file"></i></span> {{datosPedido.folio}} \r\n          </h1>\r\n      </div>            \r\n      <a class="button  is-primary" style="position:absolute; top:1em; right:1em;" (click)="cerrarDialogoPedidos()"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n    </header>\r\n    <section class="modal-card-body" style="padding:0px;" >\r\n      <div style="padding: 1em;">\r\n        <div class="is-fullwidth has-text-centered" *ngIf="cargandoDatosPedido">\r\n            <br>\r\n            <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando datos del pedido...</span></span>\r\n            <br>\r\n            <br>\r\n        </div>\r\n        <div class="columns is-multiline" *ngIf="!cargandoDatosPedido">\r\n          <div class="column is-one-quarter" *ngFor="let tipo of tiposSubPedidos">\r\n            <div class="card">\r\n              <header class="card-header">\r\n                <p class="card-header-title">\r\n                  {{subPedidos[tipo].titulo}}\r\n                </p>\r\n              </header>\r\n              <div class="card-content">\r\n                <div class="content">\r\n                  <strong>Total claves</strong>: {{subPedidos[tipo].claves | number}} <br>\r\n                  <strong>Total unidades</strong>: {{subPedidos[tipo].cantidad | number}} <br>\r\n                  <strong>Total monto</strong>: $ {{subPedidos[tipo].monto + ((subPedidos[tipo].tiene_iva)?+subPedidos[tipo].monto*16/100:0) | number:\'1.2-2\'}}\r\n                </div>\r\n              </div>\r\n              <footer class="card-footer">\r\n                \x3c!--a class="card-footer-item" (click)="imprimirPedido(tipo)" [ngClass]="{ \'is-loading\': cargandoPdf, \'is-inverted\': !cargandoPdf }">\r\n                  <span class="icon is-medium"><i class="fa fa-file-pdf-o"></i></span>&nbsp;<span>Descargar/Imprimir</span>\r\n                </a--\x3e\r\n                <a class="button is-primary is-fullwidth"  [ngClass]="{ \'is-loading\': cargandoPdf[tipo], \'is-inverted\': !cargandoPdf[tipo] }" title="Imprimir Pedido" (click)="imprimirPedido(tipo)">\r\n                    <span class="icon"><i class="fa fa-file-pdf-o"></i></span> &nbsp; Descargar/Imprimir\r\n                </a>\r\n              </footer>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n    <footer class="" style="position:relative; padding:1em;background: #FFF; border-top:1px solid #EEE; border-radius:0 0 0.8em 0.8em " >\r\n        <p class="control" *ngIf="!cargandoDatosPedido">\r\n            <button class="button is-medium is-primary " (click)="imprimirExcelPedido()" >\r\n            <span class="icon"><i class="fa fa-file-excel-o"></i></span><span>Excel del Pedido</span>\r\n            </button>\r\n        </p>\r\n        <div class="notification is-danger is-small" *ngIf="errorEnPDF">\r\n            <button class="delete" (click)="errorEnPDF = false"></button>        \r\n            <b>Error:</b> Ocurrio un error al generar el PDF<br><br>\r\n        </div>\r\n    </footer>\r\n  </div>\r\n</div>\r\n\r\n\r\n<div class="modal is-active" [ngClass]="{\'is-active\': verDialogoArchivo}">\r\n  <div class="modal-background" (click)="cerrarDialogoArchivos()"></div>\r\n  <div class="modal-card" style="width:70%; height: auto;">\r\n    <header class="modal-card-head" style="background: #00d1b2;">\r\n      <div class="container is-fluid"  style="width:100%;">\r\n          <h1 class="title" style="color:#FFF;">\r\n            <span class="icon is-medium"><i class="fa fa-file"></i></span> {{nombre_pedido}} \r\n          </h1>\r\n      </div>            \r\n      <a class="button  is-primary" style="position:absolute; top:1em; right:1em;" (click)="cerrarDialogoArchivos()"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n    </header>\r\n    <section class="modal-card-body" style="padding:0px;" >\r\n      <div style="padding: 1em;">\r\n        <div class="is-fullwidth has-text-centered" *ngIf="cargandoDatosArchivo">\r\n            <br>\r\n            <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando repositorio...</span></span>\r\n            <br>\r\n            <br>\r\n        </div>\r\n        <div class="columns" *ngIf="!cargandoDatosArchivo">\r\n          <table class="table" *ngIf="!cargandoDatosArchivo" style="min-width:100%; font-size:0.8em;">\r\n                <thead>\r\n                    <tr>\r\n                        <th style="text-align:center;">Fecha Subido</th>\r\n                        <th style="text-align:center;">Nombre</th>\r\n                        <th style="text-align:center;">Peso</th>                        \r\n                        <th style="text-align:center;">Usuario</th>                        \r\n                        <th style="text-align:center;">Descargas</th>                        \r\n                        <th></th>\r\n                    </tr>\r\n                    \r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor="let item of lista_repositorio; let i=index"> \r\n                        <td style="text-align: center;"><strong>{{ item.created_at }}</strong></td>  \r\n                        <td style="text-align: center;"><strong>{{ item.nombre_archivo }}</strong></td>   \r\n                        <td style="text-align: center;"><strong>{{ (item.peso/1024) | number : \'1.2-2\' }} Kb ({{(item.peso/1048576) | number : \'1.2-2\' }} Mb)</strong></td>   \r\n                        <td style="text-align: center;"><strong>{{ item.usuario_id }}</strong></td>   \r\n                         \r\n                        <td style="text-align: center;"><strong>{{ item.descargas }}</strong></td>   \r\n                        <td style="text-align: center;" *ngIf="!item.deleted_at">\r\n                        <button type="button" class="button is-primary"  (click)=\'descargar(item.id)\'><i class="fa fa-download"></i></button>\r\n                        <button type="button" class="button is-danger" (click)=\'eliminar_archivo(item.id)\'><i class="fa fa-close"></i></button></td>\r\n                        <td style="text-align: center;" *ngIf="item.deleted_at">\r\n                            <div class="block">\r\n                              <span class="tag is-danger">\r\n                                {{ item.usuario_deleted_id}} {{ item.deleted_at }}\r\n                                \x3c!--button class="delete is-small"></button--\x3e\r\n                              </span>\r\n                            </div>\r\n                        \x3c!--<span class="tag is-danger"><button type="button" class="delete is-small"></button>{{ item.usuario_deleted_id}} {{ item.deleted_at }}</span>\r\n                        --\x3e</td>   \r\n                    </tr>\r\n                    <tr *ngIf="lista_repositorio.length == 0">\r\n                        <td colspan="12" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n                <tfoot>\r\n                    <tr>\r\n                        <td colspan="6" style="text-align: center;"  *ngIf="!subir_archivo">\r\n                            <progress class="progress is-success" value="{{cargando_archivo}}" max="5"></progress>\r\n                        </td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td colspan="6"  style="text-align: center;" *ngIf="subir_archivo"> \r\n                            Subir Archivo <input type="file" (change)="fileChanged($event)" name="file" accept="application/pdf"><br><br>\r\n                            <button type="button" class="button is-primary" name="enviar" (click)="upload()">Subir Archivo</button>\r\n                        </td>\r\n\r\n                    </tr>\r\n                </tfoot>\r\n            </table>\r\n        </div>\r\n      </div>\r\n    </section>\r\n    <footer class="" style="position:relative; padding:1em;background: #FFF; border-top:1px solid #EEE; border-radius:0 0 0.8em 0.8em " >\r\n        \r\n    </footer>\r\n  </div>\r\n</div>\r\n\r\n\r\n'},e3QI:function(e,t){e.exports='<section  class="top-nav hero is-primary">\r\n            \r\n    <nav class="nav">\r\n        <a title="Catalogo" class="nav-item pull-left nav-hub-active"  routerLink="\'/almacen-articulos\'" routerLinkActive="is-active">\r\n            \r\n            <img src="assets/hub-almacen-articulos.svg" alt="icono">\r\n        \r\n        </a>\r\n        <div class="nav-left">\r\n            \r\n            <a class="nav-item" routerLink="\'/almacen-articulos\'" >\r\n            \r\n            \x3c!-- <img src="{{ icono }}" alt="icono">--\x3e\r\n                <h1 class="title">&nbsp;Catalogos</h1>                     \r\n            </a>\r\n        </div>\r\n\r\n        <a class="nav-item"  (click)="hub.toggle()">\r\n            <span class="icon">\r\n                <i class="fa fa-th"></i>\r\n            </span>\r\n        </a>\r\n\r\n        <a class="nav-item is-hidden-mobile" (click)="perfil.toggle()">                    \r\n            <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n            &nbsp;\r\n            <span>{{ usuario.nombre }} {{ usuario.apellidos }}</span>\r\n        </a>\r\n        <a class="nav-item is-hidden-tablet" (click)="perfil.toggle()">\r\n            \r\n            <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n        </a>\r\n        \r\n        \r\n    </nav>\r\n</section>\r\n\r\n<app-hub #hub></app-hub>\r\n<app-perfil #perfil></app-perfil>'},eTLm:function(e,t){e.exports='<section  class="top-nav">\r\n            \r\n    <nav class="nav">\r\n        <a title="Almacen" class="nav-item pull-left nav-hub-active"  routerLink="/almacen-estandar">\r\n            \r\n            <img src="assets/hub-estandar.svg" alt="icono">\r\n        \r\n        </a>\r\n        <div class="nav-left is-hidden-touch">\r\n            \r\n            <span *ngIf="!modulo" class="nav-item">\r\n                <h1 class="title">&nbsp;Almac\xe9n de estandar</h1>\r\n            </span>\r\n            <a *ngIf="modulo" class="nav-item" routerLink="{{ url }}" >\r\n            \r\n            \x3c!-- <img src="{{ icono }}" alt="icono">--\x3e\r\n                <h1 class="title">&nbsp;{{ modulo }}</h1>                     \r\n            </a>\r\n        </div>\r\n\r\n        <div class="nav-center">\r\n            <span *ngIf="usuario.almacen_activo" class="nav-item is-small">\r\n                <span>{{usuario.clues_activa.clues}}&nbsp;-&nbsp;</span><span class="is-hidden-mobile">{{usuario.clues_activa.nombre}}&nbsp;-&nbsp;</span><span>{{usuario.almacen_activo.nombre}}</span>\r\n            </span>\r\n        </div>\r\n\r\n        <a class="nav-item"  (click)="hub.toggle()">\r\n            <span class="icon">\r\n                <i class="fa fa-th"></i>\r\n            </span>\r\n        </a>\r\n\r\n        <a class="nav-item is-hidden-mobile" (click)="perfil.toggle()">                    \r\n            <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n            &nbsp;\r\n            <span>{{ usuario.nombre }} {{ usuario.apellidos }}</span>\r\n        </a>\r\n        <a class="nav-item is-hidden-tablet" (click)="perfil.toggle()">\r\n            \r\n            <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n        </a>\r\n        <a routerLink="{{ urlAyuda }}" class="nav-item">\r\n            <span class="nav-item is-small" title="Ayuda">\r\n                <i class="fa fa-question-circle" aria-hidden="true"></i>\r\n            </span>\r\n        </a>\r\n        \r\n        \r\n    </nav>\r\n</section>\r\n\r\n<app-hub #hub></app-hub>\r\n<app-perfil #perfil></app-perfil>'},ew22:function(e,t){e.exports=""},"f/5o":function(e,t){e.exports=".item{ width: 100%; text-align: center; display:block; font-size: 1em; }"},f2yH:function(e,t){e.exports='<listar #ctrl URL="entrada-laboratorio?fecha_desde={{fecha_desde}}&fecha_hasta={{fecha_hasta}}&recibe={{recibe}}&status={{status}}" titulo="Entrada  de laboratorio"></listar>\r\n<app-menu-laboratorio [modulo]="\'Entradas de laboratorio\'" [icono]="\'assets/icono-entradas.svg\'" [url]="\'/laboratorio/entradas-laboratorio\'"></app-menu-laboratorio>\r\n<div style="height:40px;"></div>\r\n<div class="contenedor columns " style="height:90%;">\r\n    <div class="column" style="padding:2em;  z-index: initial; height:100%;">\r\n        <div style="background: #FFF;">\r\n            <section class="hero is-hidden-touch" [ngClass]=" {\'is-dark\': ctrl.busquedaActivada, \'is-primary\': !ctrl.busquedaActivada}"\r\n                    style="min-height:200px; height: 25%">\r\n                <div class="hero-body" style="position:relative; height: 90%">\r\n                    <nav class="level">\r\n                        <div class="level-left"></div>\r\n                        \x3c!-- Right side --\x3e\r\n                        <div class="level-right">\r\n                            <p class="level-item"><a class="button is-dark is-medium" routerLink="nuevo" *ngIf="ctrl.busquedaActivada"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;<span>Nueva entrada</span></a></p>\r\n                            <p class="level-item"><a class="button is-primary is-medium" routerLink="nuevo" *ngIf="!ctrl.busquedaActivada"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;<span>Nueva entrada</span></a></p>\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" (click)="ctrl.busquedaActivada=false;searchBox.value=\'\'; ctrl.resultadosBusqueda=[]"><span class="icon "><i class="fa fa-close"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="Actualizar" (click)="ctrl.listarBusqueda(searchBox.value,1)"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="Actualizar" (click)="ctrl.listar(1)"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="PDF" (click)="imprimir()"><span class="icon "><i class="fa fa-file-pdf-o"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="PDF" (click)="imprimir()"><span class="icon "><i class="fa fa-file-pdf-o"></i></span></a></p>\r\n\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="Excel" (click)="export_excel()"><span class="icon "><i class="fa fa-file-excel-o"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="Excel" (click)="export_excel()"><span class="icon "><i class="fa fa-file-excel-o"></i></span></a></p>\r\n                            <p class="level-item">&nbsp;</p>\r\n                        </div>\r\n                    </nav>               \r\n                    <div class="container is-fluid">\r\n                        <span></span>\r\n                        <div class="is-hidden-desktop">\r\n                            <h1 class="title" *ngIf="!ctrl.busquedaActivada">\r\n                                <span class="icon is-medium"><i class="fa fa-user"></i></span> Entradas  de laboratorio\r\n                            </h1>\r\n                        </div>\r\n                        <h1 class="title" *ngIf="ctrl.busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-search"></i></span> B\xfasqueda\r\n                        </h1>\r\n                        <div class="control is-grouped">\r\n                            <div class="control" style="z-index: 1000;">\r\n                                <div class="field">   \r\n                                    <label class="label">Desde:</label>                         \r\n                                    <input  style="width: 150px; z-index: 1000;" class="input is-medium" [(ngModel)]=\'fecha_desde\' ngui-datetime-picker date-only="true" placeholder="YYYY-MM-DD" />\r\n                                </div>\r\n                            </div>\r\n                            <div class="control is-expanded" style="z-index: 1000;">\r\n                                <div class="field">   \r\n                                    <label class="label">Hasta:</label>                         \r\n                                    <input style="width: 150px; z-index: 1000;" class="input is-medium" [(ngModel)]=\'fecha_hasta\' ngui-datetime-picker date-only="true" placeholder="YYYY-MM-DD" />\r\n                                </div>\r\n                            </div>\r\n                            <div class="control is-expanded">\r\n                                <div class="field">   \r\n                                    <label class="label">Entrega:</label>                         \r\n                                    <input class="input is-medium" type="text" placeholder="Persona que entrega" [(ngModel)]="recibe">\r\n                                </div>\r\n                            </div>\r\n                            <div class="control">\r\n                                <div class="field">  \r\n                                <label class="label">&nbsp;</label>\r\n                                <button class="button is-default is-medium" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="recibe=\'\';fecha_desde=\'\'; fecha_hasta=\'\';" >Limpiar</button>\r\n                                </div>\r\n                            </div>\r\n                            <div class="control">\r\n                                <div class="field">  \r\n                                <label class="label">&nbsp;</label>\r\n                                <button class="button is-info is-medium" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="ctrl.listar(1)" >Filtrar</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\x3c!-- 25/100% height --\x3e\r\n            <section class="hero is-hidden-desktop" [ngClass]=" {\'is-dark\': ctrl.busquedaActivada, \'is-primary\': !ctrl.busquedaActivada}">\r\n                <div class="hero-body" style="position:relative; height: 90%">\r\n                        <div class="is-hidden-desktop">\r\n                            <h1 class="title" *ngIf="!ctrl.busquedaActivada">\r\n                                <span class="icon is-medium"><i class="fa fa-user"></i></span> Entradas  de laboratorio\r\n                            </h1>\r\n                        </div>\r\n                    <nav class="level">\r\n                        <div class="level-left"></div>\r\n                        \x3c!-- Right side --\x3e\r\n                        <div class="level-right">\r\n                            <p class="level-item"><a class="button is-dark is-medium" routerLink="nuevo" *ngIf="ctrl.busquedaActivada"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;<span>Nueva entrada</span></a></p>\r\n                            <p class="level-item"><a class="button is-primary is-medium" routerLink="nuevo" *ngIf="!ctrl.busquedaActivada"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;<span>Nueva entrada</span></a></p>\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" (click)="ctrl.busquedaActivada=false;searchBox.value=\'\'; ctrl.resultadosBusqueda=[]"><span class="icon "><i class="fa fa-close"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="Actualizar" (click)="ctrl.listarBusqueda(searchBox.value,1)"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="Actualizar" (click)="ctrl.listar(1)"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="PDF" (click)="imprimir()"><span class="icon "><i class="fa fa-file-pdf-o"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="PDF" (click)="imprimir()"><span class="icon "><i class="fa fa-file-pdf-o"></i></span></a></p>\r\n\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="Excel" (click)="export_excel()"><span class="icon "><i class="fa fa-file-excel-o"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="Excel" (click)="export_excel()"><span class="icon "><i class="fa fa-file-excel-o"></i></span></a></p>\r\n                            <p class="level-item">&nbsp;</p>\r\n                        </div>\r\n                    </nav>               \r\n                    <div class="container is-fluid">\r\n                        <span></span>\r\n                        <h1 class="title" *ngIf="ctrl.busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-search"></i></span> B\xfasqueda\r\n                        </h1>\r\n                        <div class="control is-grouped">\r\n                            <div class="control" style="z-index: 1000;">\r\n                                <div class="field">   \r\n                                    <label class="label">Desde:</label>                         \r\n                                    <input  style="width: 150px; z-index: 1000;" class="input is-medium" [(ngModel)]=\'fecha_desde\' ngui-datetime-picker date-only="true" placeholder="YYYY-MM-DD" />\r\n                                </div>\r\n                            </div>\r\n                            <div class="control is-expanded" style="z-index: 1000;">\r\n                                <div class="field">   \r\n                                    <label class="label">Hasta:</label>                         \r\n                                    <input style="width: 150px; z-index: 1000;" class="input is-medium" [(ngModel)]=\'fecha_hasta\' ngui-datetime-picker date-only="true" placeholder="YYYY-MM-DD" />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="field">\r\n                            <label class="label">Entrega:</label>\r\n                            <div class="control">\r\n                                <input class="input is-medium" type="text" placeholder="Persona que entrega" [(ngModel)]="recibe">\r\n                            </div>\r\n                        </div>\r\n                        <div class="control is-grouped">\r\n                            <div class="control is-expanded">\r\n                                <div class="field">  \r\n                                <label class="label">&nbsp;</label>\r\n                                <button class="button is-expanded is-default is-medium" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="recibe=\'\';fecha_desde=\'\'; fecha_hasta=\'\';" >Limpiar</button>\r\n                                </div>\r\n                            </div>\r\n                            <div class="control">\r\n                                <div class="field">  \r\n                                <label class="label">&nbsp;</label>\r\n                                <button class="button is-info is-medium" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="ctrl.listar(1)" >Filtrar</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n                \r\n            <div class="is-fullwidth has-text-centered" *ngIf="ctrl.cargando" style="height:75%;"> \x3c!-- 75/100% height --\x3e\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n            <div id="exportable">\x3c!-- 75/100% height --\x3e\r\n                <div style="overflow:auto; display:block" [style.maxHeight.px]="ctrl.tamano-350">\r\n                    <div class="is-fullwidth has-text-centered" *ngIf="cargandoPdf">\r\n                        <br>\r\n                        <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Generando PDF...</span></span>\r\n                        <br>\r\n                        <br>\r\n                    </div>\r\n                    <table class="table" *ngIf="!ctrl.cargando && !cargandoPdf">\r\n                        <thead>\r\n                            <tr>\r\n                                <th style=" text-align: center;"><abbr title="Folio">Fecha</abbr></th>\r\n                                <th style=" text-align: center;"><abbr title="Folio">Folio</abbr></th>\r\n                                <th>Insumos</th>\r\n                                <th>Entrega</th>\r\n                                <th>Usuario</th>\r\n                                <th>Estatus</th>\r\n                                <th style=" text-align: center;">Capturado</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody *ngIf="!ctrl.busquedaActivada && ctrl.dato">\r\n                            <tr *ngFor="let item of ctrl.dato; let i=index">\r\n                                <th *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle; text-align: center;">\r\n                                    <a *ngIf="item.status == \'FI\'" routerLink="/laboratorio/entradas-laboratorio/ver/{{item.id}}">{{ item.fecha_movimiento }}</a>\r\n                                    <a *ngIf="item.status == \'BR\'" routerLink="/laboratorio/entradas-laboratorio/editar/{{item.id}}">{{ item.fecha_movimiento }}</a>\r\n                                </th>\r\n                                <th *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle; text-align: center;">\r\n                                    <a *ngIf="item.status == \'FI\'" routerLink="/laboratorio/entradas-laboratorio/ver/{{item.id}}">{{ item.id }}</a>\r\n                                    <a *ngIf="item.status == \'BR\'" routerLink="/laboratorio/entradas-laboratorio/editar/{{item.id}}">{{ item.id }}</a>\r\n                                </th>\r\n                                <td *ngIf="item.numero_claves && item.numero_insumos && (i+1)<ctrl.dato.length">\r\n                                    <a *ngIf="item.status == \'FI\'" routerLink="/laboratorio/entradas-laboratorio/ver/{{item.id}}"> \r\n                                        <p> Lotes: {{item.numero_claves}}</p> <p> Insumos: {{item.numero_insumos}}</p>\r\n                                    </a>\r\n                                    <a *ngIf="item.status == \'BR\'" routerLink="/laboratorio/entradas-laboratorio/editar/{{item.id}}"> \r\n                                        <p> Lotes: {{item.numero_claves}}</p> <p> Insumos: {{item.numero_insumos}}</p>\r\n                                    </a>\r\n                                </td>\r\n                                <td *ngIf="!item.numero_claves && !item.numero_insumos && (i+1)<ctrl.dato.length">No disponible</td>\r\n                                <td *ngIf="item.movimiento_metadato && (i+1)<ctrl.dato.length" style="vertical-align: middle;" >\r\n                                    <a *ngIf="item.status == \'FI\'" routerLink="/laboratorio/entradas-laboratorio/ver/{{item.id}}">\r\n                                        {{ item.movimiento_metadato.persona_recibe }}</a>\r\n                                    <a *ngIf="item.status == \'BR\'" routerLink="/laboratorio/entradas-laboratorio/editar/{{item.id}}">\r\n                                        {{ item.movimiento_metadato.persona_recibe }}</a>\r\n                                </td>\r\n                                <td *ngIf="!item.movimiento_metadato && (i+1)<ctrl.dato.length" style="vertical-align: middle;" >No disponible</td>\r\n                                <td *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle;">\r\n                                    <a *ngIf="item.status == \'FI\'" routerLink="/laboratorio/entradas-laboratorio/ver/{{item.id}}">{{ item.movimiento_usuario.nombre }} {{ item.movimiento_usuario.apellidos }} </a>\r\n                                    <a *ngIf="item.status == \'BR\'" routerLink="/laboratorio/entradas-laboratorio/editar/{{item.id}}">{{ item.movimiento_usuario.nombre }} {{ item.movimiento_usuario.apellidos }} </a>\r\n                                </td>                        \r\n                                <td *ngIf="!item.movimiento_usuario && (i+1)<ctrl.dato.length" style="vertical-align: middle;" >No disponible</td>\r\n                                <td *ngIf="(i+1)<ctrl.dato.length">\r\n                                    <a *ngIf="item.status == \'FI\'" routerLink="/laboratorio/entradas-laboratorio/ver/{{item.id}}"><span class="tag is-success is-medium" *ngIf="item.status == \'FI\'">Finalizado</span></a>\r\n                                    <a *ngIf="item.status == \'BR\'" routerLink="/laboratorio/entradas-laboratorio/editar/{{item.id}}"><span class="tag is-warning is-medium" *ngIf="item.status == \'BR\'">Borrador</span></a>\r\n                                </td>\r\n                                <td *ngIf="!item.status && (i+1)<ctrl.dato.length">\r\n                                    No disponible\r\n                                </td>\r\n                                <td *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle; text-align: center;">\r\n                                    <a *ngIf="item.status == \'FI\'" routerLink="/laboratorio/entradas-laboratorio/ver/{{item.id}}">{{ item.created_at | date:\'medium\'}} </a>\r\n                                    <a *ngIf="item.status == \'BR\'" routerLink="/laboratorio/entradas-laboratorio/editar/{{item.id}}">{{ item.created_at | date:\'medium\'}} </a>\r\n                                </td>\r\n                            </tr>\r\n                            <tr *ngIf="!ctrl.dato">\r\n                                <td colspan="6" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>\r\n                            </tr>\r\n                        </tbody>\r\n                        <tbody *ngIf="!ctrl.dato">\r\n                            <tr>\r\n                                <td colspan="6" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                            </tr>\r\n                        </tbody>\r\n                        <tbody *ngIf="ctrl.busquedaActivada && ctrl.dato">\r\n                            <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">\r\n                                <th style="vertical-align: middle; text-align: center;"><a routerLink="/laboratorio/entradas-laboratorio/ver/{{item.id}}">{{ item.id }}</a></th>\r\n                                <td style="vertical-align: middle;" *ngIf="item.movimiento_metadato"><a *ngIf="item.movimiento_metadato.servicio.nombre" routerLink="/laboratorio/entradas-laboratorio/ver/{{item.id}}">{{ item.movimiento_metadato.servicio.nombre }}</a></td>\r\n                                <td style="vertical-align: middle;" *ngIf="!item.movimiento_metadato">No disponible</td>\r\n                                <td style="vertical-align: middle;" *ngIf="item.movimiento_metadato">\r\n                                    <a *ngIf="item.movimiento_metadato.turno.nombre" routerLink="/laboratorio/entradas-laboratorio/ver/{{item.id}}">{{ item.movimiento_metadato.turno.nombre }} </a>\r\n                                    <a *ngIf="!item.movimiento_metadato.turno" routerLink="/laboratorio/entradas-laboratorio/ver/{{item.id}}">No disponible </a>\r\n                                </td>\r\n                                <td style="vertical-align: middle;" *ngIf="!item.movimiento_metadato">No disponible</td>\r\n                                <td style="vertical-align: middle;"><a routerLink="/laboratorio/entradas-laboratorio/ver/{{item.id}}">{{ item.movimiento_usuario.nombre }} {{ item.movimiento_usuario.apellidos }} </a></td>\r\n                                <td style="vertical-align: middle;"><a routerLink="/laboratorio/entradas-laboratorio/ver/{{item.id}}">{{ item.status }} </a></td>\r\n                                <td style="vertical-align: middle; text-align: center;"><a routerLink="/laboratorio/entradas-laboratorio/ver/{{item.id}}">{{ item.created_at | date}} </a></td>\r\n                                <td style="vertical-align: middle; text-align: center;"><a routerLink="/laboratorio/entradas-laboratorio/ver/{{item.id}}">{{ item.updated_at | date}} </a></td>\r\n                            </tr>\r\n\r\n                            <tr *ngIf="ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada">\r\n                                <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n                <paginacion style="z-index: 1000;" [total]="ctrl.total" [paginasTotales]="ctrl.paginasTotales" [resultadosPorPagina]="ctrl.resultadosPorPagina"\r\n                    [paginaActual]="ctrl.paginaActual" [indicePaginas]="ctrl.indicePaginas" (onSiguiente)="ctrl.paginaSiguiente()"\r\n                    (onAnterior)="ctrl.paginaAnterior()" (onListar)="ctrl.listar($event)" *ngIf="ctrl.total>0 && ctrl.total > ctrl.resultadosPorPagina && !ctrl.busquedaActivada && !cargandoPdf"></paginacion>\r\n               \x3c!-- Paginaci\xf3n para la b\xfasqueda  --\x3e\r\n                <paginacion [total]="ctrl.totalBusqueda" [paginasTotales]="ctrl.paginasTotalesBusqueda" [resultadosPorPagina]="ctrl.resultadosPorPaginaBusqueda"\r\n                    [paginaActual]="ctrl.paginaActualBusqueda" [indicePaginas]="ctrl.indicePaginasBusqueda" (onSiguiente)="ctrl.paginaSiguienteBusqueda(searchBox.value)"\r\n                    (onAnterior)="ctrl.paginaAnteriorBusqueda(searchBox.value)" (onListar)="ctrl.listarBusqueda(searchBox.value,$event)"\r\n                    *ngIf="ctrl.totalBusqueda > 0 && ctrl.totalBusqueda > ctrl.resultadosPorPaginaBusqueda && ctrl.busquedaActivada && !cargandoPdf"></paginacion>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'},f3en:function(e,t){e.exports='<listar #ctrl URL="programa" titulo="Programa / Catalogo"></listar>\r\n<app-menu-catalogo></app-menu-catalogo>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns" style="height: 90%; padding-top: 1em;">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em">\r\n        <div style="background: #FFF;" style="height: 100%">\r\n\r\n            \x3c!-- Opciones y busqueda --\x3e\r\n            <tabla-opciones \r\n                #opciones\r\n                [ctrl]="ctrl"\r\n                [nombre]="\'Programas\'"\r\n                [icono]="\'fa fa-shopping-basket\'"\r\n                [ruta]="\'programa\'"\r\n                [ruta_pdf]="\'catalogos-parametros/lista-programas.js\'"\r\n                style="height: 20%">\r\n            </tabla-opciones>\r\n            \r\n            <div class="is-fullwidth has-text-centered" *ngIf="opciones.cargandoPdf" style="height: 75%">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Generando PDF...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n            \r\n            <div style="overflow:auto; display:block" [style.maxHeight.px]="ctrl.tamano-300">\r\n                <table class="table" *ngIf="!ctrl.cargando && !opciones.cargandoPdf">\r\n                    <thead>\r\n                        <tr>\r\n                            <th><abbr title="Usuario ID">ID</abbr></th>\r\n                            <th>Nombre</th>\r\n                            <th>Estatus</th>\r\n                            <th>Multiprograma</th>\r\n                            <th style="text-align:center;">Opciones</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody *ngIf="!ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.dato; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/catalogos-parametros/programas/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/programas/editar/{{item.id}}">{{ item.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/programas/editar/{{item.id}}">\r\n                                <span class="tag is-success is-medium" *ngIf="item.status == 1">Activo</span>\r\n                                <span class="tag is-danger is-medium" *ngIf="item.status == 0">Inactivo</span>\r\n                            </a></td>\r\n                            <td style="vertical-align: middle;">\r\n                                <a routerLink="/catalogos-parametros/programas/editar/{{item.id}}">\r\n                                    <span class="tag is-info is-medium" *ngIf="item.es_multiprograma == 1">Multiprograma</span>\r\n                                    <span  *ngIf="item.es_multiprograma == 0"></span>\r\n                                </a>\r\n                            </td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n                        <tr *ngIf="ctrl.dato.length == 0">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                    <tbody *ngIf="ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/catalogos-parametros/programas/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/programas/editar/{{item.id}}">{{ item.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n\r\n                        <tr *ngIf="ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [ctrl]="ctrl" style="height: 5%"></paginacion>\r\n\r\n        </div>\r\n\r\n    </div>\r\n</div>'},fTN7:function(e,t){e.exports=""},fVqg:function(e,t){e.exports='<form name="form" novalidate [formGroup]="usuario"  (ngSubmit)="enviar()">     \r\n            \r\n              <div class="control is-grouped">\r\n                <p class="control is-expanded  has-icon has-icon-right">\r\n                  <input class="input" autofocus type="text" [ngClass]="{\'is-danger\': usuario.get(\'nombre\').hasError(\'required\') && usuario.get(\'nombre\').touched}"  placeholder="Nombre" formControlName="nombre">\r\n                  <span class="icon is-small" *ngIf="usuario.get(\'nombre\').hasError(\'required\') && usuario.get(\'nombre\').touched">\r\n                    <i class="fa fa-warning"></i>\r\n                  </span>\r\n                  <span class="help is-danger" *ngIf="usuario.get(\'nombre\').hasError(\'required\') && usuario.get(\'nombre\').touched">Este campo es requerido.</span>\r\n                </p>\r\n                <p class="control is-expanded has-icon has-icon-right">\r\n                  <input class="input" type="text" placeholder="Apellidos" [ngClass]="{\'is-danger\': usuario.get(\'apellidos\').hasError(\'required\') && usuario.get(\'apellidos\').touched}" formControlName="apellidos">\r\n                  <span class="icon is-small" *ngIf="usuario.get(\'apellidos\').hasError(\'required\') && usuario.get(\'apellidos\').touched">\r\n                    <i class="fa fa-warning"></i>\r\n                  </span>\r\n                  <span class="help is-danger" *ngIf="usuario.get(\'apellidos\').hasError(\'required\') && usuario.get(\'apellidos\').touched">Este campo es requerido.</span>\r\n                </p>\r\n              </div>\r\n             \r\n              <h2 class="subtitle">Datos de la cuenta</h2>\r\n              <p class="control has-icon has-icon-right">\r\n                <input type="text" class="input" placeholder="Usuario" (ngModelChange)="usuarioRepetido = false; usuarioInvalido = false" [ngClass]="{\'is-danger\': (usuario.get(\'id\').hasError(\'required\') || usuarioRepetido || usuarioInvalido) && usuario.get(\'id\').touched}" formControlName="id">\r\n                <span class="icon is-small" *ngIf="(usuario.get(\'id\').hasError(\'required\') || usuarioRepetido || usuarioInvalido) && usuario.get(\'id\').touched">\r\n                    <i class="fa fa-warning"></i>\r\n                </span>\r\n                <span class="help is-danger" *ngIf="usuario.get(\'id\').hasError(\'required\') && usuario.get(\'id\').touched">Este campo es requerido.</span>\r\n                <span class="help is-danger" *ngIf="usuarioRepetido && usuario.get(\'id\').touched">Este usuario ya fue utilizado.</span>\r\n                \x3c!--span class="help is-danger" *ngIf="usuarioInvalido && usuario.get(\'id\').touched">El usuario debe tener un formato de <b>email</b> v\xe1lido.</span--\x3e\r\n              </p>\r\n              <p class="control" *ngIf="mostrarCambiarPassword">\r\n                  <label class="checkbox">\r\n                    <input type="checkbox" formControlName="cambiarPassword" (click)="toggleCambiarPassword()">\r\n                    Cambiar contrase\xf1a\r\n                  </label>\r\n                </p>\r\n              <div class="control is-grouped">\r\n                \r\n                <p class="control is-expanded has-icon has-icon-right">\r\n                  <input class="input" type="password" placeholder="Contrase\xf1a" [ngClass]="{\'is-danger\': (usuario.get(\'password\').hasError(\'required\') || (usuario.get(\'password\').value != usuario.get(\'confirmarPassword\').value && usuario.get(\'confirmarPassword\').touched)) && usuario.get(\'password\').touched}" formControlName="password">\r\n                  <span class="icon is-small" *ngIf="(usuario.get(\'password\').hasError(\'required\') || (usuario.get(\'password\').value != usuario.get(\'confirmarPassword\').value && usuario.get(\'confirmarPassword\').touched)) && usuario.get(\'password\').touched">\r\n                    <i class="fa fa-warning"></i>\r\n                  </span>\r\n                  <span class="help is-danger" *ngIf="usuario.get(\'password\').hasError(\'required\') && usuario.get(\'password\').touched">Este campo es requerido.</span>\r\n                  <span class="help is-danger" *ngIf="(usuario.get(\'password\').value != usuario.get(\'confirmarPassword\').value && usuario.get(\'confirmarPassword\').touched) && usuario.get(\'password\').touched">Las contrase\xf1as no coinciden.</span>\r\n                </p>\r\n                <p class="control is-expanded has-icon has-icon-right">\r\n                  <input class="input" type="password" placeholder="Confirmar contrase\xf1a" [ngClass]="{\'is-danger\': usuario.get(\'confirmarPassword\').hasError(\'required\') && usuario.get(\'confirmarPassword\').touched}" formControlName="confirmarPassword">\r\n                  <span class="icon is-small" *ngIf="usuario.get(\'confirmarPassword\').hasError(\'required\') && usuario.get(\'confirmarPassword\').touched">\r\n                    <i class="fa fa-warning"></i>\r\n                  </span>\r\n                  <span class="help is-danger" *ngIf="usuario.get(\'confirmarPassword\').hasError(\'required\') && usuario.get(\'confirmarPassword\').touched">Este campo es requerido.</span>\r\n                </p>\r\n                \r\n              </div>\r\n              <h2 class="subtitle">Pregunta secreta para recuperaci\xf3n de contrase\xf1a</h2>\r\n              <p class="control has-icon has-icon-right">\r\n                  <input type="text" class="input" placeholder="Pregunta secreta" formControlName="pregunta_secreta" >\r\n              </p>\r\n              <p class="control has-icon has-icon-right">\r\n                  <input type="text" class="input" placeholder="Respuesta"   [ngClass]="{\'is-danger\': respuestaRequerida}" formControlName="respuesta">\r\n                  <span class="icon is-small" *ngIf="respuestaRequerida ">\r\n                      <i class="fa fa-warning"></i>\r\n                  </span>\r\n                  <span class="help is-danger" *ngIf="respuestaRequerida">Si escribe una pregunta secreta, la respuesta es obligatoria.</span>\r\n                </p>\r\n\r\n              \x3c!--<h2 class="subtitle">Roles</h2>\r\n              <div class="control" [ngClass]="{\'is-loading\': cargandoRoles}">\r\n \r\n                  <select  name="roles" formControlName="roles" multiple class="bulma-select-multiple" [ngClass]="{\'is-warning\': roles?.length ==0 }">\r\n                    <option *ngFor="let item of roles" value="{{item.id}}">{{ item.nombre }}</option>\r\n                  </select>\r\n                  <span class="help is-danger" *ngIf="usuario.get(\'roles\').hasError(\'required\') && usuario.get(\'roles\').touched">Debe elegir por lo menos un rol.</span>\r\n                  <span class="help " *ngIf="roles?.length == 0"><b>La lista de roles est\xe1 vac\xeda.</b> <a (click)="cargarRoles()"><span class="icon is-small"><i class="fa fa-refresh"></i></span> <span>Actualizar</span></a></span>\r\n              </div>\r\n--\x3e\r\n              \r\n              <h2 class="subtitle">Configuraci\xf3n</h2>\r\n              <div class="tabs is-centered">\r\n                <ul>\r\n                  \r\n                  <li [ngClass]="{ \'is-active\' : tab == 1}"><a (click)="tab=1">Roles</a></li>\r\n                  <li [ngClass]="{ \'is-active\' : tab == 2}"><a (click)="tab=2">Clues / Almacenes</a></li>\r\n                  <li [ngClass]="{ \'is-active\' : tab == 3}"><a (click)="tab=3">Avatar</a></li>\r\n                  <li [ngClass]="{ \'is-active\' : tab == 4}"><a (click)="tab=4">M\xe9dico</a></li>\r\n                </ul>\r\n              </div>\r\n       \r\n              <div  [ngClass]="{ \'is-hidden\': tab != 1}">\r\n                <div class="control" [ngClass]="{\'is-loading\': cargandoRoles}">\r\n\r\n                  <select  name="roles" formControlName="roles" multiple class="bulma-select-multiple" [ngClass]="{\'is-warning\': roles?.length ==0 }">\r\n                    <option *ngFor="let item of roles" value="{{item.id}}">{{ item.nombre }}</option>\r\n                  </select>\r\n                  <span class="help is-danger" *ngIf="usuario.get(\'roles\').hasError(\'required\') && usuario.get(\'roles\').touched">Debe elegir por lo menos un rol.</span>\r\n                  <span class="help " *ngIf="roles?.length == 0"><b>La lista de roles est\xe1 vac\xeda.</b> <a (click)="cargarRoles()"><span class="icon is-small"><i class="fa fa-refresh"></i></span> <span>Actualizar</span></a></span>\r\n                </div>\r\n              </div>\r\n              <div [ngClass]="{ \'is-hidden\': tab != 2}">\r\n                <div class="control is-grouped">\r\n                  <p class="control is-expanded">\r\n                    <span class="select is-fullwidth">\r\n                    <select #clues>\r\n                      <option *ngFor="let item of unidadesMedicas" value="{{item.clues}}">{{ item.nombre }} - {{item.clues}}</option>\r\n                    </select>\r\n                    </span>\r\n                  </p>\r\n                  <p class="control">\r\n                    <a class="button is-primary" (click)="agregarUnidadMedica(clues.value)"><span class="icon"><i class="fa fa-plus"></i></span></a>\r\n                  </p>                      \r\n                </div>\r\n                \r\n                <div class="columns is-gapless">\r\n                  <div class="column">\r\n                    <table class="table">\r\n                      <thead>\r\n                        <tr>\r\n                          <td colspan="2">CLUES</td>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        <tr style="cursor:pointer;" *ngFor="let item of unidadesMedicasAgregadas; let i = index" (click)="unidadMedicaSeleccionada=item" [ngClass]="{\'is-selected\':unidadMedicaSeleccionada && unidadMedicaSeleccionada.clues==item.clues }">\r\n                          <td>{{ item.nombre}}</td>\r\n                          <td style="width:1em;">\r\n                            <a (click)="eliminarClues($event,item,index)"><span class="icon is-small"><i class="fa fa-trash"></i></span> </a>\r\n                          </td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                  <div class="column">\r\n                    <table class="table">\r\n                      <thead>\r\n                        <tr>\r\n                          <td colspan="2">ALMACENES</td>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody *ngIf="unidadMedicaSeleccionada">\r\n                        <tr style="cursor:pointer;"*ngFor="let item of unidadMedicaSeleccionada.almacenes; let i = index" (click)="toggleAlmacen(item)" >\r\n                          \r\n                          <td style="width:1em;">\r\n                            <span class="icon"><i class="fa" [ngClass]="{\'fa-circle-thin\': !item.seleccionado, \'fa-check-circle\': item.seleccionado}" ></i></span>                            \r\n                          </td>\r\n                          <td>{{ item.nombre}}</td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n                                \r\n              </div>\r\n              <div [ngClass]="{ \'is-hidden\': tab != 3}">\r\n                <p class="control">                \r\n                  <label class="radio" [ngClass]="{\'is-disabled\': cargando}">\r\n                    <input type="radio" name="avatar" formControlName="avatar" value="avatar-circled-user-male" >\r\n                    <figure class="image is-64x64" >\r\n                      <img src="assets/avatar-circled-user-male.svg" alt="Avatar hombre">\r\n                    </figure>\r\n                  </label>\r\n                  <label class="radio" [ngClass]="{\'is-disabled\': cargando}">\r\n                    <input type="radio" name="avatar" formControlName="avatar" value="avatar-circled-user-female"  >\r\n                    <figure class="image is-64x64">\r\n                      <img src="assets/avatar-circled-user-female.svg" alt="Avatar mujer">\r\n                    </figure>\r\n                  </label>\r\n                  <label class="radio" [ngClass]="{\'is-disabled\': cargando}">\r\n                    <input type="radio" name="avatar" formControlName="avatar" value="avatar-circled-user-male-skin-type-6" >\r\n                    <figure class="image is-64x64">\r\n                      <img src="assets/avatar-circled-user-male-skin-type-6.svg" alt="Avatar hombre piel tipo 6">\r\n                    </figure>\r\n                  </label>\r\n                  <label class="radio" [ngClass]="{\'is-disabled\': cargando}">\r\n                    <input type="radio" name="avatar" formControlName="avatar" value="avatar-circled-user-female-skin-type-6" >\r\n                    <figure class="image is-64x64">\r\n                      <img src="assets/avatar-circled-user-female-skin-type-6.svg" alt="Avatar mujer piel tipo 6">\r\n                    </figure>\r\n                  </label>\r\n\r\n                  <label class="radio" [ngClass]="{\'is-disabled\': cargando}">\r\n                    <input type="radio" name="avatar" formControlName="avatar" value="avatar-circled-collaborator-male" >\r\n                    <figure class="image is-64x64" >\r\n                      <img src="assets/avatar-circled-collaborator-male.svg" alt="Avatar hombre">\r\n                    </figure>\r\n                  </label>\r\n                  \r\n                  <label class="radio" [ngClass]="{\'is-disabled\': cargando}">\r\n                    <input type="radio" name="avatar" formControlName="avatar" value="avatar-nurse" >\r\n                    <figure class="image is-64x64">\r\n                      <img src="assets/avatar-nurse.svg" alt="Avatar enfermera">\r\n                    </figure>\r\n                  </label>\r\n                  <label class="radio" [ngClass]="{\'is-disabled\': cargando}">\r\n                    <input type="radio" name="avatar" formControlName="avatar" value="avatar-circled-doctor-male" >\r\n                    <figure class="image is-64x64">\r\n                      <img src="assets/avatar-circled-doctor-male.svg" alt="Avatar doctor">\r\n                    </figure>\r\n                  </label>\r\n\r\n                  <label class="radio" [ngClass]="{\'is-disabled\': cargando}">\r\n                    <input type="radio" name="avatar" formControlName="avatar" value="avatar-circled-doctor-female" >\r\n                    <figure class="image is-64x64">\r\n                      <img src="assets/avatar-circled-doctor-female.svg" alt="Avatar doctora">\r\n                    </figure>\r\n                  </label>\r\n\r\n                  <label class="radio" [ngClass]="{\'is-disabled\': cargando}">\r\n                    <input type="radio" name="avatar" formControlName="avatar" value="avatar-cat" >\r\n                    <figure class="image is-64x64">\r\n                      <img src="assets/avatar-cat.svg" alt="Avatar de gato">\r\n                    </figure>\r\n                  </label>\r\n\r\n                  \r\n                </p>\r\n              </div>\r\n              <div [ngClass]="{ \'is-hidden\': tab != 4}">\r\n              \r\n                  <p class="control is-expanded">\r\n                    <label for="medico">Enlazar cuenta con un m\xe9dico:</label>\r\n                    <span class="select is-fullwidth">\r\n                    <select #medico id="medico" formControlName="medico_id">\r\n                      <option value="-1">Ninguno</option>\r\n                      <option *ngFor="let item of medicos" [value]="item.id">{{ item.nombre }}</option>\r\n                    </select>\r\n                    </span>\r\n                  </p>   \r\n              </div>\r\n              \r\n              <br><br>\r\n              <div class="control is-grouped">\r\n                <p class="control">\r\n                  <button class="button is-primary" type="submit" [ngClass]="{\'is-loading\': cargando}" [disabled]="usuario.invalid" >Guardar</button>\r\n                </p>\r\n                <p class="control">\r\n                  <button class="button is-danger" type="button" [ngClass]="{\'is-loading\': cargando}" [disabled]="usuario.invalid" >Eliminar usuario</button>\r\n                </p>\r\n                <p class="control">\r\n                  <a class="button is-white" (click)="regresar()" >Regresar</a>\r\n                </p>\r\n              </div>\r\n          </form>'},g913:function(e,t){e.exports='<admision-menu></admision-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%; ">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <admision-menu-lateral></admision-menu-lateral>\r\n    </div>\r\n    <div class="column" style="padding:2em;">\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n            <section class="hero" [ngClass] = " {\'is-dark\': busquedaActivada, \'is-primary\': !busquedaActivada } " >\r\n                \r\n                <div class="hero-body" style="position:relative;">\r\n                    <a class="button  is-dark" *ngIf="busquedaActivada" style="position:absolute; top:1em; right:1em;" (click)="busquedaActivada=false;searchBox.value=\'\';resultadosBusqueda=[]"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n                    <a class="button  is-dark" *ngIf="busquedaActivada" style="position:absolute; top:1em; right:3.5em;" (click)="listarBusqueda(searchBox.value,1)"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                    <a class="button  is-primary" *ngIf="!busquedaActivada" style="position:absolute; top:1em; right:1em;" (click)="listar(1)"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                    <div class="container is-fluid">\r\n                        \r\n                        <h1 class="title" *ngIf="!busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-user"></i></span> Lista de Pacientes {{ Unidad }}\r\n                        </h1>\r\n                        <h1 class="title" *ngIf="busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-search"></i></span> B\xfasqueda \r\n                        </h1>\r\n                        <div class="control is-grouped">\r\n                        <p class="control is-expanded">\r\n                            <input class="input is-medium" type="text" placeholder="Buscar" #searchBox id="search-box" (keyup)="buscar(searchBox.value)">\r\n                        </p>\r\n                        <p class="control">\r\n                            <a class="button is-medium is-primary is-inverted " routerLink="/paciente/nuevo">\r\n                            <span class="icon"><i class="fa fa-plus"></i></span><span>Nuevo</span>\r\n                            </a>\r\n                        </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n        \r\n            <table class="table" *ngIf="!cargando">\r\n                <thead>\r\n                    <tr>\r\n                    <th></th>\r\n                    <th><abbr title="Paciente ID">ID</abbr></th>\r\n                    <th>Nombre</th>\r\n                    <th>Fecha Nacimiento</th>\r\n                    <th>Localidad (Municipio)</th>\r\n                    <th style="text-align:center;">Opciones</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody  *ngIf="!busquedaActivada">\r\n                    <tr *ngFor="let item of pacientes; let i=index">\r\n                        <th><a routerLink="/paciente/editar/{{item.id}}"><img style="min-width: 1.5em; width:2em;" src="assets/{{ item.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></a></th>\r\n                        <th style="vertical-align: middle;"><a routerLink="/paciente/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                        <td style="vertical-align: middle;"><a routerLink="/paciente/editar/{{item.id}}">{{ item.nombre }}</a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/paciente/editar/{{item.id}}">{{ item.fecha_nacimiento }}</a></td>\r\n                        <td style="vertical-align: middle;" *ngIf="item.localidad"><a routerLink="/paciente/editar/{{item.id}}">{{item.localidad.nombre }} ( {{item.localidad.municipio.nombre }} ) </a></td>\r\n                        <td style="vertical-align: middle;" *ngIf="!item.localidad"><a routerLink="/paciente/editar/{{item.id}}">DESCONOCIDO</a></td>\r\n                        \r\n                        <td style="vertical-align: middle;" class="has-text-centered">\r\n                            <span class="icon " *ngIf="item.cargando">\r\n                                <i class="fa fa-circle-o-notch fa-spin"></i>\r\n                            </span>\r\n                            <a *ngIf="!item.cargando" class="is-primary" routerLink="/paciente/editar/{{item.id}}">\r\n                                <span class="icon"><i class="fa fa-edit"></i></span>\r\n                            </a>\r\n\r\n                            <span class="icon " *ngIf="item.cargando">\r\n                                <i class="fa fa-circle-o-notch fa-spin"></i>\r\n                            </span>\r\n                            <a *ngIf="!item.cargando" class="is-primary" routerLink="/paciente/historial/{{item.id}}">\r\n                                <span class="icon"><i class="fa fa-history"></i></span>\r\n                            </a>\r\n                        </td>\r\n                        \r\n                    </tr>\r\n                    <tr *ngIf="pacientes.length == 0">\r\n                        <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n                <tbody *ngIf="busquedaActivada">\r\n                    <tr *ngFor="let item of resultadosBusqueda; let i=index">\r\n                    <th><a routerLink="/paciente/editar/{{item.id}}"><img style="min-width: 1.5em; width:2em;" src="assets/{{ item.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></a></th>\r\n                    <th style="vertical-align: middle;"><a routerLink="/paciente/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                    <td style="vertical-align: middle;"><a routerLink="/paciente/editar/{{item.id}}">{{ item.nombre }}</a></td>\r\n                    <td style="vertical-align: middle;"><a routerLink="/paciente/editar/{{item.id}}">{{ item.fecha_nacimiento }} </a></td>\r\n                    <td style="vertical-align: middle;"><a routerLink="/paciente/editar/{{item.id}}">{{ item.localidad.nombre }} ({{ item.localidad.municipio.nombre }})</a></td>\r\n                   <td style="vertical-align: middle;" class="has-text-centered">\r\n                        <span class="icon " *ngIf="item.cargando">\r\n                            <i class="fa fa-circle-o-notch fa-spin"></i>\r\n                        </span>\r\n                        <a *ngIf="!item.cargando" class="is-primary" routerLink="/paciente/editar/{{item.id}}">\r\n                            <span class="icon"><i class="fa fa-edit"></i></span>\r\n                        </a>\r\n\r\n                        <span class="icon " *ngIf="item.cargando">\r\n                            <i class="fa fa-circle-o-notch fa-spin"></i>\r\n                        </span>\r\n                        <a *ngIf="!item.cargando" class="is-primary" routerLink="/paciente/historial/{{item.id}}">\r\n                            <span class="icon"><i class="fa fa-history"></i></span>\r\n                        </a>    \r\n                        </td>\r\n                    \r\n                    </tr>\r\n\r\n                    <tr *ngIf="resultadosBusqueda.length == 0 && busquedaActivada">\r\n                        <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            \r\n            <paginacion \r\n                [total]="total" \r\n                [paginasTotales]="paginasTotales" \r\n                [resultadosPorPagina]="resultadosPorPagina" \r\n                [paginaActual]="paginaActual" \r\n                [indicePaginas]="indicePaginas"\r\n                (onSiguiente)="paginaSiguiente()" \r\n                (onAnterior)="paginaAnterior()" \r\n                (onListar)="listar($event)" \r\n                *ngIf="total>0 && total > resultadosPorPagina && !busquedaActivada"></paginacion>\r\n            <paginacion \r\n                [total]="totalBusqueda" \r\n                [paginasTotales]="paginasTotalesBusqueda" \r\n                [resultadosPorPagina]="resultadosPorPaginaBusqueda" \r\n                [paginaActual]="paginaActualBusqueda" \r\n                [indicePaginas]="indicePaginasBusqueda"\r\n                (onSiguiente)="paginaSiguienteBusqueda(searchBox.value)" \r\n                (onAnterior)="paginaAnteriorBusqueda(searchBox.value)" \r\n                (onListar)="listarBusqueda(searchBox.value,$event)" \r\n                *ngIf="totalBusqueda > 0 && totalBusqueda > resultadosPorPaginaBusqueda && busquedaActivada"></paginacion>\r\n           \r\n           \r\n            \r\n        </div>\r\n    </div>        \r\n   \r\n</div>\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style="text-align:center" ><a  class="button is-danger is-inverted" (click)="ultimaPeticion(); mensajeError.mostrar = false"> <span class="icon"><i class="fa fa-refresh"></i></span> <span>Volver a intentar</span></a></p>        \r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n'},gIZ4:function(e,t){e.exports='<listar #ctrl URL="proveedor" titulo="Proveedores / Catalogo"></listar>\r\n<app-menu-catalogo></app-menu-catalogo>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns" style="height:90%; padding-top: 1em;">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em">\r\n        <div style="background: #FFF; border-radius: 1em; ">\r\n\r\n            \x3c!-- Opciones y busqueda --\x3e\r\n            <tabla-opciones \r\n                #opciones\r\n                [ctrl]="ctrl"\r\n                [nombre]="\'Proveedores\'"\r\n                [ruta]="\'proveedores\'"\r\n                [ruta_pdf]="\'catalogos-parametros/lista-proveedores.js\'"></tabla-opciones>\r\n\r\n            <div style="overflow:auto; display:block" [style.maxHeight.px]="ctrl.tamano-300">\r\n\r\n                <div class="is-fullwidth has-text-centered" *ngIf="opciones.cargandoPdf">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Generando PDF...</span></span>\r\n                    <br>\r\n                    <br>\r\n                </div>\r\n                <table class="table" *ngIf="!ctrl.cargando && !opciones.cargandoPdf">\r\n\r\n                    <thead>\r\n                        <tr>\r\n                            <th><abbr title="Usuario ID">ID</abbr></th>\r\n                            <th>Nombre</th>\r\n                            <th>RFC</th>\r\n                            <th>Tel\xe9fono</th>\r\n                            <th>Correo</th>\r\n                            <th>Activo</th>\r\n                            <th style="text-align:center;">Opciones</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody *ngIf="!ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.dato; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/catalogos-parametros/proveedores/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/proveedores/editar/{{item.id}}">{{ item.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/proveedores/editar/{{item.id}}">{{ item.rfc }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/proveedores/editar/{{item.id}}"><span *ngIf="item.telefono?.length > 0">Tel: {{ item.telefono }}</span> <span *ngIf="item.celular?.length > 0"> Cel: {{ item.celular }}</span></a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/proveedores/editar/{{item.id}}">{{ item.email }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/proveedores/editar/{{item.id}}">{{ item.activo == \'1\' ? \'Si\' : \'No\' }} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n                        <tr *ngIf="ctrl.dato.length == 0">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                    <tbody *ngIf="ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/catalogos-parametros/proveedores/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/proveedores/editar/{{item.id}}">{{ item.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/proveedores/editar/{{item.id}}">{{ item.rfc }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/proveedores/editar/{{item.id}}"><span *ngIf="item.telefono?.length > 0">Tel: {{ item.telefono }}</span> <span *ngIf="item.celular?.length > 0"> Cel: {{ item.celular }}</span></a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/proveedores/editar/{{item.id}}">{{ item.email }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/proveedores/editar/{{item.id}}">{{ item.activo == \'1\' ? \'Si\' : \'No\' }} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n\r\n                        <tr *ngIf="ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [ctrl]="ctrl"></paginacion>\r\n        </div>\r\n\r\n    </div>\r\n</div>'},gM3R:function(e,t){e.exports='<listar #ctrl URL="entrada-almacen?fecha_desde={{fecha_desde}}&fecha_hasta={{fecha_hasta}}&recibe={{recibe}}&estatus={{estatus}}" titulo="Entrada  de medicamentos"></listar>\r\n<menu-farmacia [modulo]="\'Entradas de medicamentos\'" [icono]="\'assets/icono-entradas.svg\'" [url]="\'/almacen/entradas-estandar\'" [urlAyuda]="\'ayuda\'"></menu-farmacia>\r\n<div style="height:40px;"></div>\r\n<div class="contenedor columns " >\r\n    <div class="column" style="padding:2em;  z-index: initial; height:100%;">\r\n        <div style="background: #FFF;">\r\n            <section class="hero is-hidden-touch" [ngClass]=" {\'is-dark\': ctrl.busquedaActivada, \'is-primary\': !ctrl.busquedaActivada}"\r\n                    style="min-height:200px; height: 25%">\r\n                <div class="hero-body" style="position:relative; height: 90%">\r\n                    <nav class="level">\r\n                        <div class="level-left"></div>\r\n                        \x3c!-- Right side --\x3e\r\n                        <div class="level-right">\r\n                            <p class="level-item"><a class="button is-dark is-medium" routerLink="nuevo" *ngIf="ctrl.busquedaActivada"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;<span>Nueva entrada</span></a></p>\r\n                            <p class="level-item"><a class="button is-primary is-medium" routerLink="nuevo" *ngIf="!ctrl.busquedaActivada"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;<span>Nueva entrada</span></a></p>\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" (click)="ctrl.busquedaActivada=false;searchBox.value=\'\'; ctrl.resultadosBusqueda=[]"><span class="icon "><i class="fa fa-close"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="Actualizar" (click)="ctrl.listarBusqueda(searchBox.value,1)"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="Actualizar" (click)="ctrl.listar(1)"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="PDF" (click)="imprimir()"><span class="icon "><i class="fa fa-file-pdf-o"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="PDF" (click)="imprimir()"><span class="icon "><i class="fa fa-file-pdf-o"></i></span></a></p>\r\n\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="Excel" (click)="export_excel()"><span class="icon "><i class="fa fa-file-excel-o"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="Excel" (click)="export_excel()"><span class="icon "><i class="fa fa-file-excel-o"></i></span></a></p>\r\n                            <p class="level-item">&nbsp;</p>\r\n                        </div>\r\n                    </nav>               \r\n                    <div class="container is-fluid">\r\n                        <span></span>\r\n                        <div class="is-hidden-desktop">\r\n                            <h1 class="title" *ngIf="!ctrl.busquedaActivada">\r\n                                <span class="icon is-medium"><i class="fa fa-user"></i></span> Entradas  de medicamentos\r\n                            </h1>\r\n                        </div>\r\n                        <h1 class="title" *ngIf="ctrl.busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-search"></i></span> B\xfasqueda\r\n                        </h1>\r\n                        <div class="control is-grouped">\r\n                            <div class="control" style="z-index: 1000;">\r\n                                <div class="field">   \r\n                                    <label class="label">Desde:</label>                         \r\n                                    <input  style="width: 150px; z-index: 1000;" class="input is-medium" [(ngModel)]=\'fecha_desde\' ngui-datetime-picker date-only="true" placeholder="YYYY-MM-DD" />\r\n                                </div>\r\n                            </div>\r\n                            <div class="control is-expanded" style="z-index: 1000;">\r\n                                <div class="field">   \r\n                                    <label class="label">Hasta:</label>                         \r\n                                    <input readonly style="width: 150px; z-index: 1000;" class="input is-medium" [(ngModel)]=\'fecha_hasta\' ngui-datetime-picker date-only="true" placeholder="YYYY-MM-DD" />\r\n                                </div>\r\n                            </div>\r\n                            <div class="control is-expanded">\r\n                                <div class="field">   \r\n                                    <label class="label">Entrega:</label>                         \r\n                                    <input class="input is-medium" type="text" placeholder="Persona que entrega" [(ngModel)]="recibe">\r\n                                </div>\r\n                            </div>\r\n                            <div class="control">\r\n                                <div class="field">  \r\n                                <label class="label">&nbsp;</label>\r\n                                <button class="button is-default is-medium" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="recibe=\'\';fecha_desde=\'\'; fecha_hasta=\'\';" >Limpiar</button>\r\n                                </div>\r\n                            </div>\r\n                            <div class="control">\r\n                                <div class="field">  \r\n                                <label class="label">&nbsp;</label>\r\n                                <button class="button is-info is-medium" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="ctrl.listar(1)" >Filtrar</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\x3c!-- 25/100% height --\x3e\r\n            <section class="hero is-hidden-desktop" [ngClass]=" {\'is-dark\': ctrl.busquedaActivada, \'is-primary\': !ctrl.busquedaActivada}">\r\n                <div class="hero-body" style="position:relative; height: 90%">\r\n                        <div class="is-hidden-desktop">\r\n                            <h1 class="title" *ngIf="!ctrl.busquedaActivada">\r\n                                <span class="icon is-medium"><i class="fa fa-user"></i></span> Entradas  de medicamentos\r\n                            </h1>\r\n                        </div>\r\n                    <nav class="level">\r\n                        <div class="level-left"></div>\r\n                        \x3c!-- Right side --\x3e\r\n                        <div class="level-right">\r\n                            <p class="level-item"><a class="button is-dark is-medium" routerLink="nuevo" *ngIf="ctrl.busquedaActivada"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;<span>Nueva entrada</span></a></p>\r\n                            <p class="level-item"><a class="button is-primary is-medium" routerLink="nuevo" *ngIf="!ctrl.busquedaActivada"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;<span>Nueva entrada</span></a></p>\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" (click)="ctrl.busquedaActivada=false;searchBox.value=\'\'; ctrl.resultadosBusqueda=[]"><span class="icon "><i class="fa fa-close"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="Actualizar" (click)="ctrl.listarBusqueda(searchBox.value,1)"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="Actualizar" (click)="ctrl.listar(1)"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="PDF" (click)="imprimir()"><span class="icon "><i class="fa fa-file-pdf-o"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="PDF" (click)="imprimir()"><span class="icon "><i class="fa fa-file-pdf-o"></i></span></a></p>\r\n\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="Excel" (click)="export_excel()"><span class="icon "><i class="fa fa-file-excel-o"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="Excel" (click)="export_excel()"><span class="icon "><i class="fa fa-file-excel-o"></i></span></a></p>\r\n                            <p class="level-item">&nbsp;</p>\r\n                        </div>\r\n                    </nav>               \r\n                    <div class="container is-fluid">\r\n                        <span></span>\r\n                        <h1 class="title" *ngIf="ctrl.busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-search"></i></span> B\xfasqueda\r\n                        </h1>\r\n                        <div class="control is-grouped">\r\n                            <div class="control" style="z-index: 1000;">\r\n                                <div class="field">   \r\n                                    <label class="label">Desde:</label>                         \r\n                                    <input  style="width: 150px; z-index: 1000;" class="input is-medium" [(ngModel)]=\'fecha_desde\' ngui-datetime-picker date-only="true" placeholder="YYYY-MM-DD" />\r\n                                </div>\r\n                            </div>\r\n                            <div class="control is-expanded" style="z-index: 1000;">\r\n                                <div class="field">   \r\n                                    <label class="label">Hasta:</label>                         \r\n                                    <input style="width: 150px; z-index: 1000;" class="input is-medium" [(ngModel)]=\'fecha_hasta\' ngui-datetime-picker date-only="true" placeholder="YYYY-MM-DD" />\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="field">\r\n                            <label class="label">Entrega:</label>\r\n                            <div class="control">\r\n                                <input class="input is-medium" type="text" placeholder="Persona que entrega" [(ngModel)]="recibe">\r\n                            </div>\r\n                        </div>\r\n                        <div class="control is-grouped">\r\n                            <div class="control is-expanded">\r\n                                <div class="field">  \r\n                                <label class="label">&nbsp;</label>\r\n                                <button class="button is-expanded is-default is-medium" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="recibe=\'\';fecha_desde=\'\'; fecha_hasta=\'\';" >Limpiar</button>\r\n                                </div>\r\n                            </div>\r\n                            <div class="control">\r\n                                <div class="field">  \r\n                                <label class="label">&nbsp;</label>\r\n                                <button class="button is-info is-medium" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="ctrl.listar(1)" >Filtrar</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            \r\n        <div class="is-fullwidth has-text-centered" *ngIf="ctrl.cargando" style="height:75%;"> \x3c!-- 75/100% height --\x3e\r\n            <br>\r\n            <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n            <br>\r\n            <br>\r\n        </div>\r\n        <div id="exportable">\x3c!-- 75/100% height --\x3e\r\n            <div style="overflow:auto; display:block" >\r\n                <div class="is-fullwidth has-text-centered" *ngIf="cargandoPdf">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Generando PDF...</span></span>\r\n                    <br>\r\n                    <br>\r\n                </div>\r\n                <div style="overflow:auto; display:block" [style.maxHeight.px]="ctrl.tamano-320">\r\n                    <table class="table" *ngIf="!ctrl.cargando && !cargandoPdf">\r\n                        <thead>\r\n                            <tr>\r\n                                <th style=" text-align: center;"><abbr title="Fecha">Fecha</abbr></th>\r\n                                <th style=" text-align: center;"><abbr title="Folio">Folio</abbr></th>\r\n                                <th>Insumos</th>\r\n                                <th>Entrega</th>\r\n                                <th>Usuario</th>\r\n                                <th>Estatus</th>\r\n                                <th style=" text-align: center;">Capturado</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody *ngIf="!ctrl.busquedaActivada && ctrl.dato">\r\n                            <tr *ngFor="let item of ctrl.dato; let i=index">\r\n                                <th *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle; text-align: center;">\r\n                                    <a *ngIf="item.estatus == \'FI\'" routerLink="/almacen/entradas-estandar/ver/{{item.id}}">{{ item.fecha_movimiento }}</a>\r\n                                    <a *ngIf="item.estatus == \'BR\'" routerLink="/almacen/entradas-estandar/editar/{{item.id}}">{{ item.fecha_movimiento }}</a>\r\n                                </th>\r\n                                <th *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle; text-align: center;">\r\n                                    <a *ngIf="item.estatus == \'FI\'" routerLink="/almacen/entradas-estandar/ver/{{item.id}}">{{ item.id }}</a>\r\n                                    <a *ngIf="item.estatus == \'BR\'" routerLink="/almacen/entradas-estandar/editar/{{item.id}}">{{ item.id }}</a>\r\n                                </th>\r\n                                <td *ngIf="item.numero_claves && item.numero_insumos && (i+1)<ctrl.dato.length">\r\n                                    <a *ngIf="item.estatus == \'FI\'" routerLink="/almacen/entradas-estandar/ver/{{item.id}}"> \r\n                                        <p> Claves: {{item.numero_claves}}</p> <p> Insumos: {{item.numero_insumos}}</p>\r\n                                    </a>\r\n                                    <a *ngIf="item.estatus == \'BR\'" routerLink="/almacen/entradas-estandar/editar/{{item.id}}"> \r\n                                        <p> Claves: {{item.numero_claves}}</p> <p> Insumos: {{item.numero_insumos}}</p>\r\n                                    </a>\r\n                                </td>\r\n                                <td *ngIf="!item.numero_claves && !item.numero_insumos && (i+1)<ctrl.dato.length"> No disponible</td>\r\n                                <td *ngIf="item.movimiento_metadato && (i+1)<ctrl.dato.length" style="vertical-align: middle;" >\r\n                                    <a *ngIf="item.estatus == \'FI\'" routerLink="/almacen/entradas-estandar/ver/{{item.id}}">{{ item.movimiento_metadato.persona_recibe }}</a>\r\n                                    <a *ngIf="item.estatus == \'BR\'" routerLink="/almacen/entradas-estandar/editar/{{item.id}}">{{ item.movimiento_metadato.persona_recibe }}</a>\r\n                                </td>\r\n                                <td *ngIf="!item.movimiento_metadato && (i+1)<ctrl.dato.length" style="vertical-align: middle;" >No disponible</td>\r\n                                <td *ngIf="!item.movimiento_usuario && (i+1)<ctrl.dato.length" style="vertical-align: middle;" >No disponible</td>\r\n                                <td *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle;">\r\n                                    <a *ngIf="item.estatus == \'FI\'" routerLink="/almacen/entradas-estandar/ver/{{item.id}}">{{ item.movimiento_usuario.nombre }} {{ item.movimiento_usuario.apellidos }} </a>\r\n                                    <a *ngIf="item.estatus == \'BR\'" routerLink="/almacen/entradas-estandar/editar/{{item.id}}">{{ item.movimiento_usuario.nombre }} {{ item.movimiento_usuario.apellidos }} </a>\r\n                                </td>                        \r\n                                <td *ngIf="(i+1)<ctrl.dato.length">\r\n                                    <a *ngIf="item.estatus == \'FI\'" routerLink="/almacen/entradas-estandar/ver/{{item.id}}"><span class="tag is-success is-medium" *ngIf="item.estatus == \'FI\'">Finalizado</span></a>\r\n                                    <a *ngIf="item.estatus == \'BR\'" routerLink="/almacen/entradas-estandar/editar/{{item.id}}"><span class="tag is-warning is-medium" *ngIf="item.estatus == \'BR\'">Borrador</span></a>\r\n                                </td>\r\n                                <td *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle; text-align: center;">\r\n                                    <a *ngIf="item.estatus == \'FI\'" routerLink="/almacen/entradas-estandar/ver/{{item.id}}">{{ item.created_at | date:\'medium\'}} </a>\r\n                                    <a *ngIf="item.estatus == \'BR\'" routerLink="/almacen/entradas-estandar/editar/{{item.id}}">{{ item.created_at | date:\'medium\'}} </a>\r\n                                </td>\r\n                            </tr>\r\n                            <tr *ngIf="!ctrl.dato">\r\n                                <td colspan="6" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>\r\n                            </tr>\r\n                        </tbody>\r\n                        <tbody *ngIf="!ctrl.dato">\r\n                            <tr>\r\n                                <td colspan="6" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                            </tr>\r\n                        </tbody>\r\n                        <tbody *ngIf="ctrl.busquedaActivada && ctrl.dato">\r\n                            <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">\r\n                                <th style="vertical-align: middle; text-align: center;"><a routerLink="/almacen/entradas-estandar/ver/{{item.id}}">{{ item.id }}</a></th>\r\n                                <td style="vertical-align: middle;" *ngIf="item.movimiento_metadato"><a *ngIf="item.movimiento_metadato.servicio.nombre" routerLink="/almacen/entradas-estandar/ver/{{item.id}}">{{ item.movimiento_metadato.servicio.nombre }}</a></td>\r\n                                <td style="vertical-align: middle;" *ngIf="!item.movimiento_metadato">No disponible</td>\r\n                                <td style="vertical-align: middle;" *ngIf="item.movimiento_metadato"><a *ngIf="item.movimiento_metadato.turno.nombre" routerLink="/almacen/entradas-estandar/ver/{{item.id}}">{{ item.movimiento_metadato.turno.nombre }} </a></td>\r\n                                <td style="vertical-align: middle;" *ngIf="!item.movimiento_metadato">No disponible</td>\r\n                                <td style="vertical-align: middle;"><a routerLink="/almacen/entradas-estandar/ver/{{item.id}}">{{ item.movimiento_usuario.nombre }} {{ item.movimiento_usuario.apellidos }} </a></td>\r\n                                <td style="vertical-align: middle;"><a routerLink="/almacen/entradas-estandar/ver/{{item.id}}">{{ item.estatus }} </a></td>\r\n                                <td style="vertical-align: middle; text-align: center;"><a routerLink="/almacen/entradas-estandar/ver/{{item.id}}">{{ item.created_at | date}} </a></td>\r\n                                <td style="vertical-align: middle; text-align: center;"><a routerLink="/almacen/entradas-estandar/ver/{{item.id}}">{{ item.updated_at | date}} </a></td>\r\n                            </tr>\r\n\r\n                            <tr *ngIf="ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada">\r\n                                <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [total]="ctrl.total" [paginasTotales]="ctrl.paginasTotales" [resultadosPorPagina]="ctrl.resultadosPorPagina"\r\n                [paginaActual]="ctrl.paginaActual" [indicePaginas]="ctrl.indicePaginas" (onSiguiente)="ctrl.paginaSiguiente()"\r\n                (onAnterior)="ctrl.paginaAnterior()" (onListar)="ctrl.listar($event)" *ngIf="ctrl.total>0 && ctrl.total > ctrl.resultadosPorPagina && !ctrl.busquedaActivada"></paginacion>\r\n            \x3c!-- Paginaci\xf3n para la b\xfasqueda  --\x3e\r\n            <paginacion [total]="ctrl.totalBusqueda" [paginasTotales]="ctrl.paginasTotalesBusqueda" [resultadosPorPagina]="ctrl.resultadosPorPaginaBusqueda"\r\n                [paginaActual]="ctrl.paginaActualBusqueda" [indicePaginas]="ctrl.indicePaginasBusqueda" (onSiguiente)="ctrl.paginaSiguienteBusqueda(searchBox.value)"\r\n                (onAnterior)="ctrl.paginaAnteriorBusqueda(searchBox.value)" (onListar)="ctrl.listarBusqueda(searchBox.value,$event)"\r\n                *ngIf="ctrl.totalBusqueda > 0 && ctrl.totalBusqueda > ctrl.resultadosPorPaginaBusqueda && ctrl.busquedaActivada"></paginacion>\r\n\r\n\r\n\r\n        </div>\r\n\r\n    </div>\r\n</div>'},"h7+X":function(e,t){e.exports='<aside class="menu" style="padding: 1em;">\r\n    <div *ngFor="let item of menuAutorizado">\r\n        <p class="menu-label">{{ item.titulo }}</p>\r\n        <ul class="menu-list">\r\n            <li *ngFor="let modulo of item.modulos">\r\n                <a routerLink="{{ modulo.url }}" routerLinkActive="is-active">\r\n                    <span class="icon" ><i class="fa {{ modulo.icono }}"></i></span>&nbsp;&nbsp;<span>{{ modulo.titulo }}</span>\r\n                </a>\r\n            </li>    \r\n        </ul>\r\n    </div>\r\n        \r\n</aside>'},hU3i:function(e,t){e.exports='<listar #ctrl URL="caducidad-insumos?tipo_busqueda={{tipo_busqueda}}&buscar_en={{opciones.buscar_en}}&tipo_insumo={{opciones.tipo_insumo}}&tipo_causes={{opciones.tipo_causes}}&tipo_controlado={{opciones.tipo_controlado}}&clave_insumo={{opciones.clave_insumo}}" titulo="Monitor caducidades"></listar>\r\n<app-menu-inventario [modulo]="\'Monitor caducidades de insumos m\xe9dicos\'" [icono]="\'assets/icono-salidas.svg\'" [url]="\'/inventario\'"></app-menu-inventario>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:90%; padding-top: 1em;">\r\n    <div class="column is-2 is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em">\r\n        <div style="background: #FFF; border-radius: 1em; ">\r\n                    \r\n            \x3c!-- Opciones y busqueda --\x3e\r\n            <app-tabla-opciones-inventario \r\n                #opciones\r\n                [ctrl]="ctrl"\r\n                [nombre]="\'Almacenes\'"\r\n                [excel_export]= false\r\n                [ruta]="\'caducidad-insumos?tipo_busqueda=\'+tipo_busqueda+\'&buscar_en=\'+opciones.buscar_en+\'&tipo_insumo=\'+opciones.tipo_insumo+\'&tipo_causes=\'+opciones.tipo_causes+\'&tipo_controlado=\'+opciones.tipo_controlado+\'&clave_insumo=\'+opciones.clave_insumo"\r\n                [nuevo]= false\r\n                [busqueda]= false\r\n                [mostrar_nombre]= false\r\n                [ruta_pdf]="\'inventario/lista-monitor-caducidades.js\'">\r\n            </app-tabla-opciones-inventario>\r\n\r\n            <a id="listarCaducidades" (click)="ctrl.listar(1)"></a>\r\n                \r\n            <div style="overflow:auto; display:block" [style.maxHeight.px]="ctrl.tamano-250">\r\n                <div class="is-fullwidth has-text-centered" *ngIf="opciones.cargandoPdf">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Generando PDF...</span></span>\r\n                    <br>\r\n                    <br>\r\n                </div>\r\n\r\n                <table class="table" *ngIf="!ctrl.cargando && !opciones.cargandoPdf">\r\n\r\n                    <thead>\r\n                        <tr>\r\n                            <th style="text-align: center;">Clave</th>\r\n                            <th>Descripci\xf3n</th>\r\n                            <th title="Lote">Lote</th>\r\n                            <th title="Fecha de caducidad">Caducidad</th>\r\n                            <th style="text-align: right;">Existencia</th>\r\n                            <th style="text-align: right;">Existencia Unidosis</th>\r\n                            <th style="text-align: center;">Actualizado</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody *ngIf="!ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.dato; let i=index" style="border: 1px">\r\n                            <th style="vertical-align: middle; text-align: center;">\r\n                                {{ item.clave_insumo_medico }}\r\n                            </th>\r\n                            <td style="vertical-align: middle;">\r\n                                <p class="title is-5"> <strong><small>{{ item.descripcion }} </small></strong></p>\r\n                                <p class="subtitle is-6">\r\n                                    <label *ngIf="item.es_causes==1" class="tag is-success" ><strong>Causes </strong></label>\r\n                                    <label *ngIf="item.es_causes==0" class="tag" style="background: #B8FB7E; border-color: #B8FB7E; color: rgba(0,0,0,0.7);">\r\n                                        <strong>No Causes </strong> \r\n                                    </label>\r\n                                    <label *ngIf="item.tipo==\'MC\'" class="tag is-info" ><strong title="Material de curaci\xf3n">Mat. Curaci\xf3n </strong></label>\r\n                                    <label *ngIf="item.es_unidosis==1" class="tag is-warning" ><strong>Unidosis</strong></label>\r\n                                </p>\r\n                            </td>\r\n                            <td style="vertical-align: middle;">{{ item.lote }}</td>\r\n                            <td style="vertical-align: middle;" *ngIf="item.fecha_caducidad">\r\n                                <label *ngIf="item.fecha_caducidad >= fecha_optima" class="tag is-success" ><strong>&nbsp;</strong></label>\r\n                                <label *ngIf="item.fecha_caducidad >= fecha_media && item.fecha_caducidad < fecha_optima" class="tag is-warning" ><strong>&nbsp;</strong></label>\r\n                                <label *ngIf="item.fecha_caducidad >= fecha_hoy && item.fecha_caducidad < fecha_media" class="tag is-danger" ><strong>&nbsp;</strong></label>\r\n                                <label *ngIf="item.fecha_caducidad < fecha_hoy" class="tag is-black" ><strong>&nbsp;</strong></label>\r\n                                &nbsp; {{ item.fecha_caducidad | date }}\r\n                            </td>\r\n                            <td style="vertical-align: middle;" *ngIf="!item.fecha_caducidad">No disponible</td>\r\n                            <td style="vertical-align: middle; text-align: center;"><span style="font-size:1.2em;" class="help" [ngClass]="{\'is-danger\': item.fecha_caducidad >= fecha_hoy && item.fecha_caducidad < fecha_media}">{{ item.existencia }} </span></td>\r\n                            <td style="vertical-align: middle; text-align: center;"><span style="font-size:1.2em;" class="help" [ngClass]="{\'is-danger\': item.fecha_caducidad >= fecha_hoy && item.fecha_caducidad < fecha_media}">{{ item.existencia_unidosis }} </span></td>\r\n                            <td style="vertical-align: middle; text-align: center;">{{ item.updated_at | date}}</td>\r\n                        </tr>\r\n                        <tr *ngIf="ctrl.dato.length == 0">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                    <tbody *ngIf="ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/catalogos-parametros/almacenes/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/almacenes/editar/{{item.id}}">{{ item.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/almacenes/editar/{{item.id}}">{{ item.servidor_id }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/almacenes/editar/{{item.id}}">{{ item.nivel_almacen == 1 ? \'HACE PEDIDOS AL PROVEEDOR\' : \'HACE PEDIDOS A OTRO ALMACEN DENTRO DE LA CLUES\'}} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/almacenes/editar/{{item.id}}">{{ item.tipo_almacen }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/almacenes/editar/{{item.id}}">{{ item.clues }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/almacenes/editar/{{item.id}}">{{ item.subrogado == 0 ? \'No\' : \'Si\'}} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/almacenes/editar/{{item.id}}">{{ item.unidosis  == 0 ? \'No\' : \'Si\'}} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n\r\n                        <tr *ngIf="ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [total]="ctrl.total" [paginasTotales]="ctrl.paginasTotales" [resultadosPorPagina]="ctrl.resultadosPorPagina"\r\n                [paginaActual]="ctrl.paginaActual" [indicePaginas]="ctrl.indicePaginas" (onSiguiente)="ctrl.paginaSiguiente()"\r\n                (onAnterior)="ctrl.paginaAnterior()" (onListar)="ctrl.listar($event)" *ngIf="ctrl.total>0 && ctrl.total > ctrl.resultadosPorPagina && !ctrl.busquedaActivada"></paginacion>\r\n            \x3c!-- Paginaci\xf3n para la b\xfasqueda  --\x3e\r\n            <paginacion [total]="ctrl.totalBusqueda" [paginasTotales]="ctrl.paginasTotalesBusqueda" [resultadosPorPagina]="ctrl.resultadosPorPaginaBusqueda"\r\n                [paginaActual]="ctrl.paginaActualBusqueda" [indicePaginas]="ctrl.indicePaginasBusqueda" (onSiguiente)="ctrl.paginaSiguienteBusqueda(searchBox.value)"\r\n                (onAnterior)="ctrl.paginaAnteriorBusqueda(searchBox.value)" (onListar)="ctrl.listarBusqueda(searchBox.value,$event)"\r\n                *ngIf="ctrl.totalBusqueda > 0 && ctrl.totalBusqueda > ctrl.resultadosPorPaginaBusqueda && ctrl.busquedaActivada"></paginacion>\r\n\r\n        </div>\r\n\r\n    </div>\r\n</div>'},hXNq:function(e,t){e.exports='\x3c!-- crud asignar url de la api URL="url de la api" titulo="un titulo para la pesta\xf1a de la pagina" [dato]="variable que contiene el formulario]--\x3e\r\n<formulario #ctrl URL="salida-articulo" titulo="Salida" [dato]="dato"></formulario>\r\n\r\n\x3c!-- Menu principal "--\x3e\r\n<menu-almacen-articulos [modulo]="\'Salida  de art\xedculos\'" [icono]="\'assets/icono-salidas.svg\'" [url]="\'/almacen-articulos/salidas\'"></menu-almacen-articulos>\r\n<div style="height:50px;"></div>\r\n<form name="form" novalidate [formGroup]="dato" (ngSubmit)="enviar();">\r\n    <div class="contenedor columns " style="padding: 1em; overflow:auto;" [style.maxHeight.px]="tamano-50">\r\n\r\n        \x3c!-- apartado de movimiento_articulos --\x3e\r\n        <div class="column">\r\n            <div style="background: #FFF; border-radius: 1em; ">\r\n                <section class="hero is-primary">\r\n                    <div class="hero-body">\r\n                        <div class="container is-fluid">\r\n                            <h1 class="title">\r\n                                <span *ngIf="!ctrl.cargando || !cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                <span *ngIf="ctrl.cargando || cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>                                Art\xedculos\r\n                            </h1>\r\n\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n                <section class="section">\r\n                    \r\n                    <div class="notification is-danger" *ngIf="error_salida">\r\n                        \xa1No se completo la salida! <strong>Intente de nuevo</strong>, Si no contacte con soporte\r\n                    </div>\r\n                    <div class="notification is-success" *ngIf="salida_ok">\r\n                        Salida realizada con exito \r\n                    </div>\r\n                    <div class="field has-addons">\r\n                        <p class="control is-expanded" >\r\n                            <input autofocus autocomplete="off" ngui-auto-complete [source]="articulos_term" [list-formatter]="autocompleListFormatter"\r\n                                id="buscarArticulo" value-property-name="clave" display-property-name="nombre" path-to-data=""\r\n                                loading-text="Cargando..." no-match-found-text="No hay resultados." (valueChanged)="select_articulo_autocomplete($event)"\r\n                                min-chars="1" class="input is-success is-medium" type="text" placeholder="Empieza escribir el nombre del producto">\r\n                        </p>\r\n                        \r\n                    </div>\r\n                    <hr>\r\n                    <table class="table is-narrow is-bordered is-striped">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Articulo</th>\r\n                                <th>Cantidad</th>\r\n                                <th>Precio</th>\r\n                                <th>Iva({{configuracion_general.iva}} %)</th>\r\n                                <th>Importe</th>\r\n                                <th>Observaciones</th>\r\n                                <th style="width:1px"></th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody formArrayName="movimiento_articulos">\r\n                            <tr *ngFor="let val of ctrl.dato.controls.movimiento_articulos.controls;  let i = index;" [formGroupName]="i">\r\n                                <td>{{val.get("articulos").value.nombre}} ({{val.get("articulos").value.numero_inventario ? val.get("articulos").value.numero_inventario : val.get(\'inventarios\').value[0] ? val.get(\'inventarios\').value[0].numero_inventario : \'\'}}) </td>                                \r\n                                \r\n                                <td>\r\n                                    <div class="field">\r\n                                        <p class="control is-expanded  has-icon has-icon-right">\r\n                                            <input class="input" type="number" [ngClass]="{\'is-danger\': val.get(\'cantidad\').hasError(\'required\') }"\r\n                                                placeholder="Cantidad" formControlName="cantidad" min="0" max="val.get(\'articulos\').value.existencia"\r\n                                                (change)="cambio_cantidad(i, ctrl.dato.controls.movimiento_articulos.controls[i].controls)"\r\n                                                (keyup)="cambio_cantidad_key($event, i, ctrl.dato.controls.movimiento_articulos.controls[i].controls)">\r\n                                            <span class="icon is-small" *ngIf="val.get(\'cantidad\').hasError(\'required\') ">\r\n                                                <i class="fa fa-warning"></i>\r\n                                            </span>                                            \r\n                                        </p>\r\n                                    </div>\r\n                                </td>\r\n                                <td>\r\n                                    <div class="field">\r\n                                        <p class="control is-expanded  has-icon has-icon-right">\r\n                                            <input class="input" type="number" [ngClass]="{\'is-danger\': val.get(\'precio_unitario\').hasError(\'required\') }"\r\n                                                placeholder="Precio" formControlName="precio_unitario" min="0" \r\n                                                (change)="cambio_precio_unitario(ctrl.dato.controls.movimiento_articulos.controls[i].controls)"\r\n                                                (keyup)="cambio_precio_unitario_key($event, ctrl.dato.controls.movimiento_articulos.controls[i].controls)">\r\n                                            <span class="icon is-small" *ngIf="val.get(\'precio_unitario\').hasError(\'required\') ">\r\n                                                <i class="fa fa-warning"></i>\r\n                                            </span>                                            \r\n                                        </p>\r\n                                    </div>\r\n                                </td>\r\n                               \r\n                                <td>\r\n                                    <div class="field">\r\n                                        <p class="control is-expanded  has-icon has-icon-right">\r\n                                            <input class="input" type="number" [ngClass]="{\'is-danger\': val.get(\'iva\').hasError(\'required\') }"\r\n                                                placeholder="Iva" formControlName="iva" min="0" \r\n                                                (change)="cambio_precio_unitario(ctrl.dato.controls.movimiento_articulos.controls[i].controls)"\r\n                                                (keyup)="cambio_precio_unitario_key($event, ctrl.dato.controls.movimiento_articulos.controls[i].controls)" >\r\n                                            <span class="icon is-small" *ngIf="val.get(\'iva\').hasError(\'required\') ">\r\n                                                <i class="fa fa-warning"></i>\r\n                                            </span>                                            \r\n                                        </p>\r\n                                    </div>\r\n                                </td>\r\n                                <td><span class="tag is-success is-medium">{{val.value.importe | currency:\'MXN\':true}}</span></td>\r\n                                <td>\r\n                                    <div class="field">\r\n                                        <p class="control is-expanded  has-icon has-icon-right">\r\n                                            <input class="input" type="text" placeholder="Observaciones" formControlName="observaciones" >                                                                                    \r\n                                        </p>\r\n                                    </div>\r\n                                </td>\r\n                                <td>\r\n                                    <a class="is-danger" title="Quitar" (click)="ctrl.quitar_form_array(ctrl.dato.controls.movimiento_articulos, i); calcular_importe_articulo();">\r\n                                        <span class="icon">\r\n                                            <i class="fa fa-trash-o"></i>\r\n                                        </span>\r\n                                    </a>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n\r\n                </section>\r\n            </div>\r\n        </div>\r\n\r\n        \x3c!-- datos del cliente y los importes --\x3e\r\n        <div class="column is-one-third">\r\n\r\n            <div style="background: #FFF; border-radius: 1em; ">\r\n                <section class="hero is-primary">\r\n                    <h1 class="title" style="margin:0.5em; ">\r\n                        <span class="icon is-medium">\r\n                            <i class="fa fa-file-text"></i>\r\n                        </span> Salida\r\n                    </h1>\r\n                    <div class="control is-grouped" style="position:absolute; top:5.5em; right:2em;">\r\n                            <p class="control" >\r\n                                <a class="button is-primary tooltip" (click)="ctrl.regresar()">\r\n                                    <span class="icon ">\r\n                                        <i class="fa fa-arrow-left"> </i>\r\n                                    </span>\r\n                                    <span class="tooltiptext">Regresar</span>\r\n                                </a>\r\n                            </p>\r\n                            <p class="control" *ngIf="ctrl.id">\r\n                                <a class="button is-primary tooltip" (click)="ctrl.cargarDatos()" id="cargar_datos_actualizar">\r\n                                    <span class="icon ">\r\n                                        <i class="fa fa-refresh"></i>\r\n                                    </span>\r\n                                    <span class="tooltiptext">Actualizar</span>\r\n                                </a>\r\n                            </p>\r\n                            <p class="control" *ngIf="ctrl.id">\r\n                                <a  class="button is-primary tooltip"  routerLink="{{url_nuevo}}">\r\n                                    <span class="icon ">\r\n                                        <i class="fa fa-file"></i>\r\n                                    </span>\r\n                                    <span class="tooltiptext">Nuevo</span>\r\n                                </a>\r\n                            </p>\r\n                            <p class="control" *ngIf="!tieneid">\r\n                                <button class="button is-primary tooltip" type="submit" [ngClass]="{\'is-loading\': ctrl.cargando}" [disabled]="ctrl.dato.invalid">\r\n                                    <span class="icon ">\r\n                                        <i class="fa fa-save"> </i>\r\n                                    </span>\r\n                                    <span class="tooltiptext">Guardar</span>\r\n                                </button>\r\n                            </p>                        \r\n                            <p class="control" *ngIf="reimprimir">\r\n                                <button class="button is-primary tooltip" type="button" (click)="imprimir()">\r\n                                    <span class="icon ">\r\n                                        <i class="fa fa-print"> </i>\r\n                                    </span>\r\n                                    <span class="tooltiptext">Reimprimir el ticket</span>                                \r\n                                </button>\r\n                            </p>\r\n                        </div>\r\n\r\n                </section>\r\n                <div style="padding: 1em;">\r\n\r\n                    \x3c!-- cargar los catalogos que se requieran parametro 1 modelo donde se guarda el catalogo, parametro 2 ruta de la api --\x3e\r\n                    \r\n                    <h3 class="title">\r\n                        <i class="fa fa-file"></i> Datos de la salida\r\n                    </h3>\r\n                    <div class="field">\r\n                            <label class="label">Fecha:</label>\r\n                            <input id="fecha_movimiento"  class="input"   ngui-datetime-picker\r\n                            [ngClass]="{\'is-danger\': ctrl.dato.get(\'fecha_movimiento\').hasError(\'required\')}" formControlName="fecha_movimiento"\r\n                            placeholder="YYYY-MM-DD HH:MM" />  \r\n                    </div>\r\n                    <div class="field">\r\n                        <label class="label">Comentarios:</label>\r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                            <textarea class="textarea" type="text" rows="2" placeholder="Comentarios" formControlName="observaciones"></textarea>\r\n                        </p>\r\n                    </div>\r\n\r\n\r\n                    <nav class="panel" style="font-size:1.5em">\r\n                        <p class="panel-heading">\r\n                            Total\r\n                        </p>\r\n                        <a class="panel-block">\r\n                            <span class="panel-icon">\r\n                            <i class="fa fa-money"></i>\r\n                            </span>\r\n                            <div class="columns" style="width:100%">\r\n                                <div class="column is-6">\r\n                                    Sub Total: \r\n                                </div>\r\n                                <div class="column is-6"> \r\n                                    {{ctrl.dato.get(\'subtotal\').value  | currency:\'MXN\':true}}\r\n                                </div>\r\n                            </div>\r\n                        </a>\r\n                        <a class="panel-block" *ngIf="ctrl.dato.get(\'iva\').value > 0">\r\n                            <span class="panel-icon">\r\n                            <i class="fa fa-money"></i>\r\n                            </span>\r\n                            <div class="columns" style="width:100%">\r\n                                <div class="column is-6">\r\n                                    Iva: \r\n                                </div>\r\n                                <div class="column is-6">\r\n                                    {{ctrl.dato.get(\'iva\').value  | currency:\'MXN\':true}}\r\n                                </div>\r\n                            </div>\r\n                        </a>\r\n                        <a class="panel-block">\r\n                            <span class="panel-icon">\r\n                            <i class="fa fa-money"></i>\r\n                            </span>\r\n                            <div class="columns" style="width:100%">\r\n                                <div class="column is-6">\r\n                                    Total: \r\n                                </div>\r\n                                <div class="column is-6"> \r\n                                    {{ctrl.dato.get(\'total\').value  | currency:\'MXN\':true}}\r\n                                </div>\r\n                            </div>\r\n                        </a>\r\n                        \r\n                    </nav>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</form>\r\n'},heQB:function(e,t){e.exports='\x3c!-- crud asignar url de la api URL="url de la api" titulo="un titulo para la pesta\xf1a de la pagina" [dato]="variable que contiene el formulario]--\x3e\r\n<listar #ctrl URL="salida-articulo?tipo_movimiento_id=12" titulo="Salida"></listar>\r\n\r\n\x3c!-- Menu principal "--\x3e\r\n<menu-almacen-articulos></menu-almacen-articulos>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%; padding-top: 1em;">\r\n    \x3c!--<div class="column is-one-quarter is-hidden-mobile menu-izquierda">\r\n\r\n         Menu izquierda del modulo enviroment" \r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>--\x3e\r\n    <div class="column" style="padding: 0em 2em 0em 2em">\r\n        <div style="background: #FFF; border-radius: 1em;">\r\n\r\n            \x3c!-- Opciones y busqueda --\x3e\r\n            <tabla-opciones \r\n                #opciones\r\n                [ctrl]="ctrl"\r\n                [nombre]="\'Salidas\'"\r\n                [ruta]="\'salida-articulo?tipo_movimiento_id=12\'"\r\n                [ruta_pdf]="\'almacen-articulos/lista-salida-articulos.js\'"></tabla-opciones>                           \r\n\r\n            <span style="overflow-y:auto; overflow-x: hidden; display:block" [style.maxHeight.px]="tamano-285">\r\n                <div class="is-fullwidth has-text-centered" *ngIf="opciones.cargandoPdf">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Generando PDF...</span></span>\r\n                    <br>\r\n                    <br>\r\n                </div>\r\n\r\n                \x3c!--Tabla --\x3e\r\n                <table class="table" *ngIf="!ctrl.cargando && !opciones.cargandoPdf">\r\n                    <thead>\r\n                        <tr>\r\n                            <th>\r\n                                <abbr>ID</abbr>\r\n                            </th>\r\n                            <th>Almacen </th>\r\n                            <th>Status </th>\r\n                            <th>Fecha</th>\r\n                            <th>Cancelado</th>\r\n                            <th>Opciones</th>\r\n                        </tr>\r\n                    </thead>\r\n\r\n                    <tbody *ngIf="!ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.dato; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/almacen-articulos/salidas/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/almacen-articulos/salidas/editar/{{item.id}}">{{ item.almacen ? item.almacen.nombre : \'NO TIENE\' }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/almacen-articulos/salidas/editar/{{item.id}}">{{ item.status }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/almacen-articulos/salidas/editar/{{item.id}}">{{ item.fecha_movimiento }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/almacen-articulos/salidas/editar/{{item.id}}">{{ item.cancelado == 1 ? \'Si\'  : \'No\' }} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n    \r\n                        </tr>\r\n                        <tr *ngIf="ctrl.dato ">\r\n                            <td colspan="6" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                    <tbody *ngIf="ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/almacen-articulos/salidas/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/almacen-articulos/salidas/editar/{{item.id}}">{{ item.almacen ? item.almacen.nombre : \'NO TIENE\' }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/almacen-articulos/salidas/editar/{{item.id}}">{{ item.status }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/almacen-articulos/salidas/editar/{{item.id}}">{{ item.fecha_movimiento }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/almacen-articulos/salidas/editar/{{item.id}}">{{ item.cancelado == 1 ? \'Si\'  : \'No\' }} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n    \r\n                        </tr>\r\n    \r\n                        <tr *ngIf="ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada">\r\n                            <td colspan="6" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                        </tr>\r\n                    </tbody>\r\n\r\n                </table>\r\n            </span>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [ctrl]="ctrl"></paginacion>\r\n        </div>\r\n\r\n    </div>\r\n</div>\r\n'},"hl/3":function(e,t){e.exports=""},hnmW:function(e,t){e.exports=""},hqc2:function(e,t){e.exports='<listar #ctrl URL="salida-almacen-standard?tipo=2&fecha_desde={{fecha_desde}}&fecha_hasta={{fecha_hasta}}&turno={{turno}}&servicio={{servicio}}&recibe={{recibe}}" titulo="Salida  de almac\xe9n"></listar>\r\n<app-menu-almacen-estandar [modulo]="\'Salida  de medicamentos\'" [icono]="\'assets/icono-salidas.svg\'" [url]="\'/almacen-estandar/salidas\'"></app-menu-almacen-estandar>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:80%; ">\r\n    <div class="column" style="padding:2em;">\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n            <section class="hero" [ngClass]=" {\'is-dark\': ctrl.busquedaActivada, \'is-primary\': !ctrl.busquedaActivada } ">\r\n\r\n                <div class="hero-body" style="position:relative;">\r\n                    <nav class="level">\r\n                        <div class="level-left"></div>\r\n                        \x3c!-- Right side --\x3e\r\n                        <div class="level-right">\r\n                            <p class="level-item"><a class="button is-dark is-medium" routerLink="nuevo" *ngIf="ctrl.busquedaActivada"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;<span>Nueva salida</span></a></p>\r\n                            <p class="level-item"><a class="button is-primary is-medium" routerLink="nuevo" *ngIf="!ctrl.busquedaActivada"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;<span>Nueva salida</span></a></p>\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" (click)="ctrl.busquedaActivada=false;searchBox.value=\'\'; ctrl.resultadosBusqueda=[]"><span class="icon "><i class="fa fa-close"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="Actualizar" (click)="ctrl.listarBusqueda(searchBox.value,1)"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="Actualizar" (click)="ctrl.listar(1)"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="PDF" (click)="imprimir()"><span class="icon "><i class="fa fa-file-pdf-o"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="PDF" (click)="imprimir()"><span class="icon "><i class="fa fa-file-pdf-o"></i></span></a></p>\r\n\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="Excel" (click)="export_excel()"><span class="icon "><i class="fa fa-file-excel-o"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="Excel" (click)="export_excel()"><span class="icon "><i class="fa fa-file-excel-o"></i></span></a></p>\r\n                            <p class="level-item">&nbsp;</p>\r\n                        </div>\r\n                    </nav> \r\n                    <div class="container is-fluid" id="titulo">\r\n                        <span></span>\r\n                        <div class="is-hidden-desktop">\r\n                            <h1 class="title" *ngIf="!ctrl.busquedaActivada">\r\n                                <span class="icon is-medium"><i class="fa fa-user"></i></span> Salidas  de almac\xe9n\r\n                            </h1>\r\n                        </div>\r\n                        <h1 class="title" *ngIf="ctrl.busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-search"></i></span> B\xfasqueda\r\n                        </h1>\r\n                        <div class="control is-grouped">\r\n                            <div class="control">\r\n                                <div class="field">   \r\n                                    <label class="label">Desde:</label>                         \r\n                                    <input  style="width: 150px;" class="input is-medium" [(ngModel)]=\'fecha_desde\' ngui-datetime-picker date-only="true" placeholder="YYYY-MM-DD" />\r\n                                </div>\r\n                            </div>\r\n                            <div class="control is-expanded" >\r\n                                <div class="field">   \r\n                                    <label class="label">Hasta:</label>                         \r\n                                    <input style="width: 150px;" class="input is-medium" [(ngModel)]=\'fecha_hasta\' ngui-datetime-picker date-only="true" placeholder="YYYY-MM-DD" />\r\n                                </div>\r\n                            </div>\r\n                            \x3c!-- /*******************************************/ --\x3e\r\n                            <div class="control is-expanded" *ngIf="!ctrl.cargando">                                \r\n                                <div class="field">\r\n                                    <label class="label">Turno:</label>\r\n                                    <div class="select is-medium">\r\n                                        <select *ngIf="ctrl.dato" class="select is-medium" [(ngModel)]="turno" #tr>\r\n                                            <option value="">Todos</option>\r\n                                            <option *ngFor="let val of ctrl.dato[ctrl.dato.length-1].turnos_disponibles" value="{{val.id}}" >{{ val.nombre }}</option>\r\n                                        </select>\r\n                                        <select *ngIf="!ctrl.dato"  class="select is-medium" [(ngModel)]="turno" #tr>\r\n                                            <option value="">Todos</option>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class="control is-expanded" *ngIf="!ctrl.cargando">\r\n                                <div class="field ">\r\n                                    <label class="label">Servicio:</label>\r\n                                    <div class="select is-medium ">\r\n                                        <select *ngIf="ctrl.dato" class="select is-medium" [(ngModel)]="servicio" #sr>\r\n                                            <option value="">Todos</option>\r\n                                            <option *ngFor="let val of ctrl.dato[ctrl.dato.length-1].servicios_disponibles" value="{{val.id}}" >{{ val.nombre }}</option>\r\n                                        </select>\r\n                                        <select *ngIf="!ctrl.dato" class="select is-medium" [(ngModel)]="servicio" #sr>\r\n                                            <option value="">Todos</option>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class="control is-expanded">\r\n                                <div class="field">   \r\n                                    <label class="label">Recibe:</label>                         \r\n                                    <input class="input is-medium" type="text" placeholder="Persona que recibe" [(ngModel)]="recibe">\r\n                                </div>\r\n                            </div>\r\n                            <div class="control">\r\n                                <div class="field">  \r\n                                <label class="label">&nbsp;</label>\r\n                                <button class="button is-default is-medium" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="recibe=\'\';servicio=\'\'; turno=\'\'; fecha_desde=\'\'; fecha_hasta=\'\';" >Limpiar</button>\r\n                                </div>\r\n                            </div>\r\n                            <div class="control">\r\n                                <div class="field">  \r\n                                <label class="label">&nbsp;</label>\r\n                                <button class="button is-info is-medium" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="ctrl.listar(1)" >Filtrar</button>\r\n                                </div>\r\n                            </div>\r\n                            \x3c!-- <div>\r\n                                <p style="border: 2px solid #ebebeb; min-width: 100%; border-bottom: 0 none; height: 501px;">\r\n                                    <iframe style="border: 0 none; min-width: 100%" src="https://www.iorad.com/player/95080/sial?src=iframe" width="100%" height="500px" allowfullscreen="true">\r\n                                    </iframe>\r\n                                </p>\r\n                            </div> --\x3e\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            \r\n            <div class="is-fullwidth has-text-centered" *ngIf="ctrl.cargando">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n            <span id="exportable">\r\n            <div style="overflow: scroll; overflow-x: hidden; height: 650px;">\r\n                <table class="table" *ngIf="!ctrl.cargando " >\r\n                    <thead>\r\n                        <tr>\r\n                            <th style=" text-align: center;"><abbr title="Fecha">Fecha</abbr></th>\r\n                            <th style=" text-align: center;"><abbr title="Folio">Folio</abbr></th>\r\n                            <th title="Servicio">Servicio</th>\r\n                            <th>Turno</th>\r\n                            <th>Insumos</th>\r\n                            <th>Recibe</th>\r\n                            <th>Entreg\xf3</th>\r\n                            <th style=" text-align: center;">Capturado</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody *ngIf="!ctrl.busquedaActivada && ctrl.dato;">\r\n                        <tr *ngFor="let item of ctrl.dato; let i=index">\r\n                            <th *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle; text-align: center;"><a routerLink="/almacen-estandar/salidas/ver/{{item.id}}">{{ item.fecha_movimiento }}</a></th>\r\n                            <th *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle; text-align: center;"><a routerLink="/almacen-estandar/salidas/ver/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td *ngIf="item.movimiento_metadato && (i+1)<ctrl.dato.length" style="vertical-align: middle;" ><a *ngIf="item.movimiento_metadato.servicio.nombre"  routerLink="/almacen-estandar/salidas/ver/{{item.id}}" >{{ item.movimiento_metadato.servicio.nombre }} </a></td>\r\n                            <td *ngIf="!item.movimiento_metadato && (i+1)<ctrl.dato.length" style="vertical-align: middle;" >No disponible</td>\r\n                            <td *ngIf="item.movimiento_metadato && (i+1)<ctrl.dato.length" style="vertical-align: middle;"><a *ngIf="item.movimiento_metadato.turno.nombre"  routerLink="/almacen-estandar/salidas/ver/{{item.id}}">{{ item.movimiento_metadato.turno.nombre }} </a></td>\r\n                            <td *ngIf="!item.movimiento_metadato && (i+1)<ctrl.dato.length" style="vertical-align: middle;" >No disponible</td>\r\n                            <td *ngIf="(i+1)<ctrl.dato.length"> <a routerLink="/almacen-estandar/salidas/ver/{{item.id}}"> <p> Lotes: {{item.numero_claves}}</p> <p> Insumos: {{item.numero_insumos}}</p> </a> </td>\r\n                            <td *ngIf="item.movimiento_metadato && (i+1)<ctrl.dato.length" style="vertical-align: middle;" ><a routerLink="/almacen-estandar/salidas/ver/{{item.id}}">{{ item.movimiento_metadato.persona_recibe }}</a></td>\r\n                            <td *ngIf="!item.movimiento_metadato && (i+1)<ctrl.dato.length" style="vertical-align: middle;" >No disponible</td>\r\n                            <td *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle;"><a routerLink="/almacen-estandar/salidas/ver/{{item.id}}">{{ item.movimiento_usuario.nombre }} {{ item.movimiento_usuario.apellidos }} </a></td>                        \r\n                            <td *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle; text-align: center;"><a routerLink="/almacen-estandar/salidas/ver/{{item.id}}">{{ item.created_at | date:\'medium\'}} </a></td>\r\n                            \x3c!--\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n                            --\x3e\r\n                        </tr>\r\n                        <tr *ngIf="ctrl.dato.length == 0">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                    <tbody *ngIf="ctrl.busquedaActivada && ctrl.dato">\r\n                        <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">\r\n                            <th style="vertical-align: middle; text-align: center;"><a routerLink="/almacen-estandar/salidas/ver/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;" *ngIf="item.movimiento_metadato"><a *ngIf="item.movimiento_metadato.servicio.nombre" routerLink="/almacen-estandar/salidas/ver/{{item.id}}">{{ item.movimiento_metadato.servicio.nombre }}</a></td>\r\n                            <td style="vertical-align: middle;" *ngIf="!item.movimiento_metadato">No disponible</td>\r\n                            <td style="vertical-align: middle;" *ngIf="item.movimiento_metadato"><a *ngIf="item.movimiento_metadato.turno.nombre" routerLink="/almacen-estandar/salidas/ver/{{item.id}}">{{ item.movimiento_metadato.turno.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;" *ngIf="!item.movimiento_metadato">No disponible</td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/almacen-estandar/salidas/ver/{{item.id}}">{{ item.movimiento_usuario.nombre }} {{ item.movimiento_usuario.apellidos }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/almacen-estandar/salidas/ver/{{item.id}}">{{ item.status }} </a></td>\r\n                            <td style="vertical-align: middle; text-align: center;"><a routerLink="/almacen-estandar/salidas/ver/{{item.id}}">{{ item.created_at | date}} </a></td>\r\n                            <td style="vertical-align: middle; text-align: center;"><a routerLink="/almacen-estandar/salidas/ver/{{item.id}}">{{ item.updated_at | date}} </a></td>\r\n                        </tr>\r\n\r\n                        <tr *ngIf="ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            </span>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [total]="ctrl.total" [paginasTotales]="ctrl.paginasTotales" [resultadosPorPagina]="ctrl.resultadosPorPagina"\r\n                [paginaActual]="ctrl.paginaActual" [indicePaginas]="ctrl.indicePaginas" (onSiguiente)="ctrl.paginaSiguiente()"\r\n                (onAnterior)="ctrl.paginaAnterior()" (onListar)="ctrl.listar($event)" *ngIf="ctrl.total>0 && ctrl.total > ctrl.resultadosPorPagina && !ctrl.busquedaActivada"></paginacion>\r\n            \x3c!-- Paginaci\xf3n para la b\xfasqueda  --\x3e\r\n            <paginacion [total]="ctrl.totalBusqueda" [paginasTotales]="ctrl.paginasTotalesBusqueda" [resultadosPorPagina]="ctrl.resultadosPorPaginaBusqueda"\r\n                [paginaActual]="ctrl.paginaActualBusqueda" [indicePaginas]="ctrl.indicePaginasBusqueda" (onSiguiente)="ctrl.paginaSiguienteBusqueda(searchBox.value)"\r\n                (onAnterior)="ctrl.paginaAnteriorBusqueda(searchBox.value)" (onListar)="ctrl.listarBusqueda(searchBox.value,$event)"\r\n                *ngIf="ctrl.totalBusqueda > 0 && ctrl.totalBusqueda > ctrl.resultadosPorPaginaBusqueda && ctrl.busquedaActivada"></paginacion>\r\n\r\n\r\n\r\n        </div>\r\n\r\n    </div>\r\n</div>'},hul6:function(e,t){e.exports='<administrador-central-menu></administrador-central-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%; ">\r\n     <div class="column is-narrow is-hidden-mobile">\r\n        <administrador-central-menu-lateral></administrador-central-menu-lateral>\r\n    </div>\r\n   <div class="column" >\r\n        <div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n            <br>\r\n            <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n            <br>\r\n            <br>\r\n        </div>\r\n        <div class="contenedor-lista" *ngIf="!cargando">\r\n            <div class="top-bar is-primary" [ngClass]="{ \'is-danger\':  errores.items == \'required\' && lista.items.length == 0 }">\r\n                <h1 class="title" *ngIf="!busquedaActivada">\r\n                    <span class="icon is-medium"><i class="fa " [ngClass]="{\'fa-file\': !esEditar,  \'fa-pencil-square-o\': esEditar}"></i></span> {{ formularioTitulo }}\r\n                </h1>\r\n                <a class="button  is-primary"  style="position:absolute; top:1em; right:1em;" routerLink="/administrador-central/claves-basicas/"><span class="icon "><i class="fa fa-times"></i></span></a>\r\n                <div class="control is-grouped">\r\n                        <p class="control is-expanded">\r\n                            <input class="input is-medium" type="text" placeholder="Nombre"  [ngClass]="{ \'is-danger\': errores.nombre != null}" [(ngModel)]="lista.nombre">\r\n                            <span class="help is-danger" *ngIf="errores.nombre == \'required\'">Este campo es requerido.</span>\r\n                        </p>\r\n                        <p class="control">\r\n                            <a class="button is-primary is-inverted is-medium" [ngClass]="{ \'is-disabled\': lista.items.length == 0 }" (click)="guardar()">\r\n                                <span class="icon"><i class="fa fa-save"></i></span><span>Guardar</span>\r\n                            </a>\r\n                        </p>\r\n                </div>\r\n            </div> \r\n\r\n            <div class="is-fullwidth has-text-centered" *ngIf="guardando">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-spinner fa-spin"></i></span> &nbsp;<span>Guardando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n\r\n            \r\n\r\n            <table class="table is-unselectable" *ngIf="!cargando && !guardando" style="font-size: 0.8em;">\r\n                <thead>\r\n                    <tr  [ngClass]="{ \'is-dark\': lista.filtro.activo}">\r\n                        <th style="width:41px;vertical-align: middle;" class="has-text-centered" > Claves({{ lista.items.length | number }})</th>\r\n                        <th class="is-hidden-mobile" style="width:118px;">\r\n                        <p class="control is-expanded" >\r\n                            <input type="hidden" #searchBoxClavePrevia >                            \r\n                            <input class="input is-small" type="text" placeholder="Filtrar" #searchBoxClave id="search-box-clave" (keyup)="buscar($event,searchBoxClave,searchBoxClavePrevia,[{ input: searchBoxClave, campos: [\'clave\',\'descripcion\']}])">\r\n                        </p>\r\n                        </th>\r\n                        <th class="is-hidden-tablet">\r\n                        <p class="control is-expanded">\r\n                            <input type="hidden" #searchBoxDescripcionClavePrevia >                            \r\n                            <input class="input is-small" type="text" placeholder="Clave o Gen\xe9rico" #searchBoxDescripcionClave id="search-box-descripcion-clave-{{indexPedido}}" (keyup)="buscar($event,searchBoxDescripcionClave,searchBoxDescripcionClavePrevia,[{ input: searchBoxDescripcionClave, campos: [\'clave\',\'descripcion\']}])">\r\n                        </p>\r\n                        </th>  \r\n                        <th style="vertical-align: middle;" class="is-hidden-mobile "  >\r\n                            Descripcion                            \r\n                        </th>                  \r\n                        <td colspan="2"><a class="button  is-pulled-right" [ngClass]="{\'is-dark\': lista.filtro.activo, \'is-primary\': !lista.filtro.activo, \'is-inverted\': !lista.filtro.activo, \'is-danger\': errores.items == \'required\' && lista.items.length == 0 }" style="margin-top:-0.25em; font-weight:normal" title="Ctrl + espacio" (click)="toggleModalInsumos(); ">\r\n                            <span class="icon"><i class="fa fa-plus"></i></span><span>Agregar Clave</span>\r\n                            </a>\r\n                        </td>\r\n                    </tr>\r\n                </thead>\r\n                <tbody *ngIf="!lista.filtro.activo">\r\n                    <tr *ngIf="lista.paginacion.lista.length == 0"><td colspan="3">Lista vac\xeda.</td></tr>\r\n                    <tr   *ngFor="let item of lista.paginacion.lista; let i = index;">\r\n                    <td class="has-text-centered">{{ i + 1 }}</td>\r\n                    <td class="has-text-centered is-hidden-mobile"><a (click)="mostrarFichaInformativa($event, item.clave)" style="cursor:help;">{{ item.clave }}</a></td>            \r\n                    <td colspan="2">\r\n                        <small class="is-hidden-tablet">{{ item.clave }} <br></small>\r\n                        <div style="line-height:1em;">\r\n                        <small>{{ item.descripcion }}</small>\r\n                        </div>\r\n                        <div style="padding: 0.5em 0 0.5em 0; ">\r\n                            <span *ngIf="(item.es_causes && item.tipo == \'ME\')" class="tag is-success" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">CAUSES</span>\r\n                            <span *ngIf="(!item.es_causes && item.tipo == \'ME\')" class="tag is-danger" style="font-size: 0.7em !important;">NO CAUSES</span>\r\n                            <span *ngIf="item.tipo == \'MC\'" class="tag is-warning" style="font-size: 0.7em !important;">MATERIAL CURACI\xd3N</span>\r\n                            <span *ngIf="item.es_cuadro_basico" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">Cuadro b\xe1sico</span>\r\n                            <span *ngIf="(item.tipo == \'ME\' && item.informacion)">\r\n                                <span *ngIf="item.informacion.es_controlado" class="tag is-warning" style="font-size: 0.7em">Controlado</span>\r\n                                <span *ngIf="item.informacion.es_surfactante" class="tag is-warning" style="font-size: 0.7em">Surfactante</span>  \r\n                            </span>\r\n                        </div>\r\n                    </td>\r\n                    <td style="width:21px !important;"><a (click)="eliminarInsumo(item,i)"><span class="icon"><i class="fa fa-trash"></i></span></a></td>\r\n                    </tr>      \r\n                </tbody>\r\n                <tbody *ngIf="lista.filtro.activo">\r\n                    <tr  *ngFor="let item of lista.filtro.paginacion.lista; let i = index;">\r\n                    <td class="has-text-centered">{{ item.lote }}</td>\r\n                    <td class="has-text-centered is-hidden-mobile"><a (click)="mostrarFichaInformativa($event, item.clave)" style="cursor:help;">{{ item.clave }}</a></td>            \r\n                    \r\n                    <td colspan="2">\r\n                        <small class="is-hidden-tablet">{{ item.clave }} <br></small>\r\n                        <div style="line-height:1em;">\r\n                            <small>{{ item.descripcion }}</small>\r\n                        </div>\r\n                        <div style="padding: 0.5em 0 0.5em 0; ">\r\n                            <span *ngIf="item.es_cuadro_basico" class="tag is-light" [ngClass]="{\'is-dark\': item == insumoSeleccionado}" style="font-size: 0.7em !important;">Cuadro b\xe1sico</span>\r\n                            <span *ngIf="(item.tipo == \'ME\' && item.informacion)">\r\n                                <span *ngIf="item.informacion.es_controlado" class="tag is-warning" style="font-size: 0.7em">Controlado</span>\r\n                                <span *ngIf="item.informacion.es_surfactante" class="tag is-warning" style="font-size: 0.7em">Surfactante</span>  \r\n                            </span>\r\n                        </div>\r\n                    </td>\r\n                    <td style="width:21px !important;"><a (click)="eliminarInsumo(item,i,true)"><span class="icon"><i class="fa fa-trash"></i></span></a></td>\r\n                    </tr>\r\n                </tbody>              \r\n            </table>\r\n            \r\n            <paginacion \r\n                    [total]="lista.items.length" \r\n                    [paginasTotales]="lista.paginacion.totalPaginas" \r\n                    [resultadosPorPagina]="lista.paginacion.resultadosPorPagina" \r\n                    [paginaActual]="lista.paginacion.paginaActual" \r\n                    [indicePaginas]="lista.paginacion.indice"\r\n                    (onSiguiente)="lista.paginaSiguiente()" \r\n                    (onAnterior)="lista.paginaAnterior()" \r\n                    (onListar)="lista.listar($event)" \r\n                    *ngIf="lista.items.length > 0 && lista.items.length > lista.paginacion.resultadosPorPagina && !lista.filtro.activo"></paginacion>\r\n            \r\n            <paginacion \r\n                    [total]="lista.filtro.items.length" \r\n                    [paginasTotales]="lista.filtro.paginacion.totalPaginas" \r\n                    [resultadosPorPagina]="lista.filtro.paginacion.resultadosPorPagina" \r\n                    [paginaActual]="lista.filtro.paginacion.paginaActual" \r\n                    [indicePaginas]="lista.filtro.paginacion.indice"\r\n                    (onSiguiente)="lista.filtro.paginaSiguiente()" \r\n                    (onAnterior)="lista.filtro.paginaAnterior()" \r\n                    (onListar)="lista.filtro.listar($event)" \r\n                    *ngIf="lista.filtro.items.length > 0 && lista.filtro.items.length > lista.filtro.paginacion.resultadosPorPagina && lista.filtro.activo"></paginacion>\r\n            \r\n            <br>\r\n        </div>\r\n   </div>\r\n</div>\r\n\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    \x3c!--p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p--\x3e\r\n</div>\r\n<buscar-insumos *ngIf="mostrarModalInsumos" (onCerrar)="mostrarModalInsumos = false" (onEnviar)="agregarItem($event)" [listaAgregados]="listaClaveAgregadas" [conPrecios]="false" [conCantidad]="false"  ></buscar-insumos>'},"i/KM":function(e,t){e.exports='<menu-farmacia [modulo]="\'Pedidos\'" [icono]="\'assets/icono-pedidos.svg\'" [url]="\'/almacen/pedidos\'"></menu-farmacia>\r\n\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%; ">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n      <menu-lateral></menu-lateral>\r\n    </div>\r\n    <div class="column" style="padding:2em;">\r\n        <div style="background: #FFF; overflow:hidden; border-radius:1em; width:100%;margin-bottom:1em;">\r\n            <table class="table" style="min-width:100%; font-size:0.8em; margin-bottom:0.2em;margin-top:0.2em;">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Presupuesto anual</th>\r\n                        <th style="text-align:center">Autorizado</th>\r\n                        <th style="text-align:center">Comprometido</th>\r\n                        <th style="text-align:center">Devengado</th>\r\n                        <th style="text-align:center">Disponible</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngIf="!presupuesto">\r\n                        <th colspan="5" style="text-align:center"><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>&nbsp;Cargando Presupuesto...</th>\r\n                    </tr>\r\n                    <tr *ngIf="presupuesto">\r\n                        <th>Causes y Material de Curaci\xf3n</th>\r\n                        <td style="text-align:center"><span class="tag is-primary">$ {{ (presupuesto.causes_modificado + presupuesto.material_curacion_modificado) | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-warning">$ {{ (presupuesto.causes_comprometido + presupuesto.material_curacion_comprometido) | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-danger">$ {{ (presupuesto.causes_devengado + presupuesto.material_curacion_devengado) | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-success">$ {{ (presupuesto.causes_disponible + presupuesto.material_curacion_disponible) | number:\'1.2-2\' }}</span></td>\r\n                    </tr>\r\n                    <tr *ngIf="presupuesto">\r\n                        <th>No causes</th>\r\n                        <td style="text-align:center"><span class="tag is-primary">$ {{ presupuesto.no_causes_modificado | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-warning">$ {{ presupuesto.no_causes_comprometido | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-danger">$ {{ presupuesto.no_causes_devengado | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-success">$ {{ presupuesto.no_causes_disponible | number:\'1.2-2\' }}</span></td>\r\n                    </tr>\r\n                    <tr *ngIf="presupuesto">\r\n                        <th>Total</th>\r\n                        <td style="text-align:center"><span class="tag is-primary">$ {{ ( presupuesto.no_causes_modificado + presupuesto.causes_modificado + presupuesto.material_curacion_modificado) | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-warning">$ {{ ( presupuesto.no_causes_comprometido + presupuesto.causes_comprometido + presupuesto.material_curacion_comprometido) | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-danger">$ {{ ( presupuesto.no_causes_devengado + presupuesto.causes_devengado + presupuesto.material_curacion_devengado) | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-success">$ {{ ( presupuesto.no_causes_disponible + presupuesto.causes_disponible + presupuesto.material_curacion_disponible) | number:\'1.2-2\' }}</span></td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n         </div>\r\n\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n            <section class="hero" [ngClass] = " {\'is-dark\': busquedaActivada, \'is-primary\': !busquedaActivada } " >\r\n                \r\n                <div class="hero-body" style="position:relative;">\r\n                    <a class="button  is-dark" *ngIf="busquedaActivada" style="position:absolute; top:1em; right:1em;" (click)="busquedaActivada=false;searchBox.value=\'\';resultadosBusqueda=[]"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n                    <a class="button  is-dark" *ngIf="busquedaActivada" style="position:absolute; top:1em; right:3.5em;" (click)="listarBusqueda(searchBox.value,1)"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                    <a class="button  is-primary" *ngIf="!busquedaActivada" style="position:absolute; top:1em; right:1em;" (click)="listar(1)"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                    <div class="container is-fluid">\r\n                        \r\n                        <h1 class="title" *ngIf="!busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-gavel"></i></span> Actas\r\n                        </h1>\r\n                        <h1 class="title" *ngIf="busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-search"></i></span> B\xfasqueda \r\n                        </h1>\r\n                        <div class="control is-grouped">\r\n                            <p class="control is-expanded">\r\n                                <input class="input is-medium" type="text" placeholder="Buscar" #searchBox id="search-box" (keyup)="buscar(searchBox.value)">\r\n                            </p>\r\n                            \x3c!--p class="control">\r\n                                <a class="button is-medium is-primary is-inverted " routerLink="/almacen/pedidos/nuevo">\r\n                                <span class="icon"><i class="fa fa-plus"></i></span><span>Nuevo</span>\r\n                                </a>\r\n                            </p--\x3e\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n\r\n            <table class="table" *ngIf="!cargando">\r\n                <thead>\r\n                    <tr>\r\n                        <th><abbr title="Folio del pedido">Folio</abbr></th>\r\n                        <th>Nombre</th>\r\n                        <th>Fecha</th>\r\n                        <th style="text-align:center;" width="1"></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody  *ngIf="!busquedaActivada">\r\n                    <tr *ngFor="let item of pedidos; let i=index" [ngClass]="{\'proyecto-estatus-normal\':(item.status == \'BR\' || item.status == \'PS\'),\'proyecto-estatus-azul\':item.status == \'EF\',\'proyecto-estatus-rojo\':item.status == \'EX-CA\',\'proyecto-estatus-amarillo\':item.status == \'EX\',\'proyecto-estatus-verde\':item.status == \'FI\'}">\r\n                        <th style="vertical-align: middle;"><a routerLink="/almacen/pedidos/actas/{{item.id}}">{{ item.folio?item.folio:\'S/F\' }}</a></th>\r\n                        <td style="vertical-align: middle;"><a routerLink="/almacen/pedidos/actas/{{item.id}}">{{ item.nombre }}</a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/almacen/pedidos/actas/{{item.id}}">{{ item.fecha }}</a></td>                       \r\n                        <td style="vertical-align: middle;" class="has-text-centered">\r\n                            <span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span>\r\n                            <a (click)="imprimir(item)"  *ngIf="!item.cargando"><span class="icon"><i class="fa fa-print"></i></span></a>\r\n                            \r\n                        </td>\r\n                    </tr>\r\n                    <tr *ngIf="pedidos.length == 0">\r\n                        <td colspan="4" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n                <tbody *ngIf="busquedaActivada">\r\n                    <tr *ngFor="let item of resultadosBusqueda; let i=index" [ngClass]="{\'proyecto-estatus-normal\':item.status == \'BR\',\'proyecto-estatus-azul\':item.status == \'EF\',\'proyecto-estatus-rojo\':item.status == \'EX-CA\',\'proyecto-estatus-amarillo\':item.status == \'EX\',\'proyecto-estatus-verde\':item.status == \'FI\'}">\r\n                        <th style="vertical-align: middle;"><a routerLink="/almacen/pedidos/actas/{{item.id}}">{{ item.folio?item.folio:\'S/F\' }}</a></th>\r\n                        <td style="vertical-align: middle;"><a routerLink="/almacen/pedidos/actas/{{item.id}}">{{ item.nombre }}</a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/almacen/pedidos/actas/{{item.id}}">{{ item.fecha }}</a></td>                       \r\n                        <td style="vertical-align: middle;" class="has-text-centered">\r\n                            <span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span>\r\n                            <a (click)="imprimir(item)"  *ngIf="!item.cargando"><span class="icon"><i class="fa fa-print"></i></span></a>\r\n                            \r\n                        </td>\r\n                    </tr>\r\n\r\n                    <tr *ngIf="resultadosBusqueda.length == 0 && busquedaActivada">\r\n                        <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion \r\n                [total]="total" \r\n                [paginasTotales]="paginasTotales" \r\n                [resultadosPorPagina]="resultadosPorPagina" \r\n                [paginaActual]="paginaActual" \r\n                [indicePaginas]="indicePaginas"\r\n                (onSiguiente)="paginaSiguiente()" \r\n                (onAnterior)="paginaAnterior()" \r\n                (onListar)="listar($event)" \r\n                *ngIf="total>0 && total > resultadosPorPagina && !busquedaActivada"></paginacion>\r\n            \x3c!-- Paginaci\xf3n para la b\xfasqueda  --\x3e\r\n            <paginacion \r\n                [total]="totalBusqueda" \r\n                [paginasTotales]="paginasTotalesBusqueda" \r\n                [resultadosPorPagina]="resultadosPorPaginaBusqueda" \r\n                [paginaActual]="paginaActualBusqueda" \r\n                [indicePaginas]="indicePaginasBusqueda"\r\n                (onSiguiente)="paginaSiguienteBusqueda(searchBox.value)" \r\n                (onAnterior)="paginaAnteriorBusqueda(searchBox.value)" \r\n                (onListar)="listarBusqueda(searchBox.value,$event)" \r\n                *ngIf="totalBusqueda > 0 && totalBusqueda > resultadosPorPaginaBusqueda && busquedaActivada"></paginacion>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    \x3c!--p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p--\x3e\r\n</div>'},iBfS:function(e,t){e.exports='<menu-almacen-articulos></menu-almacen-articulos>\r\n\r\n<div style="height:50px;"></div>\r\n<section style="padding: 1em;">\r\n  <div class="control is-grouped">\r\n    <p class="control is-expanded">\r\n        <input class="input is-medium" type="text" placeholder="Buscar" [(ngModel)] = "busqueda" id="search-box">\r\n    </p>\r\n    <p class="control">\r\n        <a class="button is-medium is-primary is-inverted" [ngClass]="{ \'is-disabled\': busqueda==\'\'}" (click)="busqueda=\'\'">\r\n        <span class="icon"><i class="fa fa-close"></i></span>\r\n        </a>\r\n    </p>\r\n  </div>\r\n\r\n</section>\r\n<section style="padding: 1em;">\r\n    <section class="contenedor columns is-multiline is-mobile">\r\n        <div class="column is-1-desktop is-2-tablet is-3-mobile" *ngFor="let item of accesosDirectosAutorizados | buscarModulo: busqueda">\r\n            <a href="#" title="{{ item.titulo}}" class="item" routerLink="{{item.url}}"  routerLinkActive="active">\r\n                <figure class="image " style="height: auto; width: 100%; ">\r\n                    <img src="{{ item.icono }}" alt="{{item.titulo}}">                            \r\n                </figure>\r\n                <span class="is-hidden-mobile">{{ item.titulo}}</span>\r\n                <span class="is-hidden-tablet is-hidden-desktop"><small>{{ item.titulo}}</small></span>\r\n            </a>\r\n        </div>\r\n    </section>\r\n    <hr>\r\n    <section class="contenedor columns is-multiline is-mobile">\r\n        <div class="column is-1-desktop is-2-tablet is-3-mobile" *ngFor="let item of modulosAutorizados | buscarModulo: busqueda">\r\n            <a href="#" title="{{ item.titulo}}" style="position: relative;" class="item" routerLink="{{item.url}}" routerLinkActive="active">\r\n                \r\n                <figure class="image " style="height: auto; width: 100%; ">\r\n                    <img src="{{ item.icono }}" alt="{{item.titulo}}">                            \r\n                </figure>\r\n                <span class="is-hidden-mobile">{{ item.titulo}}</span>\r\n                <span class="is-hidden-tablet is-hidden-desktop"><small>{{ item.titulo}}</small></span>\r\n                <span *ngIf="item.badge>0" class="tag is-danger" style="position:absolute; top:0px; right:0px;">{{ item.badge }}</span>\r\n            </a>\r\n        </div>\r\n    </section>\r\n</section>\r\n\r\n'},iShI:function(e,t){e.exports='<formulario #ctrl URL="salida-laboratorio" titulo="Salida  de laboratorio" [dato]="dato"></formulario>\r\n\x3c!-- <menu-farmacia [modulo]="\'Salida de almac\xe9n\'" [icono]="\'assets/icono-salidas.svg\'" [url]="\'/almacen/salidas-estandar\'"></menu-farmacia> --\x3e\r\n<app-menu-laboratorio [modulo]="\'Salidas de laboratorio\'" [icono]="\'assets/icono-salidas-laboratorio.svg\'" [url]="\'/laboratorio/salidas-laboratorio\'"></app-menu-laboratorio>\r\n<div style="height:50px;"></div>\r\n<form name="form" novalidate [formGroup]="dato">\r\n    <div class="contenedor columns " style="height:85%">\r\n        <div class="column is-one-third" style="padding:1em;">\r\n            <div style="background: #FFF; border-radius: 1em; ">\r\n                <section class="hero is-primary">\r\n                    <h1 *ngIf="!tieneid" class="title" style="margin:0.5em; ">\r\n                        <span class="icon is-medium">\r\n                            <i class="fa fa-file-text"></i>\r\n                        </span> {{ctrl.moduloTitulo}}\r\n                    </h1>\r\n                    <h1 *ngIf="tieneid" class="title" style="margin:0.5em; ">\r\n                        <span class="icon is-medium">\r\n                            <i class="fa fa-file-text"></i>\r\n                        </span> Folio {{ctrl.id}}\r\n                    </h1>\r\n\r\n\r\n                </section>\r\n                <div style="padding: 1em;">\r\n\r\n                    <h3 class="title">\r\n                        <i class="fa fa-file"></i>\r\n                         Datos del movimiento\r\n                    </h3>\r\n                    <div >\r\n                        <div class="field">\r\n                            <label class="label">Fecha del movimiento:</label>\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n\r\n\r\n                                <input class="input" [value]="fecha_actual" [(ngModel)]=\'fecha_movimiento\' formControlName="fecha_movimiento" ngui-datetime-picker\r\n                                    [min-date]="MinDate" [max-date]="MaxDate" date-only="true" [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.get(\'fecha_movimiento\').hasError(\'required\') && ctrl.dato.get(\'fecha_movimiento\').touched}"\r\n                                    placeholder="YYYY-MM-DD" readonly/>\r\n\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'fecha_movimiento\').hasError(\'required\') && ctrl.dato.get(\'fecha_movimiento\').touched">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'fecha_movimiento\').hasError(\'required\') && ctrl.dato.get(\'fecha_movimiento\').touched">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div class="field">\r\n                            <label class="label">Observaciones:</label>\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n                                <textarea class="textarea" type="text" [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.get(\'observaciones\').hasError(\'required\') && ctrl.dato.get(\'observaciones\').touched}"\r\n                                    placeholder="Observaciones" formControlName="observaciones"></textarea>\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'observaciones\').hasError(\'required\') && ctrl.dato.get(\'observaciones\').touched">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'observaciones\').hasError(\'required\') && ctrl.dato.get(\'observaciones\').touched">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div class="control" *ngIf="mostrarCancelado">\r\n                            \x3c!-- *ngIf --\x3e\r\n                            <div class="field">\r\n                                <div class="b-checkbox control is-expanded  has-icon has-icon-right">\r\n\r\n                                    <input type="checkbox" id="cancelado" class="styled" [checked]="ctrl.dato.get(\'cancelado\').value == \'1\' ? true : false" (change)="ctrl.dato.get(\'cancelado\').patchValue(ctrl.dato.get(\'cancelado\').value == \'1\' ? \'0\' : \'1\')">\r\n                                    <label for="cancelado">  Cancelado\r\n                                    </label>\r\n                                </div>\r\n                            </div>\r\n                            <div class="field">\r\n                                <label class="label">Observaciones de cancelaci\xf3n:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <textarea class="textarea" autofocus type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'observaciones_cancelacion\').hasError(\'required\') && ctrl.dato.get(\'observaciones_cancelacion\').touched}"\r\n                                        placeholder="Observaciones de cancelacion" formControlName="observaciones_cancelacion"></textarea>\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'observaciones_cancelacion\').hasError(\'required\') && ctrl.dato.get(\'observaciones_cancelacion\').touched">\r\n                                        <i class="fa fa-warning"></i>\r\n                                    </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'observaciones_cancelacion\').hasError(\'required\') && ctrl.dato.get(\'observaciones_cancelacion\').touched">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                    <a id="actualizar" (click)="ctrl.cargarCatalogo(\'servicios\',\'mis-servicios\');"></a>\r\n                    <hr id="catalogos" (click)="ctrl.cargarCatalogo(\'turnos\', \'mis-turnos\'); "> \r\n\r\n                    <div >\r\n                        <span class="icon is-small" *ngIf="!ctrl.dato.get(\'movimiento_metadato\')">\r\n                            <i class="fa fa-warning"></i>\r\n                        </span>\r\n                        <nav class="panel"  formGroupName="movimiento_metadato" *ngIf="ctrl.dato.get(\'movimiento_metadato\')">\r\n\r\n                            <div class="field">\r\n                                <label class="label">Turno:</label>\r\n                                \x3c!-- NO carga los turnos --\x3e\r\n                                <div class="field" *ngIf="!ctrl.turnos || ctrl.cargando || cargando">\r\n                                    <span *ngIf="ctrl.cargando" class="tag is-primary is-medium">Cargando turnos. <i class="fa fa-refresh fa-spin" aria-hidden="true"></i></span>\r\n                                    <span *ngIf="!ctrl.cargando"class="tag is-medium">\r\n                                        <a class="has-icon" id="actualizar"  *ngIf="!ctrl.cargando" (click)="ctrl.cargarCatalogo(\'turnos\', \'mis-turnos\'); ">\r\n                                            No se pudieron cargar los turnos. &nbsp; <i class="fa fa-refresh" aria-hidden="true"></i>\r\n                                        </a>\r\n                                    </span>                                    \r\n                                    <p></p>\r\n                                </div>\r\n                                \x3c!-- SI carga los turnos --\x3e\r\n                                <p  *ngIf="ctrl.turnos && !ctrl.cargando && !cargando" class="control is-expanded  has-icon has-icon-right">\r\n                                    <select class="select" name="turno" formControlName="turno_id" \r\n                                    [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.get(\'movimiento_metadato\').get(\'turno_id\').hasError(\'required\')}">\r\n                                        <option value="">Seleccione un turno.</option>\r\n                                        <option *ngFor="let item of ctrl.turnos.clues_turnos" value="{{item.id}}">{{ item.nombre }}</option>\r\n                                    </select>\r\n                                    <span class="help is-danger" *ngIf="ctrl.turnos.clues_turnos.length == 0">\r\n                                        Contacte al administrador. No hay turnos disponibles.\r\n                                    </span>\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'turno_id\').hasError(\'required\')">\r\n                                        <i class="fa fa-warning"></i>\r\n                                    </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'turno_id\').hasError(\'required\') &&  ctrl.turnos.clues_turnos.length > 0">\r\n                                        Este campo es requerido.\r\n                                    </span>\r\n                                </p>\r\n                            </div>\r\n                            \x3c!-- SERVICIOS --\x3e\r\n                            <div class="field">\r\n                                <label class="label">Servicio que recibe:</label>\r\n                                \x3c!-- NO carga los SERVICIOS --\x3e\r\n                                <div class="field" *ngIf="!ctrl.servicios || ctrl.cargando || cargando">\r\n                                    <span *ngIf="ctrl.cargando" class="tag is-primary is-medium">Cargando servicios. <i class="fa fa-refresh fa-spin" aria-hidden="true"></i></span>\r\n                                    <span *ngIf="!ctrl.cargando"class="tag is-medium">\r\n                                        <a id="actualizar" *ngIf="!ctrl.cargando" (click)="ctrl.cargarCatalogo(\'servicios\', \'mis-servicios\'); ">\r\n                                            No se pudieron cargar los servicios. &nbsp; <i class="fa fa-refresh is-medium" aria-hidden="true"></i>\r\n                                        </a>\r\n                                    </span>\r\n                                </div>\r\n                                \x3c!-- SI carga los SERVICIOS --\x3e\r\n                                <p *ngIf="ctrl.servicios &&!ctrl.cargando && !cargando" class="control is-expanded  has-icon has-icon-right">\r\n                                    <select class="select" name="servicio_id" formControlName="servicio_id" [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.get(\'movimiento_metadato\').get(\'servicio_id\').hasError(\'required\')}">\r\n                                        <option value="">Seleccione un servicio.</option>\r\n                                        <option *ngFor="let item of ctrl.servicios.clues_servicios" value="{{item.id}}">{{ item.nombre }}</option>\r\n                                    </select>\r\n                                    <span class="help is-danger" *ngIf="ctrl.servicios.clues_servicios.length == 0">\r\n                                        Contacte al administrador. No hay servicios disponibles.\r\n                                    </span>\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'servicio_id\').hasError(\'required\')">\r\n                                        <i class="fa fa-warning"></i>\r\n                                    </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'servicio_id\').hasError(\'required\') && ctrl.servicios.clues_servicios.length > 0">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n\r\n\r\n                            <div class="field">\r\n                                <label class="label">Persona que recibe:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <input class="input" type="text" [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.get(\'movimiento_metadato\').get(\'persona_recibe\').hasError(\'required\')}"\r\n                                        placeholder="Persona que recibe" formControlName="persona_recibe">\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'persona_recibe\').hasError(\'required\')">\r\n                                        <i class="fa fa-warning"></i>\r\n                                    </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'persona_recibe\').hasError(\'required\')">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n\r\n                        </nav>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \x3c!-- apartado de insumos --\x3e\r\n        <div class="column" style="padding:1em;">\r\n            <div style="background: #FFF; border-radius: 1em; ">\r\n                <section class="hero is-primary">\r\n                    <div class="hero-body">\r\n                        <nav class="level">\r\n                            <div class="level-left"></div>\r\n                            \x3c!-- Right side --\x3e\r\n                            <div class="level-right"> \x3c!-- (click)="ctrl.regresar()" --\x3e\r\n                                <p class="level-item"><a class="button is-primary" routerLink="/laboratorio/salidas-laboratorio">Regresar</a></p>\r\n                                <p class="level-item" *ngIf="tieneid"><a class="button is-primary" routerLink="/laboratorio/salidas-laboratorio/nuevo" *ngIf="!ctrl.busquedaActivada"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;<span>Nueva salida</span></a></p>\r\n                                <p class="level-item" *ngIf="tieneid"><a *ngIf="tieneid" class="button is-primary" (click)="array_servicios = ctrl.servicios; array_turnos = ctrl.turnos; imprimir();"><span class="icon"><i class="fa fa-print"></i></span></a></p>\r\n                                <p class="level-item" *ngIf="!tieneid">\r\n                                        <button class="button is-primary" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="guardar_movimiento()" [disabled]="ctrl.dato.invalid"> <span class="icon"><i class="fa fa-floppy-o" aria-hidden="true"></i></span> &nbsp; Guardar</button>\r\n                                </p>\r\n                                <p *ngIf="tieneid" class="level-item"><a class="button is-primary" title="Actualizar" (click)="ctrl.cargarDatos();"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n                                <p *ngIf="!tieneid" class="level-item"><a class="button is-primary" title="Actualizar" (click)="ctrl.cargarCatalogo(\'turnos\', \'mis-turnos\'); ctrl.cargarCatalogo(\'servicios\',\'mis-servicios\');"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n                                <p class="level-item">&nbsp;</p>\r\n                            </div>\r\n                        </nav>                        \r\n                        <div class="container is-fluid">\r\n                            <h1 class="title">\r\n                                <span *ngIf="!ctrl.cargando || !cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                <span *ngIf="ctrl.cargando || cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>\r\n                                Insumos de laboratorio\r\n                            </h1>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>                    &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n                <section class="section">\r\n                    <div class="field has-addons has-addons-centered" *ngIf="!tieneid">\r\n\x3c!-- ******************************************* AUTOCOMPLETE *********************************************                         \r\n                        <p class="control">\r\n                            <input ngui-auto-complete [source]="insumos_term" [list-formatter]="autocompleListFormatter" id="buscarInsumo" value-property-name="clave"\r\n                                display-property-name="descripcion" path-to-data="" loading-text="Cargando..." no-match-found-text="No hay resultados."\r\n                                (valueChanged)="select_insumo_autocomplete($event)" min-chars="1" class="input is-success is-medium"\r\n                                type="text" placeholder="Escanea el codigo de barra, o empieza escribir el nombre del producto" >\r\n                        </p>\r\n******************************************* AUTOCOMPLETE ********************************************* --\x3e\r\n\r\n                        \x3c!-- *****************     INPUT DE BUSQUEDA DE INSUMO     ****************** --\x3e   \r\n                        <div class="control is-grouped">\r\n                            <div class="control is-expanded">\r\n                                <input \r\n                                    (keyup.enter)="buscarInsumo.value != \'\' ?  enviarAutocomplete(buscarInsumo.value) : buscarInsumo.value = \'\'" \r\n                                    id="buscarInsumo"\r\n                                    name="buscarInsumo"\r\n                                    #buscarInsumo\r\n                                    class="input is-success is-medium"\r\n                                    type="text"\r\n                                    placeholder="Escriba la clave o el nombre del insumo y presione la tecla ENTER"/>\r\n                            </div>\r\n                            <div class="control">\r\n                                <a class="button is-success is-medium" title="Buscar insumo" (click)="buscarInsumo.value != \'\' ?  enviarAutocomplete(buscarInsumo.value) : buscarInsumo.value = \'\'">\r\n                                    <i class="fa fa-search" aria-hidden="true"></i> &nbsp; Buscar\r\n                                </a>\r\n                            </div>\r\n                            <div class="control" *ngIf="buscarInsumo.value != \'\'">\r\n                                <a class="button is-info is-medium" title="Borrar texto" (click)="res_busq_insumos=[]; buscarInsumo.value=\'\'">\r\n                                    <i class="fa fa-times" aria-hidden="true"></i>\r\n                                </a>\r\n                            </div>\r\n                        </div>\r\n                        <div class="is-fullwidth has-text-centered" *ngIf="cargando" style="height:100px;">\r\n                            <br>\r\n                            <span class="tag is-primary is-large">\r\n                                <span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span>\r\n                            </span>\r\n                        </div>\r\n                        \x3c!-- *****************     RESULTADOS DE BUSQUEDA DE INSUMO     ****************** --\x3e\r\n                        <div *ngIf="res_busq_insumos.length > 0 && !cargando" style="height: 200px;">\r\n                            <div *ngIf="res_busq_insumos.length > 0 && !cargando" style="overflow: scroll; overflow-x: hidden; height: 90%;">\r\n                                <div class="content" style="z-index: 1;" *ngFor="let item_insumo of res_busq_insumos; let c = index">\r\n                                    <div class="card" (click)="select_insumo_autocomplete(item_insumo)" style="background: rgba(242,248,253, 0.8)">\r\n                                        <div class="card-content">\r\n                                            <div class="media">          \r\n                                                <div class="media-content">\r\n                                                    <p class="title is-4">{{item_insumo.descripcion}}</p>\r\n                                                    <p class="subtitle is-6">\r\n                                                        <strong>Clave: </strong> {{item_insumo.clave}}\r\n                                                        <label class="tag is-success" *ngIf="item_insumo.es_causes == 1"><strong>Cause </strong></label>\r\n                                                        <label class="tag" *ngIf="item_insumo.es_causes == 0" style="background: #B8FB7E; border-color: #B8FB7E; color: rgba(0,0,0,0.7);" ><strong>No Cause </strong> </label>\r\n                                                        <label class="tag is-warning" *ngIf="item_insumo.es_unidosis == 1"><strong>Unidosis</strong> </label>\r\n                                                    </p>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <hr> \x3c!-- L\xednea de division <div style="overflow:auto; display:block" [style.maxHeight.px]="ctrl.tamano-300"> --\x3e\r\n                    <div formArrayName="insumos_negados">\r\n                        <div class="box" *ngFor="let item of ctrl.dato.controls.insumos_negados.controls; let i=index" [ngStyle]="{\'background\': i%2 == 0 ? \'rgba(231, 242, 22, 0.4)\' :  \'rgba(231, 242, 22, 0.4)\'}">\r\n                            <article class="media" [formGroupName]="i">\r\n                                <div class="media-content">\r\n                                    <div class="content">\r\n                                        <p>\r\n                                            <strong>\r\n                                                <span style="color: red"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i></span>\r\n                                            \r\n                                                <span style="color:cornflowerblue">\r\n                                                    Clave: {{ ctrl.dato.controls.insumos_negados.controls[i].controls.clave.value }} \r\n                                                </span>\r\n                                                Nombre: {{ctrl.dato.controls.insumos_negados.controls[i].controls.descripcion.value}}\r\n                                            \r\n                                                <label class="tag is-success" *ngIf="ctrl.dato.controls.insumos_negados.controls[i].controls.es_causes.value == 1"><strong>Cause </strong></label>\r\n                                                <label class="tag is-success" *ngIf="ctrl.dato.controls.insumos_negados.controls[i].controls.es_causes.value == 0"><strong>No Cause </strong> </label>                                           \r\n                                                                                            \r\n                                                <label class="tag is-warning" *ngIf="ctrl.dato.controls.insumos_negados.controls[i].controls.es_unidosis.value == 1\r\n                                                "><strong>Unidosis</strong> </label>\r\n                                            </strong>\r\n                                            <br> {{ctrl.dato.controls.insumos_negados.controls[i].controls.descripcion.value}}\r\n                                        </p>\r\n                                    </div>\r\n                                    <nav class="level is-mobile">\r\n                                        <div class="level-left">\r\n                                            <a class="level-item" >\r\n                                                <div class="field"  *ngIf="ctrl.dato.controls.insumos_negados.controls[i].controls.modo_salida.value == \'N\'">\r\n                                                    \x3c!-- cambiar a formControlName="cantidad_solicitada"  --\x3e\r\n                                                    <label class="label">Cant. solicitada (Normal):</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input *ngIf="!tieneid" style="background:aliceblue" type="text" class="input" formControlName="cantidad_solicitada" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos_negados.controls[i].controls.cantidad_solicitada.hasError(\'required\') && ctrl.dato.controls.insumos_negados.controls[i].controls.cantidad_solicitada.touched}">\r\n                                                        <input *ngIf="tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_solicitada" >\r\n                                                    </p>\r\n                                                </div>\r\n                                                <div class="field" *ngIf="ctrl.dato.controls.insumos_negados.controls[i].controls.modo_salida.value == \'U\'">\r\n                                                    <label class="label" *ngIf="tieneid">Cant. solicitada ({{ctrl.dato.get("insumos_negados").value[i].informacion_ampliada.unidad_medida_nombre}}):</label>\r\n                                                    <label class="label" *ngIf="!tieneid">Cant. solicitada unidosis ({{ctrl.dato.controls.insumos_negados.controls[i].controls.unidad_medida.value}}):</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input *ngIf="!tieneid" style="background:aliceblue" type="text" class="input" formControlName="cantidad_solicitada_unidosis" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos_negados.controls[i].controls.cantidad_solicitada_unidosis.hasError(\'required\') && ctrl.dato.controls.insumos_negados.controls[i].controls.cantidad_solicitada_unidosis.touched}">\r\n                                                        <input *ngIf="tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_solicitada_unidosis" >\r\n                                                    </p>\r\n                                                </div>\r\n                                            </a>\r\n                                        </div>\r\n                                        <div class="level-right">\r\n                                            <a class="level-item" >\r\n                                                <div class="field"  *ngIf="ctrl.dato.controls.insumos_negados.controls[i].controls.modo_salida.value == \'N\'">\r\n                                                    <label class="label" *ngIf="tieneid">Cant. surtida:</label>\r\n                                                    <label class="label" *ngIf="!tieneid">Cant. a surtir:</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input *ngIf="!tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_surtida" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos_negados.controls[i].controls.cantidad_surtida.hasError(\'required\') && ctrl.dato.controls.insumos_negados.controls[i].controls.cantidad_surtida.touched}">\r\n                                                        <input *ngIf="tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_surtida" >\r\n                                                    </p>\r\n                                                </div>\r\n                                                <div class="field"  *ngIf="ctrl.dato.controls.insumos_negados.controls[i].controls.modo_salida.value == \'U\'">\r\n                                                    <label class="label" *ngIf="tieneid">Cant. surtida (unidosis):</label>\r\n                                                    <label class="label" *ngIf="!tieneid">Cant. a surtir (unidosis):</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input *ngIf="!tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_surtida_unidosis" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos_negados.controls[i].controls.cantidad_surtida_unidosis.hasError(\'required\') && ctrl.dato.controls.insumos_negados.controls[i].controls.cantidad_surtida_unidosis.touched}">\r\n                                                        <input *ngIf="tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_surtida_unidosis" >\r\n                                                    </p>\r\n                                                </div>\r\n                                            </a>\r\n\r\n                                        </div>\r\n                                    </nav>\r\n                                </div>\r\n                            </article>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div formArrayName="insumos"  style="overflow:auto; display:block" [style.maxHeight.px]="ctrl.dato.controls.insumos_negados.length > 0 ? ctrl.tamano-630 : ctrl.tamano-386">\r\n                        <div class="box" *ngFor="let item of ctrl.dato.controls.insumos.controls; let i=index" [ngStyle]="{\'background\': i%2 == 0 ? \'rgba(230, 230, 232, 0.44)\' : \'\'}">\r\n                            <article class="media" [formGroupName]="i">\r\n                                <div class="media-content">\r\n                                    <div class="content">\r\n                                        <span style="float:right; padding-left: 15px;" >\r\n                                            <a *ngIf="!tieneid" class="button is-danger" title="Quitar este elemento de la lista" (click)="abrirModal(\'borrarInsumo\', i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a>\r\n                                        </span>\r\n                                        <a *ngIf="!tieneid" class="button is-success" title="Agregar m\xe1s lotes de este insumo" style="float:right" (click)="select_insumo_autocomplete(item.value)"><span class="icon"><i class="fa fa-plus-circle" aria-hidden="true"></i></span> </a>\r\n                                                                                \r\n                                        <p style="padding-right: 20px;">\r\n                                            <strong>\r\n                                                <span style="color:cornflowerblue">\r\n                                                    Clave: {{ ctrl.dato.controls.insumos.controls[i].controls.clave.value }} \r\n                                                </span>\r\n                                                Nombre: {{ctrl.dato.controls.insumos.controls[i].controls.descripcion.value}}\r\n                                            \r\n                                                <label class="tag is-success" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_causes.value == 1"><strong>Cause </strong></label>\r\n                                                <label class="tag is-success" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_causes.value == 0"><strong>No Cause </strong> </label>                                           \r\n                                                                                            \r\n                                                <label class="tag is-warning" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_unidosis.value == 1\r\n                                                "><strong>Unidosis</strong> </label>\r\n                                            </strong>\r\n                                            <br> {{ctrl.dato.controls.insumos.controls[i].controls.descripcion.value}}\r\n                                        </p>\r\n                                        <a class="is-danger" title="Ver la lista de lotes de este articulo" style="float:right" (click)="ver_lotes_asignados(i)">\r\n                                            <span class="icon">\r\n                                                <i *ngIf="!mostrar_lote[i]" class="fa fa-plus"></i>\r\n                                                <i *ngIf="mostrar_lote[i]" class="fa fa-minus"></i>\r\n                                            </span>\r\n                                        </a>\r\n                                    </div>\r\n                                    <section *ngIf="mostrar_lote[i]">\r\n                                        <table class="table is-narrow is-bordered is-striped">\r\n                                            <thead>\r\n                                                <tr>\r\n                                                    <th>Lote</th>\r\n                                                    <th>Caducidad</th>\r\n                                                    <th>Codigo de barras</th>\r\n                                                    <th *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'N\'">Existencia</th>\r\n                                                    <th *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'U\'">Existencia Unidosis</th>\r\n                                                    \r\n                                                    <th *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'N\'">Cantidad normal</th>\r\n                                                    <th *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'U\'">Cantidad unidosis</th>\r\n                                                    <th *ngIf="!tieneid"></th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody formArrayName="lotes">\r\n                                                <tr *ngFor="let val of ctrl.dato.controls.insumos.controls[i].controls.lotes.controls;  let i2 = index;">\r\n                                                    <td>{{val.value.lote}}</td>\r\n                                                    <td>{{val.value.fecha_caducidad}}</td>\r\n                                                    <td>{{val.value.codigo_barras}}</td>\r\n                                                    <td *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'N\'">{{val.value.existencia}}</td>\r\n                                                    <td *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'U\'">{{val.value.existencia_unidosis}}</td>\r\n                                                    <td [formGroupName]="i2">\r\n                                                        <input  *ngIf="val.value.modo_salida == \'N\'" [ngClass]="{\'is-disabled\': tieneid}" class="input has-text-centered" \r\n                                                            (blur)="validar_cantidad_lote(i, val, i2, modo)" type="number" step="1" min="0" max="{{val.value.existencia}}"\r\n                                                            placeholder="Cantidad" formControlName="cantidad" (keypress)="quitar_punto($event)">\r\n                                                        <input  *ngIf="val.value.modo_salida == \'U\'" [ngClass]="{\'is-disabled\': tieneid}" class="input has-text-centered" (blur)="validar_cantidad_lote(i, val, i2, modo)" type="number" step="1" min="0" max="{{val.value.existencia_unidosis}}"\r\n                                                            placeholder="Cantidad unidosis" formControlName="cantidad" (keypress)="quitar_punto($event)"></td>\r\n                                                    <td *ngIf="!tieneid">\r\n                                                        <a class="is-danger" title="Quitar este lote" (click)="quitar_lote_insumo(i, val.value, i2)">\r\n                                                            <span class="icon">\r\n                                                                <i class="fa fa-trash-o"></i>\r\n                                                            </span>\r\n                                                        </a>\r\n                                                    </td>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </table>\r\n                                    </section>\r\n                                    <nav class="level is-mobile">\r\n                                        <div class="level-left">\r\n                                            <a class="level-item" >\r\n                                                \r\n                                                <div class="field"  *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'N\'">\r\n                                                    <label class="label" *ngIf="tieneid && ctrl.dato.get(\'insumos\').value[i].detalles.informacion_ampliada">Cant. solicitada ({{ctrl.dato.get("insumos").value[i].detalles.informacion_ampliada.presentacion_nombre}}):</label>\r\n                                                    <label class="label" *ngIf="tieneid && !ctrl.dato.get(\'insumos\').value[i].detalles.informacion_ampliada">Cant. solicitada (normal):</label>\r\n                                                    <label class="label" *ngIf="!tieneid">Cant. solicitada ({{ctrl.dato.controls.insumos.controls[i].controls.presentacion_nombre.value}}):</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input *ngIf="!tieneid" style="background:aliceblue" type="text" class="input" formControlName="cantidad_solicitada" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.cantidad_solicitada.hasError(\'required\') && ctrl.dato.controls.insumos.controls[i].controls.cantidad_solicitada.touched}">\r\n                                                        <input *ngIf="tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_solicitada" >\r\n                                                    </p>\r\n                                                </div>\r\n                                                <div class="field" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'U\'">\r\n                                                    <label class="label" *ngIf="tieneid && ctrl.dato.get(\'insumos\').value[i].detalles.informacion_ampliada">Cant. solicitada ({{ctrl.dato.get("insumos").value[i].detalles.informacion_ampliada.unidad_medida_nombre}}):</label>\r\n                                                    <label class="label" *ngIf="tieneid && !ctrl.dato.get(\'insumos\').value[i].detalles.informacion_ampliada">Cant. solicitada (Unidosis):</label>\r\n                                                    <label class="label" *ngIf="!tieneid">Cant. solicitada unidosis ({{ctrl.dato.controls.insumos.controls[i].controls.unidad_medida.value}}):</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input *ngIf="!tieneid" style="background:aliceblue" type="text" class="input" formControlName="cantidad_solicitada" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.cantidad_solicitada.hasError(\'required\') && ctrl.dato.controls.insumos.controls[i].controls.cantidad_solicitada.touched}">\r\n                                                        <input *ngIf="tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_solicitada" >\r\n                                                    </p>\r\n                                                </div>\r\n                                            </a>\r\n                                        </div>\r\n                                        <div class="level-right">\r\n                                            <a class="level-item" >\r\n                                                <div class="field"  *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'N\'">\r\n                                                    <label class="label" *ngIf="tieneid && ctrl.dato.get(\'insumos\').value[i].detalles.informacion_ampliada">Cant. surtida ({{ctrl.dato.get("insumos").value[i].detalles.informacion_ampliada.presentacion_nombre}}):</label>\r\n                                                    <label class="label" *ngIf="tieneid && !ctrl.dato.get(\'insumos\').value[i].detalles.informacion_ampliada">Cant. surtida (Normal):</label>\r\n                                                    <label class="label" *ngIf="!tieneid">Cant. a surtir ({{ctrl.dato.controls.insumos.controls[i].controls.presentacion_nombre.value}}):</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input *ngIf="!tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_surtida" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.hasError(\'required\') && ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.touched}">\r\n                                                        <input *ngIf="tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad" >\r\n                                                    </p>\r\n                                                </div>\r\n                                                <div class="field"  *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'U\'">\r\n                                                    <label class="label" *ngIf="tieneid && ctrl.dato.get(\'insumos\').value[i].detalles.informacion_ampliada">Cant. surtida ({{ctrl.dato.get("insumos").value[i].detalles.informacion_ampliada.unidad_medida_nombre}}):</label>\r\n                                                    <label class="label" *ngIf="tieneid && !ctrl.dato.get(\'insumos\').value[i].detalles.informacion_ampliada">Cant. surtida (Unidosis):</label>\r\n                                                    <label class="label" *ngIf="!tieneid">Cant. a surtir unidosis ({{ctrl.dato.controls.insumos.controls[i].controls.unidad_medida.value}}):</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input *ngIf="!tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_surtida" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.hasError(\'required\') && ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.touched}">\r\n                                                        <input *ngIf="tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad" >\r\n                                                    </p>\r\n                                                </div>\r\n                                            </a>\r\n\r\n                                        </div>\r\n                                    </nav>\r\n                                </div>\r\n                            </article>\r\n                        </div>\r\n                    </div>\r\n\r\n                </section>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</form>\r\n\r\n\r\n<div class="modal" id="verLotes">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card" style="width: 70%; height: 90%;">\r\n        <header class="modal-card-head" style="height: 15%;">\r\n            <p class="modal-card-title" id="tituloModal" style="width: 230px"> </p>\r\n            <button type="button" class="delete" (click)="cancelarModal(\'verLotes\'); modo = \'N\';"></button>\r\n        </header>\r\n        <section class="modal-card-body" style="height: 85%;">\r\n            <div style="padding: 1em; overflow-x: hidden; height: 100%;">\r\n                <div style="padding: 1em; overflow: scroll; overflow-x: hidden; overflow-y: hidden; height: 20%;">\r\n                    <div class="columns" >\r\n                        <div class="column is-two-thirds">\r\n                            <div class="columns">\r\n                                <div class="column is-4">\r\n                                    <label class="label" style="font-size: large;float: left;margin-right: 6%;">Modo salida: </label>\r\n                                </div>\r\n                                <div class="b-checkbox is-info is-circular">\r\n                                    <div class="column is-auto">\r\n                                        <input class="styled" type="radio" id="modo_n" [checked]="modo == \'N\'" (click)="modo = \'N\'" [value]="\'N\'" name="modo">                                    \r\n                                        <label for="modo_n">\r\n                                            <span class="tag is-large" [ngClass]="{\'is-success\':modo == \'N\'}">Normal</span>\r\n                                        </label>\r\n                                    </div>\r\n                                    <div *ngIf="es_unidosis == 1" class="column is-auto">\r\n                                        <input class="styled" type="radio" id="modo_u" [checked]="modo == \'U\'" (click)="modo = \'U\'" [value]="\'U\'" name="modo">                                    \r\n                                        <label for="modo_u">\r\n                                            <span class="tag is-large" [ngClass]="{\'is-success\':modo == \'U\'}">Unidosis</span>\r\n                                        </label>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="column">\r\n                            <div class="field is-horizontal">\r\n                                <label class="label" *ngIf="modo == \'N\'">Cant. solicitada:</label>\r\n                                <label class="label" *ngIf="modo == \'U\'">Cant. solicitada ({{insumo.unidad_medida}}):</label>\r\n                                <input class="input has-text-centered" (keypress)="quitar_punto($event)" (change)="comprobar_cant_solicitada(cantidad_solicitada.value)" type="number" step="1" min="0" \r\n                                    placeholder="Cantidad" #cantidad_solicitada id="cantidad_solicitada" \r\n                                    name="cantidad_solicitada" (keyup)="comprobar_cant_solicitada(cantidad_solicitada.value)">\r\n                            \x3c!-- <input style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_surtida" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.hasError(\'required\') && ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.touched}"> --\x3e\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div style="padding: 1em; overflow: scroll; overflow-x: hidden; height: 80%;">\r\n                    <table class="table is-narrow is-bordered is-striped" >\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Lote</th>\r\n                                <th>Caducidad</th>\r\n                                <th>Codigo de barras</th>\r\n                                <th *ngIf="modo == \'N\'">Existencia</th>\r\n                                <th *ngIf="modo == \'N\'">Cantidad</th>\r\n                                <th *ngIf="modo == \'U\'">Existencia Unidosis ({{insumo.unidad_medida}})</th> \r\n                                <th *ngIf="modo == \'U\'">Cantidad Unidosis ({{insumo.unidad_medida}})</th> \r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor="let item of lotes_insumo;  let i = index;">\r\n                                <td *ngIf="!item.nuevo">{{item.lote}}</td>\r\n                                <td *ngIf="item.nuevo"><input class="input has-text-centered " type="text" placeholder="Lote" [(ngModel)]="item.lote"></td>\r\n                                <td *ngIf="!item.nuevo">{{item.fecha_caducidad}}</td>\r\n                                <td *ngIf="item.nuevo">\r\n                                    <input class="input has-text-centered" placeholder="Fecha de caducidad" \r\n                                    [(ngModel)]="item.fecha_caducidad" min="MinDateCaducidad" (blur)="validar_fecha()"\r\n                                    placeholder="YYYY-MM-DD" [textMask]="{mask:mask, keepCharPositions: true, pipe: autoCorrectedDatePipe}"/>\r\n                                </td>\r\n                                <td *ngIf="!item.nuevo">{{item.codigo_barras}}</td>\r\n                                <td *ngIf="item.nuevo"><input class="input has-text-centered " type="text" placeholder="Codigo de barras" [(ngModel)]="item.codigo_barras"></td>\r\n                                <td *ngIf="!item.nuevo && modo == \'N\'">{{item.existencia}}</td>\r\n                                <td *ngIf="!item.nuevo && modo == \'U\'">{{item.existencia_unidosis}}</td>\r\n                                <td *ngIf="item.nuevo "></td>\r\n                                <td >\r\n                                    <input class="input has-text-centered" type="number" step="1" min="0" (keypress)="quitar_punto($event)"  (keyup)="comprobar_cant_lotes()" (change)="comprobar_cant_lotes()" max="{{item.existencia}}" placeholder="Cantidad" [(ngModel)]="item.cantidad">\r\n                                </td>\r\n                                <td *ngIf="item.nuevo">\r\n                                    <a class="delete" (click)=eliminarLote(i)></a>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-dark" *ngIf="modo==\'N\'" (click)="agregarNuevoLote()">Agregar nuevo lote</a>                            \r\n            <a class="button is-success" [ngClass]="{\'is-disabled\':!cant_solicitada_valida || !sum_cant_lotes || !fecha_invalida}" (click)="agregarLoteIsumo(cantidad_solicitada.value)">Aceptar</a>\r\n            <a class="button" (click)="cancelarModal(\'verLotes\'); modo = \'N\';">Cancelar</a>\r\n            <div class="card-footer-item"></div>\r\n            <a *ngIf="!sum_cant_lotes" class="card-footer-item button is-danger" [ngClass]="{\'is-disabled\':!cant_solicitada_valida}" (click)="abrirModal(\'negarExistencia\')"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i>&nbsp;\r\n Negar existencia</a>\r\n        </footer>\r\n        <simple-notifications [options]="options"></simple-notifications>\r\n    </div>\r\n</div>\r\n\r\n<div class="modal" id="negarExistencia">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card">\r\n        <header class="modal-card-head">\r\n            <p class="modal-card-title"><i class="fa fa-warning"></i> Alerta</p>\r\n            <button class="delete" (click)="cancelarModal(\'negarExistencia\')"></button>\r\n        </header>\r\n        <section class="modal-card-body">\r\n            <div class="content">\r\n                <h1>\xbfEsta seguro de negar la existencia del insumo?</h1>\r\n                <p>Ya no se podra cambiar la cantidad negada</p>\r\n            </div>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-success" (click)="agregarLoteIsumo(cantidad_solicitada.value)">Continuar</a>\r\n            <a class="button" (click)="cancelarModal(\'negarExistencia\')">Cancelar</a>\r\n        </footer>\r\n    </div>\r\n</div>\r\n\r\n<div class="modal" id="guardarMovimiento">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card">\r\n        <header class="modal-card-head">\r\n            <p class="modal-card-title"><i class="fa fa-warning"></i> Alerta</p>\r\n            <button class="delete" (click)="cancelarModal(\'guardarMovimiento\')"></button>\r\n        </header>\r\n        <section class="modal-card-body">\r\n            <div class="content">\r\n                <h1>\xbfEsta seguro de guardar la salida?</h1>\r\n                <p>Ya no se podr\xe1 realizar cambios</p>\r\n                <p class="modal-card-title" id="tituloGuardar"> </p>\r\n            </div>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-success" (click)="ctrl.enviar(false, \'laboratorio/salidas-laboratorio\'); cancelarModal(\'guardarMovimiento\')">Continuar</a>\r\n            <a class="button" (click)="cancelarModal(\'guardarMovimiento\')">Cancelar</a>\r\n        </footer>\r\n    </div>\r\n</div>\r\n\r\n<div class="modal" id="borrarInsumo">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card">\r\n        <header class="modal-card-head">\r\n            <p class="modal-card-title"><i class="fa fa-warning"></i> Alerta</p>\r\n            <button class="delete" (click)="cancelarModal(\'borrarInsumo\')"></button>\r\n        </header>\r\n        <section class="modal-card-body">\r\n            <div class="content">\r\n                <h1>\xbfEsta seguro de eliminar el insumo?</h1>\r\n                <p>Se borrar\xe1n todos los lotes del insumo que se hayan agregado.</p>\r\n            </div>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-success" (click)="ctrl.quitar_form_array(ctrl.dato.controls.insumos, index_borrar); cancelarModal(\'borrarInsumo\');">Continuar</a>\r\n            <a class="button" (click)="cancelarModal(\'borrarInsumo\')">Cancelar</a>\r\n        </footer>\r\n    </div>\r\n</div>'},iajj:function(e,t){e.exports="td.aceptados {\r\n    background-color: #EFFBF5;\r\n}\r\n\r\ntd.ignorados {\r\n    background-color: #FBFBEF;\r\n}\r\n\r\n.cancelado{\r\n    color:red;\r\n}\r\n\r\n.descargado\r\n{\r\n\tbackground-color: #00d1b2;\r\n}\r\n\r\n.color_tag_descargas\r\n{\r\n\tbackground-color: #FFFFFF;\r\n}"},iqbP:function(e,t){e.exports='<section  class="top-nav">\r\n            \r\n    <nav class="nav">\r\n        <a title="Equipamiento" class="nav-item pull-left nav-hub-active"  routerLink="/equipamiento">\r\n            \r\n            <img src="assets/hub-equipamiento.svg" alt="icono">\r\n        \r\n        </a>\r\n        <div class="nav-left is-hidden-touch">\r\n            \r\n            <span *ngIf="!modulo" class="nav-item">\r\n                <h1 class="title">&nbsp;Equipamiento</h1>\r\n            </span>\r\n            <a *ngIf="modulo" class="nav-item" routerLink="{{ url }}" >\r\n            \r\n            \x3c!-- <img src="{{ icono }}" alt="icono">--\x3e\r\n                <h1 class="title">&nbsp;{{ modulo }}</h1>                     \r\n            </a>\r\n        </div>\r\n\r\n        <div class="nav-center">\r\n            <span *ngIf="usuario.almacen_activo" class="nav-item is-small">\r\n                <span>{{usuario.clues_activa.clues}}&nbsp;-&nbsp;</span><span class="is-hidden-mobile">{{usuario.clues_activa.nombre}}&nbsp;-&nbsp;</span><span>{{usuario.almacen_activo.nombre}}</span>\r\n            </span>\r\n        </div>\r\n\r\n        <a class="nav-item"  (click)="hub.toggle()">\r\n            <span class="icon">\r\n                <i class="fa fa-th"></i>\r\n            </span>\r\n        </a>\r\n\r\n        <a class="nav-item is-hidden-mobile" (click)="perfil.toggle()">                    \r\n            <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n            &nbsp;\r\n            <span>{{ usuario.nombre }} {{ usuario.apellidos }}</span>\r\n        </a>\r\n        <a class="nav-item is-hidden-tablet" (click)="perfil.toggle()">\r\n            \r\n            <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n        </a>\r\n        \r\n        \r\n    </nav>\r\n</section>\r\n\r\n<app-hub #hub></app-hub>\r\n<app-perfil #perfil></app-perfil>'},j9G5:function(e,t){e.exports='<listar #ctrl URL="presentaciones-medicamentos" titulo="Presentacion Medicamento / Catalogo"></listar>\r\n<app-menu-catalogo></app-menu-catalogo>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:90%; padding-top: 1em;">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em">\r\n        <div style="background: #FFF; border-radius: 1em; ">\r\n\r\n            \x3c!-- Opciones y busqueda --\x3e\r\n            <tabla-opciones \r\n                #opciones\r\n                [ctrl]="ctrl"\r\n                [nombre]="\'Presentaciones de medicamentos\'"\r\n                [ruta]="\'presentaciones-medicamentos\'"\r\n                [ruta_pdf]="\'catalogos-parametros/lista-presentaciones-medicamentos.js\'"></tabla-opciones>\r\n\r\n            <div style="overflow:auto; display:block" [style.maxHeight.px]="ctrl.tamano-300">\r\n\r\n                <div class="is-fullwidth has-text-centered" *ngIf="opciones.cargandoPdf">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Generando PDF...</span></span>\r\n                    <br>\r\n                    <br>\r\n                </div>\r\n                <table class="table" *ngIf="!ctrl.cargando && !opciones.cargandoPdf">\r\n\r\n                    <thead>\r\n                        <tr>\r\n                            <th><abbr title="Usuario ID">ID</abbr></th>\r\n                            <th>Nombre</th>\r\n                            <th style="text-align:center;">Opciones</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody *ngIf="!ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.dato; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/catalogos-parametros/presentaciones-medicamentos/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/presentaciones-medicamentos/editar/{{item.id}}">{{ item.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n                        <tr *ngIf="ctrl.dato.length == 0">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                    <tbody *ngIf="ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/catalogos-parametros/presentaciones-medicamentos/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/presentaciones-medicamentos/editar/{{item.id}}">{{ item.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n\r\n                        <tr *ngIf="ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [ctrl]="ctrl"></paginacion>\r\n        </div>\r\n\r\n    </div>\r\n</div>'},jBlE:function(e,t){e.exports=""},jath:function(e,t){e.exports='<formulario #ctrl URL="servicios" titulo="Servicios / Catalogo" [dato]="dato"></formulario>\r\n<app-menu-catalogo></app-menu-catalogo>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:90%; padding-top: 1em;">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em;">\r\n        \x3c!-- formulario --\x3e\r\n        <form name="form" novalidate [formGroup]="dato" (ngSubmit)="ctrl.enviar()">\r\n            <div style="background: #FFF; overflow: hidden;">\r\n                <section class="hero is-primary">\r\n                    <div class="hero-body">\r\n                        \x3c!-- Opciones  --\x3e\r\n                        <formulario-opciones [ctrl]="ctrl" class="control is-grouped" style="position:absolute; top:8em; right:3em;">\r\n                        </formulario-opciones>\r\n                        <div class="container is-fluid">\r\n                            <h1 class="title">\r\n                                <span *ngIf="!ctrl.cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                <span *ngIf="ctrl.cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>                                {{ctrl.moduloTitulo}} servicio\r\n                            </h1>\r\n\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>                    &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n                <section class="section">\r\n\r\n\r\n\r\n\r\n                    <div class="field">\r\n                        <label class="label">Nombre:</label>\r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                            <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'nombre\').hasError(\'required\')}" placeholder="nombre"\r\n                                formControlName="nombre">\r\n                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">Este campo es requerido.</span>\r\n                        </p>\r\n                    </div>\r\n\r\n                </section>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>'},jcW6:function(e,t){e.exports=".top-nav { position: fixed; width: 100%;top:0px; z-index:99; background: #00d1b2; }\r\n\r\n\r\nnav {\r\n    background-color:#00d1b2;\r\n    color: #FFF !important;\r\n}\r\n\r\n\r\na.nav-hub-active { background:rgba(0,0,0,0.05);}\r\n\r\n\r\na.nav-hub-active:hover { background:rgba(0,0,0,0.1);}\r\n\r\n\r\nnav a { color: #FFF ; color: rgba(255,255,255,0.9)  !important;}\r\n\r\n\r\nnav a:hover { color: #FFF !important;}\r\n\r\n\r\nnav .title  { color:#FFF;}\r\n\r\n\r\nnav a .title { color:#FFF; color: rgba(255,255,255,0.9)  !important;}\r\n\r\n\r\nnav a:hover .title { color:#FFF !important; }\r\n\r\n\r\n.unidad-trabajo {\r\n\tfont-size: 0.7em;\r\n\ttext-align: right !important;\r\n\tpadding: 1em;\r\n    vertical-align: middle;\r\n    text-shadow: 2px 2px slategrey;\r\n}"},jjES:function(e,t){e.exports='<section class="hero is-dark" style="position: fixed; width: 100%;top:0px; z-index:99">\r\n    <div class="hero-head">\r\n        <div class="container is-fluid">\r\n            <nav class="nav is-primary">\r\n                <div class="nav-left">\r\n                    <a class="nav-item is-brand" routerLink="/panel-control" routerLinkActive="active">\r\n                    \x3c!--<img src="http://bulma.io/images/bulma-type.png" alt="Bulma logo">--\x3e\r\n                     <span class="icon">\r\n                        <i class="fa fa-cog"></i>\r\n                    </span> \r\n                     <h1 class="title">&nbsp;Panel de control</h1>\r\n                    </a>\r\n                </div>\r\n                <a class="nav-item is-hidden-tablet" (click)="toggleMenuAside()">\r\n                    <span class="icon">\r\n                        <i class="fa fa-navicon"></i>\r\n                    </span>\r\n                </a>\r\n                <a class="nav-item"  (click)="hub.toggle()">\r\n                    <span class="icon">\r\n                        <i class="fa fa-th"></i>\r\n                    </span>\r\n                </a>\r\n\r\n                <a class="nav-item is-hidden-mobile" (click)="perfil.toggle()">\r\n                    \r\n                    <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n                    &nbsp;\r\n                    <span>{{ usuario.nombre }} {{ usuario.apellidos }}</span>\r\n                </a>\r\n                <a class="nav-item is-hidden-tablet" (click)="perfil.toggle()">\r\n                    \r\n                    <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n                </a>\r\n               \r\n                \r\n            </nav>\r\n        </div>\r\n    </div>\r\n</section>\r\n\r\n<app-hub #hub></app-hub>\r\n<app-perfil #perfil></app-perfil>\r\n\r\n<div class="modal" [ngClass]="{\'is-active\': mostrarMenuAside}">\r\n  <div class="modal-background" (click)="toggleMenuAside()"></div>\r\n  <div class="modal-content">\r\n    <div class="card" style="width: 100%">\r\n        <div class="card-content">\r\n            <panel-control-menu-aside></panel-control-menu-aside>\r\n        </div>\r\n    </div>\r\n  </div>\r\n  <button class="modal-close" (click)="toggleMenuAside()"></button>\r\n</div>'},"jo+T":function(e,t){e.exports=".top-nav { position: fixed; width: 100%;top:0px; z-index:99; background: #00d1b2; }\r\n\r\n\r\nnav {\r\n    background-color:#00d1b2;\r\n    color: #FFF !important;\r\n}\r\n\r\n\r\na.nav-hub-active { background:rgba(0,0,0,0.05);}\r\n\r\n\r\na.nav-hub-active:hover { background:rgba(0,0,0,0.1);}\r\n\r\n\r\nnav a { color: #FFF ; color: rgba(255,255,255,0.9)  !important;}\r\n\r\n\r\nnav a:hover { color: #FFF !important;}\r\n\r\n\r\nnav .title  { color:#FFF;}\r\n\r\n\r\nnav a .title { color:#FFF; color: rgba(255,255,255,0.9)  !important;}\r\n\r\n\r\nnav a:hover .title { color:#FFF !important; }"},jy70:function(e,t){e.exports='<aside class="menu" style="padding: 1em;">\r\n<div style="background: #FFF; overflow:hidden; border-radius:1em; width:100%;margin-bottom:1em;">\r\n        <table class="table" style="min-width:100%; font-size:0.8em; margin-bottom:0.2em;margin-top:0.2em;">\r\n            <thead>\r\n                <tr>\r\n                    <th>Tipo de insumo</th>\r\n                    <th style="text-align:center">Transferido</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr *ngIf="cargando">\r\n                    <th colspan="5" style="text-align:center"><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>&nbsp;Cargando Presupuesto...</th>\r\n                </tr>\r\n                <tr *ngIf="!cargando">\r\n                    <th>Causes y Material de Curaci\xf3n</th>\r\n                    <td style="text-align:center"><span class="tag is-success">$ {{ (presupuesto.causes_y_material) | number:\'1.2-2\' }}</span></td>\r\n                </tr>\r\n                <tr *ngIf="!cargando">\r\n                    <th>No causes</th>\r\n                    <td style="text-align:center"><span class="tag is-primary">$ {{ presupuesto.no_causes | number:\'1.2-2\' }}</span></td>\r\n                </tr>\r\n                <tr *ngIf="!cargando">\r\n                    <th>Total</th>\r\n                    <td style="text-align:center"><span class="tag is-info">$ {{ ( presupuesto.causes_y_material + presupuesto.no_causes) | number:\'1.2-2\' }}</span></td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>  \r\n    <br>\r\n    <a routerLink="/almacen/transferencia-almacen/nueva" routerLinkActive="is-active" class="button is-primary is-inverted is-medium is-fullwidth"><span class="icon"  ><i class="fa fa-plus"></i></span> <span>Nueva Transferencia</span></a>\r\n    <br>\r\n  \x3c!--  <p class="menu-label">\r\n      Pedidos\r\n  </p>--\x3e\r\n  <ul class="menu-list">\r\n    <li>\r\n        <a routerLink="/almacen/transferencia-almacen/por-surtir" #porSurtir routerLinkActive="is-active">\r\n            <span class="icon"><i class="fa fa-inbox"></i></span> Solicitudes por surtir\r\n            <span class="icon is-pulled-right" *ngIf="cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span>\r\n            <span *ngIf="stats.por_surtir>0" class="tag is-pulled-right" [ngClass]="{ \'is-white\': porSurtir.className == \'is-active\', \'is-primary\': porSurtir.className != \'is-active\' }">{{  stats.por_surtir }}</span>\r\n        </a>\r\n    </li>\r\n    <hr>\r\n    <li>\r\n        <a routerLink="/almacen/transferencia-almacen/todos" #todos routerLinkActive="is-active">\r\n            <span class="icon"><i class="fa fa-file"></i></span> Todos\r\n            <span class="icon is-pulled-right" *ngIf="cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span>\r\n            <span *ngIf="stats.todos>0" class="tag is-pulled-right" [ngClass]="{ \'is-white\': todos.className == \'is-active\', \'is-primary\': todos.className != \'is-active\' }">{{  stats.todos }}</span>\r\n        </a>\r\n    </li>\r\n    <li>\r\n        <a routerLink="/almacen/transferencia-almacen/borradores" #borradores routerLinkActive="is-active">\r\n            <span class="icon"><i class="fa fa-pencil-square-o"></i></span> Borradores\r\n            <span class="icon is-pulled-right" *ngIf="cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span>\r\n            <span *ngIf="stats.borradores>0" class="tag is-pulled-right" [ngClass]="{ \'is-white\': borradores.className == \'is-active\', \'is-primary\': borradores.className != \'is-active\' }">{{  stats.borradores }}</span>\r\n        </a>\r\n    </li>\r\n    <li>\r\n        <a routerLink="/almacen/transferencia-almacen/en-transito" #enTransito routerLinkActive="is-active">\r\n            <span class="icon"><i class="fa fa-clock-o"></i></span> En transito\r\n            <span class="icon is-pulled-right" *ngIf="cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span>\r\n            <span *ngIf="stats.en_transito>0" class="tag is-pulled-right" [ngClass]="{ \'is-white\': enTransito.className == \'is-active\', \'is-primary\': enTransito.className != \'is-active\' }">{{  stats.en_transito }}</span>\r\n        </a>\r\n    </li>\r\n    <li>\r\n        <a routerLink="/almacen/transferencia-almacen/por-finalizar" #porFinalizar routerLinkActive="is-active">\r\n            <span class="icon"><i class="fa fa-check"></i></span> Por finalizar\r\n            <span class="icon is-pulled-right" *ngIf="cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span>\r\n            <span *ngIf="stats.por_finalizar>0" class="tag is-pulled-right" [ngClass]="{ \'is-white\': porFinalizar.className == \'is-active\', \'is-primary\': porFinalizar.className != \'is-active\' }">{{  stats.por_finalizar }}</span>\r\n        </a>\r\n    </li>\r\n    <hr>\r\n    <li>\r\n        <a routerLink="/almacen/transferencia-almacen/finalizados" #finalizados routerLinkActive="is-active">\r\n            <span class="icon"><i class="fa fa-check-circle"></i></span> Finalizados\r\n            <span class="icon is-pulled-right" *ngIf="cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span>\r\n            <span *ngIf="stats.finalizados>0" class="tag is-pulled-right" [ngClass]="{ \'is-white\': finalizados.className == \'is-active\', \'is-success\': finalizados.className != \'is-active\' }">{{  stats.finalizados }}</span>\r\n        </a>\r\n    </li>\r\n    <li>\r\n        <a routerLink="/almacen/transferencia-almacen/cancelados" #cancelados routerLinkActive="is-active">\r\n            <span class="icon"><i class="fa fa-times-circle"></i></span> Cancelados\r\n            <span class="icon is-pulled-right" *ngIf="cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span>\r\n            <span *ngIf="stats.cancelados>0" class="tag is-pulled-right" [ngClass]="{ \'is-white\': cancelados.className == \'is-active\', \'is-danger\': cancelados.className != \'is-active\' }">{{  stats.cancelados }}</span>\r\n        </a>\r\n    </li>\r\n  </ul>\r\n\r\n</aside>'},kqiz:function(e,t){e.exports='<administrador-central-menu></administrador-central-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%; ">\r\n    <div class="column is-narrow is-hidden-mobile">\r\n        <administrador-central-menu-lateral></administrador-central-menu-lateral>\r\n    </div>\r\n    <div class="column" style="overflow: scroll;">\r\n        <br>\r\n        <nav class="level">\r\n            <div class="level-left">\r\n                <div class="level-item">\r\n                    <h1 class="title">\r\n                        <span class="icon is-medium"><i class="fa fa-thumbs-up"></i></span> Cumplimiento de proveedores\r\n                    </h1>\r\n                </div>\r\n            </div>\r\n\r\n        </nav>\r\n        <div class="is-fullwidth has-text-centered" *ngIf="cargandoEstadisticasGlobales">\r\n            <div class="notification is-white">\r\n                <span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando estadisticas globales...</span>\r\n            </div>\r\n        </div>\r\n        <div class="columns is-multiline "  *ngIf="!cargandoEstadisticasGlobales">\r\n            <div class="column is-4" *ngFor="let item of estadisticasGlobales">\r\n                <div class="notification is-white">\r\n                    <h1 class="title" style="font-size:1.2em;  margin-bottom:0.2em;color:#00d1b2">${{ item.total_monto_solicitado | number:\'1.2-2\' }}</h1>\r\n                    <h1 class="title" style="font-size:0.8em; margin-bottom:0.2em;">{{ item.proveedor }}</h1>\r\n                    <hr style="margin: 0.2em 0">\r\n                    <nav class="level"><div class="level-left">Entregado</div><div class="level-right"><b>{{ item.porcentaje_entregado | number:\'1.2-2\' }}%</b></div></nav>\r\n                   \r\n                   \r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="columns is-multiline"  *ngIf="!cargandoEstadisticasGlobales">\r\n            <div class="column is-12" *ngFor="let item of listaEstadisticasProveedores; let  i = index">\r\n                \r\n                <div style="display:block; background:white; border-radius:0.2em; padding: 0.5em 0; min-height:471px" *ngIf="!item.cargando && item.options">\r\n                    <nav class="level" style="margin:1em;">\r\n                        <div class="level-left">\r\n                      \x3c!--      <p><b>{{ item.proveedor }}</b> <small style="color:gray;">Estad\xedstica mensual</small></p>--\x3e\r\n                        </div>\r\n                        <div class="level-right">\r\n                            <div>\r\n                                \r\n                                <span class="tag " style="cursor:pointer" [ngClass]="{ \'is-primary\': item.tipoDatos == \'monto\' }" (click)="item.tipoDatos = \'monto\'; renderGrafica(i)">$ Monto</span>\r\n                                <span class="tag " style="cursor:pointer" [ngClass]="{ \'is-primary\': item.tipoDatos == \'claves\' }" (click)="item.tipoDatos = \'claves\'; renderGrafica(i)">Claves</span> \r\n                                <span class="tag " style="cursor:pointer" [ngClass]="{ \'is-primary\': item.tipoDatos == \'insumos\' }" (click)="item.tipoDatos = \'insumos\'; renderGrafica(i)">Insumos</span> \r\n                            </div>\r\n                            \r\n                        </div>\r\n                    </nav>\r\n                    <hr style="margin:0">\r\n                    <chart *ngIf="mostrarGraficas" [options]="item.options" style="display:block;"></chart>\r\n                </div>\r\n\r\n                <div class="is-fullwidth has-text-centered"  *ngIf="item.cargando ">\r\n                    <div class="notification is-white">\r\n                        <span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando estad\xedsticas diarias de: <b>{{item.proveedor}}</b>...</span>\r\n                    </div>\r\n                </div>\r\n                \r\n            </div>\r\n        </div>\r\n\r\n        \r\n    </div>\r\n</div>\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style="text-align:center" ><a  class="button is-danger is-inverted" (click)="ultimaPeticion(); mensajeError.mostrar = false"> <span class="icon"><i class="fa fa-refresh"></i></span> <span>Volver a intentar</span></a></p>        \r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n'},kqq3:function(e,t){e.exports='<admision-menu></admision-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%; ">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <admision-menu-lateral></admision-menu-lateral>\r\n    </div>\r\n    <div class="column" style="padding:2em;">\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n            <section class="hero is-primary" >\r\n                \r\n                <div class="hero-body" style="position:relative;">\r\n                    <a class="button  is-primary" *ngIf="!busquedaActivada" style="position:absolute; top:1em; right:1em;" (click)="listar(1)"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                    <div class="container is-fluid">\r\n                        \r\n                        <h1 class="title">\r\n                            <span class="icon is-medium"><i class="fa fa-user"></i></span> Historial del Paciente\r\n                        </h1>\r\n                        <div class="control is-grouped">\r\n                        <p class="control">\r\n                            <a class="button is-medium is-primary is-inverted "  (click)="regresar()">\r\n                            <span>Regresar</span>\r\n                            </a>\r\n                        </p>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <br>\r\n            <section class="section" style="background-color: #00d1b2;">\r\n                    <div class="container">\r\n                      <div class="heading">\r\n                        <h1 class="title" style="color: #FFF">Datos del Paciente</h1>\r\n                        <h2 class="subtitle" style="color: #FFF">\r\n                          ID: {{ id_paciente }}<BR>\r\n                          NOMBRE: {{ nombre_paciente }} <BR>\r\n                          LOCALIDAD: {{ localidad_paciente }}<BR>\r\n\r\n\r\n                        </h2>\r\n                      </div>\r\n                    </div>\r\n                  </section>\r\n            \r\n            <table class="table" *ngIf="!cargando">\r\n                <thead>\r\n                    <tr>\r\n                    <th></th>\r\n                    <th><abbr title="Paciente ID">ID</abbr></th>\r\n                    <th>Fecha Ingreso</th>\r\n                    <th>Area Ingreso</th>\r\n                    <th>Fecha Egreso</th>\r\n                    <th>Motivo Egreso</th>\r\n                    <th>Unidad</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody  >\r\n                    <tr *ngFor="let item of pacientes; let i=index">\r\n                        <th><img style="min-width: 1.5em; width:2em;" src="assets/{{ item.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></th>\r\n                        <th style="vertical-align: middle;">{{ item.id }}</th>\r\n                        <th style="vertical-align: middle;">{{ item.fecha_hora_ingreso }}</th>\r\n                        <th style="vertical-align: middle;">{{ item[\'estado_triage\'][\'descripcion\'] }}</th>\r\n                        <td style="vertical-align: middle;" *ngIf="item.fecha_hora_egreso">{{item.fecha_hora_egreso }}</td>\r\n                        <th style="vertical-align: middle;" *ngIf="!item.fecha_hora_egreso">--</th>\r\n\r\n                        <td style="vertical-align: middle;" *ngIf="item[\'motivo_egreso\']">{{item[\'motivo_egreso\'][\'descripcion\'] }}</td>\r\n                        <th style="vertical-align: middle;" *ngIf="!item[\'motivo_egreso\']">--</th>\r\n\r\n                        <td style="vertical-align: middle;" *ngIf="item[\'unidad\']">{{item[\'unidad\'][\'nombre\'] }}</td>\r\n                        <th style="vertical-align: middle;" *ngIf="!item[\'unidad\']">--</th>\r\n                        \r\n                        \r\n                        \r\n                    </tr>\r\n                    <tr *ngIf="pacientes.length == 0">\r\n                        <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n               \r\n            </table>\r\n            \r\n            \r\n        </div>\r\n    </div>        \r\n   \r\n</div>\r\n\r\n'},l5Wt:function(e,t){e.exports='html, body {\r\n\toverflow: auto !important;\r\n}\r\nngui-auto-complete {\r\n\tz-index: 999999 !important\r\n}\r\n.b-checkbox {\r\n\tline-height: 1;\r\n  }\r\n.select{\r\n\twidth: 100%;\r\n  }\r\n.b-checkbox label {\r\n\tposition: relative;\r\n\tpadding-left: 5px;\r\n\tcursor: pointer;\r\n  }\r\n.b-checkbox label::before {\r\n\tcontent: "";\r\n\tposition: absolute;\r\n\twidth: 17px;\r\n\theight: 17px;\r\n\tleft: 0;\r\n\tmargin-left: -17px;\r\n\tborder: 1px solid #dbdbdb;\r\n\tborder-radius: 3px;\r\n\tbackground-color: #fff;\r\n\t-webkit-transition: background .1s ease-in-out;\r\n\ttransition: background .1s ease-in-out;\r\n  }\r\n.b-checkbox label::after {\r\n\tposition: absolute;\r\n\twidth: 16px;\r\n\theight: 16px;\r\n\tleft: 0;\r\n\ttop: 5px;\r\n\tmargin-left: -15px;\r\n\tfont-size: 12px;\r\n\tline-height: 1;\r\n\tcolor: #363636;\r\n  }\r\n.b-checkbox input[type="checkbox"],\r\n  .b-checkbox input[type="radio"] {\r\n\topacity: 0;\r\n\tz-index: 1;\r\n\tcursor: pointer;\r\n  }\r\n.b-checkbox input[type="checkbox"]:focus + label::before,\r\n  .b-checkbox input[type="radio"]:focus + label::before {\r\n\toutline: thin dotted;\r\n\toutline: 5px auto -webkit-focus-ring-color;\r\n\toutline-offset: -2px;\r\n  }\r\n.b-checkbox input[type="checkbox"]:checked + label::after,\r\n  .b-checkbox input[type="radio"]:checked + label::after {\r\n\tfont-family: "FontAwesome";\r\n\tcontent: "\uf00c";\r\n  }\r\n.b-checkbox input[type="checkbox"]:indeterminate + label::after,\r\n  .b-checkbox input[type="radio"]:indeterminate + label::after {\r\n\tdisplay: block;\r\n\tcontent: "";\r\n\twidth: 10px;\r\n\theight: 3px;\r\n\tbackground-color: #555555;\r\n\tborder-radius: 2px;\r\n\tmargin-left: -16.5px;\r\n\tmargin-top: 7px;\r\n  }\r\n.b-checkbox input[type="checkbox"]:disabled,\r\n  .b-checkbox input[type="radio"]:disabled {\r\n\tcursor: not-allowed;\r\n  }\r\n.b-checkbox input[type="checkbox"]:disabled + label,\r\n  .b-checkbox input[type="radio"]:disabled + label {\r\n\topacity: 0.65;\r\n  }\r\n.b-checkbox input[type="checkbox"]:disabled + label::before,\r\n  .b-checkbox input[type="radio"]:disabled + label::before {\r\n\tbackground-color: whitesmoke;\r\n\tcursor: not-allowed;\r\n  }\r\n.b-checkbox.is-circular label::before {\r\n\tborder-radius: 50%;\r\n  }\r\n.b-checkbox.is-inline {\r\n\tmargin-top: 0;\r\n  }\r\n.ngui-auto-complete  ul li.item.selected {\r\n\tbackground-color: #eee !important;\r\n\tbackground: #eee !important;\r\n}\r\nselect.is-danger {\r\n\tborder:1px solid red;\r\n}\r\n\r\n\r\n'},l5m0:function(e,t){e.exports='<listar #ctrl URL="tipo-personal" titulo="Tipo de Personal / Cat\xe1logos"></listar>\r\n<app-menu-catalogo></app-menu-catalogo>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns" style="height:90%;  padding-top: 1em;">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em">\r\n        <div style="background: #FFF; border-radius: 1em;" style="height: 100%">\r\n\r\n            \x3c!-- Opciones y busqueda --\x3e\r\n            <tabla-opciones \r\n                #opciones\r\n                [ctrl]="ctrl" \r\n                [icono]="\'fa fa-users\'" \r\n                [nombre]="\'Tipo de Personal\'"\r\n                [ruta]="\'tipo-personal\'"\r\n                [ruta_pdf]="\'catalogos-parametros/lista-tipo-personal.js\'"></tabla-opciones>\r\n            \r\n                <div class="is-fullwidth has-text-centered" *ngIf="opciones.cargandoPdf" style="height: 75%">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Generando PDF...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n\r\n            <div style="overflow:auto; display:block" [style.maxHeight.px]="ctrl.tamano-300">\r\n                <table class="table" *ngIf="!ctrl.cargando && !opciones.cargandoPdf">\r\n                    <thead>\r\n                        <tr>\r\n                            <th><abbr title="Usuario ID">ID</abbr></th>\r\n                            <th>Nombre</th>\r\n                            <th style="text-align:center;">Opciones</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody *ngIf="!ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.dato; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/catalogos-parametros/tipos-personal/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/tipos-personal/editar/{{item.id}}">{{ item.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n                        <tr *ngIf="ctrl.dato.length == 0">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>\r\n                        </tr> \r\n                    </tbody>\r\n                    <tbody *ngIf="ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/catalogos-parametros/tipos-personal/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/tipos-personal/editar/{{item.id}}">{{ item.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n\r\n                        <tr *ngIf="ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [ctrl]="ctrl"></paginacion>\r\n        </div>\r\n\r\n    </div>\r\n</div>'},lHm1:function(e,t){e.exports=""},lVS0:function(e,t){e.exports='<formulario #ctrl URL="programa" titulo="Programa / Catalogo" [dato]="dato"></formulario>\r\n<app-menu-catalogo></app-menu-catalogo>\r\n<div style="height:50px;"></div>\r\n<a id="catalogoPrograma" (click)="cargarCatalogo(\'programa\', \'lista_programas\', \'estatus\');"></a>\r\n<div class="contenedor columns " style="height:90%; padding-top: 1em;">\r\n    <div class="column is-one-quarter is-hidden-mobile"  [style.maxHeight.px]="ctrl.tamano-300">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em;"  [style.maxHeight.px]="ctrl.tamano-300">\r\n        \x3c!-- formulario --\x3e\r\n        <form name="form" novalidate [formGroup]="dato" (ngSubmit)="ctrl.enviar()">\r\n            <div style="background: #FFF; overflow: hidden;">\r\n                <section class="hero is-primary">\r\n                    <div class="hero-body">\r\n                        \x3c!-- Opciones  --\x3e\r\n                        <formulario-opciones [ctrl]="ctrl" class="control is-grouped" style="position:absolute; top:8em; right:3em;">\r\n                        </formulario-opciones>\r\n                        <div class="container is-fluid">\r\n                            <h1 class="title">\r\n                                <span *ngIf="!ctrl.cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                <span *ngIf="ctrl.cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>                                {{ctrl.moduloTitulo}} Programa\r\n                            </h1>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>                    &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n                <section class="section">\r\n                    <div class="field" *ngIf="tieneid">\r\n                        <label class="label">ID:</label>\r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                            <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'id\').hasError(\'required\') && ctrl.dato.get(\'id\').touched}"\r\n                                placeholder="id" formControlName="id" readonly>\r\n                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'id\').hasError(\'required\') && ctrl.dato.get(\'id\').touched">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'id\').hasError(\'required\') && ctrl.dato.get(\'id\').touched">Este campo es requerido.</span>\r\n                        </p>\r\n                    </div>\r\n\r\n                    <div class="field">\r\n                        <label class="label">Clave:</label>\r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                            <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'clave\').hasError(\'required\')}" placeholder="clave"\r\n                                formControlName="clave">\r\n                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'clave\').hasError(\'required\')">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'clave\').hasError(\'required\')">Este campo es requerido.</span>\r\n                        </p>\r\n                    </div>\r\n\r\n                    <div class="field">\r\n                        <label class="label">Nombre:</label>\r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                            <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'nombre\').hasError(\'required\')}" placeholder="nombre"\r\n                                formControlName="nombre">\r\n                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">Este campo es requerido.</span>\r\n                        </p>\r\n                    </div>\r\n\r\n                     <div class="field">\r\n                        \x3c!--<label class="label"></label>\r\n                        <p class="b-checkbox control is-expanded  has-icon has-icon-right">\r\n                            <input type="checkbox" id="estatus" name="estatus" class="styled" formControlName="estatus" [checked]="ctrl.dato.get(\'estatus\').value == \'0\' ? false : false">\r\n                            <label for="estatus">  \r\n                                <strong> &nbsp; Programa activo</strong>\r\n                            </label>\r\n                        </p>\r\n                    --\x3e\r\n                    <br>\r\n                        \x3c!-- <p class="b-checkbox control is-expanded  has-icon has-icon-right">\r\n                            <input type="checkbox" id="estatus" class="styled" [checked]="ctrl.dato.get(\'estatus\').value == \'1\' || ctrl.dato.get(\'estatus\').value == 1 ? true : false"\r\n                                (change)="ctrl.dato.get(\'estatus\').patchValue(ctrl.dato.get(\'estatus\').value == \'1\' ? \'0\' : \'1\')">\r\n                            <label for="estatus"> \r\n                                <strong> &nbsp; Programa activo</strong>\r\n                            </label>\r\n                        </p> --\x3e\r\n                        <p class="b-checkbox control is-expanded  has-icon has-icon-right">\r\n                            <input type="checkbox" id="estatus" class="styled" [checked]="ctrl.dato.get(\'estatus\').value == \'1\' ? true : false"\r\n                                (change)="ctrl.dato.get(\'estatus\').patchValue(ctrl.dato.get(\'estatus\').value == \'1\' ? \'0\' : \'1\')">\r\n                            <label for="estatus"> \r\n                                <strong> &nbsp; Programa activo</strong>\r\n                            </label>\r\n                        </p>\r\n                    </div> \r\n                    <hr>   \r\n\r\n                    <p class="b-checkbox control is-expanded  has-icon has-icon-right">\r\n                            <input type="checkbox" id="es_multiprograma" class="styled" [checked]="ctrl.dato.get(\'es_multiprograma\').value == \'1\' ? true : false"\r\n                                (change)="ctrl.dato.get(\'es_multiprograma\').patchValue(ctrl.dato.get(\'es_multiprograma\').value == \'1\' ? \'0\' : \'1\');"\r\n                                (click)="ctrl.dato.get(\'es_multiprograma\').value == \'1\' ? limpiar_array(\'programas\', \'multiprograma\') : \'\'">\r\n                            <label for="es_multiprograma"> \r\n                                <strong> &nbsp; Multiprograma</strong>\r\n                            </label>\r\n                        </p>\r\n                        <nav class="panel"  *ngIf="ctrl.dato.get(\'es_multiprograma\').value == \'1\'">\r\n                            <div class="panel-heading">\r\n                                <div class="field">\r\n                                    <label for="Programas">\r\n                                        Programas\r\n                                    </label>\r\n                                </div>\r\n                            </div>\r\n                            <div *ngIf="cargandoCatalogo" class="has-text-centered" style="overflow: hidden; overflow-x: hidden;"  [style.maxHeight.px]="ctrl.tamano-300">\r\n                                <br>\r\n                                <br>\r\n                                <span class="tag is-primary is-large"><i class="fa fa-refresh fa-spin"></i> &nbsp; Cargando... </span>\r\n                            </div>\r\n                            <div *ngIf="!cargandoCatalogo" style="overflow: scroll; overflow-x: hidden; height: 200px;">\r\n                                <label class="panel-block" *ngFor="let val of lista_programas; let i=index">          \r\n                                    <div class="field">\r\n                                        <div class="b-checkbox">\r\n                                            <input id="{{val.id}}" class="styled" type="checkbox"\r\n                                            (click)="agregarLista(\'multiprograma\', lista_programas, val)"\r\n                                            [checked]="ctrl.dato.get(\'programas\').value ? ctrl.dato.get(\'programas\').value.indexOf(val.id) > -1 ? true : false : false">\r\n                                            <label for="{{val.id}}">\r\n                                                {{val.nombre}}\r\n                                            </label>\r\n                                        </div>\r\n                                    </div>\r\n                                </label>\r\n                            </div>\r\n                        </nav> \r\n\x3c!-- \r\n                        <nav class="panel" formGroupName="programas" *ngIf="ctrl.dato.get(\'es_multiprograma\').value == \'1\'">\r\n                            <div class="panel-heading">\r\n                                <div class="field">\r\n                                    <div class="b-checkbox is-info">\r\n                                        <input id="Programas" class="styled" type="checkbox" >\r\n                                        <label for="Programas">\r\n                                            Programas\r\n                                    </label>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div *ngIf="ctrl.cargando" class="has-text-centered" style="overflow: hidden; overflow-x: hidden; height: 450px;">\r\n                                <br>\r\n                                <br>\r\n                                <span class="tag is-primary is-large"><i class="fa fa-refresh fa-spin"></i>&nbsp; Cargando... </span>\r\n                            </div>\r\n                            <div *ngIf="!ctrl.cargando" style="overflow: scroll; overflow-x: hidden; height: 450px;">\r\n                                <label class="panel-block" *ngFor="let item of ctrl.dato.controls.programas.controls; let i2=index">          \r\n                                    <div class="field" [formGroupName]="i2">\r\n                                        <div class="b-checkbox">\r\n                                            <input id="{{item.value.id}}" class="styled" type="checkbox"\r\n                                            [checked]="ctrl.dato.get(\'programas\').value[i2].id == \'1\' ? true : false">\r\n                                            <label for="{{item.value.id}}">\r\n                                                {{item.value.nombre}} {{ctrl.dato.get(\'programas\').value[i2].id}}\r\n                                            </label>\r\n                                        </div>\r\n                                    </div>\r\n                                </label>\r\n                            </div>\r\n                        </nav> --\x3e\r\n                </section>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>'},m9Eo:function(e,t){e.exports='<section class="hero" [ngClass]=" {\'is-dark\': ctrl.busquedaActivada, \'is-primary\': !ctrl.busquedaActivada } ">\r\n    <div class="hero-body" style="position:relative;">\r\n\r\n        <div class="control is-grouped" style="position:absolute; top:0.5em; right:0em;">\r\n            \r\n            <p class="control" *ngIf="!ctrl.busquedaActivada">\r\n                <a class="button is-primary tooltip"  (click)="ctrl.listar(1)">\r\n                    <span class="icon ">\r\n                        <i class="fa fa-refresh"></i>\r\n                    </span>\r\n                    <span class="tooltiptext">Actualizar</span>\r\n                </a>\r\n            </p>\r\n\r\n            <p class="control" *ngIf="ctrl.busquedaActivada">\r\n                <a class="button is-dark tooltip"  (click)="ctrl.listarBusqueda(searchBox.value,1)" id="cargar_datos_actualizar">\r\n                    <span class="icon ">\r\n                        <i class="fa fa-refresh"></i>\r\n                    </span>\r\n                    <span class="tooltiptext">Actualizar</span>\r\n                </a>\r\n            </p>\r\n\r\n            <p class="control" *ngIf="nuevo">\r\n                <a  class="button is-{{ctrl.busquedaActivada ? \'dark\' : \'primary\'}} tooltip"  routerLink="{{url_nuevo}}">\r\n                    <span class="icon ">\r\n                        <i class="fa fa-file"></i>\r\n                    </span>\r\n                    <span class="tooltiptext">Nuevo</span>\r\n                </a>\r\n            </p>\r\n\r\n            <p class="control">\r\n                <a class="button is-{{ctrl.busquedaActivada ? \'dark\' : \'primary\'}} tooltip"  >\r\n                    <span class="icon ">\r\n                        <i class="fa fa-file-excel-o"></i>\r\n                    </span>\r\n                    <span class="tooltiptext">Exportar Excel</span>\r\n                </a>\r\n            </p>\r\n\r\n            <p class="control">\r\n                <a class="button is-{{ctrl.busquedaActivada ? \'dark\' : \'primary\'}} tooltip" (click)="imprimir()">\r\n                    <span class="icon ">\r\n                        <i class="fa fa-print"></i>\r\n                    </span>\r\n                    <span class="tooltiptext">Imprimir</span>\r\n                </a>\r\n            </p>\r\n            <p class="control">\r\n                <a class="button  is-dark tooltip" *ngIf="ctrl.busquedaActivada" (click)="ctrl.cerrar_busqueda(searchBox)">\r\n                    <span class="icon ">\r\n                        <i class="fa fa-close"></i>\r\n                    </span>\r\n                    <span class="tooltiptext">Cerrar Busqueda</span>\r\n                </a>\r\n            </p>\r\n        </div>\r\n\r\n        <div class="container is-fluid">\r\n\r\n            <h1 class="title" *ngIf="!ctrl.busquedaActivada">\r\n                <span class="icon is-medium"><i class="{{icono}}"></i></span>&nbsp; {{nombre}}\r\n            </h1>\r\n            <h1 class="title" *ngIf="ctrl.busquedaActivada">\r\n                <span class="icon is-medium"><i class="fa fa-search"></i></span> B\xfasqueda\r\n            </h1>\r\n            <div class="control is-grouped">\r\n                <p class="control is-expanded">\r\n                    <input class="input is-medium" type="text" placeholder="Buscar" #searchBox id="search-box" (keyup)="ctrl.buscar(searchBox.value)">\r\n                </p>\r\n                \r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</section>\r\n\r\n<div class="is-fullwidth has-text-centered" *ngIf="ctrl.cargando">\r\n    <br>\r\n    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n    <br>\r\n    <br>\r\n</div>'},"mA/I":function(e,t){e.exports='<listar #ctrl URL="tipo-movimiento" titulo="Tipo Movimiento / Catalogo"></listar>\r\n<app-menu-catalogo></app-menu-catalogo>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:90%;  padding-top: 1em;">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em">\r\n        <div style="background: #FFF; border-radius: 1em;">\r\n\r\n            \x3c!-- Opciones y busqueda --\x3e\r\n\r\n            <tabla-opciones \r\n                #opciones\r\n                [ctrl]="ctrl"\r\n                [nombre]="\'Tipos de movimientos\'"\r\n                [ruta]="\'tipo-movimiento\'"\r\n                [ruta_pdf]="\'catalogos-parametros/lista-tipo-movimientos.js\'"></tabla-opciones>\r\n\r\n            <div style="overflow:auto; display:block" [style.maxHeight.px]="ctrl.tamano-300">\r\n                <div class="is-fullwidth has-text-centered" *ngIf="opciones.cargandoPdf">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Generando PDF...</span></span>\r\n                    <br>\r\n                    <br>\r\n                </div>\r\n                <table class="table" *ngIf="!ctrl.cargando && !opciones.cargandoPdf">\r\n                    <thead>\r\n                        <tr>\r\n                            <th><abbr title="Usuario ID">ID</abbr></th>\r\n                            <th>Tipo</th>\r\n                            <th>Nombre</th>\r\n                            <th style="text-align:center;">Opciones</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody *ngIf="!ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.dato; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/catalogos-parametros/tipos-movimientos/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/tipos-movimientos/editar/{{item.id}}">{{ item.tipo }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/tipos-movimientos/editar/{{item.id}}">{{ item.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n                        <tr *ngIf="ctrl.dato.length == 0">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                    <tbody *ngIf="ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/catalogos-parametros/tipos-movimientos/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/tipos-movimientos/editar/{{item.id}}">{{ item.tipo }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/tipos-movimientos/editar/{{item.id}}">{{ item.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n\r\n                        <tr *ngIf="ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [ctrl]="ctrl"></paginacion>\r\n\r\n        </div>\r\n\r\n    </div>\r\n</div>'},mHS4:function(e,t){e.exports='<menu-farmacia></menu-farmacia>\r\n\r\n<div style="height:50px;"></div>\r\n<section style="padding: 1em;">\r\n  <div class="control is-grouped">\r\n    <p class="control is-expanded">\r\n        <input class="input is-medium" type="text" placeholder="Buscar" [(ngModel)] = "busqueda" id="search-box">\r\n    </p>\r\n    <p class="control">\r\n        <a class="button is-medium is-primary is-inverted" [ngClass]="{ \'is-disabled\': busqueda==\'\'}" (click)="busqueda=\'\'">\r\n        <span class="icon"><i class="fa fa-close"></i></span>\r\n        </a>\r\n    </p>\r\n  </div>\r\n\r\n</section>\r\n<section style="padding: 1em;">\r\n    <section class="contenedor columns is-multiline is-mobile">\r\n        <div class="column is-1-desktop is-2-tablet is-3-mobile" *ngFor="let item of accesosDirectosAutorizados | buscarModulo: busqueda">\r\n            <a href="#" title="{{ item.titulo}}" class="item" routerLink="{{item.url}}"  routerLinkActive="active">\r\n                <figure class="image " style="height: auto; width: 100%; ">\r\n                    <img src="{{ item.icono }}" alt="{{item.titulo}}">                            \r\n                </figure>\r\n                <span class="is-hidden-mobile">{{ item.titulo}}</span>\r\n                <span class="is-hidden-tablet is-hidden-desktop"><small>{{ item.titulo}}</small></span>\r\n            </a>\r\n        </div>\r\n    </section>\r\n    <hr>\r\n    <section class="contenedor columns is-multiline is-mobile">\r\n        <div class="column is-1-desktop is-2-tablet is-3-mobile" *ngFor="let item of modulosAutorizados | buscarModulo: busqueda">\r\n            <a href="#" title="{{ item.titulo}}" style="position: relative;" class="item" routerLink="{{item.url}}" routerLinkActive="active">\r\n                \r\n                <figure class="image " style="height: auto; width: 100%; ">\r\n                    <img src="{{ item.icono }}" alt="{{item.titulo}}">                            \r\n                </figure>\r\n                <span class="is-hidden-mobile">{{ item.titulo}}</span>\r\n                <span class="is-hidden-tablet is-hidden-desktop"><small>{{ item.titulo}}</small></span>\r\n                <span *ngIf="item.badge>0" class="tag is-danger" style="position:absolute; top:0px; right:0px;">{{ item.badge }}</span>\r\n            </a>\r\n        </div>\r\n    </section>\r\n</section>\r\n\r\n'},mZto:function(e,t){e.exports='<listar #ctrl URL="via-administracion" titulo="VA / Catalogo"></listar>\r\n<app-menu-catalogo></app-menu-catalogo>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%; padding-top: 1em;">\r\n    <div class="column is-one-quarter is-hidden-mobile"> \r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em">\r\n        <div style="background: #FFF; border-radius: 1em; ">\r\n\r\n            \x3c!-- Opciones y busqueda --\x3e\r\n            <tabla-opciones \r\n                    #opciones\r\n                    [ctrl]="ctrl"\r\n                    [nombre]="\'V\xedas de administraci\xf3n\'"\r\n                    [ruta]="\'via-administracion\'"\r\n                    [ruta_pdf]="\'catalogos-parametros/lista-vias-administracion.js\'"></tabla-opciones>\r\n                \r\n            <div class="is-fullwidth has-text-centered" *ngIf="opciones.cargandoPdf" style="height: 75%">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Generando PDF...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n\r\n            <div style="overflow:auto; display:block" [style.maxHeight.px]="ctrl.tamano-300">\r\n                <table class="table" *ngIf="!ctrl.cargando && !opciones.cargandoPdf">\r\n                    <thead>\r\n                        <tr>\r\n                            <th><abbr title="Usuario ID">ID</abbr></th>\r\n                            <th>Nombre</th>\r\n                            <th style="text-align:center;">Opciones</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody *ngIf="!ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.dato; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/catalogos-parametros/vias-administracion/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/vias-administracion/editar/{{item.id}}">{{ item.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n                        <tr *ngIf="ctrl.dato.length == 0">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                    <tbody *ngIf="ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/catalogos-parametros/vias-administracion/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/vias-administracion/editar/{{item.id}}">{{ item.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n\r\n                        <tr *ngIf="ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [ctrl]="ctrl"></paginacion>\r\n\r\n        </div>\r\n\r\n    </div>\r\n</div>'},mvg0:function(e,t){e.exports=".item {\r\n    cursor: pointer;\r\n}\r\n.item.seleccionado {\r\n    background: #CCC;\r\n}\r\n.item.seleccionado .icon {\r\n    color:white !important;\r\n}\r\n.item.seleccionado .item-detalle {\r\n    display: inherit;\r\n}\r\n.item .item-detalle {\r\n    display: none;\r\n}\r\n.item.asignado {\r\n    background: #DDD;\r\n    color: #777;\r\n}\r\ntr.filtro td,\r\ntr.filtro th {\r\n    color:#FFF;\r\n    background: #4a4a4a !important;\r\n}\r\n.contenedor-tabla {\r\n    overflow: auto; width:100%; height:99% !important; display:block; position:absolute; left:0; top:0;\r\n}\r\n.contenedor-tabla table { border-radius: 3px; }\r\n@media screen and (max-width: 768px) {\r\n    .contenedor-tabla { position: relative; }\r\n\r\n    .tile.notification { padding:0px !important; }\r\n}"},mz03:function(e,t){e.exports='<administrador-central-menu></administrador-central-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%">\r\n    <div class="column is-narrow is-hidden-mobile">\r\n        <administrador-central-menu-lateral></administrador-central-menu-lateral>\r\n    </div>\r\n    <div class="column" style="overflow:scroll;">\r\n      \r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden; margin:1em;" >\r\n            <section class="hero is-primary"  >\r\n                \r\n                <div class="hero-body" style="position:relative;">                    \r\n                    \r\n                    \r\n                    <div class="container is-fluid">\r\n                        <nav class="level">\r\n                            <div class="level-left">\r\n                              <h1 class="title">\r\n                                  <span class="icon is-medium"><i class="fa fa-exchange"></i></span> $ Transferencias\r\n                              </h1>\r\n                            </div>\r\n                            <div class="level-right">\r\n                                <div class="block">                               \r\n                                  <button class="button is-primary is-inverted" (click)="nuevaTransferenciaArrastrarSaldos()"><span class="icon"><i class="fa fa-arrow-circle-up"></i></span> <span>Arrastrar saldos</span></button>\r\n                                  <button class="button is-primary is-inverted" (click)="nuevaTransferencia()"><span class="icon"><i class="fa fa-plus"></i></span> <span>Nueva transferencia</span></button>\r\n                                </div>\r\n                            </div>\r\n                        </nav>                        \r\n                        <div class="columns">                            \r\n                            <div class="column">\r\n                                <label for="jurisdicciones">Origen:</label>                       \r\n                                <p class="control is-expanded">\r\n                                    <input class="input " type="text" placeholder="CLUES / Nombre" [(ngModel)] = "filtro_clues_origen" >\r\n                                </p>                 \r\n                          \r\n                            </div>\r\n                            <div class="column">\r\n                                <label for="jurisdicciones">Destino:</label>                             \r\n                                <p class="control is-expanded">\r\n                                    <input class="input " type="text" placeholder="CLUES / Nombre" [(ngModel)] = "filtro_clues_destino">\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                        <div class="columns">   \r\n                            <div class="column">\r\n                                <div class="columns">\r\n                                    <div class="column">\r\n                                        <label>Mes:</label>                       \r\n                                        <p class="control is-expanded">\r\n                                            <span class="select is-fullwidth">\r\n                                            <select [(ngModel)]="filtro_mes_origen">\r\n                                                <option value="-1">Todos</option>\r\n                                                <option *ngFor="let item of listaMeses" [value]="item.mes">{{ item.nombre }}</option>\r\n                                            </select>\r\n                                            </span>\r\n                                        </p> \r\n                                    </div>\r\n                                    <div class="column">\r\n                                        <label >A\xf1o:</label>                       \r\n                                        <p class="control is-expanded">\r\n                                            <span class="select is-fullwidth">\r\n                                            <select  [(ngModel)]="filtro_anio_origen">\r\n                                                <option value="-1" >Todos</option>\r\n                                                <option *ngFor="let item of listaAnios" [value]="item.anio">{{ item.anio }}</option>\r\n                                            </select>\r\n                                            </span>\r\n                                        </p> \r\n                                    </div>\r\n                                </div>                                \r\n                            </div>\r\n                            <div class="column">\r\n                                <div class="columns">\r\n                                    <div class="column">\r\n                                        <label>Mes:</label>                       \r\n                                        <p class="control is-expanded">\r\n                                            <span class="select is-fullwidth">\r\n                                            <select [(ngModel)]="filtro_mes_destino">\r\n                                                <option value="-1">Todos</option>\r\n                                                <option *ngFor="let item of listaMeses" [value]="item.mes">{{ item.nombre }}</option>\r\n                                            </select>\r\n                                            </span>\r\n                                        </p> \r\n                                    </div>\r\n                                    <div class="column">\r\n                                        <label >A\xf1o:</label>                       \r\n                                        <p class="control is-expanded">\r\n                                            <span class="select is-fullwidth">\r\n                                            <select  [(ngModel)]="filtro_anio_destino">\r\n                                                <option value="-1" >Todos</option>\r\n                                                <option *ngFor="let item of listaAnios" [value]="item.anio">{{ item.anio }}</option>\r\n                                            </select>\r\n                                            </span>\r\n                                        </p> \r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <nav class="level">\r\n                            <div class="level-left"></div>\r\n                            <div class="level-right">\r\n                                <div class="block">\r\n                                <button *ngIf=" filtro_clues_origen != \'\'|| filtro_clues_destino != \'\'  || filtro_mes_origen != -1 || filtro_anio_origen != -1 || filtro_mes_destino != -1 || filtro_anio_destino  != -1 " class="button is-primary" (click)="filtro_clues_origen = \'\'; filtro_clues_destino = \'\'; filtro_mes_origen = -1; filtro_anio_origen = -1; filtro_mes_destino = -1; filtro_anio_destino = -1;"><span class="icon"><i class="fa fa-times"></i></span> <span>Limpiar b\xfasqueda</span></button>\r\n                                <button class="button is-primary is-inverted" (click)="listar(1)"><span class="icon"><i class="fa fa-search"></i></span> <span>Buscar</span></button>\r\n                                </div>\r\n                            </div>\r\n                        </nav>\r\n                    \r\n                        \r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n            \r\n            <table class="table is-bordered is-striped has-text-centered" style="font-size:0.7em;" *ngIf="!cargando">\r\n                <thead>\r\n                    <tr>\r\n                        <th colspan="3" style="text-align: center;">Origen</th>\r\n                        <th colspan="3" style="text-align: center;">Destino</th>\r\n                        <th colspan="3" style="text-align: center;">Presupuesto transferido</th>\r\n                        <th colspan="2"></th>\r\n                    </tr>\r\n                    <tr>\r\n                        <th style="text-align: center;">Clues</th>\r\n                        <th style="text-align: center;">Mes</th>\r\n                        <th style="text-align: center;">A\xf1o</th>\r\n                        <th style="text-align: center;">Clues</th>\r\n                        <th style="text-align: center;">Mes</th>\r\n                        <th style="text-align: center;">A\xf1o</th>\r\n                        <th style="text-align: center;"><abbr title="Causes y Material de Curaci\xf3n">CA y MC</abbr></th>\r\n                        <th style="text-align: center;"><abbr title="No causes">NCA</abbr></th>\r\n                        \x3c!--th style="text-align: center;"><abbr title="Material de curaci\xf3n">MC</abbr></th--\x3e\r\n                        <th style="text-align: center;">Usuario</th>\r\n                        <th style="text-align: center;">Fecha</th>                    \r\n                    </tr>\r\n                </thead>\r\n                \r\n                <tbody>\r\n                    <tr *ngFor="let item of lista; let i=index">                        \r\n                        <td style="vertical-align: middle; text-align: center;">\r\n                            <abbr title="{{ item.almacen_origen_nombre }}"><span class="icon is-small"><i class="fa fa-{{(item.almacen_origen_tipo == \'ALMPAL\')?\'hospital-o\':\'building\'}}"></i></span></abbr>\r\n                            <abbr title="{{ item.unidad_medica_origen }}">{{ item.clues_origen }}</abbr>\r\n                        </td>\r\n                        <td style="vertical-align: middle; text-align: center;">{{ item.mes_origen }}</td>\r\n                        <td style="vertical-align: middle; text-align: center;">{{ item.anio_origen }}</td>\r\n                        <td style="vertical-align: middle; text-align: center;">\r\n                            <abbr title="{{ item.almacen_destino_nombre }}"><span class="icon is-small"><i class="fa fa-{{(item.almacen_destino_tipo == \'ALMPAL\')?\'hospital-o\':\'building\'}}"></i></span></abbr>\r\n                            <abbr title="{{ item.unidad_medica_destino }}">{{ item.clues_destino }}</abbr>\r\n                        </td>\r\n                        <td style="vertical-align: middle; text-align: center;">{{ item.mes_destino }}</td>\r\n                        <td style="vertical-align: middle; text-align: center;">{{ item.anio_destino }}</td>\r\n                        <td style="vertical-align: middle; text-align: right;">{{ item.insumos  | currency:\'USD\':true:\'1.2-2\' }}</td>\r\n                        <td style="vertical-align: middle; text-align: right;">{{ item.no_causes  | currency:\'USD\':true:\'1.2-2\'}}</td>\r\n                        \x3c!--td style="vertical-align: middle; text-align: right;">{{ item.material_curacion | currency:\'USD\':true:\'1.2-2\' }}</td--\x3e\r\n                        <td style="vertical-align: middle; text-align: center;">{{ item.usuario_id }}</td>\r\n                        <td style="vertical-align: middle; text-align: center;">{{ item.created_at }}</td>\r\n                    </tr>\r\n                    <tr *ngIf="lista.length == 0">\r\n                        <td colspan="11" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            \r\n            <paginacion \r\n                [total]="total" \r\n                [paginasTotales]="paginasTotales" \r\n                [resultadosPorPagina]="resultadosPorPagina" \r\n                [paginaActual]="paginaActual" \r\n                [indicePaginas]="indicePaginas"\r\n                (onSiguiente)="paginaSiguiente()" \r\n                (onAnterior)="paginaAnterior()" \r\n                (onListar)="listar($event)" \r\n                *ngIf="total>0 && total > resultadosPorPagina"></paginacion>         \r\n        </div>\r\n        \r\n    </div>\r\n</div>\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style="text-align:center" ><a  class="button is-danger is-inverted" (click)="ultimaPeticion(); mensajeError.mostrar = false"> <span class="icon"><i class="fa fa-refresh"></i></span> <span>Volver a intentar</span></a></p>        \r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n\x3c!-- Nueva Transferencia --\x3e\r\n<div class="modal" [ngClass]="{ \'is-active\': mostrarVentanaNuevaTransferencia }">\r\n  <div class="modal-background" (click)="mostrarVentanaNuevaTransferencia = false"></div>\r\n  <div class="modal-card" style="width:95%; height: 100%;">\r\n    <header class="modal-card-head">\r\n      <p class="modal-card-title"><span class="icon"><i class="fa fa-exchange"></i></span> Nueva transferencia</p>\r\n      <button class="delete" (click)="mostrarVentanaNuevaTransferencia = false"></button>\r\n    </header>\r\n    <section class="modal-card-body">\r\n        <div class="columns">\r\n            <div class="column">\r\n                <label><b>Unidad Medica Origen:</b></label>\r\n                <p class="control is-expanded">\r\n                    <span class="select is-fullwidth">\r\n                    <select #cluesOrigen  (change)="obtenerPresupuestoOrigen()"  [(ngModel)]="transaccion_clues_origen">\r\n                        \x3c!--option [ngValue]="{clues:\'\'}" [selected]="true">Elija una unidad m\xe9dica</option--\x3e\r\n                        <option *ngFor="let item of listaClues" [ngValue]="item">{{ item.clues }} - {{ item.unidad_medica.nombre }}</option>\r\n                    </select>\r\n                    </span>\r\n                </p> \r\n\r\n                <label><b>Almacen Origen:</b></label>      \r\n                <p class="control is-expanded">\r\n                    <span class="select is-fullwidth">\r\n                    <select #almacenOrigen  (change)="obtenerPresupuestoOrigen()"  [(ngModel)]="transaccion_almacen_origen">\r\n                        <option value="">Elija una unidad m\xe9dica</option>\r\n                        <option *ngFor="let item of listaAlmacenesOrigen" [value]="item.id">[{{item.clues}}] {{ item.nombre }}</option>\r\n                    </select>\r\n                    </span>\r\n                </p> \r\n\r\n                <div class="columns">\r\n                    <div class="column">\r\n                        <label>Mes:</label>                       \r\n                        <p class="control is-expanded">\r\n                            <span class="select is-fullwidth">\r\n                            <select #mesOrigen  (change)="obtenerPresupuestoOrigen()"  [(ngModel)]="transaccion_mes_origen">\r\n                                <option value="-1">Elija un mes</option>\r\n                                <option *ngFor="let item of listaMeses" [value]="item.mes">{{ item.nombre }}</option>\r\n                            </select>\r\n                            </span>\r\n                        </p> \r\n                    </div>\r\n                    <div class="column">\r\n                        <label >A\xf1o:</label>                       \r\n                        <p class="control is-expanded">\r\n                            <span class="select is-fullwidth">\r\n                            <select #anioOrigen (change)="obtenerPresupuestoOrigen()"  [(ngModel)]="transaccion_anio_origen">\r\n                                <option value="-1" *ngIf="listaAnios.length>1">Elija un a\xf1o</option>\r\n                                <option *ngFor="let item of listaAnios" [value]="item.anio">{{ item.anio }}</option>\r\n                            </select>\r\n                            </span>\r\n                        </p> \r\n                    </div>\r\n                </div>\r\n                <table class="table" *ngIf="!datosOrigenValidos && !conPresupuestoOrigen">\r\n                    <tbody>\r\n                        <tr *ngIf="!conPresupuestoOrigen">\r\n                            <th>Este almacen no tiene presupuesto asignado en el mes especificado</th>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n                <table class="table" *ngIf="datosOrigenValidos">\r\n                    <thead>\r\n                        <tr><th colspan="2">Presupuesto origen (disponible):</th></tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr *ngIf="conPresupuestoOrigen">\r\n                            <th>Causes y Material de Curaci\xf3n</th>\r\n                            <td [ngClass]="{\'rojo\':presupuestoOrigen.insumos < 0}"> <span *ngIf="cargandoPresupuestoOrigen"><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>&nbsp;Cargando...</span> <span *ngIf="!cargandoPresupuestoOrigen">{{ presupuestoOrigen.insumos | currency:\'USD\':true:\'1.2-2\' }}</span></td>\r\n                        </tr>\r\n                        <tr *ngIf="conPresupuestoOrigen">\r\n                            <th>No causes</th>\r\n                            <td [ngClass]="{\'rojo\':presupuestoOrigen.no_causes < 0}"> <span *ngIf="cargandoPresupuestoOrigen"><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>&nbsp;Cargando...</span> <span *ngIf="!cargandoPresupuestoOrigen">{{ presupuestoOrigen.no_causes | currency:\'USD\':true:\'1.2-2\' }}</span></td>\r\n                        </tr>\r\n                        \x3c!--tr *ngIf="conPresupuestoOrigen">\r\n                            <th>Causes</th>\r\n                            <td [ngClass]="{\'rojo\':presupuestoOrigen.causes < 0}"> <span *ngIf="cargandoPresupuestoOrigen"><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>&nbsp;Cargando...</span> <span *ngIf="!cargandoPresupuestoOrigen">{{ presupuestoOrigen.causes | currency:\'USD\':true:\'1.2-2\' }}</span></td>\r\n                        </tr>\r\n                        <tr *ngIf="conPresupuestoOrigen">\r\n                            <th>Material de curaci\xf3n</th>\r\n                            <td [ngClass]="{\'rojo\':presupuestoOrigen.material_curacion < 0}"> <span *ngIf="cargandoPresupuestoOrigen"><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>&nbsp;Cargando...</span> <span *ngIf="!cargandoPresupuestoOrigen">{{ presupuestoOrigen.material_curacion | currency:\'USD\':true:\'1.2-2\' }}</span></td>\r\n                        </tr--\x3e\r\n                    </tbody>                    \r\n                </table>\r\n            </div>\r\n            <div class="column is-1">\r\n                <div class="has-text-centered">\r\n                    <div class="field is-grouped">\r\n                        <p class="control">\r\n                            <a class="button is-large is-fullwidth" [ngClass]="{\'is-active\':ligarCluesOrigenDestino}" (click)="ligarCluesOrigenDestino = !ligarCluesOrigenDestino" title="Ligar la CLUES de Origen y Destino">\r\n                                <span class="icon is-large">\r\n                                <i class="fa" [ngClass]="{\'fa-lock\':ligarCluesOrigenDestino,\'fa-unlock\':!ligarCluesOrigenDestino}"></i>\r\n                                </span>\r\n                            </a>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </div>        \r\n            <div class="column">\r\n                <label ><b>Unidad Medica Destino:</b></label>\r\n                <p class="control is-expanded">\r\n                    <span class="select is-fullwidth">\r\n                    <select #cluesDestino (change)="obtenerPresupuestoDestino()" [(ngModel)]="transaccion_clues_destino" [disabled]="ligarCluesOrigenDestino">\r\n                        \x3c!--option value="">Elija una unidad m\xe9dica</option--\x3e\r\n                        <option *ngFor="let item of listaClues" [ngValue]="item">{{ item.clues }} - {{ item.unidad_medica.nombre }}</option>\r\n                    </select>\r\n                    </span>\r\n                </p>\r\n\r\n                <label ><b>Almacen Destino:</b></label>\r\n                <p class="control is-expanded">\r\n                    <span class="select is-fullwidth">\r\n                    <select #almacenOrigen  (change)="obtenerPresupuestoDestino()"  [(ngModel)]="transaccion_almacen_destino">\r\n                        <option value="">Elija una unidad m\xe9dica</option>\r\n                        <option *ngFor="let item of listaAlmacenesDestino" [value]="item.id">[{{item.clues}}] {{ item.nombre }}</option>\r\n                    </select>\r\n                    </span>\r\n                </p> \r\n\r\n                <div class="columns">\r\n                    <div class="column">\r\n                        <label >Mes:</label>                       \r\n                        <p class="control is-expanded">\r\n                            <span class="select is-fullwidth">\r\n                            <select #mesDestino (change)="obtenerPresupuestoDestino()" [(ngModel)]="transaccion_mes_destino">\r\n                                <option value="-1">Elija un mes</option>\r\n                                <option *ngFor="let item of listaMeses" [value]="item.mes">{{ item.nombre }}</option>\r\n                            </select>\r\n                            </span>\r\n                        </p> \r\n                    </div>\r\n                    <div class="column">\r\n                        <label>A\xf1o:</label>                       \r\n                        <p class="control is-expanded">\r\n                            <span class="select is-fullwidth">\r\n                            <select #anioDestino  (change)="obtenerPresupuestoDestino()" [(ngModel)]="transaccion_anio_destino">\r\n                                <option value="-1" *ngIf="listaAnios.length>1">Elija un a\xf1o</option>\r\n                                <option *ngFor="let item of listaAnios" value="{{item.anio}}">{{ item.anio }}</option>\r\n                            </select>\r\n                            </span>\r\n                        </p> \r\n                    </div>\r\n                </div>\r\n                <table class="table" *ngIf="!datosDestinoValidos && !conPresupuestoDestino">\r\n                    <tbody>\r\n                        <tr *ngIf="!conPresupuestoDestino">\r\n                            <th>Este almacen no tiene presupuesto asignado en el mes especificado</th>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n                <table class="table" *ngIf="datosDestinoValidos">\r\n                    <thead>\r\n                        <tr><th colspan="2">Presupuesto destino (disponible):</th></tr>\r\n                    </thead>\r\n                     <tbody>\r\n                        <tr *ngIf="conPresupuestoDestino">\r\n                            <th>Causes y Material de Curaci\xf3n</th>\r\n                            <td [ngClass]="{\'rojo\':presupuestoDestino.insumos < 0}"> <span *ngIf="cargandoPresupuestoDestino"><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>&nbsp;Cargando...</span> <span *ngIf="!cargandoPresupuestoDestino">{{ presupuestoDestino.insumos | currency:\'USD\':true:\'1.2-2\' }}</span></td>\r\n                        </tr>\r\n                        <tr *ngIf="conPresupuestoDestino">\r\n                            <th>No causes</th>\r\n                            <td [ngClass]="{\'rojo\':presupuestoDestino.no_causes < 0}"> <span *ngIf="cargandoPresupuestoDestino"><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>&nbsp;Cargando...</span> <span *ngIf="!cargandoPresupuestoDestino">{{ presupuestoDestino.no_causes | currency:\'USD\':true:\'1.2-2\' }}</span></td>\r\n                        </tr>\r\n                        \x3c!--tr *ngIf="conPresupuestoDestino">\r\n                            <th>Causes</th>\r\n                            <td [ngClass]="{\'rojo\':presupuestoDestino.causes < 0}"> <span *ngIf="cargandoPresupuestoDestino"><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>&nbsp;Cargando...</span> <span *ngIf="!cargandoPresupuestoDestino">{{ presupuestoDestino.causes | currency:\'USD\':true:\'1.2-2\' }}</span></td>\r\n                        </tr>\r\n                        <tr *ngIf="conPresupuestoDestino">\r\n                            <th>Material de curaci\xf3n</th>\r\n                            <td [ngClass]="{\'rojo\':presupuestoDestino.material_curacion < 0}"> <span *ngIf="cargandoPresupuestoDestino"><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>&nbsp;Cargando...</span> <span *ngIf="!cargandoPresupuestoDestino">{{ presupuestoDestino.material_curacion | currency:\'USD\':true:\'1.2-2\' }}</span></td>\r\n                        </tr--\x3e\r\n                    </tbody>                    \r\n                </table>\r\n            </div>\r\n        </div>\r\n        <div *ngIf="datosDestinoValidos && datosOrigenValidos">\r\n            <h1 class="title is-4">Presupuesto a transferir:</h1>\r\n            <div class="columns">\r\n                <div class="column">\r\n                    <div class="field">\r\n                        <label for="monto">Causes y Material de Curaci\xf3n:</label>\r\n                        <p class="control is-expanded">\r\n                            <input class="input is-medium" type="text" placeholder="$ 0.00" [(ngModel)] = "monto_transferir_insumos" [ngClass]="{ \'is-danger\': errores_transferencia.insumos != \'\' }" >\r\n                        </p>\r\n                        <p class="help is-danger" *ngIf="errores_transferencia.insumos != \'\'">{{ errores_transferencia.insumos }}</p>\r\n                    </div>        \r\n                </div>\r\n                <div class="column">\r\n                    <div class="field">\r\n                        <label for="monto">No Causes:</label>\r\n                        <p class="control is-expanded">\r\n                            <input class="input is-medium" type="text" placeholder="$ 0.00" [(ngModel)] = "monto_transferir_no_causes" [ngClass]="{ \'is-danger\': errores_transferencia.no_causes != \'\' }" >\r\n                        </p> \r\n                        <p class="help is-danger" *ngIf="errores_transferencia.no_causes != \'\'">{{ errores_transferencia.no_causes }}</p>\r\n                    </div>        \r\n                </div>\r\n                \x3c!--div class="column">\r\n                    <div class="field">\r\n                        <label for="monto">Causes:</label>\r\n                        <p class="control is-expanded">\r\n                            <input class="input is-medium" type="text" placeholder="$ 0.00" [(ngModel)] = "monto_transferir_causes" [ngClass]="{ \'is-danger\': errores_transferencia.causes != \'\' }" >\r\n                        </p>\r\n                        <p class="help is-danger" *ngIf="errores_transferencia.causes != \'\'">{{ errores_transferencia.causes }}</p>\r\n                    </div>        \r\n                </div>\r\n                <div class="column">\r\n                    <div class="field">\r\n                        <label for="monto">Material de curaci\xf3n:</label>\r\n                        <p class="control is-expanded">\r\n                            <input class="input is-medium" type="text" placeholder="$ 0.00" [(ngModel)] = "monto_transferir_material_curacion" [ngClass]="{ \'is-danger\': errores_transferencia.material_curacion != \'\' }" >\r\n                        </p> \r\n                        <p class="help is-danger" *ngIf="errores_transferencia.material_curacion != \'\'">{{ errores_transferencia.material_curacion }}</p>\r\n                    </div>        \r\n                </div--\x3e\r\n            </div>\r\n        </div>\r\n      \r\n      \r\n    </section>\r\n    <footer class="modal-card-foot">\r\n      <a class="button is-danger" (click)="realizarTransferencia()" [ngClass]=" { \'is-loading\': enviando_transferencia, \'is-disabled\': !datosDestinoValidos || !datosOrigenValidos || ( (monto_transferir_insumos == 0 || !monto_transferir_insumos) && (monto_transferir_no_causes == 0 || !monto_transferir_no_causes)  ) }"><span class="icon"><i class="fa fa-exchange"></i></span> <span>Realizar transferencia</span></a>\r\n      <a class="button" (click)="mostrarVentanaNuevaTransferencia = false">Cerrar</a>\r\n    </footer>\r\n  </div>\r\n</div>\r\n\r\n\r\n\x3c!-- Arrastrar Saldos --\x3e\r\n<div class="modal" [ngClass]="{ \'is-active\': mostrarVentanaArrastrarSaldos }">\r\n  <div class="modal-background" (click)="mostrarVentanaArrastrarSaldos = false"></div>\r\n  <div class="modal-card" style="width:95%; height: 100%;">\r\n    <header class="modal-card-head">\r\n      <p class="modal-card-title"><span class="icon"><i class="fa fa-arrow-circle-up"></i></span> Transferir saldos al mes actual</p>\r\n      <button class="delete" (click)="mostrarVentanaArrastrarSaldos = false"></button>\r\n    </header>\r\n    <section class="modal-card-body">\r\n        <div class="field">\r\n            <label>Mes/A\xf1o:</label>                       \r\n            <p class="control is-expanded">\r\n                <span class="select is-fullwidth">\r\n                <select   (change)="obtenerCluesConSaldo()"  [(ngModel)]="fecha_arrastrar_saldos">\r\n                    <option value="-1">Elija una fecha:</option>\r\n                    <option *ngFor="let item of listaMesesAniosAnteriorFechaActual" [value]="item.fecha">{{ item.mes_nombre }}/{{ item.anio }}</option>\r\n                </select>\r\n                </span>\r\n            </p> \r\n        </div>\r\n        <div class="is-fullwidth has-text-centered" *ngIf="cargando_clues_con_saldo">\r\n            <br>\r\n            <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n            <br>\r\n            <br>\r\n        </div>\r\n        <table class="table" style="font-size:0.8em;" *ngIf="fecha_arrastrar_saldos != -1 && !cargando_clues_con_saldo">\r\n            <thead>\r\n                <tr>\r\n                    <td style="width:42px; cursor:pointer;" (click)="seleccionarTodasCluesConSaldo()">\r\n                      <span class="icon" style="color:#00d1b2"><i class="fa" [ngClass]="{ \'fa-square-o\': !todas_clues_con_saldo_seleccionadas, \'fa-check-square\': todas_clues_con_saldo_seleccionadas }"></i></span>\r\n                    </td>\r\n                    <th style="text-align: center;">Clues</th>\r\n                    <th >Nombre</th>\r\n                    <th style="text-align: center;"><abbr title="Causes">CA</abbr></th>\r\n                    <th style="text-align: center;"><abbr title="No causes">NCA</abbr></th>\r\n                    <th style="text-align: center;"><abbr title="Material de curaci\xf3n">MC</abbr></th>   \r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr *ngFor="let item of listaCluesConSaldo" (click)="item.seleccionada = !item.seleccionada" style="cursor:pointer">\r\n                    <td><span class="icon"><i class="fa" [ngClass]="{ \'fa-square-o\': !item.seleccionada, \'fa-check-square\': item.seleccionada }"></i></span></td>\r\n                    <td style="text-align: center;">{{ item.clues }}</td>\r\n                    <td>{{ item.unidad_medica.nombre }}</td>\r\n                    <td style="text-align: right;">{{ item.causes_disponible | currency:\'USD\':true:\'1.2-2\' }}</td>\r\n                    <td style="text-align: right;">{{ item.no_causes_disponible | currency:\'USD\':true:\'1.2-2\' }}</td>\r\n                    <td style="text-align: right;">{{ item.material_curacion_disponible | currency:\'USD\':true:\'1.2-2\' }}</td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n      \r\n    </section>\r\n    <footer class="modal-card-foot">\r\n      <a class="button is-danger" (click)="transferirSaldosAlMesActual()" [ngClass]=" { \'is-disabled\': fecha_arrastrar_saldos == -1, \'is-loading\': enviando_transferencia_saldos_mes_actual  }"><span class="icon"><i class="fa fa-exchange"></i></span> <span> Transferir saldos al mes actual</span></a>\r\n      <a class="button" (click)="mostrarVentanaArrastrarSaldos = false">Cerrar</a>\r\n    </footer>\r\n  </div>\r\n</div>'},nJrw:function(e,t){e.exports=".top-bar {\r\n    padding: 1em ; \r\n    font-size: 1.2em; \r\n    background: #FFF;    \r\n    color: #333;\r\n    position: relative;\r\n}\r\n.top-bar.is-primary {\r\n    background: #00d1b2;\r\n    color:#FFF;\r\n}\r\n.top-bar.is-primary h1 { color: #FFF; }\r\n.top-bar.is-danger {\r\n    background: #ff3860;\r\n    color:#FFF;\r\n}\r\n.top-bar.is-dark {\r\n    background: #333;\r\n    color:#FFF\r\n}\r\n.top-bar.is-dark h1 { color: #FFF;}"},nL84:function(e,t){e.exports=""},ngrC:function(e,t){e.exports=".item {\r\n    cursor: pointer;\r\n}\r\n.item.seleccionado {\r\n    background: #CCC;\r\n}\r\n.item.seleccionado .icon {\r\n    color:white !important;\r\n}\r\n.item.seleccionado .item-detalle {\r\n    display: inherit;\r\n}\r\n.item .item-detalle {\r\n    display: none;\r\n}\r\n.rojo{\r\n    color:#FF0000;\r\n}\r\n.item.asignado {\r\n    background: #DDD;\r\n    color: #777;\r\n}\r\ntr.filtro td,\r\ntr.filtro th {\r\n    color:#FFF;\r\n    background: #4a4a4a !important;\r\n}\r\n.contenedor-tabla {\r\n    overflow: auto; width:100%; height:99% !important; display:block; position:absolute; left:0; top:0;\r\n}\r\n.contenedor-tabla table { border-radius: 3px; }\r\n@media screen and (max-width: 768px) {\r\n    .contenedor-tabla { position: relative; }\r\n    .tile.notification { padding:0px !important; }\r\n}"},nh4S:function(e,t){e.exports='<menu-farmacia [modulo]="\'Pedidos\'" [icono]="\'assets/icono-pedidos.svg\'" [url]="\'/almacen/pedidos\'"></menu-farmacia>\r\n\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%; overflow:auto;">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n      <menu-lateral></menu-lateral>\r\n    </div>\r\n    <div class="column" style="padding:2em;">\r\n        <div style="background: #FFF; overflow:hidden; border-radius:1em; width:100%;margin-bottom:1em;">\r\n            <table class="table" style="min-width:100%; font-size:0.8em; margin-bottom:0.2em;margin-top:0.2em;">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Presupuesto <span *ngIf="presupuestoActual">{{presupuestoActual.anio}}</span></th>\r\n                        <th style="text-align:center">Autorizado</th>\r\n                        <th style="text-align:center">Comprometido</th>\r\n                        <th style="text-align:center">Devengado</th>\r\n                        <th style="text-align:center">Disponible</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngIf="!presupuesto">\r\n                        <th colspan="5" style="text-align:center"><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>&nbsp;Cargando Presupuesto...</th>\r\n                    </tr>\r\n                    <tr *ngIf="presupuesto">\r\n                        <th>Causes y Material de Curaci\xf3n</th>\r\n                        <td style="text-align:center"><span class="tag is-primary">$ {{ presupuesto.insumos_modificado | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-warning">$ {{ (presupuesto.insumos_comprometido) | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-danger">$ {{ (presupuesto.insumos_devengado) | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-success">$ {{ (presupuesto.insumos_disponible) | number:\'1.2-2\' }}</span></td>\r\n                    </tr>\r\n                    <tr *ngIf="presupuesto">\r\n                        <th>No causes</th>\r\n                        <td style="text-align:center"><span class="tag is-primary">$ {{ presupuesto.no_causes_modificado | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-warning">$ {{ presupuesto.no_causes_comprometido | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-danger">$ {{ presupuesto.no_causes_devengado | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-success">$ {{ presupuesto.no_causes_disponible | number:\'1.2-2\' }}</span></td>\r\n                    </tr>\r\n                    <tr *ngIf="presupuesto">\r\n                        <th>Total</th>\r\n                        <td style="text-align:center"><span class="tag is-primary">$ {{ ( presupuesto.no_causes_modificado + presupuesto.insumos_modificado) | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-warning">$ {{ ( presupuesto.no_causes_comprometido + presupuesto.insumos_comprometido) | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-danger">$ {{ ( presupuesto.no_causes_devengado + presupuesto.insumos_devengado) | number:\'1.2-2\' }}</span></td>\r\n                        <td style="text-align:center"><span class="tag is-success">$ {{ ( presupuesto.no_causes_disponible + presupuesto.insumos_disponible) | number:\'1.2-2\' }}</span></td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n         </div>\r\n\r\n        <div style="background: #FFF; border-radius: 1em; margin-bottom:80px;">\r\n            <section class="hero" [ngClass] = " {\'is-dark\': busquedaActivada, \'is-primary\': !busquedaActivada } " >\r\n                \r\n                <div class="hero-body" style="position:relative;">\r\n                    <a class="button  is-dark" *ngIf="busquedaActivada" style="position:absolute; top:1em; right:1em;" (click)="busquedaActivada=false;searchBox.value=\'\';resultadosBusqueda=[]"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n                    <a class="button  is-dark" *ngIf="busquedaActivada" style="position:absolute; top:1em; right:3.5em;" (click)="listarBusqueda(searchBox.value,1)"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                    <a class="button  is-primary" *ngIf="!busquedaActivada" style="position:absolute; top:1em; right:1em;" (click)="listar(1)"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                    <div class="container is-fluid">\r\n                        \r\n                        <h1 class="title" *ngIf="!busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa {{ icono }}"></i></span> {{ titulo }}\r\n                        </h1>\r\n                        <h1 class="title" *ngIf="busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-search"></i></span> B\xfasqueda \r\n                        </h1>\r\n                        <div class="control is-grouped">\r\n                            <p class="control is-expanded">\r\n                                <input class="input is-medium" type="text" placeholder="Buscar" #searchBox id="search-box" (keyup)="buscar(searchBox.value)">\r\n                            </p>\r\n                            \x3c!--p class="control">\r\n                                <a class="button is-medium is-primary is-inverted " routerLink="/almacen/pedidos/nuevo">\r\n                                <span class="icon"><i class="fa fa-plus"></i></span><span>Nuevo</span>\r\n                                </a>\r\n                            </p--\x3e\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n\r\n            <table class="table" *ngIf="!cargando">\r\n                <thead>\r\n                    <tr>\r\n                        <th><abbr title="Folio del pedido">Folio</abbr></th>\r\n                        <th>Nombre del Pedido</th>\r\n                        <th>Fecha <span *ngIf="status == \'PS\'">(expiraci\xf3n)</span></th>\r\n                        <th>Claves</th>\r\n                        <th>Cantidad</th>\r\n                        <th>Monto</th>\r\n                        <th style="text-align:center;" width="1">Opciones</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody  *ngIf="!busquedaActivada">\r\n                    <tr *ngFor="let item of pedidos; let i=index" [ngClass]="{\'proyecto-estatus-normal\':(item.status == \'BR\' || item.status == \'PS\'),\'proyecto-estatus-azul\':item.status == \'EF\',\'proyecto-estatus-rojo\':item.status == \'EX-CA\',\'proyecto-estatus-amarillo\':item.status == \'EX\',\'proyecto-estatus-verde\':item.status == \'FI\'}">\r\n                        <th style="vertical-align: middle;"><a routerLink="{{obtenerDireccion(item.id,item.status)}}">\r\n                            <span class="icon" *ngIf="item.tipo_pedido_id==\'PA\'"><i class="fa fa-hospital-o"></i></span>\r\n                            <span class="icon" *ngIf="item.tipo_pedido_id==\'PFS\'"><i class="fa fa-building"></i></span>\r\n                            <span class="icon" *ngIf="item.tipo_pedido_id==\'PALT\'"><i class="fa fa-building-o"></i></span>\r\n                            {{ item.folio?item.folio:\'S/F\' }}</a>\r\n                        </th>\r\n                        <td style="vertical-align: middle;"><a routerLink="{{obtenerDireccion(item.id,item.status)}}">{{ item.descripcion }}</a></td>\r\n                        <td style="vertical-align: middle;"><a [ngClass]="{\'estatus-rojo\':(item.status == \'PS\' && item.expira_en_dias <= 0),\'estatus-amarillo\':(item.status == \'PS\' && (item.expira_en_dias > 0 && item.expira_en_dias <= 5))}" routerLink="{{obtenerDireccion(item.id,item.status)}}">{{ item.fecha | date:\'y-MM-dd\' }} <span *ngIf="item.status == \'PS\'">({{item.expira_en_dias?item.expira_en_dias:\'hoy\'}})</span></a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="{{obtenerDireccion(item.id,item.status)}}"> \r\n                            {{ (item.total_claves_recibidas || 0) | number }} / {{ item.total_claves_solicitadas | number }} [{{(item.total_claves_recibidas/item.total_claves_solicitadas)*100 | number:\'1.0-2\'}}%]\r\n                        </a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="{{obtenerDireccion(item.id,item.status)}}"> \r\n                            {{ (item.total_cantidad_recibida || 0) | number }} / {{ item.total_cantidad_solicitada | number }} [{{(item.total_cantidad_recibida/item.total_cantidad_solicitada)*100 | number:\'1.0-2\'}}%]\r\n                        </a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="{{obtenerDireccion(item.id,item.status)}}">\r\n                            $ {{ (item.total_monto_recibido || 0) | number:\'1.2-2\' }} / $ {{ item.total_monto_solicitado | number:\'1.2-2\' }} [{{(item.total_monto_recibido/item.total_monto_solicitado)*100 | number:\'1.0-2\'}}%]\r\n                        </a></td>\r\n                        <td style="vertical-align: middle;" class="has-text-centered">\r\n                            <span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span>\r\n                            <a *ngIf="!item.cargando && item.status == \'BR\' && !esCluesOffline" class="status-rojo" (click)="eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a>\r\n                            <a *ngIf="!item.cargando && item.status == \'PS\' && item.expira_en_dias >= 0" routerLink="/almacen/pedidos/recepcion/{{item.id}}" title="Recibir pedido"><span class="icon"><i class="fa fa-truck"></i></span></a>\r\n                            <span *ngIf="!item.cargando && item.status == \'PS\' && item.expira_en_dias < 0" class="tag is-danger" title="Expirado"><span class="icon"><i class="fa fa-exclamation"></i></span></span>\r\n                            <span *ngIf="!item.cargando && item.status == \'FI\'" class="estatus-verde" title="Finalizado"><span class="icon"><i class="fa fa-check-circle"></i></span></span>\r\n                            <span *ngIf="!item.cargando && item.status == \'EX-CA\'" class="estatus-rojo" title="Expirado - Cancelado"><span class="icon"><i class="fa fa-times-circle"></i></span></span>\r\n                            <span *ngIf="!item.cargando && item.status == \'EX\'" class="estatus-amarillo" title="Expirado"><span class="icon"><i class="fa fa-exclamation-circle"></i></span></span>\r\n                        </td>\r\n                    </tr>\r\n                    <tr *ngIf="pedidos.length == 0">\r\n                        <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n                <tbody *ngIf="busquedaActivada">\r\n                    <tr *ngFor="let item of resultadosBusqueda; let i=index" [ngClass]="{\'proyecto-estatus-normal\':item.status == \'BR\',\'proyecto-estatus-azul\':item.status == \'EF\',\'proyecto-estatus-rojo\':item.status == \'EX-CA\',\'proyecto-estatus-amarillo\':item.status == \'EX\',\'proyecto-estatus-verde\':item.status == \'FI\'}">\r\n                        <th style="vertical-align: middle;"><a routerLink="{{obtenerDireccion(item.id,item.status)}}">\r\n                            <span class="icon" *ngIf="item.tipo_pedido_id==\'PA\'"><i class="fa fa-hospital-o"></i></span>\r\n                            <span class="icon" *ngIf="item.tipo_pedido_id==\'PFS\'"><i class="fa fa-building"></i></span>\r\n                            <span class="icon" *ngIf="item.tipo_pedido_id==\'PALT\'"><i class="fa fa-building-o"></i></span>\r\n                            {{ item.folio?item.folio:\'S/F\' }}</a>\r\n                        </th>\r\n                        <td style="vertical-align: middle;"><a routerLink="{{obtenerDireccion(item.id,item.status)}}">{{ item.descripcion }}</a></td>\r\n                        <td style="vertical-align: middle;"><a [ngClass]="{\'estatus-rojo\':(item.status == \'PS\' && item.expira_en_dias <= 0),\'estatus-amarillo\':(item.status == \'PS\' && (item.expira_en_dias > 0 && item.expira_en_dias <= 5))}" routerLink="{{obtenerDireccion(item.id,item.status)}}">{{ item.fecha | date:\'y-MM-dd\' }} <span *ngIf="item.status == \'PS\'">({{item.expira_en_dias?item.expira_en_dias:\'hoy\'}})</span></a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="{{obtenerDireccion(item.id,item.status)}}"> \r\n                            {{ (item.total_claves_recibidas || 0) | number }} / {{ item.total_claves_solicitadas | number }} [{{(item.total_claves_recibidas/item.total_claves_solicitadas)*100 | number:\'1.0-2\'}}%]\r\n                        </a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="{{obtenerDireccion(item.id,item.status)}}"> \r\n                            {{ (item.total_cantidad_recibida || 0) | number }} / {{ item.total_cantidad_solicitada | number }} [{{(item.total_cantidad_recibida/item.total_cantidad_solicitada)*100 | number:\'1.0-2\'}}%]\r\n                        </a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="{{obtenerDireccion(item.id,item.status)}}">\r\n                            $ {{ (item.total_monto_recibido || 0) | number:\'1.2-2\' }} / $ {{ item.total_monto_solicitado | number:\'1.2-2\' }} [{{(item.total_monto_recibido/item.total_monto_solicitado)*100 | number:\'1.0-2\'}}%]\r\n                        </a></td>\r\n                        <td style="vertical-align: middle;" class="has-text-centered">\r\n                            <span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span>\r\n                            <a *ngIf="!item.cargando && item.status == \'BR\' && !esCluesOffline" class="status-rojo" (click)="eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a>\r\n                            <a *ngIf="!item.cargando && item.status == \'PS\' && item.expira_en_dias >= 0" routerLink="/almacen/pedidos/recepcion/{{item.id}}" title="Recibir pedido"><span class="icon"><i class="fa fa-truck"></i></span></a>\r\n                            <span *ngIf="!item.cargando && item.status == \'PS\' && item.expira_en_dias < 0" class="tag is-danger" title="Expirado"><span class="icon"><i class="fa fa-exclamation"></i></span></span>\r\n                            <span *ngIf="!item.cargando && item.status == \'FI\'" class="estatus-verde" title="Finalizado"><span class="icon"><i class="fa fa-check-circle"></i></span></span>\r\n                            <span *ngIf="!item.cargando && item.status == \'EX-CA\'" class="estatus-rojo" title="Expirado - Cancelado"><span class="icon"><i class="fa fa-times-circle"></i></span></span>\r\n                            <span *ngIf="!item.cargando && item.status == \'EX\'" class="estatus-amarillo" title="Expirado"><span class="icon"><i class="fa fa-exclamation-circle"></i></span></span>\r\n                        </td>\r\n                    </tr>\r\n\r\n                    <tr *ngIf="resultadosBusqueda.length == 0 && busquedaActivada">\r\n                        <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion \r\n                [total]="total" \r\n                [paginasTotales]="paginasTotales" \r\n                [resultadosPorPagina]="resultadosPorPagina" \r\n                [paginaActual]="paginaActual" \r\n                [indicePaginas]="indicePaginas"\r\n                (onSiguiente)="paginaSiguiente()" \r\n                (onAnterior)="paginaAnterior()" \r\n                (onListar)="listar($event)" \r\n                *ngIf="total>0 && total > resultadosPorPagina && !busquedaActivada"></paginacion>\r\n            \x3c!-- Paginaci\xf3n para la b\xfasqueda  --\x3e\r\n            <paginacion \r\n                [total]="totalBusqueda" \r\n                [paginasTotales]="paginasTotalesBusqueda" \r\n                [resultadosPorPagina]="resultadosPorPaginaBusqueda" \r\n                [paginaActual]="paginaActualBusqueda" \r\n                [indicePaginas]="indicePaginasBusqueda"\r\n                (onSiguiente)="paginaSiguienteBusqueda(searchBox.value)" \r\n                (onAnterior)="paginaAnteriorBusqueda(searchBox.value)" \r\n                (onListar)="listarBusqueda(searchBox.value,$event)" \r\n                *ngIf="totalBusqueda > 0 && totalBusqueda > resultadosPorPaginaBusqueda && busquedaActivada"></paginacion>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    \x3c!--p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p--\x3e\r\n</div>'},o1B4:function(e,t){e.exports=".top-nav { position: fixed; width: 100%;top:0px; z-index:99; background: #00d1b2; }\r\n\r\n\r\nnav {\r\n    background-color:#00d1b2;\r\n    color: #FFF !important;\r\n}\r\n\r\n\r\na.nav-hub-active { background:rgba(0,0,0,0.05);}\r\n\r\n\r\na.nav-hub-active:hover { background:rgba(0,0,0,0.1);}\r\n\r\n\r\nnav a { color: #FFF ; color: rgba(255,255,255,0.9)  !important;}\r\n\r\n\r\nnav a:hover { color: #FFF !important;}\r\n\r\n\r\nnav .title  { color:#FFF;}\r\n\r\n\r\nnav a .title { color:#FFF; color: rgba(255,255,255,0.9)  !important;}\r\n\r\n\r\nnav a:hover .title { color:#FFF !important; }\r\n\r\n\r\n.unidad-trabajo {\r\n\tfont-size: 0.7em;\r\n\ttext-align: right !important;\r\n\tpadding: 1em;\r\n    vertical-align: middle;\r\n    text-shadow: 2px 2px slategray;\r\n}"},o1Up:function(e,t){e.exports='<listar #ctrl URL="movimientos?tipo=2&fecha_desde={{fecha_desde}}&fecha_hasta={{fecha_hasta}}&movimiento={{movimiento}}&turno={{turno}}&servicio={{servicio}}&clave_insumo={{clave_insumo}}" titulo="Correcciones"></listar>\r\n<app-menu-inventario [modulo]="\'Correcciones\'" [icono]="\'assets/icono-correcciones.svg\'" [url]="\'/inventario/correcciones\'"></app-menu-inventario>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:80%; ">\r\n    <div class="column" style="padding:2em;">\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n            <section class="hero" [ngClass]=" {\'is-dark\': ctrl.busquedaActivada, \'is-primary\': !ctrl.busquedaActivada } ">\r\n\r\n                <div class="hero-body" style="position:relative;">\r\n                    <nav class="level">\r\n                        <div class="level-left"></div>\r\n                        \x3c!-- Right side --\x3e\r\n                        <div class="level-right">\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" (click)="ctrl.busquedaActivada=false;searchBox.value=\'\'; ctrl.resultadosBusqueda=[]"><span class="icon "><i class="fa fa-close"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="Actualizar" (click)="ctrl.listarBusqueda(searchBox.value,1)"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="Actualizar" (click)="ctrl.listar(1)"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="PDF" (click)="dato = ctrl.dato; imprimir()"><span class="icon "><i class="fa fa-file-pdf-o"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="PDF" (click)="dato = ctrl.dato; imprimir()"><span class="icon "><i class="fa fa-file-pdf-o"></i></span></a></p>\r\n\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="Excel" (click)="export_excel()"><span class="icon "><i class="fa fa-file-excel-o"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="Excel" (click)="export_excel()"><span class="icon "><i class="fa fa-file-excel-o"></i></span></a></p>\r\n                            <p class="level-item">&nbsp;</p>\r\n                        </div>\r\n                    </nav> \r\n                    <div class="container is-fluid" id="titulo">\r\n                        <span></span>\r\n                        <div class="is-hidden-desktop">\r\n                            <h1 class="title" *ngIf="!ctrl.busquedaActivada">\r\n                                <span class="icon is-medium"><i class="fa fa-user"></i></span> Correcciones de movimiento\r\n                            </h1>\r\n                        </div>\r\n                        <h1 class="title" *ngIf="ctrl.busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-search"></i></span> B\xfasqueda\r\n                        </h1>\r\n                        <div class="control is-grouped">\r\n                            <div class="control">\r\n                                <div class="field">   \r\n                                    <label class="label">Desde:</label>                         \r\n                                    <input  style="width: 150px;" class="input is-medium" [(ngModel)]=\'fecha_desde\' ngui-datetime-picker date-only="true" placeholder="YYYY-MM-DD" />\r\n                                </div>\r\n                            </div>\r\n                            <div class="control">\r\n                                <div class="field">   \r\n                                    <label class="label">Hasta:</label>                         \r\n                                    <input style="width: 150px;" class="input is-medium" [(ngModel)]=\'fecha_hasta\' ngui-datetime-picker date-only="true" placeholder="YYYY-MM-DD" />\r\n                                </div>\r\n                            </div>\r\n                             <div class="control is-expanded" *ngIf="!ctrl.cargando">\r\n                                <div class="field ">\r\n                                    <label class="label">Movimiento:</label>\r\n                                    <div class="select is-medium ">\r\n                                        <select class="select is-medium" [(ngModel)]="movimiento" #mov>\r\n                                            <option value="" selected>Todos</option>\r\n                                            <option value="1">Entradas</option>\r\n                                            <option value="2">Salidas</option>\r\n                                        </select>\r\n                                    </div>\r\n                                </div> \r\n                            </div>\r\n                            <div class="control is-expanded" *ngIf="!ctrl.cargando">                                \r\n                                <div class="field">\r\n                                    <label class="label">Turno:</label>\r\n                                    <div class="select is-medium">\r\n                                        <select *ngIf="ctrl.dato" class="select is-medium" [(ngModel)]="turno" #tr>\r\n                                            <option value="">Todos</option>\r\n                                            <option *ngFor="let val of ctrl.dato[ctrl.dato.length-1].turnos_disponibles" value="{{val.id}}" >{{ val.nombre }}</option>\r\n                                        </select>\r\n                                        <select *ngIf="!ctrl.dato"  class="select is-medium" [(ngModel)]="turno" #tr>\r\n                                            <option value="">Todos</option>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class="control is-expanded" *ngIf="!ctrl.cargando">\r\n                                <div class="field ">\r\n                                    <label class="label">Servicio:</label>\r\n                                    <div class="select is-medium ">\r\n                                        <select *ngIf="ctrl.dato" class="select is-medium" [(ngModel)]="servicio" #sr>\r\n                                            <option value="">Todos</option>\r\n                                            <option *ngFor="let val of ctrl.dato[ctrl.dato.length-1].servicios_disponibles" value="{{val.id}}" >{{ val.nombre }}</option>\r\n                                        </select>\r\n                                        <select *ngIf="!ctrl.dato" class="select is-medium" [(ngModel)]="servicio" #sr>\r\n                                            <option value="">Todos</option>\r\n                                        </select>\r\n                                    </div>\r\n                                </div> \r\n                            </div>\r\n                            <div class="control is-expanded">\r\n                                <div class="field">   \r\n                                    <label class="label">Insumo:</label>  \r\n                                    <p class="control">\r\n                                        <input ngui-auto-complete [source]="insumos_term" [list-formatter]="autocompleListFormatter" \r\n                                        id="buscarInsumo" value-property-name="clave" display-property-name="descripcion" path-to-data="" \r\n                                        loading-text="Cargando..." no-match-found-text="No hay resultados." (valueChanged)="select_insumo_autocomplete($event)" \r\n                                        min-chars="1" class="input is-medium" type="text" [ngClass]="{\'is-loading\': ctrl.cargando}"\r\n                                        placeholder="Escanea el codigo de barra, o empieza escribir el nombre del producto">\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                            <div class="control">  \r\n                                <div class="field">\r\n                                <label class="label">&nbsp;</label>\r\n                                <button class="button is-info is-medium" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="ctrl.listar(1)" >Buscar</button>\r\n                                </div>\r\n                            </div>\r\n                            <div class="control">\r\n                                <div class="field">  \r\n                                <label class="label">&nbsp;</label>\r\n                                <button class="button is-default is-medium" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="clave_insumo=\'\';servicio=\'\'; turno=\'\'; fecha_desde=\'\'; fecha_hasta=\'\';" >Limpiar</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            \r\n            <div class="is-fullwidth has-text-centered" *ngIf="ctrl.cargando">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n            \r\n            <span id="exportable">\r\n            <div style="overflow: scroll; overflow-x: hidden; height: 650px;">\r\n            <table class="table" *ngIf="!ctrl.cargando" >\r\n                <thead>\r\n                    <tr>\r\n                        <th style=" text-align: center;"><abbr title="Folio">Fecha</abbr></th>\r\n                        <th style=" text-align: center;"><abbr title="Folio">Folio</abbr></th>\r\n                        <th>Servicio</th>\r\n                        <th>Turno</th>\r\n                        <th>Insumos</th>\r\n                        <th>Recibe</th>\r\n                        <th>Entreg\xf3</th>\r\n                        <th style=" text-align: center;">Capturado</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody *ngIf="!ctrl.busquedaActivada && ctrl.dato;">\r\n                    <tr *ngFor="let item of ctrl.dato; let i=index">\r\n                        <th *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle; text-align: center;"><a routerLink="/inventario/correcciones/ver/{{item.id}}">{{ item.fecha_movimiento }}</a></th>\r\n                        <th *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle; text-align: center;"><a routerLink="/inventario/correcciones/ver/{{item.id}}">{{ item.id }}</a></th>\r\n                        <td *ngIf="item.movimiento_metadato && (i+1)<ctrl.dato.length" style="vertical-align: middle;" ><a *ngIf="item.movimiento_metadato.servicio.nombre"  routerLink="/inventario/correcciones/ver/{{item.id}}" >{{ item.movimiento_metadato.servicio.nombre }} </a></td>\r\n                        <td *ngIf="!item.movimiento_metadato && (i+1)<ctrl.dato.length" style="vertical-align: middle;" >No disponible</td>\r\n                        <td *ngIf="item.movimiento_metadato && (i+1)<ctrl.dato.length" style="vertical-align: middle;"><a *ngIf="item.movimiento_metadato.turno.nombre"  routerLink="/inventario/correcciones/ver/{{item.id}}">{{ item.movimiento_metadato.turno.nombre }} </a></td>\r\n                        <td *ngIf="!item.movimiento_metadato && (i+1)<ctrl.dato.length" style="vertical-align: middle;" >No disponible</td>\r\n                        <td *ngIf="(i+1)<ctrl.dato.length"> <a routerLink="/inventario/correcciones/ver/{{item.id}}"> <p> Claves: {{item.numero_claves}}</p> <p> Insumos: {{item.numero_insumos}}</p> </a> </td>\r\n                        <td *ngIf="item.movimiento_metadato && (i+1)<ctrl.dato.length" style="vertical-align: middle;" ><a routerLink="/inventario/correcciones/ver/{{item.id}}">{{ item.movimiento_metadato.persona_recibe }}</a></td>\r\n                        <td *ngIf="!item.movimiento_metadato && (i+1)<ctrl.dato.length" style="vertical-align: middle;" >No disponible</td>\r\n                        <td *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle;"><a routerLink="/inventario/correcciones/ver/{{item.id}}">{{ item.movimiento_usuario.nombre }} {{ item.movimiento_usuario.apellidos }} </a></td>                        \r\n                        <td *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle; text-align: center;"><a routerLink="/inventario/correcciones/ver/{{item.id}}">{{ item.created_at | date:\'medium\'}} </a></td>\r\n                        \x3c!--\r\n                        <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n                        --\x3e\r\n                    </tr>\r\n                    <tr *ngIf="ctrl.dato.length == 0">\r\n                        <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>\r\n                    </tr>\r\n                </tbody>\r\n                <tbody *ngIf="ctrl.busquedaActivada && ctrl.dato">\r\n                    <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">\r\n                        <th style="vertical-align: middle; text-align: center;"><a routerLink="/inventario/correcciones/ver/{{item.id}}">{{ item.id }}</a></th>\r\n                        <td style="vertical-align: middle;" *ngIf="item.movimiento_metadato"><a *ngIf="item.movimiento_metadato.servicio.nombre" routerLink="/inventario/correcciones/ver/{{item.id}}">{{ item.movimiento_metadato.servicio.nombre }}</a></td>\r\n                        <td style="vertical-align: middle;" *ngIf="!item.movimiento_metadato">No disponible</td>\r\n                        <td style="vertical-align: middle;" *ngIf="item.movimiento_metadato"><a *ngIf="item.movimiento_metadato.turno.nombre" routerLink="/inventario/correcciones/ver/{{item.id}}">{{ item.movimiento_metadato.turno.nombre }} </a></td>\r\n                        <td style="vertical-align: middle;" *ngIf="!item.movimiento_metadato">No disponible</td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/inventario/correcciones/ver/{{item.id}}">{{ item.movimiento_usuario.nombre }} {{ item.movimiento_usuario.apellidos }} </a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/inventario/correcciones/ver/{{item.id}}">{{ item.status }} </a></td>\r\n                        <td style="vertical-align: middle; text-align: center;"><a routerLink="/inventario/correcciones/ver/{{item.id}}">{{ item.created_at | date}} </a></td>\r\n                        <td style="vertical-align: middle; text-align: center;"><a routerLink="/inventario/correcciones/ver/{{item.id}}">{{ item.updated_at | date}} </a></td>\r\n                    </tr>\r\n                    <tr *ngIf="ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada">\r\n                        <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            </div>\r\n            </span>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [total]="ctrl.total" [paginasTotales]="ctrl.paginasTotales" [resultadosPorPagina]="ctrl.resultadosPorPagina"\r\n                [paginaActual]="ctrl.paginaActual" [indicePaginas]="ctrl.indicePaginas" (onSiguiente)="ctrl.paginaSiguiente()"\r\n                (onAnterior)="ctrl.paginaAnterior()" (onListar)="ctrl.listar($event)" *ngIf="ctrl.total>0 && ctrl.total > ctrl.resultadosPorPagina && !ctrl.busquedaActivada"></paginacion>\r\n            \x3c!-- Paginaci\xf3n para la b\xfasqueda  --\x3e\r\n            <paginacion [total]="ctrl.totalBusqueda" [paginasTotales]="ctrl.paginasTotalesBusqueda" [resultadosPorPagina]="ctrl.resultadosPorPaginaBusqueda"\r\n                [paginaActual]="ctrl.paginaActualBusqueda" [indicePaginas]="ctrl.indicePaginasBusqueda" (onSiguiente)="ctrl.paginaSiguienteBusqueda(searchBox.value)"\r\n                (onAnterior)="ctrl.paginaAnteriorBusqueda(searchBox.value)" (onListar)="ctrl.listarBusqueda(searchBox.value,$event)"\r\n                *ngIf="ctrl.totalBusqueda > 0 && ctrl.totalBusqueda > ctrl.resultadosPorPaginaBusqueda && ctrl.busquedaActivada"></paginacion>\r\n        </div>\r\n    </div>\r\n</div>'},o37P:function(e,t){e.exports='<app-menu-inventario></app-menu-inventario>\r\n\r\n<div style="height:50px;"></div>\r\n<section style="padding: 1em;">\r\n  <div class="control is-grouped">\r\n    <p class="control is-expanded">\r\n        <input class="input is-medium" type="text" placeholder="Buscar" [(ngModel)] = "busqueda" id="search-box">\r\n    </p>\r\n    <p class="control">\r\n        <a class="button is-medium is-primary is-inverted" [ngClass]="{ \'is-disabled\': busqueda==\'\'}" (click)="busqueda=\'\'">\r\n        <span class="icon"><i class="fa fa-close"></i></span>\r\n        </a>\r\n    </p>\r\n  </div>\r\n\r\n</section>\r\n<section style="padding: 1em;">\r\n    <section class="contenedor columns is-multiline is-mobile">\r\n        <div class="column is-1-desktop is-2-tablet is-3-mobile" *ngFor="let item of accesosDirectosAutorizados | buscarModulo: busqueda">\r\n            <a href="#" title="{{ item.titulo}}" class="item" routerLink="{{item.url}}"  routerLinkActive="active">\r\n                <figure class="image " style="height: auto; width: 100%; ">\r\n                    <img src="{{ item.icono }}" alt="{{item.titulo}}">                            \r\n                </figure>\r\n                <span class="is-hidden-mobile">{{ item.titulo}}</span>\r\n                <span class="is-hidden-tablet is-hidden-desktop"><small>{{ item.titulo}}</small></span>\r\n            </a>\r\n        </div>\r\n    </section>\r\n    <hr>\r\n    <section class="contenedor columns is-multiline is-mobile">\r\n        <div class="column is-1-desktop is-2-tablet is-3-mobile" *ngFor="let item of modulosAutorizados | buscarModulo: busqueda">\r\n            <a href="#" title="{{ item.titulo}}" style="position: relative;" class="item" routerLink="{{item.url}}" routerLinkActive="active">\r\n                \r\n                <figure class="image " style="height: auto; width: 100%; ">\r\n                    <img src="{{ item.icono }}" alt="{{item.titulo}}">                            \r\n                </figure>\r\n                <span class="is-hidden-mobile">{{ item.titulo}}</span>\r\n                <span class="is-hidden-tablet is-hidden-desktop"><small>{{ item.titulo}}</small></span>\r\n                <span *ngIf="item.badge>0" class="tag is-danger" style="position:absolute; top:0px; right:0px;">{{ item.badge }}</span>\r\n            </a>\r\n        </div>\r\n    </section>\r\n</section>\r\n\r\n'},oEk2:function(e,t){e.exports='<section  class="top-nav">\r\n            \r\n    <nav class="nav">\r\n        <a title="Receta Electronica" class="nav-item pull-left nav-hub-active"  routerLink="/receta-electronica">\r\n            \r\n            <img src="assets/icono-recetas.svg" alt="icono" width="25px">\r\n        \r\n        </a>\r\n        <div class="nav-left is-hidden-touch">\r\n            \r\n            <span *ngIf="!modulo" class="nav-item">\r\n                <h1 class="title">&nbsp;Receta Electr\xf3nica</h1>\r\n            </span>\r\n            <a *ngIf="modulo" class="nav-item" routerLink="{{ url }}" >\r\n            \r\n            \x3c!-- <img src="{{ icono }}" alt="icono">--\x3e\r\n                <h1 class="title">&nbsp;{{ modulo }}</h1>                     \r\n            </a>\r\n        </div>\r\n\r\n        <div class="nav-center"></div>\r\n        <div class="nav-right is-hidden-mobile">\r\n            <span class="unidad-trabajo">\r\n                {{usuario.clues_activa.clues}} <span *ngIf="usuario.almacen_activo"> - {{usuario.almacen_activo.nombre}}</span><br>            \r\n                <span>{{usuario.clues_activa.nombre}}</span>\r\n            </span>\r\n        </div>\r\n\r\n        <a class="nav-item"  (click)="hub.toggle()">\r\n            <span class="icon">\r\n                <i class="fa fa-th"></i>\r\n            </span>\r\n        </a>\r\n\r\n        <a class="nav-item is-hidden-mobile" (click)="perfil.toggle()">                    \r\n            <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n            &nbsp;\r\n            <span>{{ usuario.nombre }} {{ usuario.apellidos }}</span>\r\n        </a>\r\n        <a class="nav-item is-hidden-tablet" (click)="perfil.toggle()">\r\n            \r\n            <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n        </a>\r\n        \r\n        \r\n    </nav>\r\n</section>\r\n\r\n<app-hub #hub></app-hub>\r\n<app-perfil #perfil></app-perfil>'},oW6u:function(e,t){e.exports=".item{ width: 100%; text-align: center; display:block; font-size: 0.8em; }"},okgc:function(e,t){e.exports=""},p2rs:function(e,t){e.exports='<listar #ctrl URL="medicos/recetas?medico_id={{medico_id}}&fecha_desde={{fecha_desde}}&fecha_hasta={{fecha_hasta}}" titulo="Recetas"></listar>\r\n<menu-medicos [modulo]="\'Recetas\'" [icono]="\'assets/hub-medicos.svg\'" [url]="\'/medicos/recetas\'"></menu-medicos>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:95%; "> \x3c!-- 85% --\x3e\r\n    <div class="column" style="padding:2em; height:100%; ">\r\n        <div style="background: #FFF;">\r\n            <section class="hero" [ngClass]="{\'is-dark\': ctrl.busquedaActivada, \'is-primary\': !ctrl.busquedaActivada}" \r\n                    style="min-height:200px; height: 25%;">\r\n                <div class="hero-body" style="position:relative; height: 90%">\r\n                    <nav class="level">\r\n                        <div class="level-left"></div>\r\n                        \x3c!-- Right side --\x3e\r\n                        <div class="level-right">\r\n                            <p class="level-item"><a class="button is-dark is-medium" routerLink="nuevo" *ngIf="ctrl.busquedaActivada"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;<span>Nueva receta</span></a></p>\r\n                            <p class="level-item"><a class="button is-primary is-medium" routerLink="nuevo" *ngIf="!ctrl.busquedaActivada"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;<span>Nueva receta</span></a></p>\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" (click)="ctrl.busquedaActivada=false;searchBox.value=\'\'; ctrl.resultadosBusqueda=[]"><span class="icon "><i class="fa fa-close"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="Actualizar" (click)="ctrl.listarBusqueda(searchBox.value,1)"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="Actualizar" (click)="ctrl.listar(1)"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n                            \x3c!--\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="PDF" (click)="dato = ctrl.dato; imprimir()"><span class="icon "><i class="fa fa-file-pdf-o"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="PDF" (click)="dato = ctrl.dato; imprimir()"><span class="icon "><i class="fa fa-file-pdf-o"></i></span></a></p>\r\n                            --\x3e\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="Excel" (click)="export_excel()"><span class="icon "><i class="fa fa-file-excel-o"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="Excel" (click)="export_excel()"><span class="icon "><i class="fa fa-file-excel-o"></i></span></a></p>\r\n                            <p class="level-item">&nbsp;</p>\r\n                        </div>\r\n                    </nav> \r\n                    <div class="container is-fluid">\r\n                        <div class="is-hidden-desktop">\r\n                            <h1 class="title" *ngIf="!ctrl.busquedaActivada">\r\n                                <span class="icon is-medium"><i class="fa fa-user"></i></span> Salidas por recetas\r\n                            </h1>\r\n                        </div>\r\n                        <h1 class="title" *ngIf="ctrl.busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-search"></i></span> B\xfasqueda\r\n                        </h1>\r\n                        <div class="control is-grouped">\r\n                            <div class="control">\r\n                                <div class="field">   \r\n                                    <label class="label">Desde:</label>                         \r\n                                    <input  style="width: 150px;" class="input is-medium" [(ngModel)]=\'fecha_desde\' ngui-datetime-picker date-only="true" placeholder="YYYY-MM-DD" readonly/>\r\n                                </div>\r\n                            </div>\r\n                            <div class="control is-expanded" >\r\n                                <div class="field">   \r\n                                    <label class="label">Hasta:</label>                         \r\n                                    <input style="width: 150px;" class="input is-medium" [(ngModel)]=\'fecha_hasta\' ngui-datetime-picker date-only="true" placeholder="YYYY-MM-DD" readonly/>\r\n                                </div>\r\n                            </div>\r\n                            \x3c!-- /*******************************************/ --\x3e\r\n                           \r\n                            <div class="control">\r\n                                <div class="field">  \r\n                                <label class="label">&nbsp;</label>\r\n                                <button class="button is-default is-medium" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="fecha_desde=\'\'; fecha_hasta=\'\';" >Limpiar</button>\r\n                                </div>\r\n                            </div>\r\n                            <div class="control">\r\n                                <div class="field">  \r\n                                <label class="label">&nbsp;</label>\r\n                                <button class="button is-info is-medium" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="ctrl.listar(1)" >Filtrar</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section> \x3c!-- 25/100% height --\x3e\r\n            <div class="is-fullwidth has-text-centered" *ngIf="ctrl.cargando" style="height:75%;"> \x3c!-- 75/100% height --\x3e\r\n                <br>\r\n                <span class="tag is-primary is-large">\r\n                    <span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span>\r\n                </span>\r\n            </div>\r\n            <span id="exportable" style="height:70%;">\x3c!-- 75/100% height --\x3e\r\n                <div style="overflow: scroll; overflow-x: hidden; height: 70%;">\r\n                    <div class="is-fullwidth has-text-centered" *ngIf="cargandoPdf">\r\n                        <br>\r\n                        <span class="tag is-primary is-large ">\r\n                            <span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Generando PDF...</span>\r\n                        </span>\r\n                        <br>\r\n                        <br>\r\n                    </div>\r\n                    <table class="table is-responsive" style="font-size:0.8em;" *ngIf="!ctrl.cargando && !cargandoPdf">\r\n                        <thead>\r\n                            <tr>\r\n                                <th><abbr title="ID de la receta">Folio</abbr></th>                                                           \r\n                                <th>Paciente</th>\r\n                                <th>Tipo</th>\r\n                                <th>Cant. Claves</th>\r\n                                <th><abbr title="Fecha de receta">Fecha</abbr></th>   \r\n                                <th>Usuario</th>\r\n                                <th>Creado</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody *ngIf="!ctrl.busquedaActivada && ctrl.dato;">\r\n                            <tr *ngFor="let item of ctrl.dato; let i=index">\r\n                                <th style="vertical-align: middle;"><a routerLink="/medicos/recetas/ver/{{item.id}}">{{ item.id ? item.id : \'N/A\'}}</a></th>\r\n                                <td style="vertical-align: middle;"><a routerLink="/medicos/recetas/ver/{{item.id}}">{{ item.paciente ? item.paciente.nombre : \'No disponible\'}}</a></td>\r\n                                <td style="vertical-align: middle;"><a routerLink="/medicos/recetas/ver/{{item.id}}">{{ item.tipo_receta_id == 1 ? \'Normal\' : item.tipo_receta_id == 2 ? \'Controlado\' : \'No disponible\' }} </a></td>\r\n                                <td style="vertical-align: middle;"><a routerLink="/medicos/recetas/ver/{{item.id}}"><p> Claves: {{item.numero_claves ? item.numero_claves : \'No disponible\'}}</p> <p> Insumos: {{item.numero_insumos ? item.numero_insumos : \'No disponible\'}}</p> </a></td>\r\n                                <td style="vertical-align: middle;"><a routerLink="/medicos/recetas/ver/{{item.id}}">{{  item.fecha_receta ? (item.fecha_receta  | date:\'mediumDate\') : \'No disponible\' }} </a></td>\r\n                                \r\n                                <td style="vertical-align: middle;"><a routerLink="/medicos/recetas/ver/{{item.id}}">{{ item.usuario_id  }} </a></td>\r\n                                <td style="vertical-align: middle; text-align: center;"><a routerLink="/medicos/recetas/ver/{{item.id}}">{{ item.updated_at | date:\'medium\' }} </a></td>\r\n\r\n                            </tr>\r\n                            <tr *ngIf="ctrl.dato.length == 0">\r\n                                <td colspan="7" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </span>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [total]="ctrl.total" [paginasTotales]="ctrl.paginasTotales" [resultadosPorPagina]="ctrl.resultadosPorPagina"\r\n                [paginaActual]="ctrl.paginaActual" [indicePaginas]="ctrl.indicePaginas" (onSiguiente)="ctrl.paginaSiguiente()"\r\n                (onAnterior)="ctrl.paginaAnterior()" (onListar)="ctrl.listar($event)" *ngIf="ctrl.total>0 && ctrl.total > ctrl.resultadosPorPagina && !ctrl.busquedaActivada"></paginacion>\r\n            \x3c!-- Paginaci\xf3n para la b\xfasqueda  --\x3e\r\n            <paginacion [total]="ctrl.totalBusqueda" [paginasTotales]="ctrl.paginasTotalesBusqueda" [resultadosPorPagina]="ctrl.resultadosPorPaginaBusqueda"\r\n                [paginaActual]="ctrl.paginaActualBusqueda" [indicePaginas]="ctrl.indicePaginasBusqueda" (onSiguiente)="ctrl.paginaSiguienteBusqueda(searchBox.value)"\r\n                (onAnterior)="ctrl.paginaAnteriorBusqueda(searchBox.value)" (onListar)="ctrl.listarBusqueda(searchBox.value,$event)"\r\n                *ngIf="ctrl.totalBusqueda > 0 && ctrl.totalBusqueda > ctrl.resultadosPorPaginaBusqueda && ctrl.busquedaActivada"></paginacion>\r\n        </div>\r\n    </div>\r\n</div> \x3c!-- 85% --\x3e'},pATY:function(e,t){e.exports=""},pDQE:function(e,t){e.exports='<listar #ctrl URL="movimientos?tipo={{tipo}}&fecha_desde={{fecha_desde}}&fecha_hasta={{fecha_hasta}}&clave_insumo={{clave_insumo}}" titulo="Movimientos generales"></listar>\r\n<app-menu-inventario [modulo]="\'Movimientos\'" [icono]="\'assets/icono-movimientos.svg\'" [url]="\'/inventario/movimientos-generales\'"></app-menu-inventario>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:95%; "> \x3c!-- 85% --\x3e\r\n    <div class="column" style="padding:2em; height:100%; ">\r\n        <div style="background: #FFF;">\r\n            <section class="hero" [ngClass]="{\'is-dark\': ctrl.busquedaActivada, \'is-primary\': !ctrl.busquedaActivada}" style="height:25%; overflow: auto;">\r\n                <div class="hero-body" style="position:relative; height: 90%">\r\n                    <nav class="level">\r\n                        <div class="level-left"></div>\r\n                        \x3c!-- Right side --\x3e\r\n                        <div class="level-right">\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" (click)="ctrl.busquedaActivada=false;searchBox.value=\'\'; ctrl.resultadosBusqueda=[]"><span class="icon "><i class="fa fa-close"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="Actualizar" (click)="ctrl.listarBusqueda(searchBox.value,1)"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="Actualizar" (click)="ctrl.listar(1)"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n                            \r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="PDF" (click)="dato = ctrl.dato; imprimir()"><span class="icon "><i class="fa fa-file-pdf-o"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="PDF" (click)="dato = ctrl.dato; imprimir()"><span class="icon "><i class="fa fa-file-pdf-o"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="Excel" (click)="export_excel()"><span class="icon "><i class="fa fa-file-excel-o"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="Excel" (click)="export_excel()"><span class="icon "><i class="fa fa-file-excel-o"></i></span></a></p>\r\n                            <p class="level-item">&nbsp;</p>\r\n                        </div>\r\n                    </nav> \r\n                    <div class="container is-fluid">\r\n                        <div class="is-hidden-desktop">\r\n                            <h1 class="title" *ngIf="!ctrl.busquedaActivada">\r\n                                <span class="icon is-medium"><i class="fa fa-user"></i></span> Movimientos\r\n                            </h1>\r\n                        </div>\r\n                        <h1 class="title" *ngIf="ctrl.busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-search"></i></span> B\xfasqueda\r\n                        </h1>\r\n                        <div class="control is-grouped">\r\n                            <div class="control">\r\n                                <div class="field">   \r\n                                    <label class="label">Desde:</label>                         \r\n                                    <input  style="width: 150px;" class="input is-medium" [(ngModel)]=\'fecha_desde\' ngui-datetime-picker date-only="true" placeholder="YYYY-MM-DD" />\r\n                                </div>\r\n                            </div>\r\n                            <div class="control is-expanded" >\r\n                                <div class="field">   \r\n                                    <label class="label">Hasta:</label>                         \r\n                                    <input style="width: 150px;" class="input is-medium" [(ngModel)]=\'fecha_hasta\' ngui-datetime-picker date-only="true" placeholder="YYYY-MM-DD" />\r\n                                </div>\r\n                            </div>\r\n                            \x3c!-- /*******************************************/ --\x3e\r\n                            <div class="control is-expanded" *ngIf="!ctrl.cargando">                                \r\n                                <div class="field">\r\n                                    <label class="label">Movimientos:</label>\r\n                                    <div class="select is-medium">\r\n                                        \x3c!-- <select *ngIf="ctrl.dato" class="select is-medium" [(ngModel)]="turno" #tr>\r\n                                            <option value="">Todos</option>\r\n                                            <option *ngFor="let val of ctrl.dato[ctrl.dato.length-1].turnos_disponibles" value="{{val.id}}" >{{ val.nombre }}</option>\r\n                                        </select> --\x3e\r\n                                        <select class="select is-medium" [(ngModel)]="tipo">\r\n                                            <option value="" selected>Todos</option>\r\n                                            <option value="1">Entrada</option>\r\n                                            <option value="2">Salida</option>\r\n                                            <option value="5">Receta</option>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class="control is-expanded" *ngIf="!ctrl.cargando">                                \r\n                                <div class="field">\r\n                                    <label class="label">&nbsp;</label>\r\n                                    <p class="control">\r\n                                        <input class="input is-medium" type="text" placeholder="Insumo" [(ngModel)]=\'clave_insumo\'>\r\n                                    </p> \r\n                                </div>\r\n                            </div>\r\n                            <div class="control">\r\n                                <div class="field">  \r\n                                <label class="label">&nbsp;</label>\r\n                                <button class="button is-default is-medium" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="turno=\'\'; fecha_desde=\'\'; fecha_hasta=\'\';" >Limpiar</button>\r\n                                </div>\r\n                            </div>\r\n                            <div class="control">\r\n                                <div class="field">  \r\n                                <label class="label">&nbsp;</label>\r\n                                <button class="button is-info is-medium" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="ctrl.listar(1)" >Filtrar</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section> \x3c!-- 25/100% height --\x3e\r\n            <div class="is-fullwidth has-text-centered" *ngIf="ctrl.cargando" style="height:75%;"> \x3c!-- 75/100% height --\x3e\r\n                <br>\r\n                <span class="tag is-primary is-large">\r\n                    <span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span>\r\n                </span>\r\n            </div>\r\n            <span id="exportable" style="height:75%;">\x3c!-- 75/100% height --\x3e\r\n                <div style="overflow: scroll; overflow-x: hidden; height: 100%;">\r\n                    <table class="table is-responsive" *ngIf="!ctrl.cargando">\r\n                        <thead>\r\n                            <tr>\r\n                                <th><abbr title="Clave de insumo">Clave</abbr></th>\r\n                                <th>Descripcion</th>\r\n                                <th><abbr title="Tipo de movimiento">Tipo</abbr></th>\r\n                                <th>Usuario</th>\r\n                                <th>Estatus</th>\r\n                                <th style=" text-align: center;">Creado</th>\r\n                                <th style=" text-align: center;">Actualizado</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody *ngIf="!ctrl.busquedaActivada && ctrl.dato;">\r\n                            <tr *ngFor="let item of ctrl.dato; let i=index">\r\n                                <th *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle;"><a routerLink="">{{ item.id }}</a></th>\r\n                                <td *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle;"><a routerLink=""> -- </a></td>\r\n                                <td *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle;"><a routerLink=""> {{item.tipo_movimiento_id == 1 ? \'Entrada\' : item.tipo_movimiento_id == 2 ?  \'Salida\' : item.tipo_movimiento_id == 5 ? \'Receta\' : \'No disponible\'}} </a></td>\r\n                                <td *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle;"><a routerLink="">{{ item.movimiento_usuario.nombre }} {{ item.movimiento_usuario.apellidos }} </a></td>\r\n                                <td *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle;"><a routerLink="">{{ item.status }} </a></td>\r\n                                <td *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle; text-align: center;"><a routerLink="">{{ item.created_at | date:\'medium\'}} </a></td>\r\n                                <td *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle; text-align: center;"><a routerLink="">{{ item.updated_at | date:\'medium\'}} </a></td>\r\n\r\n                            </tr>\r\n                            <tr *ngIf="ctrl.dato.length == 0">\r\n                                <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>\r\n                            </tr>\r\n                        </tbody>\r\n                        <tbody *ngIf="ctrl.busquedaActivada  && ctrl.dato">\r\n                            <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">\r\n                                <th style="vertical-align: middle;"><a routerLink="">{{ item.id }}</a></th>\r\n                                <td style="vertical-align: middle;"><a routerLink="">{{ item.movimiento_metadato.turno.nombre }} </a></td>\r\n                                <td style="vertical-align: middle;"><a routerLink="">{{ item.movimiento_usuario.nombre }} {{ item.movimiento_usuario.apellidos }} </a></td>\r\n                                <td style="vertical-align: middle;"><a routerLink="">{{ item.status }} </a></td>\r\n                                <td style="vertical-align: middle; text-align: center;"><a routerLink="">{{ item.created_at | date:\'medium\'}} </a></td>\r\n                                <td style="vertical-align: middle; text-align: center;"><a routerLink="">{{ item.updated_at | date:\'medium\'}} </a></td>\r\n\r\n                            </tr>\r\n\r\n                            <tr *ngIf="ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada">\r\n                                <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </span>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [total]="ctrl.total" [paginasTotales]="ctrl.paginasTotales" [resultadosPorPagina]="ctrl.resultadosPorPagina"\r\n                [paginaActual]="ctrl.paginaActual" [indicePaginas]="ctrl.indicePaginas" (onSiguiente)="ctrl.paginaSiguiente()"\r\n                (onAnterior)="ctrl.paginaAnterior()" (onListar)="ctrl.listar($event)" *ngIf="ctrl.total>0 && ctrl.total > ctrl.resultadosPorPagina && !ctrl.busquedaActivada"></paginacion>\r\n            \x3c!-- Paginaci\xf3n para la b\xfasqueda  --\x3e\r\n            <paginacion [total]="ctrl.totalBusqueda" [paginasTotales]="ctrl.paginasTotalesBusqueda" [resultadosPorPagina]="ctrl.resultadosPorPaginaBusqueda"\r\n                [paginaActual]="ctrl.paginaActualBusqueda" [indicePaginas]="ctrl.indicePaginasBusqueda" (onSiguiente)="ctrl.paginaSiguienteBusqueda(searchBox.value)"\r\n                (onAnterior)="ctrl.paginaAnteriorBusqueda(searchBox.value)" (onListar)="ctrl.listarBusqueda(searchBox.value,$event)"\r\n                *ngIf="ctrl.totalBusqueda > 0 && ctrl.totalBusqueda > ctrl.resultadosPorPaginaBusqueda && ctrl.busquedaActivada"></paginacion>\r\n        </div>\r\n    </div>\r\n</div> \x3c!-- 85% --\x3e'},pLyH:function(e,t){e.exports='<aside class="menu" style="padding: 1em; scroll-behavior: auto">\r\n    <div *ngFor="let item of menuAutorizado">\r\n        <br>\r\n        <p class="menu-label">{{ item.titulo }}</p>\r\n        <ul class="menu-list">\r\n            <li *ngFor="let modulo of item.modulos">\r\n                <a routerLink="{{ modulo.url }}" routerLinkActive="is-active">\r\n                    <span class="icon" ><i class="fa {{ modulo.icono }}"></i></span>&nbsp;&nbsp;<span>{{ modulo.titulo }}</span>\r\n                </a>\r\n            </li>    \r\n        </ul>\r\n    </div>\r\n        \r\n</aside>'},pZoz:function(e,t){e.exports='<panel-control-menu></panel-control-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%; ">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding:2em; overflow:auto;">\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n            <section class="hero" [ngClass] = " {\'is-dark\': busquedaActivada, \'is-primary\': !busquedaActivada } " >\r\n                \r\n                <div class="hero-body" style="position:relative;">\r\n                    <a class="button  is-dark" *ngIf="busquedaActivada" style="position:absolute; top:1em; right:1em;" (click)="busquedaActivada=false;searchBox.value=\'\';resultadosBusqueda=[]"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n                    <a class="button  is-dark" *ngIf="busquedaActivada" style="position:absolute; top:1em; right:3.5em;" (click)="listarBusqueda(searchBox.value,1)"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                    <a class="button  is-primary" *ngIf="!busquedaActivada" style="position:absolute; top:1em; right:1em;" (click)="listar(1)"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                    <div class="container is-fluid">\r\n                        \r\n                        <h1 class="title" *ngIf="!busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-server"></i></span> Servidores\r\n                        </h1>\r\n                        <h1 class="title" *ngIf="busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-search"></i></span> B\xfasqueda \r\n                        </h1>\r\n                        <div class="control is-grouped">\r\n                        <p class="control is-expanded">\r\n                            <input class="input is-medium" type="text" placeholder="Buscar" #searchBox id="search-box" (keyup)="buscar(searchBox.value)">\r\n                        </p>\r\n                        <p class="control">\r\n                            <a class="button is-medium is-primary is-inverted " routerLink="/panel-control/sync/servidores/nuevo">\r\n                            <span class="icon"><i class="fa fa-plus"></i></span><span>Nuevo</span>\r\n                            </a>\r\n                        </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n        \r\n            <table class="table" style="font-size:0.9em;" *ngIf="!cargando">\r\n                <thead>\r\n                    <tr>\r\n\t\t\t\t\t\t<th>ID</th>\r\n                        <th>Nombre</th>\r\n                        <th>CLUES</th>\r\n                        <th>IP</th>\r\n\t\t\t\t\t\t<th>\xbfInternet?</th>\r\n\t\t\t\t\t\t<th>\xbfCat. act.?</th>\r\n\t\t\t\t\t\t<th>Ver.</th>\r\n\t\t\t\t\t\t<th>Periodo Sync</th>\r\n\t\t\t\t\t\t<th>\xdaltima Sync</th>\r\n                    <th style="text-align:center; width:60px"></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody  *ngIf="!busquedaActivada">\r\n                    <tr *ngFor="let item of lista; let i=index">                        \r\n\t\t\t\t\t\t<td style="vertical-align: middle;"><a routerLink="/panel-control/sync/servidores/editar/{{item.id}}">{{ item.id }}</a></td>   \r\n\t\t\t\t\t\t<td style="vertical-align: middle;"><a routerLink="/panel-control/sync/servidores/editar/{{item.id}}"><span class="icon" *ngIf="item.principal"><i class="fa fa-home"></i></span> {{ item.nombre }}</a></td>    \r\n                        <td style="vertical-align: middle;">{{ item.clues }}</td>\r\n                        <td style="vertical-align: middle;">{{ item.ip }}</td>\r\n                        <td style="vertical-align: middle;">{{ item.tiene_internet ? \'S\xed\': \'No\' }}</td>\r\n\t\t\t\t\t\t<td style="vertical-align: middle;">{{ item.catalogos_actualizados ? \'S\xed\': \'No\' }}</td>                       \r\n\t\t\t\t\t\t<td style="vertical-align: middle;">{{ item.version}}</td>\r\n\t\t\t\t\t\t<td style="vertical-align: middle;">{{ item.periodo_sincronizacion }} Hrs</td>\r\n\t\t\t\t\t\t<td style="vertical-align: middle;"><small>{{ item.ultima_sincronizacion }}</small></td>\r\n                        <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando" class="is-danger" (click)="eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>                        \r\n                    </tr>\r\n                    <tr *ngIf="lista.length == 0">\r\n                        <td colspan="7" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n                <tbody *ngIf="busquedaActivada">\r\n                    <tr *ngFor="let item of resultadosBusqueda; let i=index">\r\n\t\t\t\t\t\t\t<td style="vertical-align: middle;"><a routerLink="/panel-control/sync/servidores/editar/{{item.id}}">{{ item.id }}</a></td>   \r\n                            <td style="vertical-align: middle;"><a routerLink="/panel-control/sync/servidores/editar/{{item.id}}">{{ item.nombre }}</a></td> \r\n                            <td style="vertical-align: middle;">{{ item.clues }}</td>\r\n                            <td style="vertical-align: middle;">{{ item.ip }}</td>   \r\n\t\t\t\t\t\t\t<td style="vertical-align: middle;">{{ item.tiene_internet ? \'S\xed\': \'No\' }}</td>\r\n\t\t\t\t\t\t\t<td style="vertical-align: middle;">{{ item.catalogos_actualizados ? \'S\xed\': \'No\' }}</td>                       \r\n\t\t\t\t\t\t\t<td style="vertical-align: middle;">{{ item.version}}</td>\r\n\t\t\t\t\t\t\t<td style="vertical-align: middle;">{{ item.periodo_sincronizacion }} Hrs</td>\r\n\t\t\t\t\t\t\t<td style="vertical-align: middle;"><small>{{ item.ultima_sincronizacion }}</small></td>\r\n                        <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando" class="is-danger" (click)="eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n                    </tr>\r\n\r\n                    <tr *ngIf="resultadosBusqueda.length == 0 && busquedaActivada">\r\n                        <td colspan="7" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion \r\n                [total]="total" \r\n                [paginasTotales]="paginasTotales" \r\n                [resultadosPorPagina]="resultadosPorPagina" \r\n                [paginaActual]="paginaActual" \r\n                [indicePaginas]="indicePaginas"\r\n                (onSiguiente)="paginaSiguiente()" \r\n                (onAnterior)="paginaAnterior()" \r\n                (onListar)="listar($event)" \r\n                *ngIf="total>0 && total > resultadosPorPagina && !busquedaActivada"></paginacion>\r\n            \x3c!-- Paginaci\xf3n para la b\xfasqueda  --\x3e\r\n            <paginacion \r\n                [total]="totalBusqueda" \r\n                [paginasTotales]="paginasTotalesBusqueda" \r\n                [resultadosPorPagina]="resultadosPorPaginaBusqueda" \r\n                [paginaActual]="paginaActualBusqueda" \r\n                [indicePaginas]="indicePaginasBusqueda"\r\n                (onSiguiente)="paginaSiguienteBusqueda(searchBox.value)" \r\n                (onAnterior)="paginaAnteriorBusqueda(searchBox.value)" \r\n                (onListar)="listarBusqueda(searchBox.value,$event)" \r\n                *ngIf="totalBusqueda > 0 && totalBusqueda > resultadosPorPaginaBusqueda && busquedaActivada"></paginacion>\r\n           \r\n           \r\n            \r\n        </div>\r\n        \r\n    </div>\r\n</div>\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style="text-align:center" ><a  class="button is-danger is-inverted" (click)="ultimaPeticion(); mensajeError.mostrar = false"> <span class="icon"><i class="fa fa-refresh"></i></span> <span>Volver a intentar</span></a></p>        \r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n'},pdX2:function(e,t){e.exports='<panel-control-menu></panel-control-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%; ">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" >\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden; margin:2em;">\r\n            <section class="hero is-primary">\r\n                <div class="hero-body">\r\n                    <div class="container is-fluid">\r\n                        <h1 class="title">\r\n                            <span  *ngIf="!cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                            <span  *ngIf="cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span> \r\n                            Editar permiso\r\n                        </h1>\r\n                        \r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <section class="section">\r\n                <h1 class="title">{{id}}</h1>\r\n                <div class="control is-grouped">\r\n                    <p class="control is-expanded  has-icon has-icon-right">\r\n                        <input class="input is-medium" [(ngModel)]="permiso.descripcion"  [ngClass]="{ \'is-danger\': errores.descripcion != null}"  type="text" placeholder="Descripci\xf3n" >\r\n                        \r\n                        <span class="icon is-small" *ngIf="errores.descripcion == \'required\'">\r\n                        <i class="fa fa-warning"></i>\r\n                        </span>\r\n                        <span class="help is-danger" *ngIf="errores.descripcion == \'required\'">Este campo es requerido.</span>\r\n                    </p>\r\n                    <p class="control is-expanded  has-icon has-icon-right">\r\n                        <input class="input is-medium" [(ngModel)]="permiso.grupo"  [ngClass]="{ \'is-danger\': errores.grupo != null}"  type="text" placeholder="Grupo" >\r\n                        \r\n                        <span class="icon is-small" *ngIf="errores.grupo == \'required\'">\r\n                        <i class="fa fa-warning"></i>\r\n                        </span>\r\n                        <span class="help is-danger" *ngIf="errores.grupo == \'required\'">Este campo es requerido.</span>\r\n                    </p>\r\n                </div>\r\n                \r\n                \r\n                <div class="field">\r\n                    <div class="control  ">\r\n                        <label class="checkbox">\r\n                        <input type="checkbox" [(ngModel)]="permiso.su">\r\n                        Super usuario\r\n                        </label>\r\n                    </div>\r\n                </div>   \r\n                <br>\r\n                    \r\n                <div class="control is-grouped">\r\n                    \r\n                    <p class="control">\r\n                        <a class="button is-medium is-primary " [ngClass]="{ \'is-loading\': enviando}" (click)="guardar()" >\r\n                        <span class="icon"><i class="fa fa-save"></i></span><span>Guardar</span>\r\n                        </a>\r\n                    </p><p class="control">\r\n                        <a class="button is-medium is-white " [ngClass]="{ \'is-disabled\': enviando}" routerLink="/panel-control/permisos">Cancelar</a>\r\n                    </p>                    \r\n                </div>\r\n                           \r\n              \r\n              <br>\r\n              \r\n\r\n\r\n            </section>\r\n            \r\n        </div>\r\n        \r\n    </div>\r\n</div>\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br> \r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeError.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n'},qDYr:function(e,t){e.exports='<div style="padding:1em;" >\r\n    \r\n    <p class="control" style="float:right; margin-left: 16px;">\r\n        <span class="select">\r\n        <select #totalPorPagina (change)="ctrl.cambiar_filas_pagina(totalPorPagina)" style="height: 27px;">\r\n            <option value="15">Filas por p\xe1gina: 15</option>\r\n            <option value="30">Filas por p\xe1gina: 30</option>\r\n            <option value="50">Filas por p\xe1gina: 50</option>\r\n            <option value="100">Filas por p\xe1gina: 100</option>\r\n            <option value="500">Filas por p\xe1gina: 500</option>\r\n            <option value="1000">Filas por p\xe1gina: 1000</option>\r\n            <option value="5000">Filas por p\xe1gina: 5000</option>\r\n            <option value="10000">Filas por p\xe1gina: 10000</option>\r\n            <option value="50000">Filas por p\xe1gina: 50000</option>\r\n        </select>\r\n        </span>\r\n    </p>\r\n    <nav class="pagination is-centered" >\r\n        \r\n        <a class="pagination-previous" [ngClass]="{\'is-disabled\': 1 == ctrl.paginaActual }" (click)="ctrl.paginaAnterior()">Anterior</a>\r\n        <a class="pagination-next"  [ngClass]="{\'is-disabled\': ctrl.paginasTotales <= ctrl.paginaActual }" (click)="ctrl.paginaSiguiente()">Siguiente</a>\r\n\r\n\r\n        <ul class="pagination-list" *ngIf="ctrl.paginasTotales<=7">\r\n            <li *ngFor="let i of ctrl.indicePaginas">\r\n            <a class="pagination-link" [ngClass]="{\'is-current\': i == ctrl.paginaActual }" (click)="ctrl.mostrarLista(i)">{{ i }}</a>\r\n            </li>\r\n        </ul>\r\n\r\n        <ul class="pagination-list" *ngIf="ctrl.paginaActual < 4 && ctrl.paginasTotales > 7">\r\n            <li>\r\n                <a class="pagination-link" [ngClass]="{\'is-current\': 1 == ctrl.paginaActual }" (click)="ctrl.mostrarLista(1)">1</a>\r\n            </li>\r\n            <li><a class="pagination-link" [ngClass]="{\'is-current\': 2== ctrl.paginaActual }" (click)="ctrl.mostrarLista(2)">2</a></li>\r\n            <li><a class="pagination-link" [ngClass]="{\'is-current\': 3== ctrl.paginaActual }" (click)="ctrl.mostrarLista(3)">3</a></li>\r\n            <li><a class="pagination-link" [ngClass]="{\'is-current\': 4== ctrl.paginaActual }" (click)="ctrl.mostrarLista(4)">4</a></li>\r\n            <li><span class="pagination-ellipsis">&hellip;</span></li>\r\n            <li >\r\n            <a class="pagination-link" [ngClass]="{\'is-current\': ctrl.paginasTotales == ctrl.paginaActual }" (click)="ctrl.mostrarLista(ctrl.paginasTotales)">{{ ctrl.paginasTotales }}</a>\r\n            </li>\r\n        </ul>\r\n\r\n        <ul class="pagination-list" *ngIf="ctrl.paginaActual > ctrl.paginasTotales - 4 && ctrl.paginasTotales > 7">\r\n            <li>\r\n                <a class="pagination-link" [ngClass]="{\'is-current\': 1 == ctrl.paginaActual }" (click)="ctrl.mostrarLista(1)">1</a>\r\n            </li>\r\n            <li><span class="pagination-ellipsis">&hellip;</span></li>\r\n            <li><a class="pagination-link" [ngClass]="{\'is-current\': ctrl.paginasTotales - 3 == ctrl.paginaActual }" (click)="ctrl.mostrarLista(ctrl.paginasTotales - 3)">{{ ctrl.paginasTotales - 3 }}</a></li>\r\n            <li><a class="pagination-link" [ngClass]="{\'is-current\': ctrl.paginasTotales - 2 == ctrl.paginaActual }" (click)="ctrl.mostrarLista(ctrl.paginasTotales - 2)">{{ ctrl.paginasTotales - 2 }}</a></li>\r\n            <li><a class="pagination-link" [ngClass]="{\'is-current\': ctrl.paginasTotales - 1 == ctrl.paginaActual }" (click)="ctrl.mostrarLista(ctrl.paginasTotales - 1)">{{ ctrl.paginasTotales - 1 }}</a></li>\r\n        \r\n            <li >\r\n            <a class="pagination-link" [ngClass]="{\'is-current\': ctrl.paginasTotales == ctrl.paginaActual }" (click)="ctrl.mostrarLista(ctrl.paginasTotales)">{{ ctrl.paginasTotales }}</a>\r\n            </li>\r\n        </ul>\r\n\r\n        <ul class="pagination-list" *ngIf="ctrl.paginaActual >= 4 && ctrl.paginaActual <= ctrl.paginasTotales - 4 && ctrl.paginasTotales > 7">\r\n            <li>\r\n            <a class="pagination-link" [ngClass]="{\'is-current\': 1 == ctrl.paginaActual }" (click)="ctrl.mostrarLista(1)">1</a>\r\n            </li>\r\n            <li><span class="pagination-ellipsis">&hellip;</span>\r\n            </li>\r\n            <li>\r\n            <a class="pagination-link" [ngClass]="{\'is-current\': ctrl.paginaActual-1 == ctrl.paginaActual }" (click)="ctrl.mostrarLista(ctrl.paginaActual-1)">{{ ctrl.paginaActual-1 }}</a>\r\n            </li>\r\n            <li>\r\n            <a class="pagination-link" [ngClass]="{\'is-current\': ctrl.paginaActual == ctrl.paginaActual }" (click)="ctrl.mostrarLista(ctrl.paginaActual)">{{ ctrl.paginaActual }}</a>\r\n            </li>\r\n            <li >\r\n            <a class="pagination-link" [ngClass]="{\'is-current\': ctrl.paginaActual+1 == ctrl.paginaActual }" (click)="ctrl.mostrarLista(ctrl.paginaActual+1)">{{ ctrl.paginaActual+1 }}</a>\r\n            </li>\r\n            <li><span class="pagination-ellipsis">&hellip;</span></li>\r\n            <li >\r\n            <a class="pagination-link" [ngClass]="{\'is-current\': ctrl.paginasTotales == ctrl.paginaActual }" (click)="ctrl.mostrarLista(ctrl.paginasTotales)">{{ ctrl.paginasTotales }}</a>\r\n            </li>\r\n        </ul>\r\n    </nav>\r\n</div>\r\n'},qGi7:function(e,t){e.exports='<div class="modal is-active">\r\n   \r\n    <div class="modal-content">\r\n        <div class="card" style=" border-radius:1em; overflow: hidden">\r\n            <div class="card-header is-primary">\r\n                <section class="hero is-primary" style="width: 100%">\r\n                    <div class="hero-body" style="align-self: center;">\r\n                        <div class="container has-text-centered">\r\n                            <figure class="image" style="height:60px">\r\n                                <img src="assets/sial.svg" style="height:60px">\r\n                            </figure>\r\n                            <small>Cliente Versi\xf3n {{cliente_version}}</small>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                </section>\r\n            </div>\r\n            \x3c!--<div class="card-image" >\r\n                <figure class="image " style="border-radius: 1em 1em 0em 0em; overflow: hidden;">\r\n                    <img src="assets/bg-login_salud.svg" alt="Image">\r\n                </figure>\r\n            </div>--\x3e\r\n            <div class="card-content">\r\n                <form name="form" (ngSubmit)="!loading && login()" style="overflow:auto" class="has-text-centered">\r\n                    \r\n                    <h1 class="title has-text-centered">Bienvenido</h1>\r\n                    <div class="notification is-danger" *ngIf="mostrarMensaje">\r\n                        <a class="delete" (click)="mostrarMensaje = false"></a>\r\n                        <b>Error:</b> {{ mensaje }}\r\n                    </div>\r\n                    <p class="control has-icon">\r\n                        <input class="input is-medium" [ngClass]="{\'is-danger\': mensaje}" type="text" name="id" id="id" placeholder="Usuario" [(ngModel)]="credenciales.id"  autofocus>\r\n                        <span class="icon is-small">\r\n                        <i class="fa fa-user"></i>\r\n                        </span>\r\n                    </p>\r\n                    <p class="control has-icon">\r\n                        <input class="input is-medium" [ngClass]="{\'is-danger\': mensaje}" type="password" name="password" id="password" placeholder="Contrase\xf1a" [(ngModel)]="credenciales.password">\r\n                        <span class="icon is-small">\r\n                        <i class="fa fa-lock"></i>\r\n                        </span>\r\n                    </p>\r\n                    <p class="control" >\r\n                        <button class="button is-primary is-large is-fullwidth" [ngClass]="{\'is-loading\': loading}" >Iniciar sesi\xf3n</button>\r\n                    </p>\r\n                    <p class="control" *ngIf="saludIdDisponible">\r\n                        <button class="button is-info is-large is-fullwidth">Conectar con Salud ID</button>\r\n                    </p>\r\n                    <p class="control">\r\n                        <a class="button is-white is-fullwidth" (click)="mostrarRecuperarPassword=true">Olvid\xe9 mi contrase\xf1a</a>\r\n                    </p>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<footer class="footer" style="position:absolute; bottom:0px; width:100%; max-height:128px;">\r\n        <div class="container">\r\n            <div class="content has-text-centered">\r\n                <div class="columns is-mobile">\r\n                    <div class="column">\r\n                        <figure class="image" style="max-width:128px">\r\n                            <img src="assets/ssa.png">\r\n                        </figure>\r\n                    </div>\r\n                    <div class="column">\r\n                        <figure class="image" style="max-width:128px">\r\n                            <img src="assets/chiapas-une.svg">\r\n                        </figure>\r\n                    </div>\r\n                    <div class="column">\r\n                        <figure class="image" style="max-width:128px">\r\n                            <img src="assets/gob_estado.png">\r\n                        </figure>\r\n                    </div>\r\n                    <div class="column">\r\n                        <figure class="image" style="max-width:128px">\r\n                            <img src="assets/salud-meso.svg">\r\n                        </figure>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </footer>\r\n\r\n<app-reset-password *ngIf="mostrarRecuperarPassword"\r\n[resetPasswordViaToken]="resetPasswordViaToken"\r\n[id]="resetPasswordPayload.id"\r\n[resetToken]="resetPasswordPayload.reset_token"\r\n (onCerrar)="mostrarRecuperarPassword=false;resetPasswordViaToken=false"></app-reset-password>'},qOWO:function(e,t){},qVFN:function(e,t){e.exports='<panel-control-menu></panel-control-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding:2em; overflow:auto;">\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n            <section class="hero is-primary">\r\n                <div class="hero-body">\r\n                    <div class="container is-fluid">\r\n                        <nav class="level">\r\n                            <div class="level-left">\r\n                                <h1 class="title">\r\n                                    <span  *ngIf="!cargando" class="icon is-medium"><i class="fa fa-desktop"></i></span>\r\n                                    <span  *ngIf="cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span> \r\n                                    Servidor local\r\n                                </h1>\r\n                            </div>\r\n                        </nav> \r\n                        <div class="block">                               \r\n                            <a class="button is-primary is-inverted" [ngClass]="{ \'is-loading\': sincronizandoEnLinea }" (click)="sincronizarEnLinea()">\r\n                                <span class="icon"><i class="fa fa-exchange"></i></span><span>Sincronizar en l\xednea</span>\r\n                            </a>\r\n                            <a class="button is-primary is-inverted" [ngClass]="{ \'is-disabled\': sincronizandoEnLinea }" (click)="descargarSync()">\r\n                                <span class="icon"><i class="fa fa-download"></i></span><span>Descargar sincronizaci\xf3n</span>\r\n                            </a>\r\n                            <a class="button is-primary is-inverted" [ngClass]="{ \'is-disabled\': sincronizandoEnLinea }" (click)="mostrarModalSubirArchivoSync = true;">\r\n                                <span class="icon"><i class="fa fa-upload"></i></span><span>Cargar confirmaci\xf3n</span>\r\n                            </a>\r\n                        </div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n                        \x3c!--\r\n                        <nav class="level">\r\n\t\t\t\t\t\t\t<p class="level-item has-text-centered">\r\n\t\t\t\t\t\t\t\t<a class="button is-primary is-inverted" [ngClass]="{ \'is-loading\': sincronizandoEnLinea }" (click)="sincronizarEnLinea()">\r\n\t\t\t\t\t\t\t\t\t<span class="icon"><i class="fa fa-exchange"></i></span><span>Sincronizar en l\xednea</span>\r\n\t\t\t\t\t\t\t\t</a>\r\n\t\t\t\t\t\t\t</p>\r\n                            <p class="level-item has-text-centered">\r\n                                <a class="button is-primary is-inverted" [ngClass]="{ \'is-disabled\': sincronizandoEnLinea }" (click)="descargarSync()">\r\n                                    <span class="icon"><i class="fa fa-download"></i></span><span>Descargar sincronizaci\xf3n</span>\r\n                                </a>\r\n                            </p>\r\n                            <p class="level-item has-text-centered">\r\n                                <a class="button is-primary is-inverted" [ngClass]="{ \'is-disabled\': sincronizandoEnLinea }">\r\n                                    <span class="icon"><i class="fa fa-upload"></i></span><span>Cargar confirmaci\xf3n</span>\r\n                                </a>\r\n                            </p>\r\n                        </nav>--\x3e\r\n                        \r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <section >\r\n                <table class="table" style="font-size:0.9em;">\r\n\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t<th>ID</th>\r\n\t\t\t\t\t\t\t<th>Servidor</th>\r\n\t\t\t\t\t\t\t<th>Nombre</th>\r\n\t\t\t\t\t\t\t<th>Generado</th>\r\n                            <th>Sincronizado</th>\r\n                            <th>Usuario</th>\r\n\t\t\t\t\t\t</tr>\r\n                    </thead>\r\n                    <tbody  *ngIf="!busquedaActivada">\r\n                        <tr *ngFor="let item of lista; let i=index">  \r\n                            <td>{{ item.id }}</td>   \r\n                            <td>{{ item.servidor_id }}</td>                      \r\n                            <td>{{ item.servidor_nombre }}</td> \r\n                            <td><small>{{ item.fecha_generacion }}</small></td>  \r\n                            <td><small>{{ item.created_at }}</small></td> \r\n                            <td>{{ item.usuario_id }}</td>                                                  \r\n                        </tr>\r\n                        <tr *ngIf="lista.length == 0">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>                    \r\n                        </tr>\r\n                    </tbody>\r\n                    <tbody *ngIf="busquedaActivada">\r\n                        <tr *ngFor="let item of resultadosBusqueda; let i=index">\r\n                            <td>{{ item.id }}</td>   \r\n                            <td>{{ item.servidor_id }}</td>                      \r\n                            <td>{{ item.servidor_nombre }}</td> \r\n                            <td><small>{{ item.fecha_generacion }}</small></td>  \r\n                            <td><small>{{ item.created_at }}</small></td> \r\n                            <td>{{ item.usuario_id }}</td> \r\n                        </tr>\r\n\r\n                        <tr *ngIf="resultadosBusqueda.length == 0 && busquedaActivada">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>                    \r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n                \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n                <paginacion \r\n                    [total]="total" \r\n                    [paginasTotales]="paginasTotales" \r\n                    [resultadosPorPagina]="resultadosPorPagina" \r\n                    [paginaActual]="paginaActual" \r\n                    [indicePaginas]="indicePaginas"\r\n                    (onSiguiente)="paginaSiguiente()" \r\n                    (onAnterior)="paginaAnterior()" \r\n                    (onListar)="listar($event)" \r\n                    *ngIf="total>0 && total > resultadosPorPagina && !busquedaActivada"></paginacion>\r\n                \x3c!-- Paginaci\xf3n para la b\xfasqueda  --\x3e\r\n                <paginacion \r\n                    [total]="totalBusqueda" \r\n                    [paginasTotales]="paginasTotalesBusqueda" \r\n                    [resultadosPorPagina]="resultadosPorPaginaBusqueda" \r\n                    [paginaActual]="paginaActualBusqueda" \r\n                    [indicePaginas]="indicePaginasBusqueda"\r\n                    (onSiguiente)="paginaSiguienteBusqueda(searchBox.value)" \r\n                    (onAnterior)="paginaAnteriorBusqueda(searchBox.value)" \r\n                    (onListar)="listarBusqueda(searchBox.value,$event)" \r\n                    *ngIf="totalBusqueda > 0 && totalBusqueda > resultadosPorPaginaBusqueda && busquedaActivada"></paginacion>\r\n            </section>\r\n        </div>\r\n        <br>\r\n       \r\n       \r\n    </div>\r\n</div>\r\n\r\n<div class="modal" [ngClass]="{ \'is-active\': mostrarLogAutoSync }">\r\n    <div class="modal-background" (click)="mostrarLogAutoSync = !mostrarLogAutoSync"></div>\r\n    <div class="modal-card">\r\n        <header class="modal-card-head">\r\n        <p class="modal-card-title">Detalles de la sincronizaci\xf3n</p>\r\n        <button class="delete" (click)="mostrarLogAutoSync = !mostrarLogAutoSync"></button>\r\n        </header>\r\n        <section class="modal-card-body is-paddingless">\r\n            <div class="content">\r\n                <pre>{{ logAutoSync }}</pre>\r\n            </div>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n        <a class="button" (click)="mostrarLogAutoSync = !mostrarLogAutoSync">Cerrar</a>\r\n        </footer>\r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n\r\n<div class="modal"  [ngClass]="{ \'is-active\': mostrarModalSubirArchivoSync }">\r\n  <div class="modal-background" (click)="mostrarModalSubirArchivoSync =!mostrarModalSubirArchivoSync"></div>\r\n  <div class="modal-card">\r\n    <header class="modal-card-head">\r\n      <p class="modal-card-title"><span class="icon"><i class="fa fa-cloud-upload"></i></span> Subir archivo de sincronizaci\xf3n manual</p>\r\n      <button class="delete" (click)="mostrarModalSubirArchivoSync = !mostrarModalSubirArchivoSync"></button>\r\n    </header>\r\n    <section class="modal-card-body">        \r\n        <div class="notification is-danger" *ngIf="mensajeErrorSync!=\'\'"><span class="icon"><i class="fa fa-exclamation-circle"></i></span> {{ mensajeErrorSync }}</div>\r\n       \r\n        <div class="field" [ngClass]="{ \'is-hidden\' : enviandoDatos || documentoSubido }">\r\n            <label for="sync" class="label" [ngClass]="{ \'is-danger\': errores.archivo != null }">Elige el archivo sync.XXXX.zip</label>            \r\n            <input class="input-file" type="file" #archivoInput  name="sync" id="sync" style="width:100%" [disabled]="documentoSubido" (change)="fileChange($event)" accept=".zip">            \r\n            <p class="help is-danger" *ngIf="errores.archivo == \'required\'">Debe elegir un archivo.</p>\r\n            <p class="help is-danger" *ngIf="errores.archivo == \'max\'">El archivo no puede ser superior a los <b>10MB</b>.</p>\r\n            <p class="help is-danger" *ngIf="errores.archivo == \'mimetypes\'">El tipo de archivo no es valido, verifique que tenga las siguientes extensiones: .zip</p>\r\n        </div>\r\n        <div *ngIf="enviandoDatos || documentoSubido">\r\n            <h1 class="subtitle" *ngIf="enviandoDatos">Subiendo documento...</h1>\r\n            <h1 class="subtitle" *ngIf="documentoSubido && !enviandoDatos"><span class="icon"><i class="fa fa-check-circle"></i></span> \xa1El documento se ha subido exitosamente!</h1>\r\n            <progress class="progress is-primary" value="{{ progreso }}" max="100">{{ progreso}}%</progress>\r\n        </div>\r\n    </section>\r\n    <footer class="modal-card-foot">\r\n        <a class="button is-primary" [ngClass]="{ \'is-disabled\' : !archivo || enviandoDatos  }" *ngIf="!documentoSubido" (click)="adjuntar()">Adjuntar</a>\r\n        <a class="button is-primary" [ngClass]="{ \'is-disabled\' : !archivo || enviandoDatos  }" *ngIf="documentoSubido" (click)="reset()">Adjuntar otro documento</a>\r\n        <a class="button" [ngClass]="{ \'is-disabled\' : enviandoDatos  }" (click)="mostrarModalSubirArchivoSync = !mostrarModalSubirArchivoSync">Cerrar</a>      \r\n    </footer>\r\n  </div>\r\n</div>\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;z-index:9999;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>     \r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>'},qVyk:function(e,t){e.exports='<administrador-central-menu></administrador-central-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%; ">\r\n    <div class="column is-narrow is-hidden-mobile">\r\n        <administrador-central-menu-lateral></administrador-central-menu-lateral>\r\n    </div>\r\n    <div class="column">\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden; margin:20px">\r\n            <div class="top-bar is-primary" [ngClass] = " {\'is-dark\': busquedaActivada, \'is-primary\': !busquedaActivada } ">\r\n                <h1 class="title" *ngIf="!busquedaActivada">\r\n                    <span class="icon is-medium"><i class="fa fa-check-square"></i></span> Claves b\xe1sicas\r\n                </h1>\r\n                <h1 class="title" *ngIf="busquedaActivada">\r\n                    <span class="icon is-medium"><i class="fa fa-search"></i></span> B\xfasqueda \r\n                </h1>\r\n                <a class="button  is-dark" *ngIf="busquedaActivada" style="position:absolute; top:1em; right:1em;" (click)="busquedaActivada=false;searchBox.value=\'\';resultadosBusqueda=[]"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n                    <a class="button  is-dark" *ngIf="busquedaActivada" style="position:absolute; top:1em; right:3.5em;" (click)="listarBusqueda(searchBox.value,1)"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                    <a class="button  is-primary" *ngIf="!busquedaActivada" style="position:absolute; top:1em; right:1em;" (click)="listar(1)"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                <div class="control is-grouped">\r\n                    <p class="control is-expanded">\r\n                        <input class="input is-medium" type="text" placeholder="Buscar" #searchBox id="search-box" (keyup)="buscar(searchBox.value)">\r\n                    </p>\r\n                    <p class="control">\r\n                        <a class="button is-medium is-primary is-inverted " routerLink="/administrador-central/claves-basicas/nueva">\r\n                        <span class="icon"><i class="fa fa-plus"></i></span><span>Nueva</span>\r\n                        </a>\r\n                    </p>\r\n                </div>\r\n            </div> \r\n            <div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n        \r\n            <table class="table" *ngIf="!cargando">\r\n                <thead>\r\n                    <tr>\r\n                    <th>Nombre</th>\r\n                    <th style="text-align:center; width:100px"></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody  *ngIf="!busquedaActivada">\r\n                    <tr *ngFor="let item of lista; let i=index">                        \r\n                        <td style="vertical-align: middle;"><a routerLink="/administrador-central/claves-basicas/editar/{{item.id}}">{{ item.nombre }}</a></td>                        \r\n                        <td style="vertical-align: middle;" class="has-text-centered">\r\n                            <span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span>\r\n                            <a *ngIf="!item.cargando" class="button is-inverted is-primary"(click)="mostrarUnidadesMedicas(item, i)" title="Ver unidades m\xe9dicas asignadas"><span class="icon"><i class="fa fa-list-alt"></i></span></a>\r\n                            <a *ngIf="!item.cargando" class="button is-white" (click)="eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a>\r\n                        </td>                        \r\n                    </tr>\r\n                    <tr *ngIf="lista.length == 0">\r\n                        <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n                <tbody *ngIf="busquedaActivada">\r\n                    <tr *ngFor="let item of resultadosBusqueda; let i=index">\r\n                    <td style="vertical-align: middle;"><a routerLink="/administrador-central/claves-basicas/editar/{{item.id}}">{{ item.nombre }}</a></td>                        \r\n                        <td style="vertical-align: middle;" class="has-text-centered">\r\n                            <span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span>\r\n                            <a *ngIf="!item.cargando"  (click)="mostrarUnidadesMedicas(item, i)" title="Ver unidades m\xe9dicas asignadas"><span class="icon"><i class="fa fa-list-alt"></i></span></a>\r\n                            <a *ngIf="!item.cargando" class="is-danger" (click)="eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a>\r\n                        </td>\r\n                    </tr>\r\n\r\n                    <tr *ngIf="resultadosBusqueda.length == 0 && busquedaActivada">\r\n                        <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion \r\n                [total]="total" \r\n                [paginasTotales]="paginasTotales" \r\n                [resultadosPorPagina]="resultadosPorPagina" \r\n                [paginaActual]="paginaActual" \r\n                [indicePaginas]="indicePaginas"\r\n                (onSiguiente)="paginaSiguiente()" \r\n                (onAnterior)="paginaAnterior()" \r\n                (onListar)="listar($event)" \r\n                *ngIf="total>0 && total > resultadosPorPagina && !busquedaActivada"></paginacion>\r\n            \x3c!-- Paginaci\xf3n para la b\xfasqueda  --\x3e\r\n            <paginacion \r\n                [total]="totalBusqueda" \r\n                [paginasTotales]="paginasTotalesBusqueda" \r\n                [resultadosPorPagina]="resultadosPorPaginaBusqueda" \r\n                [paginaActual]="paginaActualBusqueda" \r\n                [indicePaginas]="indicePaginasBusqueda"\r\n                (onSiguiente)="paginaSiguienteBusqueda(searchBox.value)" \r\n                (onAnterior)="paginaAnteriorBusqueda(searchBox.value)" \r\n                (onListar)="listarBusqueda(searchBox.value,$event)" \r\n                *ngIf="totalBusqueda > 0 && totalBusqueda > resultadosPorPaginaBusqueda && busquedaActivada"></paginacion>\r\n           \r\n           \r\n            \r\n        </div>\r\n        \r\n    </div>\r\n</div>\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style="text-align:center" ><a  class="button is-danger is-inverted" (click)="ultimaPeticion(); mensajeError.mostrar = false"> <span class="icon"><i class="fa fa-refresh"></i></span> <span>Volver a intentar</span></a></p>        \r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n<claves-basicas-lista-clues *ngIf="mostrarModalClues" [lista]="listaSeleccionada" (onCerrar)="mostrarModalClues = false"></claves-basicas-lista-clues>'},qaTH:function(e,t){e.exports=""},r44p:function(e,t){e.exports='<aside class="menu" style="padding-left: 1em; margin-top: -3em; padding: 10px; overflow:auto; display:block" [style.maxHeight.px]="tamano-50">\r\n    <div *ngFor="let item of menuAutorizado">\r\n        <br>\r\n        <p class="menu-label">{{ item.titulo }}</p>\r\n        <ul class="menu-list">\r\n            <li *ngFor="let modulo of item.modulos">\r\n                <a routerLink="{{ modulo.url }}" routerLinkActive="is-active">\r\n                    <span class="icon" ><img src="{{ modulo.icono }}"></span>&nbsp;&nbsp;<span>{{ modulo.titulo }}</span>\r\n                </a>\r\n            </li>    \r\n        </ul>\r\n    </div>\r\n        \r\n</aside>'},r49I:function(e,t){e.exports='<formulario #ctrl URL="sincronizar-recetas" titulo="Sincronizar receta" [dato]="dato"></formulario>\r\n<menu-farmacia [modulo]="\'Sincronizar recetas\'" [icono]="\'assets/hub-farmacia-sub.svg\'" [url]="\'/farmacia-subrrogada/sincronizar-recetas\'"></menu-farmacia>\r\n<div style="height:50px;"></div>\r\n<form name="form" novalidate [formGroup]="dato" (ngSubmit)="ctrl.enviar()">\r\n    <div class="contenedor columns " style="height:100%">\r\n        <div class="column is-one-third" style="padding:1em;">\r\n            <div style="background: #FFF; border-radius: 1em; ">\r\n                <section class="hero is-primary">\r\n                    <h1 class="title" style="margin:0.5em; ">\r\n                        <span class="icon is-medium">\r\n                            <i class="fa fa-file-text"></i>\r\n                        </span> {{ctrl.moduloTitulo}}\r\n                    </h1>\r\n\r\n\r\n                </section>\r\n                <div style="padding: 1em;">\r\n                    <nav class="nav">\r\n                        <div class="nav-right nav-menu">\r\n                            <div class="nav-item">\r\n                                <div class="field is-grouped">\r\n                                    <p class="control" *ngIf="!tieneid" style="float:left">\r\n                                        <button class="button is-primary" type="submit" [ngClass]="{\'is-loading\': ctrl.cargando}" [disabled]="ctrl.dato.invalid">Guardar</button>\r\n                                    </p>\r\n                                    <p class="control" style="float:left">\r\n                                        <a class="button" (click)="ctrl.regresar()">\r\n                                            Regresar\r\n                                        </a>\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </nav>\r\n\r\n                    <h3 class="title">\r\n                        <i class="fa fa-file"></i>\r\n                         Datos del movimiento\r\n                    </h3>\r\n                    <div >\r\n                        <div class="field">\r\n                            <label class="label">Fecha del movimiento:</label>\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n\r\n\r\n                                <input class="input" [value]="fecha_actual" [(ngModel)]=\'fecha_movimiento\' formControlName="fecha_movimiento" ngui-datetime-picker\r\n                                    [min-date]="MinDate" [max-date]="MaxDate" date-only="true" [ngClass]="{\'is-danger\': ctrl.dato.get(\'fecha_movimiento\').hasError(\'required\') && ctrl.dato.get(\'fecha_movimiento\').touched}"\r\n                                    placeholder="YYYY-MM-DD" />\r\n\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'fecha_movimiento\').hasError(\'required\') && ctrl.dato.get(\'fecha_movimiento\').touched">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'fecha_movimiento\').hasError(\'required\') && ctrl.dato.get(\'fecha_movimiento\').touched">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div class="field">\r\n                            <label class="label">Observaciones:</label>\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n                                <textarea class="textarea" autofocus type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'observaciones\').hasError(\'required\') && ctrl.dato.get(\'observaciones\').touched}"\r\n                                    placeholder="Observaciones" formControlName="observaciones"></textarea>\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'observaciones\').hasError(\'required\') && ctrl.dato.get(\'observaciones\').touched">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'observaciones\').hasError(\'required\') && ctrl.dato.get(\'observaciones\').touched">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div class="control" *ngIf="mostrarCancelado"> \r\n                            \x3c!-- *ngIf --\x3e\r\n                            <div class="field">\r\n                                <div class="b-checkbox control is-expanded  has-icon has-icon-right">\r\n\r\n                                    <input type="checkbox" id="cancelado" class="styled" [checked]="ctrl.dato.get(\'cancelado\').value == \'1\' ? true : false" (change)="ctrl.dato.get(\'cancelado\').patchValue(ctrl.dato.get(\'cancelado\').value == \'1\' ? \'0\' : \'1\')">\r\n                                    <label for="cancelado">  Cancelado\r\n                                    </label>\r\n                                </div>\r\n                            </div>\r\n                            <div class="field">\r\n                                <label class="label">Observaciones de cancelaci\xf3n:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <textarea class="textarea" autofocus type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'observaciones_cancelacion\').hasError(\'required\') && ctrl.dato.get(\'observaciones_cancelacion\').touched}"\r\n                                        placeholder="Observaciones de cancelacion" formControlName="observaciones_cancelacion"></textarea>\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'observaciones_cancelacion\').hasError(\'required\') && ctrl.dato.get(\'observaciones_cancelacion\').touched">\r\n                                        <i class="fa fa-warning"></i>\r\n                                    </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'observaciones_cancelacion\').hasError(\'required\') && ctrl.dato.get(\'observaciones_cancelacion\').touched">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n\r\n                        </div>\r\n                        <div formGroupName="movimiento_metadato">\r\n                            <div class="field"  >\r\n                                <label class="label">Turno:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <select class="select" name="turno" formControlName="turno_id" [ngClass]="{\'is-danger\': ctrl.dato.get(\'movimiento_metadato\').get(\'turno_id\').hasError(\'required\') && ctrl.dato.get(\'movimiento_metadato\').get(\'turno_id\').touched}">\r\n                                        <option *ngFor="let item of ctrl.turnos" value="{{item.id}}" [attr.selected]="ctrl.dato.get(\'movimiento_metadato\').get(\'turno_id\').value == item.id ">{{ item.nombre }}</option>\r\n                                    </select>\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'turno_id\').hasError(\'required\') && ctrl.dato.get(\'movimiento_metadato\').get(\'turno_id\').touched">\r\n                                        <i class="fa fa-warning"></i>\r\n                                    </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'turno_id\').hasError(\'required\') && ctrl.dato.get(\'movimiento_metadato\').get(\'turno_id\').touched">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <hr id="catalogos" (click)="ctrl.cargarCatalogo(\'turnos\', \'turnos\'); ">\r\n                    <h3 class="title">\r\n                        <i class="fa fa-user-md"></i>\r\n                        Datos de la receta\r\n                    </h3>\r\n\r\n                    <div >\r\n                        <nav class="panel" formGroupName="receta">\r\n\r\n                            <div class="columns" style="width:100%">\r\n                                <div class="column is-half">\r\n                                    <div class="field">\r\n                                        <label class="label">Folio:</label>\r\n                                        <p class="control is-expanded  has-icon has-icon-right">\r\n                                            <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'receta\').get(\'folio\').hasError(\'required\') && ctrl.dato.get(\'receta\').get(\'folio\').touched}"\r\n                                                placeholder="folio" formControlName="folio">\r\n                                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'receta\').get(\'folio\').hasError(\'required\') && ctrl.dato.get(\'receta\').get(\'folio\').touched">\r\n                                                <i class="fa fa-warning"></i>\r\n                                            </span>\r\n                                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'receta\').get(\'folio\').hasError(\'required\') && ctrl.dato.get(\'receta\').get(\'folio\').touched">Este campo es requerido.</span>\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                                <div class="column is-half">\r\n                                    <div class="field">\r\n                                        <label class="label">Tipo de receta:</label>\r\n                                        <p class="control is-expanded  has-icon has-icon-right">\r\n\r\n                                                <select class="select" name="tipo_receta" formControlName="tipo_receta" [ngClass]="{\'is-danger\': ctrl.dato.get(\'receta\').get(\'tipo_receta\').hasError(\'required\') && ctrl.dato.get(\'receta\').get(\'tipo_receta\').touched}">\r\n                                                    <option *ngFor="let item of tipos_recetas" value="{{item.id}}" >{{ item.nombre }}</option>\r\n                                                </select>\r\n\r\n                                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'receta\').get(\'tipo_receta\').hasError(\'required\') && ctrl.dato.get(\'receta\').get(\'tipo_receta\').touched">\r\n                                                <i class="fa fa-warning"></i>\r\n                                            </span>\r\n                                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'receta\').get(\'tipo_receta\').hasError(\'required\') && ctrl.dato.get(\'receta\').get(\'tipo_receta\').touched">Este campo es requerido.</span>\r\n                                        </p>\r\n                                    </div>\r\n\r\n                                    \r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class="columns" style="width:100%">\r\n                                <div class="column is-half">\r\n                                    <div class="field">\r\n                                        <label class="label">Fecha de receta:</label>\r\n                                        <p class="control is-expanded  has-icon has-icon-right">\r\n                                            <input class="input" [value]="fecha_actual" [(ngModel)]=\'fecha_receta\' formControlName="fecha_receta" ngui-datetime-picker\r\n                                                [min-date]="MinDate" [max-date]="MaxDate" date-only="true" [ngClass]="{\'is-danger\': ctrl.dato.get(\'receta\').get(\'fecha_receta\').hasError(\'required\') && ctrl.dato.get(\'receta\').get(\'fecha_receta\').touched}"\r\n                                                placeholder="YYYY-MM-DD" />\r\n\r\n                                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'receta\').get(\'fecha_receta\').hasError(\'required\') && ctrl.dato.get(\'receta\').get(\'fecha_receta\').touched">\r\n                                                <i class="fa fa-warning"></i>\r\n                                            </span>\r\n                                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'receta\').get(\'fecha_receta\').hasError(\'required\') && ctrl.dato.get(\'receta\').get(\'fecha_receta\').touched">Este campo es requerido.</span>\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class="column is-half">\r\n                                    <div class="field">\r\n                                        <label class="label">Imagen:</label>\r\n                                        <p class="control is-expanded  has-icon has-icon-right">\r\n                                            <input type="file" (change)="ctrl.seleccionarImagenBase64($event, ctrl.dato.controls.receta.controls.imagen_receta)">\r\n                                            <input type="hidden" placeholder="Imagen de la receta" formControlName="imagen_receta">\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class="columns" style="width:100%">\r\n                                <div class="column ">\r\n                                    <div class="field">\r\n                                        <label class="label">Doctor:</label>\r\n                                        <p class="control is-expanded  has-icon has-icon-right">\r\n                                            <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'receta\').get(\'doctor\').hasError(\'required\') && ctrl.dato.get(\'receta\').get(\'doctor\').touched}"\r\n                                                placeholder="Doctor" formControlName="doctor">\r\n                                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'receta\').get(\'doctor\').hasError(\'required\') && ctrl.dato.get(\'receta\').get(\'doctor\').touched">\r\n                                                <i class="fa fa-warning"></i>\r\n                                            </span>\r\n                                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'receta\').get(\'doctor\').hasError(\'required\') && ctrl.dato.get(\'receta\').get(\'doctor\').touched">Este campo es requerido.</span>\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class="columns" style="width:100%">\r\n                                <div class="column ">\r\n                                    <div class="field">\r\n                                        <label class="label">Paciente:</label>\r\n                                        <p class="control is-expanded  has-icon has-icon-right">\r\n                                            <input class="input" type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'receta\').get(\'paciente\').hasError(\'required\') && ctrl.dato.get(\'receta\').get(\'paciente\').touched}"\r\n                                                placeholder="Paciente" formControlName="paciente">\r\n                                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'receta\').get(\'paciente\').hasError(\'required\') && ctrl.dato.get(\'receta\').get(\'paciente\').touched">\r\n                                                <i class="fa fa-warning"></i>\r\n                                            </span>\r\n                                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'receta\').get(\'paciente\').hasError(\'required\') && ctrl.dato.get(\'receta\').get(\'paciente\').touched">Este campo es requerido.</span>\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class="columns" style="width:100%">\r\n                                <div class="column ">\r\n                                    <div class="field">\r\n                                        <label class="label">Diagnostico:</label>\r\n                                        <p class="control is-expanded  has-icon has-icon-right">\r\n                                            <textarea class="textarea" autofocus type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'receta\').get(\'diagnostico\').hasError(\'required\') && ctrl.dato.get(\'receta\').get(\'diagnostico\').touched}"\r\n                                                placeholder="Diagnostico" formControlName="diagnostico"></textarea>\r\n                                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'receta\').get(\'diagnostico\').hasError(\'required\') && ctrl.dato.get(\'receta\').get(\'diagnostico\').touched">\r\n                                                <i class="fa fa-warning"></i>\r\n                                            </span>\r\n                                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'receta\').get(\'diagnostico\').hasError(\'required\') && ctrl.dato.get(\'receta\').get(\'diagnostico\').touched">Este campo es requerido.</span>\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class="block" *ngIf="ctrl.dato.controls.receta.controls.imagen_receta.value != \'\'">\r\n                                <a class="button is-primary is-outlined is-fullwidth" (click)="abrirModal(\'verFoto\')">\r\n                                    <span class="icon">\r\n                                        <i class="fa fa-eye"> </i> \r\n                                    </span> \r\n                                    &nbsp; Ver receta\r\n                                </a>\r\n                            </div>\r\n\r\n                            <div class="modal" id="verFoto">\r\n                                <div class="modal-background"></div>\r\n                                <div class="modal-content">\r\n                                    <p class="image is-4by3">\r\n                                        <img [src]="\'data:image/jpg;base64,\'+ctrl.dato.controls.receta.controls.imagen_receta.value" alt="Receta" />\r\n                                    </p>\r\n                                </div>\r\n                                <button type="button" class="modal-close" (click)="cancelarModal(\'verFoto\')"></button>\r\n                            </div>\r\n                        </nav>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \x3c!-- apartado de insumos --\x3e\r\n        <div class="column" style="padding:1em;">\r\n            <div style="background: #FFF; border-radius: 1em; ">\r\n                <section class="hero is-primary">\r\n                    <div class="hero-body">\r\n                        <a class="button  is-primary" style="position:absolute; top:5em; right:3em;" (click)="ctrl.cargarDatos(dato);  "><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                        <div class="container is-fluid">\r\n                            <h1 class="title">\r\n                                <span *ngIf="!ctrl.cargando || !cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                <span *ngIf="ctrl.cargando || cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>                                Insumos\r\n                            </h1>\r\n\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>                    &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n                <section class="section">\r\n\r\n                    <div class="field has-addons has-addons-centered" *ngIf="!tieneid">\r\n\r\n                        <p class="control">\r\n                            <input ngui-auto-complete [source]="insumos_term" [list-formatter]="autocompleListFormatter" id="buscarInsumo" value-property-name="clave"\r\n                                display-property-name="nombre" path-to-data="" loading-text="Cargando..." no-match-found-text="No hay resultados."\r\n                                (valueChanged)="select_insumo_autocomplete($event)" min-chars="1" class="input is-success is-medium"\r\n                                type="text" placeholder="Escanea el codigo de barra, o empieza escribir el nombre del producto" >\r\n\r\n                        </p>\r\n\r\n                        <hr>\r\n                    </div>\r\n\r\n                    <div formArrayName="insumos">\r\n                        <div class="box" *ngFor="let item of ctrl.dato.controls.insumos.controls; let i=index"  [ngStyle]="{\'background\': i%2 == 0 ? \'rgba(230, 230, 232, 0.44)\' : \'\'}">\r\n                            <article class="media" [formGroupName]="i">\r\n                                <div class="media-content">\r\n                                    <div class="content">\r\n                                        <a *ngIf="!tieneid" class="is-danger" title="Quitar este elemento de la lista" style="float:right" (click)="ctrl.quitar_form_array(\'insumos\', i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a>\r\n                                        <p>\r\n                                            <strong>\r\n                                                <span style="color:cornflowerblue">\r\n                                                    Clave: {{ ctrl.dato.controls.insumos.controls[i].controls.clave.value }} \r\n                                                </span>\r\n                                                Nombre: {{ctrl.dato.controls.insumos.controls[i].controls.nombre.value}}\r\n                                            \r\n                                                <label class="tag is-success" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_causes.value"><strong>Cause </strong></label>\r\n                                                <label class="tag is-success" *ngIf="!ctrl.dato.controls.insumos.controls[i].controls.es_causes.value"><strong>No Cause </strong> </label>                                           \r\n                                                                                            \r\n                                                <label class="tag is-warning" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_unidosis.value"><strong>Unidosis</strong> </label>\r\n                                            </strong>\r\n                                            <br> {{ctrl.dato.controls.insumos.controls[i].controls.descripcion.value}}\r\n                                        </p>\r\n                                        <a class="is-danger" title="Ver la lista de lotes de este articulo" style="float:right" (click)="ver_lotes_asignados(i)">\r\n                                            <span class="icon">\r\n                                                <i *ngIf="!mostrar_lote[i]" class="fa fa-plus"></i>\r\n                                                <i *ngIf="mostrar_lote[i]" class="fa fa-minus"></i>\r\n                                            </span>\r\n                                        </a>\r\n                                    </div>\r\n                                    <section *ngIf="mostrar_lote[i]">\r\n                                        <table class="table is-narrow is-bordered is-striped">\r\n                                            <thead>\r\n                                                <tr>\r\n                                                    <th>Lote</th>\r\n                                                    <th>Caducidad</th>\r\n                                                    <th>Codigo de barras</th>\r\n                                                    <th *ngIf="!tieneid">Existencia</th>\r\n                                                    <th>Cantidad</th>\r\n                                                    <th *ngIf="!tieneid"></th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody formArrayName="lotes">\r\n                                                <tr *ngFor="let val of ctrl.dato.controls.insumos.controls[i].controls.lotes.controls;  let i2 = index;">\r\n                                                    <td>{{val.value.lote}} </td>\r\n                                                    <td>{{val.value.fecha_caducidad}}</td>\r\n                                                    <td>{{val.value.codigo_barras}}</td>\r\n                                                    <td *ngIf="!tieneid">{{val.value.existencia}}</td>\r\n                                                    <td [formGroupName]="i2">\r\n                                                        <input *ngIf="!val.nuevo" class="input has-text-centered" (blur)="validar_cantidad_lote(i, val, i2)" type="number" step="1" min="0" max="{{val.value.existencia}}"\r\n                                                            placeholder="Cantidad" formControlName="cantidad">\r\n                                                        <input *ngIf="val.nuevo" class="input has-text-centered" (blur)="validar_cantidad_lote(i, val, i2)" type="number" step="1" min="0" \r\n                                                            placeholder="Cantidad" formControlName="cantidad"></td>\r\n                                                    <td *ngIf="!tieneid">\r\n                                                        <a class="is-danger" title="Quitar este lote" (click)="quitar_lote_insumo(i, val.value, i2)">\r\n                                                            <span class="icon">\r\n                                                                <i class="fa fa-trash-o"></i>\r\n                                                            </span>\r\n                                                        </a>\r\n                                                    </td>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </table>\r\n                                    </section>\r\n                                    <nav class="level is-mobile">\r\n                                        <div class="level-left">\r\n                                            <a class="level-item">\r\n                                                <div class="field">\r\n                                                    <label class="label">Dosis:</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input type="text" class="input" formControlName="dosis" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.dosis.hasError(\'required\') && ctrl.dato.controls.insumos.controls[i].controls.dosis.touched}">\r\n                                                    </p>\r\n                                                </div>\r\n                                            </a>\r\n                                            <a class="level-item">\r\n                                                <div class="field">\r\n                                                    <label class="label">Frecuencia (Horas):</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input type="text" class="input" formControlName="frecuencia" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.frecuencia.hasError(\'required\') && ctrl.dato.controls.insumos.controls[i].controls.frecuencia.touched}">\r\n                                                    </p>\r\n                                                </div>\r\n                                            </a>\r\n                                            <a class="level-item">\r\n                                                <div class="field">\r\n                                                    <label class="label">Duraci\xf3n:</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input type="text" class="input" formControlName="duracion" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.duracion.hasError(\'required\') && ctrl.dato.controls.insumos.controls[i].controls.duracion.touched}">\r\n                                                    </p>\r\n                                                </div>\r\n                                            </a>\r\n                                            <a class="level-item">\r\n                                                <div class="field">\r\n                                                    <label class="label">Cant. recetada:</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input type="text" class="input" formControlName="cantidad_recetada" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.cantidad_recetada.hasError(\'required\') && ctrl.dato.controls.insumos.controls[i].controls.cantidad_recetada.touched}">\r\n                                                    </p>\r\n                                                </div>\r\n                                            </a>\r\n                                            <a class="level-item">\r\n                                                <div class="field">\r\n                                                    <label class="label">Cant. surtida:</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input *ngIf="!tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_surtida" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.hasError(\'required\') && ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.touched}">\r\n                                                        <input *ngIf="tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad" >\r\n                                                    </p>\r\n                                                </div>\r\n                                            </a>\r\n                                        </div>\r\n                                    </nav>\r\n                                </div>\r\n                            </article>\r\n                        </div>\r\n                    </div>\r\n\r\n                </section>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</form>\r\n\r\n\r\n<div class="modal" id="verLotes">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card" style="width: 60%;">\r\n        <header class="modal-card-head">\r\n            <p class="modal-card-title" id="tituloModal"> </p>\r\n            <button type="button" class="delete" (click)="cancelarModal(\'verLotes\')"></button>\r\n        </header>\r\n        <section class="modal-card-body">\r\n            <table class="table is-narrow is-bordered is-striped">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Lote</th>\r\n                        <th>Caducidad</th>\r\n                        <th>Codigo de barras</th>\r\n                        <th>Existencia</th>\r\n                        <th>Cantidad</th>\r\n                        <th *ngIf="es_unidosis">Existencia Unidosis</th>\r\n                        <th *ngIf="es_unidosis">Cantidad Unidosis</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor="let item of lotes_insumo;  let i = index;">\r\n                        <td *ngIf="!item.nuevo">{{item.lote}}</td>\r\n                        <td *ngIf="item.nuevo"><input class="input has-text-centered " type="text" placeholder="Lote" [(ngModel)]="item.lote"></td>\r\n                        <td *ngIf="!item.nuevo">{{item.fecha_caducidad}}</td>\r\n                        <td *ngIf="item.nuevo"><input class="input has-text-centered " type="date" placeholder="Fecha de caducidad" [(ngModel)]="item.fecha_caducidad"></td>\r\n                        <td *ngIf="!item.nuevo">{{item.codigo_barras}}</td>\r\n                        <td *ngIf="item.nuevo"><input class="input has-text-centered " type="text" placeholder="Codigo de barras" [(ngModel)]="item.codigo_barras"></td>\r\n                        <td *ngIf="!item.nuevo">{{item.existencia}}</td>\r\n                        <td *ngIf="item.nuevo"></td>\r\n                        <td>\r\n                            <input class="input has-text-centered " type="number" step="1" min="0" max="{{item.existencia}}" placeholder="Cantidad" [(ngModel)]="item.cantidad">\r\n                        </td>\r\n\r\n                        <td *ngIf="!item.nuevo && es_unidosis">{{item.existencia_unidosis}}</td>\r\n                        <td *ngIf="item.nuevo && es_unidosis"></td>\r\n\r\n                        <td *ngIf="es_unidosis">\r\n                            <input class="input has-text-centered " type="number" step="1" min="0" max="{{item.cantidad_unidosis}}" placeholder="Cantidad Unidosis" [(ngModel)]="item.cantidad_unidosis">\r\n                        </td>\r\n\r\n                        <td *ngIf="item.nuevo">\r\n                            <a class="delete" (click)=eliminarLote(i)></a>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n                \r\n            </table>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-dark" (click)="agregarNuevoLote()">Agregar nuevo lote</a>                            \r\n            <a class="button is-success" (click)="agregarLoteIsumo()">Aceptar</a>\r\n            <a class="button" (click)="cancelarModal(\'verLotes\')">Cancelar</a>\r\n        </footer>\r\n    </div>\r\n</div>'},rOUf:function(e,t){e.exports=".hub-item{ width: 100%; text-align: center; display:block; color:#FFF !important; font-size: 0.8em; }"},ritK:function(e,t){e.exports='<panel-control-menu></panel-control-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%; ">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding:2em;">\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n            <section class="hero" [ngClass] = " {\'is-dark\': busquedaActivada, \'is-primary\': !busquedaActivada } " >\r\n                \r\n                <div class="hero-body" style="position:relative;">\r\n                    <a class="button  is-dark" *ngIf="busquedaActivada" style="position:absolute; top:1em; right:1em;" (click)="busquedaActivada=false;searchBox.value=\'\';resultadosBusqueda=[]"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n                    <a class="button  is-dark" *ngIf="busquedaActivada" style="position:absolute; top:1em; right:3.5em;" (click)="listarBusqueda(searchBox.value,1)"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                    <a class="button  is-primary" *ngIf="!busquedaActivada" style="position:absolute; top:1em; right:1em;" (click)="listar(1)"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                    <div class="container is-fluid">\r\n                        \r\n                        <h1 class="title" *ngIf="!busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-user"></i></span> Roles\r\n                        </h1>\r\n                        <h1 class="title" *ngIf="busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-search"></i></span> B\xfasqueda \r\n                        </h1>\r\n                        <div class="control is-grouped">\r\n                        <p class="control is-expanded">\r\n                            <input class="input is-medium" type="text" placeholder="Buscar" #searchBox id="search-box" (keyup)="buscar(searchBox.value)">\r\n                        </p>\r\n                        <p class="control">\r\n                            <a class="button is-medium is-primary is-inverted " routerLink="/panel-control/roles/nuevo">\r\n                            <span class="icon"><i class="fa fa-plus"></i></span><span>Nuevo</span>\r\n                            </a>\r\n                        </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n            <div style="overflow:auto; display:block" [style.maxHeight.px]="tamano-320">\r\n                <table class="table" *ngIf="!cargando">\r\n                    <thead>\r\n                        <tr>\r\n                        <th>Nombre</th>\r\n                        <th style="text-align:center; width:60px"></th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody  *ngIf="!busquedaActivada">\r\n                        <tr *ngFor="let item of lista; let i=index">                        \r\n                            <td style="vertical-align: middle;"><a routerLink="/panel-control/roles/editar/{{item.id}}">{{ item.nombre }}</a></td>                        \r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando" class="is-danger" (click)="eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>                        \r\n                        </tr>\r\n                        <tr *ngIf="lista.length == 0">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>                    \r\n                        </tr>\r\n                    </tbody>\r\n                    <tbody *ngIf="busquedaActivada">\r\n                        <tr *ngFor="let item of resultadosBusqueda; let i=index">\r\n                        <td style="vertical-align: middle;"><a routerLink="/panel-control/roles/editar/{{item.id}}">{{ item.nombre }}</a></td>                        \r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando" class="is-danger" (click)="eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n                        </tr>\r\n\r\n                        <tr *ngIf="resultadosBusqueda.length == 0 && busquedaActivada">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>                    \r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion \r\n                [total]="total" \r\n                [paginasTotales]="paginasTotales" \r\n                [resultadosPorPagina]="resultadosPorPagina" \r\n                [paginaActual]="paginaActual" \r\n                [indicePaginas]="indicePaginas"\r\n                (onSiguiente)="paginaSiguiente()" \r\n                (onAnterior)="paginaAnterior()" \r\n                (onListar)="listar($event)" \r\n                *ngIf="total>0 && total > resultadosPorPagina && !busquedaActivada"></paginacion>\r\n            \x3c!-- Paginaci\xf3n para la b\xfasqueda  --\x3e\r\n            <paginacion \r\n                [total]="totalBusqueda" \r\n                [paginasTotales]="paginasTotalesBusqueda" \r\n                [resultadosPorPagina]="resultadosPorPaginaBusqueda" \r\n                [paginaActual]="paginaActualBusqueda" \r\n                [indicePaginas]="indicePaginasBusqueda"\r\n                (onSiguiente)="paginaSiguienteBusqueda(searchBox.value)" \r\n                (onAnterior)="paginaAnteriorBusqueda(searchBox.value)" \r\n                (onListar)="listarBusqueda(searchBox.value,$event)" \r\n                *ngIf="totalBusqueda > 0 && totalBusqueda > resultadosPorPaginaBusqueda && busquedaActivada"></paginacion>\r\n           \r\n           \r\n            \r\n        </div>\r\n        \r\n    </div>\r\n</div>\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style="text-align:center" ><a  class="button is-danger is-inverted" (click)="ultimaPeticion(); mensajeError.mostrar = false"> <span class="icon"><i class="fa fa-refresh"></i></span> <span>Volver a intentar</span></a></p>        \r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n'},s7uA:function(e,t){e.exports=""},smoE:function(e,t){e.exports='<listar #ctrl URL="categoria" titulo="Categoria / Almacen"></listar>\r\n<menu-almacen-articulos></menu-almacen-articulos>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:90%; padding-top: 1em;">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em">\r\n        <div style="background: #FFF; border-radius: 1em; ">\r\n\r\n            \x3c!-- Opciones y busqueda --\x3e\r\n            <tabla-opciones \r\n                #opciones\r\n                [ctrl]="ctrl"\r\n                [nombre]="\'Categorias\'"\r\n                [ruta]="\'categoria\'"\r\n                [ruta_pdf]="\'almacen-articulos/lista-categorias.js\'"></tabla-opciones>                      \r\n\r\n            <span style="overflow:auto; display:block" [style.maxHeight.px]="tamano-285">\r\n                <div class="is-fullwidth has-text-centered" *ngIf="opciones.cargandoPdf">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Generando PDF...</span></span>\r\n                    <br>\r\n                    <br>\r\n                </div>\r\n\r\n                <table class="table" *ngIf="!ctrl.cargando && !opciones.cargandoPdf">\r\n                    <thead>\r\n                        <tr>\r\n                            <th><abbr title="Usuario ID">ID</abbr></th>\r\n                            <th>Categoria</th>\r\n                            <th>Nombre</th>\r\n                            <th>Tiene modulo?</th>\r\n                            <th style="text-align:center;">Opciones</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody *ngIf="!ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.dato; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/almacen-articulos/categoria/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/almacen-articulos/categoria/editar/{{item.id}}">{{ item.categorias ? item.categorias.nombre : \'NO TIENE\' }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/almacen-articulos/categoria/editar/{{item.id}}">{{ item.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/almacen-articulos/categoria/editar/{{item.id}}">{{ item.tiene_modulo == 1 ? \'Si\' : \'No\' }} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n                        <tr *ngIf="ctrl.dato ">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                    <tbody *ngIf="ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/almacen-articulos/categoria/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/almacen-articulos/categoria/editar/{{item.id}}">{{ item.categorias ? item.categorias.nombre : \'NO TIENE\' }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/almacen-articulos/categoria/editar/{{item.id}}">{{ item.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/almacen-articulos/categoria/editar/{{item.id}}">{{ item.tiene_modulo == 1 ? \'Si\' : \'No\' }} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n\r\n                        <tr *ngIf="ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </span>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [ctrl]="ctrl"></paginacion>\r\n        </div>\r\n\r\n    </div>\r\n</div>'},stKu:function(e,t){e.exports='<panel-control-menu></panel-control-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding:2em; overflow:auto;">\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n            <section class="hero" [ngClass] = " {\'is-dark\': busquedaActivada, \'is-primary\': !busquedaActivada } " >\r\n                    \r\n                <div class="hero-body" style="position:relative;">\r\n                    <a class="button  is-dark" *ngIf="busquedaActivada" style="position:absolute; top:1em; right:1em;" (click)="busquedaActivada=false;searchBox.value=\'\';resultadosBusqueda=[]"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n                    <a class="button  is-dark" *ngIf="busquedaActivada" style="position:absolute; top:1em; right:3.5em;" (click)="listarBusqueda(searchBox.value,1)"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                    <a class="button  is-primary" *ngIf="!busquedaActivada" style="position:absolute; top:1em; right:1em;" (click)="listar(1)"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                    <div class="container is-fluid">\r\n                        \r\n                        <h1 class="title" *ngIf="!busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-server"></i></span> Estatus\r\n                        </h1>\r\n                        <h1 class="title" *ngIf="busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-search"></i></span> B\xfasqueda \r\n                        </h1>\r\n                        <div class="control is-grouped">\r\n                        <p class="control is-expanded">\r\n                            <input class="input is-medium" type="text" placeholder="Buscar servidor" #searchBox id="search-box" (keyup)="buscar(searchBox.value)">\r\n                        </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n            \r\n            <table class="table" style="font-size:0.9em;" *ngIf="!cargando">\r\n                <thead>\r\n                    <tr>\r\n                        <th style="width:48px;"></th>\r\n                        <th>ID</th>\r\n                        <th>Nombre</th>\r\n                        <th>\xbfInternet?</th>\r\n                        <th><abbr title="\xbfCat\xe1logos Actualizados?">\xbfC.A.?</abbr></th>\r\n                        <th><abbr title="Versi\xf3n del servidor">Ver.</abbr></th>\r\n                        <th>Periodo</th>\r\n                        <th>\xdaltima Sync</th>\r\n                        <th style="width:60px">Retraso</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody  *ngIf="!busquedaActivada">\r\n                    <tr *ngFor="let item of lista; let i=index" [ngClass]="{ \'warning\': item.alerta_retraso && !item.principal }">    \r\n                        <td style="vertical-align: middle;"><span class="icon" *ngIf="item.principal"><i class="fa fa-home"></i></span><span class="icon" *ngIf="item.alerta_retraso"><i class="fa fa-warning"></i></span><span class="icon" *ngIf="!item.alerta_retraso && !item.principal" style="color:green"><i class="fa fa-check-circle"></i></span></td>                \r\n                        <td style="vertical-align: middle;">{{ item.id }}</td>   \r\n                        <td style="vertical-align: middle;">{{ item.nombre }}</td>    \r\n                        <td style="vertical-align: middle;">{{ item.tiene_internet ? \'S\xed\': \'No\' }}</td>\r\n                        <td style="vertical-align: middle;">{{ item.catalogos_actualizados ? \'S\xed\': \'No\' }}</td>                       \r\n                        <td style="vertical-align: middle;">{{ item.version}}</td>\r\n                        <td style="vertical-align: middle;">{{ item.periodo_sincronizacion }} Hrs</td>\r\n                        <td style="vertical-align: middle;"><small>{{ item.ultima_sincronizacion == null ? \'Nunca\' :  item.ultima_sincronizacion }}</small></td>     \r\n                        <td style="vertical-align: middle;">{{ item.horas_sin_sincronizar }}</td>                            \r\n                    </tr>\r\n                    <tr *ngIf="lista.length == 0">\r\n                        <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n                <tbody *ngIf="busquedaActivada">\r\n                    <tr *ngFor="let item of resultadosBusqueda; let i=index" [ngClass]="{ \'warning\': item.alerta_retraso && !item.principal }">\r\n                        <td style="vertical-align: middle;"><span class="icon" *ngIf="item.principal"><i class="fa fa-home"></i></span><span class="icon" *ngIf="item.alerta_retraso"><i class="fa fa-warning"></i></span><span class="icon" *ngIf="!item.alerta_retraso && !item.principal" style="color:green"><i class="fa fa-check-circle"></i></span></td>                \r\n                        <td style="vertical-align: middle;">{{ item.id }}</td>   \r\n                        <td style="vertical-align: middle;">{{ item.nombre }}</td>    \r\n                        <td style="vertical-align: middle;">{{ item.tiene_internet ? \'S\xed\': \'No\' }}</td>\r\n                        <td style="vertical-align: middle;">{{ item.catalogos_actualizados ? \'S\xed\': \'No\' }}</td>                       \r\n                        <td style="vertical-align: middle;">{{ item.version}}</td>\r\n                        <td style="vertical-align: middle;">{{ item.periodo_sincronizacion }} Hrs</td>\r\n                        <td style="vertical-align: middle;"><small>{{ item.ultima_sincronizacion == null ? \'Nunca\' :  item.ultima_sincronizacion }}</small></td>  \r\n                        <td style="vertical-align: middle;">{{ item.horas_sin_sincronizar }}</td>                            \r\n                    </tr>\r\n\r\n                    <tr *ngIf="resultadosBusqueda.length == 0 && busquedaActivada">\r\n                        <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion \r\n                [total]="total" \r\n                [paginasTotales]="paginasTotales" \r\n                [resultadosPorPagina]="resultadosPorPagina" \r\n                [paginaActual]="paginaActual" \r\n                [indicePaginas]="indicePaginas"\r\n                (onSiguiente)="paginaSiguiente()" \r\n                (onAnterior)="paginaAnterior()" \r\n                (onListar)="listar($event)" \r\n                *ngIf="total>0 && total > resultadosPorPagina && !busquedaActivada"></paginacion>\r\n            \x3c!-- Paginaci\xf3n para la b\xfasqueda  --\x3e\r\n            <paginacion \r\n                [total]="totalBusqueda" \r\n                [paginasTotales]="paginasTotalesBusqueda" \r\n                [resultadosPorPagina]="resultadosPorPaginaBusqueda" \r\n                [paginaActual]="paginaActualBusqueda" \r\n                [indicePaginas]="indicePaginasBusqueda"\r\n                (onSiguiente)="paginaSiguienteBusqueda(searchBox.value)" \r\n                (onAnterior)="paginaAnteriorBusqueda(searchBox.value)" \r\n                (onListar)="listarBusqueda(searchBox.value,$event)" \r\n                *ngIf="totalBusqueda > 0 && totalBusqueda > resultadosPorPaginaBusqueda && busquedaActivada"></paginacion>\r\n\r\n        </div>\r\n        <br>\r\n       \r\n       \r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n'},t4fe:function(e,t){e.exports='<listar #ctrl URL="ajuste-mas-inventario?fecha_desde={{fecha_desde}}&fecha_hasta={{fecha_hasta}}&usuario={{usuario_lista}}" titulo="Ajuste m\xe1s de inventario"></listar>\r\n\x3c!-- <listar #ctrl URL="ajuste-mas-inventario" titulo="Ajuste m\xe1s de inventario"></listar>--\x3e\r\n<app-menu-inventario [modulo]="\'Ajuste m\xe1s de inventario\'" [icono]="\'assets/icono-stock.svg\'" [url]="\'/inventario/ajuste-mas-inventario\'"></app-menu-inventario>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:80%; ">\r\n    <div class="column" style="padding:2em;">\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n            <section class="hero" [ngClass]=" {\'is-dark\': ctrl.busquedaActivada, \'is-primary\': !ctrl.busquedaActivada } ">\r\n\r\n                <div class="hero-body" style="position:relative;">\r\n                    <nav class="level">\r\n                        \x3c!-- Left side FILTROS --\x3e\r\n                        <div class="level-left" style="padding: 10px;">\r\n                        <div class="control is-grouped">\r\n                            <div class="control" style="z-index: 1000;">\r\n                                <div class="field">   \r\n                                    <label class="label">Desde:</label>                         \r\n                                    <input  style="width: 150px; z-index: 1000;" class="input is-medium" [(ngModel)]=\'fecha_desde\' ngui-datetime-picker date-only="true" placeholder="YYYY-MM-DD" />\r\n                                </div>\r\n                            </div>\r\n                            <div class="control is-expanded" style="z-index: 1000;">\r\n                                <div class="field">   \r\n                                    <label class="label">Hasta:</label>                         \r\n                                    <input style="width: 150px; z-index: 1000;" class="input is-medium" [(ngModel)]=\'fecha_hasta\' ngui-datetime-picker date-only="true" placeholder="YYYY-MM-DD" />\r\n                                </div>\r\n                            </div>\r\n                            <div class="control is-expanded">\r\n                                <div class="field">   \r\n                                    <label class="label">Usuario:</label>                         \r\n                                    <input class="input is-medium" type="text" placeholder="Usuario" [(ngModel)]="usuario_lista">\r\n                                </div>\r\n                            </div>\r\n                            <div class="control">\r\n                                <div class="field">  \r\n                                <label class="label">&nbsp;</label>\r\n                                <button class="button is-default is-medium" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="usuario_lista=\'\';fecha_desde=\'\'; fecha_hasta=\'\';" >Limpiar</button>\r\n                                </div>\r\n                            </div>\r\n                            <div class="control">\r\n                                <div class="field">  \r\n                                <label class="label">&nbsp;</label>\r\n                                <button class="button is-info is-medium" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="ctrl.listar(1)" >Filtrar</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        </div>\r\n                        \x3c!-- Right side --\x3e\r\n                        <div class="level-right">\r\n                            <p class="level-item"><a class="button is-dark is-medium" routerLink="nuevo" *ngIf="ctrl.busquedaActivada"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;<span>Nuevo ajuste mas</span></a></p>\r\n                            <p class="level-item"><a class="button is-primary is-medium" routerLink="nuevo" *ngIf="!ctrl.busquedaActivada"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;<span>Nuevo ajuste mas</span></a></p>\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" (click)="ctrl.busquedaActivada=false;searchBox.value=\'\'; ctrl.resultadosBusqueda=[]"><span class="icon "><i class="fa fa-close"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="Actualizar" (click)="ctrl.listarBusqueda(searchBox.value,1)"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="Actualizar" (click)="ctrl.listar(1)"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="PDF" (click)="dato = ctrl.dato; imprimir()"><span class="icon "><i class="fa fa-file-pdf-o"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="PDF" (click)="dato = ctrl.dato; imprimir()"><span class="icon "><i class="fa fa-file-pdf-o"></i></span></a></p>\r\n\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="Excel" (click)="export_excel()"><span class="icon "><i class="fa fa-file-excel-o"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="Excel" (click)="export_excel()"><span class="icon "><i class="fa fa-file-excel-o"></i></span></a></p>\r\n                            <p class="level-item">&nbsp;</p>\r\n                        </div>\r\n                    </nav> \r\n                    <div class="container is-fluid" id="titulo">\r\n                        <span></span>\r\n                        <div class="is-hidden-desktop">\r\n                            <h1 class="title" *ngIf="!ctrl.busquedaActivada">\r\n                                <span class="icon is-medium"><i class="fa fa-user"></i></span> Ajuste m\xe1s de inventario\r\n                            </h1>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            \r\n            <div class="is-fullwidth has-text-centered" *ngIf="ctrl.cargando">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n            <span id="exportable">\r\n                <div style="overflow: scroll; overflow-x: hidden; height: 650px;">\r\n                    <table class="table" *ngIf="!ctrl.cargando " >\r\n                        <thead>\r\n                            <tr>\r\n                                <th style=" text-align: center;"><abbr title="Folio">Fecha</abbr></th>\r\n                                <th style=" text-align: center;"><abbr title="Folio">Folio</abbr></th>\r\n                                <th><abbr title="N\xfamero de claves">Claves</abbr></th>\r\n                                <th>Captur\xf3</th>\r\n                                <th style=" text-align: center;">Capturado</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody *ngIf="!ctrl.busquedaActivada && ctrl.dato;">\r\n                            <tr *ngFor="let item of ctrl.dato; let i=index">\r\n                                <th style="vertical-align: middle; text-align: center;"><a routerLink="/inventario/ajuste-mas-inventario/ver/{{item.id}}">{{ item.fecha_movimiento }}</a></th>\r\n                                <th style="vertical-align: middle; text-align: center;"><a routerLink="/inventario/ajuste-mas-inventario/ver/{{item.id}}">{{ item.id }}</a></th>\r\n                                <td ><a routerLink="/inventario/ajuste-mas-inventario/ver/{{item.id}}"> <p> Claves: {{item.numero_claves}}</p> </a> </td>\r\n                                <td style="vertical-align: middle;"><a routerLink="/inventario/ajuste-mas-inventario/ver/{{item.id}}">{{ item.movimiento_usuario.nombre }} {{ item.movimiento_usuario.apellidos }} </a></td>                        \r\n                                <td style="vertical-align: middle; text-align: center;"><a routerLink="/inventario/ajuste-mas-inventario/ver/{{item.id}}">{{ item.created_at | date:\'medium\'}} </a></td>\r\n                            </tr>\r\n                            <tr *ngIf="ctrl.dato.length == 0">\r\n                                <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>\r\n                            </tr>\r\n                        </tbody>\r\n                        <tbody *ngIf="ctrl.busquedaActivada && ctrl.dato">\r\n                            <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">\r\n                                <th style="vertical-align: middle; text-align: center;"><a routerLink="/inventario/ajuste-mas-inventario/ver/{{item.id}}">{{ item.fecha_movimiento }}</a></th>\r\n                                <th style="vertical-align: middle; text-align: center;"><a routerLink="/inventario/ajuste-mas-inventario/ver/{{item.id}}">{{ item.id }}</a></th>\r\n                                <td ><a routerLink="/inventario/ajuste-mas-inventario/ver/{{item.id}}"> <p> Claves: {{item.numero_claves}}</p> </a> </td>\r\n                                <td style="vertical-align: middle;"><a routerLink="/inventario/ajuste-mas-inventario/ver/{{item.id}}">{{ item.movimiento_usuario.nombre }} {{ item.movimiento_usuario.apellidos }} </a></td>                        \r\n                                <td style="vertical-align: middle; text-align: center;"><a routerLink="/inventario/ajuste-mas-inventario/ver/{{item.id}}">{{ item.created_at | date:\'medium\'}} </a></td>\r\n                            </tr>\r\n\r\n                            <tr *ngIf="ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada">\r\n                                <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </span>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [total]="ctrl.total" [paginasTotales]="ctrl.paginasTotales" [resultadosPorPagina]="ctrl.resultadosPorPagina"\r\n                [paginaActual]="ctrl.paginaActual" [indicePaginas]="ctrl.indicePaginas" (onSiguiente)="ctrl.paginaSiguiente()"\r\n                (onAnterior)="ctrl.paginaAnterior()" (onListar)="ctrl.listar($event)" *ngIf="ctrl.total>0 && ctrl.total > ctrl.resultadosPorPagina && !ctrl.busquedaActivada"></paginacion>\r\n            \x3c!-- Paginaci\xf3n para la b\xfasqueda  --\x3e\r\n            <paginacion [total]="ctrl.totalBusqueda" [paginasTotales]="ctrl.paginasTotalesBusqueda" [resultadosPorPagina]="ctrl.resultadosPorPaginaBusqueda"\r\n                [paginaActual]="ctrl.paginaActualBusqueda" [indicePaginas]="ctrl.indicePaginasBusqueda" (onSiguiente)="ctrl.paginaSiguienteBusqueda(searchBox.value)"\r\n                (onAnterior)="ctrl.paginaAnteriorBusqueda(searchBox.value)" (onListar)="ctrl.listarBusqueda(searchBox.value,$event)"\r\n                *ngIf="ctrl.totalBusqueda > 0 && ctrl.totalBusqueda > ctrl.resultadosPorPaginaBusqueda && ctrl.busquedaActivada"></paginacion>\r\n\r\n\r\n\r\n        </div>\r\n\r\n    </div>\r\n</div>'},t5wJ:function(e,t){e.exports='<formulario #ctrl URL="mis-turnos" titulo="Salida por receta" [dato]="dato2"></formulario>\r\n<form name="dato2" novalidate [formGroup]="dato2" (ngSubmit)="ctrl.enviar(false)">\r\n<div class="contenedor columns " style="height:85%">\r\n    <a id="actualizar" (click)="ctrl.cargarDatos();"></a>\r\n    <a id="catalogoTurno" (click)="ctrl.cargarCatalogo(\'tipos_turnos\', \'turnos?bid=1\', \'initMover\'); "></a>\r\n    \x3c!--\r\n        <div *ngIf="!mostrar_pantalla" style="width: 100%; height: 500px; vertical-align: middle; text-align: center;">        \r\n        <a class="button is-warning is-large" style="width: 100%; height: 100%"\r\n        (click)="ctrl.cargarCatalogo(\'tipos_turnos\', \'turnos?bid=1\', \'initMover\'); mostrar_pantalla=true">\r\n            <i class="fa fa-exclamation-triangle" aria-hidden="true"></i> &nbsp; Cargar turnos\r\n        </a>\r\n    </div>\r\n     --\x3e\r\n    <div class="column" style="padding:2em;">\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n            <nav class="level">\r\n                <div class="level-left">\r\n                </div>\r\n                \x3c!-- Right side --\x3e\r\n                <div class="level-right">\r\n                    <p class="level-item">\r\n                        <button class="button is-medium is-success" type="submit">Guardar</button>\r\n                    </p>\r\n                    <p class="level-item">\r\n                        <a class="button is-medium" (click)="ctrl.cargarDatos();"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                    </p>\r\n                    <p class="level-item">&nbsp;</p>\r\n                </div>\r\n            </nav>\r\n            <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n            </div> \r\n            \r\n            <section class="section">\r\n                \x3c!-- formulario --\x3e\r\n                    <div>                 \r\n                        <div class="box" *ngIf="ctrl.tipos_turnos">\r\n                            <article class="media">\r\n                                <div class="media-content">\r\n                                    <div class="content">\r\n                                        <div class="column is-5" style="float:left">\r\n                                            <nav class="panel">\r\n                                                <div class="panel-heading">\r\n                                                    <div class="field">\r\n                                                        <div class="b-checkbox is-info">\r\n                                                            <input id="Movimientos" class="styled" type="checkbox" \r\n                                                            [checked]="ctrl.todosSeleccionados.izquierda"\r\n                                                            (click)="ctrl.seleccionarTodosMover(\'izquierda\', ctrl.tipos_turnos)">\r\n                                                            <label for="Movimientos">\r\n                                                            Turnos disponibles\r\n                                                        </label>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div *ngIf="ctrl.cargando" class="has-text-centered" style="overflow: hidden; overflow-x: hidden; height: 450px;">\r\n                                                    <br>\r\n                                                    <br>\r\n                                                    <span class="tag is-primary is-large"><i class="fa fa-refresh fa-spin"></i> &nbsp; Cargando... </span>\r\n                                                </div>\r\n                                                <div *ngIf="!ctrl.cargando" style="overflow: scroll; overflow-x: hidden; height: 450px;">\r\n                                                    <label class="panel-block" *ngFor="let val of ctrl.tipos_turnos; let i=index">          \r\n                                                        <div class="field">\r\n                                                            <div class="b-checkbox">\r\n                                                                <input id="{{val.id}}" class="styled" type="checkbox" \r\n                                                                [checked]="ctrl.izquierda.indexOf(val) > -1"\r\n                                                                (click)="ctrl.agregarMover(\'izquierda\', ctrl.tipos_turnos, val)">\r\n                                                                <label for="{{val.id}}">\r\n                                                                    {{val.nombre}} \r\n                                                                </label>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </label>\r\n                                                </div>\r\n                                            </nav>\r\n                                        </div>\r\n                                        <div class="column is-2" style="float:left" >\r\n                                            \r\n                                            <p class="control">\r\n                                                <button class="button is-default" type="button" style="width:100%" \r\n                                                [ngClass]="{\'is-success\': ctrl.izquierda.length > 0}" \r\n                                                [disabled]="ctrl.izquierda.length <= 0"\r\n                                                (click)="ctrl.iniciarMover(\'izquierda\', ctrl.dato.controls.clues_turnos.controls, ctrl.tipos_turnos, true)">></button>\r\n                                            </p>\r\n                                            <p class="control">\r\n                                                <button class="button is-default" type="button" style="width:100%" \r\n                                                [ngClass]="{\'is-success\': ctrl.derecha.length > 0}" \r\n                                                [disabled]="ctrl.derecha.length <= 0"\r\n                                                (click)="ctrl.iniciarMover(\'derecha\', ctrl.tipos_turnos, ctrl.dato.controls.clues_turnos.controls, false)"><</button>\r\n                                            </p>\r\n                                            \r\n                                        </div>                        \r\n                                        <div class="column is-5" style="float:left" >\r\n                                            <nav class="panel" formGroupName="clues_turnos">\r\n                                                <div class="panel-heading">\r\n                                                    <div class="field">\r\n                                                        <div class="b-checkbox is-info">\r\n                                                            <input id="MisServicios" class="styled" type="checkbox" \r\n                                                            [checked]="ctrl.todosSeleccionados.derecha"\r\n                                                            (click)="ctrl.seleccionarTodosMover(\'derecha\', ctrl.dato.controls.clues_turnos.controls)">\r\n                                                            <label for="MisServicios">\r\n                                                            Mis turnos\r\n                                                        </label>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <div *ngIf="ctrl.cargando" class="has-text-centered" style="overflow: hidden; overflow-x: hidden; height: 450px;">\r\n                                                    <br>\r\n                                                    <br>\r\n                                                    <span class="tag is-primary is-large"><i class="fa fa-refresh fa-spin"></i> &nbsp; Cargando... </span>\r\n                                                </div>\r\n                                                <div *ngIf="!ctrl.cargando" style="overflow: scroll; overflow-x: hidden; height: 450px;">\r\n                                                    <label class="panel-block" *ngFor="let item of ctrl.dato.controls.clues_turnos.controls; let i2=index">          \r\n                                                        <div class="field" [formGroupName]="i2">\r\n                                                            <div class="b-checkbox">\r\n                                                                <input id="{{item.value.id}}" class="styled" type="checkbox"\r\n                                                                [checked]="ctrl.derecha.indexOf(item) > -1"\r\n                                                                (click)="ctrl.agregarMover(\'derecha\', ctrl.dato.controls.clues_turnos.controls, item)">\r\n                                                                <label for="{{item.value.id}}">\r\n                                                                    {{item.value.nombre}} \r\n                                                                </label>\r\n                                                            </div>\r\n                                                        </div>\r\n                                                    </label>\r\n                                                </div>\r\n                                            </nav>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </article>\r\n                        </div>\r\n                    </div>\r\n                    <a *ngIf="ctrl.tipos_turnos" (click)="ctrl.initMover(ctrl.dato.controls.clues_turnos.controls, ctrl.tipos_turnos);" id="initMover"></a>\r\n            </section>\r\n        </div>\r\n    </div>\r\n</div>          \r\n</form>\r\n'},tQZc:function(e,t){e.exports=""},tR8X:function(e,t){e.exports='<listar #ctrl URL="unidad-medida" titulo="UM / Catalogo"></listar>\r\n<app-menu-catalogo></app-menu-catalogo>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:90%;  padding-top: 1em;">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em">\r\n            <div style="background: #FFF; border-radius: 1em; ">\r\n                    \r\n            \x3c!-- Opciones y busqueda --\x3e\r\n            <tabla-opciones \r\n                #opciones\r\n                [ctrl]="ctrl"\r\n                [nombre]="\'Unidades de medida\'"\r\n                [ruta]="\'unidad-medida\'"\r\n                [ruta_pdf]="\'catalogos-parametros/lista-unidades-medida.js\'"></tabla-opciones>\r\n            \r\n            <div class="is-fullwidth has-text-centered" *ngIf="opciones.cargandoPdf" style="height: 75%">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Generando PDF...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n\r\n            <div style="overflow:auto; display:block" [style.maxHeight.px]="ctrl.tamano-300">\r\n                <table class="table" *ngIf="!ctrl.cargando && !opciones.cargandoPdf">\r\n                    <thead>\r\n                        <tr>\r\n                            <th><abbr title="Usuario ID">ID</abbr></th>\r\n                            <th>Nombre</th>\r\n                            <th>clave</th>\r\n                            <th style="text-align:center;">Opciones</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody *ngIf="!ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.dato; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/catalogos-parametros/unidades-medida/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/unidades-medida/editar/{{item.id}}">{{ item.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/unidades-medida/editar/{{item.id}}">{{ item.clave }} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n                        <tr *ngIf="ctrl.dato.length == 0">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                    <tbody *ngIf="ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/catalogos-parametros/unidades-medida/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/unidades-medida/editar/{{item.id}}">{{ item.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/catalogos-parametros/unidades-medida/editar/{{item.id}}">{{ item.clave }} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n\r\n                        <tr *ngIf="ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [ctrl]="ctrl"></paginacion>\r\n\r\n        </div>\r\n\r\n    </div>\r\n</div>'},tY6E:function(e,t){e.exports='<panel-control-menu></panel-control-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%; ">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" >\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden; margin:2em;">\r\n            <section class="hero is-primary">\r\n                <div class="hero-body">\r\n                    <div class="container is-fluid">\r\n                        <h1 class="title">\r\n                            <span  *ngIf="!cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                            <span  *ngIf="cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span> \r\n                            Editar servidor\r\n                        </h1>\r\n                        \r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <section class="section">\r\n                <div class="control is-grouped">\r\n                    <p class="control is-expanded  has-icon has-icon-right">\r\n                        <input class="input is-medium" [(ngModel)]="servidor.id"  [ngClass]="{ \'is-danger\': errores.id != null}"  type="text" placeholder="ID" >\r\n                        \r\n                        <span class="icon is-small" *ngIf="errores.id == \'required\' || errores.id == \'unique\'">\r\n                        <i class="fa fa-warning"></i>\r\n                        </span>\r\n                        <span class="help is-danger" *ngIf="errores.id == \'required\'">Por favor especifique el ID del servidor.</span>\r\n                        <span class="help is-danger" *ngIf="errores.id == \'unique\'">Este ID ya fue utilizado, por favor elija otro.</span>              \r\n                    </p>\r\n                    <p class="control is-expanded  has-icon has-icon-right">\r\n                        <input class="input is-medium" [(ngModel)]="servidor.nombre"  [ngClass]="{ \'is-danger\': errores.nombre != null}"  type="text" placeholder="Nombre" >\r\n                        \r\n                        <span class="icon is-small" *ngIf="errores.nombre == \'required\'">\r\n                        <i class="fa fa-warning"></i>\r\n                        </span>\r\n                        <span class="help is-danger" *ngIf="errores.nombre == \'required\'">Por favor especifique el nombre del servidor.</span>\r\n                    </p>\r\n                </div>\r\n                <div class="control is-grouped">\r\n                    <p class="control is-expanded  has-icon has-icon-right">\r\n                        <input class="input is-medium" [(ngModel)]="servidor.secret_key"  [ngClass]="{ \'is-danger\': errores.secret_key != null}"  type="text" placeholder="Secret key" >\r\n                        \r\n                        <span class="icon is-small" *ngIf="errores.secret_key == \'required\'">\r\n                        <i class="fa fa-warning"></i>\r\n                        </span>\r\n                        <span class="help is-danger" *ngIf="errores.secret_key == \'required\'">Por favor especifique el Secret Key del servidor.</span>                            \r\n                    </p>\r\n                    <p class="control">\r\n                        <a class="button  is-medium is-primary" (click)="generarSecretKey()">\r\n                        <span class="icon"><i class="fa fa-key"></i></span>\r\n                        </a>\r\n                    </p>\r\n                    <p class="control is-expanded  has-icon has-icon-right">\r\n                        <input class="input is-medium" [(ngModel)]="servidor.periodo_sincronizacion"  [ngClass]="{ \'is-danger\': errores.periodo_sincronizacion != null}"  type="text" placeholder="Periodo de sincronizaci\xf3n (Horas)" >\r\n                        \r\n                        <span class="icon is-small" *ngIf="errores.periodo_sincronizacion == \'required\' || errores.periodo_sincronizacion == \'integer\'">\r\n                        <i class="fa fa-warning"></i>\r\n                        </span>\r\n                        <span class="help is-danger" *ngIf="errores.periodo_sincronizacion == \'required\'">Por favor especifique el periodo de sincronizaci\xf3n.</span>                            \r\n                        <span class="help is-danger" *ngIf="errores.periodo_sincronizacion == \'integer\'">Por favor el periodo de sincronizacion debe estar expresado en horas y en n\xfameros enteros. Por ejemplo: 24.</span>                            \r\n                    </p>\r\n                </div>\r\n                <div class="control is-grouped">\r\n\r\n                    <p class="control is-expanded">\r\n                        <span class="select is-fullwidth is-medium ">\r\n                        <select #clues [(ngModel)]="servidor.clues">\r\n                            \x3c!--option [ngValue]="{clues:\'\'}" [selected]="true">Elija una unidad m\xe9dica</option--\x3e\r\n                            <option *ngFor="let item of listaClues" [ngValue]="item.clues">{{ item.clues }} - {{ item.nombre }}</option>\r\n                        </select>\r\n                        </span>\r\n                        <span class="help is-danger" *ngIf="errores.clues == \'required\'">Por favor especifique la clues del servidor.</span>   \r\n                    </p> \r\n\r\n                    \x3c!--\r\n                    <p class="control is-expanded  has-icon has-icon-right">\r\n                        <input class="input is-medium" [(ngModel)]="servidor.clues"  [ngClass]="{ \'is-danger\': errores.clues != null}"  type="text" placeholder="CLUES" >\r\n                        \r\n                        <span class="icon is-small" *ngIf="errores.clues == \'required\'">\r\n                        <i class="fa fa-warning"></i>\r\n                        </span>\r\n                        <span class="help is-danger" *ngIf="errores.clues == \'required\'">Por favor especifique la clues del servidor.</span>                            \r\n                    </p>--\x3e\r\n                    <p class="control is-expanded  has-icon has-icon-right">\r\n                        <input class="input is-medium" [(ngModel)]="servidor.ip"  [ngClass]="{ \'is-danger\': errores.ip != null}"  type="text" placeholder="Direcci\xf3n IP" >\r\n                        \r\n                        <span class="icon is-small" *ngIf="errores.ip == \'required\'">\r\n                        <i class="fa fa-warning"></i>\r\n                        </span>\r\n                        <span class="help is-danger" *ngIf="errores.ip == \'required\'">Por favor especifique la direcci\xf3n ip.</span>                                                    \r\n                    </p>\r\n                </div>\r\n                <div class="field">\r\n                    <div class="control  ">\r\n                        <label class="checkbox">\r\n                        <input type="checkbox" [(ngModel)]="servidor.tiene_internet">\r\n                        Tiene internet\r\n                        </label> &nbsp; \r\n                        <label class="checkbox">\r\n                        <input type="checkbox" [(ngModel)]="servidor.principal">\r\n                        Es el principal\r\n                        </label>\r\n                    </div>\r\n                </div>   \r\n                <br>\r\n                    \r\n                <div class="control is-grouped">\r\n                    \r\n                    <p class="control">\r\n                        <a class="button is-medium is-primary " [ngClass]="{ \'is-loading\': enviando}" (click)="guardar()" >\r\n                        <span class="icon"><i class="fa fa-save"></i></span><span>Guardar</span>\r\n                        </a>\r\n                    </p><p class="control">\r\n                        <a class="button is-medium is-white " [ngClass]="{ \'is-disabled\': enviando}" routerLink="/panel-control/sync/servidores">Cancelar</a>\r\n                    </p>                    \r\n                </div>\r\n                           \r\n              \r\n              <br>\r\n              \r\n\r\n\r\n            </section>\r\n            \r\n        </div>\r\n        \r\n    </div>\r\n</div>\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br> \r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeError.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n'},tYEV:function(e,t){e.exports=".top-nav { position: fixed; width: 100%;top:0px; z-index:99; background: #00d1b2; }\r\n\r\n\r\nnav {\r\n    background-color:#00d1b2;\r\n    color: #FFF !important;\r\n}\r\n\r\n\r\na.nav-hub-active { background:rgba(0,0,0,0.05);}\r\n\r\n\r\na.nav-hub-active:hover { background:rgba(0,0,0,0.1);}\r\n\r\n\r\nnav a { color: #FFF ; color: rgba(255,255,255,0.9)  !important;}\r\n\r\n\r\nnav a:hover { color: #FFF !important;}\r\n\r\n\r\nnav .title  { color:#FFF;}\r\n\r\n\r\nnav a .title { color:#FFF; color: rgba(255,255,255,0.9)  !important;}\r\n\r\n\r\nnav a:hover .title { color:#FFF !important; }\r\n\r\n\r\n.unidad-trabajo {\r\n\tfont-size: 0.7em;\r\n\ttext-align: right !important;\r\n\tpadding: 1em;\r\n    vertical-align: middle;\r\n    text-shadow: 2px 2px slategrey;\r\n}"},"ta+F":function(e,t){e.exports=".top-bar {\r\n\tpadding: 1em ; \r\n\tfont-size: 1.2em; \r\n\tbackground: #FFF;    \r\n\tcolor: #333;\r\n\tposition: relative;\r\n }\r\n .top-bar.is-primary {\r\n\tbackground: #00d1b2;\r\n\tcolor:#FFF;\r\n }\r\n .top-bar.is-primary h1 { color: #FFF; }\r\n .top-bar.is-danger {\r\n\tbackground: #ff3860;\r\n\tcolor:#FFF;\r\n }\r\n .top-bar.is-dark {\r\n\tbackground: #333;\r\n\tcolor:#FFF\r\n }\r\n .top-bar.is-dark h1 { color: #FFF;}\r\n .estatus-rojo{\r\n\tcolor:red !important;\r\n }\r\n .estatus-amarillo{\r\n\tcolor:orange !important;\r\n }\r\n .estatus-verde{\r\n\tcolor:#23d160;\r\n }\r\n .estatus-azul{\r\n\tcolor:#3273dc;\r\n }\r\n .estatus-normal{\r\n\tcolor:#555555;\r\n }"},tjBx:function(e,t){e.exports='<panel-control-menu></panel-control-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding:2em; overflow: auto;">\r\n        <div style="background: #FFF; border-radius: 1em;">\r\n            <section class="hero is-primary">\r\n                <div class="hero-body">\r\n                    <div class="container is-fluid">\r\n                        <h1 class="title">\r\n                            <span  *ngIf="!cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                            <span  *ngIf="cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span> \r\n                            Editar usuario\r\n                        </h1>\r\n                        \r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class="is-fullwidth has-text-centered" *ngIf="!datosCargados">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n            </div>\r\n            <section class="section">\r\n            <panel-control-usuarios-form *ngIf="datosCargados"\r\n                [mostrarCambiarPassword]="true"\r\n                [usuario]="usuario"             \r\n                [roles]="roles" \r\n                [medicos]="medicos" \r\n                [unidadesMedicasEdicion] = "unidadesMedicasEdicion"\r\n                [unidadesMedicas]="unidadesMedicas" \r\n                [usuarioRepetido]="usuarioRepetido"\r\n                [usuarioInvalido]="usuarioInvalido"\r\n                [respuestaRequerida]="respuestaRequerida"\r\n                [cargando]="cargando"\r\n                [cargandoRoles]="cargandoRoles"\r\n                [cargandoMedicos]="cargandoMedicos"\r\n                (onEnviar)="enviar()"\r\n                (onRegresar)="regresar()"\r\n                (onToggleCambiarPassword)="toggleCambiarPassword()"\r\n                (onCargarRoles)="cargarRoles()"\r\n                (onCargarMedicos)="cargarMedicos()"\r\n            ></panel-control-usuarios-form>\r\n            </section>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <p><b>Error:</b> {{ mensajeError.texto }}<br></p>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeError.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n<div class="notification is-warning" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeAdvertencia.mostrar">\r\n    <button class="delete" (click)="mensajeAdvertencia.mostrar = false"></button>        \r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-warning"></i></span> <span>{{ mensajeAdvertencia.texto }}</span></p>\r\n    \r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeAdvertencia.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>'},tmAL:function(e,t){e.exports=".top-nav { position: fixed; width: 100%;top:0px; z-index:99; background: #00d1b2; }\r\n\r\n\r\nnav {\r\n    background-color:#00d1b2;\r\n    color: #FFF !important;\r\n}\r\n\r\n\r\na.nav-hub-active { background:rgba(0,0,0,0.05);}\r\n\r\n\r\na.nav-hub-active:hover { background:rgba(0,0,0,0.1);}\r\n\r\n\r\nnav a { color: #FFF ; color: rgba(255,255,255,0.9)  !important;}\r\n\r\n\r\nnav a:hover { color: #FFF !important;}\r\n\r\n\r\nnav .title  { color:#FFF;}\r\n\r\n\r\nnav a .title { color:#FFF; color: rgba(255,255,255,0.9)  !important;}\r\n\r\n\r\nnav a:hover .title { color:#FFF !important; }"},ubV5:function(e,t){e.exports=""},uslO:function(e,t,a){var n={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function r(e){return a(i(e))}function i(e){var t=n[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}r.keys=function(){return Object.keys(n)},r.resolve=i,e.exports=r,r.id="uslO"},v9or:function(e,t){e.exports=".mensaje-agregar {\r\n    position:absolute; width: auto;  bottom:0em; right:1em;\r\n    opacity: 0;\r\n    animation: mostrar 0.2s forwards ease-out;\r\n    -webkit-animation: mostrar 0.2s forwards ease-out;\r\n}\r\n\r\n\r\n@-webkit-keyframes mostrar {\r\n    0%   {  bottom:0em; opacity:0.0; }\r\n    100% {  bottom:3em; opacity:1.0; }\r\n}\r\n\r\n\r\n@keyframes mostrar {\r\n    0%   {  bottom:0em; opacity:0.0; }\r\n    100% {  bottom:3em; opacity:1.0; }\r\n}\r\n\r\n\r\n.item-seleccionado {\r\n    background: #F5F5F5 !important; font-weight: bold !important;\r\n}\r\n\r\n\r\n.is-disabled{\r\n    color: #DDDDDD;\r\n}\r\n\r\n\r\nform{\r\n    overflow: hidden;\r\n}"},vGSg:function(e,t){e.exports='\x3c!-- crud asignar url de la api URL="url de la api" titulo="un titulo para la pesta\xf1a de la pagina" [dato]="variable que contiene el formulario]--\x3e\r\n<formulario #ctrl URL="salida" titulo="Salida" [dato]="dato"></formulario>\r\n\r\n\x3c!-- Menu principal "--\x3e\r\n<articulos-catalogo-menu></articulos-catalogo-menu>\r\n<div style="height:50px;"></div>\r\n<form name="form" novalidate [formGroup]="dato" (ngSubmit)="enviar();">\r\n    <div class="contenedor columns " style=" overflow:auto;" [style.maxHeight.px]="tamano-50">\r\n\r\n        \x3c!-- apartado de movimientos_articulos --\x3e\r\n        <div class="column">\r\n            <div style="background: #FFF; border-radius: 1em; ">\r\n                <section class="hero is-primary">\r\n                    <div class="hero-body">\r\n                        <div class="container is-fluid">\r\n                            <h1 class="title">\r\n                                <span *ngIf="!ctrl.cargando || !cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                <span *ngIf="ctrl.cargando || cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>                                Art\xedculos\r\n                            </h1>\r\n\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n                <section class="section">\r\n                    \r\n                    <div class="notification is-danger" *ngIf="error_salida">\r\n                        \xa1No se completo la devoluci\xf3n! <strong>Intente de nuevo</strong>, Si no contacte con soporte\r\n                    </div>\r\n                    <div class="notification is-success" *ngIf="salida_ok">\r\n                        Devoluci\xf3n realizada con exito <strong>Puede seguir</strong>\r\n                    </div>\r\n                   \r\n                    <table class="table is-narrow is-bordered is-striped">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Articulo</th>\r\n                                <th>Precio</th>\r\n                                <th>Cantidad</th>\r\n                                <th>Cantidad a devolver</th>\r\n                                <th>Importe</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody formArrayName="movimientos_articulos">\r\n                            <tr *ngFor="let val of ctrl.dato.controls.movimientos_articulos.controls;  let i = index;" [formGroupName]="i">\r\n                                <td>{{val.get("articulos").value.nombre}} </td>                                \r\n                                <td *ngIf="tieneid">{{val.get("precio_unitario_unitario").value}}</td>\r\n                                <td *ngIf="ctrl.permisos.indexOf(\'ArticuloPreciocontroller.index\') < 0 && !tieneid">{{val.get("precio_unitario_unitario").value}}</td>\r\n                                <td *ngIf="ctrl.permisos.indexOf(\'ArticuloPreciocontroller.index\') > -1 && !tieneid">\r\n                                    {{(val.get("precio_unitario_unitario").value) | currency:\'MXN\':true}}\r\n                                </td>\r\n                                <td><strong class="tag is-info is-medium">{{val.get("cantidad").value}}</strong></td>\r\n                                <td>\r\n                                    <input class="input has-text-centered"  type="number" step="1" min="1" max="{{val.get(\'cantidad\').value}}" \r\n                                    placeholder="Cantidada devolver" formControlName="cantidad_devolucion"\r\n                                    (change)="cambio_cantidad_articulo(ctrl.dato.controls.movimientos_articulos.controls[i].controls);"\r\n                                    (keyup)="cambio_cantidad_articulo_key($event, ctrl.dato.controls.movimientos_articulos.controls[i].controls);" > \r\n                                </td>\r\n                                <td>\r\n                                    <span class="tag is-medium">{{(val.get("cantidad").value * val.get("precio_unitario_unitario").value) | currency:\'MXN\':true}}</span>\r\n                                    <span class="tag is-success is-medium">{{(val.get("cantidad").value - val.get("cantidad_devolucion").value ) * (val.get("precio_unitario_unitario").value) | currency:\'MXN\':true}}</span></td>\r\n                            \r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n\r\n                </section>\r\n            </div>\r\n        </div>\r\n\r\n        \x3c!-- datos del cliente y los importes --\x3e\r\n        <div class="column is-one-third">\r\n\r\n            <div style="background: #FFF; border-radius: 1em; ">\r\n                <section class="hero is-primary">\r\n                    <h1 class="title" style="margin:0.5em; ">\r\n                        <span class="icon is-medium">\r\n                            <i class="fa fa-file-text"></i>\r\n                        </span> Salida\r\n                    </h1>\r\n                    <div class="control is-grouped" style="position:absolute; top:7.5em; right:2em;">\r\n                            <p class="control" >\r\n                                <a class="button is-primary tooltip" (click)="ctrl.regresar()">\r\n                                    <span class="icon ">\r\n                                        <i class="fa fa-arrow-left"> </i>\r\n                                    </span>\r\n                                    <span class="tooltiptext">Regresar</span>\r\n                                </a>\r\n                            </p>\r\n                            <p class="control" *ngIf="ctrl.id">\r\n                                <a class="button is-primary tooltip" (click)="ctrl.cargarDatos()" id="cargar_datos_actualizar">\r\n                                    <span class="icon ">\r\n                                        <i class="fa fa-refresh"></i>\r\n                                    </span>\r\n                                    <span class="tooltiptext">Actualizar</span>\r\n                                </a>\r\n                            </p>\r\n                            <p class="control" *ngIf="ctrl.id">\r\n                                <a  class="button is-primary tooltip"  routerLink="{{url_nuevo}}">\r\n                                    <span class="icon ">\r\n                                        <i class="fa fa-file"></i>\r\n                                    </span>\r\n                                    <span class="tooltiptext">Nuevo</span>\r\n                                </a>\r\n                            </p>\r\n                            <p class="control" *ngIf="!tieneid">\r\n                                <button class="button is-primary tooltip" type="submit" [ngClass]="{\'is-loading\': ctrl.cargando}" [disabled]="ctrl.dato.invalid">\r\n                                    <span class="icon ">\r\n                                        <i class="fa fa-save"> </i>\r\n                                    </span>\r\n                                    <span class="tooltiptext">Guardar</span>\r\n                                </button>\r\n                            </p>                        \r\n                            <p class="control" *ngIf="reimprimir">\r\n                                <button class="button is-primary tooltip" type="button" (click)="imprimir()">\r\n                                    <span class="icon ">\r\n                                        <i class="fa fa-print"> </i>\r\n                                    </span>\r\n                                    <span class="tooltiptext">Reimprimir el ticket</span>                                \r\n                                </button>\r\n                            </p>\r\n                        </div>\r\n\r\n                </section>\r\n                <div style="padding: 1em;">\r\n\r\n                    \x3c!-- cargar los catalogos que se requieran parametro 1 modelo donde se guarda el catalogo, parametro 2 ruta de la api --\x3e\r\n                    <a id="catalogos" (click)="ctrl.cargarCatalogo(\'clientes\', \'cliente?id=2\'); ctrl.cargarCatalogo(\'metodos_pagos\', \'tipo-metodo-pago\');"></a>\r\n                    <h3 class="title">\r\n                        <i class="fa fa-file"></i> Datos de la salida\r\n                    </h3>\r\n                    <div class="field">\r\n                        <label class="label">Cliente (opcional):</label>\r\n                        <select2 name="personas_id" [options]="ctrl.optionSelect" [value]="startValue" (valueChanged)="ctrl.seleccionarValorSelect2($event, ctrl.dato.controls.personas_id); "\r\n                            [data]="ctrl.clientes"></select2>\r\n                    </div>\r\n                    <div class="field">\r\n                        <label class="label">Comentarios:</label>\r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                            <textarea class="textarea" type="text" rows="2" placeholder="Comentarios" formControlName="comentarios"></textarea>\r\n                        </p>\r\n                    </div>\r\n\r\n                    <hr>\r\n\r\n                    <div class="card">\r\n                        <header class="card-header">\r\n                            <p class="card-header-title">\r\n                                Formas de pago\r\n                            </p>\r\n                            <a class="card-header-icon">\r\n                            <span class="icon">\r\n                                <i class="fa fa-money"></i>\r\n                            </span>\r\n                            </a>\r\n                        </header>\r\n                        <div class="card-content">\r\n\r\n                            <div formArrayName="pagos">\r\n                                <div class="content" *ngFor="let item of ctrl.dato.controls.pagos.controls; let i=index">\r\n                                    <div class="box" [formGroupName]="i">\r\n                                        <article class="media">\r\n                                            \r\n                                            <div class="media-content">\r\n                                                <div class="columns">\r\n                                                    <div class="column is-6">\r\n                                                        <label>Forma de pago: </label>\r\n                                                        {{item.value.tipos_metodos_pagos.nombre}}\r\n\r\n                                                    </div>\r\n                                                    <div class="column is-6">\r\n                                                        <label>Pago: </label>\r\n                                                        {{item.value.importe | currency:\'MXN\':true}}\r\n                                                        \r\n                                                    </div>\r\n                                                </div>\r\n                                                <div class="columns">\r\n                                                    <div class="column is-6">\r\n                                                        <label>Paga con: </label>\r\n                                                        {{item.value.paga_con | currency:\'MXN\':true}}\r\n                                                        \r\n                                                    </div>\r\n                                                    <div class="column is-6">\r\n                                                        <label>Devolver: </label>\r\n                                                        {{item.value.cambio | currency:\'MXN\':true}}\r\n                                                        \r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </article>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        \r\n                    </div>\r\n\r\n                    <nav class="panel" style="font-size:1.5em">\r\n                        <p class="panel-heading">\r\n                            Cobro <span class="tag is-medium is-warning">{{ctrl.dato.get(\'temp_total\').value | currency:\'MXN\':true}}</span>\r\n                        </p>                        \r\n\r\n                        <a class="panel-block is-active">\r\n                            <span class="panel-icon">\r\n                            <i class="fa fa-money"></i>\r\n                            </span>\r\n                            <div class="columns" style="width:100%">\r\n                                <div class="column is-6">\r\n                                    Subtotal: \r\n                                </div>\r\n                                <div class="column is-6">\r\n                                   {{ctrl.dato.get(\'subtotal\').value  | currency:\'MXN\':true}}\r\n                                </div>\r\n                            </div>\r\n                        </a>\r\n                        <a class="panel-block" *ngIf="ctrl.dato.get(\'descuento\').value > 0">\r\n                            <span class="panel-icon">\r\n                            <i class="fa fa-money"></i>\r\n                            </span>\r\n                            <div class="columns" style="width:100%">\r\n                                <div class="column is-6">\r\n                                    Descuento: \r\n                                </div>\r\n                                <div class="column is-6">\r\n                                    {{ctrl.dato.get(\'descuento\').value  | currency:\'MXN\':true}}\r\n                                </div>\r\n                            </div>\r\n                        </a>\r\n                        <a class="panel-block" *ngIf="ctrl.dato.get(\'iva\').value > 0">\r\n                            <span class="panel-icon">\r\n                            <i class="fa fa-money"></i>\r\n                            </span>\r\n                            <div class="columns" style="width:100%">\r\n                                <div class="column is-6">\r\n                                    Iva: \r\n                                </div>\r\n                                <div class="column is-6">\r\n                                    {{ctrl.dato.get(\'iva\').value  | currency:\'MXN\':true}}\r\n                                </div>\r\n                            </div>\r\n                        </a>\r\n                        <a class="panel-block">\r\n                            <span class="panel-icon">\r\n                            <i class="fa fa-money"></i>\r\n                            </span>\r\n                            <div class="columns" style="width:100%">\r\n                                <div class="column is-6">\r\n                                    Total: \r\n                                </div>\r\n                                <div class="column is-6"> \r\n                                    {{ctrl.dato.get(\'total\').value  | currency:\'MXN\':true}}\r\n                                </div>\r\n                            </div>\r\n                        </a>\r\n                        <a class="panel-block" *ngIf="ctrl.dato.get(\'total_recibido\').value > 0">\r\n                            <span class="panel-icon">\r\n                            <i class="fa fa-money"></i>\r\n                            </span>\r\n                            <div class="columns" style="width:100%">\r\n                                <div class="column is-6">\r\n                                    Total recibido: \r\n                                </div>\r\n                                <div class="column is-6">\r\n                                   {{ctrl.dato.get(\'total_recibido\').value  | currency:\'MXN\':true}}\r\n                                </div>\r\n                            </div>\r\n                        </a>\r\n                        <a class="panel-block" *ngIf="ctrl.dato.get(\'cambio\').value > 0">\r\n                            <span class="panel-icon">\r\n                            <i class="fa fa-money"></i>\r\n                            </span>\r\n                            <div class="columns" style="width:100%; color: red">\r\n                                <div class="column is-6">\r\n                                    Devolver: \r\n                                </div>\r\n                                <div class="column is-6">\r\n                                   {{ctrl.dato.get(\'cambio\').value  | currency:\'MXN\':true}}\r\n                                </div>\r\n                            </div>\r\n                        </a>\r\n                    </nav>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</form>'},vVsI:function(e,t){e.exports='<formulario #ctrl URL="categoria" titulo="Categoria / Almacen" [dato]="dato"></formulario>\r\n<articulos-catalogo-menu></articulos-catalogo-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em;">\r\n        \x3c!-- formulario --\x3e\r\n        <form name="form" novalidate [formGroup]="dato" (ngSubmit)="ctrl.enviar()" >\r\n            <div style="background: #FFF; overflow: hidden;">\r\n                <section class="hero is-primary">\r\n                    <div class="hero-body">\r\n                        \x3c!-- Opciones  --\x3e\r\n                        <formulario-opciones [ctrl]="ctrl"  class="control is-grouped" style="position:absolute; top:8em; right:3em;">\r\n                           \r\n                        </formulario-opciones>  \r\n                        \r\n\r\n                        <div class="container is-fluid">\r\n                            <h1 class="title">\r\n                                <span *ngIf="!ctrl.cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                <span *ngIf="ctrl.cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>                                {{ctrl.moduloTitulo}} categoria\r\n                            </h1>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>                    &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n                <section class="section">\r\n\r\n\r\n\r\n                    \x3c!-- cargar los catalogos que se requieran parametro 1 modelo donde se guarda el catalogo, parametro 2 ruta de la api --\x3e\r\n                    <a id="catalogos" (click)="ctrl.cargarCatalogo(\'categorias\', \'categoria\'); "></a>\r\n                    <div class="columns">\r\n                        <div class="column is-12">\r\n                            <div class="field">\r\n                                <label class="label">Categor\xeda Padre:</label>\r\n                                <div class="control is-expanded  has-icon has-icon-right">\r\n                                    <div class="select">\r\n                                        <select class="select" formControlName="categoria_id">\r\n                                            <optgroup *ngFor="let val of ctrl.categorias | groupBy:\'modulo_padre\'" label="{{val.key}}">\r\n                                                <option *ngFor="let item of val.value" value="{{item.id}}" >{{item.nombre}}</option>\r\n                                            </optgroup>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class="columns">\r\n                        <div class="column is-6">\r\n                            <div class="field">\r\n                                <label class="label">Nombre:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <input class="input" autofocus type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'nombre\').hasError(\'required\')}" placeholder="Nombre"\r\n                                        formControlName="nombre">\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">\r\n                                        <i class="fa fa-warning"></i>\r\n                                    </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class="column is-6">\r\n                            <br><br>\r\n                            <div class="b-checkbox control is-expanded  has-icon has-icon-right">\r\n                                <input type="checkbox" id="tiene_modulo" class="styled" formControlName="tiene_modulo" [checked]="ctrl.dato.get(\'tiene_modulo\').value == 1 ? true : false">\r\n                                <label for="tiene_modulo">  Esta categoria tiene modulo de administraci\xf3n?\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <hr>\r\n                    \x3c!-- categorias_metadatos --\x3e\r\n                    <div class="">\r\n                        <table class="table" formArrayName="categorias_metadatos">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>Nombre</th>\r\n                                    <th>Descripci\xf3n</th>\r\n                                    <th>Tipo</th>\r\n                                    <th>Longitud</th>\r\n                                    <th>Requerido</th>\r\n                                    <th>Requerido inventario</th>\r\n                                    <th></th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr *ngFor="let item of ctrl.dato.controls.categorias_metadatos.controls; let i=index" [formGroupName]="i">\r\n                                    <th style="vertical-align: middle;">\r\n                                        <input class="input" type="text" placeholder="Nombre" formControlName="campo">\r\n                                    </th>\r\n                                    <td style="vertical-align: middle;">\r\n                                        <input class="input" type="text" placeholder="Descripcion" formControlName="descripcion">\r\n                                    </td>\r\n                                    <td style="vertical-align: middle;">\r\n                                        <div class="select">\r\n                                            <select class="select" formControlName="tipo">\r\n                                                <option *ngFor="let val of tipos" value="{{val.id}}">{{ val.nombre }}</option>\r\n                                            </select>\r\n                                        </div>\r\n                                    </td>\r\n                                    <td style="vertical-align: middle;">\r\n                                        <input class="input" type="number" min="1" placeholder="Longitud" formControlName="longitud">\r\n                                    </td>\r\n                                    <td style="vertical-align: middle;">                                       \r\n                                        <div class="b-checkbox control is-expanded  has-icon has-icon-right">\r\n                                            <input type="checkbox" id="requerido{{i}}" class="styled" \r\n                                                formControlName="requerido" [checked]="ctrl.dato.get(\'categorias_metadatos\').value[i][\'requerido\'] == 1 ? true : false">\r\n                                            <label for="requerido{{i}}">  Es requerido? \r\n                                            </label> \r\n                                        </div>\r\n                                    </td>\r\n                                    \x3c!-- <td style="vertical-align: middle;">\r\n                                        <div class="b-checkbox control is-expanded has-icon has-icon-right" if="ctrl.dato.get(\'categorias_metadatos\').value[i]">\r\n                                            <input type="checkbox" id="requerido{{i}}"\r\n                                                [checked]="ctrl.dato.get(\'categorias_metadatos\').value[i]?.requerido == 1 ? true : false"\r\n                                                class="styled" formControlName="requerido">\r\n                                            <label for="requerido{{i}}">  Es requerido? \r\n                                            </label>\r\n                                        </div>\r\n                                    </td> --\x3e\r\n                                    <td style="vertical-align: middle;">\r\n                                        <div class="b-checkbox control is-expanded  has-icon has-icon-right">\r\n                                            <input type="checkbox" id="requerido_inventario{{i}}" class="styled" \r\n                                            formControlName="requerido_inventario" [checked]="ctrl.dato.get(\'categorias_metadatos\').value[i].requerido_inventario == 1 ? true : false">\r\n                                            <label for="requerido_inventario{{i}}">  Es requerido en inventario?\r\n                                            </label>\r\n                                        </div>\r\n                                    </td>\r\n                                    \x3c!--\r\n                                    <td style="vertical-align: middle;">\r\n                                        <div class="b-checkbox control is-expanded has-icon has-icon-right" if="ctrl.dato.get(\'categorias_metadatos\').value[i]">\r\n                                            <input type="checkbox" id="requerido_inventario{{i}}"\r\n                                                [checked]="ctrl.dato.get(\'categorias_metadatos\').value[i]?.requerido_inventario == 1 ? true : false"\r\n                                                class="styled" formControlName="requerido_inventario">\r\n                                            <label for="requerido_inventario{{i}}">  Es requerido? \r\n                                            </label>\r\n                                        </div>\r\n                                    </td>--\x3e\r\n                                    <td style="vertical-align: middle;">\r\n                                        <a class="is-danger" (click)="ctrl.quitar_form_array(ctrl.dato.controls.categorias_metadatos, i)">\r\n                                            <span class="icon"><i class="fa fa-trash-o"></i></span>\r\n                                        </a>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                            <tfoot>\r\n                                <tr>\r\n                                    <th colspan="7">\r\n                                        <a class="button is-primary is-outlined is-fullwidth" (click)="ctrl.agregar_form_array(ctrl.dato.controls.categorias_metadatos, form_categorias_metadatos)">\r\n                                            <span class="icon"><i class="fa fa-plus"></i></span>&nbsp; Agregar Campo\r\n                                        </a>\r\n                                    </th>\r\n                                </tr>\r\n                            </tfoot>\r\n                        </table>\r\n                    </div>\r\n\r\n\r\n\r\n                </section>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>'},vpIx:function(e,t){e.exports=""},w40x:function(e,t){e.exports='<div class="modal" [ngClass]="{\'is-active\': mostrar}">\r\n    <div class="modal-background" (click)="toggle()"></div>\r\n    <div class="modal-content">\r\n\r\n        <header class="modal-card-head" style="background: white !important;">\r\n            <p class="modal-card-title"><span class="icon"><i class="fa fa-{{ edicionPerfil? \'edit\':\'user-circle\' }}"></i></span> <span *ngIf="!edicionPerfil">Mi cuenta</span><span *ngIf="edicionPerfil">Editar perfil</span></p>\r\n            <button class="delete"  (click)="toggle()"></button>\r\n        </header>\r\n        <section class="modal-card-body" *ngIf="edicionPerfil">\r\n            <div class="notification is-primary" *ngIf="mostrarMensajeExitoso">\r\n                <button class="delete" (click)="mostrarMensajeExitoso = false"></button>\r\n                Perfil actualizado exitosamente.\r\n            </div>\r\n            <div class="notification is-danger" *ngIf="mensajeError!=\'\'">\r\n                <button class="delete" (click)="mensajeError = \'\'"></button>\r\n                {{mensajeError}}\r\n            </div>\r\n            <div class="field"> \r\n                <label>Elige una imagen de perfil:</label><br>\r\n                <p class="control">                \r\n                    <label class="radio" [ngClass]="{\'is-disabled\': enviandoDatosPerfil}" *ngFor="let item of avatars">\r\n                        <input type="radio" name="avatar" [(ngModel)]="nuevoPerfil.avatar" [value]="item.value" >\r\n                        <figure class="image is-64x64" >\r\n                        <img src="assets/{{item.value}}.svg" alt="{{item.title}}">\r\n                        </figure>\r\n                    </label>  \r\n                </p>\r\n            </div>\r\n            <br>\r\n            <div class="field"> \r\n                <label>Nombre completo:</label>\r\n                <div class="control is-grouped">\r\n                    <p class="control is-expanded  has-icon has-icon-right">\r\n                        <input class="input" autofocus type="text" [ngClass]="{\'is-danger\': false, \'is-disabled\': enviandoDatosPerfil}"  placeholder="Nombre" [(ngModel)]="nuevoPerfil.nombre">\r\n                        <span class="icon is-small" *ngIf="false">\r\n                        <i class="fa fa-warning"></i>\r\n                        </span>\r\n                        <span class="help is-danger" *ngIf="errores.nombre == \'required\'">Este campo es requerido.</span>\r\n                    </p>\r\n                    <p class="control is-expanded has-icon has-icon-right">\r\n                        <input class="input" type="text" placeholder="Apellidos" [ngClass]="{\'is-danger\': false, \'is-disabled\': enviandoDatosPerfil}" [(ngModel)]="nuevoPerfil.apellidos">\r\n                        <span class="icon is-small" *ngIf="false">\r\n                        <i class="fa fa-warning"></i>\r\n                        </span>\r\n                        <span class="help is-danger" *ngIf="errores.apellidos == \'required\'">Este campo es requerido.</span>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n            <br>\r\n            <p class="control" >\r\n            <label class="checkbox"  [ngClass]="{ \'is-disabled\': enviandoDatosPerfil}">\r\n                <input type="checkbox"  (change)="nuevoPerfil.cambiarPassword = !nuevoPerfil.cambiarPassword" [checked]="nuevoPerfil.cambiarPassword">\r\n                Cambiar contrase\xf1a\r\n            </label>\r\n            </p>\r\n            <p class="control is-expanded has-icon has-icon-right" *ngIf="nuevoPerfil.cambiarPassword">\r\n                <input class="input" type="password" placeholder="Contrase\xf1a" [ngClass]="{\'is-danger\': false, \'is-disabled\': enviandoDatosPerfil}"  [(ngModel)]="nuevoPerfil.passwordAnterior">\r\n                <span class="icon is-small" *ngIf="false">\r\n                    <i class="fa fa-warning"></i>\r\n                </span>\r\n                <span class="help is-danger" *ngIf="errores.passwordAnterior == \'required\'">Este campo es requerido.</span>\r\n                <span class="help is-danger" *ngIf="errores.passwordAnterior == \'wrong\'">Las contrase\xf1a incorrecta.</span> \r\n            </p>\r\n            <div class="control is-grouped" *ngIf="nuevoPerfil.cambiarPassword">\r\n                \r\n                <p class="control is-expanded has-icon has-icon-right">\r\n                    <input class="input" type="password" placeholder="Nueva contrase\xf1a" [ngClass]="{\'is-danger\': nuevoPerfil.passwordNuevo != nuevoPerfil.passwordNuevoConfirmacion, \'is-disabled\': enviandoDatosPerfil}"  [(ngModel)]="nuevoPerfil.passwordNuevo">\r\n                    <span class="icon is-small" *ngIf="false">\r\n                        <i class="fa fa-warning"></i>\r\n                    </span>\r\n                    <span class="help is-danger" *ngIf="errores.passwordNuevo == \'required\'">Este campo es requerido.</span>\r\n                    <span class="help is-danger" *ngIf="nuevoPerfil.passwordNuevo != nuevoPerfil.passwordNuevoConfirmacion">Las contrase\xf1as no coinciden.</span>\r\n                </p>\r\n                <p class="control is-expanded has-icon has-icon-right">\r\n                    <input class="input" type="password" placeholder="Confirmar nueva contrase\xf1a" [ngClass]="{\'is-danger\': nuevoPerfil.passwordNuevo != nuevoPerfil.passwordNuevoConfirmacion, \'is-disabled\': enviandoDatosPerfil}"  [(ngModel)]="nuevoPerfil.passwordNuevoConfirmacion">\r\n                    <span class="icon is-small" *ngIf="false">\r\n                        <i class="fa fa-warning"></i>\r\n                    </span>\r\n                </p>\r\n                \r\n            </div>\r\n            \r\n        </section>\r\n\r\n        <footer class="modal-card-foot" *ngIf="edicionPerfil">\r\n            <a class="button is-primary is-medium is-fullwidth " [ngClass]="{ \'is-loading\':enviandoDatosPerfil, \'is-disabled\': ((nuevoPerfil.passwordNuevo != nuevoPerfil.passwordNuevoConfirmacion || nuevoPerfil.passwordAnterior == \'\' || nuevoPerfil.passwordNuevo == \'\'   ) && nuevoPerfil.cambiarPassword ) || nuevoPerfil.nombre == \'\' || nuevoPerfil.apellidos == \'\' }" (click)="editarPerfil()"><span class="icon"><i class="fa fa-lock"></i></span><span>Guardar cambios</span></a>\r\n            <a class="button  is-medium is-fullwidth " [ngClass]="{ \'is-disabled\': enviandoDatosPerfil}"(click)="edicionPerfil=false"><span class="icon"><i class="fa fa-arrow-left"></i></span><span>Atr\xe1s</span></a><br>\r\n\r\n        </footer>\r\n        <section class="modal-card-body has-text-centered" *ngIf="!edicionPerfil">\r\n            <nav class="level">\r\n                <div class="level-item has-text-centered">\r\n                    <figure class="image is-128x128" style="position:relative;">\r\n                        <img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar">\r\n                        <a class="button is-primary is-inverted" title="Editar perfil" (click)="edicionPerfil = true;" style="position: absolute; top: 0px; right:-2em;"><span class="icon"><i class="fa fa-edit"></i></span></a>\r\n                    </figure>\r\n\r\n                </div>\r\n\r\n            </nav>\r\n            <h1 class="title">{{ usuario.nombre }} {{ usuario.apellidos }}</h1>\r\n            <h2 class="subtitle"><span class="icon"><i class="fa fa-user-circle"></i></span> {{usuario.id}}</h2>\r\n\r\n            <div class="field " *ngIf="usuario.unidades_medicas.length > 0">\r\n                <p class="control is-expanded">\r\n                    <span class="select is-fullwidth">\r\n                        <select (change)="seleccionarClues($event.target.value)">\r\n                            <option *ngFor="let um of usuario.unidades_medicas" value="{{ um.clues }}" [selected]="usuario.clues_activa && usuario.clues_activa.clues== um.clues">{{ um.clues }} {{ um.nombre}}</option>\r\n                        </select>\r\n                    </span>\r\n                </p>\r\n            </div>\r\n\r\n            <div class="field" *ngIf="usuario.clues_activa && usuario.clues_activa.almacenes && usuario.clues_activa.almacenes.length > 0">\r\n                <p class="control is-expanded">\r\n                    <span class="select is-fullwidth">\r\n                        <select (change)="seleccionarAlmacen($event.target.value)">\r\n                            <option *ngFor="let almacen of usuario.clues_activa.almacenes" value="{{ almacen.id }}" [selected]="usuario.almacen_activo.id== almacen.id">{{ almacen.nombre }}</option>\r\n                        </select>\r\n                    </span>\r\n                </p>\r\n            </div>\r\n\r\n            <div class="field " *ngIf="usuario.proveedores">\r\n                <p class="control is-expanded">\r\n                    <span class="select is-fullwidth">\r\n                        <select (change)="seleccionarProveedor($event.target.value)">\r\n                            <option *ngFor="let proveedor of usuario.proveedores" value="{{ proveedor.id }}" [selected]="usuario.proveedor_activo && usuario.proveedor_activo.id == proveedor.id">{{ proveedor.nombre }}</option>\r\n                        </select>\r\n                    </span>\r\n                </p>\r\n            </div>\r\n\r\n            <a *ngIf="mostrarCambiarEntorno" class="button  is-medium is-fullwidth is-primary" (click)="cambiarEntorno()"><span class="icon"><i class="fa fa-exchange"></i></span><span>Cambiar entorno</span></a>\r\n\r\n            <p class="has-text-centered"><small>Cliente Versi\xf3n {{ cliente_version }} &nbsp;&nbsp; Servidor API Versi\xf3n {{ server_info.api_version }}</small></p>\r\n        </section>\r\n        \r\n        <footer class="modal-card-foot" *ngIf="!edicionPerfil">\r\n            <a class="button  is-medium is-fullwidth " (click)="bloquear()"><span class="icon"><i class="fa fa-lock"></i></span><span>Bloquear aplicaci\xf3n</span></a>\r\n            <a class="button is-danger is-medium is-fullwidth is-outlined" (click)="logout()"><span class="icon"><i class="fa fa-sign-out"></i></span><span>Cerrar sesi\xf3n</span></a><br>\r\n\r\n        </footer>\r\n    </div>\r\n</div>'},w7Tl:function(e,t){e.exports=""},wL7n:function(e,t){e.exports='<listar #ctrl URL="movimientos?tipo=5&fecha_desde={{fecha_desde}}&fecha_hasta={{fecha_hasta}}&turno={{turno}}" titulo="Salida Receta"></listar>\r\n<menu-farmacia [modulo]="\'Salidas por recetas\'" [icono]="\'assets/icono-salidas.svg\'" [url]="\'/almacen/salidas-recetas\'"></menu-farmacia>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:95%; "> \x3c!-- 85% --\x3e\r\n    <div class="column" style="padding:2em; height:100%; overflow:auto;">\r\n        <div style="background: #FFF;">\r\n            <section class="hero" [ngClass]="{\'is-dark\': ctrl.busquedaActivada, \'is-primary\': !ctrl.busquedaActivada}" \r\n                    style="min-height:200px; height: 25%;">\r\n                <div class="hero-body" style="position:relative; height: 90%">\r\n                    <nav class="level">\r\n                        <div class="level-left"></div>\r\n                        \x3c!-- Right side --\x3e\r\n                        <div class="level-right">\r\n                            <p class="level-item"><a class="button is-dark is-medium" routerLink="nuevo" *ngIf="ctrl.busquedaActivada && !usuario.clues_activa.es_offline"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;<span>Nueva receta</span></a></p>\r\n                            <p class="level-item"><a class="button is-primary is-medium" routerLink="nuevo" *ngIf="!ctrl.busquedaActivada && !usuario.clues_activa.es_offline"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;<span>Nueva receta</span></a></p>\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" (click)="ctrl.busquedaActivada=false;searchBox.value=\'\'; ctrl.resultadosBusqueda=[]"><span class="icon "><i class="fa fa-close"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="Actualizar" (click)="ctrl.listarBusqueda(searchBox.value,1)"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="Actualizar" (click)="ctrl.listar(1)"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n                            \r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="PDF" (click)="ctrl.dato; imprimir()"><span class="icon "><i class="fa fa-file-pdf-o"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="PDF" (click)="ctrl.dato; imprimir()"><span class="icon "><i class="fa fa-file-pdf-o"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-dark" *ngIf="ctrl.busquedaActivada" title="Excel" (click)="export_excel()"><span class="icon "><i class="fa fa-file-excel-o"></i></span></a></p>\r\n                            <p class="level-item"><a class="button  is-primary" *ngIf="!ctrl.busquedaActivada" title="Excel" (click)="export_excel()"><span class="icon "><i class="fa fa-file-excel-o"></i></span></a></p>\r\n                            <p class="level-item">&nbsp;</p>\r\n                        </div>\r\n                    </nav> \r\n                    <div class="container is-fluid">\r\n                        <div class="is-hidden-desktop">\r\n                            <h1 class="title" *ngIf="!ctrl.busquedaActivada">\r\n                                <span class="icon is-medium"><i class="fa fa-user"></i></span> Salidas por recetas\r\n                            </h1>\r\n                        </div>\r\n                        <h1 class="title" *ngIf="ctrl.busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-search"></i></span> B\xfasqueda\r\n                        </h1>\r\n                        <div class="control is-grouped">\r\n                            <div class="control">\r\n                                <div class="field">   \r\n                                    <label class="label">Desde:</label>                         \r\n                                    <input  style="width: 150px;" class="input is-medium" [(ngModel)]=\'fecha_desde\' ngui-datetime-picker date-only="true" placeholder="YYYY-MM-DD" readonly/>\r\n                                </div>\r\n                            </div>\r\n                            <div class="control is-expanded" >\r\n                                <div class="field">   \r\n                                    <label class="label">Hasta:</label>                         \r\n                                    <input style="width: 150px;" class="input is-medium" [(ngModel)]=\'fecha_hasta\' ngui-datetime-picker date-only="true" placeholder="YYYY-MM-DD" readonly/>\r\n                                </div>\r\n                            </div>\r\n                            \x3c!-- /*******************************************/ --\x3e\r\n                            <div class="control is-expanded" *ngIf="!ctrl.cargando">                                \r\n                                <div class="field">\r\n                                    <label class="label">Turno:</label>\r\n                                    <div class="select is-medium">\r\n                                        <select *ngIf="ctrl.dato" class="select is-medium" [(ngModel)]="turno" #tr>\r\n                                            <option value="">Todos</option>\r\n                                            <option *ngFor="let val of ctrl.dato[ctrl.dato.length-1].turnos_disponibles" value="{{val.id}}" >{{ val.nombre }}</option>\r\n                                        </select>\r\n                                        <select *ngIf="!ctrl.dato"  class="select is-medium" [(ngModel)]="turno" #tr>\r\n                                            <option value="">Todos</option>\r\n                                        </select>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class="control">\r\n                                <div class="field">  \r\n                                <label class="label">&nbsp;</label>\r\n                                <button class="button is-default is-medium" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="turno=\'\'; fecha_desde=\'\'; fecha_hasta=\'\';" >Limpiar</button>\r\n                                </div>\r\n                            </div>\r\n                            <div class="control">\r\n                                <div class="field">  \r\n                                <label class="label">&nbsp;</label>\r\n                                <button class="button is-info is-medium" type="button" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="ctrl.listar(1)" >Filtrar</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section> \x3c!-- 25/100% height --\x3e\r\n            <div class="is-fullwidth has-text-centered" *ngIf="ctrl.cargando" style="height:75%;"> \x3c!-- 75/100% height --\x3e\r\n                <br>\r\n                <span class="tag is-primary is-large">\r\n                    <span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span>\r\n                </span>\r\n            </div>\r\n            <span id="exportable" style="height:70%;">\x3c!-- 75/100% height --\x3e\r\n                <div style="overflow: scroll; overflow-x: hidden; height: 70%;">\r\n                    <div class="is-fullwidth has-text-centered" *ngIf="cargandoPdf">\r\n                        <br>\r\n                        <span class="tag is-primary is-large ">\r\n                            <span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Generando PDF...</span>\r\n                        </span>\r\n                        <br>\r\n                        <br>\r\n                    </div>\r\n                    <table class="table is-responsive" *ngIf="!ctrl.cargando && !cargandoPdf">\r\n                        <thead>\r\n                            <tr>\r\n                                <th><abbr title="Folio de movimiento">Folio</abbr></th>\r\n                                <th><abbr title="Folio de receta">Receta</abbr></th>\r\n                                <th><abbr title="Tipo de receta">Tipo</abbr></th>\r\n                                <th><abbr title="Fecha de receta">Fecha</abbr></th>\r\n                                <th>Doctor</th>\r\n                                <th>Paciente</th>\r\n                                <th>Insumos</th>\r\n                                <th>Turno</th>\r\n                                <th>Captur\xf3</th>\r\n                                <th style=" text-align: center;">Actualizado</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody *ngIf="!ctrl.busquedaActivada && ctrl.dato;">\r\n                            <tr *ngFor="let item of ctrl.dato; let i=index">\r\n                                <th *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle;"><a routerLink="/almacen/salidas-recetas/ver/{{item.id}}">{{ item.id ? item.id : \'No disponible\'}}</a></th>\r\n                                <td *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle;"><a routerLink="/almacen/salidas-recetas/ver/{{item.id}}">{{ item.movimiento_receta == null ? \'No disponible\' : item.movimiento_receta.folio ? item.movimiento_receta.folio : \'No disponible\'}} </a></td>\r\n                                <td *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle;"><a routerLink="/almacen/salidas-recetas/ver/{{item.id}}">{{ item.movimiento_receta == null ? \'No disponible\' : item.movimiento_receta.tipo_receta_id == 1 ? \'Normal\' : item.movimiento_receta.tipo_receta_id == 2 ? \'Controlado\' : \'No disponible\' }} </a></td>\r\n                                <td *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle;"><a routerLink="/almacen/salidas-recetas/ver/{{item.id}}">{{ item.movimiento_receta == null ? \'No disponible\' : item.movimiento_receta.fecha_receta ? item.fecha_movimiento : \'No disponible\' }} </a></td>\r\n                                <td *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle;"><a routerLink="/almacen/salidas-recetas/ver/{{item.id}}">{{ item.movimiento_receta == null ? \'No disponible\' : item.movimiento_receta.personal_medico ? item.movimiento_receta.personal_medico.nombre : \'No disponible\'}}</a></td>\r\n                                <td *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle;"><a routerLink="/almacen/salidas-recetas/ver/{{item.id}}">{{ item.movimiento_receta == null ? \'No disponible\' : item.movimiento_receta.paciente ? item.movimiento_receta.paciente : \'No disponible\'}}</a></td>\r\n                                <td *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle;"><a routerLink="/almacen/salidas-recetas/ver/{{item.id}}"><p> Claves: {{item.numero_claves ? item.numero_claves : \'No disponible\'}}</p> <p> Insumos: {{item.numero_insumos ? item.numero_insumos : \'No disponible\'}}</p> </a></td>\r\n                                <td *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle;"><a routerLink="/almacen/salidas-recetas/ver/{{item.id}}">\r\n                                    {{ item.movimiento_metadato == null ? \'No disponible\' : item.movimiento_metadato.turno == null ? \'No disponible\' : item.movimiento_metadato.turno.nombre ? item.movimiento_metadato.turno.nombre : \'No disponible\' }}\r\n                                </a></td>\r\n                                <td *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle;"><a routerLink="/almacen/salidas-recetas/ver/{{item.id}}">{{ item.movimiento_usuario == null ? \'No disponible\' : item.movimiento_usuario.nombre }} {{ item.movimiento_usuario.apellidos }} </a></td>\r\n                                <td *ngIf="(i+1)<ctrl.dato.length" style="vertical-align: middle; text-align: center;"><a routerLink="/almacen/salidas-recetas/ver/{{item.id}}">{{ item.updated_at | date:\'medium\' }} </a></td>\r\n\r\n                            </tr>\r\n                            <tr *ngIf="ctrl.dato.length == 0">\r\n                                <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </span>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [total]="ctrl.total" [paginasTotales]="ctrl.paginasTotales" [resultadosPorPagina]="ctrl.resultadosPorPagina"\r\n                [paginaActual]="ctrl.paginaActual" [indicePaginas]="ctrl.indicePaginas" (onSiguiente)="ctrl.paginaSiguiente()"\r\n                (onAnterior)="ctrl.paginaAnterior()" (onListar)="ctrl.listar($event)" *ngIf="ctrl.total>0 && ctrl.total > ctrl.resultadosPorPagina && !ctrl.busquedaActivada"></paginacion>\r\n            \x3c!-- Paginaci\xf3n para la b\xfasqueda  --\x3e\r\n            <paginacion [total]="ctrl.totalBusqueda" [paginasTotales]="ctrl.paginasTotalesBusqueda" [resultadosPorPagina]="ctrl.resultadosPorPaginaBusqueda"\r\n                [paginaActual]="ctrl.paginaActualBusqueda" [indicePaginas]="ctrl.indicePaginasBusqueda" (onSiguiente)="ctrl.paginaSiguienteBusqueda(searchBox.value)"\r\n                (onAnterior)="ctrl.paginaAnteriorBusqueda(searchBox.value)" (onListar)="ctrl.listarBusqueda(searchBox.value,$event)"\r\n                *ngIf="ctrl.totalBusqueda > 0 && ctrl.totalBusqueda > ctrl.resultadosPorPaginaBusqueda && ctrl.busquedaActivada"></paginacion>\r\n        </div>\r\n    </div>\r\n</div> \x3c!-- 85% --\x3e'},wPDg:function(e,t){e.exports="<p>\r\n  ayuda works!\r\n</p>\r\n"},waBZ:function(e,t){e.exports=""},x35b:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("2tFN"),a("ChGr"),a("ZSR1");var n=a("WT6e"),r=a("4PVY"),i=a("OE0E"),s=a("Bj4q"),o=a("Xjw4"),l=a("7DMc"),c=a("NOoU"),d=a("BDfs"),u=a("bu1r"),p=a("HCek"),m=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},g=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},f=function(){function e(){}return e=m([Object(n.Component)({selector:"app-root",template:a("5xMp"),styles:[a("okgc")]}),g("design:paramtypes",[])],e)}(),h=a("bfOx"),v=(a("owTz"),{production:!0,VERSION:"1.0",API_URL:"api",RESET_URL:""}),b=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},y=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},_=function(){function e(e,t){this.http=e,this.router=t,this.headers=new c.Headers({"Content-Type":"application/json"})}return e.prototype.login=function(e,t){var a="obtener-token";return a.indexOf("http")>-1?(console.log(a.indexOf("http")),this.headers["Content-type"]="application/x-www-form-urlencoded;charset=UTF-8"):this.headers["Content-type"]="application/json",this.http.post(v.API_URL+"/"+a,JSON.stringify({id:e,password:t}),{headers:this.headers}).map(function(e){var t=e.json();if(t.token){console.log("Token obtenido.");var a=JSON.parse(localStorage.getItem("usuario"));if(localStorage.removeItem("token"),localStorage.removeItem("usuario"),localStorage.removeItem("server_info"),localStorage.removeItem("configuracion_general"),t.usuario.clues_activa=null,t.usuario.almacen_activo=null,t.usuario.proveedor_activo=null,t.usuario.proveedores)if(a&&a.id==t.usuario.id){var n=!1;if(a.proveedor_activo)for(var r in t.usuario.proveedores)if(a.proveedor_activo.id==t.usuario.proveedores[r].id){t.usuario.proveedor_activo=t.usuario.proveedores[r],n=!0;break}n||(t.usuario.proveedor_activo=t.usuario.proveedores[0])}else t.usuario.proveedor_activo=t.usuario.proveedores[0];if(t.usuario.unidades_medicas.length>0){if(a&&a.id==t.usuario.id){n=!1;if(a.clues_activa)for(var r in t.usuario.unidades_medicas)a.clues_activa.clues==t.usuario.unidades_medicas[r].clues&&(t.usuario.clues_activa=t.usuario.unidades_medicas[r],n=!0);n||(t.usuario.clues_activa=t.usuario.unidades_medicas[0])}else t.usuario.clues_activa=t.usuario.unidades_medicas[0];if(t.usuario.clues_activa.almacenes.length>0)if(a&&a.id==t.usuario.id){n=!1;if(a.almacen_activo)for(var r in t.usuario.clues_activa.almacenes)a.almacen_activo.id==t.usuario.clues_activa.almacenes[r].id&&(t.usuario.almacen_activo=t.usuario.clues_activa.almacenes[r],n=!0);n||(t.usuario.almacen_activo=t.usuario.clues_activa.almacenes[0])}else t.usuario.almacen_activo=t.usuario.clues_activa.almacenes[0];else t.usuario.almacen_activo=null}else t.usuario.clues_activa=null,t.usuario.almacen_activo=null;localStorage.setItem("token",t.token),localStorage.setItem("usuario",JSON.stringify(t.usuario)),localStorage.setItem("server_info",JSON.stringify(t.server_info)),localStorage.setItem("configuracion_general",JSON.stringify(t.configuracion_general))}})},e.prototype.refreshToken=function(){var e="refresh-token?token="+localStorage.getItem("token");return this.http.post(v.API_URL+"/"+e,{},{headers:this.headers}).map(function(e){var t=e.json();t.token&&(console.log("Token renovado."),localStorage.removeItem("token"),localStorage.removeItem("server_info"),localStorage.setItem("token",t.token),localStorage.setItem("server_info",JSON.stringify(t.server_info)))})},e.prototype.logout=function(e){void 0===e&&(e=null),localStorage.removeItem("token"),localStorage.removeItem("usuario"),localStorage.removeItem("server_info"),localStorage.removeItem("configuracion_general"),null!=e?this.router.navigate(["login"],{queryParams:{returnUrl:decodeURIComponent(e.replace(/\+/g," "))}}):this.router.navigate(["login"])},e=b([Object(n.Injectable)(),y("design:paramtypes",[c.Http,h.b])],e)}(),x=a("g5jc"),I=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},j=function(){function e(){this.bloquearPantallaSource=new x.Subject,this.pantallaBloqueada$=this.bloquearPantallaSource.asObservable()}return e.prototype.bloquearPantalla=function(){localStorage.removeItem("bloquear_pantalla"),localStorage.setItem("bloquear_pantalla","true"),this.bloquearPantallaSource.next(!0)},e.prototype.desbloquearPantalla=function(){localStorage.removeItem("bloquear_pantalla"),this.bloquearPantallaSource.next(!1)},e=I([Object(n.Injectable)()],e)}(),k=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},C=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},E=function(){function e(e,t,a,n){var r=this;this.route=e,this.router=t,this.authService=a,this.bloquearPantallaService=n,this.credenciales={},this.loading=!1,this.mensaje="",this.mostrarMensaje=!1,this.tamano=document.body.clientHeight,this.mostrarRecuperarPassword=!1,this.resetPasswordViaToken=!1,this.resetPasswordPayload={id:null,reset_token:null},this.cliente_version="",this.bloquearPantallaSuscription=n.pantallaBloqueada$.subscribe(function(e){e||(console.log("Redirigiendo desde login por desbloqueo de pantalla"),r.returnUrl=r.route.snapshot.queryParams.returnUrl||"/",r.router.navigate([r.returnUrl]))})}return e.prototype.ngOnInit=function(){this.saludIdDisponible=!1,this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/","true"==this.route.snapshot.queryParams.reset_password&&(this.resetPasswordPayload.id=this.route.snapshot.queryParams.id||"",this.resetPasswordPayload.reset_token=this.route.snapshot.queryParams.reset_token||"",this.mostrarRecuperarPassword=!0,this.resetPasswordViaToken=!0),this.cliente_version=v.VERSION},e.prototype.login=function(){var e=this;this.loading=!0,this.mostrarMensaje=!1,this.authService.login(this.credenciales.id,this.credenciales.password).subscribe(function(t){var a=JSON.parse(localStorage.getItem("usuario"));e.loading=!1,a.modulo_inicio?e.router.navigate([a.modulo_inicio]):e.router.navigate([e.returnUrl]),localStorage.removeItem("bloquear_pantalla")},function(t){e.loading=!1,e.mostrarMensaje=!0,e.mensaje="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir.";try{t.json();401==t.status&&(e.mensaje="Lo sentimos el usuario y/o contrase\xf1a no son v\xe1lidos."),0==t.status&&(e.mensaje="Conexi\xf3n rechazada."),500==t.status&&(e.mensaje="500 (Error interno del servidor)")}catch(a){500==t.status&&(e.mensaje="500 (Error interno del servidor)")}})},e=k([Object(n.Component)({selector:"app-login",template:a("qGi7"),styles:[a("4I9T")]}),C("design:paramtypes",[h.a,h.b,_,j])],e)}(),P=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},q=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},A=function(){function e(e){this.title=e,this.usuario={}}return e.prototype.ngOnInit=function(){this.title.setTitle("Dashboard"),this.usuario=JSON.parse(localStorage.getItem("usuario"))},e=P([Object(n.Component)({selector:"app-dashboard",template:a("Rpt0"),styles:[a("DBiG")]}),q("design:paramtypes",[i.Title])],e)}(),w=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},S=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},R=function(){function e(){this.usuario={}}return e.prototype.ngOnInit=function(){this.usuario=JSON.parse(localStorage.getItem("usuario"))},e=w([Object(n.Component)({selector:"app-not-found",template:a("U77z"),styles:[a("P8Eb")]}),S("design:paramtypes",[])],e)}(),O=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},N=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},M=function(){function e(e){this.router=e}return e.prototype.canActivate=function(e,t){return!!localStorage.getItem("token")||(this.router.navigate(["login"],{queryParams:{returnUrl:t.url}}),!1)},e=O([Object(n.Injectable)(),N("design:paramtypes",[h.b])],e)}(),B=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},F=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},D=function(){function e(e){this.router=e}return e.prototype.canActivate=function(e,t){var a=JSON.parse(localStorage.getItem("usuario"));if(!a.permisos)return this.router.navigate(["/"]),!1;var n=a.permisos.split("|");for(var r in n)if(e.data.key&&e.data.key==n[r])return!0;return this.router.navigate(["/"]),!1},e=B([Object(n.Injectable)(),F("design:paramtypes",[h.b])],e)}(),L=a("Gvdl"),T=a("2vVT"),z=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},U=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},V=function(){function e(e,t,a,n,r){this.http=e,this.authService=t,this.bloquearPantallaService=a,this.router=n,this.jwtHelper=r}return e.prototype.get=function(e,t,a){void 0===t&&(t=null),void 0===a&&(a=null);var n=this.request("get",e,t,a);return n},e.prototype.post=function(e,t){return void 0===t&&(t=null),this.request("post",e,null,t)},e.prototype.put=function(e,t,a){return void 0===t&&(t=null),void 0===a&&(a=null),this.request("put",e,t,a)},e.prototype.delete=function(e,t,a){return void 0===t&&(t=null),void 0===a&&(a=null),this.request("delete",e,t)},e.prototype.request=function(e,t,a,n){var r=this;if(void 0===a&&(a=null),void 0===n&&(n={}),null==localStorage.getItem("token"))return null;var i=JSON.parse(localStorage.getItem("server_info")),s=(this.jwtHelper.decodeToken(localStorage.getItem("token")),JSON.parse(localStorage.getItem("usuario"))),o={};o=t.indexOf("http")>-1?{"Content-Type":"application/x-www-form-urlencoded;charset=UTF-8",Authorization:"Bearer "+localStorage.getItem("token")}:{"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")},s.clues_activa&&(o["X-Clues"]=s.clues_activa.clues),s.almacen_activo&&(o["X-Almacen-Id"]=s.almacen_activo.id),s.proveedor_activo&&(o["X-Proveedor-Id"]=s.proveedor_activo.id);var l=new c.Headers(o);return new L.Observable(function(o){if(r.jwtHelper.isTokenExpired(localStorage.getItem("token"))){console.log("El token ha expirado. Comprobando caducidad para renovar.");var d=Number(i.token_refresh_ttl);d=Number.isNaN(d)?0:d;var u=r.jwtHelper.getTokenExpirationDate(localStorage.getItem("token")),p=new Date(u.getTime()+6e4*d),m=new Date;p.getTime()-m.getTime()<=0?(console.log("El token ha caducado completamente y no ser\xe1 posible renovarlo."),console.log("Bloqueando aplicaci\xf3n."),r.bloquearPantallaService.bloquearPantalla()):r.authService.refreshToken().subscribe(function(){console.log("Enviando petici\xf3n con token renovado.");var i={"Content-Type":"application/json",Authorization:"Bearer "+localStorage.getItem("token")};if(s.clues_activa&&(i["X-Clues"]=s.clues_activa.clues),s.almacen_activo&&(i["X-Almacen-Id"]=s.almacen_activo.id),s.proveedor_activo&&(i["X-Proveedor-Id"]=s.proveedor_activo.id),l=new c.Headers(i),"get"==e){var d=new c.URLSearchParams;if(null!=n)for(var u in n)n.hasOwnProperty(u)&&d.set(u,n[u]);null==a?r.http.get(v.API_URL+"/"+t,{headers:l,search:d}).subscribe(function(e){o.next(e)},function(e){o.error(e)}):r.http.get(v.API_URL+"/"+t+"/"+a,{headers:l,search:d}).subscribe(function(e){o.next(e)},function(e){o.error(e)})}"post"==e&&r.http.post(v.API_URL+"/"+t,n,{headers:l}).subscribe(function(e){o.next(e)},function(e){o.error(e)}),"put"==e&&null!=a&&r.http.put(v.API_URL+"/"+t+"/"+a,n,{headers:l}).subscribe(function(e){o.next(e)},function(e){o.error(e)}),"delete"==e&&null!=a&&r.http.delete(v.API_URL+"/"+t+"/"+a,{headers:l}).subscribe(function(e){o.next(e)},function(e){o.error(e)})},function(e){console.log("Token caducado. Se intento renovar pero el servidor no lo permiti\xf3, debido a que se super\xf3 el tiempo l\xedmite."),console.log("Bloqueando aplicaci\xf3n."),r.bloquearPantallaService.bloquearPantalla()})}else{if("get"==e){var g=new c.URLSearchParams;if(null!=n)for(var f in n)n.hasOwnProperty(f)&&g.set(f,n[f]);null==a?r.http.get(v.API_URL+"/"+t,{headers:l,search:g}).subscribe(function(e){o.next(e)},function(e){o.error(e)}):r.http.get(v.API_URL+"/"+t+"/"+a,{headers:l,search:g}).subscribe(function(e){o.next(e)},function(e){o.error(e)})}"post"==e&&r.http.post(v.API_URL+"/"+t,n,{headers:l}).subscribe(function(e){o.next(e)},function(e){o.error(e)}),"put"==e&&null!=a&&r.http.put(v.API_URL+"/"+t+"/"+a,n,{headers:l}).subscribe(function(e){o.next(e)},function(e){o.error(e)}),"delete"==e&&null!=a&&r.http.delete(v.API_URL+"/"+t+"/"+a,{headers:l}).subscribe(function(e){o.next(e)},function(e){o.error(e)})}})},e=z([Object(n.Injectable)(),U("design:paramtypes",[c.Http,_,j,h.b,T.JwtHelper])],e)}(),G=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Y=[{path:"",redirectTo:"/dashboard",pathMatch:"full"},{path:"login",component:E},{path:"dashboard",component:A,canActivate:[M]}],H=function(){function e(){}return e=G([Object(n.NgModule)({imports:[h.c.forRoot(Y)],exports:[h.c]})],e)}(),J=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},$=[{path:"**",component:R}],K=function(){function e(){}return e=J([Object(n.NgModule)({imports:[h.c.forChild($)],exports:[h.c]})],e)}(),X=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Z=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Q=function(){function e(){this.mostrar=!1,this.itemsProtegidos=[{title:"Insumos m\xe9dicos tercerizados",routerLink:"/almacen",icono:"assets/hub-farmacia.svg",permisos:["z9MQHY1YAIlYWsPLPF9OZYN94HKjOuDk","iSxK0TpoYpnzf8KIQTWOq9Web7WnSKhz","GPSDLmXckXcdfdj7lD4rdacwMivsTp9g","qQvNeb1UFPOfVMKQnNkvxyqjCIUgFuEG","a1OMZVn7dveOf5aUK8V0VsvvSCxz8EMw"]},{title:"Insumos m\xe9dicos tradicional",routerLink:"/almacen-estandar",icono:"assets/hub-estandar.svg",permisos:["fO4NLBvm5IAv5zouJ24rS0qVI2cHpm44","J1mYtHwF7WVbie5dCZhFptvYzNEtqHXQ"]},{title:"Inventario",routerLink:"/inventario",icono:"assets/icono-stock.svg",permisos:["H5IV7Z6CAj8V2CRIQ2wnbXrYhvjLsSBk","cE81erieaVjvmhcb9GCYI4doqYGtTcj1","0oADIo1ltfAl4VMDVbyWgLR3rAhYGjlY","7KbTARF2kpnO4Lfqv8hmYP8QGMcgJBwU","--z9MQHY1YAIlYWsPLPF9OZYN94HKjOuDk"]},{title:"Receta Electr\xf3nica",routerLink:"/receta-electronica",icono:"assets/icono-recetas.svg",permisos:["rEAgr2wrYx2AKLhIS7uLh7QIPJkmv4Jo","qbmHSezvoY8IROFk3CJ7XBuLzp9rRoo6","7pFIrhuM3trSzo9nnIgeU7cMUArsukS8"]},{title:"Almac\xe9n general",routerLink:"/almacen-articulos",icono:"assets/hub-almacen-articulos.svg",permisos:["fMKARTchWDT56hgX0sNJnmTD9wcwTwK0","1giAayqzxUGwhGYQgGD6PTYkPin1edAs","VmObT0aDFLEXDMer0yvfKo76gBsGNdcR","8u2HduKCBo53Vwa2DiMh1ujytqdL9c7M","5Pnh7DTayhrND0GyB7bzfbdFK2kA6bgM","aUYWDYq2gV9RqGaIe6XdRfd2QjZOeRSP"]},{title:"Laboratorio cl\xednico",routerLink:"/laboratorio",icono:"assets/hub-laboratorio.svg",permisos:["PzmTtCd1MbMWVBPwVmttQQWdNfqwzp7p","7GkcqRllVy4Z371KMLPsX0d04dqv3vBE"]},{title:"Equipamiento",routerLink:"/equipamiento",icono:"assets/hub-equipamiento.svg",permisos:[]},{title:"Farmacia Subrogada",routerLink:"/farmacia-subrrogada",icono:"assets/hub-farmacia-sub.svg",permisos:["--z9MQHY1YAIlYWsPLPF9OZYN94HKjOuDk","6sTjs3q8rhHslelQgTUI4hdkNSbiwyhf"]},{title:"Administrador central",routerLink:"/administrador-central",icono:"assets/hub-administrador-central.svg",permisos:["bsIbPL3qv6XevcAyrRm1GxJufDbzLOax","bwWWUufmEBRFpw9HbUJQUP8EFnagynQv","s8kSv2Gj9DZwRvClVRmZohp92Rtvi26i","fWA5oDswZ2Ra4O8YaCy6nEY8OeCOxg9C","BBg7HSOEmjjOsVl48s8wSz8AxXhmBXA1"]},{title:"Administrador proveedores",routerLink:"/administrador-proveedores",icono:"assets/hub-administrador-proveedores.svg",permisos:["MrL06vIO12iNhchP14h57Puvg71eUmYb"]},{title:"Panel de control",routerLink:"/panel-control",icono:"assets/hub-panel-control.svg",permisos:["mGKikN0aJaeF2XrHwwYK3XNw0f9CSZDe","ICmOKw3HxhgRna4a78OP0QmKrIX0bNsp","DYwQAxJbpHWw07zT09scEogUeFKFdGSu","NNN3YYcmuXdZYVSGCk0CJFjcx3ATnRQ5","3DMVRdBv4cLGzdfAqXO7oqTvAMbEdhI7","8DDwGNuZOZfoFfaDOsQvBBhVzmnlU4PA","tFcVVgwywaPvfj4ZdOoCZfBpcTtZAST0","WcIjPIhPWGJbLyb4OiYe91sRKP7NGTAK"]},{title:"Configuraci\xf3n de Unidad M\xe9dica",routerLink:"/configuracion",icono:"assets/hub-configuracion.svg",permisos:["zRTSAl0H8YNFMWcn00yeeJPigztCbSdC","9dKCEyujSdLQF2CbpjXiWKeap0NlJCzw","Ki9kBghgqYsY17kqL620GWYl0bpeU6TB","BnB3LhrDbKNBrbQaeB2BPXKGrLEYrEw7"]},{title:"M\xe9dicos",routerLink:"/medicos",icono:"assets/hub-medicos.svg",permisos:["nyMZvmCF2DQYSrulP5sKgEPN4CnJiixQ"]},{title:"Pacientes",routerLink:"/paciente",icono:"assets/avatar-enfermero.svg",permisos:["PpXKhxdG8dGheNKm1rRSCT4EXZYyhRMm"]},{title:"Avances",routerLink:"/temas",icono:"assets/hub-avance.svg",permisos:["WbBYhMFZkGsAYeN13hY1hylZkNPJbHOE"]},{title:"Cat\xe1logos y par\xe1metros del sistema",routerLink:"/catalogos-parametros",icono:"assets/hub-catalogos-params.svg",permisos:["Npmc6C155PMjnkPKWUFXcIF3NcegAzIE","l9PXPHg1MMJYMKTlzXeEHNIsgw9d5oty","KbzwkJtDcLGcaNhbuYd24bhdDMGaKXod","JDAc3VaD3TbCIu0cUIYxZ6gG6QG32I3y","xSSmZGx6xgw4Qd4MQKlcDwxE1iD4QvxZ","PtTJ9g7WGYcyuPjTxe5iaJILVzQedccG","ygwsEwz3cUw4yVMCeaQ9hVMCFXUHri5q","OhAoehuuORlLObNSrzy4qpRYE89VfUdt","2CGoJAwDzH2JGpaPVUz3Vakcge5ReO9F","JHUfLL82Cp1pUI7tTKaWuCfVIaeKZk5z","d1V2FX6TNxO6cCSXaAZQfLiAnDoL6rnO","S1Yv83vAhv2o7xzq5ur37bmbfHvsomJf","ouIq0jdKpmTNYG1f2MRjMmlKvXmSviPd","EBQdToSqWCpu1TJTDWBibcuGOpO97ucT","GVnLtL6maGUSPmaiLlCgAT4FzlzHKkN0","h9IhilMjvBtC7X64A0poFV26EL5xWAyM","DbpT0VqR0DcNcqmCnwRbK7XvgWqDY2yc","56R2ES2GDbpovdiLAwFEjj75Rl975MsR"]}],this.hubAutorizado=[{title:"Dashboard",routerLink:"/dashboard",icono:"assets/hub-dashboard.svg"}]}return e.prototype.ngOnInit=function(){var e=JSON.parse(localStorage.getItem("usuario")).permisos.split("|");if(e.length>0)for(var t in this.itemsProtegidos)e:for(var a in this.itemsProtegidos[t].permisos)for(var n in e)if(e[n]==this.itemsProtegidos[t].permisos[a]){this.hubAutorizado.push(this.itemsProtegidos[t]);break e}},e.prototype.toggle=function(){this.mostrar=!this.mostrar},e=X([Object(n.Component)({selector:"app-hub",template:a("N/oC"),styles:[a("rOUf")]}),Z("design:paramtypes",[])],e)}(),W=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},ee=function(){function e(){}return e=W([Object(n.NgModule)({imports:[o.CommonModule,h.c],exports:[Q],declarations:[Q]})],e)}(),te=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},ae=function(){function e(){this.cambiarEntornoSource=new x.Subject,this.entornoCambiado$=this.cambiarEntornoSource.asObservable()}return e.prototype.cambiarEntorno=function(){console.log("Cambiaste de entorno"),this.cambiarEntornoSource.next(!0)},e=te([Object(n.Injectable)()],e)}(),ne=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},re=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ie=function(){function e(e,t){this.http=e,this.jwtRequest=t}return t=e,e.prototype.editar=function(e,a){return this.jwtRequest.put(t.URL,e,a).map(function(e){return e.json().data})},e.URL="editar-perfil",e=t=ne([Object(n.Injectable)(),re("design:paramtypes",[c.Http,V])],e);var t}(),se=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},oe=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},le=function(){function e(e,t,a,n,r){this.router=e,this.authService=t,this.bloquearPantallaService=a,this.cambiarEntornoService=n,this.editarPerfilService=r,this.mostrar=!1,this.usuario={},this.server_info={},this.cliente_version="",this.mostrarCambiarEntorno=!1,this.edicionPerfil=!1,this.avatars=[{value:"avatar-circled-user-male",title:"Hombre"},{value:"avatar-circled-user-female",title:"Mujer"},{value:"avatar-circled-user-male-skin-type-6",title:"Hombre piel morena"},{value:"avatar-circled-user-female-skin-type-6",title:"Mujer piel morena"},{value:"avatar-circled-collaborator-male",title:"Colaborador hombre"},{value:"avatar-nurse",title:"Enfermera"},{value:"avatar-circled-doctor-male",title:"Doctor"},{value:"avatar-circled-doctor-female",title:"Doctora"},{value:"avatar-cat",title:"Gato"}],this.errores={nombre:null,apellidos:null,passwordAnterior:null,passwordNuevo:null},this.nuevoPerfil={id:"",avatar:"",nombre:"",apellidos:"",cambiarPassword:!1,passwordAnterior:"",passwordNuevo:"",passwordNuevoConfirmacion:""},this.enviandoDatosPerfil=!1,this.mostrarMensajeExitoso=!1,this.mensajeError=""}return e.prototype.ngOnInit=function(){this.usuario=JSON.parse(localStorage.getItem("usuario")),this.server_info=JSON.parse(localStorage.getItem("server_info")),this.cliente_version=v.VERSION,this.nuevoPerfil.id=this.usuario.id,this.nuevoPerfil.avatar=this.usuario.avatar,this.nuevoPerfil.nombre=this.usuario.nombre,this.nuevoPerfil.apellidos=this.usuario.apellidos,1==this.usuario.su&&this.avatars.push({value:"avatar-circled-root",title:"Super administrador"})},e.prototype.toggle=function(){this.enviandoDatosPerfil||(this.edicionPerfil=!1,this.nuevoPerfil.id=this.usuario.id,this.nuevoPerfil.avatar=this.usuario.avatar,this.nuevoPerfil.nombre=this.usuario.nombre,this.nuevoPerfil.apellidos=this.usuario.apellidos,this.mostrar=!this.mostrar,this.mostrar&&(this.usuario=JSON.parse(localStorage.getItem("usuario"))))},e.prototype.logout=function(){this.authService.logout(),this.router.navigate(["/login"])},e.prototype.bloquear=function(){this.bloquearPantallaService.bloquearPantalla(),this.mostrar=!1},e.prototype.seleccionarClues=function(e){for(var t in this.mostrarCambiarEntorno=!0,this.usuario.unidades_medicas)e==this.usuario.unidades_medicas[t].clues&&(this.usuario.clues_activa=this.usuario.unidades_medicas[t],this.usuario.clues_activa.almacenes.length>0?this.usuario.almacen_activo=this.usuario.clues_activa.almacenes[0]:this.usuario.almacen_activo=null)},e.prototype.seleccionarAlmacen=function(e){for(var t in this.mostrarCambiarEntorno=!0,this.usuario.clues_activa.almacenes)e==this.usuario.clues_activa.almacenes[t].id&&(this.usuario.almacen_activo=this.usuario.clues_activa.almacenes[t])},e.prototype.seleccionarProveedor=function(e){for(var t in this.mostrarCambiarEntorno=!0,this.usuario.proveedores)if(e==this.usuario.proveedores[t].id){this.usuario.proveedor_activo=this.usuario.proveedores[t];break}},e.prototype.cambiarEntorno=function(){localStorage.setItem("usuario",JSON.stringify(this.usuario)),this.mostrarCambiarEntorno=!1,this.cambiarEntornoService.cambiarEntorno()},e.prototype.editarPerfil=function(){var e=this;this.enviandoDatosPerfil=!0;var t=this.nuevoPerfil;t.cambiarPassword||(t.cambiarPassword=null),this.errores={nombre:null,apellidos:null,passwordAnterior:null,passwordNuevo:null},this.mensajeError="",this.editarPerfilService.editar(this.usuario.id,t).subscribe(function(t){e.usuario.nombre=t.nombre,e.usuario.apellidos=t.apellidos,e.usuario.avatar=t.avatar,localStorage.setItem("usuario",JSON.stringify(e.usuario)),e.edicionPerfil=!0,e.enviandoDatosPerfil=!1,e.nuevoPerfil.cambiarPassword=!1,e.nuevoPerfil.passwordAnterior="",e.nuevoPerfil.passwordNuevo="",e.nuevoPerfil.passwordNuevoConfirmacion="",e.mostrarMensajeExitoso=!0},function(t){try{var a=t.json();switch(t.status){case 401:e.mensajeError="No tiee permiso para realizar esta acci\xf3n.";break;case 409:for(var n in e.mensajeError="Verifique la informaci\xf3n marcada de color rojo",a.error)for(var r in a.error[n])e.errores[n]=a.error[n][r];break;case 500:e.mensajeError="500 (Error interno del servidor)";break;default:e.mensajeError="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}}catch(a){e.mensajeError="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}e.enviandoDatosPerfil=!1})},e=se([Object(n.Component)({selector:"app-perfil",template:a("w40x"),styles:[a("+1oD")]}),oe("design:paramtypes",[h.b,_,j,ae,ie])],e)}(),ce=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},de=function(){function e(){}return e=ce([Object(n.NgModule)({imports:[o.CommonModule,h.c,l.FormsModule],exports:[le],providers:[ae,ie],declarations:[le]})],e)}(),ue=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},pe=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},me=function(){function e(e,t,a){var n=this;this.router=e,this.authService=t,this.bloquearPantallaService=a,this.usuario={},this.credenciales={},this.loading=!1,this.mensaje="",this.mostrarMensaje=!1,this.bloquearPantallaSuscription=a.pantallaBloqueada$.subscribe(function(e){e&&(localStorage.removeItem("token"),n.cargarCredenciales(),n.mostrar=!0)})}return e.prototype.ngOnInit=function(){null!=localStorage.getItem("bloquear_pantalla")&&(this.cargarCredenciales(),this.mostrar=!0)},e.prototype.cargarCredenciales=function(){this.usuario=JSON.parse(localStorage.getItem("usuario")),null!=this.usuario&&null!=this.usuario.id&&(this.credenciales.id=this.usuario.id)},e.prototype.login=function(){var e=this;this.loading=!0,this.mostrarMensaje=!1,this.authService.login(this.credenciales.id,this.credenciales.password).subscribe(function(t){e.loading=!1,e.mostrar=!1,e.credenciales.password="",e.bloquearPantallaService.desbloquearPantalla()},function(t){e.loading=!1,e.mostrarMensaje=!0,e.mensaje="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir.";try{t.json();401==t.status&&(e.mensaje="Lo sentimos el usuario y/o contrase\xf1a no son v\xe1lidos."),0==t.status&&(e.mensaje="Conexi\xf3n rechazada."),500==t.status&&(e.mensaje="500 (Error interno del servidor)")}catch(a){500==t.status&&(e.mensaje="500 (Error interno del servidor)")}})},e.prototype.logout=function(){this.mostrar=!1,localStorage.removeItem("bloquear_pantalla"),this.authService.logout()},e=ue([Object(n.Component)({selector:"app-bloquear-pantalla",template:a("6hLl"),styles:[a("0Kqi")]}),pe("design:paramtypes",[h.b,_,j])],e)}(),ge=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},fe=function(){function e(){}return e=ge([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule],exports:[me],providers:[j],declarations:[me]})],e)}(),he=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},ve=function(){function e(){}return e.prototype.transform=function(e,t){return e.filter(function(e){return e.titulo.toLowerCase().includes(t.toLowerCase())})},e=he([Object(n.Pipe)({name:"buscarModulo"})],e)}(),be=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},ye=function(){function e(){}return e.prototype.transform=function(e,t){if(e){var a=e.reduce(function(e,a){if(t.indexOf(".")>-1){var n=t.split(".");return e[a[n[0]][n[1]]]?e[a[n[0]][n[1]]].push(a):e[a[n[0]][n[1]]]=[a],e}return e[a[t]]?e[a[t]].push(a):e[a[t]]=[a],e},{});return Object.keys(a).map(function(e){return{key:e,value:a[e]}})}return[]},e=be([Object(n.Pipe)({name:"groupBy"})],e)}(),_e=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},xe=function(){function e(){}return e.prototype.transform=function(e,t,a){return e?e.filter(function(e){return e[t]==a}):[]},e=_e([Object(n.Pipe)({name:"filter"}),Object(n.Injectable)()],e)}(),Ie=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},je=function(){function e(){}return e=Ie([Object(n.NgModule)({imports:[o.CommonModule],exports:[ve,ye,xe],declarations:[ve,ye,xe]})],e)}(),ke=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Ce=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ee=function(){function e(){this.onSiguiente=new n.EventEmitter,this.onAnterior=new n.EventEmitter,this.onListar=new n.EventEmitter}return e.prototype.ngOnInit=function(){},e.prototype.siguiente=function(){console.log("siguiente"),this.onSiguiente.emit()},e.prototype.anterior=function(){console.log("anterior"),this.onAnterior.emit()},e.prototype.listar=function(e){void 0===e&&(e=1),console.log("listar:"+e),this.onListar.emit(e)},ke([Object(n.Input)(),Ce("design:type",Number)],e.prototype,"total",void 0),ke([Object(n.Input)(),Ce("design:type",Number)],e.prototype,"paginasTotales",void 0),ke([Object(n.Input)(),Ce("design:type",Number)],e.prototype,"resultadosPorPagina",void 0),ke([Object(n.Input)(),Ce("design:type",Number)],e.prototype,"paginaActual",void 0),ke([Object(n.Input)(),Ce("design:type",Array)],e.prototype,"indicePaginas",void 0),ke([Object(n.Output)(),Ce("design:type",Object)],e.prototype,"onSiguiente",void 0),ke([Object(n.Output)(),Ce("design:type",Object)],e.prototype,"onAnterior",void 0),ke([Object(n.Output)(),Ce("design:type",Object)],e.prototype,"onListar",void 0),e=ke([Object(n.Component)({selector:"paginacion",template:a("Cqnt"),styles:[a("1vcR")]}),Ce("design:paramtypes",[])],e)}(),Pe=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},qe=function(){function e(){}return e=Pe([Object(n.NgModule)({imports:[o.CommonModule],exports:[Ee],declarations:[Ee]})],e)}(),Ae=function(){return function(e,t){void 0===e&&(e=!1),void 0===t&&(t=6),this.titulo="",this.texto="",this.mostrar=!1,this.cuentaAtras=6,this.clase="",this.iniciarCuentaAtras=function(){var e=this,t=L.Observable.timer(7e3);L.Observable.timer(0,1e3).takeUntil(t).subscribe(function(t){e.cuentaAtras-=1,e.cuentaAtras<0&&(e.cuentaAtras=6,e.mostrar=!1)})},e&&this.iniciarCuentaAtras(),this.cuentaAtras=t}}(),we=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Se=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Re=function(){function e(e,t){this.http=e,this.jwtRequest=t}return e.prototype.jurisdicciones=function(){return this.jwtRequest.get("jurisdicciones").map(function(e){return e.json().data})},e.prototype.proveedores=function(){return this.jwtRequest.get("proveedores").map(function(e){return e.json().data})},e.prototype.abasto=function(e){return void 0===e&&(e={}),this.jwtRequest.get("administrador-central/abasto",null,e).map(function(e){return e.json().data})},e.prototype.reporteFinanciero=function(e){return void 0===e&&(e={}),this.jwtRequest.get("administrador-central/reporte-financiero",null,e).map(function(e){return e.json()})},e.prototype.pedidos=function(e){return void 0===e&&(e={}),this.jwtRequest.get("administrador-central/pedidos",null,e).map(function(e){return e.json().data})},e.prototype.verArchivosPedidoProveedor=function(e){return this.jwtRequest.get("administrador-central/pedidos-archivos-proveedor/"+e,null,{}).map(function(e){return e.json().data})},e.prototype.descargarArchivosPedidoProveedor=function(e){return this.jwtRequest.get("repository-download",e,{}).map(function(e){return 0})},e.prototype.presupuesto=function(e){return this.jwtRequest.get("administrador-central/presupuesto-pedidos",null,e).map(function(e){return e.json()})},e.prototype.unidadesMedicasConPresupuesto=function(e){return void 0===e&&(e={}),this.jwtRequest.get("administrador-central/unidades-medicas-con-presupuesto",null,e).map(function(e){return e.json().data})},e.prototype.mesesPresupuestoActual=function(){return this.jwtRequest.get("administrador-central/meses-presupuesto-actual",null,null).map(function(e){return e.json().data})},e.prototype.aniosPresupuestoActual=function(){return this.jwtRequest.get("administrador-central/anios-presupuesto-actual",null,null).map(function(e){return e.json().data})},e.prototype.presupuestoUnidadMedica=function(e){return void 0===e&&(e={}),this.jwtRequest.get("administrador-central/presupuesto-unidad-medica",null,e).map(function(e){return e.json().data})},e.prototype.transferenciasLista=function(e){return void 0===e&&(e={}),this.jwtRequest.get("administrador-central/transferencias-presupuestos",null,e).map(function(e){return e.json().data})},e.prototype.transferirPresupuesto=function(e){return void 0===e&&(e={}),this.jwtRequest.post("administrador-central/transferencias-presupuestos",e).map(function(e){return e.json().data})},e.prototype.mesesAniosAnteriorFechaActual=function(){return this.jwtRequest.get("administrador-central/meses-anios-presupuesto-actual-anterior-fecha-actual",null,null).map(function(e){return e.json().data})},e.prototype.transferirSaldosAlMesActual=function(e){return void 0===e&&(e={}),this.jwtRequest.post("administrador-central/transferencias-saldos-mes-actual",e).map(function(e){return e.json().data})},e.prototype.mesesAniosPedidos=function(){return this.jwtRequest.get("administrador-central/meses-anios-pedidos",null,null).map(function(e){return e.json().data})},e.prototype.entregasPedidosStatsMesesAnios=function(e){return void 0===e&&(e={}),this.jwtRequest.get("administrador-central/entregas-pedidos-stats-mes-anio",null,e).map(function(e){return e.json().data})},e.prototype.entregasPedidosStatsDiarias=function(e){return void 0===e&&(e={}),this.jwtRequest.get("administrador-central/entregas-pedidos-stats-diarias",null,e).map(function(e){return e.json().data})},e.prototype.pedidosCluesMesAnio=function(e){return void 0===e&&(e={}),this.jwtRequest.get("administrador-central/pedidos-clues-mes-anio",null,e).map(function(e){return e.json().data})},e.prototype.pedidosEntregasCluesMesAnio=function(e){return void 0===e&&(e={}),this.jwtRequest.get("administrador-central/pedidos-recepciones-clues-mes-anio",null,e).map(function(e){return e.json().data})},e.prototype.cumplimientoStatsGlobales=function(){return this.jwtRequest.get("administrador-central/cumplimiento-stats-globales",null,null).map(function(e){return e.json().data})},e.prototype.cumplimientoStatsProveedor=function(e){return this.jwtRequest.get("administrador-central/cumplimiento-stats-proveedor",e,null).map(function(e){return e.json().data})},e.prototype.verRecepciones=function(e){return this.jwtRequest.get("administrador-central/pedidos-recepcion",e,null).map(function(e){return e.json().data})},e.prototype.pedidoBorrador=function(e){return this.jwtRequest.get("administrador-central/pedidos-borrador",e,null).map(function(e){return e.json().data})},e.prototype.cambiarPermisoRecepcion=function(e,t){return this.jwtRequest.put("administrador-central/pedidos-permitir-recepcion",e,{recepcion:t}).map(function(e){return e.json().data})},e.prototype.recepcionBorrador=function(e,t){return this.jwtRequest.get("administrador-central/recepcion-borrador",e,{type:t}).map(function(e){return e.json().data})},e.prototype.pedidoBorradorCancelado=function(e){return this.jwtRequest.get("administrador-central/pedidos-borrador-cancelado",e,null).map(function(e){return e.json().data})},e=we([Object(n.Injectable)(),Se("design:paramtypes",[c.Http,V])],e)}(),Oe=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Ne=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Me=function(){function e(e,t){this.title=e,this.apiService=t,this.cargando=!1,this.mensajeError=new Ae,this.mensajeExito=new Ae,this.clues="",this.jurisdicciones=[],this.proveedores=[],this.jurisdiccionesSeleccionadas=[],this.proveedoresSeleccionados=[],this.ordenarCauses="",this.ordenarNoCauses="",this.ordenarMaterialCuracion="",this.lista=[],this.paginaActual=1,this.resultadosPorPagina=25,this.total=0,this.paginasTotales=0,this.indicePaginas=[]}return e.prototype.ngOnInit=function(){this.mensajeError=new Ae,this.mensajeExito=new Ae,this.title.setTitle("Abasto / Administrador central"),this.listar(1),this.cargarJurisdicciones(),this.cargarProveedores()},e.prototype.cargarJurisdicciones=function(){var e=this;this.apiService.jurisdicciones().subscribe(function(t){e.jurisdicciones=t},function(e){})},e.prototype.cargarProveedores=function(){var e=this;this.apiService.proveedores().subscribe(function(t){console.log(t),e.proveedores=t},function(e){})},e.prototype.cambioSeleccionJurisdiccion=function(e){-1==e&&(this.jurisdiccionesSeleccionadas=[]),this.agregarJurisdiccion(e)},e.prototype.cambioSeleccionProveedor=function(e){-1==e&&(this.proveedoresSeleccionados=[]),this.agregarProveedor(e)},e.prototype.agregarProveedor=function(e){if(-1!=e){for(var t in this.proveedoresSeleccionados)if(this.proveedoresSeleccionados[t].id==e)return;for(var t in this.proveedores)if(this.proveedores[t].id==e){this.proveedoresSeleccionados.push(this.proveedores[t]);break}}},e.prototype.agregarJurisdiccion=function(e){if(-1!=e){for(var t in this.jurisdiccionesSeleccionadas)if(this.jurisdiccionesSeleccionadas[t].id==e)return;for(var t in this.jurisdicciones)if(this.jurisdicciones[t].id==e){this.jurisdiccionesSeleccionadas.push(this.jurisdicciones[t]);break}}},e.prototype.quitarProveedor=function(e){this.proveedoresSeleccionados.splice(e,1)},e.prototype.quitarJurisdiccion=function(e){this.jurisdiccionesSeleccionadas.splice(e,1)},e.prototype.filtrarClues=function(e){13==e.keyCode&&this.listar(1)},e.prototype.toggleCauses=function(){switch(this.ordenarCauses){case"":this.ordenarCauses="ASC";break;case"ASC":this.ordenarCauses="DESC";break;case"DESC":this.ordenarCauses="";break;default:this.ordenarCauses=""}this.ordenarNoCauses="",this.ordenarMaterialCuracion="",this.listar(1)},e.prototype.toggleNoCauses=function(){switch(this.ordenarNoCauses){case"":this.ordenarNoCauses="ASC";break;case"ASC":this.ordenarNoCauses="DESC";break;case"DESC":this.ordenarNoCauses="";break;default:this.ordenarNoCauses=""}this.ordenarCauses="",this.ordenarMaterialCuracion="",this.listar(1)},e.prototype.toggleMaterialCuracion=function(){switch(this.ordenarMaterialCuracion){case"":this.ordenarMaterialCuracion="ASC";break;case"ASC":this.ordenarMaterialCuracion="DESC";break;case"DESC":this.ordenarMaterialCuracion="";break;default:this.ordenarMaterialCuracion=""}this.ordenarCauses="",this.ordenarNoCauses="",this.listar(1)},e.prototype.listar=function(e){var t=this;this.cargando=!0,this.paginaActual=e;var a=[];for(var n in this.proveedoresSeleccionados)a.push(this.proveedoresSeleccionados[n].id);var r=[];for(var n in this.jurisdiccionesSeleccionadas)r.push(this.jurisdiccionesSeleccionadas[n].id);var i={clues:this.clues,proveedores:a,jurisdicciones:r,page:this.paginaActual,per_page:this.resultadosPorPagina,ordenar_causes:this.ordenarCauses,ordenar_no_causes:this.ordenarNoCauses,ordenar_material_curacion:this.ordenarMaterialCuracion};this.apiService.abasto(i).subscribe(function(e){t.cargando=!1,t.lista=e.data,t.total=0|e.total,t.paginasTotales=Math.ceil(t.total/t.resultadosPorPagina),t.indicePaginas=[];for(var a=0;a<t.paginasTotales;a++)t.indicePaginas.push(a+1);console.log("Items cargados.")},function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=t.listar;try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.exportar=function(){var e="token="+localStorage.getItem("token")+"&ordenar_causes="+this.ordenarCauses+"&ordenar_no_causes="+this.ordenarNoCauses+"&ordenar_material_curacion="+this.ordenarMaterialCuracion;""!=this.clues&&(e+="&clues="+this.clues);var t="";for(var a in this.proveedoresSeleccionados)""!=t&&(t+=","),t+=""+this.proveedoresSeleccionados[a].id;""!=t&&(e+="&proveedores="+t);var n="";for(var a in this.jurisdiccionesSeleccionadas)""!=n&&(n+=","),n+=""+this.jurisdiccionesSeleccionadas[a].id;""!=n&&(e+="&jurisdicciones="+n),window.open(v.API_URL+"/administrador-central/abasto-excel?"+e)},e.prototype.paginaSiguiente=function(){this.listar(this.paginaActual+1)},e.prototype.paginaAnterior=function(){this.listar(this.paginaActual-1)},e=Oe([Object(n.Component)({selector:"app-abasto",template:a("yBPq"),styles:[a("a6Kf")]}),Ne("design:paramtypes",[i.Title,Re])],e)}(),Be=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Fe=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},De=function(){function e(e,t){this.title=e,this.apiService=t,this.cargando=!1,this.cargandoPresupuestos=!1,this.mensajeError=new Ae,this.mensajeExito=new Ae,this.q="",this.status=[],this.jurisdicciones=[],this.proveedores=[],this.statusSeleccionados=[],this.jurisdiccionesSeleccionadas=[],this.proveedoresSeleccionados=[],this.fecha_desde=null,this.fecha_hasta=null,this.sin_pedidos=!1,this.ordenarCauses="",this.ordenarNoCauses="",this.ordenarMaterialCuracion="",this.presupuesto={},this.presupuestoActual={},this.lista=[],this.paginaActual=1,this.resultadosPorPagina=10,this.total=0,this.paginasTotales=0,this.indicePaginas=[],this.showPedido=!1,this.datos_pedido={},this.recepciones=[],this.transaccion=[],this.pedido_status="",this.borrador=!0,this.borrador_cancelado=!0,this.cargaRecepciones=!1,this.verDialogoArchivos=!1,this.cargandoArchivos=!1,this.lista_archivos_pedido=[],this.tituloDialogoArchivos="",this.datosPedido={}}return e.prototype.ngOnInit=function(){this.mensajeError=new Ae,this.mensajeExito=new Ae,this.title.setTitle("Pedidos / Administrador central"),this.listar(1),this.cargarJurisdicciones(),this.cargarProveedores(),this.status=[{id:"BR",descripcion:"Borradores"},{id:"TR",descripcion:"En Tr\xe1nsito"},{id:"PS",descripcion:"Por surtir"},{id:"FI",descripcion:"Finalizados"},{id:"EF",descripcion:"En Farmacia"},{id:"EX",descripcion:"Expirados"},{id:"EX-CA",descripcion:"Cancelados"}]},e.prototype.verInformacion=function(e){var t=this;switch(this.cargaRecepciones=!0,this.datos_pedido={},this.datos_pedido=e,this.showPedido=!0,this.borrador=!0,this.borrador_cancelado=!0,this.datos_pedido.status){case"BR":this.pedido_status="Borrador";break;case"FI":this.pedido_status="Finalizado";break;case"PS":this.pedido_status="Por Surtir";break;case"EX":this.pedido_status="Expirado";break;case"EX-CA":this.pedido_status="Cancelado";break;case"EF":this.pedido_status="En Farmacia"}this.apiService.verRecepciones(this.datos_pedido.pedido_id).subscribe(function(e){t.cargaRecepciones=!1,e.recepciones?t.recepciones=e.recepciones:t.recepciones=[],"BR"!=e.status&&"EX-CA"!=e.status&&(t.borrador=!1),"EX-CA"==e.status&&(t.borrador_cancelado=!1,t.transaccion=Array(e.log_pedido_cancelado))},function(e){t.cargaRecepciones=!1,t.mensajeError.mostrar=!0,t.mensajeError.texto="Ocurrio un error al ver la informaci\xf3n por favor vuelva a intentarlo"})},e.prototype.regresarBorrador=function(e){var t=this;"PEDIDO BORRADOR"==prompt("Para confirmar que desea regresar el pedido a borrador, ingrese PEDIDO BORRADOR ")&&(this.cargaRecepciones=!0,this.apiService.pedidoBorrador(e).subscribe(function(e){t.cargaRecepciones=!1,t.showPedido=!1,t.mensajeExito=new Ae(!0),t.mensajeExito.mostrar=!0,t.mensajeExito.texto="Se ha regresado correctamente el pedido a borrador",t.listar(1)},function(e){t.cargaRecepciones=!1,t.mensajeError=new Ae(!0),t.mensajeError.mostrar=!0,t.mensajeError.texto="Se ha encontrador un error al regresar a borrador el pedido, por favor vuelva a intentarlo "}))},e.prototype.regresarBorradorCancelador=function(e){var t=this;"PEDIDO BORRADOR"==prompt("Para confirmar que desea regresar el pedido a borrador, ingrese PEDIDO BORRADOR")&&(this.cargaRecepciones=!0,this.apiService.pedidoBorradorCancelado(e).subscribe(function(e){t.cargaRecepciones=!1,t.showPedido=!1,t.mensajeExito=new Ae(!0),t.mensajeExito.mostrar=!0,t.mensajeExito.texto="Se ha regresado correctamente el pedido a borrador",t.listar(1)},function(e){t.cargaRecepciones=!1,t.mensajeError=new Ae(!0),t.mensajeError.mostrar=!0,t.mensajeError.texto="Se ha encontrador un error al regresar a borrador el pedido, por favor vuelva a intentarlo ";try{var a=e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n."),500==e.status?t.mensajeError.texto=a.error:t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}catch(a){t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}}))},e.prototype.borrarRecepcion=function(e){var t=this;"BORRAR RECEPCION"==prompt("Para confirmar que desea borrar la recepcion, ingrese BORRAR RECEPCION")&&(this.cargaRecepciones=!0,this.apiService.recepcionBorrador(e,1).subscribe(function(e){t.mensajeExito=new Ae(!0),t.mensajeExito.mostrar=!0,t.mensajeExito.texto="Se ha borrado correctamente la recepcion de medicamento",t.listar(1),t.apiService.verRecepciones(e.id).subscribe(function(e){t.cargaRecepciones=!1,t.recepciones=e.recepciones,t.datos_pedido.total_claves_recibidas=e.total_claves_recibidas,t.datos_pedido.total_cantidad_recibida=e.total_cantidad_recibida,t.datos_pedido.total_monto_recibido=e.total_monto_recibido,"BR"!=e.status&&(t.borrador=!1)},function(e){t.mensajeError=new Ae(!0),t.cargaRecepciones=!1,t.mensajeError.mostrar=!0,t.mensajeError.texto="Ocurrio un error al cargar los datos de recepciones, por favor vuelva a intentarlo"})},function(e){t.cargaRecepciones=!1,t.mensajeError=new Ae(!0),t.mensajeError.mostrar=!0;try{var a=e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n."),500==e.status?t.mensajeError.texto=a.error:t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}catch(a){t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}}))},e.prototype.regresarBorrarRecepcion=function(e){var t=this;"REGRESAR RECEPCION"==prompt("Para confirmar que desea regresar la recepcion, ingrese REGRESAR RECEPCION")&&(this.cargaRecepciones=!0,this.apiService.recepcionBorrador(e,2).subscribe(function(e){t.mensajeExito=new Ae(!0),t.mensajeExito.mostrar=!0,t.mensajeExito.texto="Se ha borrado correctamente la recepcion de medicamento",t.listar(1),t.apiService.verRecepciones(e.id).subscribe(function(e){t.cargaRecepciones=!1,t.recepciones=e.recepciones,t.datos_pedido.total_claves_recibidas=e.total_claves_recibidas,t.datos_pedido.total_cantidad_recibida=e.total_cantidad_recibida,t.datos_pedido.total_monto_recibido=e.total_monto_recibido,"BR"!=e.status&&(t.borrador=!1)},function(e){t.cargaRecepciones=!1,t.mensajeError=new Ae(!0),t.mensajeError.mostrar=!0,t.mensajeError.texto="Ocurrio un error al cargar los datos de recepciones, por favor vuelva a intentarlo"})},function(e){t.cargaRecepciones=!1,t.mensajeError=new Ae(!0),t.mensajeError.mostrar=!0;try{var a=e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n."),500==e.status?t.mensajeError.texto=a.error:t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}catch(a){t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}}))},e.prototype.cargarJurisdicciones=function(){var e=this;this.apiService.jurisdicciones().subscribe(function(t){e.jurisdicciones=t},function(e){})},e.prototype.cargarProveedores=function(){var e=this;this.apiService.proveedores().subscribe(function(t){e.proveedores=t},function(e){})},e.prototype.cambioSeleccionJurisdiccion=function(e){-1==e&&(this.jurisdiccionesSeleccionadas=[]),this.agregarJurisdiccion(e)},e.prototype.cambioSeleccionProveedor=function(e){-1==e&&(this.proveedoresSeleccionados=[]),this.agregarProveedor(e)},e.prototype.cambioSeleccionStatus=function(e){-1==e&&(this.statusSeleccionados=[]),this.agregarStatus(e)},e.prototype.agregarProveedor=function(e){if(-1!=e){for(var t in this.proveedoresSeleccionados)if(this.proveedoresSeleccionados[t].id==e)return;for(var t in this.proveedores)if(this.proveedores[t].id==e){this.proveedoresSeleccionados.push(this.proveedores[t]);break}}},e.prototype.agregarJurisdiccion=function(e){if(-1!=e){for(var t in this.jurisdiccionesSeleccionadas)if(this.jurisdiccionesSeleccionadas[t].id==e)return;for(var t in this.jurisdicciones)if(this.jurisdicciones[t].id==e){this.jurisdiccionesSeleccionadas.push(this.jurisdicciones[t]);break}}},e.prototype.agregarStatus=function(e){if(-1!=e){for(var t in this.statusSeleccionados)if(this.statusSeleccionados[t].id==e)return;for(var t in this.status)if(this.status[t].id==e){this.statusSeleccionados.push(this.status[t]);break}}},e.prototype.quitarProveedor=function(e){this.proveedoresSeleccionados.splice(e,1)},e.prototype.quitarJurisdiccion=function(e){this.jurisdiccionesSeleccionadas.splice(e,1)},e.prototype.quitarStatus=function(e){this.statusSeleccionados.splice(e,1)},e.prototype.filtrarQuery=function(e){13==e.keyCode&&this.listar(1)},e.prototype.toggleCauses=function(){switch(this.ordenarCauses){case"":this.ordenarCauses="ASC";break;case"ASC":this.ordenarCauses="DESC";break;case"DESC":this.ordenarCauses="";break;default:this.ordenarCauses=""}this.ordenarNoCauses="",this.ordenarMaterialCuracion="",this.listar(1)},e.prototype.toggleNoCauses=function(){switch(this.ordenarNoCauses){case"":this.ordenarNoCauses="ASC";break;case"ASC":this.ordenarNoCauses="DESC";break;case"DESC":this.ordenarNoCauses="";break;default:this.ordenarNoCauses=""}this.ordenarCauses="",this.ordenarMaterialCuracion="",this.listar(1)},e.prototype.toggleMaterialCuracion=function(){switch(this.ordenarMaterialCuracion){case"":this.ordenarMaterialCuracion="ASC";break;case"ASC":this.ordenarMaterialCuracion="DESC";break;case"DESC":this.ordenarMaterialCuracion="";break;default:this.ordenarMaterialCuracion=""}this.ordenarCauses="",this.ordenarNoCauses="",this.listar(1)},e.prototype.listar=function(e){var t=this;this.cargando=!0,this.paginaActual=e;var a=[];for(var n in this.proveedoresSeleccionados)a.push(this.proveedoresSeleccionados[n].id);var r=[];for(var n in this.jurisdiccionesSeleccionadas)r.push(this.jurisdiccionesSeleccionadas[n].id);var i=[];for(var n in this.statusSeleccionados)i.push(this.statusSeleccionados[n].id);var s={q:this.q,proveedores:a,jurisdicciones:r,status:i,page:this.paginaActual,per_page:this.resultadosPorPagina,ordenar_causes:this.ordenarCauses,ordenar_no_causes:this.ordenarNoCauses,ordenar_material_curacion:this.ordenarMaterialCuracion,fecha_desde:this.fecha_desde,fecha_hasta:this.fecha_hasta};this.cargandoPresupuestos=!0,this.apiService.presupuesto(s).subscribe(function(e){t.cargandoPresupuestos=!1,t.presupuesto=e.data,t.presupuesto.total_modificado=+e.data.insumos_modificado+ +e.data.no_causes_modificado,t.presupuesto.total_comprometido=+e.data.insumos_comprometido+ +e.data.no_causes_comprometido,t.presupuesto.total_devengado=+e.data.insumos_devengado+ +e.data.no_causes_devengado,t.presupuesto.total_disponible=+e.data.insumos_disponible+ +e.data.no_causes_disponible,t.presupuestoActual=e.presupuesto},function(e){t.cargandoPresupuestos=!1,console.log(e)}),this.apiService.pedidos(s).subscribe(function(e){t.cargando=!1,t.lista=e.data,t.total=0|e.total,t.paginasTotales=Math.ceil(t.total/t.resultadosPorPagina),t.indicePaginas=[];for(var a=0;a<t.paginasTotales;a++)t.indicePaginas.push(a+1);console.log("Items cargados.")},function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=t.listar;try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.exportar=function(){var e="token="+localStorage.getItem("token")+"&ordenar_causes="+this.ordenarCauses+"&ordenar_no_causes="+this.ordenarNoCauses+"&ordenar_material_curacion="+this.ordenarMaterialCuracion;""!=this.q&&(e+="&q="+this.q);var t="";for(var a in this.proveedoresSeleccionados)""!=t&&(t+=","),t+=""+this.proveedoresSeleccionados[a].id;""!=t&&(e+="&proveedores="+t);var n="";for(var a in this.jurisdiccionesSeleccionadas)""!=n&&(n+=","),n+=""+this.jurisdiccionesSeleccionadas[a].id;""!=n&&(e+="&jurisdicciones="+n);var r="";for(var a in this.statusSeleccionados)""!=r&&(r+=","),r+=""+this.statusSeleccionados[a].id;""!=r&&(e+="&status="+r),null!=this.fecha_desde&&(e+="&fecha_desde="+this.fecha_desde),null!=this.fecha_hasta&&(e+="&fecha_hasta="+this.fecha_hasta),window.open(v.API_URL+"/administrador-central/pedidos-excel?"+e)},e.prototype.imprimirExcelItem=function(e){var t="token="+localStorage.getItem("token");window.open(v.API_URL+"/generar-excel-pedido/"+e+"?"+t)},e.prototype.cerrarDialogoArchivos=function(){this.verDialogoArchivos=!1,this.cargandoArchivos=!1,this.lista_archivos_pedido=[]},e.prototype.mostrarDialogoArchivos=function(e){var t=this;this.verDialogoArchivos=!0,this.cargandoArchivos=!0,this.tituloDialogoArchivos="Folio: "+e.folio,this.datosPedido={folio:e.folio,pedido_id:e.pedido_id},this.apiService.verArchivosPedidoProveedor(e.pedido_id).subscribe(function(e){t.lista_archivos_pedido=e,t.cargandoArchivos=!1},function(e){t.cargandoArchivos=!1,t.mensajeError=new Ae(!0),t.mensajeError.mostrar;try{var a=e.json();401==e.status?t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.":t.mensajeError.texto=a.error}catch(a){500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.descargar=function(e){var t=e.id,a="token="+localStorage.getItem("token"),n=this,r=window.open(v.API_URL+"/download-file/"+t+"?"+a),i=0,s=setInterval(function(){i+=1,r.closed?(clearInterval(s),n.mostrarDialogoArchivos(n.datosPedido),n.mensajeError.mostrar=!1,n.mensajeExito.mostrar=!0,n.mensajeExito.iniciarCuentaAtras(),n.mensajeExito.texto="Se ha descargado correctamente el archivo"):5==i&&(clearInterval(s),r.close(),n.mensajeError.mostrar=!0,n.mensajeError.iniciarCuentaAtras(),n.mensajeError.texto="Ocurrio un error al intentar descargar el archivo.")},1e3)},e.prototype.permitirRecepcion=function(e,t){var a=this,n=prompt("Para permitir la recepcion en este pedido, por favor escriba: PERMITIR RECEPCION");"PERMITIR RECEPCION"==n?this.apiService.cambiarPermisoRecepcion(e,t).subscribe(function(e){a.datos_pedido.recepcion_permitida=t,a.mensajeExito=new Ae(!0),a.mensajeExito.mostrar=!0,a.mensajeExito.texto="Pedido actualizado"},function(e){a.mensajeError=new Ae(!0),a.mensajeError.mostrar=!0;try{var t=e.json();401==e.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n."),500==e.status?a.mensajeError.texto=t.error:a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}catch(t){500==e.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}}):console.log("palabra incorrecta."+n)},e.prototype.paginaSiguiente=function(){this.listar(this.paginaActual+1)},e.prototype.paginaAnterior=function(){this.listar(this.paginaActual-1)},e=Be([Object(n.Component)({selector:"app-pedidos",template:a("TfzO"),styles:[a("Cdzd")]}),Fe("design:paramtypes",[i.Title,Re])],e)}(),Le=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Te=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ze=function(){function e(e,t){this.title=e,this.apiService=t,this.cargando=!1,this.mensajeError=new Ae,this.mensajeExito=new Ae,this.filtro_clues_origen="",this.filtro_clues_destino="",this.filtro_mes_origen=-1,this.filtro_anio_origen=-1,this.filtro_mes_destino=-1,this.filtro_anio_destino=-1,this.ligarCluesOrigenDestino=!0,this.listaClues=[],this.listaMeses=[],this.listaAnios=[],this.listaAlmacenesOrigen=[],this.listaAlmacenesDestino=[],this.listaCluesConSaldo=[],this.listaMesesAniosAnteriorFechaActual=[],this.lista=[],this.paginaActual=1,this.resultadosPorPagina=25,this.total=0,this.paginasTotales=0,this.indicePaginas=[],this.mostrarVentanaNuevaTransferencia=!1,this.monto_transferir_insumos=null,this.monto_transferir_no_causes=null,this.transaccion_clues_origen={clues:""},this.transaccion_clues_destino={clues:""},this.transaccion_almacen_origen="",this.transaccion_almacen_destino="",this.transaccion_mes_origen=-1,this.transaccion_mes_destino=-1,this.transaccion_anio_origen=-1,this.transaccion_anio_destino=-1,this.datosOrigenValidos=!1,this.datosDestinoValidos=!1,this.conPresupuestoOrigen=!0,this.conPresupuestoDestino=!0,this.cargandoPresupuestoOrigen=!1,this.cargandoPresupuestoDestino=!1,this.presupuestoOrigen={insumos:0,no_causes:0},this.presupuestoDestino={insumos:0,no_causes:0},this.errores_transferencia={insumos:"",no_causes:""},this.enviando_transferencia=!1,this.mostrarVentanaArrastrarSaldos=!1,this.fecha_arrastrar_saldos=-1,this.todas_clues_con_saldo_seleccionadas=!1,this.cargando_clues_con_saldo=!1,this.enviando_transferencia_saldos_mes_actual=!1}return e.prototype.ngOnInit=function(){this.mensajeError=new Ae,this.mensajeExito=new Ae,this.title.setTitle("Transferencias / Administrador central"),this.listar(1),this.cargarUnidadesMedicas(),this.cargarMeses(),this.cargarAnios(),this.cargarMesesAniosAnteriorMesActual()},e.prototype.cargarUnidadesMedicas=function(){var e=this;this.apiService.unidadesMedicasConPresupuesto().subscribe(function(t){e.listaClues=t},function(e){console.log(e)})},e.prototype.cargarMeses=function(){var e=this;this.apiService.mesesPresupuestoActual().subscribe(function(t){e.listaMeses=t},function(e){console.log(e)})},e.prototype.cargarAnios=function(){var e=this;this.apiService.aniosPresupuestoActual().subscribe(function(t){1==t.length&&(e.transaccion_anio_origen=t[0].anio,e.transaccion_anio_destino=t[0].anio),e.listaAnios=t},function(e){console.log(e)})},e.prototype.cargarMesesAniosAnteriorMesActual=function(){var e=this;this.apiService.mesesAniosAnteriorFechaActual().subscribe(function(t){e.listaMesesAniosAnteriorFechaActual=t},function(e){console.log(e)})},e.prototype.listar=function(e){var t=this;this.cargando=!0,this.paginaActual=e;var a={clues_origen:this.filtro_clues_origen,mes_origen:this.filtro_mes_origen,anio_origen:this.filtro_anio_origen,clues_destino:this.filtro_clues_destino,mes_destino:this.filtro_mes_destino,anio_destino:this.filtro_anio_destino,page:this.paginaActual,per_page:this.resultadosPorPagina};this.apiService.transferenciasLista(a).subscribe(function(e){t.cargando=!1,t.lista=e.data,t.total=0|e.total,t.paginasTotales=Math.ceil(t.total/t.resultadosPorPagina),t.indicePaginas=[];for(var a=0;a<t.paginasTotales;a++)t.indicePaginas.push(a+1);console.log("Items cargados.")},function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=t.listar;try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.paginaSiguiente=function(){this.listar(this.paginaActual+1)},e.prototype.paginaAnterior=function(){this.listar(this.paginaActual-1)},e.prototype.nuevaTransferencia=function(){this.monto_transferir_insumos=null,this.monto_transferir_no_causes=null,this.transaccion_clues_origen={clues:""},this.transaccion_almacen_origen="",this.datosOrigenValidos=!1,this.transaccion_clues_destino={clues:""},this.transaccion_almacen_destino="",this.datosDestinoValidos=!1,this.transaccion_mes_origen=-1,this.transaccion_mes_destino=-1,this.errores_transferencia={insumos:"",no_causes:""},this.mostrarVentanaNuevaTransferencia=!0},e.prototype.realizarTransferencia=function(){var e=this;if(this.transaccion_clues_origen.clues!=this.transaccion_clues_destino.clues||this.transaccion_anio_origen!=this.transaccion_anio_destino||this.transaccion_mes_origen!=this.transaccion_mes_destino||this.transaccion_almacen_origen!=this.transaccion_almacen_destino){if(this.errores_transferencia={insumos:"",no_causes:""},null!=this.monto_transferir_insumos&&(isNaN(Number(this.monto_transferir_insumos))&&(this.errores_transferencia.insumos="El monto debe ser un n\xfamero v\xe1lido (s\xf3lo numeros decimales sin coma)."),this.monto_transferir_insumos>this.presupuestoOrigen.insumos&&(console.log(this.monto_transferir_insumos+":"+this.presupuestoOrigen.insumos),this.errores_transferencia.insumos="El monto no puede ser mayor al presupuesto disponible del origen."),this.monto_transferir_insumos<0&&(this.errores_transferencia.insumos="El monto no puede ser menor a 0.")),null!=this.monto_transferir_no_causes&&(isNaN(Number(this.monto_transferir_no_causes))&&(this.errores_transferencia.no_causes="El monto debe ser un n\xfamero v\xe1lido (s\xf3lo numeros decimales sin coma)."),this.monto_transferir_no_causes>this.presupuestoOrigen.no_causes&&(this.errores_transferencia.no_causes="El monto no puede ser mayor al presupuesto disponible del origen."),this.monto_transferir_no_causes<0&&(this.errores_transferencia.no_causes="El monto no puede ser menor a 0.")),""==this.errores_transferencia.insumos&&""==this.errores_transferencia.no_causes){var t={clues_origen:this.transaccion_clues_origen.clues,clues_destino:this.transaccion_clues_destino.clues,almacen_origen:this.transaccion_almacen_origen,almacen_destino:this.transaccion_almacen_destino,mes_origen:this.transaccion_mes_origen,mes_destino:this.transaccion_mes_destino,anio_origen:this.transaccion_anio_origen,anio_destino:this.transaccion_anio_destino,insumos:this.monto_transferir_insumos,no_causes:this.monto_transferir_no_causes};"TRANSFERIR"==prompt("Para confirmar esta transacci\xf3n, por favor escriba: TRANSFERIR")?(this.enviando_transferencia=!0,this.apiService.transferirPresupuesto(t).subscribe(function(t){e.datosOrigenValidos=!1,e.listar(1),e.obtenerPresupuestoDestino(),e.enviando_transferencia=!1},function(t){console.log(t),e.enviando_transferencia=!1})):alert("Error al ingresar el texto para confirmar la transferencia.")}}else alert("No se puede realizar la transferencia. Los datos de origen y destino son los mismos.")},e.prototype.obtenerPresupuestoOrigen=function(){this.datosOrigenValidos=!1,0!=this.listaAlmacenesOrigen.length&&this.transaccion_clues_origen.clues==this.listaAlmacenesOrigen[0].clues||(this.transaccion_almacen_origen="",this.listaAlmacenesOrigen=this.transaccion_clues_origen.unidad_medica.almacenes),-1!=this.transaccion_mes_origen&&-1!=this.transaccion_anio_origen&&""!=this.transaccion_clues_origen.clues&&""!=this.transaccion_almacen_origen&&(this.datosOrigenValidos=!0,this.cargarPresupuestoUnidadMedica(!0,!1,this.transaccion_clues_origen.clues,this.transaccion_almacen_origen,this.transaccion_mes_origen,this.transaccion_anio_origen)),this.ligarCluesOrigenDestino&&this.transaccion_clues_destino!=this.transaccion_clues_origen&&(this.transaccion_clues_destino=this.transaccion_clues_origen,this.obtenerPresupuestoDestino())},e.prototype.obtenerPresupuestoDestino=function(){this.datosDestinoValidos=!1,0!=this.listaAlmacenesDestino.length&&this.transaccion_clues_destino.clues==this.listaAlmacenesDestino[0].clues||(this.transaccion_almacen_destino="",this.listaAlmacenesDestino=this.transaccion_clues_destino.unidad_medica.almacenes),-1!=this.transaccion_mes_destino&&-1!=this.transaccion_anio_destino&&""!=this.transaccion_clues_destino.clues&&""!=this.transaccion_almacen_destino&&(this.datosDestinoValidos=!0,this.cargarPresupuestoUnidadMedica(!1,!0,this.transaccion_clues_destino.clues,this.transaccion_almacen_destino,this.transaccion_mes_destino,this.transaccion_anio_destino))},e.prototype.cargarPresupuestoUnidadMedica=function(e,t,a,n,r,i){var s=this;e?(this.conPresupuestoOrigen=!0,this.cargandoPresupuestoOrigen=!0):t&&(this.conPresupuestoDestino=!0,this.cargandoPresupuestoDestino=!0);var o={clues:a,almacen:n,mes:r,anio:i};this.apiService.presupuestoUnidadMedica(o).subscribe(function(a){e&&(a?(s.presupuestoOrigen.insumos=Number(a.insumos_disponible),s.presupuestoOrigen.no_causes=Number(a.no_causes_disponible)):(s.conPresupuestoOrigen=!1,s.datosOrigenValidos=!1),s.cargandoPresupuestoOrigen=!1),t&&(a?(s.presupuestoDestino.insumos=Number(a.insumos_disponible),s.presupuestoDestino.no_causes=Number(a.no_causes_disponible)):(s.conPresupuestoDestino=!1,s.datosDestinoValidos=!1),s.cargandoPresupuestoDestino=!1)},function(a){console.log(a),s.mensajeError.mostrar=!0,s.mensajeError.texto="Ocurrio un error durante la petici\xf3n.",e?s.cargandoPresupuestoOrigen=!1:t&&(s.cargandoPresupuestoDestino=!1)})},e.prototype.nuevaTransferenciaArrastrarSaldos=function(){this.mostrarVentanaArrastrarSaldos=!0},e.prototype.seleccionarTodasCluesConSaldo=function(){for(var e in this.todas_clues_con_saldo_seleccionadas=!this.todas_clues_con_saldo_seleccionadas,this.listaCluesConSaldo)this.listaCluesConSaldo[e].seleccionada=this.todas_clues_con_saldo_seleccionadas},e.prototype.obtenerCluesConSaldo=function(){var e=this;if(-1!=this.fecha_arrastrar_saldos){var t=this.fecha_arrastrar_saldos.split("/");if(2==t.length){var a={mes:t[0],anio:t[1],clues_con_saldo:!0};this.cargando_clues_con_saldo=!0,this.listaCluesConSaldo=[],this.apiService.unidadesMedicasConPresupuesto(a).subscribe(function(t){e.cargando_clues_con_saldo=!1,e.listaCluesConSaldo=t},function(t){console.log(t),e.cargando_clues_con_saldo=!1})}}},e.prototype.transferirSaldosAlMesActual=function(){var e=this;if(-1!=this.fecha_arrastrar_saldos){var t=this.fecha_arrastrar_saldos.split("/");if(2==t.length){var a={mes:t[0],anio:t[1],lista_clues:[]},n=!1;for(var r in this.listaCluesConSaldo)this.listaCluesConSaldo[r].seleccionada&&(n=!0,a.lista_clues.push(this.listaCluesConSaldo[r].clues));if(n)"TRANSFERIR"==prompt("Para confirmar esta transacci\xf3n, por favor escriba: TRANSFERIR")&&(this.enviando_transferencia_saldos_mes_actual=!0,this.apiService.transferirSaldosAlMesActual(a).subscribe(function(t){e.listar(1),e.mostrarVentanaArrastrarSaldos=!1,e.fecha_arrastrar_saldos=-1,e.todas_clues_con_saldo_seleccionadas=!1,e.listaCluesConSaldo=[],e.enviando_transferencia_saldos_mes_actual=!1},function(t){console.log(t),e.enviando_transferencia_saldos_mes_actual=!1}))}}},e=Le([Object(n.Component)({selector:"app-transferencias-recursos",template:a("mz03"),styles:[a("bpii")]}),Te("design:paramtypes",[i.Title,Re])],e)}(),Ue=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Ve=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ge=function(){function e(e,t){this.title=e,this.apiService=t,this.cargando=!1,this.mensajeError=new Ae,this.mensajeExito=new Ae,this.listaMesesAnios=[],this.fecha=-1,this.estadisticasGlobales=[],this.listaEntregasEstadisticaDiaria=[],this.listaPedidosClues=[],this.cargandoFechas=!1,this.cargandoEstadisticasGlobales=!1,this.mostrarDialogoPedidos=!1,this.pedidosUnidadMedica=[],this.cargandoPedidosUnidadMedica=!1,this.mostrarGraficas=!0}return e.prototype.ngOnInit=function(){var e=this;this.mensajeError=new Ae,this.mensajeExito=new Ae,this.title.setTitle("Entregas del mes / Administrador central"),this.cargandoFechas=!0,this.apiService.mesesAniosPedidos().subscribe(function(t){e.cargandoFechas=!1,e.listaMesesAnios=t,e.listaMesesAnios.length>0&&(e.fecha=e.listaMesesAnios[0].fecha,e.generarStats())},function(t){e.cargandoFechas=!1,console.log(t)})},e.prototype.generarStats=function(){var e=this;if(!(this.listaMesesAnios.length<=0)){var t=this.fecha.split("/");if(2==t.length){var a={mes:t[0],anio:t[1]};this.cargandoEstadisticasGlobales=!0,this.apiService.entregasPedidosStatsMesesAnios(a).subscribe(function(t){for(var a in e.cargandoEstadisticasGlobales=!1,e.estadisticasGlobales=t,e.listaEntregasEstadisticaDiaria=[],e.listaPedidosClues=[],e.estadisticasGlobales)e.listaEntregasEstadisticaDiaria.push({proveedor_id:e.estadisticasGlobales[a].proveedor_id,proveedor:e.estadisticasGlobales[a].proveedor,cargando:!0,tipoDatos:"claves",data:[]}),e.listaPedidosClues.push({proveedor_id:e.estadisticasGlobales[a].proveedor_id,proveedor:e.estadisticasGlobales[a].proveedor_nombre_completo,cargando:!0,data:[]}),e.mostrarPedidosCluesProveedor(e.listaPedidosClues.length-1),e.generarStatsDiariasProveedor(e.listaEntregasEstadisticaDiaria.length-1)},function(t){e.cargandoEstadisticasGlobales=!1,console.log(t)})}}},e.prototype.mostrarPedidosCluesProveedor=function(e){var t=this,a=this.fecha.split("/");if(2==a.length){var n={mes:a[0],anio:a[1],proveedor_id:this.listaPedidosClues[e].proveedor_id};this.listaPedidosClues[e].cargando=!0,this.apiService.pedidosCluesMesAnio(n).subscribe(function(a){t.listaPedidosClues[e].cargando=!1,t.listaPedidosClues[e].data=a},function(a){console.log(a),t.listaPedidosClues[e].cargando=!1})}},e.prototype.generarStatsDiariasProveedor=function(e){var t=this,a=this.fecha.split("/");if(2==a.length){var n={mes:a[0],anio:a[1],proveedor_id:this.listaEntregasEstadisticaDiaria[e].proveedor_id};this.listaEntregasEstadisticaDiaria[e].cargando=!0,this.apiService.entregasPedidosStatsDiarias(n).subscribe(function(a){t.listaEntregasEstadisticaDiaria[e].cargando=!1,t.listaEntregasEstadisticaDiaria[e].data=a,t.renderGrafica(e)},function(a){console.log(a),t.listaEntregasEstadisticaDiaria[e].cargando=!1})}},e.prototype.renderGrafica=function(e){var t=[],a=[],n=[],r=[];for(var i in this.listaEntregasEstadisticaDiaria[e].data)t.push(this.listaEntregasEstadisticaDiaria[e].data[i].dia+" "+this.listaEntregasEstadisticaDiaria[e].data[i].mes_nombre),"claves"==this.listaEntregasEstadisticaDiaria[e].tipoDatos&&(a.push(this.listaEntregasEstadisticaDiaria[e].data[i].causes_claves||0),n.push(this.listaEntregasEstadisticaDiaria[e].data[i].no_causes_claves||0),r.push(this.listaEntregasEstadisticaDiaria[e].data[i].material_curacion_claves||0)),"insumos"==this.listaEntregasEstadisticaDiaria[e].tipoDatos&&(a.push(this.listaEntregasEstadisticaDiaria[e].data[i].causes_cantidad||0),n.push(this.listaEntregasEstadisticaDiaria[e].data[i].no_causes_cantidad||0),r.push(this.listaEntregasEstadisticaDiaria[e].data[i].material_curacion_cantidad||0)),"monto"==this.listaEntregasEstadisticaDiaria[e].tipoDatos&&(a.push(Number(this.listaEntregasEstadisticaDiaria[e].data[i].causes_monto)||0),n.push(Number(this.listaEntregasEstadisticaDiaria[e].data[i].no_causes_monto)||0),r.push(Number(this.listaEntregasEstadisticaDiaria[e].data[i].material_curacion_monto)||0));var s={};"claves"==this.listaEntregasEstadisticaDiaria[e].tipoDatos&&(s={min:0,title:{text:"Total claves"},stackLabels:{enabled:!0,style:{fontWeight:"bold",color:"gray"}}}),"insumos"==this.listaEntregasEstadisticaDiaria[e].tipoDatos&&(s={min:0,title:{text:"Total insumos"},stackLabels:{enabled:!0,style:{fontWeight:"bold",color:"gray"}}}),"monto"==this.listaEntregasEstadisticaDiaria[e].tipoDatos&&(s={min:0,title:{text:"Total en monto"},stackLabels:{enabled:!0,style:{fontWeight:"bold",color:"gray"}}}),this.listaEntregasEstadisticaDiaria[e].options={chart:{type:"column"},xAxis:{categories:t},yAxis:s,legend:{align:"right",x:-30,verticalAlign:"top",y:25,floating:!0,backgroundColor:"white",borderColor:"#CCC",borderWidth:1,shadow:!1},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!0}}},title:{text:"Entrega de insumos"},series:[{name:"Causes",data:a},{name:"No Causes",data:n},{name:"Material Curacion",data:r}]}},e.prototype.generarExcel=function(e,t){var a=this.fecha.split("/");if(2==a.length){console.log(a[0]);var n=(""+a[0]).length<2?"0"+a[0]:a[0],r=(new Date(a[1],a[0]-1,1),new Date(a[1],a[0],0)),i=a[1]+"-"+n+"-01",s=a[1]+"-"+n+"-"+r.getDate(),o="token="+localStorage.getItem("token")+"&q="+e+"&proveedores="+t+"&status=TR,PS,FI,EF,EX&fecha_desde="+i+"&fecha_hasta="+s;window.open(v.API_URL+"/administrador-central/pedidos-excel?"+o)}},e.prototype.verDialogoPedidos=function(e,t){var a=this;this.tituloDialogoPedidos=t.clues+" - "+t.unidad_medica,this.mostrarDialogoPedidos=!0;var n=this.fecha.split("/");if(2==n.length){var r={mes:n[0],anio:n[1],proveedor_id:e,clues:t.clues};this.cargandoPedidosUnidadMedica=!0,this.apiService.pedidosEntregasCluesMesAnio(r).subscribe(function(e){console.log(e);var t=[];for(var n in e){var r={folio:e[n].folio,nombre_pedido:e[n].descripcion,tipo_pedido_id:e[n].tipo_pedido_id,status:e[n].status,fecha:e[n].fecha,fecha_concluido:e[n].fecha_concluido,fecha_expiracion:e[n].fecha_expiracion,fecha_cancelacion:e[n].fecha_cancelacion,total_monto_solicitado:+e[n].total_monto_solicitado,total_monto_recibido:+e[n].total_monto_recibido,total_claves_solicitadas:+e[n].total_claves_solicitadas,total_claves_recibidas:+e[n].total_claves_recibidas,total_cantidad_solicitada:+e[n].total_cantidad_solicitada,total_cantidad_recibida:+e[n].total_cantidad_recibida,entregas:[]};if("PFS"!=e[n].tipo_pedido_id&&e[n].recepciones.length){var i=0,s=0,o=0,l={};for(var c in e[n].recepciones){var d=e[n].recepciones[c];if("FI"==d.entrada.status){var u={fecha:d.entrada.fecha_movimiento,total_claves:0,total_cantidad:0,total_monto:0,acumulado_claves:0,acumulado_cantidad:0,acumulado_monto:0},p={},m=0;for(var g in d.entrada.insumos_detalles){var f=d.entrada.insumos_detalles[g];u.total_cantidad+=+f.cantidad,u.total_monto+=+f.precio_total,"MC"==f.detalles.tipo&&(m+=+f.precio_total),p[f.clave_insumo_medico]||(p[f.clave_insumo_medico]=!0,u.total_claves+=1),l[f.clave_insumo_medico]||(l[f.clave_insumo_medico]=!0,i+=1)}m>0&&(u.total_monto+=16*m/100),s+=u.total_cantidad,o+=u.total_monto,u.acumulado_cantidad=s,u.acumulado_claves=i,u.acumulado_monto=o,r.entregas.push(u)}}}t.push(r)}a.pedidosUnidadMedica=t,console.log(t),a.cargandoPedidosUnidadMedica=!1},function(e){console.log(e),a.cargandoPedidosUnidadMedica=!1})}},e.prototype.cerrarDialogoPedidos=function(){this.mostrarDialogoPedidos=!1},e.prototype.parseNaN=function(e){return isNaN(e)?0:e},e.prototype.onResize=function(e){var t=this;this.mostrarGraficas=!1;try{setTimeout(function(){t.mostrarGraficas=!0})}catch(e){console.log(e)}},e=Ue([Object(n.Component)({selector:"app-entregas-mes",template:a("3+t1"),styles:[a("8J4Q")],host:{"(window:resize)":"onResize($event)"}}),Ve("design:paramtypes",[i.Title,Re])],e)}(),Ye=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},He=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Je=function(){function e(e,t){this.title=e,this.apiService=t,this.cargando=!1,this.mensajeError=new Ae,this.mensajeExito=new Ae,this.estadisticasGlobales=[],this.listaEstadisticasProveedores=[],this.cargandoEstadisticasGlobales=!1,this.mostrarGraficas=!0}return e.prototype.ngOnInit=function(){this.mensajeError=new Ae,this.mensajeExito=new Ae,this.title.setTitle("Cumplimiento / Administrador central"),this.generarStats()},e.prototype.generarStats=function(){var e=this;this.cargandoEstadisticasGlobales=!0,this.apiService.cumplimientoStatsGlobales().subscribe(function(t){for(var a in e.cargandoEstadisticasGlobales=!1,e.estadisticasGlobales=t,e.listaEstadisticasProveedores=[],e.estadisticasGlobales)e.listaEstadisticasProveedores.push({proveedor_id:e.estadisticasGlobales[a].proveedor_id,proveedor:e.estadisticasGlobales[a].proveedor,cargando:!0,tipoDatos:"monto",data:[]}),e.generarStatsProveedor(e.listaEstadisticasProveedores.length-1)},function(t){e.cargandoEstadisticasGlobales=!1,console.log(t)})},e.prototype.generarStatsProveedor=function(e){var t=this,a=this.listaEstadisticasProveedores[e].proveedor_id;this.listaEstadisticasProveedores[e].cargando=!0,this.apiService.cumplimientoStatsProveedor(a).subscribe(function(a){t.listaEstadisticasProveedores[e].cargando=!1,t.listaEstadisticasProveedores[e].data=a,t.renderGrafica(e)},function(a){console.log(a),t.listaEstadisticasProveedores[e].cargando=!1})},e.prototype.renderGrafica=function(e){var t=[],a=[],n=[],r=[];for(var i in this.listaEstadisticasProveedores[e].data)t.push(this.listaEstadisticasProveedores[e].data[i].mes_nombre+" "+this.listaEstadisticasProveedores[e].data[i].anio),"claves"==this.listaEstadisticasProveedores[e].tipoDatos&&(a.push(Number(this.listaEstadisticasProveedores[e].data[i].claves_solicitadas)||0),n.push(Number(this.listaEstadisticasProveedores[e].data[i].claves_recibidas)||0),r.push(Number(this.listaEstadisticasProveedores[e].data[i].claves_cumplimiento)||0)),"insumos"==this.listaEstadisticasProveedores[e].tipoDatos&&(a.push(Number(this.listaEstadisticasProveedores[e].data[i].cantidad_solicitada)||0),n.push(Number(this.listaEstadisticasProveedores[e].data[i].cantidad_recibida)||0),r.push(Number(this.listaEstadisticasProveedores[e].data[i].cantidad_cumplimiento)||0)),"monto"==this.listaEstadisticasProveedores[e].tipoDatos&&(a.push(Number(this.listaEstadisticasProveedores[e].data[i].monto_solicitado)||0),n.push(Number(this.listaEstadisticasProveedores[e].data[i].monto_recibido)||0),r.push(Number(this.listaEstadisticasProveedores[e].data[i].monto_cumplimiento)||0));var s={};"claves"==this.listaEstadisticasProveedores[e].tipoDatos&&(s=[{title:{text:"Total claves"}},{title:{text:"% Cumplimiento"},labels:{format:"{value} %",style:{color:"#7cb5ec"}},max:100,opposite:!0}]),"insumos"==this.listaEstadisticasProveedores[e].tipoDatos&&(s=[{title:{text:"Total insumos"}},{title:{text:"% Cumplimiento"},labels:{format:"{value} %",style:{color:"#7cb5ec"}},max:100,opposite:!0}]),"monto"==this.listaEstadisticasProveedores[e].tipoDatos&&(s=[{title:{text:"Total en monto"}},{title:{text:"% Cumplimiento",style:{color:"#7cb5ec"}},labels:{format:"{value} %",style:{color:"#7cb5ec"}},max:100,opposite:!0}]),this.listaEstadisticasProveedores[e].options={chart:{zoomType:"xy"},xAxis:{categories:t,crosshair:!0},yAxis:s,tooltip:{shared:!0},legend:{align:"center",x:0,verticalAlign:"bottom",backgroundColor:"rgba(255,255,255,0.5)",shadow:!1},title:{text:"Cumplimiento del proveedor: "+this.listaEstadisticasProveedores[e].proveedor},subtitle:{text:"Cantidades expresadas en "+this.listaEstadisticasProveedores[e].tipoDatos},series:[{type:"column",name:"Pedido",data:a},{type:"column",name:"Entregado",data:n},{type:"column",name:"%",yAxis:1,data:r},{type:"spline",name:"Cumplimiento",yAxis:1,data:r,tooltip:{valueSuffix:"%"}}]}},e.prototype.parseNaN=function(e){return isNaN(e)?0:e},e.prototype.onResize=function(e){var t=this;this.mostrarGraficas=!1;try{setTimeout(function(){t.mostrarGraficas=!0})}catch(e){console.log(e)}},e=Ye([Object(n.Component)({selector:"app-cumplimiento",template:a("kqiz"),styles:[a("hnmW")],host:{"(window:resize)":"onResize($event)"}}),He("design:paramtypes",[i.Title,Re])],e)}(),$e=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Ke=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Xe=function(){function e(e,t){this.title=e,this.apiService=t,this.cargando=!1,this.mensajeError=new Ae,this.mensajeExito=new Ae,this.clues="",this.tiposUnidad=[],this.proveedores=[],this.jurisdicciones=[],this.status=[],this.agrupacion=[],this.tiposUnidadSeleccionados=[],this.proveedoresSeleccionados=[],this.jurisdiccionesSeleccionadas=[],this.statusSeleccionado=-1,this.listaMesesAnios=[],this.fechaInicio=-1,this.fechaFin=-1,this.cargandoFechas=!1,this.cargandoJurisdicciones=!1,this.cargandoProveedores=!1,this.lista=[],this.totalModificado=0,this.totalComprometido=0,this.totalDevengado=0,this.totalDisponible=0,this.totalMontoSolicitadoCausesMatCur=0,this.totalMontoRecibidoCausesMatCur=0,this.totalCantidadSolicitadaCausesMatCur=0,this.totalCantidadRecibidaCausesMatCur=0,this.totalMontoSolicitadoNoCauses=0,this.totalMontoRecibidoNoCauses=0,this.totalCantidadSolicitadaNoCauses=0,this.totalCantidadRecibidaNoCauses=0}return e.prototype.ngOnInit=function(){this.title.setTitle("Reporte financiero/ Administrador central"),this.status=[{id:"C",nombre:"Completados"},{id:"B",nombre:"Borradores"}],this.tiposUnidad=[{id:"HO",nombre:"Hospital General"},{id:"HBC",nombre:"Hospital B\xe1sico Comunitario"},{id:"AJ",nombre:"Almac\xe9n Jurisddiccional"},{id:"AC",nombre:"Almac\xe9n Central"},{id:"CS",nombre:"Centro de Salud"}],this.agrupacion=[{id:"UM",nombre:"Unidad m\xe9dica"},{id:"P",nombre:"Proveedor"},{id:"NA",nombre:"Nivel de atenci\xf3n"}],this.agrupadoPor="UM",this.cargarProveedores(),this.cargarJurisdicciones(),this.cargarFechas()},e.prototype.cargarJurisdicciones=function(){var e=this;this.cargandoJurisdicciones=!0,this.apiService.jurisdicciones().subscribe(function(t){e.jurisdicciones=t,e.cargandoJurisdicciones=!1},function(t){e.cargandoJurisdicciones=!1,console.log(t)})},e.prototype.cargarProveedores=function(){var e=this;this.cargandoProveedores=!0,this.apiService.proveedores().subscribe(function(t){e.cargandoProveedores=!1,e.proveedores=t},function(t){e.cargandoProveedores=!1,console.log(t)})},e.prototype.cargarFechas=function(){var e=this;this.cargandoFechas=!0,this.apiService.mesesAniosPedidos().subscribe(function(t){e.cargandoFechas=!1,e.listaMesesAnios=t},function(t){e.cargandoFechas=!1,console.log(t)})},e.prototype.cambioSeleccionTipoUnidad=function(e){-1==e&&(this.tiposUnidadSeleccionados=[]),this.agregarTipoUnidad(e)},e.prototype.cambioSeleccionJurisdiccion=function(e){-1==e&&(this.jurisdiccionesSeleccionadas=[]),this.agregarJurisdiccion(e)},e.prototype.cambioSeleccionProveedor=function(e){-1==e&&(this.proveedoresSeleccionados=[]),this.agregarProveedor(e)},e.prototype.agregarTipoUnidad=function(e){if(-1!=e){for(var t in this.tiposUnidadSeleccionados)if(this.tiposUnidadSeleccionados[t].id==e)return;for(var t in this.tiposUnidad)if(this.tiposUnidad[t].id==e){this.tiposUnidadSeleccionados.push(this.tiposUnidad[t]);break}}},e.prototype.agregarProveedor=function(e){if(-1!=e){for(var t in this.proveedoresSeleccionados)if(this.proveedoresSeleccionados[t].id==e)return;for(var t in this.proveedores)if(this.proveedores[t].id==e){this.proveedoresSeleccionados.push(this.proveedores[t]);break}}},e.prototype.agregarJurisdiccion=function(e){if(-1!=e){for(var t in this.jurisdiccionesSeleccionadas)if(this.jurisdiccionesSeleccionadas[t].id==e)return;for(var t in this.jurisdicciones)if(this.jurisdicciones[t].id==e){this.jurisdiccionesSeleccionadas.push(this.jurisdicciones[t]);break}}},e.prototype.quitarTipoUnidad=function(e){this.tiposUnidadSeleccionados.splice(e,1)},e.prototype.quitarProveedor=function(e){this.proveedoresSeleccionados.splice(e,1)},e.prototype.quitarJurisdiccion=function(e){this.jurisdiccionesSeleccionadas.splice(e,1)},e.prototype.listar=function(){var e=this;this.cargando=!0;var t=-1!=this.fechaInicio?this.fechaInicio.split("/"):-1,a=-1!=this.fechaFin?this.fechaFin.split("/"):-1,n=[];for(var r in this.proveedoresSeleccionados)n.push(this.proveedoresSeleccionados[r].id);var i=[];for(var r in this.jurisdiccionesSeleccionadas)i.push(this.jurisdiccionesSeleccionadas[r].id);var s=[];for(var r in this.tiposUnidadSeleccionados)s.push(this.tiposUnidadSeleccionados[r].id);var o={clues:""==this.clues?null:this.clues,proveedores:n.length>0?n:null,jurisdicciones:i.length>0?i:null,tipos_unidad:s.length>0?s:null,status_pedido:-1!=this.statusSeleccionado?this.statusSeleccionado:null,agrupado_por:this.agrupadoPor,mes_inicio:-1!=t?t[0]:null,anio_inicio:-1!=t?t[1]:null,mes_fin:-1!=a?a[0]:null,anio_fin:-1!=a?a[1]:null};this.totalCantidadRecibidaCausesMatCur=0,this.totalCantidadSolicitadaCausesMatCur=0,this.totalMontoRecibidoCausesMatCur=0,this.totalMontoSolicitadoCausesMatCur=0,this.totalCantidadRecibidaNoCauses=0,this.totalCantidadSolicitadaNoCauses=0,this.totalMontoRecibidoNoCauses=0,this.totalMontoSolicitadoNoCauses=0,this.totalModificado=0,this.totalComprometido=0,this.totalDevengado=0,this.totalDisponible=0,this.apiService.reporteFinanciero(o).subscribe(function(t){for(var a in e.cargando=!1,e.lista=t.data,e.totalModificado=0,e.lista)e.totalModificado+=+e.lista[a].modificado,e.totalComprometido+=+e.lista[a].comprometido,e.totalDevengado+=+e.lista[a].devengado,e.totalDisponible+=+e.lista[a].disponible,e.totalMontoSolicitadoCausesMatCur+=+e.lista[a].causes_mat_cur_monto_solicitado,e.totalMontoRecibidoCausesMatCur+=+e.lista[a].causes_mat_cur_monto_recibido,e.totalCantidadSolicitadaCausesMatCur+=+e.lista[a].causes_mat_cur_cantidad_solicitada,e.totalCantidadRecibidaCausesMatCur+=+e.lista[a].causes_mat_cur_cantidad_recibida,e.totalMontoSolicitadoNoCauses+=+e.lista[a].no_causes_monto_solicitado,e.totalMontoRecibidoNoCauses+=+e.lista[a].no_causes_monto_recibido,e.totalCantidadSolicitadaNoCauses+=+e.lista[a].no_causes_cantidad_solicitada,e.totalCantidadRecibidaNoCauses+=+e.lista[a].no_causes_cantidad_recibida;console.log("Items cargados.")},function(t){e.cargando=!1,e.mensajeError.mostrar=!0,e.ultimaPeticion=e.listar;try{t.json();401==t.status&&(e.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==t.status?e.mensajeError.texto="500 (Error interno del servidor)":e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.exportar=function(){var e=-1!=this.fechaInicio?this.fechaInicio.split("/"):-1,t=-1!=this.fechaFin?this.fechaFin.split("/"):-1,a="token="+localStorage.getItem("token")+"&agrupado_por="+this.agrupadoPor;""!=this.clues&&(a+="&clues="+this.clues),-1!=this.statusSeleccionado&&(a+="&status_pedido="+this.statusSeleccionado),-1!=e&&(a+="&mes_inicio="+e[0],a+="&anio_inicio="+e[1]),-1!=t&&(a+="&mes_fin="+t[0],a+="&anio_fin="+t[1]);var n="";for(var r in this.proveedoresSeleccionados)""!=n&&(n+=","),n+=""+this.proveedoresSeleccionados[r].id;""!=n&&(a+="&proveedores="+n);var i="";for(var r in this.jurisdiccionesSeleccionadas)""!=i&&(i+=","),i+=""+this.jurisdiccionesSeleccionadas[r].id;""!=i&&(a+="&jurisdicciones="+i);var s="";for(var r in this.tiposUnidadSeleccionados)""!=s&&(s+=","),s+=""+this.tiposUnidadSeleccionados[r].id;""!=s&&(a+="&tipos_unidad="+s),window.open(v.API_URL+"/administrador-central/reporte-financiero-excel?"+a)},e=$e([Object(n.Component)({selector:"app-reporte-financiero",template:a("Zdxq"),styles:[a("RNpM")]}),Ke("design:paramtypes",[i.Title,Re])],e)}(),Ze=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Qe=[{path:"administrador-central",redirectTo:"/administrador-central/pedidos",pathMatch:"full"},{path:"administrador-central",children:[{path:"pedidos",component:De,canActivate:[D],data:{key:"bsIbPL3qv6XevcAyrRm1GxJufDbzLOax"}},{path:"abasto",component:Me,canActivate:[D],data:{key:"bwWWUufmEBRFpw9HbUJQUP8EFnagynQv"}},{path:"transferencias-recursos",component:ze,canActivate:[D],data:{key:"s8kSv2Gj9DZwRvClVRmZohp92Rtvi26i"}},{path:"entregas-mes",component:Ge,canActivate:[D],data:{key:"fWA5oDswZ2Ra4O8YaCy6nEY8OeCOxg9C"}},{path:"cumplimiento",component:Je,canActivate:[D],data:{key:"BBg7HSOEmjjOsVl48s8wSz8AxXhmBXA1"}},{path:"reporte-financiero",component:Xe,canActivate:[D],data:{key:"BBg7HSOEmjjOsVl48s8wSz8AxXhmBXA1"}}],canActivate:[M]}],We=function(){function e(){}return e=Ze([Object(n.NgModule)({imports:[h.c.forChild(Qe)],exports:[h.c]})],e)}(),et=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},tt=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},at=function(){function e(){this.mostrarMenuLateral=!1,this.usuario={}}return e.prototype.ngOnInit=function(){this.usuario=JSON.parse(localStorage.getItem("usuario"))},e.prototype.toggleMenuLateral=function(){this.mostrarMenuLateral=!this.mostrarMenuLateral},e=et([Object(n.Component)({selector:"administrador-central-menu",template:a("CUYW"),styles:[a("K77/")]}),tt("design:paramtypes",[])],e)}(),nt=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},rt=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},it=function(){function e(){this.usuario={},this.menu=[],this.menuAutorizado=[],this.toggleMinimizado=!1}return e.prototype.ngOnInit=function(){localStorage.getItem("adminCentralMenuLateralMinimizado")?this.toggleMinimizado="true"==localStorage.getItem("adminCentralMenuLateralMinimizado"):localStorage.setItem("adminCentralMenuLateralMinimizado",this.toggleMinimizado+""),this.menu=[{titulo:"Reportes",modulos:[{permiso:"bsIbPL3qv6XevcAyrRm1GxJufDbzLOax",icono:"fa-file-text",titulo:"Pedidos",url:"/administrador-central/pedidos"},{permiso:"bwWWUufmEBRFpw9HbUJQUP8EFnagynQv",icono:"fa-line-chart",titulo:"Abasto",url:"/administrador-central/abasto"},{permiso:"fWA5oDswZ2Ra4O8YaCy6nEY8OeCOxg9C",icono:"fa-bar-chart",titulo:"Entregas por mes",url:"/administrador-central/entregas-mes"},{permiso:"BBg7HSOEmjjOsVl48s8wSz8AxXhmBXA1",icono:"fa-thumbs-o-up",titulo:"Cumplimiento",url:"/administrador-central/cumplimiento"},{permiso:"BBg7HSOEmjjOsVl48s8wSz8AxXhmBXA1",icono:"fa-money",titulo:"Financiero",url:"/administrador-central/reporte-financiero"}]},{titulo:"Operaciones",modulos:[{permiso:"s8kSv2Gj9DZwRvClVRmZohp92Rtvi26i",icono:"fa-exchange",titulo:"Transferencias de recursos",url:"/administrador-central/transferencias-recursos"}]},{titulo:"Cat\xe1logos",modulos:[{permiso:"r1RX6Yq7fc4CRRI2OJXIPxeBLW3lFP59",icono:"fa-check-square",titulo:"Claves b\xe1sicas",url:"/administrador-central/claves-basicas"}]},{titulo:"Pedidos alternos",modulos:[{permiso:"oOrwXshMO4AItMZ3KZ1E7hQRtPS4Ubwp",icono:"fa-check-square-o",titulo:"Validaci\xf3n de pedidos alternos",url:"/administrador-central/validacion-pedidos-alternos"},{permiso:"GEapnHhN0NtgZN6CVvfMAooY5lGEfChJ",icono:"fa-hand-pointer-o",titulo:"Asignaci\xf3n de proveedores a pedidos alternos",url:"/administrador-central/asignacion-proveedores-pedidos-alternos"}]}],this.menuAutorizado=[];var e=JSON.parse(localStorage.getItem("usuario")).permisos.split("|");if(e.length>0)for(var t in this.menu)for(var a in this.menu[t].modulos)e:for(var n in e)if(e[n]==this.menu[t].modulos[a].permiso){this.initMenuAutorizadoPorItem(this.menu[t].titulo).modulos.push(this.menu[t].modulos[a]);break e}},e.prototype.ngOnDestroy=function(){localStorage.setItem("adminCentralMenuLateralMinimizado",this.toggleMinimizado+"")},e.prototype.initMenuAutorizadoPorItem=function(e){for(var t in this.menuAutorizado)if(e==this.menuAutorizado[t].titulo)return this.menuAutorizado[t];return this.menuAutorizado.push({titulo:e,modulos:[]}),this.menuAutorizado[this.menuAutorizado.length-1]},e=nt([Object(n.Component)({selector:"administrador-central-menu-lateral",template:a("2+It"),styles:[a("waBZ")]}),rt("design:paramtypes",[])],e)}(),st=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},ot=function(){function e(){}return e=st([Object(n.NgModule)({imports:[o.CommonModule,h.c,l.FormsModule,ee,de,fe,qe,We,d.ChartModule],exports:[it,at],declarations:[De,Me,ze,at,it,Ge,Je,Xe],providers:[Re]})],e)}(),lt=a("YaPU"),ct=(a("lMWm"),a("MDfR"),a("bqhO"),a("aTdd"),a("VwFy"),a("xgm2"),this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s}),dt=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ut=function(){function e(e){this.jwtRequest=e}return t=e,e.prototype.buscar=function(e){return void 0===e&&(e={q:"",page:1,per_page:20}),this.jwtRequest.get(t.URL,null,e).map(function(e){return e.json().data})},e.prototype.listaPaginada=function(e){return void 0===e&&(e={page:1,per_page:20}),this.jwtRequest.get(t.URL,null,e).map(function(e){return e.json().data})},e.prototype.ver=function(e){return this.jwtRequest.get(t.URL,e,{}).map(function(e){return e.json().data})},e.prototype.asignar=function(e,a){return this.jwtRequest.put(t.URL+"/proveedor",e,{data:a}).map(function(e){return e.json().data})},e.prototype.proveedores=function(){return this.jwtRequest.get("proveedor",null,{alterno:1}).map(function(e){return e.json().data})},e.prototype.firmantes=function(){return this.jwtRequest.get("personal-puesto",null,{clues:"CSSSA017213",firmas:1}).map(function(e){return e.json().data})},e.URL="administrador-central/pedidos-alternos",e=t=ct([Object(n.Injectable)(),dt("design:paramtypes",[V])],e);var t}(),pt=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},mt=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},gt=function(){function e(e,t){this.title=e,this.apiService=t,this.tab=1,this.cargando=!1,this.mostrarModalClues=!1,this.listaSeleccionada=null,this.mensajeError=new Ae,this.mensajeExito=new Ae,this.lista=[],this.paginaActual=1,this.resultadosPorPagina=25,this.total=0,this.paginasTotales=0,this.indicePaginas=[],this.ultimoTerminoBuscado="",this.terminosBusqueda=new x.Subject,this.resultadosBusqueda=[],this.busquedaActivada=!1,this.paginaActualBusqueda=1,this.resultadosPorPaginaBusqueda=25,this.totalBusqueda=0,this.paginasTotalesBusqueda=0,this.indicePaginasBusqueda=[]}return e.prototype.ngOnInit=function(){var e=this;this.title.setTitle("Validaci\xf3n pedidos alternos / Administrador central"),this.listar(1),this.mensajeError=new Ae,this.mensajeExito=new Ae;var t=this,a=this.terminosBusqueda.debounceTime(300).distinctUntilChanged().switchMap(function(t){console.log("Cargando b\xfasqueda."),e.busquedaActivada=""!=t,e.ultimoTerminoBuscado=t,e.paginaActualBusqueda=1,e.cargando=!0;var a={status:"VAL",sin_proveedor:1==e.tab,q:t,page:e.paginaActualBusqueda,per_page:e.resultadosPorPaginaBusqueda};return t?e.apiService.buscar(a):lt.Observable.of({data:[]})}).catch(function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=function(){t.listarBusqueda(t.ultimoTerminoBuscado,t.paginaActualBusqueda)};try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}return a});a.subscribe(function(t){e.cargando=!1,e.resultadosBusqueda=t.data,e.totalBusqueda=0|t.total,e.paginasTotalesBusqueda=Math.ceil(e.totalBusqueda/e.resultadosPorPaginaBusqueda),e.indicePaginasBusqueda=[];for(var a=0;a<e.paginasTotalesBusqueda;a++)e.indicePaginasBusqueda.push(a+1);console.log("B\xfasqueda cargada.")})},e.prototype.buscar=function(e){this.terminosBusqueda.next(e)},e.prototype.listarBusqueda=function(e,t){var a=this;this.paginaActualBusqueda=t,console.log("Cargando b\xfasqueda."),this.cargando=!0;var n={status:"VAL",sin_proveedor:1==this.tab,q:e,page:this.paginaActualBusqueda,per_page:this.resultadosPorPaginaBusqueda};this.apiService.buscar(n).subscribe(function(e){a.cargando=!1,a.resultadosBusqueda=e.data,a.totalBusqueda=0|e.total,a.paginasTotalesBusqueda=Math.ceil(a.totalBusqueda/a.resultadosPorPaginaBusqueda),a.indicePaginasBusqueda=[];for(var t=0;t<a.paginasTotalesBusqueda;t++)a.indicePaginasBusqueda.push(t+1);console.log("B\xfasqueda cargada.")},function(n){a.cargando=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=function(){this.listarBusqueda(e,t)};try{n.json();401==n.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(e){console.log("No se puede interpretar el error"),500==n.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.listar=function(e){var t=this;this.paginaActual=e,console.log("Cargando items."),this.cargando=!0;var a={status:1==this.tab?"VAL":"PS",sin_proveedor:1==this.tab,page:e,per_page:this.resultadosPorPagina};this.apiService.listaPaginada(a).subscribe(function(e){t.cargando=!1,t.lista=e.data,console.log(t.lista),t.total=0|e.total,t.paginasTotales=Math.ceil(t.total/t.resultadosPorPagina),t.indicePaginas=[];for(var a=0;a<t.paginasTotales;a++)t.indicePaginas.push(a+1);console.log("Items cargados.")},function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=t.listar;try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.cambiarTab=function(e){this.tab=e,this.busquedaActivada?this.listarBusqueda(this.searchBoxViewChildren.first.nativeElement.value,1):this.listar(1)},e.prototype.paginaSiguiente=function(){this.listar(this.paginaActual+1)},e.prototype.paginaAnterior=function(){this.listar(this.paginaActual-1)},e.prototype.paginaSiguienteBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda+1)},e.prototype.paginaAnteriorBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda-1)},pt([Object(n.ViewChildren)("searchBox"),mt("design:type",Object)],e.prototype,"searchBoxViewChildren",void 0),e=pt([Object(n.Component)({selector:"validacion-pedidos-alternos-lista",template:a("3jcS"),styles:[a("G+NY")],providers:[ut]}),mt("design:paramtypes",[i.Title,ut])],e)}(),ft=a("lDdF"),ht=function(){return function(){this.lista=[],this.paginaActual=1,this.resultadosPorPagina=5,this.totalPaginas=0,this.indice=[]}}(),vt=(function(){}(),function(){function e(t){void 0===t&&(t=!1),this.presupuesto_id=0,this.lista=[],this.totalInsumos=0,this.totalMonto=0,this.totalMontoCauses=0,this.totalMontoNoCauses=0,this.totalMontoMaterialCuracion=0,this.paginacion=new ht,this.activo=!1,this.cargando=!1,this.tieneError=function(e,t){return this.datos.get(e).hasError(t)&&this.datos.get(e).touched},this.inicializarDatos=function(e){void 0===e&&(e={});var t=e.fecha,a="",n="";if(!e.fecha){var r=new Date,i=("0"+r.getDate()).slice(-2),s=("0"+(r.getMonth()+1)).slice(-2);t=r.getFullYear()+"-"+s+"-"+i}e.almacen_solicitante&&(a=e.almacen_solicitante),e.almacen_proveedor&&(n=e.almacen_proveedor),this.datos.setValue({almacen_solicitante:a,almacen_proveedor:n,descripcion:"",observaciones:"",fecha:t})},this.obtenerDatosGuardar=function(){return{datos:this.datos.value,insumos:this.lista}},this.actualizarTotales=function(e){var t;void 0===e&&(e=!1),(t=this.padre?this.padre:this).totalInsumos=0,t.totalMonto=0,t.totalMontoCauses=0,t.totalMontoNoCauses=0,t.totalMontoMaterialCuracion=0;var a=0,n=0,r=1;for(var i in t.lista)e&&(t.lista[i].lote=r++),t.totalInsumos+=+t.lista[i].cantidad,t.lista[i].monto&&(t.totalMonto+=t.lista[i].monto,"ME"==t.lista[i].tipo?t.lista[i].es_causes?t.totalMontoCauses+=t.lista[i].monto:t.totalMontoNoCauses+=t.lista[i].monto:"MC"==t.lista[i].tipo&&(t.totalMontoMaterialCuracion+=t.lista[i].monto,a+=t.lista[i].monto));a>0&&(n=16*a/100,t.totalMontoMaterialCuracion+=n,t.totalMonto+=n)},this.indexar=function(e){void 0===e&&(e=!0),e&&this.actualizarTotales(e),this.paginacion.totalPaginas=Math.ceil(this.lista.length/this.paginacion.resultadosPorPagina),this.paginacion.indice=[];for(var t=0;t<this.paginacion.totalPaginas;t++)this.paginacion.indice.push(t+1)},this.listar=function(e){void 0===e&&(e=1),this.paginacion.paginaActual=e;var t=(this.paginacion.paginaActual-1)*this.paginacion.resultadosPorPagina,a=t+this.paginacion.resultadosPorPagina;try{this.paginacion.lista=this.lista.slice(t,a)}catch(e){this.paginacion.lista=[]}},this.eliminarItem=function(e,t){var a=0;for(var n in this.lista){if(this.lista[n]===e){this.paginacion.lista.splice(t,1),this.lista.splice(a,1),this.indexar();var r=a+(this.paginacion.resultadosPorPagina-t)-1;if(this.lista[r]&&this.paginacion.lista.push(this.lista[r]),0==this.paginacion.lista.length&&(this.paginacion.paginaActual>1?this.listar(this.paginacion.paginaActual-1):this.listar(1)),this.padre){var i=this.padre.lista.indexOf(e),s=Math.ceil(i/this.padre.paginacion.resultadosPorPagina),o=i-(s-1)*this.padre.paginacion.resultadosPorPagina;if(this.padre.paginacion.paginaActual==s)this.padre.eliminarItem(e,o);else{var l=this.padre.paginacion.paginaActual;this.padre.listar(s),this.padre.eliminarItem(e,o),this.padre.listar(l),0==this.padre.paginacion.lista.length&&(this.padre.paginacion.paginaActual>1?this.padre.listar(this.padre.paginacion.paginaActual-1):this.padre.listar(1))}}return}a++}},t&&(this.filtro=new e,this.filtro.padre=this,this.fb=new l.FormBuilder,this.datos=this.fb.group({descripcion:["",[l.Validators.required]],fecha:["",[l.Validators.required]],almacen_solicitante:["",[l.Validators.required]],almacen_proveedor:["",[l.Validators.required]],observaciones:""}),this.status="BR",this.recepcionPermitida=!1),this.paginacion.resultadosPorPagina=10}return e.prototype.paginaSiguiente=function(){this.paginacion.paginaActual!=this.paginacion.totalPaginas&&this.listar(this.paginacion.paginaActual+1)},e.prototype.paginaAnterior=function(){1!=this.paginacion.paginaActual&&this.listar(this.paginacion.paginaActual-1)},e}()),bt=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},yt=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},_t=function(){function e(e,t,a,n,r,i,s,o){this.title=e,this.location=t,this.router=a,this.route=n,this._ngZone=r,this.apiService=i,this.fb=s,this.cambiarEntornoService=o,this.cargando=!1,this.asignado=!0,this.cargandoProveedores=!1,this.asignando=!1,this.cargandoInsumos=!1,this.proveedores=[],this.firmante_1=[],this.firmante_2=[],this.mensajeError=new Ae,this.mensajeAdvertencia=new Ae,this.mensajeExito=new Ae,this.mostrarImprimirDialogo=!1,this.tiposSubPedidos=[],this.subPedidos={},this.recepciones={},this.tieneRecepcionIniciada=!1,this.meses={1:"Enero",2:"Febrero",3:"Marzo",4:"Abril",5:"Mayo",6:"Junio",7:"Julio",8:"Agosto",9:"Septiembre",10:"Octubre",11:"Noviembre",12:"Diciembre"},this.dialogCancelarFechaTransferencia={},this.dialogCancelarMeses=[],this.errorCancelarPedido=!1,this.errorCancelarPedidoTexto="",this.cancelandoPedido=!1,this.formularioTitulo="Nuevo",this.esEditar=!1,this.mostrarModalInsumos=!1,this.porcentageTotalPedido=0,this.cargandoPdf={},this.errorEnPDF=!1}return e.prototype.ngOnInit=function(){var e=this;this.asignacion=this.fb.group({proveedor_id:["",[l.Validators.required]],asignacion_firmante_1:["",[l.Validators.required]],asignacion_firmante_2:["",[l.Validators.required]]}),this.title.setTitle("Asignar proveedor pedido alterno / Administrador central"),this.cambiarEntornoSuscription=this.cambiarEntornoService.entornoCambiado$.subscribe(function(t){e.router.navigate(["/administrador-central/validacion-pedidos-alternos"])}),this.pdfworker=new Worker("web-workers/farmacia/pedidos/pedido-proveedor.js");var t=this,a=this._ngZone;this.pdfworker.onmessage=function(e){a.run(function(){console.log(e),t.cargandoPdf[e.data.tipoPedido]=!1}),ft.saveAs(t.base64ToBlob(e.data.base64,"application/pdf"),e.data.fileName)},this.pdfworker.onerror=function(e){a.run(function(){console.log(e),t.errorEnPDF=!0})},this.cargandoProveedores=!0,this.apiService.proveedores().subscribe(function(t){e.cargandoProveedores=!1,e.proveedores=t},function(t){e.cargandoProveedores=!1}),this.apiService.firmantes().subscribe(function(t){console.log(t),e.firmante_1=t,e.firmante_2=t},function(e){}),this.pedido=new vt(!0),this.route.params.subscribe(function(t){e.id=t.id,t.id?(e.cargando=!0,e.pedido.id=t.id,e.apiService.ver(t.id).subscribe(function(t){for(var a in e.pedido.datosImprimir=t,e.pedido.status=t.status,t.insumos){var n=t.insumos[a],r=n.insumos_con_descripcion;r.cantidad=+n.cantidad_solicitada,r.cantidad_recibida=+n.cantidad_recibida||0,r.monto=+n.monto_solicitado,r.monto_recibido=+n.monto_recibido||0,r.precio=+n.precio_unitario,e.pedido.lista.push(r);var i,s=!1;i=n.tipo_insumo.clave,"MC"==n.tipo_insumo.clave&&(s=!0),e.subPedidos[i]||(e.tiposSubPedidos.push(i),e.cargandoPdf[i]=!1,e.subPedidos[i]={titulo:n.tipo_insumo.nombre,clave_folio:i,claves:0,cantidad:0,monto:0,iva:0,tiene_iva:s,lista:[]}),e.subPedidos[i].claves++,e.subPedidos[i].cantidad+=r.cantidad,e.subPedidos[i].monto+=r.monto,e.subPedidos[i].lista.push(r)}if("EF"!=t.status)for(var a in t.recepciones)"BR"==t.recepciones[a].entrada.status&&(e.tieneRecepcionIniciada=!0);t.insumos=void 0,e.pedido.indexar(),e.pedido.listar(1);var o=(e.pedido.datosImprimir.total_claves_recibidas||0)/e.pedido.lista.length*100,l=(e.pedido.datosImprimir.total_cantidad_recibida||0)/e.pedido.totalInsumos*100,c=(e.pedido.datosImprimir.total_monto_recibido||0)/e.pedido.totalMonto*100;e.porcentageTotalPedido=(l+o+c)/3,e.cargando=!1},function(t){e.cargando=!1,e.mensajeError=new Ae(!0),e.mensajeError=new Ae(!0),e.mensajeError.mostrar;try{t.json();401==t.status&&(e.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){500==t.status?e.mensajeError.texto="500 (Error interno del servidor)":e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}}),console.log("editar pedido")):console.log("nuevo pedido")})},e.prototype.buscar=function(e,t,a,n){var r=t.value;if(27==e.keyCode)return e.preventDefault(),e.stopPropagation(),t.value="",a.value="",this.pedido.filtro.activo=!1,void(this.pedido.filtro.lista=[]);if(a.value!=r){if(e.preventDefault(),e.stopPropagation(),a.value=r,""==r)return this.pedido.filtro.activo=!1,void(this.pedido.filtro.lista=[]);this.pedido.filtro.activo=!0;var i=[],s=function(e){var t=n[e].input.value;if(""==t)return"continue";var a=o.pedido.lista.filter(function(a){var r="",i=n[e].campos;for(var s in i)try{var o=i[s].split(".");o.length>1?r+=" "+a[o[0]][o[1]].toLowerCase():r+=" "+a[i[s]].toLowerCase()}catch(e){}return r.includes(t.toLowerCase())});i.push(a)},o=this;for(var l in n)s(l);if(i.length>1){for(var c=(i=i.sort(function(e,t){return e.length-t.length}))[0],d=[],u=1;u<i.length;u++)for(var l in i[u])for(var p in c)i[u][l]===c[p]&&d.push(c[p]);this.pedido.filtro.lista=d}else this.pedido.filtro.lista=i[0];this.pedido.filtro.indexar(!1),this.pedido.filtro.paginacion.paginaActual=1,this.pedido.filtro.listar(1)}},e.prototype.mostrarFichaInformativa=function(e,t){e.preventDefault(),e.stopPropagation(),alert(t),console.log(t)},e.prototype.keyboardInput=function(e){32==e.keyCode&&e.ctrlKey&&(event.preventDefault(),event.stopPropagation(),this.mostrarModalInsumos=!0),39==e.keyCode&&(e.ctrlKey&&e.shiftKey||e.ctrlKey)&&(event.preventDefault(),event.stopPropagation(),this.pedido.filtro.activo?this.pedido.filtro.paginaSiguiente():this.pedido.paginaSiguiente()),37==e.keyCode&&(e.ctrlKey&&e.shiftKey||e.ctrlKey)&&(event.preventDefault(),event.stopPropagation(),this.pedido.filtro.activo?this.pedido.filtro.paginaAnterior():this.pedido.paginaAnterior())},e.prototype.imprimirExcel=function(){var e="token="+localStorage.getItem("token");window.open(v.API_URL+"/generar-excel-pedido/"+this.pedido.id+"?"+e)},e.prototype.imprimir=function(e){void 0===e&&(e="");try{this.cargandoPdf[e]=!0;var t={datos:this.pedido.datosImprimir,insumos:this.subPedidos[e]};this.pdfworker.postMessage(JSON.stringify(t))}catch(t){this.cargandoPdf[e]=!1,console.log(t)}},e.prototype.mostrarDialogo=function(){this.mostrarImprimirDialogo=!0},e.prototype.cerrarDialogo=function(){this.mostrarImprimirDialogo=!1},e.prototype.asignar=function(){var e=this;"ASIGNAR"==prompt("Para asignar proveedor a este pedido alterno, por favor escriba: ASIGNAR")&&(this.asignando=!0,this.apiService.asignar(this.id,this.asignacion.value).subscribe(function(t){e.asignando=!1,e.pedido.status=t.status,e.mensajeExito=new Ae(!0),e.mensajeExito.mostrar=!0,e.mensajeExito.texto="Pedido validado",e.asignado=!1},function(t){e.asignando=!1,e.mensajeError=new Ae(!0),e.mensajeError.mostrar=!0;try{var a=t.json();401==t.status&&(e.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n."),500==t.status?e.mensajeError.texto=a.error:e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}catch(a){500==t.status?e.mensajeError.texto="500 (Error interno del servidor)":e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}}))},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},e.prototype.ngOnDestroy=function(){this.cambiarEntornoSuscription.unsubscribe()},e=bt([Object(n.Component)({selector:"app-asignar",template:a("c6M3"),styles:[a("5igw")],host:{"(window:keydown)":"keyboardInput($event)"},providers:[ut]}),yt("design:paramtypes",[i.Title,o.Location,h.b,h.a,n.NgZone,ut,l.FormBuilder,ae])],e)}(),xt=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},It=[{path:"administrador-central/asignacion-proveedores-pedidos-alternos",children:[{path:"",component:gt,canActivate:[D],data:{key:"ICmOKw3HxhgRna4a78OP0QmKrIX0bNsp"}},{path:":id",component:_t}],canActivate:[M]}],jt=function(){function e(){}return e=xt([Object(n.NgModule)({imports:[h.c.forChild(It)],exports:[h.c]})],e)}(),kt=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Ct=function(){function e(){}return e=kt([Object(n.NgModule)({imports:[o.CommonModule,h.c,l.FormsModule,ee,de,fe,qe,ot,jt,l.ReactiveFormsModule],declarations:[gt,_t]})],e)}(),Et=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Pt=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},qt=function(){function e(e){this.jwtRequest=e}return t=e,e.prototype.buscar=function(e){return void 0===e&&(e={q:"",page:1,per_page:20}),this.jwtRequest.get(t.URL,null,e).map(function(e){return e.json().data})},e.prototype.listaPaginada=function(e){return void 0===e&&(e={page:1,per_page:20}),this.jwtRequest.get(t.URL,null,e).map(function(e){return e.json().data})},e.prototype.ver=function(e){return this.jwtRequest.get(t.URL,e,{}).map(function(e){return e.json().data})},e.prototype.validar=function(e){return this.jwtRequest.put(t.URL+"/validacion",e,null).map(function(e){return e.json().data})},e.URL="administrador-central/pedidos-alternos",e=t=Et([Object(n.Injectable)(),Pt("design:paramtypes",[V])],e);var t}(),At=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},wt=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},St=function(){function e(e,t){this.title=e,this.apiService=t,this.tab=1,this.cargando=!1,this.mostrarModalClues=!1,this.listaSeleccionada=null,this.mensajeError=new Ae,this.mensajeExito=new Ae,this.lista=[],this.paginaActual=1,this.resultadosPorPagina=25,this.total=0,this.paginasTotales=0,this.indicePaginas=[],this.ultimoTerminoBuscado="",this.terminosBusqueda=new x.Subject,this.resultadosBusqueda=[],this.busquedaActivada=!1,this.paginaActualBusqueda=1,this.resultadosPorPaginaBusqueda=25,this.totalBusqueda=0,this.paginasTotalesBusqueda=0,this.indicePaginasBusqueda=[]}return e.prototype.ngOnInit=function(){var e=this;this.title.setTitle("Validaci\xf3n pedidos alternos / Administrador central"),this.listar(1),this.mensajeError=new Ae,this.mensajeExito=new Ae;var t=this,a=this.terminosBusqueda.debounceTime(300).distinctUntilChanged().switchMap(function(t){console.log("Cargando b\xfasqueda."),e.busquedaActivada=""!=t,e.ultimoTerminoBuscado=t,e.paginaActualBusqueda=1,e.cargando=!0;var a={status:1==e.tab?"PV":"VAL",q:t,page:e.paginaActualBusqueda,per_page:e.resultadosPorPaginaBusqueda};return t?e.apiService.buscar(a):lt.Observable.of({data:[]})}).catch(function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=function(){t.listarBusqueda(t.ultimoTerminoBuscado,t.paginaActualBusqueda)};try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}return a});a.subscribe(function(t){e.cargando=!1,e.resultadosBusqueda=t.data,e.totalBusqueda=0|t.total,e.paginasTotalesBusqueda=Math.ceil(e.totalBusqueda/e.resultadosPorPaginaBusqueda),e.indicePaginasBusqueda=[];for(var a=0;a<e.paginasTotalesBusqueda;a++)e.indicePaginasBusqueda.push(a+1);console.log("B\xfasqueda cargada.")})},e.prototype.buscar=function(e){this.terminosBusqueda.next(e)},e.prototype.listarBusqueda=function(e,t){var a=this;this.paginaActualBusqueda=t,console.log("Cargando b\xfasqueda."),this.cargando=!0;var n={status:1==this.tab?"PV":"VAL",q:e,page:this.paginaActualBusqueda,per_page:this.resultadosPorPaginaBusqueda};this.apiService.buscar(n).subscribe(function(e){a.cargando=!1,a.resultadosBusqueda=e.data,a.totalBusqueda=0|e.total,a.paginasTotalesBusqueda=Math.ceil(a.totalBusqueda/a.resultadosPorPaginaBusqueda),a.indicePaginasBusqueda=[];for(var t=0;t<a.paginasTotalesBusqueda;t++)a.indicePaginasBusqueda.push(t+1);console.log("B\xfasqueda cargada.")},function(n){a.cargando=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=function(){this.listarBusqueda(e,t)};try{n.json();401==n.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(e){console.log("No se puede interpretar el error"),500==n.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.listar=function(e){var t=this;this.paginaActual=e,console.log("Cargando items."),this.cargando=!0;var a={status:1==this.tab?"PV":"VAL",page:e,per_page:this.resultadosPorPagina};this.apiService.listaPaginada(a).subscribe(function(e){t.cargando=!1,t.lista=e.data,console.log(t.lista),t.total=0|e.total,t.paginasTotales=Math.ceil(t.total/t.resultadosPorPagina),t.indicePaginas=[];for(var a=0;a<t.paginasTotales;a++)t.indicePaginas.push(a+1);console.log("Items cargados.")},function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=t.listar;try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.cambiarTab=function(e){this.tab=e,this.busquedaActivada?this.listarBusqueda(this.searchBoxViewChildren.first.nativeElement.value,1):this.listar(1)},e.prototype.paginaSiguiente=function(){this.listar(this.paginaActual+1)},e.prototype.paginaAnterior=function(){this.listar(this.paginaActual-1)},e.prototype.paginaSiguienteBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda+1)},e.prototype.paginaAnteriorBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda-1)},At([Object(n.ViewChildren)("searchBox"),wt("design:type",Object)],e.prototype,"searchBoxViewChildren",void 0),e=At([Object(n.Component)({selector:"validacion-pedidos-alternos-lista",template:a("JhnQ"),styles:[a("ta+F")],providers:[qt]}),wt("design:paramtypes",[i.Title,qt])],e)}(),Rt=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Ot=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Nt=function(){function e(e,t,a,n,r,i,s,o){this.title=e,this.location=t,this.router=a,this.route=n,this._ngZone=r,this.apiService=i,this.fb=s,this.cambiarEntornoService=o,this.cargando=!1,this.validando=!1,this.cargandoInsumos=!1,this.mensajeError=new Ae,this.mensajeAdvertencia=new Ae,this.mensajeExito=new Ae,this.mostrarImprimirDialogo=!1,this.tiposSubPedidos=[],this.subPedidos={},this.recepciones={},this.tieneRecepcionIniciada=!1,this.meses={1:"Enero",2:"Febrero",3:"Marzo",4:"Abril",5:"Mayo",6:"Junio",7:"Julio",8:"Agosto",9:"Septiembre",10:"Octubre",11:"Noviembre",12:"Diciembre"},this.dialogCancelarFechaTransferencia={},this.dialogCancelarMeses=[],this.errorCancelarPedido=!1,this.errorCancelarPedidoTexto="",this.cancelandoPedido=!1,this.formularioTitulo="Nuevo",this.esEditar=!1,this.mostrarModalInsumos=!1,this.porcentageTotalPedido=0,this.cargandoPdf={},this.errorEnPDF=!1}return e.prototype.ngOnInit=function(){var e=this;this.title.setTitle("Validar pedido alterno / Administrador central"),this.cambiarEntornoSuscription=this.cambiarEntornoService.entornoCambiado$.subscribe(function(t){e.router.navigate(["/administrador-central/validacion-pedidos-alternos"])}),this.pdfworker=new Worker("web-workers/farmacia/pedidos/pedido-proveedor.js");var t=this,a=this._ngZone;this.pdfworker.onmessage=function(e){a.run(function(){console.log(e),t.cargandoPdf[e.data.tipoPedido]=!1}),ft.saveAs(t.base64ToBlob(e.data.base64,"application/pdf"),e.data.fileName)},this.pdfworker.onerror=function(e){a.run(function(){console.log(e),t.errorEnPDF=!0})},this.pedido=new vt(!0),this.route.params.subscribe(function(t){e.id=t.id,t.id?(e.cargando=!0,e.pedido.id=t.id,e.apiService.ver(t.id).subscribe(function(t){for(var a in e.pedido.datosImprimir=t,e.pedido.status=t.status,t.insumos){var n=t.insumos[a],r=n.insumos_con_descripcion;r.cantidad=+n.cantidad_solicitada,r.cantidad_recibida=+n.cantidad_recibida||0,r.monto=+n.monto_solicitado,r.monto_recibido=+n.monto_recibido||0,r.precio=+n.precio_unitario,e.pedido.lista.push(r);var i,s=!1;i=n.tipo_insumo.clave,"MC"==n.tipo_insumo.clave&&(s=!0),e.subPedidos[i]||(e.tiposSubPedidos.push(i),e.cargandoPdf[i]=!1,e.subPedidos[i]={titulo:n.tipo_insumo.nombre,clave_folio:i,claves:0,cantidad:0,monto:0,iva:0,tiene_iva:s,lista:[]}),e.subPedidos[i].claves++,e.subPedidos[i].cantidad+=r.cantidad,e.subPedidos[i].monto+=r.monto,e.subPedidos[i].lista.push(r)}if("EF"!=t.status)for(var a in t.recepciones)"BR"==t.recepciones[a].entrada.status&&(e.tieneRecepcionIniciada=!0);t.insumos=void 0,e.pedido.indexar(),e.pedido.listar(1);var o=(e.pedido.datosImprimir.total_claves_recibidas||0)/e.pedido.lista.length*100,l=(e.pedido.datosImprimir.total_cantidad_recibida||0)/e.pedido.totalInsumos*100,c=(e.pedido.datosImprimir.total_monto_recibido||0)/e.pedido.totalMonto*100;e.porcentageTotalPedido=(l+o+c)/3,e.cargando=!1},function(t){e.cargando=!1,e.mensajeError=new Ae(!0),e.mensajeError=new Ae(!0),e.mensajeError.mostrar;try{t.json();401==t.status&&(e.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){500==t.status?e.mensajeError.texto="500 (Error interno del servidor)":e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}}),console.log("editar pedido")):console.log("nuevo pedido")})},e.prototype.buscar=function(e,t,a,n){var r=t.value;if(27==e.keyCode)return e.preventDefault(),e.stopPropagation(),t.value="",a.value="",this.pedido.filtro.activo=!1,void(this.pedido.filtro.lista=[]);if(a.value!=r){if(e.preventDefault(),e.stopPropagation(),a.value=r,""==r)return this.pedido.filtro.activo=!1,void(this.pedido.filtro.lista=[]);this.pedido.filtro.activo=!0;var i=[],s=function(e){var t=n[e].input.value;if(""==t)return"continue";var a=o.pedido.lista.filter(function(a){var r="",i=n[e].campos;for(var s in i)try{var o=i[s].split(".");o.length>1?r+=" "+a[o[0]][o[1]].toLowerCase():r+=" "+a[i[s]].toLowerCase()}catch(e){}return r.includes(t.toLowerCase())});i.push(a)},o=this;for(var l in n)s(l);if(i.length>1){for(var c=(i=i.sort(function(e,t){return e.length-t.length}))[0],d=[],u=1;u<i.length;u++)for(var l in i[u])for(var p in c)i[u][l]===c[p]&&d.push(c[p]);this.pedido.filtro.lista=d}else this.pedido.filtro.lista=i[0];this.pedido.filtro.indexar(!1),this.pedido.filtro.paginacion.paginaActual=1,this.pedido.filtro.listar(1)}},e.prototype.mostrarFichaInformativa=function(e,t){e.preventDefault(),e.stopPropagation(),alert(t),console.log(t)},e.prototype.keyboardInput=function(e){32==e.keyCode&&e.ctrlKey&&(event.preventDefault(),event.stopPropagation(),this.mostrarModalInsumos=!0),39==e.keyCode&&(e.ctrlKey&&e.shiftKey||e.ctrlKey)&&(event.preventDefault(),event.stopPropagation(),this.pedido.filtro.activo?this.pedido.filtro.paginaSiguiente():this.pedido.paginaSiguiente()),37==e.keyCode&&(e.ctrlKey&&e.shiftKey||e.ctrlKey)&&(event.preventDefault(),event.stopPropagation(),this.pedido.filtro.activo?this.pedido.filtro.paginaAnterior():this.pedido.paginaAnterior())},e.prototype.imprimirExcel=function(){var e="token="+localStorage.getItem("token");window.open(v.API_URL+"/generar-excel-pedido/"+this.pedido.id+"?"+e)},e.prototype.imprimir=function(e){void 0===e&&(e="");try{this.cargandoPdf[e]=!0;var t={datos:this.pedido.datosImprimir,insumos:this.subPedidos[e]};this.pdfworker.postMessage(JSON.stringify(t))}catch(t){this.cargandoPdf[e]=!1,console.log(t)}},e.prototype.mostrarDialogo=function(){this.mostrarImprimirDialogo=!0},e.prototype.cerrarDialogo=function(){this.mostrarImprimirDialogo=!1},e.prototype.rechazar=function(){"RECHAZAR"==prompt("Para rechazar este pedido alterno, por favor escriba: RECHAZAR")&&alert("Dej\xe9 este bot\xf3n pensando en que se pod\xeda rechazar. S\xf3lo qu\xedtenlo si no aplica.")},e.prototype.validar=function(){var e=this;"VALIDAR"==prompt("Para validar este pedido alterno, por favor escriba: VALIDAR")&&(this.validando=!0,this.apiService.validar(this.id).subscribe(function(t){e.validando=!1,e.pedido.status=t.status,e.mensajeExito=new Ae(!0),e.mensajeExito.mostrar=!0,e.mensajeExito.texto="Pedido validado"},function(t){e.validando=!1,e.mensajeError=new Ae(!0),e.mensajeError.mostrar=!0;try{var a=t.json();401==t.status&&(e.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n."),500==t.status?e.mensajeError.texto=a.error:e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}catch(a){500==t.status?e.mensajeError.texto="500 (Error interno del servidor)":e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}}))},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},e.prototype.ngOnDestroy=function(){this.cambiarEntornoSuscription.unsubscribe()},e=Rt([Object(n.Component)({selector:"app-validar",template:a("3QmX"),styles:[a("+q6V")],host:{"(window:keydown)":"keyboardInput($event)"},providers:[qt]}),Ot("design:paramtypes",[i.Title,o.Location,h.b,h.a,n.NgZone,qt,l.FormBuilder,ae])],e)}(),Mt=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Bt=[{path:"administrador-central/validacion-pedidos-alternos",children:[{path:"",component:St,canActivate:[D],data:{key:"ICmOKw3HxhgRna4a78OP0QmKrIX0bNsp"}},{path:":id",component:Nt}],canActivate:[M]}],Ft=function(){function e(){}return e=Mt([Object(n.NgModule)({imports:[h.c.forChild(Bt)],exports:[h.c]})],e)}(),Dt=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Lt=function(){function e(){}return e=Dt([Object(n.NgModule)({imports:[o.CommonModule,h.c,l.FormsModule,Ft,ee,de,fe,qe,ot],declarations:[St,Nt]})],e)}(),Tt=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},zt=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ut=function(){function e(e,t){this.http=e,this.jwtRequest=t}return e.prototype.jurisdicciones=function(){return this.jwtRequest.get("jurisdicciones").map(function(e){return e.json().data})},e.prototype.abasto=function(e){return void 0===e&&(e={}),this.jwtRequest.get("abasto",null,e).map(function(e){return e.json().data})},e.prototype.pedidos=function(e){return void 0===e&&(e={}),this.jwtRequest.get("pedidos-administrador-proveedores",null,e).map(function(e){return e.json().data})},e.prototype.verPedido=function(e){return this.jwtRequest.get("pedidos-administrador-proveedores-pedido",e,{}).map(function(e){return e.json().data})},e.prototype.verArchivos=function(e){return this.jwtRequest.get("repository",e,{}).map(function(e){return e.json().data})},e.prototype.eliminarArchivos=function(e){return this.jwtRequest.delete("repository",e,{}).map(function(e){return e.json().data})},e.prototype.descargarArchivos=function(e){return this.jwtRequest.get("repository-download",e,{}).map(function(e){return 0})},e.prototype.presupuesto=function(e){return this.jwtRequest.get("presupuesto-pedidos-administrador-proveedores",null,e).map(function(e){return e.json()})},e=Tt([Object(n.Injectable)(),zt("design:paramtypes",[c.Http,V])],e)}(),Vt=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Gt=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Yt=function(){function e(e,t,a,n){this.title=e,this.apiService=t,this._ngZone=a,this.cambiarEntornoService=n,this.cargando=!1,this.cargandoPresupuestos=!1,this.mensajeError=new Ae,this.mensajeExito=new Ae,this.q="",this.status=[],this.meses=[],this.jurisdicciones=[],this.statusSeleccionados=[],this.jurisdiccionesSeleccionadas=[],this.mes=null,this.anio=null,this.sin_pedidos=!1,this.ordenarCauses="",this.ordenarNoCauses="",this.ordenarMaterialCuracion="",this.presupuesto={},this.datosPedido={},this.verDialogoPedido=!1,this.verDialogoArchivo=!1,this.tiposSubPedidos=[],this.subPedidos={},this.cargandoDatosPedido=!1,this.cargandoDatosArchivo=!0,this.lista=[],this.lista_repositorio=[],this.paginaActual=1,this.resultadosPorPagina=30,this.total=0,this.paginasTotales=0,this.indicePaginas=[],this.cargandoPdf={},this.errorEnPDF=!1,this.cargando_archivo=0,this.subir_archivo=!0}return e.prototype.ngOnInit=function(){var e=this;this.mensajeError=new Ae,this.mensajeExito=new Ae,this.title.setTitle("Pedidos / Administrador Proveedores"),this.pdfworker=new Worker("web-workers/farmacia/pedidos/pedido-proveedor.js");var t=this,a=this._ngZone;this.pdfworker.onmessage=function(e){a.run(function(){t.cargandoPdf[e.data.tipoPedido]=!1}),ft.saveAs(t.base64ToBlob(e.data.base64,"application/pdf"),e.data.fileName)},this.pdfworker.onerror=function(e){a.run(function(){t.errorEnPDF=!0}),console.log(e)};var n=new Date;this.anio=n.getFullYear(),this.mes=n.getMonth()+1,this.cambiarEntornoSuscription=this.cambiarEntornoService.entornoCambiado$.subscribe(function(t){e.listar(1),e.cargarJurisdicciones()}),this.listar(1),this.cargarJurisdicciones(),this.status=[{id:"PS",descripcion:"Por surtir"},{id:"FI",descripcion:"Surtido"},{id:"EF",descripcion:"En Farmacia"},{id:"EX",descripcion:"Expirados"},{id:"EX-CA",descripcion:"Cancelados"}],this.meses=[{id:0,nombre:"Todos"},{id:1,nombre:"Enero"},{id:2,nombre:"Febrero"},{id:3,nombre:"Marzo"},{id:4,nombre:"Abril"},{id:5,nombre:"Mayo"},{id:6,nombre:"Junio"},{id:7,nombre:"Julio"},{id:8,nombre:"Agosto"},{id:9,nombre:"Septiembre"},{id:10,nombre:"Octubre"},{id:11,nombre:"Noviembre"},{id:12,nombre:"Diciembre"}]},e.prototype.cargarJurisdicciones=function(){var e=this;this.apiService.jurisdicciones().subscribe(function(t){e.jurisdicciones=t},function(e){})},e.prototype.cambioSeleccionJurisdiccion=function(e){-1==e&&(this.jurisdiccionesSeleccionadas=[]),this.agregarJurisdiccion(e)},e.prototype.cambioSeleccionStatus=function(e){-1==e&&(this.statusSeleccionados=[]),this.agregarStatus(e)},e.prototype.agregarJurisdiccion=function(e){if(-1!=e){for(var t in this.jurisdiccionesSeleccionadas)if(this.jurisdiccionesSeleccionadas[t].id==e)return;for(var t in this.jurisdicciones)if(this.jurisdicciones[t].id==e){this.jurisdiccionesSeleccionadas.push(this.jurisdicciones[t]);break}}},e.prototype.agregarStatus=function(e){if(-1!=e){for(var t in this.statusSeleccionados)if(this.statusSeleccionados[t].id==e)return;for(var t in this.status)if(this.status[t].id==e){this.statusSeleccionados.push(this.status[t]);break}}},e.prototype.quitarJurisdiccion=function(e){this.jurisdiccionesSeleccionadas.splice(e,1)},e.prototype.quitarStatus=function(e){this.statusSeleccionados.splice(e,1)},e.prototype.filtrarQuery=function(e){13==e.keyCode&&this.listar(1)},e.prototype.toggleCauses=function(){switch(this.ordenarCauses){case"":this.ordenarCauses="ASC";break;case"ASC":this.ordenarCauses="DESC";break;case"DESC":this.ordenarCauses="";break;default:this.ordenarCauses=""}this.ordenarNoCauses="",this.ordenarMaterialCuracion="",this.listar(1)},e.prototype.toggleNoCauses=function(){switch(this.ordenarNoCauses){case"":this.ordenarNoCauses="ASC";break;case"ASC":this.ordenarNoCauses="DESC";break;case"DESC":this.ordenarNoCauses="";break;default:this.ordenarNoCauses=""}this.ordenarCauses="",this.ordenarMaterialCuracion="",this.listar(1)},e.prototype.toggleMaterialCuracion=function(){switch(this.ordenarMaterialCuracion){case"":this.ordenarMaterialCuracion="ASC";break;case"ASC":this.ordenarMaterialCuracion="DESC";break;case"DESC":this.ordenarMaterialCuracion="";break;default:this.ordenarMaterialCuracion=""}this.ordenarCauses="",this.ordenarNoCauses="",this.listar(1)},e.prototype.listar=function(e){var t=this;this.cargando=!0,this.paginaActual=e;var a=[];for(var n in this.jurisdiccionesSeleccionadas)a.push(this.jurisdiccionesSeleccionadas[n].id);var r=[];for(var n in this.statusSeleccionados)r.push(this.statusSeleccionados[n].id);var i={q:this.q,mes:this.mes,anio:this.anio,jurisdicciones:a,status:r,page:this.paginaActual,per_page:this.resultadosPorPagina,ordenar_causes:this.ordenarCauses,ordenar_no_causes:this.ordenarNoCauses,ordenar_material_curacion:this.ordenarMaterialCuracion};this.cargandoPresupuestos=!0,this.apiService.presupuesto(i).subscribe(function(e){t.cargandoPresupuestos=!1,t.presupuesto=e.data,t.presupuesto.total_comprometido=+e.data.causes_comprometido+ +e.data.no_causes_comprometido+ +e.data.material_curacion_comprometido,t.presupuesto.total_devengado=+e.data.causes_devengado+ +e.data.no_causes_devengado+ +e.data.material_curacion_devengado,t.presupuesto.total_causes=+t.presupuesto.causes_comprometido+ +t.presupuesto.causes_devengado,t.presupuesto.total_no_causes=+t.presupuesto.no_causes_comprometido+ +t.presupuesto.no_causes_devengado,t.presupuesto.total_material_curacion=+t.presupuesto.material_curacion_comprometido+ +t.presupuesto.material_curacion_devengado,t.presupuesto.total_pedido=+t.presupuesto.total_comprometido+ +t.presupuesto.total_devengado},function(e){t.cargandoPresupuestos=!1,console.log(e)}),this.apiService.pedidos(i).subscribe(function(e){t.cargando=!1,t.lista=e.data,t.total=0|e.total,t.paginasTotales=Math.ceil(t.total/t.resultadosPorPagina),t.indicePaginas=[];for(var a=0;a<t.paginasTotales;a++)t.indicePaginas.push(a+1);console.log("Items cargados.")},function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=t.listar;try{var a=e.json();401==e.status?t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.":t.mensajeError.texto=a.error}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.fileChanged=function(e){var t=e.target;this.tag=t},e.prototype.upload=function(){if(this.tag){this.subir_archivo=!1;var e=this.tag.files[0],t=new FormData;t.append("file",e,e.name),t.append("id_pedido",this.id_pedido);var a=new XMLHttpRequest;a.upload.addEventListener("progress",function(e){});var n=this;a.open("POST",v.API_URL+"/repository",!0),a.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var r=JSON.parse(localStorage.getItem("usuario"));r.proveedor_activo&&a.setRequestHeader("X-Proveedor-Id",r.proveedor_activo.id),a.onreadystatechange=function(){a.readyState===XMLHttpRequest.DONE&&200===a.status&&n.actualiza_lista(),a.readyState===XMLHttpRequest.DONE&&200!=a.status&&(n.error_envio(),n.subir_archivo=!0),n.cargando_archivo=a.readyState},a.send(t)}else alert("ES NECESARIO ELEGIR UN ARCHIVO A SUBIR, VUELVA A INTENTARLO POR FAVOR")},e.prototype.actualiza_lista=function(){for(var e in this.subir_archivo=!0,this.cargando_archivo=0,this.mostrarDialogoArchivos(this.id_pedido,this.nombre_pedido),this.mensajeExito.mostrar=!0,this.mensajeExito.iniciarCuentaAtras(),this.mensajeExito.texto="Se ha Guardado Exitosamente el documento",this.lista)if(this.lista[e].pedido_id==this.id_pedido){this.lista[e].repositorio+=1;break}},e.prototype.error_envio=function(){this.mensajeError.mostrar=!0,this.mensajeError.texto="Ha ocurrido un error al enviar el archivo"},e.prototype.exportar=function(){var e="token="+localStorage.getItem("token")+"&ordenar_causes="+this.ordenarCauses+"&ordenar_no_causes="+this.ordenarNoCauses+"&ordenar_material_curacion="+this.ordenarMaterialCuracion,t=JSON.parse(localStorage.getItem("usuario"));t.proveedor_activo&&(e+="&proveedor="+t.proveedor_activo.id),""!=this.q&&(e+="&q="+this.q);var a="";for(var n in this.jurisdiccionesSeleccionadas)""!=a&&(a+=","),a+=""+this.jurisdiccionesSeleccionadas[n].id;""!=a&&(e+="&jurisdicciones="+a);var r="";for(var n in this.statusSeleccionados)""!=r&&(r+=","),r+=""+this.statusSeleccionados[n].id;""!=r&&(e+="&status="+r),null!=this.mes&&(e+="&mes="+this.mes),null!=this.anio&&(e+="&anio="+this.anio),window.open(v.API_URL+"/pedidos-administrador-proveedores-excel?"+e)},e.prototype.mostrarDialogoPedidos=function(e){var t=this;this.cargandoDatosPedido=!0,this.datosPedido={folio:e},this.tiposSubPedidos=[],this.subPedidos={},this.apiService.verPedido(e).subscribe(function(e){for(var a in t.datosPedido=e,e.insumos){var n=e.insumos[a],r=n.insumos_con_descripcion;r.cantidad=+n.cantidad_solicitada,r.monto=+n.monto_solicitado,r.precio=+n.precio_unitario;var i,s=!1;i=n.tipo_insumo.clave,"MC"==n.tipo_insumo.clave&&(s=!0),t.subPedidos[i]||(t.tiposSubPedidos.push(i),t.cargandoPdf[i]=!1,t.subPedidos[i]={titulo:n.tipo_insumo.nombre,clave_folio:i,claves:0,cantidad:0,monto:0,iva:0,tiene_iva:s,lista:[]}),r.lote=t.subPedidos[i].lista.length+1,t.subPedidos[i].claves++,t.subPedidos[i].cantidad+=r.cantidad,t.subPedidos[i].monto+=r.monto,t.subPedidos[i].lista.push(r)}e.insumos=void 0,t.cargandoDatosPedido=!1},function(e){t.cargandoDatosPedido=!1,t.mensajeError=new Ae(!0),t.mensajeError.mostrar;try{var a=e.json();401==e.status?t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.":t.mensajeError.texto=a.error}catch(a){500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}}),this.verDialogoPedido=!0},e.prototype.mostrarDialogoArchivos=function(e,t){var a=this;this.cargando_archivo=0,this.cargandoDatosArchivo=!0,this.datosPedido={folio:e},this.nombre_pedido=t,this.id_pedido=e,this.apiService.verArchivos(e).subscribe(function(e){a.lista_repositorio=e,a.cargandoDatosArchivo=!1},function(e){a.cargandoDatosArchivo=!1,a.mensajeError=new Ae(!0),a.mensajeError.mostrar;try{var t=e.json();401==e.status?a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.":a.mensajeError.texto=t.error}catch(t){500==e.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}}),this.verDialogoArchivo=!0},e.prototype.eliminar_archivo=function(e){var t=this;confirm("\xbfDesea eliminar el archivo realmente?")&&this.apiService.eliminarArchivos(e).subscribe(function(e){for(var a in t.mostrarDialogoArchivos(t.id_pedido,t.nombre_pedido),t.mensajeExito.mostrar=!0,t.mensajeExito.iniciarCuentaAtras(),t.mensajeExito.texto="Se ha Elimiinado Exitosamente el archivo",t.lista)if(t.lista[a].pedido_id==t.id_pedido){t.lista[a].repositorio-=1;break}},function(e){t.mensajeError=new Ae(!0),t.mensajeError.mostrar;try{var a=e.json();401==e.status?t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.":t.mensajeError.texto=a.error}catch(a){500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.descargar=function(e){var t=e,a="token="+localStorage.getItem("token"),n=this,r=window.open(v.API_URL+"/download-file/"+t+"?"+a),i=0,s=setInterval(function(){i+=1,r.closed?(clearInterval(s),n.mostrarDialogoArchivos(n.id_pedido,n.nombre_pedido),n.mensajeError.mostrar=!1,n.mensajeExito.mostrar=!0,n.mensajeExito.iniciarCuentaAtras(),n.mensajeExito.texto="Se ha descargado correctamente el archivo"):5==i&&(clearInterval(s),r.close(),n.mensajeError.mostrar=!0,n.mensajeError.iniciarCuentaAtras(),n.mensajeError.texto="Ocurrio un error al intentar descargar el archivo.")},1e3)},e.prototype.imprimirExcelPedido=function(){var e="token="+localStorage.getItem("token");window.open(v.API_URL+"/generar-excel-pedido/"+this.datosPedido.id+"?"+e)},e.prototype.imprimirPedido=function(e){void 0===e&&(e="");try{this.cargandoPdf[e]=!0;var t={datos:this.datosPedido,insumos:this.subPedidos[e]};this.pdfworker.postMessage(JSON.stringify(t))}catch(t){this.cargandoPdf[e]=!1,console.log(t)}},e.prototype.cerrarDialogoPedidos=function(){this.verDialogoPedido=!1},e.prototype.cerrarDialogoArchivos=function(){this.verDialogoArchivo=!1},e.prototype.paginaSiguiente=function(){this.listar(this.paginaActual+1)},e.prototype.paginaAnterior=function(){this.listar(this.paginaActual-1)},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},e.prototype.ngOnDestroy=function(){this.cambiarEntornoSuscription.unsubscribe()},e=Vt([Object(n.Component)({selector:"app-pedidos",template:a("dfbv"),styles:[a("/Y+D")]}),Gt("design:paramtypes",[i.Title,Ut,n.NgZone,ae])],e)}(),Ht=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Jt=[{path:"administrador-proveedores",redirectTo:"/administrador-proveedores/pedidos",pathMatch:"full"},{path:"administrador-proveedores",children:[{path:"pedidos",component:Yt,canActivate:[D],data:{key:"MrL06vIO12iNhchP14h57Puvg71eUmYb"}}],canActivate:[M]}],$t=function(){function e(){}return e=Ht([Object(n.NgModule)({imports:[h.c.forChild(Jt)],exports:[h.c]})],e)}(),Kt=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Xt=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Zt=function(){function e(e){this.cambiarEntornoService=e,this.usuario={}}return e.prototype.ngOnInit=function(){var e=this;this.usuario=JSON.parse(localStorage.getItem("usuario")),this.cambiarEntornoSuscription=this.cambiarEntornoService.entornoCambiado$.subscribe(function(t){e.usuario=JSON.parse(localStorage.getItem("usuario"))})},e.prototype.ngOnDestroy=function(){this.cambiarEntornoSuscription.unsubscribe()},e=Kt([Object(n.Component)({selector:"administrador-proveedores-menu",template:a("bm2y"),styles:[a("DHza")]}),Xt("design:paramtypes",[ae])],e)}(),Qt=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Wt=function(){function e(){}return e=Qt([Object(n.NgModule)({imports:[o.CommonModule,h.c,l.FormsModule,ee,de,fe,qe,$t],declarations:[Yt,Zt],providers:[Ut]})],e)}(),ea=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},ta=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},aa=function(){function e(){this.mostrarMenuAside=!1,this.usuario={}}return e.prototype.ngOnInit=function(){this.usuario=JSON.parse(localStorage.getItem("usuario"))},e.prototype.toggleMenuAside=function(){this.mostrarMenuAside=!this.mostrarMenuAside},e=ea([Object(n.Component)({selector:"panel-control-menu",template:a("jjES"),styles:[a("GMDI")]}),ta("design:paramtypes",[])],e)}(),na=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},ra=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ia=function(){function e(){this.usuario={},this.menu=[],this.menuAutorizado=[]}return e.prototype.ngOnInit=function(){var e=JSON.parse(localStorage.getItem("usuario")).permisos.split("|");if(this.menu=[{titulo:"Sincronizaci\xf3n con servidor principal",modulos:[{permiso:"3DMVRdBv4cLGzdfAqXO7oqTvAMbEdhI7",icono:"fa-cloud",titulo:"Servidor central",url:"/panel-control/sync/central"},{permiso:"NNN3YYcmuXdZYVSGCk0CJFjcx3ATnRQ5",icono:"fa-desktop",titulo:"Servidor local",url:"/panel-control/sync/local"},{permiso:"8DDwGNuZOZfoFfaDOsQvBBhVzmnlU4PA",icono:"fa-server",titulo:"Servidores",url:"/panel-control/sync/servidores"}]},{titulo:"Opciones avanzadas",modulos:[{permiso:"tFcVVgwywaPvfj4ZdOoCZfBpcTtZAST0",icono:"fa-wrench",titulo:"Actualizar sistema",url:"/panel-control/opciones-avanzadas/actualizar-sistema"},{permiso:"WcIjPIhPWGJbLyb4OiYe91sRKP7NGTAK",icono:"fa-database",titulo:"Base de datos",url:"/panel-control/opciones-avanzadas/base-datos"}]},{titulo:"Usuarios y privilegios",modulos:[{permiso:"mGKikN0aJaeF2XrHwwYK3XNw0f9CSZDe",icono:"fa-user",titulo:"Usuarios",url:"/panel-control/usuarios"},{permiso:"ICmOKw3HxhgRna4a78OP0QmKrIX0bNsp",icono:"fa-users",titulo:"Roles",url:"/panel-control/roles"},{permiso:"DYwQAxJbpHWw07zT09scEogUeFKFdGSu",icono:"fa-shield",titulo:"Permisos",url:"/panel-control/permisos"}]}],this.menuAutorizado=[{titulo:"Sincronizaci\xf3n con servidor principal",modulos:[{icono:"fa-server",titulo:"Estatus",url:"/panel-control/sync/estatus"}]}],e.length>0)for(var t in this.menu)for(var a in this.menu[t].modulos)e:for(var n in e)if(e[n]==this.menu[t].modulos[a].permiso){this.initMenuAutorizadoPorItem(this.menu[t].titulo).modulos.push(this.menu[t].modulos[a]);break e}},e.prototype.initMenuAutorizadoPorItem=function(e){for(var t in this.menuAutorizado)if(e==this.menuAutorizado[t].titulo)return this.menuAutorizado[t];return this.menuAutorizado.push({titulo:e,modulos:[]}),this.menuAutorizado[this.menuAutorizado.length-1]},e=na([Object(n.Component)({selector:"panel-control-menu-aside",template:a("pLyH"),styles:[a("LSt6")]}),ra("design:paramtypes",[])],e)}(),sa=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},oa=function(){function e(){}return e=sa([Object(n.NgModule)({imports:[o.CommonModule,h.c,ee,de,fe],declarations:[aa,ia],exports:[aa,ia]})],e)}(),la=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},ca=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},da=function(){function e(e,t){this.http=e,this.jwtRequest=t}return t=e,e.prototype.buscar=function(e,a,n){return void 0===a&&(a=1),void 0===n&&(n=20),this.jwtRequest.get(t.URL,null,{q:e,page:a,per_page:n}).map(function(e){return e.json().data})},e.prototype.lista=function(e,a){return void 0===e&&(e=1),void 0===a&&(a=20),this.jwtRequest.get(t.URL,null,{page:e,per_page:a}).map(function(e){return e.json().data})},e.prototype.ver=function(e){return this.jwtRequest.get(t.URL,e,{}).map(function(e){var t=e.json().data,a=[];t.roles.map(function(e){a.push(""+e.id)});var n=[];t.unidades_medicas.map(function(e){n.push(e.clues)});var r=[];t.almacenes.map(function(e){r.push(e.id)});var i=t;return i.roles=a,i.unidades_medicas_objs=i.unidades_medicas,i.unidades_medicas=n,i.almacenes=r,i})},e.prototype.crear=function(e){return this.jwtRequest.post(t.URL,e).map(function(e){return e.json().data})},e.prototype.editar=function(e,a){return this.jwtRequest.put(t.URL,e,a).map(function(e){return e.json().data})},e.prototype.eliminar=function(e){return this.jwtRequest.delete(t.URL,e).map(function(e){return e.json().data})},e.prototype.listaUnidadesMedicas=function(){return this.jwtRequest.get("unidades-medicas",null,null).map(function(e){return e.json().data})},e.prototype.listaMedicos=function(){var e=JSON.parse(localStorage.getItem("usuario"));return this.jwtRequest.get("personal-clues",null,{clues:e.clues_activa.clues}).map(function(e){return e.json().data})},e.URL="usuarios",e=t=la([Object(n.Injectable)(),ca("design:paramtypes",[c.Http,V])],e);var t}(),ua=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},pa=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ma=function(){function e(e,t){this.title=e,this.usuariosService=t,this.tamano=document.body.clientHeight,this.cargando=!1,this.mensajeError=new Ae,this.mensajeExito=new Ae,this.usuarios=[],this.paginaActual=1,this.resultadosPorPagina=25,this.total=0,this.paginasTotales=0,this.indicePaginas=[],this.ultimoTerminoBuscado="",this.terminosBusqueda=new x.Subject,this.resultadosBusqueda=[],this.busquedaActivada=!1,this.paginaActualBusqueda=1,this.resultadosPorPaginaBusqueda=25,this.totalBusqueda=0,this.paginasTotalesBusqueda=0,this.indicePaginasBusqueda=[]}return e.prototype.ngOnInit=function(){var e=this;this.title.setTitle("Usuarios / Panel de control"),this.listar(1),this.mensajeError=new Ae,this.mensajeExito=new Ae;var t=this,a=this.terminosBusqueda.debounceTime(300).distinctUntilChanged().switchMap(function(t){return console.log("Cargando b\xfasqueda."),e.busquedaActivada=""!=t,e.ultimoTerminoBuscado=t,e.paginaActualBusqueda=1,e.cargando=!0,t?e.usuariosService.buscar(t,e.paginaActualBusqueda,e.resultadosPorPaginaBusqueda):lt.Observable.of({data:[]})}).catch(function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=function(){t.listarBusqueda(t.ultimoTerminoBuscado,t.paginaActualBusqueda)};try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}return a});a.subscribe(function(t){e.cargando=!1,e.resultadosBusqueda=t.data,e.totalBusqueda=0|t.total,e.paginasTotalesBusqueda=Math.ceil(e.totalBusqueda/e.resultadosPorPaginaBusqueda),e.indicePaginasBusqueda=[];for(var a=0;a<e.paginasTotalesBusqueda;a++)e.indicePaginasBusqueda.push(a+1);console.log("B\xfasqueda cargada.")})},e.prototype.buscar=function(e){this.terminosBusqueda.next(e)},e.prototype.listarBusqueda=function(e,t){var a=this;this.paginaActualBusqueda=t,console.log("Cargando b\xfasqueda."),this.cargando=!0,this.usuariosService.buscar(e,t,this.resultadosPorPaginaBusqueda).subscribe(function(e){a.cargando=!1,a.resultadosBusqueda=e.data,a.totalBusqueda=0|e.total,a.paginasTotalesBusqueda=Math.ceil(a.totalBusqueda/a.resultadosPorPaginaBusqueda),a.indicePaginasBusqueda=[];for(var t=0;t<a.paginasTotalesBusqueda;t++)a.indicePaginasBusqueda.push(t+1);console.log("B\xfasqueda cargada.")},function(n){a.cargando=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=function(){this.listarBusqueda(e,t)};try{n.json();401==n.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(e){console.log("No se puede interpretar el error"),500==n.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.listar=function(e){var t=this;this.paginaActual=e,console.log("Cargando usuarios."),this.cargando=!0,this.usuariosService.lista(e,this.resultadosPorPagina).subscribe(function(e){t.cargando=!1,t.usuarios=e.data,t.total=0|e.total,t.paginasTotales=Math.ceil(t.total/t.resultadosPorPagina),t.indicePaginas=[];for(var a=0;a<t.paginasTotales;a++)t.indicePaginas.push(a+1);console.log("Usuarios cargados.")},function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=t.listar;try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.eliminar=function(e,t){var a=this;e.cargando=!0,this.usuariosService.eliminar(e.id).subscribe(function(n){e.cargando=!1,a.usuarios.splice(t,1),console.log("Se elimin\xf3 el elemento de la lista."),a.mensajeExito=new Ae(!0),a.mensajeExito.mostrar=!0,a.mensajeExito.texto="Usuario eliminado"},function(n){e.cargando=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=function(){this.eliminar(e,t)};try{n.json();401==n.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(e){console.log("No se puede interpretar el error"),500==n.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.paginaSiguiente=function(){this.listar(this.paginaActual+1)},e.prototype.paginaAnterior=function(){this.listar(this.paginaActual-1)},e.prototype.paginaSiguienteBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda+1)},e.prototype.paginaAnteriorBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda-1)},e=ua([Object(n.Component)({selector:"usuarios-lista",template:a("YBXS"),styles:[a("5bTO")]}),pa("design:paramtypes",[i.Title,da])],e)}(),ga=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},fa=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ha=function(){function e(e,t){this.http=e,this.jwtRequest=t}return t=e,e.prototype.lista=function(){return this.jwtRequest.get(t.URL).map(function(e){return e.json().data})},e.prototype.buscar=function(e,a,n){return void 0===a&&(a=1),void 0===n&&(n=20),this.jwtRequest.get(t.URL,null,{q:e,page:a,per_page:n}).map(function(e){return e.json().data})},e.prototype.listaPaginada=function(e,a){return void 0===e&&(e=1),void 0===a&&(a=20),this.jwtRequest.get(t.URL,null,{page:e,per_page:a}).map(function(e){return e.json().data})},e.prototype.ver=function(e){return this.jwtRequest.get(t.URL,e,{}).map(function(e){return e.json().data})},e.prototype.crear=function(e){return this.jwtRequest.post(t.URL,e).map(function(e){return e.json().data})},e.prototype.editar=function(e,a){return this.jwtRequest.put(t.URL,e,a).map(function(e){return e.json().data})},e.prototype.eliminar=function(e){return this.jwtRequest.delete(t.URL,e).map(function(e){return e.json().data})},e.URL="roles",e=t=ga([Object(n.Injectable)(),fa("design:paramtypes",[c.Http,V])],e);var t}(),va=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},ba=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ya=function(){function e(e,t,a,n,r,i,s){this.router=e,this.title=t,this.authService=a,this.location=n,this.rolesService=r,this.usuariosService=i,this.fb=s,this.usuarioRepetido=!1,this.usuarioInvalido=!1,this.respuestaRequerida=!1,this.cargando=!1,this.cargandoRoles=!1,this.cargandoMedicos=!1,this.cargandoUnidadesMedicas=!1,this.roles=[],this.unidadesMedicas=[],this.medicos=[],this.mensajeError=new Ae,this.mensajeAdvertencia=new Ae,this.mensajeExito=new Ae}return e.prototype.ngOnInit=function(){this.title.setTitle("Nuevo usuario / Panel de control"),this.cargarRoles(),this.cargarUnidadesMedicas(),this.cargarMedicos(),this.usuario=this.fb.group({nombre:["",[l.Validators.required]],apellidos:["",[l.Validators.required]],id:["",[l.Validators.required]],password:["",[l.Validators.required]],confirmarPassword:["",[l.Validators.required]],avatar:["avatar-circled-user-male"],roles:[[],[l.Validators.required]],unidades_medicas:[[]],almacenes:[[]],medico_id:["-1"],pregunta_secreta:[""],respuesta:[""]})},e.prototype.enviar=function(){var e=this;if(this.usuario.get("password").value!=this.usuario.get("confirmarPassword").value)return!1;this.cargando=!0,this.usuariosService.crear(this.usuario.value).subscribe(function(t){e.cargando=!1,console.log("Usuario creado."),e.location.back()},function(t){e.cargando=!1,e.mensajeError=new Ae(!0),e.mensajeError.texto="No especificado.",e.mensajeError.mostrar=!0;try{var a=t.json();if(401==t.status&&(e.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n."),409==t.status)for(var n in e.mensajeError.texto="Por favor verfique los campos marcados en rojo.",e.usuarioRepetido=!1,e.usuarioInvalido=!1,e.respuestaRequerida=!1,a.error)for(var r in a.error[n])"id"==n&&"unique"==a.error[n][r]&&(e.usuarioRepetido=!0),"id"==n&&"email"==a.error[n][r]&&(e.usuarioInvalido=!0),"respuesta"==n&&"required"==a.error[n][r]&&(console.log("deberia entrar"),e.respuestaRequerida=!0)}catch(a){500==t.status?e.mensajeError.texto="500 (Error interno del servidor)":e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.cargarUnidadesMedicas=function(){var e=this;this.cargandoUnidadesMedicas=!0,this.usuariosService.listaUnidadesMedicas().subscribe(function(t){e.unidadesMedicas=t,e.cargandoUnidadesMedicas=!1,console.log("Unidades M\xe9dicas cargadas")},function(t){e.cargandoUnidadesMedicas=!1})},e.prototype.cargarMedicos=function(){var e=this;this.cargandoMedicos=!0,this.usuariosService.listaMedicos().subscribe(function(t){e.medicos=t,e.cargandoMedicos=!1,console.log("M\xe9dicos cargados")},function(t){e.cargandoMedicos=!1})},e.prototype.cargarRoles=function(){var e=this;this.cargandoRoles=!0,this.rolesService.lista().subscribe(function(t){e.cargandoRoles=!1,e.roles=t,console.log("Roles cargados."),0==e.roles.length&&(e.mensajeAdvertencia=new Ae(!0),e.mensajeAdvertencia.texto="\n            No hay roles registrados en el sistema, p\xf3ngase en contacto con un administrador.",e.mensajeAdvertencia.mostrar=!0)},function(t){e.cargandoRoles=!1,e.mensajeError=new Ae(!0),e.mensajeError.texto="No especificado.",e.mensajeError.mostrar=!0;try{t.json();401==t.status&&(e.mensajeError.texto="No tiene permiso para ver los roles."),500==t.status&&(e.mensajeError.texto="500 (Error interno del servidor). No se pudieron cargar los roles")}catch(a){500==t.status?e.mensajeError.texto="500 (Error interno del servidor). No se pudieron cargar los roles":e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir.  No se pudieron cargar los roles"}})},e.prototype.regresar=function(){this.location.back()},e=va([Object(n.Component)({selector:"app-nuevo",template:a("x3bX"),styles:[a("8afZ")]}),ba("design:paramtypes",[h.b,i.Title,_,o.Location,ha,da,l.FormBuilder])],e)}(),_a=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},xa=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ia=function(){function e(e,t,a,n,r,i,s,o){this.router=e,this.title=t,this.authService=a,this.route=n,this.location=r,this.rolesService=i,this.usuariosService=s,this.fb=o,this.usuarioRepetido=!1,this.usuarioInvalido=!1,this.cambiarPassword=!1,this.respuestaRequerida=!1,this.cargando=!1,this.cargandoRoles=!1,this.cargandoMedicos=!1,this.cargandoUnidadesMedicas=!1,this.catalogosCargados=0,this.roles=[],this.unidadesMedicas=[],this.medicos=[],this.unidadesMedicasEdicion=[],this.mensajeError=new Ae,this.mensajeAdvertencia=new Ae,this.mensajeExito=new Ae}return e.prototype.ngOnInit=function(){var e=this;this.title.setTitle("Editar usuario / Panel de control"),this.usuario=this.fb.group({nombre:["",[l.Validators.required]],apellidos:["",[l.Validators.required]],id:["",[l.Validators.required]],cambiarPassword:[!1,[]],password:[{value:"",disabled:!0},[l.Validators.required]],confirmarPassword:[{value:"",disabled:!0},[l.Validators.required]],avatar:["avatar-circled-user-male"],roles:[[1],[l.Validators.required]],unidades_medicas:[[]],almacenes:[[]],medico_id:["-1"],pregunta_secreta:[""],respuesta:[""]}),this.route.params.subscribe(function(t){e.id=t.id}),this.cargarRoles(),this.cargarUnidadesMedicas(),this.cargarMedicos()},e.prototype.toggleCambiarPassword=function(){this.cambiarPassword=!this.cambiarPassword,this.cambiarPassword?(this.usuario.get("password").enable(),this.usuario.get("confirmarPassword").enable()):(this.usuario.get("password").disable(),this.usuario.get("confirmarPassword").disable())},e.prototype.enviar=function(){var e=this;if(this.usuario.get("password").value!=this.usuario.get("confirmarPassword").value)return!1;this.cargando=!0;var t=this.usuario.value;this.cambiarPassword||delete t.cambiarPassword,this.usuariosService.editar(this.id,this.usuario.value).subscribe(function(t){e.cargando=!1,console.log("Usuario editado."),e.respuestaRequerida=!1,e.mensajeExito=new Ae(!0),e.mensajeExito.texto="Se han guardado los cambios.",e.mensajeExito.mostrar=!0},function(t){e.cargando=!1,e.mensajeError=new Ae(!0),e.mensajeError.texto="No especificado.",e.mensajeError.mostrar=!0;try{var a=t.json();if(401==t.status&&(e.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n."),409==t.status)for(var n in e.mensajeError.texto="Por favor verfique los campos marcados en rojo.",e.usuarioRepetido=!1,e.usuarioInvalido=!1,e.respuestaRequerida=!1,a.error)for(var r in a.error[n])"id"==n&&"unique"==a.error[n][r]&&(e.usuarioRepetido=!0),"id"==n&&"email"==a.error[n][r]&&(e.usuarioInvalido=!0),"respuesta"==n&&"required"==a.error[n][r]&&(console.log("deberia entrar"),e.respuestaRequerida=!0)}catch(a){500==t.status?e.mensajeError.texto="500 (Error interno del servidor)":e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.cargarDatos=function(){var e=this;this.cargando=!0,console.log("Cargando usuario."),this.usuariosService.ver(this.id).subscribe(function(t){e.cargando=!1,e.datosCargados=!0,null==t.medico_id&&(t.medico_id="-1"),console.log(t.medico_id),e.usuario.patchValue(t),e.unidadesMedicasEdicion=t.unidades_medicas_objs,console.log("Usuario cargado.")},function(t){e.cargando=!1,e.mensajeError=new Ae(!0),e.mensajeError=new Ae(!0),e.mensajeError.mostrar;try{t.json();401==t.status&&(e.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){500==t.status?e.mensajeError.texto="500 (Error interno del servidor)":e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.cargarMedicos=function(){var e=this;this.cargandoMedicos=!0,this.usuariosService.listaMedicos().subscribe(function(t){e.medicos=t,e.cargandoMedicos=!1,console.log("M\xe9dicos cargados"),e.catalogosCargados++,e.catalogosCargados>1&&e.cargarDatos()},function(t){e.cargandoMedicos=!1})},e.prototype.cargarUnidadesMedicas=function(){var e=this;this.cargandoUnidadesMedicas=!0,this.usuariosService.listaUnidadesMedicas().subscribe(function(t){e.unidadesMedicas=t,e.cargandoUnidadesMedicas=!1,console.log("Unidades M\xe9dicas cargadas")},function(t){e.cargandoUnidadesMedicas=!1})},e.prototype.cargarRoles=function(){var e=this;this.cargandoRoles=!0,this.rolesService.lista().subscribe(function(t){e.cargandoRoles=!1,e.roles=t,console.log("Roles cargados."),0==e.roles.length&&(e.mensajeAdvertencia=new Ae(!0),e.mensajeAdvertencia.texto="\n            No hay roles registrados en el sistema, p\xf3ngase en contacto con un administrador.",e.mensajeAdvertencia.mostrar=!0),e.catalogosCargados++,e.catalogosCargados>1&&e.cargarDatos()},function(t){e.cargandoRoles=!1,e.mensajeError=new Ae(!0),e.mensajeError.texto="No especificado.",e.mensajeError.mostrar=!0,e.cargarDatos();try{t.json();401==t.status&&(e.mensajeError.texto="No tiene permiso para ver los roles."),500==t.status&&(e.mensajeError.texto="500 (Error interno del servidor). No se pudieron cargar los roles")}catch(a){console.log("No se puede interpretar el error"),500==t.status?e.mensajeError.texto="500 (Error interno del servidor). No se pudieron cargar los roles":e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir.  No se pudieron cargar los roles"}})},e.prototype.regresar=function(){this.location.back()},e=_a([Object(n.Component)({selector:"app-editar",template:a("tjBx"),styles:[a("nL84")]}),xa("design:paramtypes",[h.b,i.Title,_,h.a,o.Location,ha,da,l.FormBuilder])],e)}(),ja=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},ka=[{path:"panel-control/usuarios",children:[{path:"",component:ma,canActivate:[D],data:{key:"mGKikN0aJaeF2XrHwwYK3XNw0f9CSZDe"}},{path:"nuevo",component:ya,canActivate:[D],data:{key:"xJqy3csU5WyOX7pmXL7VBs680uTVGxU3"}},{path:"editar/:id",component:Ia,canActivate:[D],data:{key:"dlV1H4gX0nqEgHauHC8BRIlwl6SGUoUt"}}],canActivate:[M]}],Ca=function(){function e(){}return e=ja([Object(n.NgModule)({imports:[h.c.forChild(ka)],exports:[h.c],providers:[]})],e)}(),Ea=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Pa=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},qa=function(){function e(){this.onEnviar=new n.EventEmitter,this.onRegresar=new n.EventEmitter,this.onToggleCambiarPassword=new n.EventEmitter,this.onCargarRoles=new n.EventEmitter,this.onCargarMedicos=new n.EventEmitter,this.unidadesMedicasEdicion=null,this.tab=1,this.unidadesMedicasAgregadas=[],this.cluesAgregadas=[],this.unidadMedicaSeleccionada=null,this.idsAlmacenesSeleccionados=[]}return e.prototype.ngOnInit=function(){var e=this.usuario.get("unidades_medicas"),t=this.usuario.get("almacenes");if(console.log(this.usuario.get("medico_id")),this.cluesAgregadas=e.value,this.idsAlmacenesSeleccionados=t.value,null!=this.unidadesMedicasEdicion)for(var a in this.unidadesMedicasAgregadas=this.unidadesMedicasEdicion,this.unidadesMedicasAgregadas)for(var n in this.unidadesMedicasAgregadas[a].almacenes)for(var r in this.idsAlmacenesSeleccionados)if(this.idsAlmacenesSeleccionados[r]==this.unidadesMedicasAgregadas[a].almacenes[n].id){this.unidadesMedicasAgregadas[a].almacenes[n].seleccionado=!0;break}},e.prototype.enviar=function(){this.onEnviar.emit()},e.prototype.cargarRoles=function(){this.onCargarRoles.emit()},e.prototype.cargarMedicos=function(){this.onCargarMedicos.emit()},e.prototype.regresar=function(){this.onRegresar.emit()},e.prototype.toggleCambiarPassword=function(){this.onToggleCambiarPassword.emit()},e.prototype.agregarUnidadMedica=function(e){for(var t in this.unidadesMedicas)this.unidadesMedicas[t].clues==e&&(this.unidadesMedicasAgregadas.push(this.unidadesMedicas[t]),this.cluesAgregadas.push(e),this.usuario.controls.unidades_medicas.setValue(this.cluesAgregadas))},e.prototype.eliminarClues=function(e,t,a){e.preventDefault(),e.stopPropagation()},e.prototype.toggleAlmacen=function(e){for(var t=!1,a=0;a<this.idsAlmacenesSeleccionados.length;a++)if(this.idsAlmacenesSeleccionados[a]==e.id){this.idsAlmacenesSeleccionados.splice(a,1),e.seleccionado=!1,t=!0;break}t||(this.idsAlmacenesSeleccionados.push(e.id),e.seleccionado=!0),this.usuario.controls.almacenes.setValue(this.idsAlmacenesSeleccionados)},Ea([Object(n.Input)(),Pa("design:type",Array)],e.prototype,"roles",void 0),Ea([Object(n.Input)(),Pa("design:type",Array)],e.prototype,"unidadesMedicas",void 0),Ea([Object(n.Input)(),Pa("design:type",Array)],e.prototype,"medicos",void 0),Ea([Object(n.Input)(),Pa("design:type",l.FormGroup)],e.prototype,"usuario",void 0),Ea([Object(n.Input)(),Pa("design:type",Boolean)],e.prototype,"respuestaRequerida",void 0),Ea([Object(n.Input)(),Pa("design:type",Boolean)],e.prototype,"usuarioRepetido",void 0),Ea([Object(n.Input)(),Pa("design:type",Boolean)],e.prototype,"usuarioInvalido",void 0),Ea([Object(n.Input)(),Pa("design:type",Boolean)],e.prototype,"cargando",void 0),Ea([Object(n.Input)(),Pa("design:type",Boolean)],e.prototype,"cargandoRoles",void 0),Ea([Object(n.Input)(),Pa("design:type",Boolean)],e.prototype,"cargandoMedicos",void 0),Ea([Object(n.Input)(),Pa("design:type",Boolean)],e.prototype,"mostrarCambiarPassword",void 0),Ea([Object(n.Output)(),Pa("design:type",Object)],e.prototype,"onEnviar",void 0),Ea([Object(n.Output)(),Pa("design:type",Object)],e.prototype,"onRegresar",void 0),Ea([Object(n.Output)(),Pa("design:type",Object)],e.prototype,"onToggleCambiarPassword",void 0),Ea([Object(n.Output)(),Pa("design:type",Object)],e.prototype,"onCargarRoles",void 0),Ea([Object(n.Output)(),Pa("design:type",Object)],e.prototype,"onCargarMedicos",void 0),Ea([Object(n.Input)(),Pa("design:type",Object)],e.prototype,"unidadesMedicasEdicion",void 0),e=Ea([Object(n.Component)({selector:"panel-control-usuarios-form",template:a("fVqg"),styles:[a("Wf+u")]}),Pa("design:paramtypes",[])],e)}(),Aa=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},wa=function(){function e(){}return e=Aa([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,oa,Ca,qe],declarations:[ma,ya,Ia,qa],providers:[_,da,ha]})],e)}(),Sa=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Ra=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Oa=function(){function e(e,t){this.http=e,this.jwtRequest=t}return t=e,e.prototype.lista=function(){return this.jwtRequest.get(t.URL).map(function(e){return e.json().data})},e.prototype.listaPaginada=function(e){return void 0===e&&(e={page:1,per_page:20}),this.jwtRequest.get(t.URL,null,e).map(function(e){return e.json().data})},e.prototype.buscar=function(e){return void 0===e&&(e={q:"",page:1,per_page:20}),this.jwtRequest.get(t.URL,null,e).map(function(e){return e.json().data})},e.prototype.ver=function(e){return this.jwtRequest.get(t.URL,e,{}).map(function(e){return e.json().data})},e.prototype.crear=function(e){return this.jwtRequest.post(t.URL,e).map(function(e){return e.json().data})},e.prototype.editar=function(e,a){return this.jwtRequest.put(t.URL,e,a).map(function(e){return e.json().data})},e.prototype.eliminar=function(e){return this.jwtRequest.delete(t.URL,e).map(function(e){return e.json().data})},e.URL="permisos",e=t=Sa([Object(n.Injectable)(),Ra("design:paramtypes",[c.Http,V])],e);var t}(),Na=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Ma=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ba=function(){function e(e,t){this.title=e,this.apiService=t,this.tamano=document.body.clientHeight,this.cargando=!1,this.mensajeError=new Ae,this.mensajeExito=new Ae,this.lista=[],this.paginaActual=1,this.resultadosPorPagina=25,this.total=0,this.paginasTotales=0,this.indicePaginas=[],this.ultimoTerminoBuscado="",this.terminosBusqueda=new x.Subject,this.resultadosBusqueda=[],this.busquedaActivada=!1,this.paginaActualBusqueda=1,this.resultadosPorPaginaBusqueda=25,this.totalBusqueda=0,this.paginasTotalesBusqueda=0,this.indicePaginasBusqueda=[]}return e.prototype.ngOnInit=function(){var e=this;this.title.setTitle("Roles / Panel de control"),this.listar(1),this.mensajeError=new Ae,this.mensajeExito=new Ae;var t=this,a=this.terminosBusqueda.debounceTime(300).distinctUntilChanged().switchMap(function(t){return console.log("Cargando b\xfasqueda."),e.busquedaActivada=""!=t,e.ultimoTerminoBuscado=t,e.paginaActualBusqueda=1,e.cargando=!0,t?e.apiService.buscar(t,e.paginaActualBusqueda,e.resultadosPorPaginaBusqueda):lt.Observable.of({data:[]})}).catch(function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=function(){t.listarBusqueda(t.ultimoTerminoBuscado,t.paginaActualBusqueda)};try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}return a});a.subscribe(function(t){e.cargando=!1,e.resultadosBusqueda=t.data,e.totalBusqueda=0|t.total,e.paginasTotalesBusqueda=Math.ceil(e.totalBusqueda/e.resultadosPorPaginaBusqueda),e.indicePaginasBusqueda=[];for(var a=0;a<e.paginasTotalesBusqueda;a++)e.indicePaginasBusqueda.push(a+1);console.log("B\xfasqueda cargada.")})},e.prototype.buscar=function(e){this.terminosBusqueda.next(e)},e.prototype.listarBusqueda=function(e,t){var a=this;this.paginaActualBusqueda=t,console.log("Cargando b\xfasqueda."),this.cargando=!0,this.apiService.buscar(e,t,this.resultadosPorPaginaBusqueda).subscribe(function(e){a.cargando=!1,a.resultadosBusqueda=e.data,a.totalBusqueda=0|e.total,a.paginasTotalesBusqueda=Math.ceil(a.totalBusqueda/a.resultadosPorPaginaBusqueda),a.indicePaginasBusqueda=[];for(var t=0;t<a.paginasTotalesBusqueda;t++)a.indicePaginasBusqueda.push(t+1);console.log("B\xfasqueda cargada.")},function(n){a.cargando=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=function(){this.listarBusqueda(e,t)};try{n.json();401==n.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(e){console.log("No se puede interpretar el error"),500==n.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.listar=function(e){var t=this;this.paginaActual=e,console.log("Cargando items."),this.cargando=!0,this.apiService.listaPaginada(e,this.resultadosPorPagina).subscribe(function(e){t.cargando=!1,t.lista=e.data,t.total=0|e.total,t.paginasTotales=Math.ceil(t.total/t.resultadosPorPagina),t.indicePaginas=[];for(var a=0;a<t.paginasTotales;a++)t.indicePaginas.push(a+1);console.log("Items cargados.")},function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=t.listar;try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.eliminar=function(e,t){var a=this;e.cargando=!0,this.apiService.eliminar(e.id).subscribe(function(n){e.cargando=!1,a.lista.splice(t,1),console.log("Se elimin\xf3 el elemento de la lista."),a.mensajeExito=new Ae(!0),a.mensajeExito.mostrar=!0,a.mensajeExito.texto="item eliminado"},function(n){e.cargando=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=function(){this.eliminar(e,t)};try{n.json();401==n.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(e){console.log("No se puede interpretar el error"),500==n.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.paginaSiguiente=function(){this.listar(this.paginaActual+1)},e.prototype.paginaAnterior=function(){this.listar(this.paginaActual-1)},e.prototype.paginaSiguienteBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda+1)},e.prototype.paginaAnteriorBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda-1)},e=Na([Object(n.Component)({selector:"app-lista",template:a("ritK"),styles:[a("PbUY")]}),Ma("design:paramtypes",[i.Title,ha])],e)}(),Fa=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Da=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},La=function(){function e(e,t,a,n,r){this.title=e,this.router=t,this.route=a,this.apiService=n,this.permisosService=r,this.tamano=document.body.clientHeight,this.enviando=!1,this.cargando=!1,this.cargandoPermisos=!1,this.mensajeError=new Ae,this.mensajeExito=new Ae,this.errores={nombre:null,permisos:null},this.permisos=[],this.todosSeleccionados=!1,this.rol={nombre:"",es_offline:!1,permisos:[]}}return e.prototype.ngOnInit=function(){var e=this;this.title.setTitle("Nuevo rol / Panel de control"),this.mensajeError=new Ae,this.mensajeExito=new Ae,this.cargandoPermisos=!0,this.permisosService.lista().subscribe(function(t){e.permisos=t,e.cargandoPermisos=!1},function(t){console.log(t),e.cargandoPermisos=!1})},e.prototype.seleccionarTodos=function(){for(var e in this.todosSeleccionados=!this.todosSeleccionados,this.permisos)this.permisos[e].seleccionado=this.todosSeleccionados},e.prototype.guardar=function(){var e=this;for(var t in this.enviando=!0,this.errores={nombre:null,permisos:null},this.rol.permisos=[],this.permisos)this.permisos[t].seleccionado&&this.rol.permisos.push(this.permisos[t].id);this.apiService.crear(this.rol).subscribe(function(t){e.enviando=!1,e.router.navigate(["/panel-control/roles"])},function(t){try{var a=t.json();switch(e.mensajeError=new Ae(!0),t.status){case 401:e.mensajeError.texto="No tiee permiso para realizar esta acci\xf3n.";break;case 409:for(var n in e.mensajeError.texto="Verifique la informaci\xf3n marcada de color rojo",a.error)for(var r in a.error[n])e.errores[n]=a.error[n][r];break;case 500:e.mensajeError.texto="500 (Error interno del servidor)";break;default:e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}}catch(a){e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}e.mensajeError.mostrar=!0,e.enviando=!1})},e=Fa([Object(n.Component)({selector:"app-nuevo",template:a("0g/f"),styles:[a("TQow")]}),Da("design:paramtypes",[i.Title,h.b,h.a,ha,Oa])],e)}(),Ta=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},za=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ua=function(){function e(e,t,a,n,r){this.title=e,this.router=t,this.route=a,this.apiService=n,this.permisosService=r,this.tamano=document.body.clientHeight,this.id=null,this.cargando=!1,this.enviando=!1,this.cargandoPermisos=!1,this.mensajeError=new Ae,this.mensajeExito=new Ae,this.errores={nombre:null,permisos:null},this.permisos=[],this.todosSeleccionados=!1,this.rol={nombre:"",es_offline:!1,permisos:[]}}return e.prototype.ngOnInit=function(){var e=this;this.title.setTitle("Editar / Panel de control"),this.route.params.subscribe(function(t){e.id=+t.id}),this.mensajeError=new Ae,this.mensajeExito=new Ae,this.cargando=!0,this.apiService.ver(this.id).subscribe(function(t){e.rol.nombre=t.nombre,e.rol.es_offline=t.es_offline,e.cargarPermisos(t.permisos),e.cargando=!1},function(t){console.log(t),e.cargando=!1})},e.prototype.cargarPermisos=function(e){var t=this;void 0===e&&(e=[]),this.cargandoPermisos=!0,this.permisosService.lista().subscribe(function(a){for(var n in t.permisos=a,t.permisos)e:for(var r in e)if(e[r].id==t.permisos[n].id){t.permisos[n].seleccionado=!0;break e}t.cargandoPermisos=!1},function(e){console.log(e),t.cargandoPermisos=!1})},e.prototype.seleccionarTodos=function(){for(var e in this.todosSeleccionados=!this.todosSeleccionados,this.permisos)this.permisos[e].seleccionado=this.todosSeleccionados},e.prototype.guardar=function(){var e=this;for(var t in this.enviando=!0,this.errores={nombre:null,permisos:null},this.rol.permisos=[],this.permisos)this.permisos[t].seleccionado&&this.rol.permisos.push(this.permisos[t].id);this.apiService.editar(this.id,this.rol).subscribe(function(t){e.enviando=!1,e.mensajeExito=new Ae(!0),e.mensajeExito.texto="Se han guardado los cambios.",e.mensajeExito.mostrar=!0},function(t){try{var a=t.json();switch(e.mensajeError=new Ae(!0),t.status){case 401:e.mensajeError.texto="No tiee permiso para realizar esta acci\xf3n.";break;case 409:for(var n in e.mensajeError.texto="Verifique la informaci\xf3n marcada de color rojo",a.error)for(var r in a.error[n])e.errores[n]=a.error[n][r];break;case 500:e.mensajeError.texto="500 (Error interno del servidor)";break;default:e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}}catch(a){e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}e.mensajeError.mostrar=!0,e.enviando=!1})},e=Ta([Object(n.Component)({selector:"app-editar",template:a("UduK"),styles:[a("XGOn")]}),za("design:paramtypes",[i.Title,h.b,h.a,ha,Oa])],e)}(),Va=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Ga=[{path:"panel-control",redirectTo:"/panel-control/roles",pathMatch:"full"},{path:"panel-control/roles",children:[{path:"",component:Ba,canActivate:[D],data:{key:"ICmOKw3HxhgRna4a78OP0QmKrIX0bNsp"}},{path:"nuevo",component:La,canActivate:[D],data:{key:"hA2wLCnNDQ5Z1OtvdW8lgX5D6wkM6zBE"}},{path:"editar/:id",component:Ua,canActivate:[D],data:{key:"9Z9XwxmNbrISFyF5sJkU3HyGUssSPfU5"}}],canActivate:[M]}],Ya=function(){function e(){}return e=Va([Object(n.NgModule)({imports:[h.c.forChild(Ga)],exports:[h.c],providers:[]})],e)}(),Ha=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Ja=function(){function e(){}return e=Ha([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,oa,qe,Ya],declarations:[Ba,La,Ua],providers:[ha,Oa]})],e)}(),$a=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Ka=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Xa=function(){function e(e,t){this.title=e,this.apiService=t,this.cargando=!1,this.mensajeError=new Ae,this.mensajeExito=new Ae,this.lista=[],this.paginaActual=1,this.resultadosPorPagina=25,this.total=0,this.paginasTotales=0,this.indicePaginas=[],this.ultimoTerminoBuscado="",this.terminosBusqueda=new x.Subject,this.resultadosBusqueda=[],this.busquedaActivada=!1,this.paginaActualBusqueda=1,this.resultadosPorPaginaBusqueda=25,this.totalBusqueda=0,this.paginasTotalesBusqueda=0,this.indicePaginasBusqueda=[]}return e.prototype.ngOnInit=function(){var e=this;this.title.setTitle("Permisos / Panel de control"),this.listar(1),this.mensajeError=new Ae,this.mensajeExito=new Ae;var t=this,a=this.terminosBusqueda.debounceTime(300).distinctUntilChanged().switchMap(function(t){console.log("Cargando b\xfasqueda."),e.busquedaActivada=""!=t,e.ultimoTerminoBuscado=t,e.paginaActualBusqueda=1,e.cargando=!0;var a={q:t,page:e.paginaActualBusqueda,per_page:e.resultadosPorPaginaBusqueda,estatus:!0};return t?e.apiService.buscar(a):lt.Observable.of({data:[]})}).catch(function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=function(){t.listarBusqueda(t.ultimoTerminoBuscado,t.paginaActualBusqueda)};try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}return a});a.subscribe(function(t){e.cargando=!1,e.resultadosBusqueda=t.data,e.totalBusqueda=0|t.total,e.paginasTotalesBusqueda=Math.ceil(e.totalBusqueda/e.resultadosPorPaginaBusqueda),e.indicePaginasBusqueda=[];for(var a=0;a<e.paginasTotalesBusqueda;a++)e.indicePaginasBusqueda.push(a+1);console.log("B\xfasqueda cargada.")})},e.prototype.buscar=function(e){this.terminosBusqueda.next(e)},e.prototype.listarBusqueda=function(e,t){var a=this;this.paginaActualBusqueda=t,console.log("Cargando b\xfasqueda."),this.cargando=!0;var n={q:e,page:this.paginaActualBusqueda,per_page:this.resultadosPorPaginaBusqueda,estatus:!0};this.apiService.buscar(n).subscribe(function(e){a.cargando=!1,a.resultadosBusqueda=e.data,a.totalBusqueda=0|e.total,a.paginasTotalesBusqueda=Math.ceil(a.totalBusqueda/a.resultadosPorPaginaBusqueda),a.indicePaginasBusqueda=[];for(var t=0;t<a.paginasTotalesBusqueda;t++)a.indicePaginasBusqueda.push(t+1);console.log("B\xfasqueda cargada.")},function(n){a.cargando=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=function(){this.listarBusqueda(e,t)};try{n.json();401==n.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(e){console.log("No se puede interpretar el error"),500==n.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.listar=function(e){var t=this;this.paginaActual=e,console.log("Cargando items."),this.cargando=!0;var a={page:e,per_page:this.resultadosPorPagina};this.apiService.listaPaginada(a).subscribe(function(e){t.cargando=!1,t.lista=e.data,t.total=0|e.total,t.paginasTotales=Math.ceil(t.total/t.resultadosPorPagina),t.indicePaginas=[];for(var a=0;a<t.paginasTotales;a++)t.indicePaginas.push(a+1);console.log("Items cargados.")},function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=t.listar;try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.eliminar=function(e,t){var a=this;e.cargando=!0,this.apiService.eliminar(e.id).subscribe(function(n){e.cargando=!1,a.lista.splice(t,1),console.log("Se elimin\xf3 el elemento de la lista."),a.mensajeExito=new Ae(!0),a.mensajeExito.mostrar=!0,a.mensajeExito.texto="item eliminado"},function(n){e.cargando=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=function(){this.eliminar(e,t)};try{n.json();401==n.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(e){console.log("No se puede interpretar el error"),500==n.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.paginaSiguiente=function(){this.listar(this.paginaActual+1)},e.prototype.paginaAnterior=function(){this.listar(this.paginaActual-1)},e.prototype.paginaSiguienteBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda+1)},e.prototype.paginaAnteriorBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda-1)},e=$a([Object(n.Component)({selector:"app-permisos",template:a("O/TU"),styles:[a("Mr5J")]}),Ka("design:paramtypes",[i.Title,Oa])],e)}(),Za=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Qa=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Wa=function(){function e(e,t,a,n){this.title=e,this.router=t,this.route=a,this.apiService=n,this.enviando=!1,this.cargando=!1,this.mensajeError=new Ae,this.mensajeExito=new Ae,this.errores={id:null,nombre:null,secret_key:null,tiene_internet:null,version:null,periodo_sincronizacion:null,ip:null,clues:null},this.permiso={id:"",nombre:"",secret_key:"",tiene_internet:!1,version:"",ip:null,periodo_sincronizacion:null,clues:null,principal:!1}}return e.prototype.ngOnInit=function(){this.title.setTitle("Nuevo permiso / Panel de control"),this.mensajeError=new Ae,this.mensajeExito=new Ae},e.prototype.guardar=function(){var e=this;this.enviando=!0,this.errores={id:null,nombre:null,secret_key:null,tiene_internet:null,version:null,periodo_sincronizacion:null,ip:null,clues:null},this.apiService.crear(this.permiso).subscribe(function(t){e.enviando=!1,e.router.navigate(["/panel-control/permisos"])},function(t){try{var a=t.json();switch(e.mensajeError=new Ae(!0),t.status){case 401:e.mensajeError.texto="No tiene permiso para realizar esta acci\xf3n.";break;case 409:for(var n in e.mensajeError.texto="Verifique la informaci\xf3n marcada de color rojo",a.error)for(var r in a.error[n])e.errores[n]=a.error[n][r];break;case 500:e.mensajeError.texto="500 (Error interno del servidor)";break;default:e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}}catch(a){e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}e.mensajeError.mostrar=!0,e.enviando=!1})},e=Za([Object(n.Component)({selector:"app-nuevo",template:a("BnFd"),styles:[a("2OUX")]}),Qa("design:paramtypes",[i.Title,h.b,h.a,Oa])],e)}(),en=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},tn=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},an=function(){function e(e,t,a,n){this.title=e,this.router=t,this.route=a,this.apiService=n,this.id=null,this.enviando=!1,this.cargando=!1,this.mensajeError=new Ae,this.mensajeExito=new Ae,this.errores={descripcion:null,grupo:null,su:null},this.permiso={id:null,descripcion:"",grupo:"",su:!1}}return e.prototype.ngOnInit=function(){var e=this;this.title.setTitle("Editar permiso / Panel de control"),this.mensajeError=new Ae,this.mensajeExito=new Ae,this.route.params.subscribe(function(t){e.id=t.id}),this.cargando=!0,this.apiService.ver(this.id).subscribe(function(t){e.permiso.grupo=t.grupo,e.permiso.descripcion=t.descripcion,e.permiso.id=t.id,e.permiso.su=t.su,e.cargando=!1},function(t){console.log(t),e.cargando=!1})},e.prototype.guardar=function(){var e=this;this.enviando=!0,this.errores={descripcion:null,grupo:null,su:null},this.apiService.editar(this.id,this.permiso).subscribe(function(t){e.enviando=!1},function(t){try{var a=t.json();switch(e.mensajeError=new Ae(!0),t.status){case 401:e.mensajeError.texto="No tiene permiso para realizar esta acci\xf3n.";break;case 409:for(var n in e.mensajeError.texto="Verifique la informaci\xf3n marcada de color rojo",a.error)for(var r in a.error[n])e.errores[n]=a.error[n][r];break;case 500:e.mensajeError.texto="500 (Error interno del servidor)";break;default:e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}}catch(a){e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}e.mensajeError.mostrar=!0,e.enviando=!1})},e=en([Object(n.Component)({selector:"app-editar",template:a("pdX2"),styles:[a("fTN7")]}),tn("design:paramtypes",[i.Title,h.b,h.a,Oa])],e)}(),nn=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},rn=[{path:"panel-control",redirectTo:"/panel-control/sync/estatus",pathMatch:"full"},{path:"panel-control/permisos",children:[{path:"",component:Xa,canActivate:[D],data:{key:"DYwQAxJbpHWw07zT09scEogUeFKFdGSu"}},{path:"nuevo",component:Wa,canActivate:[D],data:{key:"dsvilCCjRtFJ9QXuunzbR1CYLKJQ5MYA"}},{path:"editar/:id",component:an,canActivate:[D],data:{key:"l4SBZlAj2SYrdFi747wo8yuvJ0sAE0U9"}}],canActivate:[M]}],sn=function(){function e(){}return e=nn([Object(n.NgModule)({imports:[h.c.forChild(rn)],exports:[h.c],providers:[Oa]})],e)}(),on=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},ln=function(){function e(){}return e=on([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,oa,qe,sn],declarations:[Xa,Wa,an],providers:[Oa]})],e)}(),cn=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},dn=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},un=function(){function e(e,t){this.http=e,this.jwtRequest=t}return t=e,e.prototype.servidores=function(e){return void 0===e&&(e={page:1,per_page:20}),this.jwtRequest.get(t.URL+"/servidores",null,e).map(function(e){return e.json().data})},e.prototype.buscarServidores=function(e){return void 0===e&&(e={q:"",page:1,per_page:20}),this.jwtRequest.get(t.URL+"/servidores",null,e).map(function(e){return e.json().data})},e.prototype.verServidor=function(e){return this.jwtRequest.get(t.URL+"/servidores",e,{}).map(function(e){return e.json().data})},e.prototype.crearServidor=function(e){return this.jwtRequest.post(t.URL+"/servidores",e).map(function(e){return e.json().data})},e.prototype.editarServidor=function(e,a){return this.jwtRequest.put(t.URL+"/servidores",e,a).map(function(e){return e.json().data})},e.prototype.eliminarServidor=function(e){return this.jwtRequest.delete(t.URL+"/servidores",e).map(function(e){return e.json().data})},e.prototype.buscar=function(e,a,n){return void 0===a&&(a=1),void 0===n&&(n=20),this.jwtRequest.get(t.URL+"/lista",null,{q:e,page:a,per_page:n}).map(function(e){return e.json().data})},e.prototype.listaPaginada=function(e,a){return void 0===e&&(e=1),void 0===a&&(a=20),this.jwtRequest.get(t.URL+"/lista",null,{page:e,per_page:a}).map(function(e){return e.json().data})},e.prototype.auto=function(){return this.jwtRequest.get(t.URL+"/auto",null,{}).map(function(e){return e.json().data})},e.prototype.unidadesMedicas=function(e){return void 0===e&&(e={}),this.jwtRequest.get("unidades-medicas",null,e).map(function(e){return e.json().data})},e.URL="sync",e=t=cn([Object(n.Injectable)(),dn("design:paramtypes",[c.Http,V])],e);var t}(),pn=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},mn=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},gn=function(){function e(e,t){this.title=e,this.apiService=t,this.cargando=!1,this.mensajeError=new Ae,this.mensajeExito=new Ae,this.lista=[],this.paginaActual=1,this.resultadosPorPagina=25,this.total=0,this.paginasTotales=0,this.indicePaginas=[],this.ultimoTerminoBuscado="",this.terminosBusqueda=new x.Subject,this.resultadosBusqueda=[],this.busquedaActivada=!1,this.paginaActualBusqueda=1,this.resultadosPorPaginaBusqueda=25,this.totalBusqueda=0,this.paginasTotalesBusqueda=0,this.indicePaginasBusqueda=[]}return e.prototype.ngOnInit=function(){var e=this;this.title.setTitle("Estatus del servidor / Panel de control"),this.listar(1),this.mensajeError=new Ae,this.mensajeExito=new Ae;var t=this,a=this.terminosBusqueda.debounceTime(300).distinctUntilChanged().switchMap(function(t){console.log("Cargando b\xfasqueda."),e.busquedaActivada=""!=t,e.ultimoTerminoBuscado=t,e.paginaActualBusqueda=1,e.cargando=!0;var a={q:t,page:e.paginaActualBusqueda,per_page:e.resultadosPorPaginaBusqueda,estatus:!0};return t?e.apiService.buscarServidores(a):lt.Observable.of({data:[]})}).catch(function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=function(){t.listarBusqueda(t.ultimoTerminoBuscado,t.paginaActualBusqueda)};try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}return a});a.subscribe(function(t){e.cargando=!1,e.resultadosBusqueda=t.data,e.totalBusqueda=0|t.total,e.paginasTotalesBusqueda=Math.ceil(e.totalBusqueda/e.resultadosPorPaginaBusqueda),e.indicePaginasBusqueda=[];for(var a=0;a<e.paginasTotalesBusqueda;a++)e.indicePaginasBusqueda.push(a+1);console.log("B\xfasqueda cargada.")})},e.prototype.buscar=function(e){this.terminosBusqueda.next(e)},e.prototype.listarBusqueda=function(e,t){var a=this;this.paginaActualBusqueda=t,console.log("Cargando b\xfasqueda."),this.cargando=!0;var n={q:e,page:this.paginaActualBusqueda,per_page:this.resultadosPorPaginaBusqueda,estatus:!0};this.apiService.buscarServidores(n).subscribe(function(e){a.cargando=!1,a.resultadosBusqueda=e.data,a.totalBusqueda=0|e.total,a.paginasTotalesBusqueda=Math.ceil(a.totalBusqueda/a.resultadosPorPaginaBusqueda),a.indicePaginasBusqueda=[];for(var t=0;t<a.paginasTotalesBusqueda;t++)a.indicePaginasBusqueda.push(t+1);console.log("B\xfasqueda cargada.")},function(n){a.cargando=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=function(){this.listarBusqueda(e,t)};try{n.json();401==n.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(e){console.log("No se puede interpretar el error"),500==n.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.listar=function(e){var t=this;this.paginaActual=e,console.log("Cargando items."),this.cargando=!0;var a={page:e,per_page:this.resultadosPorPagina,estatus:!0};this.apiService.servidores(a).subscribe(function(e){t.cargando=!1,t.lista=e.data,t.total=0|e.total,t.paginasTotales=Math.ceil(t.total/t.resultadosPorPagina),t.indicePaginas=[];for(var a=0;a<t.paginasTotales;a++)t.indicePaginas.push(a+1);console.log("Items cargados.")},function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=t.listar;try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.paginaSiguiente=function(){this.listar(this.paginaActual+1)},e.prototype.paginaAnterior=function(){this.listar(this.paginaActual-1)},e.prototype.paginaSiguienteBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda+1)},e.prototype.paginaAnteriorBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda-1)},e=pn([Object(n.Component)({selector:"app-estatus",template:a("stKu"),styles:[a("YyKe")]}),mn("design:paramtypes",[i.Title,un])],e)}(),fn=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},hn=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},vn=function(){function e(e,t){this.apiService=e,this.http=t,this.mensajeError=new Ae,this.mensajeExito=new Ae,this.lista=[],this.paginaActual=1,this.resultadosPorPagina=10,this.total=0,this.paginasTotales=0,this.indicePaginas=[],this.ultimoTerminoBuscado="",this.terminosBusqueda=new x.Subject,this.resultadosBusqueda=[],this.busquedaActivada=!1,this.paginaActualBusqueda=1,this.resultadosPorPaginaBusqueda=10,this.totalBusqueda=0,this.paginasTotalesBusqueda=0,this.indicePaginasBusqueda=[],this.errores={archivo:null},this.mostrarModalSubirArchivoSync=!1,this.mensajeErrorSync="",this.archivo=null,this.archivoSubido=!1,this.enviandoDatos=!1,this.progreso=0,this.cargando=!1,this.sincronizandoEnLinea=!1,this.subiendoConfirmacion=!1,this.mostrarLogAutoSync=!1}return e.prototype.ngOnInit=function(){var e=this;this.listar(1),this.mensajeError=new Ae,this.mensajeExito=new Ae;var t=this,a=this.terminosBusqueda.debounceTime(300).distinctUntilChanged().switchMap(function(t){return console.log("Cargando b\xfasqueda."),e.busquedaActivada=""!=t,e.ultimoTerminoBuscado=t,e.paginaActualBusqueda=1,e.cargando=!0,t?e.apiService.buscar(t,e.paginaActualBusqueda,e.resultadosPorPaginaBusqueda):lt.Observable.of({data:[]})}).catch(function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=function(){t.listarBusqueda(t.ultimoTerminoBuscado,t.paginaActualBusqueda)};try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}return a});a.subscribe(function(t){e.cargando=!1,e.resultadosBusqueda=t.data,e.totalBusqueda=0|t.total,e.paginasTotalesBusqueda=Math.ceil(e.totalBusqueda/e.resultadosPorPaginaBusqueda),e.indicePaginasBusqueda=[];for(var a=0;a<e.paginasTotalesBusqueda;a++)e.indicePaginasBusqueda.push(a+1);console.log("B\xfasqueda cargada.")})},e.prototype.buscar=function(e){this.terminosBusqueda.next(e)},e.prototype.listarBusqueda=function(e,t){var a=this;this.paginaActualBusqueda=t,console.log("Cargando b\xfasqueda."),this.cargando=!0,this.apiService.buscar(e,t,this.resultadosPorPaginaBusqueda).subscribe(function(e){a.cargando=!1,a.resultadosBusqueda=e.data,a.totalBusqueda=0|e.total,a.paginasTotalesBusqueda=Math.ceil(a.totalBusqueda/a.resultadosPorPaginaBusqueda),a.indicePaginasBusqueda=[];for(var t=0;t<a.paginasTotalesBusqueda;t++)a.indicePaginasBusqueda.push(t+1);console.log("B\xfasqueda cargada.")},function(n){a.cargando=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=function(){this.listarBusqueda(e,t)};try{n.json();401==n.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(e){console.log("No se puede interpretar el error"),500==n.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.listar=function(e){var t=this;this.paginaActual=e,console.log("Cargando items."),this.cargando=!0,this.apiService.listaPaginada(e,this.resultadosPorPagina).subscribe(function(e){t.cargando=!1,t.lista=e.data,t.total=0|e.total,t.paginasTotales=Math.ceil(t.total/t.resultadosPorPagina),t.indicePaginas=[];for(var a=0;a<t.paginasTotales;a++)t.indicePaginas.push(a+1);console.log("Items cargados.")},function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=t.listar;try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.paginaSiguiente=function(){this.listar(this.paginaActual+1)},e.prototype.paginaAnterior=function(){this.listar(this.paginaActual-1)},e.prototype.paginaSiguienteBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda+1)},e.prototype.paginaAnteriorBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda-1)},e.prototype.descargarSync=function(){var e="token="+localStorage.getItem("token");window.open(v.API_URL+"/sync/manual/?"+e)},e.prototype.fileChange=function(e){var t=e.target.files;t.length>0&&(this.archivo=t[0])},e.prototype.reset=function(){this.errores={archivo:null},this.mensajeErrorSync="",this.archivoSubido=!1,this.archivo=null},e.prototype.adjuntar=function(){var e=this;if(this.archivo){this.errores={archivo:null},this.mensajeErrorSync="",this.archivoSubido=!1,this.enviandoDatos=!0;var t=new FormData;t.append("sync",this.archivo,this.archivo.name);var a=new c.Headers;a.delete("Content-Type"),a.append("Authorization","Bearer "+localStorage.getItem("token"));var n=new c.RequestOptions({headers:a});this.http.post(v.API_URL+"/sync/confirmar",t,n).subscribe(function(t){e.archivoSubido=!0,e.listar(1),e.mostrarModalSubirArchivoSync=!1,e.progreso=100,e.enviandoDatos=!1,e.archivo=null},function(t){console.log(t),409==t.status?e.mensajeErrorSync="No se pudo subir el archivo, verifica que el archivo que tratas de subir sea correcto, que el nombre no haya sido modificado. Verifica que el archivo que intentas subir ya ha sido sincronizado previamente.":401==t.status?e.mensajeErrorSync="El archivo que intentas subir ya ha sido sincronizado previamente":e.mensajeErrorSync="Hubo un problema al sincronizar, prueba recargar el sitio de lo contrario llama a soporte t\xe9cnico.",e.progreso=100,e.enviandoDatos=!1})}},e.prototype.sincronizarEnLinea=function(){var e=this;confirm("\xbfEst\xe1s seguro que quieres sincronizar con el servidor central?")&&(this.sincronizandoEnLinea=!0,this.logAutoSync="",this.apiService.auto().subscribe(function(t){e.sincronizandoEnLinea=!1,e.listar(1),e.logAutoSync=t,e.mostrarLogAutoSync=!0,console.log(t)},function(t){e.sincronizandoEnLinea=!1;try{var a=t.json();e.logAutoSync=a.data,e.mostrarLogAutoSync=!0,401==t.status?e.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.":500==t.status?e.mensajeError.texto="500 (Error interno del servidor)":e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}catch(a){console.log("No se puede interpretar el error"),500==t.status?e.mensajeError.texto="500 (Error interno del servidor)":e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}e.mensajeError.mostrar=!0}))},e=fn([Object(n.Component)({selector:"app-local",template:a("qVFN"),styles:[a("LBt1")],providers:[un]}),hn("design:paramtypes",[un,c.Http])],e)}(),bn=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},yn=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},_n=function(){function e(e,t){this.apiService=e,this.http=t,this.mensajeError=new Ae,this.mensajeExito=new Ae,this.lista=[],this.paginaActual=1,this.resultadosPorPagina=10,this.total=0,this.paginasTotales=0,this.indicePaginas=[],this.ultimoTerminoBuscado="",this.terminosBusqueda=new x.Subject,this.resultadosBusqueda=[],this.busquedaActivada=!1,this.paginaActualBusqueda=1,this.resultadosPorPaginaBusqueda=10,this.totalBusqueda=0,this.paginasTotalesBusqueda=0,this.indicePaginasBusqueda=[],this.errores={archivo:null},this.mostrarModalSubirArchivoSync=!1,this.mensajeErrorSync="",this.archivo=null,this.archivoSubido=!1,this.enviandoDatos=!1,this.progreso=0,this.cargando=!1}return e.prototype.ngOnInit=function(){var e=this;this.listar(1),this.mensajeError=new Ae,this.mensajeExito=new Ae;var t=this,a=this.terminosBusqueda.debounceTime(300).distinctUntilChanged().switchMap(function(t){return console.log("Cargando b\xfasqueda."),e.busquedaActivada=""!=t,e.ultimoTerminoBuscado=t,e.paginaActualBusqueda=1,e.cargando=!0,t?e.apiService.buscar(t,e.paginaActualBusqueda,e.resultadosPorPaginaBusqueda):lt.Observable.of({data:[]})}).catch(function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=function(){t.listarBusqueda(t.ultimoTerminoBuscado,t.paginaActualBusqueda)};try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}return a});a.subscribe(function(t){e.cargando=!1,e.resultadosBusqueda=t.data,e.totalBusqueda=0|t.total,e.paginasTotalesBusqueda=Math.ceil(e.totalBusqueda/e.resultadosPorPaginaBusqueda),e.indicePaginasBusqueda=[];for(var a=0;a<e.paginasTotalesBusqueda;a++)e.indicePaginasBusqueda.push(a+1);console.log("B\xfasqueda cargada.")})},e.prototype.buscar=function(e){this.terminosBusqueda.next(e)},e.prototype.listarBusqueda=function(e,t){var a=this;this.paginaActualBusqueda=t,console.log("Cargando b\xfasqueda."),this.cargando=!0,this.apiService.buscar(e,t,this.resultadosPorPaginaBusqueda).subscribe(function(e){a.cargando=!1,a.resultadosBusqueda=e.data,a.totalBusqueda=0|e.total,a.paginasTotalesBusqueda=Math.ceil(a.totalBusqueda/a.resultadosPorPaginaBusqueda),a.indicePaginasBusqueda=[];for(var t=0;t<a.paginasTotalesBusqueda;t++)a.indicePaginasBusqueda.push(t+1);console.log("B\xfasqueda cargada.")},function(n){a.cargando=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=function(){this.listarBusqueda(e,t)};try{n.json();401==n.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(e){console.log("No se puede interpretar el error"),500==n.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.listar=function(e){var t=this;this.paginaActual=e,console.log("Cargando items."),this.cargando=!0,this.apiService.listaPaginada(e,this.resultadosPorPagina).subscribe(function(e){t.cargando=!1,t.lista=e.data,t.total=0|e.total,t.paginasTotales=Math.ceil(t.total/t.resultadosPorPagina),t.indicePaginas=[];for(var a=0;a<t.paginasTotales;a++)t.indicePaginas.push(a+1);console.log("Items cargados.")},function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=t.listar;try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.paginaSiguiente=function(){this.listar(this.paginaActual+1)},e.prototype.paginaAnterior=function(){this.listar(this.paginaActual-1)},e.prototype.paginaSiguienteBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda+1)},e.prototype.paginaAnteriorBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda-1)},e.prototype.fileChange=function(e){var t=e.target.files;t.length>0&&(this.archivo=t[0])},e.prototype.reset=function(){this.errores={archivo:null},this.mensajeErrorSync="",this.archivoSubido=!1,this.archivo=null},e.prototype.adjuntar=function(){var e=this;if(this.archivo){this.errores={archivo:null},this.mensajeErrorSync="",this.archivoSubido=!1,this.enviandoDatos=!0;var t=new FormData;t.append("sync",this.archivo,this.archivo.name);var a=new c.Headers;a.delete("Content-Type"),a.append("Authorization","Bearer "+localStorage.getItem("token"));var n,r=new c.RequestOptions({headers:a,responseType:c.ResponseContentType.Blob});this.http.post(v.API_URL+"/sync/importar",t,r).map(function(e){return n=e.headers.get("content-disposition"),e.blob()}).catch(function(e){return lt.Observable.throw(e)}).subscribe(function(t){var a,r=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/.exec(n);null!=r&&r[1]&&(a=r[1].replace(/['"]/g,"")),ft.saveAs(t,a),e.archivoSubido=!0,e.enviandoDatos=!1,e.progreso=100},function(t){console.log(t),409==t.status?e.mensajeErrorSync="No se pudo subir el archivo, verifica que el archivo que tratas de subir sea correcto, que el nombre no haya sido modificado. Verifica que el archivo que intentas subir ya ha sido sincronizado previamente.":401==t.status?e.mensajeErrorSync="El archivo que intentas subir ya ha sido sincronizado previamente":e.mensajeErrorSync="Hubo un problema al sincronizar, prueba recargar el sitio de lo contrario llama a soporte t\xe9cnico.",e.progreso=100,e.enviandoDatos=!1})}},e=bn([Object(n.Component)({selector:"app-central",template:a("9LEW"),styles:[a("AWv4")],providers:[un]}),yn("design:paramtypes",[un,c.Http])],e)}(),xn=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},In=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},jn=function(){function e(e,t){this.title=e,this.apiService=t,this.cargando=!1,this.mensajeError=new Ae,this.mensajeExito=new Ae,this.lista=[],this.paginaActual=1,this.resultadosPorPagina=25,this.total=0,this.paginasTotales=0,this.indicePaginas=[],this.ultimoTerminoBuscado="",this.terminosBusqueda=new x.Subject,this.resultadosBusqueda=[],this.busquedaActivada=!1,this.paginaActualBusqueda=1,this.resultadosPorPaginaBusqueda=25,this.totalBusqueda=0,this.paginasTotalesBusqueda=0,this.indicePaginasBusqueda=[]}return e.prototype.ngOnInit=function(){var e=this;this.title.setTitle("Servidores / Panel de control"),this.listar(1),this.mensajeError=new Ae,this.mensajeExito=new Ae;var t=this,a=this.terminosBusqueda.debounceTime(300).distinctUntilChanged().switchMap(function(t){console.log("Cargando b\xfasqueda."),e.busquedaActivada=""!=t,e.ultimoTerminoBuscado=t,e.paginaActualBusqueda=1,e.cargando=!0;var a={q:t,page:e.paginaActualBusqueda,per_page:e.resultadosPorPaginaBusqueda,estatus:!0};return t?e.apiService.buscarServidores(a):lt.Observable.of({data:[]})}).catch(function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=function(){t.listarBusqueda(t.ultimoTerminoBuscado,t.paginaActualBusqueda)};try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}return a});a.subscribe(function(t){e.cargando=!1,e.resultadosBusqueda=t.data,e.totalBusqueda=0|t.total,e.paginasTotalesBusqueda=Math.ceil(e.totalBusqueda/e.resultadosPorPaginaBusqueda),e.indicePaginasBusqueda=[];for(var a=0;a<e.paginasTotalesBusqueda;a++)e.indicePaginasBusqueda.push(a+1);console.log("B\xfasqueda cargada.")})},e.prototype.buscar=function(e){this.terminosBusqueda.next(e)},e.prototype.listarBusqueda=function(e,t){var a=this;this.paginaActualBusqueda=t,console.log("Cargando b\xfasqueda."),this.cargando=!0;var n={q:e,page:this.paginaActualBusqueda,per_page:this.resultadosPorPaginaBusqueda,estatus:!0};this.apiService.buscarServidores(n).subscribe(function(e){a.cargando=!1,a.resultadosBusqueda=e.data,a.totalBusqueda=0|e.total,a.paginasTotalesBusqueda=Math.ceil(a.totalBusqueda/a.resultadosPorPaginaBusqueda),a.indicePaginasBusqueda=[];for(var t=0;t<a.paginasTotalesBusqueda;t++)a.indicePaginasBusqueda.push(t+1);console.log("B\xfasqueda cargada.")},function(n){a.cargando=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=function(){this.listarBusqueda(e,t)};try{n.json();401==n.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(e){console.log("No se puede interpretar el error"),500==n.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.listar=function(e){var t=this;this.paginaActual=e,console.log("Cargando items."),this.cargando=!0;var a={page:e,per_page:this.resultadosPorPagina};this.apiService.servidores(a).subscribe(function(e){t.cargando=!1,t.lista=e.data,t.total=0|e.total,t.paginasTotales=Math.ceil(t.total/t.resultadosPorPagina),t.indicePaginas=[];for(var a=0;a<t.paginasTotales;a++)t.indicePaginas.push(a+1);console.log("Items cargados.")},function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=t.listar;try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.eliminar=function(e,t){var a=this;e.cargando=!0,this.apiService.eliminarServidor(e.id).subscribe(function(n){e.cargando=!1,a.lista.splice(t,1),console.log("Se elimin\xf3 el elemento de la lista."),a.mensajeExito=new Ae(!0),a.mensajeExito.mostrar=!0,a.mensajeExito.texto="item eliminado"},function(n){e.cargando=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=function(){this.eliminar(e,t)};try{n.json();401==n.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(e){console.log("No se puede interpretar el error"),500==n.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.paginaSiguiente=function(){this.listar(this.paginaActual+1)},e.prototype.paginaAnterior=function(){this.listar(this.paginaActual-1)},e.prototype.paginaSiguienteBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda+1)},e.prototype.paginaAnteriorBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda-1)},e=xn([Object(n.Component)({selector:"app-servidores",template:a("pZoz"),styles:[a("Zjmk")]}),In("design:paramtypes",[i.Title,un])],e)}(),kn=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Cn=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},En=function(){function e(e,t,a,n){this.title=e,this.router=t,this.route=a,this.apiService=n,this.enviando=!1,this.cargando=!1,this.mensajeError=new Ae,this.mensajeExito=new Ae,this.errores={id:null,nombre:null,secret_key:null,tiene_internet:null,version:null,periodo_sincronizacion:null,ip:null,clues:null},this.listaClues=[],this.servidor={id:"",nombre:"",secret_key:"",tiene_internet:!1,version:"",ip:null,periodo_sincronizacion:null,clues:null,principal:!1}}return e.prototype.ngOnInit=function(){this.title.setTitle("Nuevo servidor / Panel de control"),this.mensajeError=new Ae,this.mensajeExito=new Ae,this.cargarUnidadesMedicas()},e.prototype.guardar=function(){var e=this;this.enviando=!0,this.errores={id:null,nombre:null,secret_key:null,tiene_internet:null,version:null,periodo_sincronizacion:null,ip:null,clues:null},this.apiService.crearServidor(this.servidor).subscribe(function(t){e.enviando=!1,e.router.navigate(["/panel-control/sync/servidores"])},function(t){try{var a=t.json();switch(e.mensajeError=new Ae(!0),t.status){case 401:e.mensajeError.texto="No tiene permiso para realizar esta acci\xf3n.";break;case 409:for(var n in e.mensajeError.texto="Verifique la informaci\xf3n marcada de color rojo",a.error)for(var r in a.error[n])e.errores[n]=a.error[n][r];break;case 500:e.mensajeError.texto="500 (Error interno del servidor)";break;default:e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}}catch(a){e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}e.mensajeError.mostrar=!0,e.enviando=!1})},e.prototype.generarSecretKey=function(){this.servidor.secret_key=Math.random().toString().slice(2,12)},e.prototype.cargarUnidadesMedicas=function(){var e=this;this.apiService.unidadesMedicas().subscribe(function(t){e.listaClues=t},function(e){console.log(e)})},e=kn([Object(n.Component)({selector:"app-nuevo",template:a("Mcsy"),styles:[a("ATK/")]}),Cn("design:paramtypes",[i.Title,h.b,h.a,un])],e)}(),Pn=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},qn=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},An=function(){function e(e,t,a,n){this.title=e,this.router=t,this.route=a,this.apiService=n,this.id=null,this.enviando=!1,this.cargando=!1,this.mensajeError=new Ae,this.mensajeExito=new Ae,this.errores={id:null,nombre:null,secret_key:null,tiene_internet:null,version:null,periodo_sincronizacion:null,ip:null,clues:null},this.listaClues=[],this.servidor={id:"",nombre:"",secret_key:"",tiene_internet:!1,version:"",periodo_sincronizacion:null,ip:null,clues:null,principal:!1}}return e.prototype.ngOnInit=function(){var e=this;this.title.setTitle("Editar servidor / Panel de control"),this.mensajeError=new Ae,this.mensajeExito=new Ae,this.cargarUnidadesMedicas(),this.route.params.subscribe(function(t){e.id=t.id}),this.cargando=!0,this.apiService.verServidor(this.id).subscribe(function(t){e.servidor.tiene_internet=t.tiene_internet,e.servidor.principal=t.principal,e.servidor.secret_key=t.secret_key,e.servidor.periodo_sincronizacion=t.periodo_sincronizacion,e.servidor.nombre=t.nombre,e.servidor.ip=t.ip,e.servidor.clues=t.clues,e.servidor.id=t.id,e.cargando=!1},function(t){console.log(t),e.cargando=!1})},e.prototype.guardar=function(){var e=this;this.enviando=!0,this.errores={id:null,nombre:null,secret_key:null,tiene_internet:null,version:null,periodo_sincronizacion:null,ip:null,clues:null},this.apiService.editarServidor(this.id,this.servidor).subscribe(function(t){e.enviando=!1,e.router.navigate(["/panel-control/sync/servidores/editar/"+t.id])},function(t){try{var a=t.json();switch(e.mensajeError=new Ae(!0),t.status){case 401:e.mensajeError.texto="No tiene permiso para realizar esta acci\xf3n.";break;case 409:for(var n in e.mensajeError.texto="Verifique la informaci\xf3n marcada de color rojo",a.error)for(var r in a.error[n])e.errores[n]=a.error[n][r];break;case 500:e.mensajeError.texto="500 (Error interno del servidor)";break;default:e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}}catch(a){e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}e.mensajeError.mostrar=!0,e.enviando=!1})},e.prototype.cargarUnidadesMedicas=function(){var e=this;this.apiService.unidadesMedicas().subscribe(function(t){e.listaClues=t},function(e){console.log(e)})},e.prototype.generarSecretKey=function(){this.servidor.secret_key=Math.random().toString().slice(2,12)},e=Pn([Object(n.Component)({selector:"app-editar",template:a("tY6E"),styles:[a("yhh4")]}),qn("design:paramtypes",[i.Title,h.b,h.a,un])],e)}(),wn=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Sn=[{path:"panel-control",redirectTo:"/panel-control/sync/estatus",pathMatch:"full"},{path:"panel-control/sync",children:[{path:"",redirectTo:"/panel-control/sync/estatus",pathMatch:"full"},{path:"estatus",component:gn},{path:"local",component:vn,canActivate:[D],data:{key:"NNN3YYcmuXdZYVSGCk0CJFjcx3ATnRQ5"}},{path:"central",component:_n,canActivate:[D],data:{key:"3DMVRdBv4cLGzdfAqXO7oqTvAMbEdhI7"}},{path:"servidores",component:jn,canActivate:[D],data:{key:"8DDwGNuZOZfoFfaDOsQvBBhVzmnlU4PA"}},{path:"servidores/nuevo",component:En,canActivate:[D],data:{key:"Txy4Qi7mIekBNDG3T3vnJmLdMpiLQCeu"}},{path:"servidores/editar/:id",component:An,canActivate:[D],data:{key:"C9I92bngLlDGuSpW9sHahdNx9f8zad3B"}}],canActivate:[M]}],Rn=function(){function e(){}return e=wn([Object(n.NgModule)({imports:[h.c.forChild(Sn)],exports:[h.c]})],e)}(),On=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Nn=function(){function e(){}return e=On([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,Rn,oa,qe],declarations:[gn,vn,_n,jn,En,An],providers:[un]})],e)}(),Mn=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Bn=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Fn=function(){function e(e,t){this.http=e,this.jwtRequest=t}return t=e,e.prototype.actualizarViaGit=function(){return this.jwtRequest.get(t.URL+"/actualizar-plataforma-git",null,{}).map(function(e){return e.json().data})},e.prototype.exportarBaseDatos=function(){return this.jwtRequest.get(t.URL+"/exportar-base-datos",null,{}).map(function(e){return e.json().data})},e.prototype.listarParches=function(){return this.jwtRequest.get(t.URL_PARCHES+"/lista",null,{}).map(function(e){return e.json().data})},e.URL="opciones-avanzadas",e.URL_PARCHES="patches",e=t=Mn([Object(n.Injectable)(),Bn("design:paramtypes",[c.Http,V])],e);var t}(),Dn=[{nombre:"B924B4B668FC43CDCD979783C5BD2699.sial.cliente.1.patch",fecha:"04 marzo 2018"}],Ln=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Tn=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},zn=function(){function e(e,t){this.apiService=e,this.http=t,this.cargando=!1,this.mostrarLog=!1,this.logActualizacion="",this.tabOnline=!1,this.tabParches=!0,this.tabParchesCliente=!0,this.tabParchesAPI=!1,this.errores={archivo:null},this.cargandoParches=!1,this.mostrarModalSubirParche=!1,this.mensajeErrorSync="",this.archivo=null,this.archivoSubido=!1,this.enviandoDatos=!1,this.progreso=0,this.parches_cliente=[],this.parches_api=[]}return e.prototype.ngOnInit=function(){this.listarParches(),this.parches_cliente=Dn},e.prototype.actualizarViaGit=function(){var e=this;this.apiService.actualizarViaGit().subscribe(function(t){e.cargando=!1,e.logActualizacion=t,e.mostrarLog=!0},function(t){e.cargando=!1,console.log(t)})},e.prototype.listarParches=function(){var e=this;this.cargandoParches=!0,this.apiService.listarParches().subscribe(function(t){e.cargandoParches=!1,e.parches_api=t},function(t){e.cargandoParches=!1,console.log(t)})},e.prototype.adjuntarParche=function(){var e=this;if(this.archivo){this.errores={archivo:null},this.mensajeErrorSync="",this.archivoSubido=!1,this.enviandoDatos=!0;var t=new FormData;t.append("patch",this.archivo,this.archivo.name);var a=new c.Headers;a.delete("Content-Type"),a.append("Authorization","Bearer "+localStorage.getItem("token"));var n=new c.RequestOptions({headers:a});this.http.post(v.API_URL+"/patches/ejecutar",t,n).subscribe(function(t){e.logActualizacion=t.json().data,e.mostrarLog=!0,e.archivoSubido=!0,e.enviandoDatos=!1,e.progreso=100,e.archivo=null,window.location.reload()},function(t){if(500==t.status)try{var a=t.json();e.mensajeErrorSync=a.error}catch(a){e.mensajeErrorSync="Error interno del servidor"}else if(409==t.status){a=t.json();e.mensajeErrorSync="Error en el parche",e.logActualizacion=a.error,e.mostrarLog=!0}else{a=t.json();e.mensajeErrorSync=a.error}e.archivoSubido=!1,e.progreso=100,e.enviandoDatos=!1})}},e.prototype.fileChange=function(e){var t=e.target.files;t.length>0&&(this.archivo=t[0])},e=Ln([Object(n.Component)({selector:"app-actualizar-sistema",template:a("CvlX"),styles:[a("FKvc")]}),Tn("design:paramtypes",[Fn,c.Http])],e)}(),Un=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Vn=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Gn=function(){function e(e){this.http=e,this.exportando=!1,this.errores={archivo:null},this.mostrarModalSubirArchivoSQL=!1,this.mensajeErrorSync="",this.archivo=null,this.archivoSubido=!1,this.enviandoDatos=!1,this.progreso=0}return e.prototype.ngOnInit=function(){},e.prototype.exportar=function(){var e="token="+localStorage.getItem("token");window.open(v.API_URL+"/opciones-avanzadas/exportar-base-datos/?"+e)},e.prototype.adjuntar=function(){var e=this;if(this.archivo){this.errores={archivo:null},this.mensajeErrorSync="",this.archivoSubido=!1,this.enviandoDatos=!0;var t=new FormData;t.append("sql",this.archivo,this.archivo.name);var a=new c.Headers;a.delete("Content-Type"),a.append("Authorization","Bearer "+localStorage.getItem("token"));var n=new c.RequestOptions({headers:a});this.http.post(v.API_URL+"/opciones-avanzadas/importar-base-datos/",t,n).subscribe(function(t){e.archivoSubido=!0,e.enviandoDatos=!1,e.progreso=100,e.archivo=null},function(t){409==t.status?e.mensajeErrorSync="No se pudo subir el archivo, verifica que el archivo que tratas de subir sea correcto, que el nombre no haya sido modificado. Verifica que el archivo que intentas subir ya ha sido sincronizado previamente.":401==t.status?e.mensajeErrorSync="El archivo que intentas subir ya ha sido sincronizado previamente":e.mensajeErrorSync="Hubo un problema al sincronizar, prueba recargar el sitio de lo contrario llama a soporte t\xe9cnico.",e.progreso=100,e.enviandoDatos=!1})}},e.prototype.importar=function(){},e.prototype.fileChange=function(e){var t=e.target.files;t.length>0&&(this.archivo=t[0])},e=Un([Object(n.Component)({selector:"app-base-datos",template:a("yVn3"),styles:[a("xpOi")]}),Vn("design:paramtypes",[c.Http])],e)}(),Yn=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Hn=[{path:"panel-control/opciones-avanzadas",children:[{path:"",redirectTo:"/panel-control/opciones-avanzadas/actualizar-sistema",pathMatch:"full"},{path:"actualizar-sistema",component:zn,canActivate:[D],data:{key:"tFcVVgwywaPvfj4ZdOoCZfBpcTtZAST0"}},{path:"base-datos",component:Gn,canActivate:[D],data:{key:"WcIjPIhPWGJbLyb4OiYe91sRKP7NGTAK"}}],canActivate:[M]}],Jn=function(){function e(){}return e=Yn([Object(n.NgModule)({imports:[h.c.forChild(Hn)],exports:[h.c]})],e)}(),$n=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Kn=function(){function e(){}return e=$n([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,oa,Jn],declarations:[zn,Gn],providers:[Fn]})],e)}(),Xn=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Zn=function(){function e(){}return e=Xn([Object(n.Component)({selector:"almacenes-lista",template:a("6u2E")})],e)}(),Qn=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Wn=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},er=function(){function e(e,t,a,n){this.fb=e,this.router=t,this.route=a,this._sanitizer=n,this.tieneid=!1,this.tipos_almacen=[{id:"ALMPAL",nombre:"ALMPAL"},{id:"JURIS",nombre:"JURIS"},{id:"UNMED",nombre:"UNMED"},{id:"LAB",nombre:"LAB"},{id:"FARMACIA",nombre:"FARMACIA"},{id:"CENDIS",nombre:"CENDIS"}],this.niveles_almacen=[{id:1,nombre:"HACE PEDIDOS AL PROVEEDOR"},{id:2,nombre:"HACE PEDIDOS A OTRO ALMACEN DENTRO DE LA CLUES"}],this.tab=1}return e.prototype.ngOnInit=function(){var e=this;this.dato=this.fb.group({id:[""],nombre:["",[l.Validators.required]],nivel_almacen:["",[l.Validators.required]],tipo_almacen:["",[l.Validators.required]],subrogado:[""],proveedor_id:[null],unidosis:[""],almacen_tipos_movimientos:this.fb.array([])}),this.form_almacen_tipos_movimientos={tipo_movimiento_id:["",[l.Validators.required]]},this.route.params.subscribe(function(t){t.id&&(e.tieneid=!0)}),document.getElementById("catalogos").click()},e.prototype.ngAfterViewInit=function(){setTimeout(function(){document.getElementById("initMover").click()},5e3)},e=Qn([Object(n.Component)({selector:"almacenes-formulario",template:a("d1I3")}),Wn("design:paramtypes",[l.FormBuilder,h.b,h.a,i.DomSanitizer])],e)}(),tr=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},ar=[{path:"configuracion/almacenes",children:[{path:"",component:Zn,canActivate:[D],data:{key:"zRTSAl0H8YNFMWcn00yeeJPigztCbSdC"}},{path:"nuevo",component:er,canActivate:[D],data:{key:"zRTSAl0H8YNFMWcn00yeeJPigztCbSdC"}},{path:"editar/:id",component:er,canActivate:[D],data:{key:"zRTSAl0H8YNFMWcn00yeeJPigztCbSdC"}}],canActivate:[M]}],nr=function(){function e(){}return e=tr([Object(n.NgModule)({imports:[h.c.forChild(ar)],exports:[h.c],providers:[]})],e)}(),rr=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},ir=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},sr=function(){function e(){this.mostrarMenuAside=!1,this.usuario={}}return e.prototype.ngOnInit=function(){this.usuario=JSON.parse(localStorage.getItem("usuario"))},e.prototype.toggleMenuAside=function(){this.mostrarMenuAside=!this.mostrarMenuAside},e=rr([Object(n.Component)({selector:"panel-control-menu",template:a("TRu6"),styles:[a("LT4s")]}),ir("design:paramtypes",[])],e)}(),or=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},lr=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},cr=function(){function e(){this.usuario={},this.menu=[],this.menuAutorizado=[]}return e.prototype.ngOnInit=function(){var e=JSON.parse(localStorage.getItem("usuario")).permisos.split("|");if(this.menu=[{titulo:"Configuraci\xf3n",modulos:[{permiso:"zRTSAl0H8YNFMWcn00yeeJPigztCbSdC",icono:"fa-archive",titulo:"Mis almacenes",url:"/configuracion/almacenes"},{permiso:"Ki9kBghgqYsY17kqL620GWYl0bpeU6TB",icono:"fa-hospital-o",titulo:"Mis servicios",url:"/configuracion/servicios"},{permiso:"9dKCEyujSdLQF2CbpjXiWKeap0NlJCzw",icono:"fa-clock-o",titulo:"Mis turnos",url:"/configuracion/turnos"},{permiso:"BnB3LhrDbKNBrbQaeB2BPXKGrLEYrEw7",icono:"fa-medkit",titulo:"Mis claves",url:"/configuracion/claves"},{permiso:"nLSqnSHHppYWQGGCrlbvCDp1Yyjcvyb3",icono:"fa-user-md",titulo:"Personal",url:"/configuracion/personal-clues"},{permiso:"BnB3LhrDbKNBrbQaeB2BPXKGrLEYrEw7",icono:"fa-pencil",titulo:"Firmantes",url:"/configuracion/firmantes"}]}],this.menuAutorizado=[],e.length>0)for(var t in this.menu)for(var a in this.menu[t].modulos)e:for(var n in e)if(e[n]==this.menu[t].modulos[a].permiso){this.initMenuAutorizadoPorItem(this.menu[t].titulo).modulos.push(this.menu[t].modulos[a]);break e}},e.prototype.initMenuAutorizadoPorItem=function(e){for(var t in this.menuAutorizado)if(e===this.menuAutorizado[t].titulo)return this.menuAutorizado[t];return this.menuAutorizado.push({titulo:e,modulos:[]}),this.menuAutorizado[this.menuAutorizado.length-1]},e=or([Object(n.Component)({selector:"panel-control-menu-aside",template:a("h7+X"),styles:[a("hl/3")]}),lr("design:paramtypes",[])],e)}(),dr=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},ur=function(){function e(){}return e=dr([Object(n.NgModule)({imports:[o.CommonModule,h.c,ee,de,fe],declarations:[sr,cr],exports:[sr,cr]})],e)}(),pr=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},mr=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},gr=function(){function e(e,t){this.http=e,this.jwtRequest=t}return e.prototype.buscar=function(e,t,a,n){return void 0===t&&(t=1),void 0===a&&(a=20),this.jwtRequest.get(n,null,{q:e,page:t,per_page:a}).map(function(e){return e.json().data})},e.prototype.busquedaInsumos=function(e,t,a){void 0===a&&(a=null);var n={};return a?(n=a).term=e:n={term:e},this.jwtRequest.get(t,null,n).map(function(e){return e.json().data})},e.prototype.lista=function(e,t,a){return void 0===e&&(e=1),void 0===t&&(t=20),e>0?this.jwtRequest.get(a,null,{page:e,per_page:t}).map(function(e){return e.json().data}):this.jwtRequest.get(a,null).map(function(e){return e.json().data})},e.prototype.lista_general=function(e){return this.jwtRequest.get(e,null).map(function(e){return e.json().data})},e.prototype.lista_personalizada=function(e,t){return void 0===e&&(e={}),console.log(e),this.jwtRequest.get(t,null,e).map(function(e){return e.json().data})},e.prototype.ver=function(e,t){return this.jwtRequest.get(t,e,{}).map(function(e){return e.json().data})},e.prototype.verIniciar=function(e){return this.jwtRequest.get(e).map(function(e){return e.json().data})},e.prototype.crear=function(e,t){return this.jwtRequest.post(t,e).map(function(e){return e.json().data})},e.prototype.editar=function(e,t,a){return this.jwtRequest.put(a,e,t).map(function(e){return e.json().data})},e.prototype.eliminar=function(e,t){return this.jwtRequest.delete(t,e).map(function(e){return e.json().data})},e=pr([Object(n.Injectable)(),mr("design:paramtypes",[c.Http,V])],e)}(),fr=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},hr=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},vr=function(){function e(e,t,a,n){this.title=e,this.crudService=t,this.authService=a,this.notificacion=n,this.tamano=document.body.clientHeight,this.cargando=!1,this.borrarCargando=!1,this.dato=[],this.respuesta=[],this.mensajeResponse=new Ae(!0),this.paginaActual=1,this.resultadosPorPagina=20,this.total=0,this.paginasTotales=0,this.indicePaginas=[],this.ultimoTerminoBuscado="",this.terminosBusqueda=new x.Subject,this.resultadosBusqueda=[],this.busquedaActivada=!1,this.paginaActualBusqueda=1,this.resultadosPorPaginaBusqueda=20,this.totalBusqueda=0,this.paginasTotalesBusqueda=0,this.indicePaginasBusqueda=[],this.borrarItem="",this.borrarIndex="",this.options={position:["bottom","left"],timeOut:2e3,lastOnBottom:!0}}return e.prototype.ngOnInit=function(){var e=this;this.listar(1),this.title.setTitle(this.titulo);var t=this,a=this.terminosBusqueda.debounceTime(300).distinctUntilChanged().switchMap(function(t){return e.busquedaActivada=""!=t,e.ultimoTerminoBuscado=t,e.paginaActualBusqueda=1,e.cargando=!0,t?e.crudService.buscar(t,e.paginaActualBusqueda,e.resultadosPorPaginaBusqueda,e.URL):L.Observable.of({data:[]})}).catch(function(e){t.cargando=!1,t.mensajeResponse.mostrar=!0,t.ultimaPeticion=function(){t.listarBusqueda(t.ultimoTerminoBuscado,t.paginaActualBusqueda)};try{e.json();401==e.status&&(t.mensajeResponse.texto="No tiene permiso para hacer esta operaci\xf3n.",t.mensajeResponse.clase="danger",this.mensaje(2))}catch(a){500==e.status?t.mensajeResponse.texto="500 (Error interno del servidor)":t.mensajeResponse.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir.",t.mensajeResponse.clase="danger",this.mensaje(2)}return a});a.subscribe(function(t){e.cargando=!1,t.data?e.resultadosBusqueda=t.data:e.resultadosBusqueda=t,e.totalBusqueda=0|t.total,e.paginasTotalesBusqueda=Math.ceil(e.totalBusqueda/e.resultadosPorPaginaBusqueda),e.indicePaginasBusqueda=[];for(var a=0;a<e.paginasTotalesBusqueda;a++)e.indicePaginasBusqueda.push(a+1)})},e.prototype.buscar=function(e){this.terminosBusqueda.next(e)},e.prototype.listarBusqueda=function(e,t){var a=this;this.paginaActualBusqueda=t,this.cargando=!0,this.crudService.buscar(e,t,this.resultadosPorPaginaBusqueda,this.URL).subscribe(function(e){a.cargando=!1,a.resultadosBusqueda=e.data,a.totalBusqueda=0|e.total,a.paginasTotalesBusqueda=Math.ceil(a.totalBusqueda/a.resultadosPorPaginaBusqueda),a.indicePaginasBusqueda=[];for(var t=0;t<a.paginasTotalesBusqueda;t++)a.indicePaginasBusqueda.push(t+1)},function(n){a.cargando=!1,a.mensajeResponse.mostrar=!0,a.ultimaPeticion=function(){this.listarBusqueda(e,t)};try{n.json();401==n.status&&(a.mensajeResponse.texto="No tiene permiso para hacer esta operaci\xf3n.",a.mensajeResponse.clase="danger",a.mensaje(2))}catch(e){500==n.status?a.mensajeResponse.texto="500 (Error interno del servidor)":a.mensajeResponse.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir.",a.mensajeResponse.clase="danger",a.mensaje(2)}})},e.prototype.listar=function(e){var t=this;this.paginaActual=e,this.cargando=!0,this.crudService.lista(e,this.resultadosPorPagina,this.URL).subscribe(function(e){t.cargando=!1,e.data?t.dato=e.data:t.dato=e,t.total=0|e.total,t.paginasTotales=Math.ceil(t.total/t.resultadosPorPagina),t.indicePaginas=[];for(var a=0;a<t.paginasTotales;a++)t.indicePaginas.push(a+1);t.mensajeResponse.mostrar=!0,t.mensajeResponse.texto="lista cargada",t.mensajeResponse.clase="success",t.mensaje(2)},function(e){t.cargando=!1,t.mensajeResponse.mostrar=!0,t.ultimaPeticion=t.listar;try{e.json();401==e.status&&(t.mensajeResponse.texto="No tiene permiso para hacer esta operaci\xf3n.",t.mensajeResponse.clase="danger",t.mensaje(2))}catch(a){500==e.status?t.mensajeResponse.texto="500 (Error interno del servidor)":t.mensajeResponse.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir.",t.mensajeResponse.clase="danger",t.mensaje(2)}})},e.prototype.eliminar=function(e,t){this.borrarItem=e,this.borrarIndex=t,document.getElementById("confirmarEliminar").classList.add("is-active")},e.prototype.cancelarModal=function(){document.getElementById("confirmarEliminar").classList.remove("is-active")},e.prototype.borrar=function(e,t,a){var n=this;void 0===a&&(a="id"),e.cargando=!0,this.borrarCargando=!0,this.crudService.eliminar(e[a],this.URL).subscribe(function(a){e.cargando=!1,n.borrarCargando=!1,n.dato.splice(t,1),n.mensajeResponse.mostrar=!0,n.mensajeResponse.texto="Se elimin\xf3 el elemento de la lista.",n.mensajeResponse.clase="success",n.mensaje(2),n.cancelarModal()},function(a){e.cargando=!1,n.borrarCargando=!1,n.mensajeResponse.mostrar=!0,n.ultimaPeticion=function(){this.eliminar(e,t)},n.cancelarModal();try{a.json();401==a.status&&(n.mensajeResponse.texto="No tiene permiso para hacer esta operaci\xf3n.",n.mensajeResponse.clase="danger",n.mensaje(2))}catch(e){500==a.status?n.mensajeResponse.texto="500 (Error interno del servidor)":n.mensajeResponse.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir.",n.mensajeResponse.clase="danger",n.mensaje(2)}})},e.prototype.paginaSiguiente=function(){this.listar(this.paginaActual+1)},e.prototype.paginaAnterior=function(){this.listar(this.paginaActual-1)},e.prototype.paginaSiguienteBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda+1)},e.prototype.paginaAnteriorBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda-1)},e.prototype.cambiar_filas_pagina=function(e){if(this.busquedaActivada){this.resultadosPorPaginaBusqueda=parseInt(e.value);var t=document.getElementById("search-box");this.listarBusqueda(t.value,this.paginaActual)}else this.resultadosPorPagina=parseInt(e.value),this.listar(this.paginaActual)},e.prototype.mensaje=function(e,t){void 0===e&&(e=6),void 0===t&&(t=["bottom","left"]);var a={showProgressBar:!0,pauseOnHover:!1,clickToClose:!0,maxLength:this.mensajeResponse.texto.length};this.options={position:t,timeOut:1e3*e,lastOnBottom:!0},""==this.mensajeResponse.titulo&&(this.mensajeResponse.titulo=this.titulo),"alert"==this.mensajeResponse.clase&&this.notificacion.alert(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"success"==this.mensajeResponse.clase&&this.notificacion.success(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"info"==this.mensajeResponse.clase&&this.notificacion.info(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"warning"!=this.mensajeResponse.clase&&"warn"!=this.mensajeResponse.clase||this.notificacion.warn(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"error"!=this.mensajeResponse.clase&&"danger"!=this.mensajeResponse.clase||this.notificacion.error(this.mensajeResponse.titulo,this.mensajeResponse.texto,a)},fr([Object(n.Input)(),hr("design:type",String)],e.prototype,"URL",void 0),fr([Object(n.Input)(),hr("design:type",String)],e.prototype,"titulo",void 0),e=fr([Object(n.Component)({selector:"listar",template:'<simple-notifications [options]="options"></simple-notifications>\n    <div class="modal" id="confirmarEliminar">\n        <div class="modal-background"></div>\n        <div class="modal-card">\n            <header class="modal-card-head">\n            <p class="modal-card-title"><i class="fa fa-warning"></i> Alerta</p>\n            <button class="delete" (click)="cancelarModal()"></button>\n            </header>\n            <section class="modal-card-body">\n                <div class="content">\n                    <h1>\xbfEsta seguro de eliminar el elemento?</h1>\n                    <p>Ya no se podra recuperar la informaci\xf3n</p>\n                </div>\n            </section>\n            <footer class="modal-card-foot">\n            <a class="button is-success" (click)="borrar(borrarItem, borrarIndex)" [ngClass]="{\'is-loading\': borrarCargando}">Continuar</a>\n            <a class="button" (click)="cancelarModal()">Cancelar</a>\n            </footer>\n        </div>\n    </div>'}),hr("design:paramtypes",[i.Title,gr,_,p.NotificationsService])],e)}(),br=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},yr=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},_r=function(){function e(e,t,a,n,r,i,s,o){this.router=e,this.title=t,this.authService=a,this.route=n,this.location=r,this.crudService=i,this.fb=s,this.notificacion=o,this.borrarCargando=!1,this.tamano=document.body.clientHeight,this.datosCargados=!0,this.cargando=!1,this.cambiarPassword=!1,this.derecha=[],this.izquierda=[],this.mensajeResponse=new Ae,this.borrarItem="",this.cargarDatosCatalogo=!1,this.catalogo=[],this.roles=[],this.catalogoDependiente=function(e,t,a){var n=this;this.cargarDatosCatalogo=!0,this.crudService.lista(0,0,e+"?id="+a).subscribe(function(e){n[t]=e,0==e.length&&(n.mensajeResponse.titulo=t,n.mensajeResponse.texto="Esta vacio, p\xf3ngase en contacto con un administrador.",n.mensajeResponse.mostrar=!0,n.mensajeResponse.clase="warning",n.mensaje(3)),n.cargarDatosCatalogo=!1},function(e){n.mensajeResponse=new Ae(!0),n.mensajeResponse.texto="No especificado.",n.mensajeResponse.mostrar=!0;try{e.json();401==e.status&&(n.mensajeResponse.texto="No tiene permiso para ver los roles."),500==e.status&&(n.mensajeResponse.texto="500 (Error interno del servidor). No se pudieron cargar los roles")}catch(t){500==e.status?n.mensajeResponse.texto="500 (Error interno del servidor). No se pudieron cargar los roles":n.mensajeResponse.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir.  No se pudieron cargar los roles"}n.cargarDatosCatalogo=!1})},this.modelo=[],this.todosSeleccionados=[],this.error_archivo=!1,this.error_json=!1,this.options={position:["bottom","left"],timeOut:2e3,lastOnBottom:!0}}return e.prototype.ngOnInit=function(){var e=this;this.title.setTitle(this.titulo),this.route.params.subscribe(function(t){e.id=t.id,e.id&&e.cargarDatos()}),this.moduloTitulo=this.id?"Modificar":"Nuevo"},e.prototype.enviar=function(e,t,a){void 0===e&&(e=!0),void 0===t&&(t=""),void 0===a&&(a="");try{this.id?this.actualizarDatos(t):this.guardarDatos(e,t,a)}catch(e){console.log("Mal")}},e.prototype.guardarDatos=function(e,t,a){var n=this;void 0===a&&(a=""),this.cargando=!0;var r=this.dato.getRawValue();this.crudService.crear(r,this.URL).subscribe(function(i){n.cargando=!1,e&&n.location.back(),""!=a&&n.router.navigate([a+"/"+i.id]),t&&"BR"===r.estatus&&n.router.navigate([t,i.id]),t&&"FI"===r.estatus&&n.router.navigate([t]),n.mensajeResponse.texto="Se han guardado los cambios.",n.mensajeResponse.mostrar=!0,n.mensajeResponse.clase="success",n.mensaje(2)},function(e){n.cargando=!1,500===e.status&&(n.mensajeResponse.texto="500 (Error interno del servidor)",n.mensajeResponse.mostrar=!0,n.mensajeResponse.clase="error",n.mensaje(3));try{var t=e.json();if(401==e.status&&(n.mensajeResponse.texto="No tiene permiso para hacer esta operaci\xf3n."),409===e.status)try{for(var a in t.error)if(t.error.hasOwnProperty(a))for(var r in t.error[a])if(t.error[a].hasOwnProperty(r))for(var i in t.error[a][r])t.error[a][r].hasOwnProperty(i)?(n.mensajeResponse.titulo=i,n.mensajeResponse.texto=t.error[a][r][i],n.mensajeResponse.clase="error",n.mensaje(3)):(n.mensajeResponse.titulo=a,n.mensajeResponse.texto=t.error[a][r],n.mensajeResponse.clase="error",n.mensaje(3))}catch(t){n.mensajeResponse.texto="Por favor verfique los campos marcados en rojo.",n.mensajeResponse.clase="warning",n.mensaje(8)}}catch(t){n.mensajeResponse.texto="No especificado.",n.mensajeResponse.mostrar=!0,n.mensajeResponse.clase="error",n.mensaje(3),console.log(t),500==e.status?n.mensajeResponse.texto="500 (Error interno del servidor)":n.mensajeResponse.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.actualizarDatos=function(e){var t,a=this;this.cargando=!0;try{t=this.dato.getRawValue()}catch(e){t=this.dato.value}this.cambiarPassword||delete t.cambiarPassword,this.crudService.editar(this.id,t,this.URL).subscribe(function(n){e&&"FI"===t.estatus&&a.router.navigate([e]),a.cargando=!1,a.mensajeResponse.texto="Se han guardado los cambios.",a.mensajeResponse.mostrar=!0,a.mensajeResponse.clase="success",a.mensaje(2)},function(e){a.cargando=!1,a.mensajeResponse.texto="No especificado.",a.mensajeResponse.mostrar=!0,a.mensajeResponse.clase="alert",a.mensaje(2);try{var t=e.json();if(401==e.status&&(a.mensajeResponse.texto="No tiene permiso para hacer esta operaci\xf3n.",a.mensajeResponse.clase="error",a.mensaje(2)),409==e.status)for(var n in a.mensajeResponse.texto="Por favor verfique los campos marcados en rojo.",a.mensajeResponse.clase="error",a.mensaje(8),t.error)for(var r in t.error[n])a.mensajeResponse.titulo=n,a.mensajeResponse.texto=t.error[n][r],a.mensajeResponse.clase="error",a.mensaje(3)}catch(t){500==e.status?a.mensajeResponse.texto="500 (Error interno del servidor)":a.mensajeResponse.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir.",a.mensajeResponse.clase="error",a.mensaje(2)}})},e.prototype.cargarDatosRecursivo=function(e,t){var a=this;try{if(Array.isArray(e))try{var n=0,r=[];e.forEach(function(e){if("object"==typeof e){var i={};for(var s in e)(e[s]||"created_at"!=s&&"updated_at"!=s&&"deleted_at"!=s)&&(i[s]=e[s]);var o=[],c=!1;for(var s in i)Array.isArray(i[s])&&(o[s]||(o[s]=[]),o[s].push(i[s]),i[s]=a.fb.array([]),c=!0);if(t.push(a.fb.group(i)),!c)return;var d=t.controls[n];for(var u in o)for(var p in o[u]){d.controls[p]=new l.FormArray([]);var m=d.controls[u];a.cargarDatosRecursivo(o[u][p],m)}}else r.push(e);n++}),r.length>0&&t.patchValue(r)}catch(e){return void console.log(2,e)}else try{for(var i in e)if(t.controls[i])if(Array.isArray(e[i])){var s=[],o=t.controls[i],c=0;try{for(var d in e[i]){var u=e[i][d];if("object"==typeof u){var p={};for(var m in u)(u[m]||"created_at"!=m&&"updated_at"!=m&&"deleted_at"!=m)&&(p[m]=u[m]);var g=[],f=!1;for(var m in p)Array.isArray(p[m])&&(g[m]||(g[m]=[]),g[m].push(p[m]),p[m]=this.fb.array([]),f=!0);o.push(this.fb.group(p));try{if(f){var h=o.controls[c];for(var v in g)for(var b in g[v]){h.controls[b]=new l.FormArray([]);var y=h.controls[v];this.cargarDatosRecursivo(g[v][b],y)}}}catch(e){return console.log(5,e),t}}else s.push(u);c++}s.length>0&&o.patchValue(s)}catch(e){return void console.log(4,e)}}else if(e[i]){var _=0;if("object"==typeof e[i]){for(var d in e[i])Array.isArray(e[i][d])&&_++;0==_&&t.controls[i].patchValue(e[i])}if(_>0||Array.isArray(e[i]))for(var d in e[i]){b=t.controls[i];if(Array.isArray(e[i][d])){h=b.controls[d];this.cargarDatosRecursivo(e[i][d],h)}else"created_at"!=d&&"updated_at"!=d&&"deleted_at"!=d&&b.controls[d].patchValue(e[i][d])}"created_at"!=i&&"updated_at"!=i&&"deleted_at"!=i&&t.controls[i].patchValue(e[i])}else t.controls[i].patchValue("")}catch(e){return void console.log(3,e)}return t}catch(e){return void console.log(1,e)}},e.prototype.reset_form=function(){for(var e in this.dato.reset(),this.dato.controls){var t=this.dato.controls[e];if(t.controls&&"number"==typeof t.controls.length){for(;t.length;)t.removeAt(t.length-1);t.reset()}}return!0},e.prototype.cargarDatos=function(){var e=this;if(this.reset_form())try{this.cargando=!0,this.crudService.ver(this.id,this.URL).subscribe(function(t){e.cargando=!1,e.datosCargados=!0,e.dato.patchValue(e.cargarDatosRecursivo(t,e.dato)),e.mensajeResponse.titulo="Modificar",e.mensajeResponse.texto="Los datos se cargaron",e.mensajeResponse.clase="success",e.mensaje(2)},function(t){e.cargando=!1,e.datosCargados=!1,e.mensajeResponse=new Ae(!0),e.mensajeResponse=new Ae(!0),e.mensajeResponse.mostrar;try{t.json();401==t.status&&(e.mensajeResponse.texto="No tiene permiso para hacer esta operaci\xf3n.",e.mensajeResponse.clase="success",e.mensaje(2))}catch(a){500==t.status?e.mensajeResponse.texto="500 (Error interno del servidor)":e.mensajeResponse.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir.",e.mensajeResponse.clase="error",e.mensaje(2)}})}catch(e){console.log(0,e)}},e.prototype.eliminar=function(e){this.borrarItem=e,document.getElementById("confirmarEliminar").classList.add("is-active")},e.prototype.abrirModal=function(e){document.getElementById(e).classList.add("is-active")},e.prototype.cancelarModal=function(e){void 0===e&&(e="confirmarEliminar"),document.getElementById(e).classList.remove("is-active")},e.prototype.borrar=function(e){var t=this;this.borrarCargando=!0,this.crudService.eliminar(e,this.URL).subscribe(function(e){t.borrarCargando=!1,t.mensajeResponse.mostrar=!0,t.mensajeResponse.texto="Se elimin\xf3 el elemento de la lista.",t.mensajeResponse.clase="success",t.mensaje(2),t.cancelarModal(),t.regresar()},function(e){t.borrarCargando=!1,t.mensajeResponse.mostrar=!0,t.cancelarModal();try{e.json();401==e.status&&(t.mensajeResponse.texto="No tiene permiso para hacer esta operaci\xf3n.",t.mensajeResponse.clase="danger",t.mensaje(2))}catch(a){500==e.status?t.mensajeResponse.texto="500 (Error interno del servidor)":t.mensajeResponse.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir.",t.mensajeResponse.clase="danger",t.mensaje(2)}})},e.prototype.cargarCatalogo=function(e,t,a){var n=this;void 0===a&&(a=""),this.cargando=!0,this.cargarDatosCatalogo=!0,this.crudService.lista(0,0,t).subscribe(function(t){t.data?(t.data.forEach(function(e){e.text||(e.text=e.nombre)}),n[e]=t.data):(Array.isArray(t)&&t.forEach(function(e){e.text||(e.text=e.nombre)}),n[e]=t),n.cargando=!1,0==t.length&&(n.mensajeResponse.titulo=e,n.mensajeResponse.texto="Esta vacio, p\xf3ngase en contacto con un administrador.",n.mensajeResponse.mostrar=!0,n.mensajeResponse.clase="warning",n.mensaje(3)),n.cargarDatosCatalogo=!1,""!=a&&setTimeout(function(){document.getElementById(a)&&document.getElementById(a).click()},500)},function(e){n.mensajeResponse=new Ae(!0),n.mensajeResponse.texto="No especificado.",n.mensajeResponse.mostrar=!0;try{e.json();401==e.status&&(n.mensajeResponse.texto="No tiene permiso para ver los roles."),500==e.status&&(n.mensajeResponse.texto="500 (Error interno del servidor). No se pudieron cargar los roles")}catch(t){500==e.status?n.mensajeResponse.texto="500 (Error interno del servidor). No se pudieron cargar los roles":n.mensajeResponse.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir.  No se pudieron cargar los roles"}n.cargarDatosCatalogo=!1})},e.prototype.regresar=function(){this.location.back()},e.prototype.addInFormArray=function(e,t,a,n){void 0===n&&(n=!1),this.modelo[a]||(this.modelo[a]=t.value);var r=this.modelo[a].indexOf(e);r>-1?this.modelo[a].splice(r,1):this.modelo[a].push(e),n?t.patchValue(this.modelo[a]):t=this.modelo[a]},e.prototype.seleccionarTodos=function(e,t,a,n){void 0===n&&(n=!1),this.todosSeleccionados[e]||(this.todosSeleccionados[e]=!1),this.todosSeleccionados[e]=!this.todosSeleccionados[e];if(this.modelo[e]=n?a.value:[],n)var r=a.value;for(var i=0,s=t;i<s.length;i++){var o=s[i];this.todosSeleccionados[e]?this.modelo[e].push(o.id):n?r.splice(a.value.indexOf(o.id),1):a.splice(this.modelo[e].indexOf(o.id),1)}n?this.todosSeleccionados[e]?a.patchValue(this.modelo[e]):a.patchValue(r):a.push(this.modelo[e])},e.prototype.seleccionarTodosMover=function(e,t){this.todosSeleccionados[e]||(this.todosSeleccionados[e]=!1),this.todosSeleccionados[e]=!this.todosSeleccionados[e];for(var a=0,n=t;a<n.length;a++){var r=n[a];this.todosSeleccionados[e]?this[e].push(r):this[e].splice(this[e].indexOf(r),1)}},e.prototype.agregarMover=function(e,t,a){var n=this[e].indexOf(a);n>-1?this[e].splice(n,1):this[e].push(a)},e.prototype.initMover=function(e,t,a){void 0===a&&(a="id");for(var n=0,r=e;n<r.length;n++)for(var i=r[n],s=0,o=0,l=t;o<l.length;o++){var c=l[o];i.value[a]==c[a]&&t.splice(s,1),s++}},e.prototype.iniciarMover=function(e,t,a,n,r){void 0===n&&(n=!1),void 0===r&&(r="id");for(var i=0,s=this[e];i<s.length;i++){var o=s[i];if(n){t.push(this.fb.group(o));for(var l=0,c=0,d=a;c<d.length;c++){var u=d[c];o[r]==u[r]&&a.splice(l,1),l++}}else{t.push(o.value);l=0;for(var p=0,m=a;p<m.length;p++){u=m[p];o.value[r]==u.value[r]&&a.splice(l,1),l++}}}this[e]=[],this.todosSeleccionados[e]&&(a=[]),this.todosSeleccionados[e]=!1},e.prototype.generarCadenaRandom=function(e,t,a){void 0===a&&(a=!1);for(var n="",r=Math.floor(Math.random()*(9999*t-1111))+t,i=0;i<t;i++)r+=""+Math.floor(Math.random()*(9999*t-1111))+t;n=""+Math.round((new Date).getTime()/1e3)+r,n=(n=(n=btoa(n)).substr(0,n.length-3)).substr(Math.floor(90*Math.random())+1,t),a?e.patchValue(n):e=n},e.prototype.select_item_autocomplete=function(e,t,a,n){void 0===n&&(n=!1),n?e.patchValue(a[t]):e=a[t]},e.prototype.agregar_form_array=function(e,t){e.push(this.fb.group(t))},e.prototype.quitar_form_array=function(e,t){e.removeAt(t)},e.prototype.seleccionarImagenBase64=function(e,t,a){void 0===a&&(a=!1);var n=e.target.files,r=this;if(r.error_archivo=!1,a){for(var i,s=[],o=0;i=n[o];o++){(l=new FileReader).readAsBinaryString(i),l.onload=function(e){try{s.push(btoa(e.target.result))}catch(e){r.error_archivo=!0}}}t.patchValue(s)}else{var l,c=n[0];if(n&&c)(l=new FileReader).readAsBinaryString(c),l.onload=function(e){try{t.patchValue(btoa(e.target.result))}catch(e){r.error_archivo=!0}}}},e.prototype.convertirJson=function(e,t,a){t.patchValue(""),this.error_json=!1;var n=e.target.files,r=n[0],i=this;if(n&&r){var s="",o=new FileReader;o.readAsBinaryString(r),o.onload=function(e){try{s=JSON.parse(e.target.result),t.patchValue(s)}catch(e){i.error_json=!0}}}},e.prototype.mensaje=function(e,t){void 0===e&&(e=6),void 0===t&&(t=["bottom","left"]);var a={showProgressBar:!0,pauseOnHover:!1,clickToClose:!0,maxLength:this.mensajeResponse.texto.length};this.options={position:t,timeOut:1e3*e,lastOnBottom:!0},""==this.mensajeResponse.titulo&&(this.mensajeResponse.titulo=this.titulo),"alert"==this.mensajeResponse.clase&&this.notificacion.alert(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"success"==this.mensajeResponse.clase&&this.notificacion.success(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"info"==this.mensajeResponse.clase&&this.notificacion.info(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"warning"!=this.mensajeResponse.clase&&"warn"!=this.mensajeResponse.clase||this.notificacion.warn(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"error"!=this.mensajeResponse.clase&&"danger"!=this.mensajeResponse.clase||this.notificacion.error(this.mensajeResponse.titulo,this.mensajeResponse.texto,a)},br([Object(n.Input)(),yr("design:type",String)],e.prototype,"URL",void 0),br([Object(n.Input)(),yr("design:type",String)],e.prototype,"titulo",void 0),br([Object(n.Input)(),yr("design:type",l.FormGroup)],e.prototype,"dato",void 0),e=br([Object(n.Component)({selector:"formulario",template:'<simple-notifications [options]="options"></simple-notifications>\n    <div class="modal" id="confirmarEliminar">\n        <div class="modal-background"></div>\n        <div class="modal-card">\n            <header class="modal-card-head">\n            <p class="modal-card-title"><i class="fa fa-warning"></i> Alerta</p>\n            <button class="delete" (click)="cancelarModal()"></button>\n            </header>\n            <section class="modal-card-body">\n                <div class="content">\n                    <h1>\xbfEsta seguro de eliminar el elemento?</h1>\n                    <p>Ya no se podra recuperar la informaci\xf3n</p>\n                </div>\n            </section>\n            <footer class="modal-card-foot">\n            <a class="button is-success" (click)="borrar(borrarItem)" [ngClass]="{\'is-loading\': borrarCargando}">Continuar</a>\n            <a class="button" (click)="cancelarModal()">Cancelar</a>\n            </footer>\n        </div>\n    </div>\n    '}),yr("design:paramtypes",[h.b,i.Title,_,h.a,o.Location,gr,l.FormBuilder,p.NotificationsService])],e)}(),xr=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Ir=function(){function e(){}return e=xr([Object(n.NgModule)({imports:[o.CommonModule,p.SimpleNotificationsModule.forRoot()],exports:[vr,_r],declarations:[vr,_r]})],e)}(),jr=a("nsII"),kr=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Cr=function(){function e(){}return e=kr([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,nr,ee,de,fe,qe,je,ur,Ir,jr.NguiAutoCompleteModule],declarations:[Zn,er],providers:[_,gr]})],e)}(),Er=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Pr=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},qr=function(){function e(e,t,a,n,r){this.fb=e,this.router=t,this.route=a,this._sanitizer=n,this.cdr=r,this.error_actualizacion=!1,this.tab=2}return e.prototype.ngOnInit=function(){var e=this;JSON.parse(localStorage.getItem("usuario"));this.dato=this.fb.group({clues:["",[l.Validators.required]],jurisdiccion_id:[""],nombre:[""],activa:[""],director_id:[""],clues_servicios:this.fb.array([])});try{this.route.params.subscribe(function(t){t.clues&&(e.tieneid=!0)})}catch(e){console.log("Error")}document.getElementById("catalogos").click()},e.prototype.ngAfterViewInit=function(){this.cdr.detectChanges(),document.getElementById("actualizar").click()},e.prototype.cargarValidar=function(){try{var e=this.dato.controls.clues_servicios,t=0,a="",n="";if(0!=e.value.length){for(e.value[t].updated_at?(a=e.value[t].updated_at,this.error_actualizacion=!1):e.value[t].created_at?(a=e.value[t].created_at,this.error_actualizacion=!1):this.error_actualizacion=!0,n=e.value[t].usuario_id,t=0;t<e.length;)e.value[t].updated_at>a&&(a=e.value[t].updated_at,n=e.value[t].usuario_id),t+=1;this.actualizacion=a,this.actualizacion_usuario=n,this.actualizado=!0}else this.error_actualizacion=!0,this.actualizacion_usuario="Sin actualizaci\xf3n"}catch(e){console.log("Error cachado")}},e=Er([Object(n.Component)({selector:"app-servicios-formulario",template:a("UBJ0")}),Pr("design:paramtypes",[l.FormBuilder,h.b,h.a,i.DomSanitizer,n.ChangeDetectorRef])],e)}(),Ar=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},wr=(JSON.parse(localStorage.getItem("usuario")),[{path:"configuracion",redirectTo:"configuracion/servicios",pathMatch:"full",canActivate:[D],data:{key:"Ki9kBghgqYsY17kqL620GWYl0bpeU6TB"}},{path:"configuracion/servicios",children:[{path:"",component:qr,pathMatch:"full",canActivate:[D],data:{key:"Ki9kBghgqYsY17kqL620GWYl0bpeU6TB"}}],canActivate:[M]}]),Sr=function(){function e(){}return e=Ar([Object(n.NgModule)({imports:[h.c.forChild(wr)],exports:[h.c],providers:[]})],e)}(),Rr=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Or=function(){function e(){}return e=Rr([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,Sr,ee,de,fe,qe,je,ur,Ir,jr.NguiAutoCompleteModule],declarations:[qr],providers:[_,gr]})],e)}(),Nr=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Mr=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Br=function(){function e(e,t,a,n){this.fb=e,this.router=t,this.route=a,this._sanitizer=n,this.actualizado=!1,this.cargando_claves_disponibles=!1,this.tieneid=!1,this.tab=2}return e.prototype.ngOnInit=function(){var e=this;JSON.parse(localStorage.getItem("usuario"));this.dato=this.fb.group({clues:["",[l.Validators.required]],jurisdiccion_id:[""],nombre:[""],activa:[""],director_id:[""],clues_turnos:this.fb.array([])}),this.route.params.subscribe(function(t){t.clues&&(e.tieneid=!0)}),document.getElementById("catalogos").click()},e.prototype.ngAfterViewInit=function(){document.getElementById("actualizar").click()},e.prototype.cargarValidar=function(){this.cargando_claves_disponibles=!0;var e=this.dato.controls.clues_claves,t=0,a="",n="";if(e&&(this.cargando_claves_disponibles=!1),0!==e.value.length){for(e.value[t].updated_at?(a=e.value[t].updated_at,this.error_actualizacion=!1):e.value[t].created_at?(a=e.value[t].created_at,this.error_actualizacion=!1):this.error_actualizacion=!0,n=e.value[t].usuario_id,t=0;t<e.length;)e.value[t].updated_at>a&&(a=e.value[t].updated_at,n=e.value[t].usuario_id),t+=1;this.actualizacion=a,this.actualizacion_usuario=n,this.actualizado=!0}else this.error_actualizacion=!0,this.actualizacion_usuario="Sin actualizaci\xf3n"},e=Nr([Object(n.Component)({selector:"almacenes-formulario",template:a("6f0v")}),Mr("design:paramtypes",[l.FormBuilder,h.b,h.a,i.DomSanitizer])],e)}(),Fr=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Dr=[{path:"configuracion/turnos",redirectTo:"configuracion/turnos",pathMatch:"full",canActivate:[D],data:{key:"BnB3LhrDbKNBrbQaeB2BPXKGrLEYrEw7"}},{path:"configuracion/turnos",children:[{path:"",component:Br,canActivate:[D],data:{key:"BnB3LhrDbKNBrbQaeB2BPXKGrLEYrEw7"}}],canActivate:[M]}],Lr=function(){function e(){}return e=Fr([Object(n.NgModule)({imports:[h.c.forChild(Dr)],exports:[h.c],providers:[]})],e)}(),Tr=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},zr=function(){function e(){}return e=Tr([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,Lr,ee,de,fe,qe,je,ur,Ir,jr.NguiAutoCompleteModule],declarations:[Br],providers:[_,gr]})],e)}(),Ur=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Vr=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Gr=function(){function e(e,t,a,n,r){var i=this;this.fb=e,this.router=t,this.route=a,this._sanitizer=n,this.cdr=r,this.tipo="ME",this.es_causes=1,this.cargando_claves_disponibles=!1,this.cargando=!0,this.insumos_term=v.API_URL+"/insumos-auto?term=:keyword",this.autocompleListFormatter=function(e){var t='\n    <div class="card">\n      <div class="card-content">\n        <div class="media">          \n          <div class="media-content">\n            <p class="title is-4"> \x3c!-- '+e.nombre+" --\x3e <small>"+e.descripcion+'</small></p>\n            <p class="subtitle is-6">\n              <strong>Clave: </strong> '+e.clave+") \n              ";return 1==e.es_causes&&(t+='<label class="tag is-success" ><strong>Cause </strong></label>'),0==e.es_causes&&(t+='<label class="tag" style="background: #B8FB7E; border-color: #B8FB7E; color: rgba(0,0,0,0.7);">\n                <strong>No Cause </strong> </label>'),1==e.es_unidosis&&(t+='<label class="tag is-warning" ><strong>Unidosis</strong> </label>'),t+="\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>",i._sanitizer.bypassSecurityTrustHtml(t)}}return e.prototype.ngOnInit=function(){var e=this;this.cargando_claves_disponibles=!0;var t=JSON.parse(localStorage.getItem("usuario"));this.dato=this.fb.group({clues:["",[l.Validators.required]],jurisdiccion_id:[""],nombre:[""],activa:[""],director_id:[""],clues_claves:this.fb.array([])});try{this.route.params.subscribe(function(t){t.clues&&(e.tieneid=!0)})}catch(e){console.log("Error")}t.clues_activa&&(this.insumos_term+="&clues="+t.clues_activa.clues),t.almacen_activo&&(this.insumos_term+="&almacen="+t.almacen_activo.id),document.getElementById("catalogos").click()},e.prototype.ngAfterViewInit=function(){this.cdr.detectChanges(),document.getElementById("actualizar").click()},e.prototype.cargarValidar=function(){this.cargando_claves_disponibles=!0;var e=this.dato.controls.clues_claves,t=0,a="",n="";if(e&&(this.cargando_claves_disponibles=!1),0!==e.value.length){for(e.value[t].updated_at?(a=e.value[t].updated_at,this.error_actualizacion=!1):e.value[t].created_at?(a=e.value[t].created_at,this.error_actualizacion=!1):this.error_actualizacion=!0,n=e.value[t].usuario_id,t=0;t<e.length;)e.value[t].updated_at>a&&(a=e.value[t].updated_at,n=e.value[t].usuario_id),t+=1;this.actualizacion=a,this.actualizacion_usuario=n,this.actualizado=!0}else this.error_actualizacion=!0,this.actualizacion_usuario="Sin actualizaci\xf3n"},e.prototype.select_insumo_autocomplete=function(e){JSON.parse(localStorage.getItem("usuario"));this.cargando=!0,this.insumo=e,this.agregarClave(),document.getElementById("buscarInsumo").value="",this.es_unidosis=e.es_unidosis,this.cargando=!1},e.prototype.agregarClave=function(){var e,t,a=this.dato.controls.clues_claves,n=!1;for(e=0;e<a.length;e++)this.insumo.clave===a.value[e].clave_insumo_medico&&(n=!0);t=null==this.insumo.cantidad_x_envase?1:this.insumo.cantidad_x_envase;var r={clave_insumo_medico:this.insumo.clave,nombre:this.insumo.nombre,descripcion:this.insumo.descripcion,es_causes:this.insumo.es_causes,es_unidosis:this.insumo.es_unidosis,tipo:this.insumo.tipo,codigo_barras:[""],unidad_medida:[""],cantidad_x_envase:parseInt(t)};n||a.push(this.fb.group(r))},e=Ur([Object(n.Component)({selector:"almacenes-formulario",template:a("DK+d")}),Vr("design:paramtypes",[l.FormBuilder,h.b,h.a,i.DomSanitizer,n.ChangeDetectorRef])],e)}(),Yr=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Hr=[{path:"configuracion/claves",redirectTo:"configuracion/claves",pathMatch:"full",canActivate:[D],data:{key:"BnB3LhrDbKNBrbQaeB2BPXKGrLEYrEw7"}},{path:"configuracion/claves",children:[{path:"",component:Gr,canActivate:[D],data:{key:"BnB3LhrDbKNBrbQaeB2BPXKGrLEYrEw7"}}],canActivate:[M]}],Jr=function(){function e(){}return e=Yr([Object(n.NgModule)({imports:[h.c.forChild(Hr)],exports:[h.c],providers:[]})],e)}(),$r=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Kr=function(){function e(){}return e=$r([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,Jr,ee,de,fe,qe,je,ur,Ir,jr.NguiAutoCompleteModule],declarations:[Gr],providers:[_,gr]})],e)}(),Xr=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Zr=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Qr=function(){function e(e,t){this.http=e,this.jwtRequest=t}return t=e,e.prototype.buscar_personal=function(e,a,n){return void 0===a&&(a=1),void 0===n&&(n=10),this.jwtRequest.get(t.URL,null,{q:e,page:a,per_page:n}).map(function(e){return e.json().data})},e.prototype.lista=function(e,a){return void 0===e&&(e=1),void 0===a&&(a=10),this.jwtRequest.get(t.URL,null,{page:e,per_page:a}).map(function(e){return e.json().data})},e.prototype.buscar=function(e,a,n){return void 0===a&&(a=1),void 0===n&&(n=20),this.jwtRequest.get(t.URL,null,{q:e,page:a,per_page:n}).map(function(e){return e.json().data})},e.prototype.lista_pedido=function(){return this.jwtRequest.get(t.URL_PEDIDO,null,{}).map(function(e){return e.json().data})},e.prototype.firmantes=function(){return this.jwtRequest.get(t.URL_FIRMANTES,null,{}).map(function(e){return e.json().data})},e.prototype.actualizar_firmantes=function(e){return this.jwtRequest.post(t.URL_FIRMANTES,e).map(function(e){return e.json().data})},e.URL="personal",e.URL_PEDIDO="pedidos",e.URL_FIRMANTES="firmantes",e=t=Xr([Object(n.Injectable)(),Zr("design:paramtypes",[c.Http,V])],e);var t}(),Wr=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},ei=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ti=function(){function e(e,t,a,n,r,i,s){this.title=e,this.location=t,this.router=a,this.route=n,this._ngZone=r,this.fb=i,this.firmanteService=s,this.cargando=!1,this.cargando_personal=!1,this.showFirmante=!1,this.agregando_personal=!1,this.personal_seleccionado=0,this.buscarPersonal="",this.paginaActual=1,this.resultadosPorPagina=25,this.total=0,this.personal=[],this.pedidos=[],this.pedidos_check=[],this.paginasTotales=0,this.indicePaginas=[],this.ultimoTerminoBuscado="",this.terminosBusqueda=new x.Subject,this.busquedaActivada=!1,this.paginaActualBusqueda=1,this.resultadosPorPaginaBusqueda=10,this.totalBusqueda=0,this.paginasTotalesBusqueda=0,this.indicePaginasBusqueda=[],this.mensajeError=new Ae,this.mensajeExito=new Ae}return e.prototype.ngOnInit=function(){var e=this;this.firmantes=this.fb.group({firma_director:["",[]],id_firma_director:["",[]],firma_almacen:["",[]],id_firma_almacen:["",[]],pedidos:this.fb.array([])}),this.listar_pedido(),this.title.setTitle("Firmantes / Configuraci\xf3n");var t=this,a=this.terminosBusqueda.debounceTime(300).distinctUntilChanged().switchMap(function(t){return e.ultimoTerminoBuscado=t,e.paginaActualBusqueda=1,e.cargando_personal=!0,e.firmanteService.buscar_personal(t,e.paginaActualBusqueda,e.resultadosPorPaginaBusqueda)}).catch(function(e){t.cargando_personal=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=function(){t.listarBusqueda(t.ultimoTerminoBuscado,t.paginaActualBusqueda)};try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}return a});a.subscribe(function(t){e.cargando_personal=!1,e.personal=t.data,e.totalBusqueda=0|t.total,e.paginasTotalesBusqueda=Math.ceil(e.totalBusqueda/e.resultadosPorPaginaBusqueda),e.indicePaginasBusqueda=[];for(var a=0;a<e.paginasTotalesBusqueda;a++)e.indicePaginasBusqueda.push(a+1)})},e.prototype.buscar_firmante=function(e,t){this.personal=[],this.showFirmante=!this.showFirmante,this.personal_seleccionado=e,this.buscarPersonal=t},e.prototype.buscar_personal=function(e){this.terminosBusqueda.next(e)},e.prototype.listar=function(e){var t=this;this.paginaActual=e,this.cargando_personal=!0,this.firmanteService.lista(e,this.resultadosPorPagina).subscribe(function(e){t.cargando_personal=!1,t.personal=e.data,t.totalBusqueda=0|e.total,t.paginasTotalesBusqueda=Math.ceil(t.totalBusqueda/t.resultadosPorPaginaBusqueda),t.indicePaginasBusqueda=[];for(var a=0;a<t.paginasTotalesBusqueda;a++)t.indicePaginasBusqueda.push(a+1)},function(e){t.cargando_personal=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=t.listar;try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.obtener_firmantes=function(){var e=this;this.cargando=!0,this.firmanteService.firmantes().subscribe(function(t){e.cargando=!1,t.unidad.director&&e.firmantes.patchValue({firma_director:t.unidad.director.nombre,id_firma_director:t.unidad.director.id}),t.almacen.encargado&&e.firmantes.patchValue({firma_almacen:t.almacen.encargado.nombre,id_firma_almacen:t.almacen.encargado.id})},function(t){e.cargando=!1;try{t.json();401==t.status&&(e.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==t.status?e.mensajeError.texto="500 (Error interno del servidor)":e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.listar_pedido=function(){var e=this;this.cargando=!0,this.firmanteService.lista_pedido().subscribe(function(t){e.pedidos=t,e.obtener_firmantes()},function(t){e.cargando=!1,e.mensajeError.mostrar=!0;try{t.json();401==t.status&&(e.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==t.status?e.mensajeError.texto="500 (Error interno del servidor)":e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.listarBusqueda=function(e,t){var a=this;this.paginaActualBusqueda=t,console.log("Cargando b\xfasqueda."),this.cargando_personal=!0,this.firmanteService.buscar(e,t,this.resultadosPorPaginaBusqueda).subscribe(function(e){a.cargando_personal=!1,a.personal=e.data,a.totalBusqueda=0|e.total,a.paginasTotalesBusqueda=Math.ceil(a.totalBusqueda/a.resultadosPorPaginaBusqueda),a.indicePaginasBusqueda=[];for(var t=0;t<a.paginasTotalesBusqueda;t++)a.indicePaginasBusqueda.push(t+1)},function(n){a.cargando_personal=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=function(){this.listarBusqueda(e,t)};try{n.json();401==n.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(e){console.log("No se puede interpretar el error"),500==n.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.AgregarPersonal=function(e){this.agregando_personal=!0,1==this.personal_seleccionado?this.firmantes.patchValue({firma_director:e,id_firma_director:0}):2==this.personal_seleccionado&&this.firmantes.patchValue({firma_almacen:e,id_firma_almacen:0}),this.showFirmante=!1,this.asignar_firmantes()},e.prototype.asignar_firmantes=function(){var e=this;"ACTUALIZAR"==prompt("Para actualizar los firmastes de esta unidad por favor escriba ACTUALIZAR ")&&this.firmanteService.actualizar_firmantes(this.firmantes.value).subscribe(function(t){e.agregando_personal=!1,e.mensajeExito=new Ae(!0),e.mensajeExito.mostrar=!0,e.mensajeExito.texto="Se ha asignado correctamente los firmantes",e.reset_pedidos(),e.listar_pedido()},function(t){e.mensajeError=new Ae(!0),e.agregando_personal=!1;try{t.json();401==t.status&&(e.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==t.status?e.mensajeError.texto="500 (Error interno del servidor)":e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}e.mensajeError.texto="Ha ocurrido un error al asignar los firmantes",e.mensajeError.mostrar=!0})},e.prototype.seleccionarPersonal=function(e){1==this.personal_seleccionado?this.firmantes.patchValue({firma_director:e.nombre,id_firma_director:e.id}):2==this.personal_seleccionado&&this.firmantes.patchValue({firma_almacen:e.nombre,id_firma_almacen:e.id}),this.showFirmante=!1},e.prototype.eliminar_firmante=function(e){1==e&&this.firmantes.patchValue({firma_director:"",id_firma_director:"NULL"}),2==e&&this.firmantes.patchValue({firma_almacen:"",id_firma_almacen:"NULL"})},e.prototype.reset_pedidos=function(){var e=this.firmantes.controls.pedidos;console.log(e.length);for(var t=e.length-1;t>=0;t--)e.removeAt(t)},e.prototype.updateCheckedOptions=function(e,t){var a=this.firmantes.controls.pedidos;if(t.target.checked)a.push(new l.FormControl(e));else{a.controls.findIndex(function(t){return t.value==e});a.reset()}console.log(this.firmantes)},e.prototype.paginaSiguiente=function(){this.listar(this.paginaActual+1)},e.prototype.paginaAnterior=function(){this.listar(this.paginaActual-1)},e.prototype.paginaSiguienteBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda+1)},e.prototype.paginaAnteriorBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda-1)},e=Wr([Object(n.Component)({selector:"app-formulario",template:a("xA+6"),styles:[a("tQZc")]}),ei("design:paramtypes",[i.Title,o.Location,h.b,h.a,n.NgZone,l.FormBuilder,Qr])],e)}(),ai=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},ni=[{path:"configuracion/firmantes",redirectTo:"configuracion/firmantes",pathMatch:"full"},{path:"configuracion/firmantes",children:[{path:"",component:ti}],canActivate:[M]}],ri=function(){function e(){}return e=ai([Object(n.NgModule)({imports:[h.c.forChild(ni)],exports:[h.c]})],e)}(),ii=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},si=function(){function e(){}return e=ii([Object(n.NgModule)({imports:[o.CommonModule,ri,l.FormsModule,l.ReactiveFormsModule,ee,de,fe,qe,ur],declarations:[ti],providers:[_,Qr]})],e)}(),oi=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},li=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ci=function(){function e(e){this.title=e,this.usuario={},this.busqueda="",this.modulos=[],this.modulosAutorizados=[],this.accesosDirectos=[],this.accesosDirectosAutorizados=[]}return e.prototype.ngOnInit=function(){this.title.setTitle("Farmacia Subrogada"),this.usuario=JSON.parse(localStorage.getItem("usuario")),this.modulos=[],this.accesosDirectos=[{permiso:"z9MQHY1YAIlYWsPLPF9OZYN94HKjOuDk--",icono:"assets/icono-dashboard.svg",titulo:"Dashboard Salidas",url:"/almacen/dashboard-salidas"},{permiso:"6sTjs3q8rhHslelQgTUI4hdkNSbiwyhf",icono:"assets/icono-sincronizar-receta.svg",titulo:"Sincronizar recetas",url:"/farmacia-subrrogada/sincronizar-recetas"}];var e=JSON.parse(localStorage.getItem("usuario")).permisos.split("|");if(e.length>0){for(var t in this.modulos)e:for(var a in e)if(e[a]==this.modulos[t].permiso){this.modulosAutorizados.push(this.modulos[t]);break e}for(var t in this.accesosDirectos)e:for(var a in e)if(e[a]==this.accesosDirectos[t].permiso){this.accesosDirectosAutorizados.push(this.accesosDirectos[t]);break e}}},e=oi([Object(n.Component)({selector:"app-index-farmacia",template:a("mHS4"),styles:[a("JdJA")]}),li("design:paramtypes",[i.Title])],e)}(),di=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},ui=[{path:"farmacia-subrrogada",component:ci,canActivate:[M]}],pi=function(){function e(){}return e=di([Object(n.NgModule)({imports:[h.c.forChild(ui)],exports:[h.c],providers:[]})],e)}(),mi=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},gi=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},fi=function(){function e(){this.usuario={}}return e.prototype.ngOnInit=function(){this.usuario=JSON.parse(localStorage.getItem("usuario"))},mi([Object(n.Input)(),gi("design:type",String)],e.prototype,"modulo",void 0),mi([Object(n.Input)(),gi("design:type",String)],e.prototype,"icono",void 0),mi([Object(n.Input)(),gi("design:type",String)],e.prototype,"url",void 0),e=mi([Object(n.Component)({selector:"menu-farmacia",template:a("C64X"),styles:[a("KNJT")]}),gi("design:paramtypes",[])],e)}(),hi=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},vi=function(){function e(){}return e=hi([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,pi,ee,de,fe,je],exports:[fi],declarations:[ci,fi]})],e)}(),bi=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},yi=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},_i=function(){function e(e,t,a,n,r,i){var s=this;this.fb=e,this.crudService=t,this.route=a,this._sanitizer=n,this._ngZone=r,this.notificacion=i,this.cargando=!1,this.tamano=0,this.error_json=!1,this.recetas_resultado=!1,this.mensajeResponse=new Ae,this.options={position:["bottom","left"],timeOut:2e3,lastOnBottom:!0},this.titulo="Sincronizar recetas",this.clues_term=v.API_URL+"/clues-auto?term=:keyword",this.tieneid=!1,this.foto="",this.clave_clues="",this.fecha_desde="",this.fecha_hasta="",this.folio="",this.cargandoPdf=!1,this.autocompleListFormatter=function(e){var t='\n        <div class="card">\n            <div class="card-content">\n                <div class="media">          \n                    <div class="media-content">\n                        <p class="title is-4" style="color: black;">\n                            <i class="fa fa-hospital-o" aria-hidden="true"></i> &nbsp; '+e.clues+'\n                        </p>\n                        <p class="subtitle is-6" style="color: black;">\n                            <strong style="color: black;">Nombre: </strong> '+e.nombre+'\n                            <strong style="color: black;">&nbsp; Jurisdicci\xf3n: </strong>\n                            <span style="color: black;"> '+(e.jurisdiccion?e.jurisdiccion.numero:"No disponible")+" -\n                             "+(e.jurisdiccion?e.jurisdiccion.nombre:"No disponible")+"</span>\n                        </p>\n                    </div>\n                </div>\n            </div>\n        </div>";return s._sanitizer.bypassSecurityTrustHtml(t)}}return e.prototype.ngOnInit=function(){this.usuario=JSON.parse(localStorage.getItem("usuario")),this.dato2=this.fb.group({json:[""],archivos:[""],pedido:["00011"]}),this.pdfworker=new Worker("web-workers/farmacia-subrrogada/lista-sincronizar-recetas.js");var e=this,t=this._ngZone;this.pdfworker.onmessage=function(a){t.run(function(){e.cargandoPdf=!1}),ft.saveAs(e.base64ToBlob(a.data.base64,"application/pdf"),a.data.fileName)}},e.prototype.abrirModal=function(e,t){document.getElementById(e).classList.add("is-active"),this.pedido_id=t},e.prototype.cancelarModal=function(e){document.getElementById(e).classList.remove("is-active"),this.dato2.patchValue({json:"",archivos:"",pedido:""}),this.jsonBoxViewChildren.first.nativeElement.value="",this.pedido_id="",this.recetas_resultado=!1,this.json_valido=""},e.prototype.convertirJson=function(e,t,a){t.patchValue(""),this.error_json=!1;var n=e.target.files,r=n[0],i=this;if(n&&r){var s="",o=new FileReader;o.readAsBinaryString(r),o.onload=function(e){try{s=JSON.parse(e.target.result),t.patchValue(s)}catch(e){i.error_json=!0}}}},e.prototype.enviarDatos=function(e){var t=this;this.cargando=!0,this.dato2.patchValue({pedido:this.pedido_id});var a=this.dato2.getRawValue();this.crudService.crear(a,e).subscribe(function(e){t.cargando=!1,e.data&&(t.json_valido=e.data),t.recetas_resultado=!0,t.mensajeResponse.texto="Validaci\xf3n realizada.",t.mensajeResponse.mostrar=!0,t.mensajeResponse.clase="success",t.mensaje(2)},function(e){t.cargando=!1;try{var a=e.json();if(401===e.status&&(t.mensajeResponse.texto="No tiene permiso para hacer esta operaci\xf3n."),409===e.status)for(var n in t.mensajeResponse.texto="Por favor verfique los campos marcados en rojo.",t.mensajeResponse.clase="warning",t.mensaje(8),a.error)for(var r in a.error[n])for(var i in a.error[n][r])t.mensajeResponse.titulo="\xa1Error!",t.mensajeResponse.texto=a.error[n][r][i],t.mensajeResponse.clase="error",t.mensaje(3)}catch(a){500==e.status?t.mensajeResponse.texto="500 (Error interno del servidor)":t.mensajeResponse.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.sincronizarReceta=function(e){var t=this;this.cargando=!0,this.dato2.patchValue({pedido:this.pedido_id});var a=this.dato2.getRawValue();this.crudService.crear(a,"procesar-json-proveedor").subscribe(function(a){t.cargando=!1,t.cancelarModal(e),t.mensajeResponse.texto="Se han sincronizado las recetas.",t.mensajeResponse.mostrar=!0,t.mensajeResponse.clase="success",t.mensaje(2)},function(e){t.cargando=!1;try{var a=e.json();if(401==e.status&&(t.mensajeResponse.texto="No tiene permiso para hacer esta operaci\xf3n."),409==e.status)for(var n in t.mensajeResponse.texto="Por favor verfique los campos marcados en rojo.",t.mensajeResponse.clase="warning",t.mensaje(8),a.error)for(var r in a.error[n])t.mensajeResponse.titulo="\xa1Error!",t.mensajeResponse.texto=a.error[n][r],t.mensajeResponse.clase="error",t.mensaje(3)}catch(a){500==e.status?t.mensajeResponse.texto="500 (Error interno del servidor)":t.mensajeResponse.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.select_clues_autocomplete=function(e){JSON.parse(localStorage.getItem("usuario"));this.clave_clues=e.clues},e.prototype.quitar_punto=function(e){return!!this.is_numeric(e.key)},e.prototype.is_numeric=function(e){return/^\d+$/.test(e)},e.prototype.imprimir=function(){var e=this;try{this.cargandoPdf=!0;void 0===this.numero_sinc&&(this.numero_sinc=""),this.crudService.lista_general("listar-pedidos-proveedor?fecha_desde="+this.fecha_desde+"&fecha_hasta="+this.fecha_hasta+"&clues="+this.clave_clues+"&numero_sinc="+this.numero_sinc+"&folio="+this.folio).subscribe(function(t){e.cargando=!1,e.lista_impresion=t.data;var a={lista:e.lista_impresion,usuario:e.usuario,fecha_desde:e.fecha_desde,fecha_hasta:e.fecha_hasta,clues:e.clave_clues,folio:e.folio,numero_sinc:e.numero_sinc};e.pdfworker.postMessage(JSON.stringify(a))},function(e){})}catch(e){this.cargandoPdf=!1}},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},e.prototype.mensaje=function(e,t){void 0===e&&(e=6),void 0===t&&(t=["bottom","left"]);var a={showProgressBar:!0,pauseOnHover:!1,clickToClose:!0,maxLength:this.mensajeResponse.texto.length};this.options={position:t,timeOut:1e3*e,lastOnBottom:!0},""==this.mensajeResponse.titulo&&(this.mensajeResponse.titulo=this.titulo),"alert"==this.mensajeResponse.clase&&this.notificacion.alert(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"success"==this.mensajeResponse.clase&&this.notificacion.success(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"info"==this.mensajeResponse.clase&&this.notificacion.info(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"warning"!=this.mensajeResponse.clase&&"warn"!=this.mensajeResponse.clase||this.notificacion.warn(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"error"!=this.mensajeResponse.clase&&"danger"!=this.mensajeResponse.clase||this.notificacion.error(this.mensajeResponse.titulo,this.mensajeResponse.texto,a)},bi([Object(n.ViewChildren)("json"),yi("design:type",Object)],e.prototype,"jsonBoxViewChildren",void 0),e=bi([Object(n.Component)({selector:"sincronizar-recetas-lista",template:a("JMwV"),styles:[a("iajj")]}),yi("design:paramtypes",[l.FormBuilder,gr,h.a,i.DomSanitizer,n.NgZone,p.NotificationsService])],e)}(),xi=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Ii=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ji=function(){function e(e,t,a,n,r){var i=this;this.fb=e,this.crudService=t,this.route=a,this._sanitizer=n,this.notificacion=r,this.tab=1,this.cargando=!1,this.insumos_term=v.API_URL+"/insumos-auto?term=:keyword",this.MinDate=new Date,this.MaxDate=new Date,this.tieneid=!1,this.tipos_recetas=[{id:1,nombre:"Normal"},{id:2,nombre:"Controlado"}],this.autocompleListFormatter=function(e){var t='\n    <div class="card">\n      <div class="card-content">\n        <div class="media">          \n          <div class="media-content">\n            <p class="title is-4">'+e.nombre+" <small>"+e.descripcion+'</small></p>\n            <p class="subtitle is-6">\n              <strong>Clave: </strong> '+e.clave+") \n              ";return e.es_causes&&(t+='<label class="tag is-success" ><strong>Cause </strong></label>'),e.es_causes||(t+='<label class="tag is-success" ><strong>No Cause </strong> </label>'),e.es_unidosis&&(t+='<label class="tag is-warning" ><strong>Unidosis</strong> </label>'),t+="\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>",i._sanitizer.bypassSecurityTrustHtml(t)},this.es_unidosis=!1,this.options={position:["top","right"],timeOut:5e3,lastOnBottom:!0},this.mostrar_lote=[],this.mostrarCancelado=!1}return e.prototype.ngOnInit=function(){var e=this,t=JSON.parse(localStorage.getItem("usuario"));t.clues_activa&&(this.insumos_term+="&clues="+t.clues_activa.clues),t.almacen_activo&&(this.insumos_term+="&almacen="+t.almacen_activo.id),this.dato=this.fb.group({id:[""],tipo_movimiento_id:["5",[l.Validators.required]],status:["FI"],fecha_movimiento:["",[l.Validators.required]],observaciones:["",[l.Validators.required]],cancelado:[""],observaciones_cancelacion:[""],movimiento_metadato:this.fb.group({turno_id:["",[l.Validators.required]]}),receta:this.fb.group({folio:["",[l.Validators.required]],tipo_receta:["1",[l.Validators.required]],fecha_receta:["",[l.Validators.required]],doctor:["",[l.Validators.required]],paciente:["",[l.Validators.required]],diagnostico:["",[l.Validators.required]],imagen_receta:["",[l.Validators.required]]}),insumos:this.fb.array([])}),this.route.params.subscribe(function(t){t.id&&(e.tieneid=!0)}),this.form_insumos={tipo_movimiento_id:["",[l.Validators.required]]};var a=new Date;this.MinDate=new Date(a.getFullYear()-1,0,1),this.MaxDate=new Date(a.getFullYear(),a.getMonth(),a.getDate()),this.dato.get("fecha_movimiento").value?this.fecha_actual=this.dato.get("fecha_movimiento").value:(this.fecha_actual=a.getFullYear()+"-"+("00"+(a.getMonth()+1)).slice(-2)+"-"+a.getDate(),this.dato.get("fecha_movimiento").patchValue(this.fecha_actual)),document.getElementById("catalogos").click()},e.prototype.abrirModal=function(e){document.getElementById(e).classList.add("is-active")},e.prototype.cancelarModal=function(e){document.getElementById(e).classList.remove("is-active")},e.prototype.select_insumo_autocomplete=function(e){var t=this,a=JSON.parse(localStorage.getItem("usuario"));this.cargando=!0,this.crudService.lista(0,1e3,"comprobar-stock?almacen="+a.almacen_activo.id+"&clave="+e.clave).subscribe(function(a){t.lotes_insumo=a,t.insumo=e,document.getElementById("buscarInsumo").value="",document.getElementById("tituloModal").innerHTML=" "+e.nombre+' <br><p aling="justify" style="font-size:12px">'+e.descripcion+"</p> ",t.es_unidosis=e.es_unidosis,t.cargando=!1,t.abrirModal("verLotes")},function(e){t.cargando=!1})},e.prototype.agregarLoteIsumo=function(){for(var e=this.dato.controls.insumos,t=!1,a=0,n=e.value;a<n.length;a++){if((u=n[a]).clave==this.insumo.clave){t=!0;break}}var r={clave:this.insumo.clave,nombre:this.insumo.nombre,descripcion:this.insumo.descripcion,es_causes:this.insumo.es_causes,es_unidosis:this.insumo.es_unidosis,cantidad:1,cantidad_x_envase:parseInt(this.insumo.cantidad_x_envase),dosis:["",[l.Validators.required]],frecuencia:["",[l.Validators.required]],duracion:["",[l.Validators.required]],cantidad_recetada:["",[l.Validators.required]],cantidad_surtida:1,lotes:this.fb.array([])};t||e.push(this.fb.group(r));var i=e.length-1,s=e.controls[i];this.mostrar_lote[i]=!1;var o={showProgressBar:!0,pauseOnHover:!0,clickToClose:!0,maxLength:2e3};this.options={position:["top","right"],timeOut:5e3,lastOnBottom:!0};for(var c=0,d=this.lotes_insumo;c<d.length;c++){var u;if((u=d[c]).cantidad>0){var p=!1;if(t)for(var m=0,g=s.controls.lotes.controls;m<g.length;m++){if((y=g[m]).controls.id.value==u.id){p=!0;var f=y.controls.cantidad.value+u.cantidad;f>y.controls.existencia.value&&0==u.nuevo&&(this.notificacion.alert("Cantidad Excedida","La cantidad maxima es: "+y.controls.existencia.value,o),f=1*y.controls.existencia.value),y.controls.cantidad.patchValue(f);break}}p||(u.cantidad>u.existencia&&(this.notificacion.alert("Cantidad Excedida","La cantidad maxima es: "+u.existencia,o),u.cantidad=1*u.existencia),s.controls.lotes.push(this.fb.group({id:u.id,nuevo:0|u.nuevo,codigo_barras:u.codigo_barras,lote:u.lote,fecha_caducidad:u.fecha_caducidad,existencia:u.nuevo?u.cantidad:u.existencia,cantidad:u.cantidad})))}}for(var h=0,v=0,b=s.controls.lotes.value;v<b.length;v++){var y;h+=(y=b[v]).cantidad}s.controls.cantidad_surtida.patchValue(h),this.cancelarModal("verLotes")},e.prototype.ver_lotes_asignados=function(e){this.mostrar_lote[e]=!this.mostrar_lote[e]},e.prototype.agregarNuevoLote=function(){this.lotes_insumo.push({id:""+Math.floor(999*Math.random())+1,codigo_barras:"",lote:"",fecha_caducidad:"",existencia:"",cantidad:"",nuevo:1,existencia_unidosis:"",cantidad_unidosis:""})},e.prototype.eliminarLote=function(e){this.lotes_insumo.splice(e,1)},e.prototype.quitar_lote_insumo=function(e,t,a){var n=this.dato.controls.insumos.controls[e];n.controls.lotes.removeAt(a);var r=n.controls.cantidad_surtida.value-t.cantidad;n.controls.cantidad_surtida.patchValue(r)},e.prototype.validar_cantidad_lote=function(e,t,a){if(t.controls.cantidad.value>t.controls.existencia.value&&0==t.nuevo){this.notificacion.alert("Cantidad Excedida","La cantidad maxima es: "+t.controls.existencia.value,{showProgressBar:!0,pauseOnHover:!0,clickToClose:!0,maxLength:2e3}),t.controls.cantidad.patchValue(1*t.controls.existencia.value)}for(var n=this.dato.controls.insumos.controls[e],r=0,i=0,s=n.controls.lotes.value;i<s.length;i++){r+=s[i].cantidad}n.controls.cantidad_surtida.patchValue(r)},e=xi([Object(n.Component)({selector:"sincronizar-recetas-formulario",template:a("r49I"),styles:["ngui-auto-complete {z-index: 999999 !important}"]}),Ii("design:paramtypes",[l.FormBuilder,gr,h.a,i.DomSanitizer,p.NotificationsService])],e)}(),ki=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Ci=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ei=function(){function e(e,t,a){this._ngZone=e,this.crudService=t,this.route=a,this.fecha_desde="",this.fecha_hasta="",this.folio="",this.cargandoPdf=!1}return e.prototype.ngOnInit=function(){var e=this;this.route.params.subscribe(function(t){t.pedido_id&&(e.pedido_id=t.pedido_id)}),this.usuario=JSON.parse(localStorage.getItem("usuario")),this.pdfworker=new Worker("web-workers/farmacia-subrrogada/lista-sincronizaciones.js");var t=this,a=this._ngZone;this.pdfworker.onmessage=function(e){a.run(function(){t.cargandoPdf=!1}),ft.saveAs(t.base64ToBlob(e.data.base64,"application/pdf"),e.data.fileName)}},e.prototype.abrirModal=function(e,t){document.getElementById(e).classList.add("is-active"),t?this.json_vista=JSON.parse(t):this.error_json=!0},e.prototype.cancelarModal=function(e){document.getElementById(e).classList.remove("is-active")},e.prototype.imprimir=function(){var e=this;try{this.cargandoPdf=!0;var t=this.tr.first.nativeElement.options,a=this.sr.first.nativeElement.options;t=t[t.selectedIndex].text,a=a[a.selectedIndex].text,this.crudService.lista_general("movimientos?tipo=2&fecha_desde="+this.fecha_desde+"&fecha_hasta="+this.fecha_hasta+"&folio="+this.folio).subscribe(function(n){e.cargando=!1,e.lista_impresion=n.data;var r={lista:e.lista_impresion,usuario:e.usuario,fecha_desde:e.fecha_desde,fecha_hasta:e.fecha_hasta,turno:t,servicio:a};e.pdfworker.postMessage(JSON.stringify(r))},function(e){})}catch(e){this.cargandoPdf=!1}},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},ki([Object(n.ViewChildren)("tr"),Ci("design:type",Object)],e.prototype,"tr",void 0),ki([Object(n.ViewChildren)("sr"),Ci("design:type",Object)],e.prototype,"sr",void 0),e=ki([Object(n.Component)({selector:"salidas-recetas-lista",template:a("UtdK")}),Ci("design:paramtypes",[n.NgZone,gr,h.a])],e)}(),Pi=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},qi=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ai=function(){function e(e,t,a,n,r){this.fb=e,this.crudService=t,this.route=a,this._sanitizer=n,this.notificacion=r,this.cargando=!1,this.tamano=0,this.tieneid=!1,this.foto=""}return e.prototype.ngOnInit=function(){JSON.parse(localStorage.getItem("usuario"));this.tamano=this.elementView.nativeElement.offsetHeight/2,this.dato=this.fb.group({json:[""],archivos:[""]})},e.prototype.abrirModal=function(e,t){this.foto=t,document.getElementById(e).classList.add("is-active")},e.prototype.cancelarModal=function(e){document.getElementById(e).classList.remove("is-active")},Pi([Object(n.ViewChild)("mainScreen"),qi("design:type",n.ElementRef)],e.prototype,"elementView",void 0),e=Pi([Object(n.Component)({selector:"sincronizar-recetas-cargar",template:a("LeRw"),styles:["ngui-auto-complete {z-index: 999999 !important}"]}),qi("design:paramtypes",[l.FormBuilder,gr,h.a,i.DomSanitizer,p.NotificationsService])],e)}(),wi=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Si=[{path:"farmacia-subrrogada/sincronizar-recetas",children:[{path:"",component:_i,canActivate:[D],data:{key:"6sTjs3q8rhHslelQgTUI4hdkNSbiwyhf"}},{path:"nuevo",component:Ai,canActivate:[D],data:{key:"6sTjs3q8rhHslelQgTUI4hdkNSbiwyhf"}},{path:"editar/:id",component:ji,canActivate:[D],data:{key:"6sTjs3q8rhHslelQgTUI4hdkNSbiwyhf"}},{path:"lista-sincronizaciones/:pedido_id",component:Ei,canActivate:[D],data:{key:"6sTjs3q8rhHslelQgTUI4hdkNSbiwyhf"}}],canActivate:[M]}],Ri=function(){function e(){}return e=wi([Object(n.NgModule)({imports:[h.c.forChild(Si)],exports:[h.c],providers:[]})],e)}(),Oi=a("KR/G"),Ni=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Mi=function(){function e(){}return e=Ni([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,Ri,ee,de,fe,qe,je,vi,Ir,jr.NguiAutoCompleteModule,Oi.NguiDatetimePickerModule,p.SimpleNotificationsModule.forRoot()],declarations:[_i,ji,Ei,Ai],providers:[_,gr]})],e)}(),Bi=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Fi=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Di=function(){function e(e){this.title=e,this.usuario={},this.busqueda="",this.modulos=[],this.modulosAutorizados=[],this.accesosDirectos=[],this.accesosDirectosAutorizados=[]}return e.prototype.ngOnInit=function(){this.title.setTitle("Almac\xe9n medicamentos"),this.usuario=JSON.parse(localStorage.getItem("usuario")),this.modulos=[{permiso:"z9MQHY1YAIlYWsPLPF9OZYN94HKjOuDk",icono:"assets/icono-pagina-lista.svg",titulo:"Pedidos",url:"/almacen/pedidos"},{permiso:"GPSDLmXckXcdfdj7lD4rdacwMivsTp9g",icono:"assets/icono-recetas.svg",titulo:"Recetas",url:"/almacen/salidas-recetas"},{permiso:"qQvNeb1UFPOfVMKQnNkvxyqjCIUgFuEG",icono:"assets/icono-salidas.svg",titulo:"Salida de medicamentos",url:"/almacen/salidas-estandar"},{permiso:"a1OMZVn7dveOf5aUK8V0VsvvSCxz8EMw",icono:"assets/icono-entradas.svg",titulo:"Entrada de medicamentos",url:"/almacen/entradas-estandar"},{permiso:"tTxAiFKSsx4xSvJjIv5jodZpliDxFe1y",icono:"assets/icono-transferencias.svg",titulo:"Transferencias Almacen",url:"/almacen/transferencia-almacen"}],this.accesosDirectos=[{permiso:"2nC6GUf6E737QwZSxuLORT6rZUDy5YUO",icono:"assets/icono-pagina-lista.svg",titulo:"Nuevo pedido",url:"/almacen/pedidos/nuevo"},{permiso:"q9ppCvhWdeCJI85YtCrKvtHLaoPipeaT",icono:"assets/icono-pedidos-alt.svg",titulo:"Recibir pedido",url:"/almacen/pedidos/por-surtir"}];var e=JSON.parse(localStorage.getItem("usuario")).permisos.split("|");if(e.length>0){for(var t in this.modulos)e:for(var a in e)if(e[a]==this.modulos[t].permiso){this.modulosAutorizados.push(this.modulos[t]);break e}for(var t in this.accesosDirectos)e:for(var a in e)if(e[a]==this.accesosDirectos[t].permiso){this.accesosDirectosAutorizados.push(this.accesosDirectos[t]);break e}}},e=Bi([Object(n.Component)({selector:"app-index-farmacia",template:a("ywVL"),styles:[a("c9Js")]}),Fi("design:paramtypes",[i.Title])],e)}(),Li=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Ti=[{path:"almacen",component:Di,canActivate:[M]}],zi=function(){function e(){}return e=Li([Object(n.NgModule)({imports:[h.c.forChild(Ti)],exports:[h.c],providers:[]})],e)}(),Ui=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Vi=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Gi=function(){function e(e){this.cambiarEntornoService=e,this.usuario={},this.urlAyuda=""}return e.prototype.ngOnInit=function(){var e=this;this.usuario=JSON.parse(localStorage.getItem("usuario")),this.cambiarEntornoSuscription=this.cambiarEntornoService.entornoCambiado$.subscribe(function(t){e.usuario=JSON.parse(localStorage.getItem("usuario"))})},e.prototype.ngOnDestroy=function(){this.cambiarEntornoSuscription.unsubscribe()},Ui([Object(n.Input)(),Vi("design:type",String)],e.prototype,"modulo",void 0),Ui([Object(n.Input)(),Vi("design:type",String)],e.prototype,"icono",void 0),Ui([Object(n.Input)(),Vi("design:type",String)],e.prototype,"url",void 0),Ui([Object(n.Input)(),Vi("design:type",Object)],e.prototype,"urlAyuda",void 0),e=Ui([Object(n.Component)({selector:"menu-farmacia",template:a("QUQJ"),styles:[a("tYEV")]}),Vi("design:paramtypes",[ae])],e)}(),Yi=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Hi=function(){function e(){}return e=Yi([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,zi,ee,de,fe,je],exports:[Gi],declarations:[Di,Gi]})],e)}(),Ji=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},$i=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ki=function(){function e(e,t){this.http=e,this.jwtRequest=t}return t=e,e.prototype.lista=function(e,a,n){return void 0===e&&(e=1),void 0===a&&(a=25),void 0===n&&(n=!1),this.jwtRequest.get(t.URL,null,{page:e,per_page:a,con_precios:n}).map(function(e){return e.json().data})},e.prototype.buscar=function(e,a,n,r,i){return void 0===a&&(a=1),void 0===n&&(n=25),void 0===r&&(r=!1),void 0===i&&(i=null),this.jwtRequest.get(t.URL,null,{q:e,page:a,per_page:n,con_precios:r,tipo:i}).map(function(e){return e.json().data})},e.prototype.clues=function(){return this.jwtRequest.get("unidades-medicas-dependientes",null,null).map(function(e){return e.json().data})},e.prototype.obtenerStock=function(e){return this.jwtRequest.get("stock-insumo-medico",null,{clave:e}).map(function(e){return e.json().data})},e.URL="catalogo-insumos",e=t=Ji([Object(n.Injectable)(),$i("design:paramtypes",[c.Http,V])],e);var t}(),Xi=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Zi=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Qi=function(){function e(e){this.buscarInsumosService=e,this.onCerrar=new n.EventEmitter,this.onEnviar=new n.EventEmitter,this.listaAgregadosConClues=[],this.listaAgregadosConStock={},this.conPrecios=!1,this.conCantidad=!0,this.conClues=!1,this.conStock=!1,this.tipo=null,this.cargando=!1,this.insumos=[],this.ultimoTerminoBuscado="",this.terminosBusqueda=new x.Subject,this.paginaActual=1,this.resultadosPorPagina=25,this.total=0,this.paginasTotales=0,this.indicePaginas=[],this.listaClues=[],this.clues=-1,this.listaCluesUtilizadasConInsumo=[],this.cargandoStock=!1,this.listaStock=[],this.stockSeleccionado=-1,this.listaStockActualizadoConInsumo={},this.mensajeError=new Ae,this.mensajeAgregado=new Ae,this.cantidadValida=!1}return e.prototype.ngOnInit=function(){var e=this;console.log("Se supone me vuelvo a ejectuar"),console.log(this.listaAgregadosConClues);var t=this,a=this.terminosBusqueda.debounceTime(300).distinctUntilChanged().switchMap(function(t){return console.log("Cargando b\xfasqueda."),e.ultimoTerminoBuscado=t,e.paginaActual=1,e.cargando=!0,t?e.buscarInsumosService.buscar(t,e.paginaActual,e.resultadosPorPagina,e.conPrecios,e.tipo):lt.Observable.of({data:[]})}).catch(function(e){t.cargando=!1,t.mensajeError=new Ae,t.mensajeError.mostrar=!0,t.ultimaPeticion=function(){t.listar(t.ultimoTerminoBuscado,t.paginaActual)};try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n."),0==e.status&&(t.mensajeError.texto="El servidor no responde.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}return a});a.subscribe(function(t){e.cargando=!1,e.resetItemSeleccionado(),e.insumos=t.data,e.total=0|t.total,e.paginasTotales=Math.ceil(e.total/e.resultadosPorPagina),e.indicePaginas=[];for(var a=0;a<e.paginasTotales;a++)e.indicePaginas.push(a+1);console.log("B\xfasqueda cargada.")}),console.log(this.conClues),this.conClues&&this.buscarInsumosService.clues().subscribe(function(t){e.listaClues=t},function(e){console.log(e)})},e.prototype.ngAfterViewInit=function(){var e=this;try{setTimeout(function(){e.searchBoxViewChildren.first.nativeElement.focus()})}catch(e){console.log(e)}},e.prototype.cerrar=function(){this.searchBoxViewChildren.first.nativeElement.value="",this.onCerrar.emit()},e.prototype.resetItemSeleccionado=function(){this.cantidadBoxViewChildren.first.nativeElement.value="",this.insumoSeleccionado=null,this.cantidadValida=!1},e.prototype.seleccionar=function(e){var t=this;if(this.insumoSeleccionado=e,this.cantidadBoxViewChildren.first.nativeElement.disabled=!1,this.conStock){this.cargandoStock=!0,this.buscarInsumosService.obtenerStock(e.clave).subscribe(function(e){t.cargandoStock=!1,t.listaStock=e,setTimeout(function(){t.stockSelectViewChildren.first.nativeElement.focus()})},function(e){t.cargando=!1,t.mensajeError.mostrar=!0;try{var a=e.json();401==e.status?t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.":t.mensajeError.texto=a.error}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}});this.listaAgregadosConStock[e.clave]}if(this.conClues){for(var a in this.listaCluesUtilizadasConInsumo=[],this.listaAgregadosConClues)if(this.listaAgregadosConClues[a].clave==e.clave){for(var n in this.listaAgregadosConClues[a].lista)this.listaCluesUtilizadasConInsumo.push(this.listaAgregadosConClues[a].lista[n]);break}try{setTimeout(function(){t.cluesSelectViewChildren.first.nativeElement.focus()})}catch(e){console.log(e)}}this.conStock||this.conClues||this.cantidadBoxViewChildren.first.nativeElement.focus()},e.prototype.comprobarCantidad=function(e){return""==e.replace(/ /g,"")?(this.cantidadValida=!1,!1):isNaN(e)?(this.cantidadValida=!1,!1):0!=e%1?(this.cantidadValida=!1,!1):(this.cantidadValida=!0,!0)},e.prototype.enviar=function(e){var t=this;if(e.preventDefault(),console.log(this.clues),!this.conClues&&!this.conStock&&this.listaAgregados.indexOf(this.insumoSeleccionado.clave)>=0)return this.mensajeError=new Ae(!0,2),this.mensajeError.texto="El insumo seleccionado ya se encuentra en la lista",void(this.mensajeError.mostrar=!0);if(this.conClues){var a=!1;if("TODAS"==this.clues){this.listaAgregadosConClues.push({clave:this.insumoSeleccionado.clave,lista:[]});var n=this.listaAgregadosConClues.length-1;for(var r in console.log(n),this.listaClues){this.listaAgregadosConClues[n].lista.push(this.listaClues[r].clues);var i={insumo:this.insumoSeleccionado,clues:this.listaClues[r].clues,nombre:this.listaClues[r].nombre,cantidad:Number(this.cantidadBoxViewChildren.first.nativeElement.value)};console.log(i),this.listaCluesUtilizadasConInsumo.push(this.listaClues[r].clues),this.onEnviar.emit(i)}this.mensajeAgregado=new Ae(!0,2),this.mensajeAgregado.mostrar=!0,this.cluesSelectViewChildren.first.nativeElement.value=-1,this.cantidadBoxViewChildren.first.nativeElement.value="",this.clues=-1;try{setTimeout(function(){t.searchBoxViewChildren.first.nativeElement.focus()})}catch(e){console.log(e)}}else{for(var r in this.listaAgregadosConClues)if(this.listaAgregadosConClues[r].clave==this.insumoSeleccionado.clave){if(a=!0,this.listaAgregadosConClues[r].lista.indexOf(this.clues)>=0)return this.mensajeError=new Ae(!0,2),this.mensajeError.texto="La unidad seleccionada ya tiene asignado ese insumo asignado",void(this.mensajeError.mostrar=!0);this.listaAgregadosConClues[r].lista.push(this.clues);break}a||this.listaAgregadosConClues.push({clave:this.insumoSeleccionado.clave,lista:[this.clues]});var s={clues:"",nombre:""};for(var r in this.listaClues)this.listaClues[r].clues==this.clues&&(s.clues=this.clues,s.nombre=this.listaClues[r].nombre);var o={insumo:this.insumoSeleccionado,clues:this.clues,nombre:s.nombre,cantidad:Number(this.cantidadBoxViewChildren.first.nativeElement.value)};this.mensajeAgregado=new Ae(!0,2),this.mensajeAgregado.mostrar=!0,this.onEnviar.emit(o),this.listaCluesUtilizadasConInsumo.push(this.clues),this.cluesSelectViewChildren.first.nativeElement.value=-1,this.clues=-1;try{setTimeout(function(){t.cluesSelectViewChildren.first.nativeElement.focus()})}catch(e){console.log(e)}}}if(this.conStock){var l=Number(this.cantidadBoxViewChildren.first.nativeElement.value),c={existencia:0};for(var r in this.listaStock)if(this.listaStock[r].id==this.stockSeleccionado){c=this.listaStock[r];break}if(-1==this.stockSelectViewChildren.first.nativeElement.value)return this.mensajeError.texto="No se ha seleccionado lote.",this.mensajeError.mostrar=!0,!1;if(l>c.existencia)return this.mensajeError.texto="La cantidad no puede exceder de las existencias.",this.mensajeError.mostrar=!0,!1;this.listaAgregadosConStock[this.stockSeleccionado]=l,this.mensajeAgregado=new Ae(!0,2),this.mensajeAgregado.mostrar=!0;var d={insumo:this.insumoSeleccionado,lote:c,cantidad:l};this.onEnviar.emit(d),this.cantidadBoxViewChildren.first.nativeElement.value="",this.stockSelectViewChildren.first.nativeElement.value=-1,this.stockSelectViewChildren.first.nativeElement.focus()}this.conClues||this.conStock||(this.mensajeAgregado=new Ae(!0,2),this.mensajeAgregado.mostrar=!0,this.insumoSeleccionado.cantidad=this.cantidadBoxViewChildren.first.nativeElement.value,this.onEnviar.emit(this.insumoSeleccionado),this.searchBoxViewChildren.first.nativeElement.focus(),this.listaAgregados.push(this.insumoSeleccionado.clave),this.resetItemSeleccionado())},e.prototype.buscar=function(e){this.terminosBusqueda.next(e),this.mensajeError.mostrar=!1},e.prototype.listar=function(e,t){var a=this;this.paginaActual=t,this.resetItemSeleccionado(),console.log("Cargando insumos."),this.cargando=!0,this.buscarInsumosService.buscar(e,t,this.resultadosPorPagina,this.conPrecios,this.tipo).subscribe(function(e){a.cargando=!1,a.insumos=e.data,a.total=0|e.total,a.paginasTotales=Math.ceil(a.total/a.resultadosPorPagina),a.indicePaginas=[];for(var t=0;t<a.paginasTotales;t++)a.indicePaginas.push(t+1);console.log("Insumos cargados."),console.log(a.insumos)},function(e){a.cargando=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=a.listar;try{e.json();401==e.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(t){console.log("No se puede interpretar el error"),500==e.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.mostrarFichaInformativa=function(e,t){e.preventDefault(),e.stopPropagation(),alert(t),console.log(t)},e.prototype.paginaSiguiente=function(e){this.paginaActual!=this.paginasTotales&&(this.resetItemSeleccionado(),this.listar(e,this.paginaActual+1))},e.prototype.paginaAnterior=function(e){1!=this.paginaActual&&(this.resetItemSeleccionado(),this.listar(e,this.paginaActual-1))},e.prototype.keyboardInput=function(e){27==e.keyCode&&(event.preventDefault(),event.stopPropagation(),this.cerrar()),39==e.keyCode&&(e.ctrlKey&&e.shiftKey||e.ctrlKey)&&(event.preventDefault(),event.stopPropagation(),this.paginaSiguiente(this.searchBoxViewChildren.first.nativeElement.value)),37==e.keyCode&&(e.ctrlKey&&e.shiftKey||e.ctrlKey)&&(event.preventDefault(),event.stopPropagation(),this.paginaAnterior(this.searchBoxViewChildren.first.nativeElement.value))},e.prototype.seleccionarClues=function(e){var t=this;this.clues=e;try{setTimeout(function(){t.cantidadBoxViewChildren.first.nativeElement.focus()})}catch(e){console.log(e)}},e.prototype.seleccionarStock=function(e){var t=this;this.stockSeleccionado=e;try{setTimeout(function(){t.cantidadBoxViewChildren.first.nativeElement.focus()})}catch(e){console.log(e)}},Xi([Object(n.ViewChildren)("searchBox"),Zi("design:type",Object)],e.prototype,"searchBoxViewChildren",void 0),Xi([Object(n.ViewChildren)("cantidadBox"),Zi("design:type",Object)],e.prototype,"cantidadBoxViewChildren",void 0),Xi([Object(n.ViewChildren)("cluesSelect"),Zi("design:type",Object)],e.prototype,"cluesSelectViewChildren",void 0),Xi([Object(n.ViewChildren)("stockSelect"),Zi("design:type",Object)],e.prototype,"stockSelectViewChildren",void 0),Xi([Object(n.Output)(),Zi("design:type",Object)],e.prototype,"onCerrar",void 0),Xi([Object(n.Output)(),Zi("design:type",Object)],e.prototype,"onEnviar",void 0),Xi([Object(n.Input)(),Zi("design:type",Array)],e.prototype,"listaAgregados",void 0),Xi([Object(n.Input)(),Zi("design:type",Array)],e.prototype,"listaAgregadosConClues",void 0),Xi([Object(n.Input)(),Zi("design:type",Object)],e.prototype,"listaAgregadosConStock",void 0),Xi([Object(n.Input)(),Zi("design:type",Boolean)],e.prototype,"conPrecios",void 0),Xi([Object(n.Input)(),Zi("design:type",Boolean)],e.prototype,"conCantidad",void 0),Xi([Object(n.Input)(),Zi("design:type",Boolean)],e.prototype,"conClues",void 0),Xi([Object(n.Input)(),Zi("design:type",Boolean)],e.prototype,"conStock",void 0),Xi([Object(n.Input)(),Zi("design:type",String)],e.prototype,"tipo",void 0),e=Xi([Object(n.Component)({selector:"buscar-insumos",template:a("BXa0"),styles:[a("v9or")],host:{"(document:keydown)":"keyboardInput($event)"}}),Zi("design:paramtypes",[Ki])],e)}(),Wi=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},es=function(){function e(){}return e=Wi([Object(n.NgModule)({imports:[o.CommonModule,qe],exports:[Qi],declarations:[Qi],providers:[Ki]})],e)}(),ts=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},as=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ns=function(){function e(e,t){this.http=e,this.jwtRequest=t}return t=e,e.prototype.stats=function(){return this.jwtRequest.get(t.URL_STATS,null,null).map(function(e){return e.json()})},e.prototype.presupuesto=function(e,a,n,r){void 0===e&&(e=0),void 0===a&&(a=0),void 0===n&&(n=""),void 0===r&&(r=0);var i={};return e&&(i.mes=e),a&&(i.anio=a),n&&(i.almacen=n),r&&(i.presupuesto=r),this.jwtRequest.get(t.URL_PRESUPUESTO,null,i).map(function(e){return e.json()})},e.prototype.buscar=function(e,a,n,r,i){return void 0===n&&(n=1),void 0===r&&(r=20),void 0===i&&(i=""),this.jwtRequest.get(t.URL,null,{tipo:i,status:e,q:a,page:n,per_page:r}).map(function(e){return e.json().data})},e.prototype.lista=function(e,a,n,r){return void 0===a&&(a=1),void 0===n&&(n=20),void 0===r&&(r=""),this.jwtRequest.get(t.URL,null,{tipo:r,status:e,page:a,per_page:n}).map(function(e){return e.json().data})},e.prototype.ver=function(e){return this.jwtRequest.get(t.URL,e,{}).map(function(e){return e.json().data})},e.prototype.crear=function(e){return this.jwtRequest.post(t.URL,e).map(function(e){return e.json().data})},e.prototype.editar=function(e,a){return this.jwtRequest.put(t.URL,e,a).map(function(e){return e.json().data})},e.prototype.eliminar=function(e){return this.jwtRequest.delete(t.URL,e).map(function(e){return e.json().data})},e.prototype.cancelarPedidoTransferir=function(e,a){return void 0===a&&(a={}),this.jwtRequest.put(t.URL_CANCELAR,e,a).map(function(e){return e.json().data})},e.prototype.cancelarTransferencia=function(e,a){return void 0===a&&(a={}),this.jwtRequest.put(t.URL_CANCELAR_TRANSFERENCIA,e,a).map(function(e){return e.json().data})},e.prototype.generarPedidoAlterno=function(e,a){return void 0===a&&(a={}),this.jwtRequest.put(t.URL_GENERAR_ALTERNO,e,a).map(function(e){return e.json().data})},e.URL="pedidos",e.URL_STATS="pedidos-stats",e.URL_PRESUPUESTO="pedidos-presupuesto",e.URL_CANCELAR="cancelar-pedido-transferir",e.URL_CANCELAR_TRANSFERENCIA="cancelar-transferencia",e.URL_GENERAR_ALTERNO="generar-pedido-alterno",e=t=ts([Object(n.Injectable)(),as("design:paramtypes",[c.Http,V])],e);var t}(),rs=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},is=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ss=function(){function e(e,t,a,n){this.title=e,this.route=t,this.pedidosService=a,this.cambiarEntornoService=n,this.cargando=!1,this.esCluesOffline=!1,this.mensajeError=new Ae,this.mensajeExito=new Ae,this.tipo="",this.titulo="Pedidos",this.icono="fa-file",this.pedidos=[],this.presupuesto=!1,this.presupuestoActual=null,this.paginaActual=1,this.resultadosPorPagina=10,this.total=0,this.paginasTotales=0,this.indicePaginas=[],this.ultimoTerminoBuscado="",this.terminosBusqueda=new x.Subject,this.resultadosBusqueda=[],this.busquedaActivada=!1,this.paginaActualBusqueda=1,this.resultadosPorPaginaBusqueda=10,this.totalBusqueda=0,this.paginasTotalesBusqueda=0,this.indicePaginasBusqueda=[]}return e.prototype.ngOnInit=function(){var e=this,t=JSON.parse(localStorage.getItem("usuario"));switch(this.route.snapshot.url[0].path){case"borradores":this.status="BR",this.titulo="Borradores",this.icono="fa-pencil-square-o";break;case"solicitados":this.status="SD",this.titulo="Solicitudes de transferencia",this.icono="fa-minus-circle";break;case"en-transito":this.status="ET",this.titulo="En transito",this.icono="fa-clock-o";break;case"por-surtir":this.status="PS",this.titulo="Por surtir",this.icono="fa-truck";break;case"expirados":this.status="EX",this.titulo="Expirados",this.icono="fa-exclamation-circle";break;case"expirados-cancelados":this.status="EX-CA",this.titulo="Expirados - Cancelados",this.icono="fa-times-circle";break;case"farmacia-subrogada":this.status="EF",this.titulo="Farmacia Subrogada",this.icono="fa-building";break;case"finalizados":this.status="FI",this.icono="fa-check-circle",this.route.snapshot.url.length>1?"completos"==this.route.snapshot.url[1].path?this.titulo="Finalizados (completos)":"incompletos"==this.route.snapshot.url[1].path?this.titulo="Finalizados (incompletos)":"cancelados"==this.route.snapshot.url[1].path?this.titulo="Finalizados (cancelados)":this.titulo="Finalizados":this.titulo="Finalizados";break;case"alternos":this.titulo="Alternos",this.tipo="PALT",this.icono="fa-code-fork";break;default:this.titulo="Pedidos",this.icono="fa-file"}console.log("inicializar lista de pedidos"),this.title.setTitle("Pedidos"),this.cargarPresupuestoAnual(),this.cambiarEntornoSuscription=this.cambiarEntornoService.entornoCambiado$.subscribe(function(a){console.log("subscripcion en lista de pedidos"),e.listar(e.paginaActual),e.cargarPresupuestoAnual(),e.esCluesOffline=t.clues_activa.es_offline}),this.esCluesOffline=t.clues_activa.es_offline,this.listar(1),this.mensajeError=new Ae,this.mensajeExito=new Ae;var a=this,n=this.terminosBusqueda.debounceTime(300).distinctUntilChanged().switchMap(function(t){return console.log("Cargando b\xfasqueda."),e.busquedaActivada=""!=t,e.ultimoTerminoBuscado=t,e.paginaActualBusqueda=1,e.cargando=!0,t?e.pedidosService.buscar(e.status,t,e.paginaActualBusqueda,e.resultadosPorPaginaBusqueda,e.tipo):lt.Observable.of({data:[]})}).catch(function(e){a.cargando=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=function(){a.listarBusqueda(a.ultimoTerminoBuscado,a.paginaActualBusqueda)};try{e.json();401==e.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(t){console.log("No se puede interpretar el error"),500==e.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}return n});n.subscribe(function(t){e.cargando=!1;var a=t.data;for(var n in a)a[n].created_at=a[n].created_at.replace(" ","T");e.resultadosBusqueda=a,e.totalBusqueda=0|t.total,e.paginasTotalesBusqueda=Math.ceil(e.totalBusqueda/e.resultadosPorPaginaBusqueda),e.indicePaginasBusqueda=[];for(var r=0;r<e.paginasTotalesBusqueda;r++)e.indicePaginasBusqueda.push(r+1);console.log("B\xfasqueda cargada.")})},e.prototype.cargarPresupuestoAnual=function(){var e=this;this.pedidosService.presupuesto().subscribe(function(t){e.cargando=!1,e.presupuesto={},t.data?(e.presupuesto.insumos_modificado=+t.data.insumos_modificado,e.presupuesto.insumos_comprometido=+t.data.insumos_comprometido,e.presupuesto.insumos_devengado=+t.data.insumos_devengado,e.presupuesto.insumos_disponible=+t.data.insumos_disponible,e.presupuesto.no_causes_modificado=+t.data.no_causes_modificado,e.presupuesto.no_causes_comprometido=+t.data.no_causes_comprometido,e.presupuesto.no_causes_devengado=+t.data.no_causes_devengado,e.presupuesto.no_causes_disponible=+t.data.no_causes_disponible):(e.presupuesto.insumos_modificado=0,e.presupuesto.insumos_comprometido=0,e.presupuesto.insumos_devengado=0,e.presupuesto.insumos_disponible=0,e.presupuesto.no_causes_modificado=0,e.presupuesto.no_causes_comprometido=0,e.presupuesto.no_causes_devengado=0,e.presupuesto.no_causes_disponible=0),t.presupuesto&&(e.presupuestoActual=t.presupuesto)},function(t){e.cargando=!1,console.log(t)})},e.prototype.obtenerDireccion=function(e,t){return"BR"==t?"/almacen/pedidos/editar/"+e:"/almacen/pedidos/ver/"+e},e.prototype.buscar=function(e){this.terminosBusqueda.next(e)},e.prototype.listarBusqueda=function(e,t){var a=this;this.paginaActualBusqueda=t,console.log("Cargando b\xfasqueda."),this.cargando=!0,this.pedidosService.buscar(this.status,e,t,this.resultadosPorPaginaBusqueda,this.tipo).subscribe(function(e){a.cargando=!1;var t=e.data;for(var n in t)t[n].created_at=t[n].created_at.replace(" ","T");a.resultadosBusqueda=t,a.totalBusqueda=0|e.total,a.paginasTotalesBusqueda=Math.ceil(a.totalBusqueda/a.resultadosPorPaginaBusqueda),a.indicePaginasBusqueda=[];for(var r=0;r<a.paginasTotalesBusqueda;r++)a.indicePaginasBusqueda.push(r+1);console.log("B\xfasqueda cargada.")},function(n){a.cargando=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=function(){this.listarBusqueda(e,t)};try{n.json();401==n.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(e){console.log("No se puede interpretar el error"),500==n.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.listar=function(e){var t=this;this.paginaActual=e,console.log("Cargando pedidos."),this.cargando=!0,this.pedidosService.lista(this.status,e,this.resultadosPorPagina,this.tipo).subscribe(function(e){t.cargando=!1,t.pedidos=e.data,t.total=0|e.total,t.paginasTotales=Math.ceil(t.total/t.resultadosPorPagina),t.indicePaginas=[];for(var a=0;a<t.paginasTotales;a++)t.indicePaginas.push(a+1);console.log("Pedidos cargados.")},function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=t.listar;try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.eliminar=function(e,t){var a=this;e.cargando=!0,confirm("Desea eliminar el pedido?")?this.pedidosService.eliminar(e.id).subscribe(function(n){e.cargando=!1,a.pedidos.splice(t,1),console.log("Se elimin\xf3 el elemento de la lista."),a.mensajeExito=new Ae(!0),a.mensajeExito.mostrar=!0,a.mensajeExito.texto="Pedido eliminado"},function(n){e.cargando=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=function(){this.eliminar(e,t)};try{var r=n.json();401==n.status?a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.":a.mensajeError.texto=r.error}catch(r){console.log("No se puede interpretar el error"),500==n.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}}):e.cargando=!1},e.prototype.paginaSiguiente=function(){this.listar(this.paginaActual+1)},e.prototype.paginaAnterior=function(){this.listar(this.paginaActual-1)},e.prototype.paginaSiguienteBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda+1)},e.prototype.paginaAnteriorBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda-1)},e.prototype.ngOnDestroy=function(){this.cambiarEntornoSuscription.unsubscribe()},e=rs([Object(n.Component)({selector:"almacen-pedidos-lista",template:a("nh4S"),styles:[a("Gb+q")],providers:[ns]}),is("design:paramtypes",[i.Title,h.a,ns,ae])],e)}(),os=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},ls=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},cs=function(){function e(e,t){this.http=e,this.jwtRequest=t}return t=e,e.prototype.buscar=function(e,a,n){return void 0===a&&(a=1),void 0===n&&(n=20),this.jwtRequest.get(t.URL,null,{q:e,page:a,per_page:n}).map(function(e){return e.json().data})},e.prototype.lista=function(e,a){return void 0===e&&(e=1),void 0===a&&(a=20),this.jwtRequest.get(t.URL,null,{page:e,per_page:a}).map(function(e){return e.json().data})},e.prototype.catalogo=function(e){return void 0===e&&(e=null),this.jwtRequest.get(t.URL,null,{filtro_usuario:1,subrogado:e}).map(function(e){return e.json().data})},e.prototype.ver=function(e){return this.jwtRequest.get(t.URL,e,{}).map(function(e){return e.json().data})},e.prototype.crear=function(e){return this.jwtRequest.post(t.URL,e).map(function(e){return e.json().data})},e.prototype.editar=function(e,a){return this.jwtRequest.put(t.URL,e,a).map(function(e){return e.json().data})},e.prototype.eliminar=function(e){return this.jwtRequest.delete(t.URL,e).map(function(e){return e.json().data})},e.URL="almacenes",e=t=os([Object(n.Injectable)(),ls("design:paramtypes",[c.Http,V])],e);var t}(),ds=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},us=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ps=function(){function e(e,t,a,n,r,i,s,o,l){this.title=e,this.location=t,this.router=a,this.route=n,this._ngZone=r,this.pedidosService=i,this.almacenesService=s,this.fb=o,this.cambiarEntornoService=l,this.cargando=!1,this.guardando=!1,this.cargandoAlmacenes=!1,this.cargandoInsumos=!1,this.cargandoPresupuestos=!1,this.esCluesOffline=!1,this.almacenDelUsuario={},this.erroresEnInsumos={lista:{},errores:0},this.esPedidoJurisdiccional=!1,this.esOficinaJurisdiccional=!1,this.mensajeError=new Ae,this.mensajeAdvertencia=new Ae,this.mensajeExito=new Ae,this.meses={0:"Sin seleccionar",1:"Enero",2:"Febrero",3:"Marzo",4:"Abril",5:"Mayo",6:"Junio",7:"Julio",8:"Agosto",9:"Septiembre",10:"Octubre",11:"Noviembre",12:"Diciembre"},this.formularioTitulo="Nuevo",this.esEditar=!1,this.totalMontoComprometidoCausesMaterial=0,this.totalMontoComprometidoNoCauses=0,this.mostrarModalInsumos=!1,this.listaClaveAgregadas=[],this.presupuesto={causes_disponible:0,no_causes_disponible:0,material_curacion_disponible:0,insumos_disponible:0},this.mes=0,this.anio=0,this.subrogados={},this.es_almacen_subrogado=!1,this.almacenSeleccionado={},this.fechasValidas=[],this.proveedor={},this.cargandoPdf=!1,this.mostrarModalListaClues=!1,this.loteSeleccionado=null}return e.prototype.ngOnInit=function(){var e=this,t=JSON.parse(localStorage.getItem("usuario"));"OA"==t.clues_activa.tipo&&(this.esOficinaJurisdiccional=!0),this.esCluesOffline=t.clues_activa.es_offline,this.almacenDelUsuario=t.almacen_activo,this.title.setTitle("Formulario pedido"),this.pdfworker=new Worker("web-workers/farmacia/pedidos/imprimir.js");var a=this,n=this._ngZone;this.cambiarEntornoSuscription=this.cambiarEntornoService.entornoCambiado$.subscribe(function(t){e.router.navigate(["/almacen/pedidos"])}),this.pdfworker.onmessage=function(e){n.run(function(){a.cargandoPdf=!1}),ft.saveAs(a.base64ToBlob(e.data.base64,"application/pdf"),e.data.fileName)},this.pdfworker.onerror=function(e){n.run(function(){a.cargandoPdf=!1}),console.log(e)},this.pedido=new vt(!0),this.route.params.subscribe(function(t){if(t.id)e.cargando=!0,e.pedido.id=t.id,e.esEditar=!0,e.formularioTitulo="Editar",e.title.setTitle("Editar pedido"),e.pedidosService.ver(t.id).subscribe(function(t){var a=new Date,n=a.getDate(),r=a.getMonth()+1,i=t.fecha.split("-"),s=parseInt(i[1]);if(i[0]<a.getFullYear()?e.fechasValidas.push({fecha:i[0]+"-"+i[1]+"-"+i[2],descripcion:e.meses[s]+" "+i[0]}):s<r&&i[0]==a.getFullYear()&&e.fechasValidas.push({fecha:i[0]+"-"+i[1]+"-"+i[2],descripcion:e.meses[s]+" "+i[0]}),s==r&&i[0]==a.getFullYear())e.fechasValidas.push({fecha:i[0]+"-"+i[1]+"-"+i[2],descripcion:e.meses[s]+" "+i[0]});else{var o=("0"+n).slice(-2),l=("0"+r).slice(-2);e.fechasValidas.push({fecha:a.getFullYear()+"-"+l+"-"+o,descripcion:e.meses[r]+" "+a.getFullYear()})}var c=r+1,d=a.getFullYear();13==c&&(c=1,d=a.getFullYear()+1);for(var u=c;u<=12;u++){l=("0"+u).slice(-2);s==u&&i[0]==d?e.fechasValidas.push({fecha:i[0]+"-"+i[1]+"-"+i[2],descripcion:e.meses[s]+" "+i[0]}):e.fechasValidas.push({fecha:d+"-"+l+"-01",descripcion:e.meses[u]+" "+d})}if(t.presupuesto_apartado){var p=t.presupuesto_apartado;e.totalMontoComprometidoCausesMaterial=+p.causes_comprometido+ +p.causes_devengado+ +p.material_curacion_comprometido+ +p.material_curacion_devengado,e.totalMontoComprometidoNoCauses=+p.no_causes_comprometido+ +p.no_causes_devengado}for(var m in e.pedido.datos.patchValue(t),e.pedido.status=t.status,e.pedido.presupuesto_id=t.presupuesto_id?t.presupuesto_id:0,e.proveedor=t.proveedor,e.cargarPresupuesto(s),e.cambioAlmacen(),t.insumos){var g=t.insumos[m],f=g.insumos_con_descripcion;if(f.cantidad=+g.cantidad_solicitada,f.monto=+g.monto_solicitado,f.precio=+g.precio_unitario,f.tipo_insumo_id=g.tipo_insumo_id,g.cantidad_recibida?f.cantidad_recibida=+g.cantidad_recibida:f.cantidad_recibida=0,"PJS"!=t.tipo_pedido_id)e.pedido.lista.push(f),e.listaClaveAgregadas.push(f.clave),e.esPedidoJurisdiccional=!1;else{e.esPedidoJurisdiccional=!0,f.lista_clues=g.lista_clues,e.pedido.lista.push(f),e.listaClaveAgregadas.push({clave:f.clave,lista:[]});var h=e.listaClaveAgregadas.length-1;for(var v in f.lista_clues)console.log(f.lista_clues[v]),e.listaClaveAgregadas[h].lista.push(f.lista_clues[v].clues)}}e.pedido.indexar(),e.pedido.listar(1),e.cargando=!1,e.cargarAlmacenes()},function(t){e.cargando=!1,e.mensajeError=new Ae(!0),e.mensajeError=new Ae(!0),e.mensajeError.mostrar;try{t.json();401==t.status&&(e.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){500==t.status?e.mensajeError.texto="500 (Error interno del servidor)":e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}});else{var a=new Date,n=a.getDate(),r=a.getMonth()+1,i=("0"+n).slice(-2),s=("0"+r).slice(-2);e.fechasValidas.push({fecha:a.getFullYear()+"-"+s+"-"+i,descripcion:e.meses[r]+" "+a.getFullYear()});var o=r+1;i="01";var l=a.getFullYear();13==o&&(o=1,l=a.getFullYear()+1);for(var c=o;c<=12;c++){var d=("0"+c).slice(-2);e.fechasValidas.push({fecha:l+"-"+d+"-"+i,descripcion:e.meses[c]+" "+l})}e.title.setTitle("Nuevo pedido"),e.cargarPresupuesto(),e.cargarAlmacenes()}})},e.prototype.obtenerDireccion=function(){return"BR"==this.pedido.status?"/almacen/pedidos/borradores":"/almacen/pedidos/todos"},e.prototype.toggleModalInsumos=function(){this.mostrarModalInsumos=!this.mostrarModalInsumos},e.prototype.toggleModalListaClues=function(e){this.loteSeleccionado=e,this.mostrarModalListaClues=!this.mostrarModalListaClues},e.prototype.agregarItem=function(e){void 0===e&&(e={});var t=this.pedido.paginacion.totalPaginas;if(this.esPedidoJurisdiccional){var a=e.insumo,n=!1;for(var r in this.pedido.lista){var i=0;if(this.pedido.lista[r].clave==a.clave){for(var s in n=!0,this.pedido.lista[r].lista_clues.push({clues:e.clues,nombre:e.nombre,cantidad:e.cantidad}),this.pedido.lista[r].lista_clues)i+=this.pedido.lista[r].lista_clues[s].cantidad;this.pedido.lista[r].cantidad=i,this.pedido.lista[r].monto=a.precio*i}}n||(a.lista_clues||(a.lista_clues=[]),a.lista_clues.push({clues:e.clues,nombre:e.nombre,cantidad:e.cantidad}),a.cantidad_recibida=0,a.cantidad=e.cantidad,a.monto=a.cantidad*a.precio,this.pedido.lista.push(a))}else e.cantidad_recibida||(e.cantidad_recibida=0),e.monto=e.cantidad*e.precio,this.pedido.lista.push(e);this.pedido.indexar(),this.pedido.paginacion.lista.length!=this.pedido.paginacion.resultadosPorPagina||this.pedido.paginacion.paginaActual!=t||this.pedido.filtro.activo?this.pedido.listar(this.pedido.paginacion.paginaActual):this.pedido.listar(this.pedido.paginacion.paginaActual+1),console.log(this.pedido)},e.prototype.modificarItem=function(e){void 0===e&&(e={}),e.monto=e.cantidad*e.precio,this.pedido.actualizarTotales(),this.erroresEnInsumos.lista[e.clave]&&(delete this.erroresEnInsumos.lista[e.clave],this.erroresEnInsumos.errores-=1),(e.cantidad<e.cantidad_recibida||e.cantidad<=0)&&(this.erroresEnInsumos.lista[e.clave]=!0,this.erroresEnInsumos.errores+=1)},e.prototype.buscar=function(e,t,a,n){var r=t.value;if(27==e.keyCode)return e.preventDefault(),e.stopPropagation(),t.value="",a.value="",this.pedido.filtro.activo=!1,void(this.pedido.filtro.lista=[]);if(a.value!=r){if(e.preventDefault(),e.stopPropagation(),a.value=r,""==r)return this.pedido.filtro.activo=!1,void(this.pedido.filtro.lista=[]);this.pedido.filtro.activo=!0;var i=[],s=function(e){var t=n[e].input.value;if(""==t)return"continue";var a=o.pedido.lista.filter(function(a){var r="",i=n[e].campos;for(var s in i)try{var o=i[s].split(".");o.length>1?r+=" "+a[o[0]][o[1]].toLowerCase():r+=" "+a[i[s]].toLowerCase()}catch(e){}return r.includes(t.toLowerCase())});i.push(a)},o=this;for(var l in n)s(l);if(i.length>1){for(var c=(i=i.sort(function(e,t){return e.length-t.length}))[0],d=[],u=1;u<i.length;u++)for(var l in i[u])for(var p in c)i[u][l]===c[p]&&d.push(c[p]);this.pedido.filtro.lista=d}else this.pedido.filtro.lista=i[0];this.pedido.filtro.indexar(!1),this.pedido.filtro.paginacion.paginaActual=1,this.pedido.filtro.listar(1)}},e.prototype.deshabilitarAlmacen=function(e){return!!(this.esPedidoJurisdiccional&&this.pedido.lista.length>0&&this.subrogados[e.id])||!(!(this.esOficinaJurisdiccional&&this.pedido.lista.length>0)||this.subrogados[e.id])},e.prototype.eliminarInsumo=function(e,t,a){if(void 0===a&&(a=!1),e.cantidad_recibida>0)return!1;var n=this.listaClaveAgregadas.indexOf(e.clave);this.listaClaveAgregadas.splice(n,1),a?this.pedido.filtro.eliminarItem(e,t):this.pedido.eliminarItem(e,t),this.erroresEnInsumos.lista[e.clave]&&(delete this.erroresEnInsumos.lista[e.clave],this.erroresEnInsumos.errores-=1)},e.prototype.mostrarFichaInformativa=function(e,t){e.preventDefault(),e.stopPropagation(),alert(t)},e.prototype.finalizar=function(){var e=prompt("Atenci\xf3n el pedido ya no podra editarse, para confirmar que desea concluir el pedido por favor escriba: CONCLUIR PEDIDO");if("CONCLUIR PEDIDO"!=e)return null!=e&&alert("Error al ingresar el texto para confirmar la acci\xf3n."),!1;this.guardar(!0)},e.prototype.guardar=function(e){var t,a=this;if(void 0===e&&(e=!1),this.guardando=!0,this.mensajeError.mostrar=!1,"ALMPAL"!=this.almacenDelUsuario.tipo_almacen?this.pedido.datos.controls.almacen_solicitante.setValue(this.almacenDelUsuario.id):this.pedido.datos.controls.almacen_proveedor.setValue("SIN ALMACEN PROVEEDOR"),this.pedido.datos.invalid)return this.pedido.datos.get("almacen_solicitante").markAsTouched(),this.pedido.datos.get("almacen_proveedor").markAsTouched(),this.pedido.datos.get("descripcion").markAsTouched(),this.pedido.datos.get("fecha").markAsTouched(),this.guardando=!1,!1;if(this.erroresEnInsumos.errores>0){var n=[];for(var r in this.erroresEnInsumos.lista)n.push(r);return this.mensajeError=new Ae(!1),this.mensajeError.texto="Se encontaron errores en los siguientes insumos: "+n.join(", "),this.mensajeError.mostrar=!0,this.guardando=!1,!1}if(t=this.pedido.obtenerDatosGuardar(),e){if(t.datos.status="CONCLUIR","ALMPAL"==this.almacenDelUsuario.tipo_almacen){var i=this.totalMontoComprometidoCausesMaterial+(this.presupuesto.insumos_disponible-(+this.pedido.totalMontoCauses.toFixed(2)+ +this.pedido.totalMontoMaterialCuracion.toFixed(2))),s=this.totalMontoComprometidoNoCauses+this.presupuesto.no_causes_disponible-+this.pedido.totalMontoNoCauses.toFixed(2);if(i<0||s<0)return this.guardando=!1,this.mensajeError=new Ae(!0),this.mensajeError.texto="Presupuesto insuficiente",this.mensajeError.mostrar=!0,!1}}else t.datos.status="BR";this.esEditar?this.pedidosService.editar(this.pedido.id,t).subscribe(function(e){a.guardando=!1,"BR"!=e.status&&a.router.navigate(["/almacen/pedidos/ver/"+e.id])},function(e){a.guardando=!1,a.mensajeError=new Ae(!0),a.mensajeError.texto="No especificado",a.mensajeError.mostrar=!0,console.log(a.pedido),"CONCLUIR"==a.pedido.status&&(a.pedido.status="BR");try{var t=e.json();console.log(t),401==e.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n."),409==e.status&&(a.mensajeError.texto="Por favor verfique los campos marcados en rojo."),500==e.status&&t.error&&(a.mensajeError.texto=t.error,a.mensajeError.cuentaAtras=1e3)}catch(t){500==e.status?a.mensajeError.texto="500 (Error interno del servidor)":(console.log(t),a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir.")}}):this.pedidosService.crear(t).subscribe(function(e){a.router.navigate(["/almacen/pedidos/editar/"+e.id])},function(e){a.guardando=!1,console.log(e),a.mensajeError=new Ae(!0),a.mensajeError.texto="No especificado",a.mensajeError.mostrar=!0;try{var t=e.json();401==e.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n."),409==e.status&&(a.mensajeError.texto="Por favor verfique los campos marcados en rojo."),500==e.status&&t.error&&(a.mensajeError.texto=t.error,a.mensajeError.cuentaAtras=1e3)}catch(t){500==e.status?a.mensajeError.texto="500 (Error interno del servidor)":(console.log(t),a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir.")}})},e.prototype.cambioAlmacen=function(){var e=this.pedido.datos.get("almacen_solicitante").value;this.subrogados[e]?this.es_almacen_subrogado=!0:this.es_almacen_subrogado=!1,this.cargarPresupuesto(this.mes,this.anio),this.almacenSeleccionado={id:e,subrogado:this.es_almacen_subrogado},this.esOficinaJurisdiccional&&!this.subrogados[e]?this.esPedidoJurisdiccional=!0:this.esPedidoJurisdiccional=!1},e.prototype.cargarAlmacenes=function(){var e=this;this.cargandoAlmacenes=!0;var t=null;this.esPedidoJurisdiccional&&this.esEditar&&this.esOficinaJurisdiccional?t=0:!this.esPedidoJurisdiccional&&this.esEditar&&this.esOficinaJurisdiccional&&(t=1),this.almacenesService.catalogo(t).subscribe(function(t){for(var a in e.cargandoAlmacenes=!1,e.almacenes=t,t)1==t[a].subrogado&&"FARSBR"==t[a].tipo_almacen&&(e.subrogados[t[a].id]=!0);if(!e.esEditar){e.pedido.inicializarDatos({})}console.log("Almacenes cargados."),0==e.almacenes.length?(e.mensajeAdvertencia=new Ae(!0),e.mensajeAdvertencia.texto="No hay almacenes registrados en el sistema, p\xf3ngase en contacto con un administrador.",e.mensajeAdvertencia.mostrar=!0):e.esPedidoJurisdiccional},function(t){e.cargandoAlmacenes=!1,e.mensajeError=new Ae(!0),e.mensajeError.texto="No especificado.",e.mensajeError.mostrar=!0;try{t.json();401==t.status&&(e.mensajeError.texto="No tiene permiso para ver los almacenes."),500==t.status&&(e.mensajeError.texto="500 (Error interno del servidor). No se pudieron cargar los almacenes")}catch(a){500==t.status?e.mensajeError.texto="500 (Error interno del servidor). No se pudieron cargar los almacenes":e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir.  No se pudieron cargar los almacenes"}})},e.prototype.recargarPresupuesto=function(e){console.log(e);var t=e.split("-");if(3==t.length){var a=t[1],n=t[0];2==a.length&&4==n.length&&(a=parseInt(a),n=parseInt(n),(a!=this.mes||n!=this.anio)&&a>0&&a<13&&this.cargarPresupuesto(a,n))}},e.prototype.cargarPresupuesto=function(e,t){var a=this;(void 0===e&&(e=0),void 0===t&&(t=0),0==e)&&(e=(new Date).getMonth()+1);0==t&&(t=(new Date).getFullYear());this.mes=e,this.anio=t;var n=this.pedido.datos.get("almacen_solicitante").value;if(n){this.cargandoPresupuestos=!0;var r=0;this.esEditar&&(r=this.pedido.presupuesto_id),this.pedidosService.presupuesto(e,t,n,r).subscribe(function(e){a.cargando=!1,e.data?a.presupuesto=e.data:(a.presupuesto.insumos_disponible=0,a.presupuesto.causes_disponible=0,a.presupuesto.no_causes_disponible=0,a.presupuesto.material_curacion_disponible=0),a.cargandoPresupuestos=!1},function(e){a.cargando=!1,a.cargandoPresupuestos=!1,console.log(e)})}},e.prototype.keyboardInput=function(e){32==e.keyCode&&e.ctrlKey&&(event.preventDefault(),event.stopPropagation(),this.mostrarModalInsumos=!0),39==e.keyCode&&(e.ctrlKey&&e.shiftKey||e.ctrlKey)&&(event.preventDefault(),event.stopPropagation(),this.pedido.filtro.activo?this.pedido.filtro.paginaSiguiente():this.pedido.paginaSiguiente()),37==e.keyCode&&(e.ctrlKey&&e.shiftKey||e.ctrlKey)&&(event.preventDefault(),event.stopPropagation(),this.pedido.filtro.activo?this.pedido.filtro.paginaAnterior():this.pedido.paginaAnterior())},e.prototype.imprimirExcel=function(){var e="token="+localStorage.getItem("token");window.open(v.API_URL+"/generar-excel-pedido/"+this.pedido.id+"?"+e)},e.prototype.imprimir=function(){try{console.log(this.pedido),this.cargandoPdf=!0;var e={datos:{almacen:"solicitar",solicitante:"unidad",observaciones:"texto"},lista:this.pedido.lista};this.pdfworker.postMessage(JSON.stringify(e))}catch(e){this.cargandoPdf=!1,console.log(e)}},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},e.prototype.ngOnDestroy=function(){this.cambiarEntornoSuscription.unsubscribe()},e=ds([Object(n.Component)({selector:"app-formulario",template:a("ckf6"),styles:[a("cY0Z")],host:{"(window:keydown)":"keyboardInput($event)"}}),us("design:paramtypes",[i.Title,o.Location,h.b,h.a,n.NgZone,ns,cs,l.FormBuilder,ae])],e)}(),ms=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},gs=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},fs=function(){function e(e,t,a,n,r,i,s,o,l){this.title=e,this.location=t,this.router=a,this.route=n,this._ngZone=r,this.pedidosService=i,this.almacenesService=s,this.fb=o,this.cambiarEntornoService=l,this.cargando=!1,this.cargandoAlmacenes=!1,this.cargandoInsumos=!1,this.esCluesOffline=!1,this.mensajeError=new Ae,this.mensajeAdvertencia=new Ae,this.mensajeExito=new Ae,this.mostrarImprimirDialogo=!1,this.mostrarCancelarDialogo=!1,this.mostrarPedidoAlternoDialogo=!1,this.tiposSubPedidos=[],this.subPedidos={},this.listaInsumosPedidoAlterno=[],this.recepciones={},this.tieneRecepcionIniciada=!1,this.meses={1:"Enero",2:"Febrero",3:"Marzo",4:"Abril",5:"Mayo",6:"Junio",7:"Julio",8:"Agosto",9:"Septiembre",10:"Octubre",11:"Noviembre",12:"Diciembre"},this.dialogCancelarFechaTransferencia={},this.dialogCancelarMeses=[],this.errorCancelarPedido=!1,this.errorCancelarPedidoTexto="",this.cancelandoPedido=!1,this.errorCancelarTransferencia=!1,this.errorCancelarTransferenciaTexto="",this.mostrarCancelarTransferenciaDialogo=!1,this.motivosCancelarTransferencia="",this.puedeCancelarTransferencia=!1,this.errorGenerarPedidoAlterno=!1,this.errorGenerarPedidoAlternoTexto="",this.generandoPedidoAlterno=!1,this.acta={fecha:new Date,hora_inicio:new Date,hora_termino:new Date((new Date).setHours((new Date).getHours()+1)),ciudad:null,lugar_reunion:null},this.errores_acta={fecha:null,hora_inicio:null,hora_termino:null,ciudad:null,lugar_reunion:null},this.formularioTitulo="Nuevo",this.esEditar=!1,this.mostrarModalInsumos=!1,this.porcentageTotalPedido=0,this.cargandoPdf={},this.errorEnPDF=!1,this.cargandoActa=!1,this.errorPDFActa=!1,this.usuario={},this.permisos=[],this.permisoCancelarPedido=!1}return e.prototype.ngOnInit=function(){var e=this;for(var t in this.title.setTitle("Ver pedido"),this.usuario=JSON.parse(localStorage.getItem("usuario")),this.esCluesOffline=this.usuario.clues_activa.es_offline,this.permisos=this.usuario.permisos.split("|"),this.permisos)if("pVJrPewkPFwidvmECcgg8BqVXn7FtH7E"==this.permisos[t]){this.permisoCancelarPedido=!0;break}this.cambiarEntornoSuscription=this.cambiarEntornoService.entornoCambiado$.subscribe(function(t){e.router.navigate(["/almacen/pedidos"])}),this.pdfworker=new Worker("web-workers/farmacia/pedidos/pedido-proveedor.js"),this.pdfworkerActa=new Worker("web-workers/farmacia/actas/imprimir.js");var a=this,n=this._ngZone;this.pdfworker.onmessage=function(e){n.run(function(){console.log(e),a.cargandoPdf[e.data.tipoPedido]=!1}),ft.saveAs(a.base64ToBlob(e.data.base64,"application/pdf"),e.data.fileName)},this.pdfworker.onerror=function(e){n.run(function(){console.log(e),a.errorEnPDF=!0})},this.pdfworkerActa.onmessage=function(e){n.run(function(){console.log(e),a.cargandoActa=!1}),ft.saveAs(a.base64ToBlob(e.data.base64,"application/pdf"),e.data.fileName)},this.pdfworkerActa.onerror=function(e){n.run(function(){console.log(e),a.errorPDFActa=!0})},this.pedido=new vt(!0),this.route.params.subscribe(function(t){t.id?(e.cargando=!0,e.pedido.id=t.id,e.pedido.status="PS",e.esEditar=!0,e.formularioTitulo="Editar",e.pedidosService.ver(t.id).subscribe(function(t){e.pedido.datosImprimir=t,e.pedido.status=t.status,e.pedido.recepcionPermitida=t.recepcion_permitida,e.pedido.tipo_pedido=t.tipo_pedido_id;var a=0;for(var n in t.insumos){var r=t.insumos[n],i=r.insumos_con_descripcion;i.cantidad=+r.cantidad_solicitada,i.cantidad_recibida=+r.cantidad_recibida||0,i.monto=+r.monto_solicitado,i.monto_recibido=+r.monto_recibido||0,i.precio=+r.precio_unitario,r.cantidad_enviada&&(a+=r.cantidad_enviada-r.cantidad_recibida),i.tipo_insumo_id=r.tipo_insumo_id,e.pedido.lista.push(i);var s;if(s=r.tipo_insumo.clave,!e.subPedidos[s]){var o=!1;"MC"==r.tipo_insumo.clave&&(o=!0),e.tiposSubPedidos.push(s),e.cargandoPdf[s]=!1,e.subPedidos[s]={titulo:r.tipo_insumo.nombre,clave_folio:s,claves:0,cantidad:0,monto:0,iva:0,tiene_iva:o,lista:[]}}e.subPedidos[s].claves++,e.subPedidos[s].cantidad+=i.cantidad,e.subPedidos[s].monto+=i.monto,e.subPedidos[s].lista.push(i)}if("PEA"!=t.tipo_pedido_id||"ET"!=t.status&&"SD"!=t.status)for(var l in t.recepciones)t.recepciones[l].entrada&&"BR"==t.recepciones[l].entrada.status&&(e.tieneRecepcionIniciada=!0);else{for(var c in t.historial_transferencia_completo){var d=t.historial_transferencia_completo[c];"CAPTURA PEA"==d.evento?e.puedeCancelarTransferencia=!0:"SURTIO PEA"==d.evento?e.puedeCancelarTransferencia=!1:"RECEPCION PEA"==d.evento&&0==a&&(e.puedeCancelarTransferencia=!0)}e.puedeCancelarTransferencia=!0}t.insumos=void 0,e.pedido.indexar(),e.pedido.listar(1);var u=(e.pedido.datosImprimir.total_claves_recibidas||0)/e.pedido.lista.length*100,p=(e.pedido.datosImprimir.total_cantidad_recibida||0)/e.pedido.totalInsumos*100,m=(e.pedido.datosImprimir.total_monto_recibido||0)/e.pedido.totalMonto*100;e.porcentageTotalPedido=(p+u+m)/3,e.cargando=!1},function(t){e.cargando=!1,e.mensajeError=new Ae(!0,5);try{var a=t.json();401==t.status?e.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.":e.mensajeError.texto=a.error,e.mensajeError.mostrar}catch(a){500==t.status?e.mensajeError.texto="500 (Error interno del servidor)":e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}}),console.log("editar pedido")):console.log("nuevo pedido")})},e.prototype.obtenerDireccion=function(){if(this.pedido.status)return"PS"==this.pedido.status?"/almacen/pedidos/por-surtir":"ET"==this.pedido.status?"/almacen/pedidos/en-transito":"FI"==this.pedido.status?"/almacen/pedidos/finalizados":"EF"==this.pedido.status?"/almacen/pedidos/farmacia-subrogada":"EX"==this.pedido.status?"/almacen/pedidos/expirados":"EX-CA"==this.pedido.status?"/almacen/pedidos/expirados-cancelados":"PV"==this.pedido.status||"VAL"==this.pedido.status?"/almacen/pedidos/alternos":"/almacen/pedidos/todos"},e.prototype.buscar=function(e,t,a,n){var r=t.value;if(27==e.keyCode)return e.preventDefault(),e.stopPropagation(),t.value="",a.value="",this.pedido.filtro.activo=!1,void(this.pedido.filtro.lista=[]);if(a.value!=r){if(e.preventDefault(),e.stopPropagation(),a.value=r,""==r)return this.pedido.filtro.activo=!1,void(this.pedido.filtro.lista=[]);this.pedido.filtro.activo=!0;var i=[],s=function(e){var t=n[e].input.value;if(""==t)return"continue";var a=o.pedido.lista.filter(function(a){var r="",i=n[e].campos;for(var s in i)try{var o=i[s].split(".");o.length>1?r+=" "+a[o[0]][o[1]].toLowerCase():r+=" "+a[i[s]].toLowerCase()}catch(e){}return r.includes(t.toLowerCase())});i.push(a)},o=this;for(var l in n)s(l);if(i.length>1){for(var c=(i=i.sort(function(e,t){return e.length-t.length}))[0],d=[],u=1;u<i.length;u++)for(var l in i[u])for(var p in c)i[u][l]===c[p]&&d.push(c[p]);this.pedido.filtro.lista=d}else this.pedido.filtro.lista=i[0];this.pedido.filtro.indexar(!1),this.pedido.filtro.paginacion.paginaActual=1,this.pedido.filtro.listar(1)}},e.prototype.mostrarFichaInformativa=function(e,t){e.preventDefault(),e.stopPropagation(),alert(t),console.log(t)},e.prototype.keyboardInput=function(e){32==e.keyCode&&e.ctrlKey&&(event.preventDefault(),event.stopPropagation(),this.mostrarModalInsumos=!0),39==e.keyCode&&(e.ctrlKey&&e.shiftKey||e.ctrlKey)&&(event.preventDefault(),event.stopPropagation(),this.pedido.filtro.activo?this.pedido.filtro.paginaSiguiente():this.pedido.paginaSiguiente()),37==e.keyCode&&(e.ctrlKey&&e.shiftKey||e.ctrlKey)&&(event.preventDefault(),event.stopPropagation(),this.pedido.filtro.activo?this.pedido.filtro.paginaAnterior():this.pedido.paginaAnterior())},e.prototype.imprimirExcel=function(){var e="token="+localStorage.getItem("token");window.open(v.API_URL+"/generar-excel-pedido/"+this.pedido.id+"?"+e)},e.prototype.imprimir=function(e){void 0===e&&(e="");try{this.cargandoPdf[e]=!0;var t={datos:this.pedido.datosImprimir,insumos:this.subPedidos[e]};this.pdfworker.postMessage(JSON.stringify(t))}catch(t){this.cargandoPdf[e]=!1,console.log(t)}},e.prototype.imprimirActa=function(){try{this.cargandoActa=!0,this.pdfworkerActa.postMessage(JSON.stringify(this.pedido.datosImprimir.acta))}catch(e){this.cargandoActa=!1,console.log(e)}},e.prototype.mostrarDialogo=function(){this.mostrarImprimirDialogo=!0},e.prototype.cerrarDialogo=function(){this.mostrarImprimirDialogo=!1},e.prototype.mostrarDialogoCancelarPedido=function(){this.dialogCancelarMeses=[],this.errorCancelarPedido=!1,this.errorCancelarPedidoTexto="Ocurrio un error al intentar cancelar el pedido";var e=this.pedido.datosImprimir.fecha.split("-"),t=new Date,a=(t.getFullYear(),t.getMonth()+1);parseInt(e[1]);this.dialogCancelarMeses.push({anio:parseInt(e[0]),mes:a,descripcion:this.meses[a]+" "+e[0]});for(var n=1;n<=2;n++)(a+=1)<=12&&this.dialogCancelarMeses.push({anio:parseInt(e[0]),mes:a,descripcion:this.meses[a]+" "+e[0]});this.dialogCancelarFechaTransferencia=this.dialogCancelarMeses[0],this.mostrarCancelarDialogo=!0},e.prototype.mostrarDialogoCancelarTransferencia=function(){this.errorCancelarTransferencia=!1,this.errorCancelarTransferenciaTexto="Ocurrio un error al intentar cancelar el pedido",this.mostrarCancelarTransferenciaDialogo=!0,this.motivosCancelarTransferencia=""},e.prototype.mostrarDialogoPedidoAlternoPedido=function(){for(var e in this.mostrarPedidoAlternoDialogo=!0,this.listaInsumosPedidoAlterno=[],this.pedido.lista){var t=this.pedido.lista[e],a=t.cantidad-t.cantidad_recibida;a&&this.listaInsumosPedidoAlterno.push({clave:t.clave,descripcion:t.descripcion,cantidad_limite:a,cantidad:a,precio:t.precio,tipo:t.tipo,tipo_insumo_id:t.tipo_insumo_id,es_causes:t.es_causes})}},e.prototype.cancelarTransferencia=function(){var e=this,t=prompt("Para confirmar esta transacci\xf3n, por favor escriba: CANCELAR TRANSFERENCIA");if("CANCELAR TRANSFERENCIA"!=t)return null!=t&&alert("Error al ingresar el texto para confirmar la transferencia."),!1;if(""==this.motivosCancelarTransferencia)return this.errorCancelarTransferencia=!0,this.errorCancelarTransferenciaTexto="No se especific\xf3 ning\xfan motivo.",!1;this.cancelandoPedido=!0;var a={motivos:this.motivosCancelarTransferencia};this.pedidosService.cancelarTransferencia(this.pedido.datosImprimir.id,a).subscribe(function(t){e.pedido.status="EX-CA",e.cancelandoPedido=!1,e.mostrarCancelarTransferenciaDialogo=!1,e.errorCancelarTransferencia=!1},function(t){console.log(t),e.errorCancelarTransferencia=!0,e.cancelandoPedido=!1,e.mostrarCancelarTransferenciaDialogo=!0;try{var a=t.json();401==t.status&&(e.errorCancelarTransferenciaTexto="No tiene permiso para esta acci\xf3n."),500==t.status&&(e.errorCancelarTransferenciaTexto="500 (Error interno del servidor)"),a.error&&(e.errorCancelarTransferenciaTexto=a.error)}catch(a){500==t.status?e.errorCancelarTransferenciaTexto="500 (Error interno del servidor)":e.errorCancelarTransferenciaTexto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.transferirRecurso=function(){var e=this,t=prompt("Para confirmar esta transacci\xf3n, por favor escriba: CANCELAR PEDIDO");if("CANCELAR PEDIDO"==t){this.cancelandoPedido=!0;var a={transferir_a_mes:this.dialogCancelarFechaTransferencia.mes,transferir_a_anio:this.dialogCancelarFechaTransferencia.anio};this.pedidosService.cancelarPedidoTransferir(this.pedido.datosImprimir.id,a).subscribe(function(t){e.pedido.status="EX-CA",e.cancelandoPedido=!1,e.mostrarCancelarDialogo=!1,e.errorCancelarPedido=!1},function(t){console.log(t),e.errorCancelarPedido=!0,e.cancelandoPedido=!1,e.mostrarCancelarDialogo=!0;try{var a=t.json();401==t.status&&(e.errorCancelarPedidoTexto="No tiene permiso para esta acci\xf3n."),500==t.status&&(e.errorCancelarPedidoTexto="500 (Error interno del servidor)"),a.error&&(e.errorCancelarPedidoTexto=a.error)}catch(a){500==t.status?e.errorCancelarPedidoTexto="500 (Error interno del servidor)":e.errorCancelarPedidoTexto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})}else null!=t&&alert("Error al ingresar el texto para confirmar la transferencia.")},e.prototype.cerrarDialogoCancelarPedido=function(){this.mostrarCancelarDialogo=!1},e.prototype.cerrarDialogoCancelarTransferencia=function(){this.mostrarCancelarTransferenciaDialogo=!1},e.prototype.cerrarDialogoPedidoAlterno=function(){this.mostrarPedidoAlternoDialogo=!1},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},e.prototype.elaborarPedidoAlterno=function(){var e=this;console.log(this.acta.hora_termino);var t=prompt("Para confirmar esta transacci\xf3n, por favor escriba: PEDIDO ALTERNO");if("PEDIDO ALTERNO"==t){this.generandoPedidoAlterno=!0,this.errores_acta={fecha:null,hora_inicio:null,hora_termino:null,ciudad:null,lugar_reunion:null};var a={insumos:this.listaInsumosPedidoAlterno,ciudad:this.acta.ciudad,lugar_reunion:this.acta.lugar_reunion,fecha:this.acta.fecha.getFullYear()+"-"+this.acta.fecha.getMonth()+"-"+this.acta.fecha.getDate(),hora_inicio:this.acta.hora_inicio.getHours()+":"+this.acta.hora_inicio.getMinutes()+":00",hora_termino:this.acta.hora_termino.getHours()+":"+this.acta.hora_termino.getMinutes()+":00"};this.pedidosService.generarPedidoAlterno(this.pedido.datosImprimir.id,a).subscribe(function(t){e.generandoPedidoAlterno=!1,e.router.navigate(["/almacen/pedidos/actas/"+t.id])},function(t){e.generandoPedidoAlterno=!1,e.errorGenerarPedidoAlterno=!0;try{var a=t.json();if(401==t.status)e.errorGenerarPedidoAlternoTexto="No tiene permiso para esta acci\xf3n.";else if(409==t.status)for(var n in e.errorGenerarPedidoAlternoTexto="Verifique los campos marcados de color rojo.",a.error)for(var r in a.error[n])e.errores_acta[n]=a.error[n][r];else 500==t.status?e.errorGenerarPedidoAlternoTexto="500 (Error interno del servidor)":a.error&&(e.errorGenerarPedidoAlternoTexto=a.error)}catch(a){500==t.status?e.errorGenerarPedidoAlternoTexto="500 (Error interno del servidor)":e.errorGenerarPedidoAlternoTexto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})}else null!=t&&alert("Error al ingresar el texto para confirmar la generaci\xf3n del pedido alterno.")},e.prototype.validarCantidad=function(e){(e.value<0||isNaN(e.value)||0==Math.sign(e.value))&&(e.value=0)},e.prototype.ngOnDestroy=function(){this.cambiarEntornoSuscription.unsubscribe()},e=ms([Object(n.Component)({selector:"app-ver",template:a("K2DH"),styles:[a("Au7A")],host:{"(window:keydown)":"keyboardInput($event)"}}),gs("design:paramtypes",[i.Title,o.Location,h.b,h.a,n.NgZone,ns,cs,l.FormBuilder,ae])],e)}(),hs=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},vs=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},bs=function(){function e(e,t){this.http=e,this.jwtRequest=t}return t=e,e.prototype.verRecepcionPedido=function(e){return this.jwtRequest.get(t.URL,e,{}).map(function(e){return e.json().data})},e.prototype.guardarRecepcionPedido=function(e,a){return this.jwtRequest.put(t.URL,e,a).map(function(e){return e.json().data})},e.URL="recepcion-pedido",e=t=hs([Object(n.Injectable)(),vs("design:paramtypes",[c.Http,V])],e);var t}(),ys=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},_s=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},xs=function(){function e(e,t){this.http=e,this.jwtRequest=t}return t=e,e.prototype.buscar=function(e,a){return void 0===a&&(a=null),this.jwtRequest.get(t.URL,null,{q:e,clave:a}).map(function(e){return e.json().data})},e.URL="stock",e=t=ys([Object(n.Injectable)(),_s("design:paramtypes",[c.Http,V])],e);var t}(),Is=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},js=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ks=function(){function e(e,t,a,n,r,i,s){this.title=e,this.route=t,this.pedidosService=a,this.recepcionService=n,this.stockService=r,this.router=i,this.cambiarEntornoService=s,this.cargando=!1,this.guardando=!1,this.cargandoStock=!1,this.capturarStock=!1,this.minDate=new Date,this.maxDate=new Date,this.puedeEliminarStock=!0,this.mostrarDialogo=!1,this.erroresFormularioStock={cantidad:{error:!1},lote:{error:!1},fecha_caducidad:{error:!1}},this.statusRecepcion="NV",this.mensajeError=new Ae,this.mensajeAdvertencia=new Ae,this.mensajeExito=new Ae,this.formStock={},this.lotesSurtidos=[],this.listaStock=[],this.claveInsumoSeleccionado=null,this.claveNoSolicitada=!1,this.itemSeleccionado=null,this.formularioTieneError=function(e,t){return this.formularioRecepcion.get(e).hasError(t)&&this.formularioRecepcion.get(e).touched},this.fb=new l.FormBuilder;var o=new Date,c=("0"+o.getDate()).slice(-2),d=("0"+(o.getMonth()+1)).slice(-2),u=o.getFullYear()+"-"+d+"-"+c;this.formularioRecepcion=this.fb.group({entrega:["",[l.Validators.required]],recibe:["",[l.Validators.required]],fecha_movimiento:[u,[l.Validators.required]],observaciones:""})}return e.prototype.ngOnInit=function(){var e=this;this.title.setTitle("Surtir pedido / Almac\xe9n"),this.cambiarEntornoSuscription=this.cambiarEntornoService.entornoCambiado$.subscribe(function(t){e.router.navigate(["/almacen/pedidos"])});var t=new Date;this.minDate=new Date(t.getFullYear(),t.getMonth(),t.getDate()),this.maxDate=new Date(t.getFullYear(),t.getMonth(),t.getDate()),this.route.params.subscribe(function(t){e.id=t.id}),this.cargando=!0,this.recepcionService.verRecepcionPedido(this.id).subscribe(function(t){e.cargando=!1,e.pedido=new vt(!0),e.pedido.paginacion.resultadosPorPagina=10,e.pedido.filtro.paginacion.resultadosPorPagina=10,e.folio=t.folio;var a={};if("PA"==t.tipo_pedido_id||"PJS"==t.tipo_pedido_id||"PFS"==t.tipo_pedido_id){if(1==t.recepciones.length){var n=t.recepciones[0].entrada_abierta.insumos;for(var r in n){a[(m=n[r]).stock.clave_insumo_medico]||(a[m.stock.clave_insumo_medico]={cantidad:0,stock:[]}),a[m.stock.clave_insumo_medico].cantidad+=+m.cantidad,m.stock.cantidad=+m.cantidad,a[m.stock.clave_insumo_medico].stock.push(m.stock)}for(var i in a)e.lotesSurtidos.push({clave:i,cantidad:a[i].cantidad});e.statusRecepcion="BR"}}else if("PEA"==t.tipo_pedido_id&&t.historial_transferencia_completo.length>0){var s=null,o=null,l=null;for(var r in t.historial_transferencia_completo){var c=t.historial_transferencia_completo[r];"SURTIO PEA"==c.evento?(l=c.movimiento,o=null,s=null):"RECEPCION PEA"==c.evento&&("BR"==c.status?o=c.movimiento:s=c.movimiento)}if(s)e.statusRecepcion="FI";else if(l){n=l.insumos;for(var r in n){a[(m=n[r]).stock.clave_insumo_medico]||(a[m.stock.clave_insumo_medico]={cantidad:0,stock:[]}),o?(m.stock.cantidad_enviada=+m.cantidad,m.stock.cantidad_recibida=0,a[m.stock.clave_insumo_medico].stock.push(m.stock)):(a[m.stock.clave_insumo_medico].cantidad+=+m.cantidad,m.stock.cantidad_enviada=+m.cantidad,m.stock.cantidad_recibida=+m.cantidad,a[m.stock.clave_insumo_medico].stock.push(m.stock))}if(!o){for(var i in a)e.lotesSurtidos.push({clave:i,cantidad:a[i].cantidad});e.statusRecepcion="NV",e.puedeEliminarStock=!1}}if(o){n=o.insumos;for(var r in n){if(a[(m=n[r]).stock.clave_insumo_medico]){for(var d in a[m.stock.clave_insumo_medico].stock){var u=a[m.stock.clave_insumo_medico].stock[d];u.lote==m.stock.lote&&u.fecha_caducidad==m.stock.fecha_caducidad&&u.codigo_barras==m.stock.codigo_barras&&(u.cantidad_recibida=+m.cantidad)}a[m.stock.clave_insumo_medico].cantidad+=+m.cantidad}}for(var i in a)e.lotesSurtidos.push({clave:i,cantidad:a[i].cantidad});e.statusRecepcion="BR",e.puedeEliminarStock=!1}}for(var p in"FI"==t.status&&(e.statusRecepcion="FI"),t.insumos){var m,g=t.insumos[p];if((m=g.insumos_con_descripcion).cantidad=+g.cantidad_solicitada,m.cantidad_recibida=+g.cantidad_recibida,m.monto=+g.monto_solicitado,m.precio=+g.precio_unitario,m.totalStockAsignado=+g.cantidad_recibida,a[m.clave])for(var f in m.listaStockAsignado=[],m.totalStockAsignado+=a[m.clave].cantidad,a[m.clave].stock){var h=a[m.clave].stock[f];m.listaStockAsignado.push({codigo_barras:h.codigo_barras,lote:h.lote,fecha_caducidad:h.fecha_caducidad,cantidad_enviada:h.cantidad_enviada,cantidad_recibida:h.cantidad_recibida,cantidad:h.cantidad})}e.pedido.lista.push(m)}t.insumos=void 0,e.pedido.tipo_pedido=t.tipo_pedido_id,e.pedido.datosImprimir=t,e.pedido.indexar(),e.pedido.listar(1)},function(t){e.cargando=!1,e.mensajeError=new Ae(!0),e.mensajeError.mostrar;try{var a=t.json();401==t.status?e.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.":e.mensajeError.texto=a.error}catch(a){500==t.status?e.mensajeError.texto="500 (Error interno del servidor)":e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.seleccionarItem=function(e){this.itemSeleccionado=e,this.capturarStock=!0,this.formStock={},this.erroresFormularioStock={cantidad:{error:!1},lote:{error:!1},fecha_caducidad:{error:!1}}},e.prototype.buscar=function(e,t,a,n){var r=t.value;if(27==e.keyCode)return e.preventDefault(),e.stopPropagation(),t.value="",a.value="",this.pedido.filtro.activo=!1,void(this.pedido.filtro.lista=[]);if(a.value!=r){if(e.preventDefault(),e.stopPropagation(),a.value=r,""==r)return this.pedido.filtro.activo=!1,void(this.pedido.filtro.lista=[]);this.pedido.filtro.activo=!0;var i=[],s=function(e){var t=n[e].input.value;if(""==t)return"continue";var a=o.pedido.lista.filter(function(a){var r="",i=n[e].campos;for(var s in i)try{var o=i[s].split(".");o.length>1?r+=" "+a[o[0]][o[1]].toLowerCase():r+=" "+a[i[s]].toLowerCase()}catch(e){}return r.includes(t.toLowerCase())});i.push(a)},o=this;for(var l in n)s(l);if(i.length>1){for(var c=(i=i.sort(function(e,t){return e.length-t.length}))[0],d=[],u=1;u<i.length;u++)for(var l in i[u])for(var p in c)i[u][l]===c[p]&&d.push(c[p]);this.pedido.filtro.lista=d}else this.pedido.filtro.lista=i[0];this.pedido.filtro.indexar(!1),this.pedido.filtro.paginacion.paginaActual=1,this.pedido.filtro.listar(1)}},e.prototype.buscarStockApi=function(e,t){var a=this;void 0===t&&(t=null),this.cargandoStock=!0,this.stockService.buscar(e,t).subscribe(function(e){if(a.cargandoStock=!1,a.claveNoSolicitada=!1,a.listaStock=e,e.length>0){a.claveInsumoSeleccionado=e[0].clave_insumo_medico;for(var t=!1,n=0;n<a.pedido.lista.length;n++)if(a.pedido.lista[n].clave==a.claveInsumoSeleccionado){a.pedido.filtro.activo=!1;var r=Math.ceil((n+1)/a.pedido.paginacion.resultadosPorPagina);a.pedido.listar(r),a.itemSeleccionado=a.pedido.lista[n],t=!0}t?a.verificarItemsAsignadosStockApi():(a.claveNoSolicitada=!0,a.listaStock=[])}console.log("Stock cargado.")},function(e){a.cargandoStock=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=function(){};try{e.json();401==e.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(t){console.log("No se puede interpretar el error"),500==e.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.finalizar=function(){this.mostrarDialogo=!0},e.prototype.cerrarDialogo=function(){this.mostrarDialogo=!1},e.prototype.guardar=function(e){var t,a=this;if(void 0===e&&(e=!1),this.guardando=!0,e){if(this.formularioRecepcion.get("entrega").markAsTouched(),this.formularioRecepcion.get("recibe").markAsTouched(),this.formularioRecepcion.get("fecha_movimiento").markAsTouched(),!this.formularioRecepcion.valid)return!1;var n=prompt("Atenci\xf3n la recepci\xf3n ya no podra editarse, para confirmar que desea concluir la recepci\xf3n por favor escriba: CONCLUIR RECEPCION");if("CONCLUIR RECEPCION"!=n)return null!=n&&alert("Error al ingresar el texto para confirmar la acci\xf3n."),this.guardando=!1,!1;(t=this.formularioRecepcion.value).fecha_movimiento=t.fecha_movimiento.toString().substr(0,10),t.status="FI",t.stock=[]}else t={status:"BR",observaciones:"",stock:[]};for(var r in this.pedido.lista){var i=this.pedido.lista[r];if(i.totalStockAsignado>0)for(var s in i.listaStockAsignado){var o={clave_insumo_medico:i.clave,lote:i.listaStockAsignado[s].lote,fecha_caducidad:i.listaStockAsignado[s].fecha_caducidad,cantidad:0,existencia:0,codigo_barras:i.listaStockAsignado[s].codigo_barras,precio_unitario:0,precio_total:0};"PEA"!=this.pedido.tipo_pedido?(o.cantidad=i.listaStockAsignado[s].cantidad,o.existencia=i.listaStockAsignado[s].cantidad):(o.cantidad=i.listaStockAsignado[s].cantidad_recibida,o.existencia=i.listaStockAsignado[s].cantidad_recibida),t.stock.push(o)}}this.recepcionService.guardarRecepcionPedido(this.pedido.datosImprimir.id,t).subscribe(function(e){a.mostrarDialogo=!1,a.guardando=!1,a.mensajeExito=new Ae(!0),"FI"==t.status?(a.statusRecepcion="FI",a.mensajeExito.texto="Recepci\xf3n Finalizada"):(a.statusRecepcion="BR",a.mensajeExito.texto="Datos Guardados"),a.mensajeExito.mostrar=!0,console.log("Recepci\xf3n guardada")},function(e){a.guardando=!1,a.mostrarDialogo=!1,console.log(e),a.mensajeError=new Ae(!0),a.mensajeError.texto="No especificado",a.mensajeError.mostrar=!0;try{var t=e.json();console.log(t),401==e.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n."),409==e.status&&(a.mensajeError.texto="Por favor verfique los campos marcados en rojo."),500==e.status&&t.error&&(a.mensajeError.texto=t.error,a.mensajeError.cuentaAtras=1e3)}catch(t){500==e.status?a.mensajeError.texto="500 (Error interno del servidor)":(console.log(t),a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir.")}})},e.prototype.buscarStock=function(e,t,a){return 13==e.keyCode&&(e.preventDefault(),e.stopPropagation(),""!=a&&(this.buscarStockApi(a),t.select(),!1))},e.prototype.limpiarStock=function(){this.capturarStock=!1,this.listaStock=[],this.itemSeleccionado=null},e.prototype.eliminarStock=function(e){var t=this.itemSeleccionado.listaStockAsignado.indexOf(e);this.itemSeleccionado.listaStockAsignado.splice(t,1),this.calcularTotalStockItem(),this.verificarItemsAsignadosStockApi()},e.prototype.asignarStock=function(){this.erroresFormularioStock={cantidad:{error:!1},lote:{error:!1},fecha_caducidad:{error:!1}};var e=0;if(this.formStock.cantidad?this.formStock.cantidad<=0&&(this.erroresFormularioStock.cantidad={error:!0,texto:"La cantidad recibida debe ser mayor a 0."},e++):(this.erroresFormularioStock.cantidad={error:!0,texto:"Este campo es requerido."},e++),this.itemSeleccionado.tiene_fecha_caducidad&&!this.formStock.fecha_caducidad)this.erroresFormularioStock.fecha_caducidad={error:!0,texto:"Este campo es requerido."},e++;else if(this.formStock.fecha_caducidad){this.formStock.fecha_caducidad=this.formStock.fecha_caducidad.toString().substr(0,10);var t=this.formStock.fecha_caducidad.split("-"),a=!1;if(3!=t.length?a=!0:4!=t[0].length||2!=t[1].length||2!=t[2].length?a=!0:parseInt(t[1])<1||parseInt(t[1])>12?a=!0:(parseInt(t[2])<1||parseInt(t[2])>31)&&(a=!0),a)this.erroresFormularioStock.fecha_caducidad={error:!0,texto:"El formato de fecha no es correcto."},e++;else{var n=new Date,r=new Date(t[0],parseInt(t[1])-1,parseInt(t[2])),i=void 0;i=12*(r.getFullYear()-n.getFullYear()),i-=n.getMonth(),(i+=r.getMonth())<6&&(this.erroresFormularioStock.fecha_caducidad={error:!0,texto:"La fecha de caducidad no puede ser menor a 6 meses."},e++),console.log(i)}}if(this.formStock.lote||(this.erroresFormularioStock.lote={error:!0,texto:"Este campo es requerido."},e++),e)return!1;null==this.itemSeleccionado.listaStockAsignado&&(this.itemSeleccionado.listaStockAsignado=[]);var s=this.itemSeleccionado.cantidad_recibida;for(var o in this.itemSeleccionado.listaStockAsignado)s+=this.itemSeleccionado.listaStockAsignado[o].cantidad;(s+=this.formStock.cantidad)<=this.itemSeleccionado.cantidad?(this.itemSeleccionado.totalStockAsignado=s,this.itemSeleccionado.listaStockAsignado.push({codigo_barras:this.formStock.codigo_barras,lote:this.formStock.lote,fecha_caducidad:this.formStock.fecha_caducidad,cantidad:this.formStock.cantidad}),this.resetearFormStock(),this.calcularTotalStockItem()):this.erroresFormularioStock.cantidad={error:!0,texto:"La cantidad recibida supera la cantidad solicitada."}},e.prototype.cancelarCapturaStock=function(){this.resetearFormStock(!0)},e.prototype.resetearFormStock=function(e){void 0===e&&(e=!1),e?this.formStock={}:(this.formStock.lote=void 0,this.formStock.fecha_caducidad=void 0,this.formStock.cantidad=void 0)},e.prototype.validarItemStock=function(e,t){if(void 0===t&&(t=!1),"PEA"!=this.pedido.tipo_pedido){if(null==e.cantidad)return t&&this.asignarMaximoPosible(e),void this.calcularTotalStockItem();var a=parseInt(e.cantidad);if(isNaN(a))return this.asignarMaximoPosible(e),void this.calcularTotalStockItem();if(a<=0)return this.asignarMaximoPosible(e),void this.calcularTotalStockItem();a>e.existencia&&(e.cantidad=e.existencia),this.verificarTotalStockItem()||this.asignarMaximoPosible(e),this.calcularTotalStockItem()}else{if(null==e.cantidad_recibida)return e.cantidad_recibida=0,void this.calcularTotalStockItem();a=parseInt(e.cantidad_recibida);if(isNaN(a)||a<=0)return e.cantidad_recibida=0,void this.calcularTotalStockItem();a>e.cantidad_enviada&&(e.cantidad_recibida=e.cantidad_enviada),this.calcularTotalStockItem()}},e.prototype.asignarMaximoPosible=function(e){var t=0;for(var a in this.itemSeleccionado.listaStockAsignado)this.itemSeleccionado.listaStockAsignado[a]!=e&&(t+=this.itemSeleccionado.listaStockAsignado[a].cantidad);var n=this.itemSeleccionado.cantidad-t;n>=e.existencia&&(e.cantidad=e.existencia),n<e.existencia&&(e.cantidad=n)},e.prototype.verificarItemsAsignadosStockApi=function(){for(var e in this.listaStock)for(var t in this.listaStock[e].asignado=!1,this.itemSeleccionado.listaStockAsignado)if(this.itemSeleccionado.listaStockAsignado[t].id==this.listaStock[e].id){this.listaStock[e].asignado=!0;break}},e.prototype.verificarTotalStockItem=function(){for(var e in this.itemSeleccionado.listaStockAsignado)this.itemSeleccionado.listaStockAsignado[e].cantidad;return this.itemSeleccionado.totalStockAsignado<=this.itemSeleccionado.cantidad},e.prototype.calcularTotalStockItem=function(){var e=this.itemSeleccionado.cantidad_recibida;for(var t in this.itemSeleccionado.listaStockAsignado)"PEA"!=this.pedido.tipo_pedido?e+=this.itemSeleccionado.listaStockAsignado[t].cantidad:e+=this.itemSeleccionado.listaStockAsignado[t].cantidad_recibida;if(0==e){var a=0;for(var t in this.lotesSurtidos)this.lotesSurtidos[t].clave==this.itemSeleccionado.clave&&this.lotesSurtidos.splice(a,1),a++}else{var n=!1;for(var t in this.lotesSurtidos)this.lotesSurtidos[t].clave==this.itemSeleccionado.clave&&(n=!0,this.lotesSurtidos[t].cantidad=e);n||this.lotesSurtidos.push({clave:this.itemSeleccionado.clave,cantidad:e})}this.itemSeleccionado.totalStockAsignado=e},e.prototype.keyboardInput=function(e){32==e.keyCode&&e.ctrlKey&&(event.preventDefault(),event.stopPropagation())},e.prototype.ngOnDestroy=function(){this.cambiarEntornoSuscription.unsubscribe()},e=Is([Object(n.Component)({selector:"app-recepcion",template:a("dCWM"),styles:[a("T603")]}),js("design:paramtypes",[i.Title,h.a,ns,bs,xs,h.b,ae])],e)}(),Cs=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Es=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ps=function(){function e(e,t){this.http=e,this.jwtRequest=t}return t=e,e.prototype.lista=function(e,a){return void 0===e&&(e=1),void 0===a&&(a=20),this.jwtRequest.get(t.URL,null,{page:e,per_page:a}).map(function(e){return e.json().data})},e.prototype.buscar=function(e,a,n){return void 0===a&&(a=1),void 0===n&&(n=20),this.jwtRequest.get(t.URL,null,{q:e,page:a,per_page:n}).map(function(e){return e.json().data})},e.prototype.ver=function(e){return this.jwtRequest.get(t.URL,e,{}).map(function(e){return e.json().data})},e.URL="actas",e=t=Cs([Object(n.Injectable)(),Es("design:paramtypes",[c.Http,V])],e);var t}(),qs=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},As=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ws=function(){function e(e,t,a,n,r,i){this.title=e,this.route=t,this.apiService=a,this.pedidosService=n,this.cambiarEntornoService=r,this._ngZone=i,this.cargando=!1,this.cargandoActa=!1,this.errorPDFActa=!1,this.mensajeError=new Ae,this.mensajeExito=new Ae,this.tipo="",this.pedidos=[],this.presupuesto=!1,this.paginaActual=1,this.resultadosPorPagina=10,this.total=0,this.paginasTotales=0,this.indicePaginas=[],this.ultimoTerminoBuscado="",this.terminosBusqueda=new x.Subject,this.resultadosBusqueda=[],this.busquedaActivada=!1,this.paginaActualBusqueda=1,this.resultadosPorPaginaBusqueda=10,this.totalBusqueda=0,this.paginasTotalesBusqueda=0,this.indicePaginasBusqueda=[]}return e.prototype.ngOnInit=function(){var e=this;console.log("inicializar lista de actas"),this.title.setTitle("Actas"),this.cargarPresupuestoAnual(),this.cambiarEntornoSuscription=this.cambiarEntornoService.entornoCambiado$.subscribe(function(t){console.log("subscripcion en lista de actas"),e.listar(e.paginaActual),e.cargarPresupuestoAnual()}),this.listar(1),this.mensajeError=new Ae,this.mensajeExito=new Ae;var t=this,a=this._ngZone,n=this.terminosBusqueda.debounceTime(300).distinctUntilChanged().switchMap(function(t){return console.log("Cargando b\xfasqueda."),e.busquedaActivada=""!=t,e.ultimoTerminoBuscado=t,e.paginaActualBusqueda=1,e.cargando=!0,t?e.apiService.buscar(t,e.paginaActualBusqueda,e.resultadosPorPaginaBusqueda):lt.Observable.of({data:[]})}).catch(function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=function(){t.listarBusqueda(t.ultimoTerminoBuscado,t.paginaActualBusqueda)};try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}return n});n.subscribe(function(t){e.cargando=!1;var a=t.data;for(var n in a)a[n].created_at=a[n].created_at.replace(" ","T");e.resultadosBusqueda=a,e.totalBusqueda=0|t.total,e.paginasTotalesBusqueda=Math.ceil(e.totalBusqueda/e.resultadosPorPaginaBusqueda),e.indicePaginasBusqueda=[];for(var r=0;r<e.paginasTotalesBusqueda;r++)e.indicePaginasBusqueda.push(r+1);console.log("B\xfasqueda cargada.")}),this.pdfworker=new Worker("web-workers/farmacia/actas/imprimir.js"),this.pdfworker.onmessage=function(e){a.run(function(){console.log(e),t.cargandoActa=!1}),ft.saveAs(t.base64ToBlob(e.data.base64,"application/pdf"),e.data.fileName)},this.pdfworker.onerror=function(e){a.run(function(){console.log(e),t.errorPDFActa=!0})}},e.prototype.cargarPresupuestoAnual=function(){var e=this;this.pedidosService.presupuesto().subscribe(function(t){e.cargando=!1,e.presupuesto={},e.presupuesto.causes_modificado=+t.data.causes_modificado,e.presupuesto.causes_comprometido=+t.data.causes_comprometido,e.presupuesto.causes_devengado=+t.data.causes_devengado,e.presupuesto.causes_disponible=+t.data.causes_disponible,e.presupuesto.material_curacion_modificado=+t.data.material_curacion_modificado,e.presupuesto.material_curacion_comprometido=+t.data.material_curacion_comprometido,e.presupuesto.material_curacion_devengado=+t.data.material_curacion_devengado,e.presupuesto.material_curacion_disponible=+t.data.material_curacion_disponible,e.presupuesto.no_causes_modificado=+t.data.no_causes_modificado,e.presupuesto.no_causes_comprometido=+t.data.no_causes_comprometido,e.presupuesto.no_causes_devengado=+t.data.no_causes_devengado,e.presupuesto.no_causes_disponible=+t.data.no_causes_disponible},function(t){e.cargando=!1,console.log(t)})},e.prototype.obtenerDireccion=function(e,t){return"BR"==t?"/almacen/pedidos/editar/"+e:"/almacen/pedidos/ver/"+e},e.prototype.buscar=function(e){this.terminosBusqueda.next(e)},e.prototype.listarBusqueda=function(e,t){var a=this;this.paginaActualBusqueda=t,console.log("Cargando b\xfasqueda."),this.cargando=!0,this.apiService.buscar(e,t,this.resultadosPorPaginaBusqueda).subscribe(function(e){a.cargando=!1;var t=e.data;for(var n in t)t[n].created_at=t[n].created_at.replace(" ","T");a.resultadosBusqueda=t,a.totalBusqueda=0|e.total,a.paginasTotalesBusqueda=Math.ceil(a.totalBusqueda/a.resultadosPorPaginaBusqueda),a.indicePaginasBusqueda=[];for(var r=0;r<a.paginasTotalesBusqueda;r++)a.indicePaginasBusqueda.push(r+1);console.log("B\xfasqueda cargada.")},function(n){a.cargando=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=function(){this.listarBusqueda(e,t)};try{n.json();401==n.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(e){console.log("No se puede interpretar el error"),500==n.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.listar=function(e){var t=this;this.paginaActual=e,console.log("Cargando pedidos."),this.cargando=!0,this.apiService.lista(e,this.resultadosPorPagina).subscribe(function(e){t.cargando=!1,t.pedidos=e.data,t.total=0|e.total,t.paginasTotales=Math.ceil(t.total/t.resultadosPorPagina),t.indicePaginas=[];for(var a=0;a<t.paginasTotales;a++)t.indicePaginas.push(a+1);console.log("Pedidos cargados.")},function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=t.listar;try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.paginaSiguiente=function(){this.listar(this.paginaActual+1)},e.prototype.paginaAnterior=function(){this.listar(this.paginaActual-1)},e.prototype.paginaSiguienteBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda+1)},e.prototype.paginaAnteriorBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda-1)},e.prototype.ngOnDestroy=function(){this.cambiarEntornoSuscription.unsubscribe()},e.prototype.imprimir=function(e){var t=this;try{e.cargando=!0,this.apiService.ver(e.id).subscribe(function(a){t.cargandoActa=!0,t.pdfworker.postMessage(JSON.stringify(a)),e.cargando=!1},function(t){e.cargando=!1,console.log(t)})}catch(t){e.cargando=!1,console.log(t)}},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},e=qs([Object(n.Component)({selector:"app-lista",template:a("i/KM"),styles:[a("Y2iU")],providers:[Ps]}),As("design:paramtypes",[i.Title,h.a,Ps,ns,ae,n.NgZone])],e)}(),Ss=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Rs=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Os=function(){function e(e,t,a,n,r,i,s,o){this.title=e,this.location=t,this.router=a,this.route=n,this._ngZone=r,this.apiService=i,this.pedidosService=s,this.cambiarEntornoService=o,this.pedidos_alternos=[],this.cargando=!1,this.cargandoActa=!1,this.cargandoPresupuesto=!1,this.errorPDFActa=!1}return e.prototype.ngOnInit=function(){var e=this;this.title.setTitle("Ver Acta"),this.cargarPresupuestoAnual(),this.cambiarEntornoSuscription=this.cambiarEntornoService.entornoCambiado$.subscribe(function(e){console.log("cambiar a listas")}),this.route.params.subscribe(function(t){e.id=t.id});var t=this,a=this._ngZone;this.pdfworker=new Worker("web-workers/farmacia/actas/imprimir.js"),this.pdfworker.onmessage=function(e){a.run(function(){console.log(e),t.cargandoActa=!1}),ft.saveAs(t.base64ToBlob(e.data.base64,"application/pdf"),e.data.fileName)},this.pdfworker.onerror=function(e){a.run(function(){console.log(e),t.errorPDFActa=!0})},this.cargando=!0,this.apiService.ver(this.id).subscribe(function(t){for(var a in e.acta=t,e.cargando=!1,e.acta.pedidos)"PALT"!=e.acta.pedidos[a].tipo_pedido_id?e.pedido_original=e.acta.pedidos[a]:e.pedidos_alternos.push(e.acta.pedidos[a])},function(t){e.cargando=!1,console.log(t)})},e.prototype.cargarPresupuestoAnual=function(){var e=this;this.cargandoPresupuesto=!0,this.pedidosService.presupuesto().subscribe(function(t){e.cargandoPresupuesto=!1,e.presupuesto={},e.presupuesto.causes_modificado=+t.data.causes_modificado,e.presupuesto.causes_comprometido=+t.data.causes_comprometido,e.presupuesto.causes_devengado=+t.data.causes_devengado,e.presupuesto.causes_disponible=+t.data.causes_disponible,e.presupuesto.material_curacion_modificado=+t.data.material_curacion_modificado,e.presupuesto.material_curacion_comprometido=+t.data.material_curacion_comprometido,e.presupuesto.material_curacion_devengado=+t.data.material_curacion_devengado,e.presupuesto.material_curacion_disponible=+t.data.material_curacion_disponible,e.presupuesto.no_causes_modificado=+t.data.no_causes_modificado,e.presupuesto.no_causes_comprometido=+t.data.no_causes_comprometido,e.presupuesto.no_causes_devengado=+t.data.no_causes_devengado,e.presupuesto.no_causes_disponible=+t.data.no_causes_disponible},function(t){e.cargandoPresupuesto=!1,console.log(t)})},e.prototype.imprimir=function(){this.cargandoActa=!0,this.pdfworker.postMessage(JSON.stringify(this.acta))},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},e=Ss([Object(n.Component)({selector:"app-ver",template:a("09bD"),styles:[a("Kj/Q")],providers:[Ps]}),Rs("design:paramtypes",[i.Title,o.Location,h.b,h.a,n.NgZone,Ps,ns,ae])],e)}(),Ns=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Ms=[{path:"almacen/pedidos",redirectTo:"/almacen/pedidos/todos",pathMatch:"full"},{path:"almacen/pedidos",children:[{path:"todos",component:ss},{path:"borradores",component:ss},{path:"solicitados",component:ss},{path:"en-transito",component:ss},{path:"por-surtir",component:ss},{path:"finalizados",component:ss},{path:"finalizados/completos",component:ss},{path:"finalizados/incompletos",component:ss},{path:"finalizados/cancelados",component:ss},{path:"expirados",component:ss},{path:"expirados-cancelados",component:ss},{path:"farmacia-subrogada",component:ss},{path:"alternos",component:ss},{path:"nuevo",component:ps},{path:"editar/:id",component:ps},{path:"ver/:id",component:fs},{path:"recepcion/:id",component:ks},{path:"actas",component:ws},{path:"actas/:id",component:Os}],canActivate:[M]}],Bs=function(){function e(){}return e=Ns([Object(n.NgModule)({imports:[h.c.forChild(Ms)],exports:[h.c],providers:[]})],e)}(),Fs=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Ds=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ls=function(){function e(){}return e.prototype.ngOnInit=function(){},e=Fs([Object(n.Component)({selector:"app-pedidos",template:a("NkF7"),styles:[a("LAUq")]}),Ds("design:paramtypes",[])],e)}(),Ts=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},zs=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Us=function(){function e(e,t){this.pedidosService=e,this.cambiarEntornoService=t,this.cargando=!1,this.stats={todos:0,borradores:0,solicitados:0,en_transito:0,por_surtir:0,finalizados:0,expirados:0,expirados_cancelados:0,farmacia:0,alternos:0}}return e.prototype.ngOnInit=function(){var e=this;this.cambiarEntornoSuscription=this.cambiarEntornoService.entornoCambiado$.subscribe(function(t){e.stats={todos:0,borradores:0,solicitados:0,en_transito:0,por_surtir:0,finalizados:0,expirados:0,expirados_cancelados:0,farmacia:0,alternos:0,actas:0},e.cargarStatsPedidos(),e.usuario=JSON.parse(localStorage.getItem("usuario"))}),this.cargarStatsPedidos(),this.usuario=JSON.parse(localStorage.getItem("usuario"))},e.prototype.cargarStatsPedidos=function(){var e=this;this.cargando=!0,this.pedidosService.stats().subscribe(function(t){e.cargando=!1,e.stats=t},function(t){e.cargando=!1,console.log(t)})},e.prototype.ngOnDestroy=function(){this.cambiarEntornoSuscription.unsubscribe()},e=Ts([Object(n.Component)({selector:"menu-lateral",template:a("P2oc"),styles:[a("ew22")]}),zs("design:paramtypes",[ns,ae])],e)}(),Vs=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Gs=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ys=function(){function e(){this.onCerrar=new n.EventEmitter,this.onEnviar=new n.EventEmitter,this.lectura=!1}return e.prototype.ngOnInit=function(){},e.prototype.actualizarTotales=function(){for(var e in this.insumo.monto=0,this.insumo.cantidad=0,this.insumo.lista_clues)this.insumo.monto+=this.insumo.lista_clues[e].cantidad*this.insumo.precio,this.insumo.cantidad+=this.insumo.lista_clues[e].cantidad},e.prototype.eliminarInsumo=function(e,t){for(var a in this.listaClaveAgregadas)if(this.listaClaveAgregadas[a].clave==this.insumo.clave){for(var n in this.listaClaveAgregadas[a].lista)if(this.insumo.lista_clues[t].clues==this.listaClaveAgregadas[a].lista[n]){this.listaClaveAgregadas[a].lista.splice(n,1);break}break}this.insumo.lista_clues.splice(t,1),this.actualizarTotales()},e.prototype.cerrar=function(){this.onCerrar.emit()},Vs([Object(n.Output)(),Gs("design:type",Object)],e.prototype,"onCerrar",void 0),Vs([Object(n.Output)(),Gs("design:type",Object)],e.prototype,"onEnviar",void 0),Vs([Object(n.Input)(),Gs("design:type",Boolean)],e.prototype,"lectura",void 0),Vs([Object(n.Input)(),Gs("design:type",Object)],e.prototype,"insumo",void 0),Vs([Object(n.Input)(),Gs("design:type",Array)],e.prototype,"listaClaveAgregadas",void 0),e=Vs([Object(n.Component)({selector:"pedidos-lista-clues",template:a("3DCO"),styles:[a("OMGn")]}),Gs("design:paramtypes",[])],e)}(),Hs=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Js=function(){function e(){}return e=Hs([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,ee,de,fe,qe,es,Oi.NguiDatetimePickerModule,Bs,Hi],declarations:[Ls,Us,ss,fs,ps,ks,Ys,ws,Os],providers:[ns,Ps,cs,xs,bs]})],e)}(),$s=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Ks=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Xs=function(){function e(e,t){this.http=e,this.jwtRequest=t}return t=e,e.prototype.stats=function(){return this.jwtRequest.get(t.URL_STATS,null,null).map(function(e){return e.json()})},e.prototype.buscar=function(e,a,n,r){return void 0===n&&(n=1),void 0===r&&(r=20),this.jwtRequest.get(t.URL,null,{status:e,q:a,page:n,per_page:r}).map(function(e){return e.json().data})},e.prototype.lista=function(e,a,n){return void 0===a&&(a=1),void 0===n&&(n=20),this.jwtRequest.get(t.URL,null,{status:e,page:a,per_page:n}).map(function(e){return e.json().data})},e.prototype.ver=function(e){return this.jwtRequest.get(t.URL,e,{}).map(function(e){return e.json().data})},e.prototype.surtir=function(e){return this.jwtRequest.post(t.URL,e).map(function(e){return e.json().data})},e.URL="entregas",e.URL_STATS="entregas-stats",e=t=$s([Object(n.Injectable)(),Ks("design:paramtypes",[c.Http,V])],e);var t}(),Zs=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Qs=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ws=function(){function e(e,t,a,n){this.title=e,this.route=t,this.entregasService=a,this.cambiarEntornoService=n,this.cargando=!1,this.mensajeError=new Ae,this.mensajeExito=new Ae,this.status="PS",this.titulo="",this.icono="f",this.pedidos=[],this.paginaActual=1,this.resultadosPorPagina=5,this.total=0,this.paginasTotales=0,this.indicePaginas=[],this.ultimoTerminoBuscado="",this.terminosBusqueda=new x.Subject,this.resultadosBusqueda=[],this.busquedaActivada=!1,this.paginaActualBusqueda=1,this.resultadosPorPaginaBusqueda=5,this.totalBusqueda=0,this.paginasTotalesBusqueda=0,this.indicePaginasBusqueda=[]}return e.prototype.ngOnInit=function(){var e=this;switch(this.route.snapshot.url[0].path){case"finalizadas":this.status="FI",this.icono="fa-check-circle",this.route.snapshot.url.length>1?"completas"==this.route.snapshot.url[1].path?this.titulo="Finalizadas (completas)":"incompletas"==this.route.snapshot.url[1].path?this.titulo="Finalizadas (incompletas)":this.titulo="Finalizadas":this.titulo="Finalizadas";break;default:this.status="PS",this.titulo="Por surtir",this.icono="fa-inbox"}this.title.setTitle("Entregas / Farmacia"),this.cambiarEntornoSuscription=this.cambiarEntornoService.entornoCambiado$.subscribe(function(t){e.listar(e.paginaActual)}),this.listar(1),this.mensajeError=new Ae,this.mensajeExito=new Ae;var t=this,a=this.terminosBusqueda.debounceTime(300).distinctUntilChanged().switchMap(function(t){return console.log("Cargando b\xfasqueda."),e.busquedaActivada=""!=t,e.ultimoTerminoBuscado=t,e.paginaActualBusqueda=1,e.cargando=!0,t?e.entregasService.buscar(e.status,t,e.paginaActualBusqueda,e.resultadosPorPaginaBusqueda):lt.Observable.of({data:[]})}).catch(function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=function(){t.listarBusqueda(t.ultimoTerminoBuscado,t.paginaActualBusqueda)};try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}return a});a.subscribe(function(t){e.cargando=!1,e.resultadosBusqueda=t.data,e.totalBusqueda=0|t.total,e.paginasTotalesBusqueda=Math.ceil(e.totalBusqueda/e.resultadosPorPaginaBusqueda),e.indicePaginasBusqueda=[];for(var a=0;a<e.paginasTotalesBusqueda;a++)e.indicePaginasBusqueda.push(a+1);console.log("B\xfasqueda cargada.")})},e.prototype.buscar=function(e){this.terminosBusqueda.next(e)},e.prototype.listarBusqueda=function(e,t){var a=this;this.paginaActualBusqueda=t,console.log("Cargando b\xfasqueda."),this.cargando=!0,this.entregasService.buscar(this.status,e,t,this.resultadosPorPaginaBusqueda).subscribe(function(e){a.cargando=!1;var t=e.data;for(var n in t)t[n].created_at=t[n].created_at.replace(" ","T");a.resultadosBusqueda=t,a.totalBusqueda=0|e.total,a.paginasTotalesBusqueda=Math.ceil(a.totalBusqueda/a.resultadosPorPaginaBusqueda),a.indicePaginasBusqueda=[];for(var r=0;r<a.paginasTotalesBusqueda;r++)a.indicePaginasBusqueda.push(r+1);console.log("B\xfasqueda cargada.")},function(n){a.cargando=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=function(){this.listarBusqueda(e,t)};try{var r=n.json();401==n.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n."),403==n.status?a.mensajeError.texto=r.error:a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}catch(r){console.log("No se puede interpretar el error"),500==n.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.listar=function(e){var t=this;this.paginaActual=e,console.log("Cargando items."),this.cargando=!0,this.entregasService.lista(this.status,e,this.resultadosPorPagina).subscribe(function(e){t.cargando=!1;var a=e.data;for(var n in a)console.log(a[n].created_at.replace(" ","T")),a[n].created_at=a[n].created_at.replace(" ","T");t.pedidos=a,t.total=0|e.total,t.paginasTotales=Math.ceil(t.total/t.resultadosPorPagina),t.indicePaginas=[];for(var r=0;r<t.paginasTotales;r++)t.indicePaginas.push(r+1);console.log("Pedidos cargados.")},function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=t.listar;try{var a=e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n."),403==e.status?t.mensajeError.texto=a.error:t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.paginaSiguiente=function(){this.listar(this.paginaActual+1)},e.prototype.paginaAnterior=function(){this.listar(this.paginaActual-1)},e.prototype.paginaSiguienteBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda+1)},e.prototype.paginaAnteriorBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda-1)},e=Zs([Object(n.Component)({selector:"farmacia-entregas-lista",template:a("Ygs2"),styles:[a("BAmh")],providers:[Xs]}),Qs("design:paramtypes",[i.Title,h.a,Xs,ae])],e)}(),eo=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},to=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ao=function(){function e(e,t,a){this.title=e,this.route=t,this.entregasService=a,this.cargando=!1,this.mensajeError=new Ae,this.mensajeExito=new Ae,this.titulo="Historial",this.icono="f",this.pedidos=[],this.paginaActual=1,this.resultadosPorPagina=5,this.total=0,this.paginasTotales=0,this.indicePaginas=[],this.ultimoTerminoBuscado="",this.terminosBusqueda=new x.Subject,this.resultadosBusqueda=[],this.busquedaActivada=!1,this.paginaActualBusqueda=1,this.resultadosPorPaginaBusqueda=5,this.totalBusqueda=0,this.paginasTotalesBusqueda=0,this.indicePaginasBusqueda=[]}return e.prototype.ngOnInit=function(){var e=this;this.title.setTitle("Historial de entregas / Farmacia"),this.listar(1),this.mensajeError=new Ae,this.mensajeExito=new Ae;var t=this,a=this.terminosBusqueda.debounceTime(300).distinctUntilChanged().switchMap(function(t){return console.log("Cargando b\xfasqueda."),e.busquedaActivada=""!=t,e.ultimoTerminoBuscado=t,e.paginaActualBusqueda=1,e.cargando=!0,t?e.entregasService.buscar(null,t,e.paginaActualBusqueda,e.resultadosPorPaginaBusqueda):lt.Observable.of({data:[]})}).catch(function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=function(){t.listarBusqueda(t.ultimoTerminoBuscado,t.paginaActualBusqueda)};try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}return a});a.subscribe(function(t){e.cargando=!1,e.resultadosBusqueda=t.data,e.totalBusqueda=0|t.total,e.paginasTotalesBusqueda=Math.ceil(e.totalBusqueda/e.resultadosPorPaginaBusqueda),e.indicePaginasBusqueda=[];for(var a=0;a<e.paginasTotalesBusqueda;a++)e.indicePaginasBusqueda.push(a+1);console.log("B\xfasqueda cargada.")})},e.prototype.buscar=function(e){this.terminosBusqueda.next(e)},e.prototype.listarBusqueda=function(e,t){var a=this;this.paginaActualBusqueda=t,console.log("Cargando b\xfasqueda."),this.cargando=!0,this.entregasService.buscar(null,e,t,this.resultadosPorPaginaBusqueda).subscribe(function(e){a.cargando=!1;var t=e.data;for(var n in t)t[n].created_at=t[n].created_at.replace(" ","T");a.resultadosBusqueda=t,a.totalBusqueda=0|e.total,a.paginasTotalesBusqueda=Math.ceil(a.totalBusqueda/a.resultadosPorPaginaBusqueda),a.indicePaginasBusqueda=[];for(var r=0;r<a.paginasTotalesBusqueda;r++)a.indicePaginasBusqueda.push(r+1);console.log("B\xfasqueda cargada.")},function(n){a.cargando=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=function(){this.listarBusqueda(e,t)};try{n.json();401==n.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(e){console.log("No se puede interpretar el error"),500==n.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.listar=function(e){var t=this;this.paginaActual=e,console.log("Cargando items."),this.cargando=!0,this.entregasService.lista(null,e,this.resultadosPorPagina).subscribe(function(e){t.cargando=!1;var a=e.data;for(var n in a)console.log(a[n].created_at.replace(" ","T")),a[n].created_at=a[n].created_at.replace(" ","T");t.pedidos=a,t.total=0|e.total,t.paginasTotales=Math.ceil(t.total/t.resultadosPorPagina),t.indicePaginas=[];for(var r=0;r<t.paginasTotales;r++)t.indicePaginas.push(r+1);console.log("Pedidos cargados.")},function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=t.listar;try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.paginaSiguiente=function(){this.listar(this.paginaActual+1)},e.prototype.paginaAnterior=function(){this.listar(this.paginaActual-1)},e.prototype.paginaSiguienteBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda+1)},e.prototype.paginaAnteriorBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda-1)},e=eo([Object(n.Component)({selector:"app-historial",template:a("X5mc"),styles:[a("R7g0")],providers:[Xs]}),to("design:paramtypes",[i.Title,h.a,Xs])],e)}(),no=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},ro=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},io=function(){function e(e,t,a,n,r,i){this.title=e,this.route=t,this.router=a,this.entregasService=n,this.pedidosService=r,this.stockService=i,this.cargando=!1,this.cargandoStock=!1,this.mensajeError=new Ae,this.mensajeAdvertencia=new Ae,this.mensajeExito=new Ae,this.lotesSurtidos=[],this.listaStock=[],this.claveInsumoSeleccionado=null,this.claveNoSolicitada=!1,this.itemSeleccionado=null}return e.prototype.ngOnInit=function(){var e=this;this.title.setTitle("Surtir pedido / Farmacia"),this.route.params.subscribe(function(t){e.id=t.id}),this.route.params.subscribe(function(t){e.id=t.id}),this.cargando=!0,this.pedidosService.ver(this.id).subscribe(function(t){for(var a in e.cargando=!1,e.pedido=new vt(!0),e.pedido.paginacion.resultadosPorPagina=10,e.pedido.filtro.paginacion.resultadosPorPagina=10,t.insumos){var n=t.insumos[a],r=n.insumos_con_descripcion;null!=r&&(r.cantidad=+n.cantidad_solicitada,e.pedido.lista.push(r))}t.insumos=void 0,e.pedido.indexar(),e.pedido.listar(1)},function(t){e.cargando=!1,e.mensajeError=new Ae(!0),e.mensajeError=new Ae(!0),e.mensajeError.mostrar;try{t.json();401==t.status&&(e.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){500==t.status?e.mensajeError.texto="500 (Error interno del servidor)":e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.seleccionarItem=function(e){this.itemSeleccionado=e,this.buscarStockApi(null,e.clave)},e.prototype.buscar=function(e,t,a,n){var r=t.value;if(27==e.keyCode)return e.preventDefault(),e.stopPropagation(),t.value="",a.value="",this.pedido.filtro.activo=!1,void(this.pedido.filtro.lista=[]);if(a.value!=r){if(e.preventDefault(),e.stopPropagation(),a.value=r,""==r)return this.pedido.filtro.activo=!1,void(this.pedido.filtro.lista=[]);this.pedido.filtro.activo=!0;var i=[],s=function(e){var t=n[e].input.value;if(""==t)return"continue";var a=o.pedido.lista.filter(function(a){var r="",i=n[e].campos;for(var s in i)try{var o=i[s].split(".");o.length>1?r+=" "+a[o[0]][o[1]].toLowerCase():r+=" "+a[i[s]].toLowerCase()}catch(e){}return r.includes(t.toLowerCase())});i.push(a)},o=this;for(var l in n)s(l);if(i.length>1){for(var c=(i=i.sort(function(e,t){return e.length-t.length}))[0],d=[],u=1;u<i.length;u++)for(var l in i[u])for(var p in c)i[u][l]===c[p]&&d.push(c[p]);this.pedido.filtro.lista=d}else this.pedido.filtro.lista=i[0];this.pedido.filtro.indexar(!1),this.pedido.filtro.paginacion.paginaActual=1,this.pedido.filtro.listar(1)}},e.prototype.buscarStockApi=function(e,t){var a=this;void 0===t&&(t=null),this.cargandoStock=!0,this.stockService.buscar(e,t).subscribe(function(e){if(a.cargandoStock=!1,a.claveNoSolicitada=!1,a.listaStock=e,e.length>0){a.claveInsumoSeleccionado=e[0].clave_insumo_medico;for(var t=!1,n=0;n<a.pedido.lista.length;n++)if(a.pedido.lista[n].clave==a.claveInsumoSeleccionado){a.pedido.filtro.activo=!1;var r=Math.ceil((n+1)/a.pedido.paginacion.resultadosPorPagina);a.pedido.listar(r),a.itemSeleccionado=a.pedido.lista[n],t=!0}t?a.verificarItemsAsignadosStockApi():(a.claveNoSolicitada=!0,a.listaStock=[])}else""!=a.searchBoxStockViewChildren.first.nativeElement.value&&(a.itemSeleccionado=null);console.log("Stock cargado.")},function(e){a.cargandoStock=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=function(){};try{e.json();401==e.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(t){console.log("No se puede interpretar el error"),500==e.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.surtir=function(){var e=this,t=[];for(var a in this.pedido.lista)for(var n in this.pedido.lista[a].listaStockAsignado)t.push({id:this.pedido.lista[a].listaStockAsignado[n].id,cantidad:this.pedido.lista[a].listaStockAsignado[n].cantidad});var r={pedido_id:this.id,entrega:"Juan p\xe9rez jolote",recibe:"John Salch",observaciones:"Esto es una observacion",lista:t};this.entregasService.surtir(r).subscribe(function(t){e.cargando=!1,e.router.navigate(["/farmacia/entregas/ver/"+t.id])},function(t){e.cargando=!1,console.log(t),e.mensajeError=new Ae(!0),e.mensajeError.texto="No especificado",e.mensajeError.mostrar=!0;try{var a=t.json();401==t.status&&(e.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n."),409==t.status&&(e.mensajeError.texto="Por favor verfique los campos marcados en rojo.")}catch(a){500==t.status?e.mensajeError.texto="500 (Error interno del servidor)":(console.log(a),e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir.")}})},e.prototype.buscarStock=function(e,t,a){return 13==e.keyCode&&(e.preventDefault(),e.stopPropagation(),""!=a&&(this.buscarStockApi(a),t.select(),!1))},e.prototype.limpiarStock=function(){this.listaStock=[],this.itemSeleccionado=null,this.searchBoxStockViewChildren.first.nativeElement.value=""},e.prototype.eliminarStock=function(e){this.itemSeleccionado.listaStockAsignado.splice(e,1),this.calcularTotalStockItem(),this.verificarItemsAsignadosStockApi()},e.prototype.asignarStock=function(e){null==this.itemSeleccionado.listaStockAsignado&&(this.itemSeleccionado.listaStockAsignado=[]);var t=0;for(var a in this.itemSeleccionado.listaStockAsignado){if(e.id==this.itemSeleccionado.listaStockAsignado[a].id)return;t+=this.itemSeleccionado.listaStockAsignado[a].cantidad}if(t<this.itemSeleccionado.cantidad){var n=this.itemSeleccionado.cantidad-t;e.existencia>n&&(e.cantidad=n),e.existencia<=n&&(e.cantidad=e.existencia),this.itemSeleccionado.listaStockAsignado.push(e),this.calcularTotalStockItem(),e.asignado=!0}},e.prototype.validarItemStock=function(e,t){if(void 0===t&&(t=!1),null==e.cantidad)return t&&this.asignarMaximoPosible(e),void this.calcularTotalStockItem();var a=parseInt(e.cantidad);return isNaN(a)?(this.asignarMaximoPosible(e),void this.calcularTotalStockItem()):a<=0?(this.asignarMaximoPosible(e),void this.calcularTotalStockItem()):(a>e.existencia&&(e.cantidad=e.existencia),this.verificarTotalStockItem()||this.asignarMaximoPosible(e),void this.calcularTotalStockItem())},e.prototype.asignarMaximoPosible=function(e){var t=0;for(var a in this.itemSeleccionado.listaStockAsignado)this.itemSeleccionado.listaStockAsignado[a]!=e&&(t+=this.itemSeleccionado.listaStockAsignado[a].cantidad);var n=this.itemSeleccionado.cantidad-t;n>=e.existencia&&(e.cantidad=e.existencia),n<e.existencia&&(e.cantidad=n)},e.prototype.verificarItemsAsignadosStockApi=function(){for(var e in this.listaStock)for(var t in this.listaStock[e].asignado=!1,this.itemSeleccionado.listaStockAsignado)if(this.itemSeleccionado.listaStockAsignado[t].id==this.listaStock[e].id){this.listaStock[e].asignado=!0;break}},e.prototype.verificarTotalStockItem=function(){for(var e in this.itemSeleccionado.listaStockAsignado)this.itemSeleccionado.listaStockAsignado[e].cantidad;return this.itemSeleccionado.totalStockAsignado<=this.itemSeleccionado.cantidad},e.prototype.calcularTotalStockItem=function(){var e=0;for(var t in this.itemSeleccionado.listaStockAsignado)e+=this.itemSeleccionado.listaStockAsignado[t].cantidad;if(0==e){var a=0;for(var t in this.lotesSurtidos)this.lotesSurtidos[t].clave==this.itemSeleccionado.clave&&this.lotesSurtidos.splice(a,1),a++}else{var n=!1;for(var t in this.lotesSurtidos)this.lotesSurtidos[t].clave==this.itemSeleccionado.clave&&(n=!0,this.lotesSurtidos[t].cantidad=e);n||this.lotesSurtidos.push({clave:this.itemSeleccionado.clave,cantidad:e})}this.itemSeleccionado.totalStockAsignado=e},e.prototype.keyboardInput=function(e){32==e.keyCode&&e.ctrlKey&&(event.preventDefault(),event.stopPropagation(),this.searchBoxStockViewChildren.first.nativeElement.focus())},no([Object(n.ViewChildren)("searchBoxStock"),ro("design:type",Object)],e.prototype,"searchBoxStockViewChildren",void 0),e=no([Object(n.Component)({selector:"app-surtir",template:a("LEUf"),styles:[a("3cmH")],host:{"(window:keydown)":"keyboardInput($event)"},providers:[xs,Xs]}),ro("design:paramtypes",[i.Title,h.a,h.b,Xs,ns,xs])],e)}(),so=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},oo=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},lo=function(){function e(e,t,a,n,r,i){this.title=e,this.route=t,this.router=a,this.entregasService=n,this.pedidosService=r,this.stockService=i,this.cargando=!1,this.cargandoStock=!1,this.mensajeError=new Ae,this.mensajeAdvertencia=new Ae,this.mensajeExito=new Ae,this.lotesSurtidos=[],this.listaStock=[],this.claveInsumoSeleccionado=null,this.claveNoSolicitada=!1,this.itemSeleccionado=null}return e.prototype.ngOnInit=function(){var e=this;this.title.setTitle("Ver entrega / Farmacia"),this.route.params.subscribe(function(t){e.id=t.id}),this.route.params.subscribe(function(t){e.id=t.id}),this.cargando=!0,this.entregasService.ver(this.id).subscribe(function(t){for(var a in e.cargando=!1,e.pedido=new vt(!0),e.pedido.paginacion.resultadosPorPagina=10,e.pedido.filtro.paginacion.resultadosPorPagina=10,console.log(t),t.movimiento_pedido.pedido.insumos){var n=t.movimiento_pedido.pedido.insumos[a],r=n.insumos_con_descripcion;if(null==r.listaStockAsignado&&(r.listaStockAsignado=[]),null!=r){r.cantidad=+n.cantidad_solicitada;var i=0;for(var s in t.movimiento_insumos)t.movimiento_insumos[s].stock.clave_insumo_medico==r.clave&&(r.listaStockAsignado.push({codigo_barras:t.movimiento_insumos[s].stock.codigo_barras,marca:t.movimiento_insumos[s].stock.marca,lote:t.movimiento_insumos[s].stock.lote,fecha_caducidad:t.movimiento_insumos[s].stock.fecha_caducidad,cantidad:Math.abs(t.movimiento_insumos[s].cantidad)}),i+=Math.abs(t.movimiento_insumos[s].cantidad));r.totalStockAsignado=i,e.pedido.lista.push(r)}}console.log(e.pedido.lista),e.pedido.indexar(),e.pedido.listar(1)},function(t){e.cargando=!1,e.mensajeError=new Ae(!0),e.mensajeError=new Ae(!0),e.mensajeError.mostrar;try{t.json();401==t.status&&(e.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){500==t.status?e.mensajeError.texto="500 (Error interno del servidor)":e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.seleccionarItem=function(e){this.itemSeleccionado=e},e.prototype.buscar=function(e,t,a,n){var r=t.value;if(27==e.keyCode)return e.preventDefault(),e.stopPropagation(),t.value="",a.value="",this.pedido.filtro.activo=!1,void(this.pedido.filtro.lista=[]);if(a.value!=r){if(e.preventDefault(),e.stopPropagation(),a.value=r,""==r)return this.pedido.filtro.activo=!1,void(this.pedido.filtro.lista=[]);this.pedido.filtro.activo=!0;var i=[],s=function(e){var t=n[e].input.value;if(""==t)return"continue";var a=o.pedido.lista.filter(function(a){var r="",i=n[e].campos;for(var s in i)try{var o=i[s].split(".");o.length>1?r+=" "+a[o[0]][o[1]].toLowerCase():r+=" "+a[i[s]].toLowerCase()}catch(e){}return r.includes(t.toLowerCase())});i.push(a)},o=this;for(var l in n)s(l);if(i.length>1){for(var c=(i=i.sort(function(e,t){return e.length-t.length}))[0],d=[],u=1;u<i.length;u++)for(var l in i[u])for(var p in c)i[u][l]===c[p]&&d.push(c[p]);this.pedido.filtro.lista=d}else this.pedido.filtro.lista=i[0];this.pedido.filtro.indexar(!1),this.pedido.filtro.paginacion.paginaActual=1,this.pedido.filtro.listar(1)}},so([Object(n.ViewChildren)("searchBoxStock"),oo("design:type",Object)],e.prototype,"searchBoxStockViewChildren",void 0),e=so([Object(n.Component)({selector:"app-ver",template:a("4pD7"),styles:[a("mvg0")],providers:[xs,Xs]}),oo("design:paramtypes",[i.Title,h.a,h.b,Xs,ns,xs])],e)}(),co=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},uo=[{path:"almacen/entregas",redirectTo:"/almacen/entregas/por-surtir",pathMatch:"full"},{path:"almacen/entregas",children:[{path:"por-surtir",component:Ws},{path:"finalizadas",component:Ws},{path:"finalizadas/completas",component:Ws},{path:"finalizadas/incompletas",component:Ws},{path:"finalizadas/canceladas",component:Ws},{path:"historial",component:ao},{path:"surtir/:id",component:io},{path:"ver/:id",component:lo}],canActivate:[M]}],po=function(){function e(){}return e=co([Object(n.NgModule)({imports:[h.c.forChild(uo)],exports:[h.c]})],e)}(),mo=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},go=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},fo=function(){function e(e,t){this.entregasService=e,this.cambiarEntornoService=t,this.cargando=!1,this.stats={por_surtir:0,finalizados:0}}return e.prototype.ngOnInit=function(){var e=this;this.cargarStats(),this.cambiarEntornoSuscription=this.cambiarEntornoService.entornoCambiado$.subscribe(function(t){e.cargarStats()})},e.prototype.cargarStats=function(){var e=this;this.cargando=!0,this.entregasService.stats().subscribe(function(t){e.cargando=!1,e.stats=t},function(t){e.cargando=!1,console.log(t)})},e=mo([Object(n.Component)({selector:"menu-lateral",template:a("/Fy7"),styles:[a("8HPL")],providers:[Xs]}),go("design:paramtypes",[Xs,ae])],e)}(),ho=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},vo=function(){function e(){}return e=ho([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,ee,de,fe,qe,es,Hi,po],declarations:[Ws,fo,io,lo,ao]})],e)}(),bo=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},yo=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},_o=function(){function e(e,t,a){this._ngZone=e,this.crudService=t,this.notificacion=a,this.fecha_desde="",this.fecha_hasta="",this.turno="",this.servicio="",this.recibe="",this.cargandoPdf=!1,this.mensajeResponse=new Ae,this.options={position:["bottom","right"],timeOut:2e3,lastOnBottom:!0}}return e.prototype.ngOnInit=function(){this.usuario=JSON.parse(localStorage.getItem("usuario")),this.pdfworker=new Worker("web-workers/farmacia/movimientos/lista-entradas.js");var e=this,t=this._ngZone;this.pdfworker.onmessage=function(a){t.run(function(){e.cargandoPdf=!1}),ft.saveAs(e.base64ToBlob(a.data.base64,"application/pdf"),a.data.fileName)}},e.prototype.export_excel=function(){var e="<table><tr><th colspan='7'><h1>Entrada Estandar</h1></th></tr><tr><th>Desde: "+this.fecha_desde+"</th><th>Hasta: "+this.fecha_hasta+"</th></th><th>Recibe: "+this.recibe+"</th></tr><tr><th colspan='7'></th></tr></table>";e+=document.getElementById("exportable").innerHTML;var t=new Blob([e],{type:"text/comma-separated-values;charset=utf-8"});try{ft.saveAs(t,"Listado_entrada_de_almacen.xls")}catch(e){console.log(e)}},e.prototype.imprimir=function(){var e=this;this.cargandoPdf=!0,this.crudService.lista_general("entrada-almacen?fecha_desde="+this.fecha_desde+"&fecha_hasta="+this.fecha_hasta+"&recibe="+this.recibe).subscribe(function(t){e.cargando=!1,e.lista_impresion=t;try{var a={lista:e.lista_impresion,usuario:e.usuario,fecha_desde:e.fecha_desde,fecha_hasta:e.fecha_hasta,recibe:e.recibe};e.pdfworker.postMessage(JSON.stringify(a))}catch(t){e.cargandoPdf=!1}},function(t){e.cargandoPdf=!1,e.mensajeResponse.mostrar=!0;try{t.json();401===t.estatus&&(e.mensajeResponse.texto="No tiene permiso para hacer esta operaci\xf3n.",e.mensajeResponse.clase="danger",e.mensaje(2))}catch(a){500===t.estatus?e.mensajeResponse.texto="500 (Error interno del servidor)":e.mensajeResponse.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir.",e.mensajeResponse.clase="danger",e.mensaje(2)}})},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},e.prototype.mensaje=function(e,t){void 0===e&&(e=6),void 0===t&&(t=["bottom","left"]);var a={showProgressBar:!0,pauseOnHover:!1,clickToClose:!0,maxLength:this.mensajeResponse.texto.length};this.options={position:t,timeOut:1e3*e,lastOnBottom:!0},""===this.mensajeResponse.titulo&&(this.mensajeResponse.titulo="Entradas de medicamentos"),"alert"===this.mensajeResponse.clase&&this.notificacion.alert(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"success"===this.mensajeResponse.clase&&this.notificacion.success(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"info"===this.mensajeResponse.clase&&this.notificacion.info(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"warning"!==this.mensajeResponse.clase&&"warn"!==this.mensajeResponse.clase||this.notificacion.warn(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"error"!==this.mensajeResponse.clase&&"danger"!==this.mensajeResponse.clase||this.notificacion.error(this.mensajeResponse.titulo,this.mensajeResponse.texto,a)},bo([Object(n.ViewChildren)("tr"),yo("design:type",Object)],e.prototype,"tr",void 0),bo([Object(n.ViewChildren)("sr"),yo("design:type",Object)],e.prototype,"sr",void 0),e=bo([Object(n.Component)({selector:"app-entradas-lista",template:a("gM3R")}),yo("design:paramtypes",[n.NgZone,gr,p.NotificationsService])],e)}(),xo=a("7etK"),Io=a("PJh5"),jo=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},ko=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Co=function(){function e(e,t,a,n,r,i){var s=this;this.fb=e,this.crudService=t,this.route=a,this._sanitizer=n,this.notificacion=r,this._ngZone=i,this.cargando=!1,this.mensajeResponse=new Ae,this.autoCorrectedDatePipe=Object(xo.createAutoCorrectedDatePipe)("yyyy-mm-dd"),this.MinDate=new Date,this.MaxDate=new Date,this.tieneid=!1,this.estoymodificando=!1,this.cargandoProgramas=!1,this.cargandoPdf=!1,this.es_unidosis=!1,this.res_busq_insumos=[],this.lista_programas=[],this.llenando_formulario=!0,this.insumos_term=v.API_URL+"/insumos-auto?term=:keyword",this.mask=[/[2]/,/\d/,/\d/,/\d/,"-",/\d/,/\d/,"-",/\d/,/\d/],this.permisos=[],this.objeto={showProgressBar:!0,pauseOnHover:!0,clickToClose:!0,maxLength:3e3},this.options={position:["bottom","left"],timeOut:5e3,lastOnBottom:!0},this.autocompleListFormatter=function(e){var t='\n    <div class="card">\n      <div class="card-content">\n        <div class="media">          \n          <div class="media-content">\n            <p class="title is-4"><small>'+e.descripcion+'</small></p>\n            <p class="subtitle is-6">\n              <strong>Clave: </strong> '+e.clave+") \n              ";return 1==e.es_causes&&(t+='<label class="tag is-success" ><strong>Cause </strong></label>'),0==e.es_causes&&(t+='<label class="tag" style="background: #B8FB7E; border-color: #B8FB7E; color: rgba(0,0,0,0.7);"><strong>No Cause </strong> </label>'),1==e.es_unidosis&&(t+='<label class="tag is-warning" ><strong>Unidosis</strong> </label>'),t+="\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>",s._sanitizer.bypassSecurityTrustHtml(t)}}return e.prototype.ngOnInit=function(){var e=this;this.usuario=JSON.parse(localStorage.getItem("usuario")),this.permisos=this.usuario.permisos,this.usuario.clues_activa&&(this.insumos_term+="&clues="+this.usuario.clues_activa.clues),this.usuario.almacen_activo&&(this.insumos_term+="&almacen="+this.usuario.almacen_activo.id),this.pdfworker=new Worker("web-workers/farmacia/movimientos/imprimir-entrada.js");var t=this,a=this._ngZone;this.pdfworker.onmessage=function(e){a.run(function(){t.cargandoPdf=!1}),ft.saveAs(t.base64ToBlob(e.data.base64,"application/pdf"),e.data.fileName)},this.dato=this.fb.group({id:[""],actualizar:[!1],tipo_movimiento_id:[1,[l.Validators.required]],estatus:["FI"],fecha_movimiento:["",[l.Validators.required]],observaciones:[""],programa_id:[""],cancelado:[""],observaciones_cancelacion:[""],movimiento_metadato:this.fb.group({persona_recibe:["",[l.Validators.required]],servicio_id:[null],turno_id:[null]}),insumos:this.fb.array([])}),this.route.params.subscribe(function(t){t.id&&(e.tieneid=!0)}),this.dato.controls.id.valueChanges.subscribe(function(t){t&&(e.llenando_formulario=!0,setTimeout(function(){"BR"===e.dato.controls.estatus.value?e.llenarFormulario():e.llenando_formulario=!1},500))}),this.tieneid||(this.llenando_formulario=!1);var n=new Date;this.MinDate=new Date(n.getFullYear()-1,0,1),this.MaxDate=new Date(n.getFullYear(),n.getMonth(),n.getDate()),this.MinDateCaducidad=n.getFullYear()+"-"+("00"+(n.getMonth()+1)).slice(-2)+"-"+n.getDate(),this.dato.get("fecha_movimiento").value?this.fecha_actual=this.dato.get("fecha_movimiento").value:(this.fecha_actual=n.getFullYear()+"-"+("00"+(n.getMonth()+1)).slice(-2)+"-"+n.getDate(),this.dato.get("fecha_movimiento").patchValue(this.fecha_actual)),this.cargarCatalogo("programa")},e.prototype.cargarCatalogo=function(e){var t=this;this.cargandoProgramas=!0,this.crudService.lista_general(e).subscribe(function(e){t.cargandoProgramas=!1;for(var a=0,n=e;a<n.length;a++){var r=n[a];1!==r.estatus&&"1"!==r.estatus||t.lista_programas.push(r)}})},e.prototype.llenarFormulario=function(){for(var e,t=this.fb.array([]),a=0,n=this.dato.controls.insumos.value;a<n.length;a++){if((u=n[a]).lotes)for(var r=0,i=u.lotes;r<i.length;r++){var s=i[r];e={clave:u.clave,nombre:u.nombre,descripcion:u.descripcion,es_causes:u.es_causes,es_unidosis:u.es_unidosis,lote:[s.lote,[l.Validators.required]],id:s.id,codigo_barras:[s.codigo_barras,[l.Validators.required]],fecha_caducidad:[s.fecha_caducidad,[l.Validators.required]],cantidad:[Number(s.cantidad),[l.Validators.required]],cantidad_x_envase:Number(u.detalles.informacion_ampliada.cantidad_x_envase),cantidad_surtida:1,movimiento_insumo_id:[s.movimiento_insumo_id],stock_id:[s.stock_id]},t.insert(0,this.fb.group(e))}}this.dato.controls.insumos=this.fb.array([]);for(var o=this.dato.controls.insumos,c=0,d=t.value;c<d.length;c++){var u=d[c];o.insert(0,this.fb.group(u))}this.llenando_formulario=!1},e.prototype.handleKeyboardEvents=function(e){if(this.key=e.which||e.keyCode,13===e.keyCode)return document.getElementById("buscarInsumo").focus(),e.preventDefault(),!1},e.prototype.abrirModal=function(e,t){(t||0===t)&&(this.index_borrar=t),document.getElementById(e).classList.add("is-active")},e.prototype.cancelarModal=function(e){document.getElementById(e).classList.remove("is-active"),"guardarMovimiento"===e&&this.dato.controls.estatus.patchValue("BR")},e.prototype.enviarAutocomplete=function(e){var t=this;this.cargando=!0;var a="";this.usuario.clues_activa&&(a+="&clues="+this.usuario.clues_activa.clues),this.usuario.almacen_activo&&(a+="&almacen="+this.usuario.almacen_activo.id);v.API_URL;this.crudService.busquedaInsumos(e,"insumos-auto").subscribe(function(e){t.cargando=!1,t.res_busq_insumos=e,0===t.res_busq_insumos.length&&t.notificacion.warn("Insumos","No hay resultados que coincidan",t.objeto)})},e.prototype.select_insumo_autocomplete=function(e){this.cargando=!0,this.insumo=e,this.agregarLoteIsumo(),document.getElementById("buscarInsumo").value="",this.res_busq_insumos=[],this.es_unidosis=e.es_unidosis,this.cargando=!1},e.prototype.agregarLoteIsumo=function(){var e,t=this.dato.controls.insumos;e=null==this.insumo.cantidad_x_envase?1:this.insumo.cantidad_x_envase;var a={clave:this.insumo.clave,nombre:this.insumo.nombre,descripcion:this.insumo.descripcion,es_causes:this.insumo.es_causes,es_unidosis:this.insumo.es_unidosis,lote:["",[l.Validators.required]],id:null,codigo_barras:[""],fecha_caducidad:["",[l.Validators.required]],cantidad:["",[l.Validators.required]],cantidad_x_envase:parseInt(e),cantidad_surtida:1,movimiento_insumo_id:null,stock_id:null};t.insert(0,this.fb.group(a))},e.prototype.agregarNuevoLote=function(){this.lotes_insumo.push({id:""+Math.floor(999*Math.random())+1,codigo_barras:"",lote:"",fecha_caducidad:"",existencia:"",cantidad:"",nuevo:1,existencia_unidosis:"",cantidad_unidosis:""})},e.prototype.eliminarLote=function(e){this.lotes_insumo.splice(e,1)},e.prototype.quitar_lote_insumo=function(e,t,a){var n=this.dato.controls.insumos.controls[e];n.controls.lotes.removeAt(a);var r=n.controls.cantidad_surtida.value-t.cantidad;n.controls.cantidad_surtida.patchValue(r)},e.prototype.validar_fecha=function(e,t){var a=this.dato.controls.insumos.controls[t],n=Io(this.dato.get("fecha_movimiento").value,"YYY-MM-DD");console.log(n),Io(e,"YYYY-MM-DD",!0).isValid()?Io(e,"YYYY-MM-DD",!0)<=n.add(14,"days")&&(a.controls.fecha_caducidad.patchValue(""),this.notificacion.alert("Fecha inv\xe1lida","La fecha de caducidad debe ser mayor al "+n.format("YYYY-MM-DD"),this.objeto)):(this.notificacion.alert("Fecha inv\xe1lida","Debe ingresar una fecha v\xe1lida",this.objeto),a.controls.fecha_caducidad.patchValue(""))},e.prototype.quitar_punto=function(e){return!!this.is_numeric(e.key)},e.prototype.is_numeric=function(e){return/^\d+$/.test(e)},e.prototype.guardar_movimiento=function(){0===this.dato.controls.insumos.length?this.notificacion.warn("Insumos","Debe agregar por lo menos un insumo",this.objeto):(this.estoymodificando=!0,this.dato.controls.estatus.patchValue("FI"),document.getElementById("guardarMovimiento").classList.add("is-active"))},e.prototype.guardarBorrador=function(){this.dato.controls.estatus.patchValue("BR"),document.getElementById("borrador").click()},e.prototype.actualizarDatos=function(){var e,t=this;this.cargando=!0;try{e=this.dato.getRawValue()}catch(t){e=this.dato.value}this.crudService.editar(this.dato.controls.id.value,e,"entrada-almacen").subscribe(function(e){document.getElementById("actualizar").click(),t.cargando=!1,t.mensajeResponse.texto="Se han guardado los cambios.",t.mensajeResponse.mostrar=!0,t.mensajeResponse.clase="success",t.mensaje(2)},function(e){t.cargando=!1,t.mensajeResponse.texto="No especificado.",t.mensajeResponse.mostrar=!0,t.mensajeResponse.clase="alert",t.mensaje(2);try{var a=e.json();if(401==e.estatus&&(t.mensajeResponse.texto="No tiene permiso para hacer esta operaci\xf3n.",t.mensajeResponse.clase="error",t.mensaje(2)),409==e.estatus)for(var n in t.mensajeResponse.texto="Por favor verfique los campos marcados en rojo.",t.mensajeResponse.clase="error",t.mensaje(8),a.error)for(var r in a.error[n])t.mensajeResponse.titulo=n,t.mensajeResponse.texto=a.error[n][r],t.mensajeResponse.clase="error",t.mensaje(3)}catch(a){500==e.estatus?t.mensajeResponse.texto="500 (Error interno del servidor)":t.mensajeResponse.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir.",t.mensajeResponse.clase="error",t.mensaje(2)}})},e.prototype.imprimir=function(){try{this.cargandoPdf=!0;var e={datos:this.dato.value,lista:this.dato.value.insumos,usuario:this.usuario};this.pdfworker.postMessage(JSON.stringify(e))}catch(e){this.cargandoPdf=!1}},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},e.prototype.mensaje=function(e,t){void 0===e&&(e=6),void 0===t&&(t=["bottom","left"]);var a={showProgressBar:!0,pauseOnHover:!1,clickToClose:!0,maxLength:this.mensajeResponse.texto.length};this.options={position:t,timeOut:1e3*e,lastOnBottom:!0},""===this.mensajeResponse.titulo&&(this.mensajeResponse.titulo="Entradas de almac\xe9n"),"alert"===this.mensajeResponse.clase&&this.notificacion.alert(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"success"===this.mensajeResponse.clase&&this.notificacion.success(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"info"===this.mensajeResponse.clase&&this.notificacion.info(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"warning"!==this.mensajeResponse.clase&&"warn"!==this.mensajeResponse.clase||this.notificacion.warn(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"error"!==this.mensajeResponse.clase&&"danger"!==this.mensajeResponse.clase||this.notificacion.error(this.mensajeResponse.titulo,this.mensajeResponse.texto,a)},e=jo([Object(n.Component)({selector:"salidas-estandar-formulario",template:a("3WqU"),styles:["ngui-auto-complete {z-index: 999999 !important}"],host:{"(document:keydown)":"handleKeyboardEvents($event)"}}),ko("design:paramtypes",[l.FormBuilder,gr,h.a,i.DomSanitizer,p.NotificationsService,n.NgZone])],e)}(),Eo=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Po=[{path:"almacen/entradas-estandar",children:[{path:"",component:_o,canActivate:[D],data:{key:"a1OMZVn7dveOf5aUK8V0VsvvSCxz8EMw"}},{path:"nuevo",component:Co,canActivate:[D],data:{key:"a1OMZVn7dveOf5aUK8V0VsvvSCxz8EMw"}},{path:"editar/:id",component:Co,canActivate:[D],data:{key:"a1OMZVn7dveOf5aUK8V0VsvvSCxz8EMw"}},{path:"ver/:id",component:Co,canActivate:[D],data:{key:"a1OMZVn7dveOf5aUK8V0VsvvSCxz8EMw"}}],canActivate:[M]}],qo=function(){function e(){}return e=Eo([Object(n.NgModule)({imports:[h.c.forChild(Po)],exports:[h.c],providers:[]})],e)}(),Ao=a("VWgf"),wo=a("FEqn"),So=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Ro=function(){function e(){}return e=So([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,qo,ee,de,fe,qe,je,Hi,Ir,jr.NguiAutoCompleteModule,Oi.NguiDatetimePickerModule,Ao.TextMaskModule,wo.MomentModule],declarations:[_o,Co],providers:[_,gr]})],e)}(),Oo=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},No=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Mo=function(){function e(e,t){this._ngZone=e,this.crudService=t,this.fecha_desde="",this.fecha_hasta="",this.turno="",this.cargandoPdf=!1}return e.prototype.ngOnInit=function(){this.usuario=JSON.parse(localStorage.getItem("usuario")),this.pdfworker=new Worker("web-workers/farmacia/movimientos/lista-recetas.js");var e=this,t=this._ngZone;this.pdfworker.onmessage=function(a){t.run(function(){e.cargandoPdf=!1}),ft.saveAs(e.base64ToBlob(a.data.base64,"application/pdf"),a.data.fileName)}},e.prototype.imprimir=function(){var e=this;this.cargandoPdf=!0;var t=this.tr.first.nativeElement.options;t=t[t.selectedIndex].text,this.crudService.lista_general("movimientos?tipo=5&fecha_desde="+this.fecha_desde+"&fecha_hasta="+this.fecha_hasta+"&turno="+this.turno).subscribe(function(a){e.cargando=!1,e.lista_impresion=a;try{var n={lista:e.lista_impresion,usuario:e.usuario,turno:t,fecha_desde:e.fecha_desde,fecha_hasta:e.fecha_hasta};e.pdfworker.postMessage(JSON.stringify(n))}catch(t){e.cargandoPdf=!1}},function(e){})},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},e.prototype.export_excel=function(){var e="<table><tr><th colspan='7'><h1>Salida por Receta</h1></th></tr><tr><th></th></tr><tr><th colspan='7'></th></tr></table>";e+=document.getElementById("exportable").innerHTML;var t=new Blob([e],{type:"text/comma-separated-values;charset=utf-8"});try{ft.saveAs(t,"Listado_salida_por_receta.xls")}catch(e){console.log(e)}},Oo([Object(n.ViewChildren)("tr"),No("design:type",Object)],e.prototype,"tr",void 0),e=Oo([Object(n.Component)({selector:"salidas-recetas-lista",template:a("wL7n")}),No("design:paramtypes",[n.NgZone,gr])],e)}(),Bo=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Fo=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Do=function(){function e(e,t,a,n,r,i,s){var o=this;this.fb=e,this.crudService=t,this.route=a,this._sanitizer=n,this.notificacion=r,this._ngZone=i,this.http=s,this.cargando=!1,this.res_busq_insumos=[],this.sum_cant_lotes=!1,this.permisos=[],this.MinDate=new Date,this.MaxDate=new Date,this.mostrarCancelado=!1,this.tieneid=!1,this.cargandoPdf=!1,this.tipos_recetas=[{id:1,nombre:"Normal"},{id:2,nombre:"Controlado"}],this.options={position:["top","left"],timeOut:5e3,lastOnBottom:!0},this.objeto={showProgressBar:!0,pauseOnHover:!0,clickToClose:!0,maxLength:2e3},this.mostrar_lote=[],this.insumos_term=v.API_URL+"/insumos-auto?term=:keyword",this.medicos_term=v.API_URL+"/personal-medico?tipo_personal=1&term=:keyword",this.autocompleListFormatMedico=function(e){var t='\n        <div class="card">\n            <div class="card-content">\n                <div class="media">          \n                    <div class="media-content">\n                        <p class="title is-4" style="color: black;">\n                            <i class="fa fa-user-md" aria-hidden="true"></i> &nbsp; '+e.nombre+'\n                        </p>\n                        <p class="subtitle is-6" style="color: black;">\n                            <strong style="color: black;">T\xedtulo: </strong> M\xe9dico cirujano\n                            <strong style="color: black;">&nbsp; C\xe9dula: </strong>\n                            <span style="color: black;"> '+(e.cedula?e.cedula:"No disponible")+" </span>\n                        </p>\n                    </div>\n                </div>\n            </div>\n        </div>";return o._sanitizer.bypassSecurityTrustHtml(t)},this.autocompleListFormatter=function(e){var t='\n    <div class="card">\n      <div class="card-content">\n        <div class="media">          \n          <div class="media-content">\n            <p class="title is-4">'+e.descripcion+'</p>\n            <p class="subtitle is-6">\n              <strong>Clave: </strong> '+e.clave+"\n              ";return 1==e.es_causes&&(t+='<label class="tag is-success" ><strong>Cause </strong></label>'),0==e.es_causes&&(t+='<label class="tag" style="background: #B8FB7E; border-color: #B8FB7E; color: rgba(0,0,0,0.7);" ><strong>No Cause </strong> </label>'),1==e.es_unidosis&&(t+='<label class="tag is-warning" ><strong>Unidosis</strong> </label>'),t+="\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>",o._sanitizer.bypassSecurityTrustHtml(t)},this.es_unidosis=!1}return e.prototype.ngOnInit=function(){var e=this;this.usuario=JSON.parse(localStorage.getItem("usuario")),this.permisos=this.usuario.permisos,this.usuario.clues_activa&&(this.insumos_term+="&clues="+this.usuario.clues_activa.clues,this.medicos_term+="&clues="+this.usuario.clues_activa.clues),this.usuario.almacen_activo&&(this.insumos_term+="&almacen="+this.usuario.almacen_activo.id,this.medicos_term+="&almacen="+this.usuario.almacen_activo.id),this.pdfworker=new Worker("web-workers/farmacia/movimientos/receta.js");var t=this,a=this._ngZone;this.pdfworker.onmessage=function(e){a.run(function(){t.cargandoPdf=!1}),ft.saveAs(t.base64ToBlob(e.data.base64,"application/pdf"),e.data.fileName)},this.dato=this.fb.group({id:[""],tipo_movimiento_id:["5",[l.Validators.required]],status:["FI"],fecha_movimiento:["",[l.Validators.required]],observaciones:[""],cancelado:[""],observaciones_cancelacion:[""],movimiento_metadato:this.fb.group({turno_id:["",[l.Validators.required]]}),receta:this.fb.group({id:[""],folio:["",[l.Validators.required]],tipo_receta:[""],fecha_receta:["",[l.Validators.required]],doctor:["",[l.Validators.required]],personal_clues_id:[""],paciente:["",[l.Validators.required]],tiene_seguro_popular:[!1,[]],poliza_seguro_popular:[{value:"",disabled:!0},[l.Validators.required]],diagnostico:["",[l.Validators.required]],imagen_receta:[""],servidor_id:[""],movimiento_id:[""],incremento:[""],tipo_receta_id:["1",[l.Validators.required]],fecha_surtido:[""],folio_receta:[""],usuario_id:[""],receta_detalles:this.fb.array([])}),insumos:this.fb.array([])}),this.route.params.subscribe(function(t){t.id&&(e.tieneid=!0)});var n=new Date;this.MinDate=new Date(n.getFullYear()-1,0,1),this.MaxDate=new Date(n.getFullYear(),n.getMonth(),n.getDate()),this.dato.get("fecha_movimiento").value?this.fecha_actual=this.dato.get("fecha_movimiento").value:(this.fecha_actual=n.getFullYear()+"-"+("00"+(n.getMonth()+1)).slice(-2)+"-"+n.getDate(),this.dato.get("fecha_movimiento").patchValue(this.fecha_actual)),document.getElementById("catalogos").click()},e.prototype.abrirModal=function(e){document.getElementById(e).classList.add("is-active")},e.prototype.requerirCampo=function(){var e=this.dato.controls.receta;e.controls.tiene_seguro_popular.value?e.get("poliza_seguro_popular").disable():e.get("poliza_seguro_popular").enable()},e.prototype.cancelarModal=function(e){document.getElementById(e).classList.remove("is-active"),this.dosis.first.nativeElement.value="",this.duracion.first.nativeElement.value="",this.frecuencia.first.nativeElement.value="",this.cant_recetada.first.nativeElement.value="",this.cant_surtida.first.nativeElement.value="",this.sum_cant_lotes=!1},e.prototype.enviarAutocomplete=function(e){var t=this;this.cargando=!0;var a="";this.usuario.clues_activa&&(a+="&clues="+this.usuario.clues_activa.clues),this.usuario.almacen_activo&&(a+="&almacen="+this.usuario.almacen_activo.id);v.API_URL;this.crudService.busquedaInsumos(e,"insumos-auto").subscribe(function(e){t.cargando=!1,t.res_busq_insumos=e,0===t.res_busq_insumos.length&&t.notificacion.warn("Insumos","No hay resultados que coincidan",t.objeto)})},e.prototype.select_medico_autocomplete=function(e){JSON.parse(localStorage.getItem("usuario"));this.dato.controls.receta.controls.personal_clues_id.patchValue(e.id)},e.prototype.DoctorBuscador=function(){this.dato.controls.receta.controls.doctor},e.prototype.select_insumo_autocomplete=function(e){var t=this,a=JSON.parse(localStorage.getItem("usuario"));this.cargando=!0,this.crudService.lista(0,1e3,"comprobar-stock?almacen="+a.almacen_activo.id+"&clave="+e.clave).subscribe(function(a){t.lotes_insumo=a,t.insumo=e,document.getElementById("buscarInsumo").value="",t.res_busq_insumos=[],document.getElementById("tituloModal").innerHTML=" "+e.descripcion+' <br>\n          <p aling="justify" style="font-size:12px">CANTIDAD POR ENVASE: \n          '+(e.cantidad_x_envase?e.cantidad_x_envase:"Sin especificar")+"</p> ",t.es_unidosis=e.es_unidosis,t.unidad_medida=e.unidad_medida,t.presentacion_nombre=e.presentacion_nombre,t.cargando=!1,t.cantidad_x_envase=e.cantidad_x_envase?e.cantidad_x_envase:1,t.abrirModal("verLotes")},function(e){t.cargando=!1})},e.prototype.agregarLoteIsumo=function(e,t,a,n){for(var r=this.dato.controls.insumos,i={clave:this.insumo.clave,nombre:this.insumo.nombre,descripcion:this.insumo.descripcion,es_causes:this.insumo.es_causes,es_unidosis:this.insumo.es_unidosis,cantidad:1,cantidad_x_envase:this.insumo.cantidad_x_envase?parseInt(this.insumo.cantidad_x_envase):1,dosis:[e,[l.Validators.required]],frecuencia:[t,[l.Validators.required]],duracion:[a,[l.Validators.required]],cantidad_recetada:[n,[l.Validators.required]],cantidad_surtida:1,unidad_medida:this.unidad_medida,presentacion_nombre:this.presentacion_nombre,lotes:this.fb.array([])},s=!1,o=0,c=r.value;o<c.length;o++){if((f=c[o]).clave===this.insumo.clave){s=!0;break}}s||r.push(this.fb.group(i));var d=r.length-1,u=r.controls[d];this.mostrar_lote[d]=!1;for(var p={showProgressBar:!0,pauseOnHover:!0,clickToClose:!0,maxLength:2e3},m=0,g=this.lotes_insumo;m<g.length;m++){var f;if((f=g[m]).cantidad>0){var h=!1;if(s)for(var v=0,b=u.controls.lotes.controls;v<b.length;v++){if((j=b[v]).controls.id.value==f.id){h=!0;var y=j.controls.cantidad.value+f.cantidad;f.nuevo&&(f.existencia=1*f.cantidad),y>j.controls.existencia.value&&0==f.nuevo&&(this.notificacion.alert("Cantidad Excedida","La cantidad maxima es: "+j.controls.existencia.value,p),y=1*j.controls.existencia.value),j.controls.cantidad.patchValue(y);break}}h||(f.nuevo&&(f.existencia=1*f.cantidad),f.cantidad>f.existencia&&(this.notificacion.alert("Cantidad Excedida","La cantidad maxima es: "+f.existencia,p),f.cantidad=1*f.existencia),u.controls.lotes.push(this.fb.group({id:f.id,nuevo:0|f.nuevo,codigo_barras:f.codigo_barras?f.codigo_barras:"",lote:f.lote,fecha_caducidad:f.fecha_caducidad,existencia:f.nuevo?f.cantidad:f.existencia,cantidad:f.cantidad})))}}for(var _=0,x=0,I=u.controls.lotes.value;x<I.length;x++){var j;_+=(j=I[x]).cantidad}u.controls.cantidad_surtida.patchValue(_),this.cancelarModal("verLotes"),this.sum_cant_lotes=!1},e.prototype.ver_lotes_asignados=function(e){this.mostrar_lote[e]=!this.mostrar_lote[e]},e.prototype.agregarNuevoLote=function(){this.lotes_insumo.push({id:""+Math.floor(999*Math.random())+1,codigo_barras:"",lote:"",fecha_caducidad:"",existencia:"",cantidad:"",nuevo:1,existencia_unidosis:"",cantidad_unidosis:""})},e.prototype.eliminarLote=function(e){this.lotes_insumo.splice(e,1)},e.prototype.quitar_lote_insumo=function(e,t,a){var n=this.dato.controls.insumos.controls[e];n.controls.lotes.removeAt(a);var r=n.controls.cantidad_surtida.value-t.cantidad;n.controls.cantidad_surtida.patchValue(r)},e.prototype.validar_cantidad_lote=function(e,t,a){if(t.controls.cantidad.value>t.controls.existencia.value&&0==t.nuevo){this.notificacion.alert("Cantidad Excedida","La cantidad maxima es: "+t.controls.existencia.value,{showProgressBar:!0,pauseOnHover:!0,clickToClose:!0,maxLength:2e3}),t.controls.cantidad.patchValue(1*t.controls.existencia.value)}for(var n=this.dato.controls.insumos.controls[e],r=0,i=0,s=n.controls.lotes.value;i<s.length;i++){r+=s[i].cantidad}n.controls.cantidad_surtida.patchValue(r)},e.prototype.comprobar_cant_lotes=function(){for(var e=0,t=0,a=this.lotes_insumo;t<a.length;t++){var n=a[t];n.cantidad&&(e=Number(e)+Number(n.cantidad))}e>0&&""!==this.dosis.first.nativeElement.value&&""!==this.frecuencia.first.nativeElement.value&&""!==this.duracion.first.nativeElement.value&&""!==this.cant_recetada.first.nativeElement.value?this.sum_cant_lotes=!0:this.sum_cant_lotes=!1},e.prototype.quitar_punto=function(e){return!!this.is_numeric(e.key)},e.prototype.is_numeric=function(e){return/^\d+$/.test(e)},e.prototype.handleKeyboardEvents=function(e){if("buscarMedico"===document.activeElement.id)document.getElementById("buscarMedico").focus();else if(this.key=e.which||e.keyCode,13===e.keyCode)return document.getElementById("buscarInsumo").focus(),e.preventDefault(),!1},e.prototype.calcularCantidadSugerida=function(e,t,a){var n=24/t;this.cantidad_recomendada=n*e*Number(a),this.cantidad_recomendada=this.cantidad_recomendada/this.cantidad_x_envase;var r=""+this.cantidad_recomendada;this.cantidad_recomendada>parseInt(r,10)&&(this.cantidad_recomendada=parseInt(r,10)+1)},e.prototype.calcularCantidadSurtida=function(){for(var e=0,t=0,a=this.lotes_insumo;t<a.length;t++){var n=a[t];e=n.cantidad?e+n.cantidad:e+0}this.cant_surtida.first.nativeElement.value=e,""!==this.dosis.first.nativeElement.value&&""!==this.frecuencia.first.nativeElement.value&&""!==this.duracion.first.nativeElement.value&&""!==this.cant_recetada.first.nativeElement.value||(this.sum_cant_lotes=!1)},e.prototype.guardar_movimiento=function(){var e=this.dato.controls.insumos,t=!0;if(0===e.length)this.notificacion.warn("Insumos","Debe agregar por lo menos un insumo",this.objeto);else{for(var a=0,n=e.value;a<n.length;a++){0===n[a].lotes.length&&(t=!1)}console.log(t),t?document.getElementById("guardarMovimiento").classList.add("is-active"):(document.getElementById("tituloGuardar").innerHTML=' <br>\n          <p aling="justify" style="font-size:12px; color: red"> Contiene insumos con existencia negada.</p>',document.getElementById("guardarMovimiento").classList.add("is-active"),this.notificacion.warn("Insumos","negarExistencia",this.objeto))}},e.prototype.imprimir=function(){var e=JSON.parse(localStorage.getItem("usuario")),t=this.dato.controls.receta;try{this.cargandoPdf=!0;var a={datos:this.dato.value,lista:this.dato.value.insumos,usuario:e,poliza:t.controls.poliza_seguro_popular.value?t.controls.poliza_seguro_popular.value:"No cuenta con p\xf3liza de Seguro Popular"};this.pdfworker.postMessage(JSON.stringify(a))}catch(e){this.cargandoPdf=!1,console.log(e)}},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},Bo([Object(n.ViewChildren)("seguroPopular"),Fo("design:type",Object)],e.prototype,"seguroPopular",void 0),Bo([Object(n.ViewChildren)("poliza"),Fo("design:type",Object)],e.prototype,"poliza",void 0),Bo([Object(n.ViewChildren)("campoDr"),Fo("design:type",Object)],e.prototype,"campoDr",void 0),Bo([Object(n.ViewChildren)("dosis"),Fo("design:type",Object)],e.prototype,"dosis",void 0),Bo([Object(n.ViewChildren)("frecuencia"),Fo("design:type",Object)],e.prototype,"frecuencia",void 0),Bo([Object(n.ViewChildren)("duracion"),Fo("design:type",Object)],e.prototype,"duracion",void 0),Bo([Object(n.ViewChildren)("cant_recetada"),Fo("design:type",Object)],e.prototype,"cant_recetada",void 0),Bo([Object(n.ViewChildren)("cant_surtida"),Fo("design:type",Object)],e.prototype,"cant_surtida",void 0),e=Bo([Object(n.Component)({selector:"salidas-recetas-formulario",template:a("ZLtL"),styles:['\n    ngui-auto-complete {\n      z-index: 999999 !important\n    }\n    .b-checkbox {\n      line-height: 1;\n    }\n    .select{\n      width: 100%;\n    }\n    .b-checkbox label {\n      position: relative;\n      padding-left: 5px;\n      cursor: pointer;\n    }\n\n    .b-checkbox label::before {\n      content: "";\n      position: absolute;\n      width: 17px;\n      height: 17px;\n      left: 0;\n      margin-left: -17px;\n      border: 1px solid #dbdbdb;\n      border-radius: 3px;\n      background-color: #fff;\n      transition: background .1s ease-in-out;\n    }\n\n    .b-checkbox label::after {\n      position: absolute;\n      width: 16px;\n      height: 16px;\n      left: 0;\n      top: 5px;\n      margin-left: -15px;\n      font-size: 12px;\n      line-height: 1;\n      color: #363636;\n    }\n\n    .b-checkbox input[type="checkbox"],\n    .b-checkbox input[type="radio"] {\n      opacity: 0;\n      z-index: 1;\n      cursor: pointer;\n    }\n\n    .b-checkbox input[type="checkbox"]:focus + label::before,\n    .b-checkbox input[type="radio"]:focus + label::before {\n      outline: thin dotted;\n      outline: 5px auto -webkit-focus-ring-color;\n      outline-offset: -2px;\n    }\n\n    .b-checkbox input[type="checkbox"]:checked + label::after,\n    .b-checkbox input[type="radio"]:checked + label::after {\n      font-family: "FontAwesome";\n      content: "\uf00c";\n    }\n\n    .b-checkbox input[type="checkbox"]:indeterminate + label::after,\n    .b-checkbox input[type="radio"]:indeterminate + label::after {\n      display: block;\n      content: "";\n      width: 10px;\n      height: 3px;\n      background-color: #555555;\n      border-radius: 2px;\n      margin-left: -16.5px;\n      margin-top: 7px;\n    }\n\n    .b-checkbox input[type="checkbox"]:disabled,\n    .b-checkbox input[type="radio"]:disabled {\n      cursor: not-allowed;\n    }\n\n    .b-checkbox input[type="checkbox"]:disabled + label,\n    .b-checkbox input[type="radio"]:disabled + label {\n      opacity: 0.65;\n    }\n\n    .b-checkbox input[type="checkbox"]:disabled + label::before,\n    .b-checkbox input[type="radio"]:disabled + label::before {\n      background-color: whitesmoke;\n      cursor: not-allowed;\n    }\n\n    .b-checkbox.is-circular label::before {\n      border-radius: 50%;\n    }\n\n    .b-checkbox.is-inline {\n      margin-top: 0;\n    }\n  '],host:{"(document:keydown)":"handleKeyboardEvents($event)"}}),Fo("design:paramtypes",[l.FormBuilder,gr,h.a,i.DomSanitizer,p.NotificationsService,n.NgZone,c.Http])],e)}(),Lo=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},To=[{path:"almacen/salidas-recetas",children:[{path:"",component:Mo,canActivate:[D],data:{key:"GPSDLmXckXcdfdj7lD4rdacwMivsTp9g"}},{path:"nuevo",component:Do,canActivate:[D],data:{key:"GPSDLmXckXcdfdj7lD4rdacwMivsTp9g"}},{path:"ver/:id",component:Do,canActivate:[D],data:{key:"GPSDLmXckXcdfdj7lD4rdacwMivsTp9g"}}],canActivate:[M]}],zo=function(){function e(){}return e=Lo([Object(n.NgModule)({imports:[h.c.forChild(To)],exports:[h.c],providers:[]})],e)}(),Uo=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Vo=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Go=function(){function e(e,t,a,n){this.fb=e,this.router=t,this.route=a,this._sanitizer=n,this.tieneid=!1,this.mostrar_pantalla=!1}return e.prototype.ngOnInit=function(){var e=this;JSON.parse(localStorage.getItem("usuario"));this.dato2=this.fb.group({clues:["",[l.Validators.required]],jurisdiccion_id:[""],nombre:[""],activa:[""],director_id:[""],clues_turnos:this.fb.array([])}),this.route.params.subscribe(function(t){t.clues&&(e.tieneid=!0)}),document.getElementById("catalogoTurno").click()},e.prototype.ngAfterViewInit=function(){document.getElementById("actualizar").click()},e=Uo([Object(n.Component)({selector:"app-modal-turnos",template:a("t5wJ")}),Vo("design:paramtypes",[l.FormBuilder,h.b,h.a,i.DomSanitizer])],e)}(),Yo=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Ho=function(){function e(){}return e=Yo([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,zo,ee,de,fe,qe,je,Hi,Ir,jr.NguiAutoCompleteModule,Oi.NguiDatetimePickerModule],declarations:[Mo,Do,Go],providers:[_,gr]})],e)}(),Jo=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},$o=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ko=function(){function e(e,t){this._ngZone=e,this.crudService=t,this.fecha_desde="",this.fecha_hasta="",this.turno="",this.servicio="",this.recibe="",this.cargandoPdf=!1}return e.prototype.ngOnInit=function(){this.usuario=JSON.parse(localStorage.getItem("usuario")),this.pdfworker=new Worker("web-workers/farmacia/movimientos/lista-salidas.js");var e=this,t=this._ngZone;this.pdfworker.onmessage=function(a){t.run(function(){e.cargandoPdf=!1}),ft.saveAs(e.base64ToBlob(a.data.base64,"application/pdf"),a.data.fileName)}},e.prototype.export_excel=function(){var e=this.tr.first.nativeElement.options,t=this.sr.first.nativeElement.options;e=e[e.selectedIndex].text,t=t[t.selectedIndex].text;var a="<table><tr><th colspan='7'><h1>Salida Estandar</h1></th></tr><tr><th>Desde: "+this.fecha_desde+"</th><th>Hasta: "+this.fecha_hasta+"</th><th>Turno: "+e+"</th><th>Servicio: "+t+"</th><th>Recibe: "+this.recibe+"</th></tr><tr><th colspan='7'></th></tr></table>";a+=document.getElementById("exportable").innerHTML;var n=new Blob([a],{type:"text/comma-separated-values;charset=utf-8"});try{ft.saveAs(n,"salida_estandar.xls")}catch(e){console.log(e)}},e.prototype.imprimir=function(){var e=this;try{this.cargandoPdf=!0;var t=this.tr.first.nativeElement.options,a=this.sr.first.nativeElement.options;t=t[t.selectedIndex].text,a=a[a.selectedIndex].text,this.crudService.lista_general("movimientos?tipo=2&fecha_desde="+this.fecha_desde+"&fecha_hasta="+this.fecha_hasta+"&turno="+this.turno+"&servicio="+this.servicio+"&recibe="+this.recibe).subscribe(function(n){e.cargando=!1,e.lista_impresion=n;var r={lista:e.lista_impresion,usuario:e.usuario,fecha_desde:e.fecha_desde,fecha_hasta:e.fecha_hasta,turno:t,servicio:a,recibe:e.recibe};e.pdfworker.postMessage(JSON.stringify(r))},function(e){})}catch(e){this.cargandoPdf=!1}},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},Jo([Object(n.ViewChildren)("tr"),$o("design:type",Object)],e.prototype,"tr",void 0),Jo([Object(n.ViewChildren)("sr"),$o("design:type",Object)],e.prototype,"sr",void 0),e=Jo([Object(n.Component)({selector:"app-salidas-estandar-lista",template:a("ayZJ")}),$o("design:paramtypes",[n.NgZone,gr])],e)}(),Xo=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Zo=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Qo=function(){function e(e,t,a,n,r,i){var s=this;this.fb=e,this.crudService=t,this.route=a,this._sanitizer=n,this.notificacion=r,this._ngZone=i,this.modo="N",this.cant_solicitada_valida=!1,this.sum_cant_lotes=!1,this.mask=[/[2]/,/\d/,/\d/,/\d/,"-",/\d/,/\d/,"-",/\d/,/\d/],this.autoCorrectedDatePipe=Object(xo.createAutoCorrectedDatePipe)("yyyy-mm-dd"),this.insumos_term=v.API_URL+"/insumos-auto?term=:keyword",this.objeto={showProgressBar:!0,pauseOnHover:!0,clickToClose:!0,maxLength:2e3},this.MinDate=new Date,this.MaxDate=new Date,this.fecha_invalida=!0,this.tieneid=!1,this.cargando=!1,this.res_busq_insumos=[],this.cargandoPdf=!1,this.mensajeResponse=new Ae,this.titulo="Salidas est\xe1ndar",this.options={position:["bottom","right"],timeOut:2e3,lastOnBottom:!0},this.es_unidosis=!1,this.autocompleListFormatter=function(e){var t='\n    <div class="card">\n      <div class="card-content">\n        <div class="media">          \n          <div class="media-content">\n            <p class="title is-4"> <small>'+e.descripcion+'</small></p>\n            <p class="subtitle is-6">\n              <strong>Clave: </strong> '+e.clave+") \n              ";return 1==e.es_causes&&(t+='<label class="tag is-success" ><strong>Cause </strong></label>'),0==e.es_causes&&(t+='<label class="tag" style="background: #B8FB7E; border-color: #B8FB7E; color: rgba(0,0,0,0.7);"><strong>No Cause </strong> </label>'),1==e.es_unidosis&&(t+='<label class="tag is-warning" ><strong>Unidosis</strong></label>'),t+="\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>",s._sanitizer.bypassSecurityTrustHtml(t)},this.mostrar_lote=[]}return e.prototype.ngOnInit=function(){var e=this;this.usuario=JSON.parse(localStorage.getItem("usuario")),document.getElementById("catalogos").click(),document.getElementById("actualizar").click(),this.usuario.clues_activa&&(this.insumos_term+="&clues="+this.usuario.clues_activa.clues),this.usuario.almacen_activo&&(this.insumos_term+="&almacen="+this.usuario.almacen_activo.id),this.pdfworker=new Worker("web-workers/farmacia/movimientos/salida.js");var t=this,a=this._ngZone;this.pdfworker.onmessage=function(e){a.run(function(){t.cargandoPdf=!1}),ft.saveAs(t.base64ToBlob(e.data.base64,"application/pdf"),e.data.fileName)},this.dato=this.fb.group({id:[""],tipo_movimiento_id:["2",[l.Validators.required]],status:["FI"],fecha_movimiento:["",[l.Validators.required]],observaciones:[""],cancelado:[""],observaciones_cancelacion:[""],movimiento_metadato:this.fb.group({turno_id:["",[l.Validators.required]],servicio_id:["",[l.Validators.required]],persona_recibe:["",[l.Validators.required]]}),insumos:this.fb.array([]),insumos_negados:this.fb.array([])}),this.route.params.subscribe(function(t){t.id&&(e.tieneid=!0)});var n=new Date;this.MinDate=new Date(n.getFullYear()-1,0,1),this.MaxDate=new Date(n.getFullYear(),n.getMonth(),n.getDate()),this.MinDateCaducidad=n.getFullYear()+"-"+("00"+(n.getMonth()+1)).slice(-2)+"-"+n.getDate(),this.dato.get("fecha_movimiento").value?this.fecha_actual=this.dato.get("fecha_movimiento").value:(this.fecha_actual=n.getFullYear()+"-"+("00"+(n.getMonth()+1)).slice(-2)+"-"+n.getDate(),this.dato.get("fecha_movimiento").patchValue(this.fecha_actual))},e.prototype.abrirModal=function(e,t){t&&(this.index_borrar=t),document.getElementById(e).classList.add("is-active")},e.prototype.cancelarModal=function(e){document.getElementById(e).classList.remove("is-active"),"verLotes"===e&&(this.cantidad_solicitadaBoxViewChildren.first.nativeElement.value="",this.cantidad_solicitadaBoxViewChildren.first.nativeElement.focus())},e.prototype.enviarAutocomplete=function(e){var t=this;this.cargando=!0;var a="";this.usuario.clues_activa&&(a+="&clues="+this.usuario.clues_activa.clues),this.usuario.almacen_activo&&(a+="&almacen="+this.usuario.almacen_activo.id);v.API_URL;this.crudService.busquedaInsumos(e,"insumos-auto").subscribe(function(e){t.cargando=!1,t.res_busq_insumos=e,0===t.res_busq_insumos.length&&t.notificacion.warn("Insumos","No hay resultados que coincidan",t.objeto)})},e.prototype.select_insumo_autocomplete=function(e){var t=this,a=JSON.parse(localStorage.getItem("usuario"));this.cargando=!0,this.crudService.lista(0,1e3,"comprobar-stock?almacen="+a.almacen_activo.id+"&clave="+e.clave).subscribe(function(a){for(var n=0,r=t.dato.get("insumos").value;n<r.length;n++){var i=r[n];if(0==a.length)break;if(i.clave==a[0].clave_insumo_medico)for(var s=0,o=i.lotes;s<o.length;s++)for(var l=o[s],c=0,d=a;c<d.length;c++){var u=d[c];if(l.id===u.id)try{l.cantidad>0&&("U"===i.modo_salida&&(u.existencia=u.existencia-l.cantidad/i.cantidad_x_envase),"N"===i.modo_salida&&(u.existencia=u.existencia-l.cantidad),u.existencia_unidosis=u.existencia*i.cantidad_x_envase)}catch(e){console.log(e)}}}t.lotes_insumo=a,t.insumo=e,document.getElementById("buscarInsumo").value="",t.res_busq_insumos=[],document.getElementById("tituloModal").innerHTML=" "+e.descripcion+' <br>\n          <p aling="justify" style="font-size:12px">'+e.descripcion+'</p> \n          <p aling="justify" style="font-size:16px"> CANTIDAD POR ENVASE: \n          '+(e.cantidad_x_envase?e.cantidad_x_envase:"Sin especificar")+"</p>",t.es_unidosis=e.es_unidosis,t.unidad_medida=e.unidad_medida,t.cargando=!1,t.abrirModal("verLotes")},function(e){t.cargando=!1})},e.prototype.agregarLoteIsumo=function(e){for(var t=this.dato.controls.insumos,a={clave:this.insumo.clave,nombre:this.insumo.nombre,descripcion:this.insumo.descripcion,es_causes:this.insumo.es_causes,es_unidosis:this.insumo.es_unidosis,cantidad:1,presentacion_nombre:this.insumo.presentacion_nombre,unidad_medida:this.insumo.unidad_medida,cantidad_x_envase:this.insumo.cantidad_x_envase?parseInt(this.insumo.cantidad_x_envase):1,cantidad_surtida:1,modo_salida:this.modo,cantidad_solicitada:e,cantidad_solicitada_unidosis:e,lotes:this.fb.array([])},n=!1,r=0,i=0,s=t.value;i<s.length;i++){if((p=s[i]).clave==this.insumo.clave&&(!0,p.modo_salida==this.modo)){n=!0;break}r++}n||t.push(this.fb.group(a));var o=r,l=t.controls[o];this.mostrar_lote[o]=!1;var c={showProgressBar:!0,pauseOnHover:!0,clickToClose:!0,maxLength:2e3};this.options={position:["top","right"],timeOut:5e3,lastOnBottom:!0};for(var d=0,u=this.lotes_insumo;d<u.length;d++){var p;if((p=u[d]).cantidad>0){var m=!1;if(n)for(var g=0,f=l.controls.lotes.controls;g<f.length;g++){if((_=f[g]).controls.id.value==p.id){m=!0;var h=_.controls.cantidad.value+p.cantidad;_.controls.cantidad.value,p.cantidad;"N"==this.modo&&h>_.controls.existencia.value&&(this.notificacion.alert("Cantidad Excedida","La cantidad maxima es: "+_.controls.existencia.value,c),h=1*_.controls.existencia.value),"U"==this.modo&&h>_.controls.existencia_unidosis.value&&(this.notificacion.alert("Cantidad Excedida","La cantidad maxima es: "+_.controls.existencia_unidosis.value,c),h=1*_.controls.existencia_unidosis.value),_.controls.cantidad.patchValue(h);break}}m||(p.nuevo&&(p.existencia=1*p.cantidad),"N"==this.modo&&p.cantidad>p.existencia&&(this.notificacion.alert("Cantidad Excedida","La cantidad maxima es: "+p.existencia,c),p.cantidad=1*p.existencia),"U"==this.modo&&p.cantidad>p.existencia_unidosis&&(this.notificacion.alert("Cantidad Excedida","La cantidad maxima es: "+p.existencia_unidosis,c),p.cantidad=1*p.existencia_unidosis),l.controls.lotes.push(this.fb.group({id:p.id,nuevo:0|p.nuevo,codigo_barras:p.codigo_barras,lote:p.lote,fecha_caducidad:p.fecha_caducidad,existencia:p.nuevo?p.cantidad:p.existencia,cantidad:p.cantidad,existencia_unidosis:p.nuevo?p.cantidad:p.existencia_unidosis,modo_salida:this.modo})))}}for(var v=0,b=0,y=l.controls.lotes.value;b<y.length;b++){var _;v+=(_=y[b]).cantidad,_.cantidad}if("N"==l.controls.modo_salida.value&&(l.controls.cantidad_surtida.patchValue(v),n)){var x=l.controls.cantidad_solicitada.value;e=Number(x)+Number(e),l.controls.cantidad_solicitada.patchValue(e)}if("U"==l.controls.modo_salida.value&&(l.controls.cantidad_surtida.patchValue(v),n)){x=l.controls.cantidad_solicitada.value;e=Number(x)+Number(e),l.controls.cantidad_solicitada.patchValue(e)}this.cancelarModal("verLotes"),this.cancelarModal("negarExistencia"),this.cantidad_solicitadaBoxViewChildren.first.nativeElement.value="",this.cantidad_solicitadaBoxViewChildren.first.nativeElement.focus(),this.cant_solicitada_valida=!1,this.sum_cant_lotes=!1,this.modo="N"},e.prototype.ver_lotes_asignados=function(e){this.mostrar_lote[e]=!this.mostrar_lote[e]},e.prototype.agregarNuevoLote=function(){this.lotes_insumo.push({id:""+Math.floor(999*Math.random())+1,codigo_barras:"",lote:"",fecha_caducidad:"",existencia:"",cantidad:"",nuevo:1,existencia_unidosis:"",cantidad_unidosis:""})},e.prototype.eliminarLote=function(e){this.lotes_insumo.splice(e,1)},e.prototype.quitar_lote_insumo=function(e,t,a){var n=this.dato.controls.insumos.controls[e];n.controls.lotes.removeAt(a);var r=n.controls.cantidad_surtida.value-t.cantidad;n.controls.cantidad_surtida.patchValue(r)},e.prototype.validar_cantidad_lote=function(e,t,a,n){if("N"==n&&t.controls.cantidad.value>t.controls.existencia.value){var r={showProgressBar:!0,pauseOnHover:!0,clickToClose:!0,maxLength:2e3};this.notificacion.alert("Cantidad Excedida","La cantidad maxima es: "+t.controls.existencia.value,r),t.controls.cantidad.patchValue(1*t.controls.existencia.value)}if("U"==n&&t.controls.cantidad.value>t.controls.existencia_unidosis.value){r={showProgressBar:!0,pauseOnHover:!0,clickToClose:!0,maxLength:2e3};this.notificacion.alert("Cantidad Excedida","La cantidad maxima es: "+t.controls.existencia_unidosis.value,r),t.controls.cantidad.patchValue(1*t.controls.existencia_unidosis.value)}for(var i=this.dato.controls.insumos.controls[e],s=0,o=0,l=i.controls.lotes.value;o<l.length;o++){s+=l[o].cantidad}i.controls.cantidad_surtida.patchValue(s)},e.prototype.comprobar_cant_lotes=function(){for(var e=0,t=0,a=this.lotes_insumo;t<a.length;t++){var n=a[t];n.cantidad&&(e=Number(e)+Number(n.cantidad))}this.sum_cant_lotes=e>0},e.prototype.comprobar_cant_solicitada=function(e){this.cant_solicitada_valida=e>0},e.prototype.quitar_punto=function(e){return!!this.is_numeric(e.key)},e.prototype.is_numeric=function(e){return/^\d+$/.test(e)},e.prototype.validar_fecha=function(){for(var e,t=Io(this.dato.get("fecha_movimiento").value,"YYY-MM-DD"),a=0,n=0,r=this.lotes_insumo;n<r.length;n++){var i=r[n];e=Io(i.fecha_caducidad,"YYYY-MM-DD"),i.nuevo&&(e.isValid()?e<=t&&(a++,this.mensajeResponse.texto="La fecha de caducidad debe ser mayor al d\xeda de hoy",this.mensajeResponse.clase="warning",this.mensaje(8)):(a++,this.mensajeResponse.texto="Debe ingresar una fecha v\xe1lida",this.mensajeResponse.clase="warning",this.mensaje(8)))}this.fecha_invalida=!(a>0)},e.prototype.guardar_movimiento=function(){var e=!0,t=this.dato.controls.insumos;if(0===t.length)this.notificacion.warn("Insumos","Debe agregar por lo menos un insumo",this.objeto);else{for(var a=0,n=t.value;a<n.length;a++){0===n[a].lotes.length&&(e=!1)}e?document.getElementById("guardarMovimiento").classList.add("is-active"):(document.getElementById("tituloGuardar").innerHTML=' <br>\n          <p aling="justify" style="font-size:12px; color: red"> Contiene insumos con existencia negada.</p>',document.getElementById("guardarMovimiento").classList.add("is-active"),this.notificacion.warn("Insumos","negarExistencia",this.objeto))}},e.prototype.handleKeyboardEvents=function(e){if("buscarMedico"===document.activeElement.id)document.getElementById("buscarMedico").focus();else if(this.key=e.which||e.keyCode,13===e.keyCode)return document.getElementById("buscarInsumo").focus(),e.preventDefault(),!1},e.prototype.mensaje=function(e,t){void 0===e&&(e=6),void 0===t&&(t=["bottom","left"]);var a={showProgressBar:!0,pauseOnHover:!1,clickToClose:!0,maxLength:this.mensajeResponse.texto.length};this.options={position:t,timeOut:1e3*e,lastOnBottom:!0},""===this.mensajeResponse.titulo&&(this.mensajeResponse.titulo=this.titulo),"alert"===this.mensajeResponse.clase&&this.notificacion.alert(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"success"===this.mensajeResponse.clase&&this.notificacion.success(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"info"===this.mensajeResponse.clase&&this.notificacion.info(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"warning"!==this.mensajeResponse.clase&&"warn"!==this.mensajeResponse.clase||this.notificacion.warn(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"error"!==this.mensajeResponse.clase&&"danger"!==this.mensajeResponse.clase||this.notificacion.error(this.mensajeResponse.titulo,this.mensajeResponse.texto,a)},e.prototype.imprimir=function(){for(var e,t,a=JSON.parse(localStorage.getItem("usuario")),n=0,r=this.array_turnos.clues_turnos;n<r.length;n++){var i=r[n];if(this.dato.value.movimiento_metadato.turno_id===i.id){e=i;break}}for(var s=0,o=this.array_servicios.clues_servicios;s<o.length;s++){i=o[s];if(this.dato.value.movimiento_metadato.servicio_id===i.id){t=i;break}}try{this.cargandoPdf=!0;var l={datos:this.dato.value,lista:this.dato.value.insumos,turno:e||"No disponible",servicio:t||"No disponible",usuario:a};this.pdfworker.postMessage(JSON.stringify(l))}catch(e){this.cargandoPdf=!1}},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},Xo([Object(n.ViewChildren)("cantidad_solicitada"),Zo("design:type",Object)],e.prototype,"cantidad_solicitadaBoxViewChildren",void 0),Xo([Object(n.ViewChildren)("cantidad_solicitada_unidosis"),Zo("design:type",Object)],e.prototype,"cantidad_solicitada_unidosisBoxViewChildren",void 0),e=Xo([Object(n.Component)({selector:"salidas-estandar-formulario",template:a("zT6u"),styles:[a("qOWO")],styles:["ngui-auto-complete {z-index: 999999 !important}"],host:{"(document:keydown)":"handleKeyboardEvents($event)"}}),Zo("design:paramtypes",[l.FormBuilder,gr,h.a,i.DomSanitizer,p.NotificationsService,n.NgZone])],e)}(),Wo=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},el=[{path:"almacen/salidas-estandar",children:[{path:"",component:Ko,canActivate:[D],data:{key:"qQvNeb1UFPOfVMKQnNkvxyqjCIUgFuEG"}},{path:"nuevo",component:Qo,canActivate:[D],data:{key:"qQvNeb1UFPOfVMKQnNkvxyqjCIUgFuEG"}},{path:"ver/:id",component:Qo,canActivate:[D],data:{key:"qQvNeb1UFPOfVMKQnNkvxyqjCIUgFuEG"}}],canActivate:[M]}],tl=function(){function e(){}return e=Wo([Object(n.NgModule)({imports:[h.c.forChild(el)],exports:[h.c],providers:[]})],e)}(),al=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},nl=function(){function e(){}return e=al([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,tl,ee,de,fe,qe,je,Hi,Ir,jr.NguiAutoCompleteModule,Oi.NguiDatetimePickerModule,Ao.TextMaskModule,wo.MomentModule,p.SimpleNotificationsModule],declarations:[Ko,Qo],providers:[_,gr]})],e)}(),rl=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},il=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},sl=function(){function e(e,t){this.http=e,this.jwtRequest=t}return t=e,e.prototype.lista=function(){return this.jwtRequest.get(""+t.URL,null).map(function(e){return e.json()})},e.prototype.listaDatos=function(){return this.jwtRequest.get(t.url+"?proveedor_id=3&fecha_inicial=2017-05-10&fecha_final=2017-06-30").map(function(e){return e.json()})},e.URL="grafica-entregas",e.url="grafica-entregas",e.URL_STATS="movimiento-stats",e=t=rl([Object(n.Injectable)(),il("design:paramtypes",[c.Http,V])],e);var t}(),ol=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},ll=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},cl=function(){function e(e,t,a,n){var r=this;this.http=e,this.crudService=t,this.graficasService=a,this.pedidosService=n,this.tamano=document.body.clientHeight,this.surtido=1,this.grafica=1,this.presupuesto={},this.datosGraficas={},this.claves_categorias={},this.claves_causes={},this.claves_no_causes={},this.claves_mc={},this.grafica_categorias=[],this.grafica_causes=[],this.grafica_no_causes=[],this.grafica_mc=[],this.MinDate=new Date,this.MaxDate=new Date,this.grafica_opciones={chart:{type:"column"},xAxis:{categories:this.grafica_categorias},yAxis:{min:0,title:{text:"Total claves"},stackLabels:{enabled:!0,style:{fontWeight:"bold",color:"gray"}}},title:{text:"Entrega por insumos"},legend:{align:"right",x:-30,verticalAlign:"top",y:25,floating:!0,borderColor:"#CCC",borderWidth:1,shadow:!1},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!0,color:"white"}}},series:[{name:"Causes",data:this.grafica_causes},{name:"No Causes",data:this.grafica_no_causes},{name:"Material Curaci\xf3n",data:this.grafica_mc}]},this.claves={chart:{type:"column"},xAxis:{categories:this.grafica_categorias},yAxis:{min:0,title:{text:"Total claves"},stackLabels:{enabled:!0,style:{fontWeight:"bold",color:"gray"}}},title:{text:"Entrega por claves"},legend:{align:"right",x:-30,verticalAlign:"top",y:25,floating:!0,borderColor:"#CCC",borderWidth:1,shadow:!1},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!0,color:"white"}}},series:[{name:"Causes",data:this.grafica_causes},{name:"No Causes",data:this.grafica_no_causes},{name:"Material Curaci\xf3n",data:this.grafica_mc}]},this.insumos={chart:{type:"column"},xAxis:{categories:["2017-04-10","2017-04-15","2017-04-20","2017-04-25","2017-04-28","2017-04-30","2017-04-30","2017-04-30"]},yAxis:{min:0,title:{text:"Total insumos"},stackLabels:{enabled:!0,style:{fontWeight:"bold",color:"gray"}}},title:{text:"Entrega por insumos"},legend:{align:"right",x:-30,verticalAlign:"top",y:25,floating:!0,borderColor:"#CCC",borderWidth:1,shadow:!1},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!0,color:"white"}}},series:[{name:"Causes",data:[5,3,4,7,2,7,2,7]},{name:"No Causes",data:[2,2,3,2,1,0,2,7]},{name:"Material Curaci\xf3n",data:[3,4,4,2,5,3,2,7]}]},this.monto={chart:{type:"column"},xAxis:{categories:["2017-04-10","2017-04-15","2017-04-20","2017-04-25","2017-04-28","2017-04-30","2017-04-30","2017-04-30"]},yAxis:{min:0,title:{text:"Total monto"},stackLabels:{enabled:!0,style:{fontWeight:"bold",color:"gray"}}},title:{text:"Entrega por monto"},legend:{align:"right",x:-30,verticalAlign:"top",y:25,floating:!0,borderColor:"#CCC",borderWidth:1,shadow:!1},plotOptions:{column:{stacking:"normal",dataLabels:{enabled:!0,color:"white"}}},series:[{name:"Causes",data:[5,3,4,7,2,7,2,7]},{name:"No Causes",data:[2,2,3,2,1,0,2,7]},{name:"Material Curaci\xf3n",data:[3,4,4,2,5,3,2,7]}]},e.get("https://cdn.rawgit.com/gevgeny/angular2-highcharts/99c6324d/examples/aapl.json").subscribe(function(e){r.datos={title:{text:"AAPL Stock Price"},series:[{name:"AAPL",data:e.json(),tooltip:{valueDecimals:2}}]}})}return e.prototype.ngOnInit=function(){var e=this;this.usuario=JSON.parse(localStorage.getItem("usuario"));var t,a=new Date;for(this.MinDate=new Date(a.getFullYear()-1,0,1),this.MaxDate=new Date(a.getFullYear(),a.getMonth(),a.getDate()),this.fecha_actual=a.getFullYear()+"-"+("00"+(a.getMonth()+1)).slice(-2)+"-"+a.getDate(),this.fecha_inicial_actual=a.getFullYear()+"-"+("00"+(a.getMonth()+1)).slice(-2)+"-01",this.pedidosService.presupuesto().subscribe(function(t){e.presupuesto=t.data},function(e){console.log(e)}),this.graficasService.listaDatos().subscribe(function(t){e.datosGraficas=t,console.log(e.datosGraficas),console.log(e.datosGraficas.data)},function(e){console.log(e)}),this.jsonPrueba={claves:[{fecha:"2017-04-10",causes:150,no_causes:200,mat_curacion:50,total:320},{fecha:"2017-04-11",causes:500,no_causes:300,mat_curacion:800,total:320},{fecha:"2017-04-12",causes:900,no_causes:500,mat_curacion:1300,total:320}]},console.log(this.jsonPrueba),t=0;t<this.jsonPrueba.claves.length;t++)this.grafica_categorias.push(this.jsonPrueba.claves[t].fecha),this.grafica_causes.push(this.jsonPrueba.claves[t].causes),this.grafica_no_causes.push(this.jsonPrueba.claves[t].no_causes),this.grafica_mc.push(this.jsonPrueba.claves[t].mat_curacion)},e.prototype.cambiarSurtido=function(e){this.surtido=e},e.prototype.cambiarGrafica=function(e){this.grafica=e},e=ol([Object(n.Component)({selector:"app-graficas",template:a("ILDO"),styles:[a("Es1U")]}),ll("design:paramtypes",[c.Http,gr,sl,ns])],e)}(),dl=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s};function ul(){return a("504h")}var pl=function(){function e(){}return e=dl([Object(n.NgModule)({imports:[o.CommonModule,d.ChartModule,Hi,Oi.NguiDatetimePickerModule],providers:[_,sl,{provide:u.HighchartsStatic,useFactory:ul}],declarations:[cl],exports:[cl]})],e)}(),ml=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},gl=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},fl=function(){function e(){}return e=ml([Object(n.Component)({selector:"app-dashboard-salidas",template:a("H4k4")}),gl("design:paramtypes",[])],e)}(),hl=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},vl=[{path:"almacen/dashboard-salidas",children:[{path:"",component:fl}],canActivate:[M]}],bl=function(){function e(){}return e=hl([Object(n.NgModule)({imports:[h.c.forChild(vl)],exports:[h.c]})],e)}(),yl=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},_l=function(){function e(){}return e=yl([Object(n.NgModule)({imports:[o.CommonModule,bl,pl,Hi],declarations:[fl],providers:[_]})],e)}(),xl=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Il=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},jl=function(){function e(e){this.jwtRequest=e}return t=e,e.prototype.lista=function(){return this.jwtRequest.get(t.URL).map(function(e){return e.json().data})},e.prototype.buscar=function(e,a,n){return void 0===a&&(a=1),void 0===n&&(n=20),this.jwtRequest.get(t.URL,null,{q:e,page:a,per_page:n}).map(function(e){return e.json().data})},e.prototype.listaPaginada=function(e,a){return void 0===e&&(e=1),void 0===a&&(a=20),this.jwtRequest.get(t.URL,null,{page:e,per_page:a}).map(function(e){return e.json().data})},e.prototype.ver=function(e){return this.jwtRequest.get(t.URL,e,{}).map(function(e){return e.json().data})},e.prototype.crear=function(e){return this.jwtRequest.post(t.URL,e).map(function(e){return e.json().data})},e.prototype.editar=function(e,a){return this.jwtRequest.put(t.URL,e,a).map(function(e){return e.json().data})},e.prototype.eliminar=function(e){return this.jwtRequest.delete(t.URL,e).map(function(e){return e.json().data})},e.prototype.listaClues=function(e,t){return this.jwtRequest.get("administrador-central/claves-basicas-clues",e,t).map(function(e){return e.json().data})},e.prototype.agregarClues=function(e){return this.jwtRequest.post("administrador-central/claves-basicas-clues",e).map(function(e){return e.json().data})},e.prototype.eliminarClues=function(e){return this.jwtRequest.delete("administrador-central/claves-basicas-clues",e).map(function(e){return e.json().data})},e.URL="administrador-central/claves-basicas",e=t=xl([Object(n.Injectable)(),Il("design:paramtypes",[V])],e);var t}(),kl=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Cl=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},El=function(){function e(e,t){this.title=e,this.apiService=t,this.cargando=!1,this.mostrarModalClues=!1,this.listaSeleccionada=null,this.mensajeError=new Ae,this.mensajeExito=new Ae,this.lista=[],this.paginaActual=1,this.resultadosPorPagina=25,this.total=0,this.paginasTotales=0,this.indicePaginas=[],this.ultimoTerminoBuscado="",this.terminosBusqueda=new x.Subject,this.resultadosBusqueda=[],this.busquedaActivada=!1,this.paginaActualBusqueda=1,this.resultadosPorPaginaBusqueda=25,this.totalBusqueda=0,this.paginasTotalesBusqueda=0,this.indicePaginasBusqueda=[]}return e.prototype.ngOnInit=function(){var e=this;this.title.setTitle("Claves b\xe1sicas / Administrador central"),this.listar(1),this.mensajeError=new Ae,this.mensajeExito=new Ae;var t=this,a=this.terminosBusqueda.debounceTime(300).distinctUntilChanged().switchMap(function(t){return console.log("Cargando b\xfasqueda."),e.busquedaActivada=""!=t,e.ultimoTerminoBuscado=t,e.paginaActualBusqueda=1,e.cargando=!0,t?e.apiService.buscar(t,e.paginaActualBusqueda,e.resultadosPorPaginaBusqueda):lt.Observable.of({data:[]})}).catch(function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=function(){t.listarBusqueda(t.ultimoTerminoBuscado,t.paginaActualBusqueda)};try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}return a});a.subscribe(function(t){e.cargando=!1,e.resultadosBusqueda=t.data,e.totalBusqueda=0|t.total,e.paginasTotalesBusqueda=Math.ceil(e.totalBusqueda/e.resultadosPorPaginaBusqueda),e.indicePaginasBusqueda=[];for(var a=0;a<e.paginasTotalesBusqueda;a++)e.indicePaginasBusqueda.push(a+1);console.log("B\xfasqueda cargada.")})},e.prototype.buscar=function(e){this.terminosBusqueda.next(e)},e.prototype.listarBusqueda=function(e,t){var a=this;this.paginaActualBusqueda=t,console.log("Cargando b\xfasqueda."),this.cargando=!0,this.apiService.buscar(e,t,this.resultadosPorPaginaBusqueda).subscribe(function(e){a.cargando=!1,a.resultadosBusqueda=e.data,a.totalBusqueda=0|e.total,a.paginasTotalesBusqueda=Math.ceil(a.totalBusqueda/a.resultadosPorPaginaBusqueda),a.indicePaginasBusqueda=[];for(var t=0;t<a.paginasTotalesBusqueda;t++)a.indicePaginasBusqueda.push(t+1);console.log("B\xfasqueda cargada.")},function(n){a.cargando=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=function(){this.listarBusqueda(e,t)};try{n.json();401==n.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(e){console.log("No se puede interpretar el error"),500==n.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.listar=function(e){var t=this;this.paginaActual=e,console.log("Cargando items."),this.cargando=!0,this.apiService.listaPaginada(e,this.resultadosPorPagina).subscribe(function(e){t.cargando=!1,t.lista=e.data,t.total=0|e.total,t.paginasTotales=Math.ceil(t.total/t.resultadosPorPagina),t.indicePaginas=[];for(var a=0;a<t.paginasTotales;a++)t.indicePaginas.push(a+1);console.log("Items cargados.")},function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=t.listar;try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.mostrarUnidadesMedicas=function(e,t){this.listaSeleccionada=e,this.mostrarModalClues=!0},e.prototype.eliminar=function(e,t){var a=this;confirm("\xbfEst\xe1s seguro de eliminar esta lista?, Se eliminar\xe1 de todas las unidades m\xe9dicas donde est\xe9 asignada.")&&(e.cargando=!0,this.apiService.eliminar(e.id).subscribe(function(n){e.cargando=!1,a.busquedaActivada?a.resultadosBusqueda.splice(t,1):a.lista.splice(t,1),console.log("Se elimin\xf3 el elemento de la lista."),a.mensajeExito=new Ae(!0),a.mensajeExito.mostrar=!0,a.mensajeExito.texto="item eliminado"},function(n){e.cargando=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=function(){this.eliminar(e,t)};try{n.json();401==n.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(e){console.log("No se puede interpretar el error"),500==n.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}}))},e.prototype.paginaSiguiente=function(){this.listar(this.paginaActual+1)},e.prototype.paginaAnterior=function(){this.listar(this.paginaActual-1)},e.prototype.paginaSiguienteBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda+1)},e.prototype.paginaAnteriorBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda-1)},e=kl([Object(n.Component)({selector:"app-lista",template:a("qVyk"),styles:[a("nJrw")],providers:[jl]}),Cl("design:paramtypes",[i.Title,jl])],e)}(),Pl=(function(){}(),function(){function e(t){void 0===t&&(t=!1),this.items=[],this.paginacion=new ht,this.activo=!1,this.cargando=!1,this.tieneError=function(e,t){return this.datos.get(e).hasError(t)&&this.datos.get(e).touched},this.inicializarDatos=function(e){void 0===e&&(e={});var t=e.fecha,a="";if(!e.fecha){var n=new Date,r=("0"+n.getDate()).slice(-2),i=("0"+(n.getMonth()+1)).slice(-2);t=n.getFullYear()+"-"+i+"-"+r}e.almacen_solicitante&&(a=e.almacen_solicitante),this.datos.setValue({almacen_solicitante:a,descripcion:"",observaciones:"",fecha:t})},this.indexar=function(e){void 0===e&&(e=!0),this.paginacion.totalPaginas=Math.ceil(this.items.length/this.paginacion.resultadosPorPagina),this.paginacion.indice=[];for(var t=0;t<this.paginacion.totalPaginas;t++)this.paginacion.indice.push(t+1)},this.listar=function(e){void 0===e&&(e=1),this.paginacion.paginaActual=e;var t=(this.paginacion.paginaActual-1)*this.paginacion.resultadosPorPagina,a=t+this.paginacion.resultadosPorPagina;try{this.paginacion.lista=this.items.slice(t,a)}catch(e){this.paginacion.lista=[]}},this.eliminarItem=function(e,t){var a=0;for(var n in this.items){if(this.items[n]===e){this.paginacion.lista.splice(t,1),this.items.splice(a,1),this.indexar();var r=a+(this.paginacion.resultadosPorPagina-t)-1;if(this.items[r]&&this.paginacion.lista.push(this.items[r]),0==this.paginacion.lista.length&&(this.paginacion.paginaActual>1?this.listar(this.paginacion.paginaActual-1):this.listar(1)),this.padre){var i=this.padre.items.indexOf(e),s=Math.ceil(i/this.padre.paginacion.resultadosPorPagina),o=i-(s-1)*this.padre.paginacion.resultadosPorPagina;if(this.padre.paginacion.paginaActual==s)this.padre.eliminarItem(e,o);else{var l=this.padre.paginacion.paginaActual;this.padre.listar(s),this.padre.eliminarItem(e,o),this.padre.listar(l),0==this.padre.paginacion.items.length&&(this.padre.paginacion.paginaActual>1?this.padre.listar(this.padre.paginacion.paginaActual-1):this.padre.listar(1))}}return}a++}},t&&(this.filtro=new e,this.filtro.padre=this,this.tipo="CA"),this.paginacion.resultadosPorPagina=10}return e.prototype.paginaSiguiente=function(){this.paginacion.paginaActual!=this.paginacion.totalPaginas&&this.listar(this.paginacion.paginaActual+1)},e.prototype.paginaAnterior=function(){1!=this.paginacion.paginaActual&&this.listar(this.paginacion.paginaActual-1)},e}()),ql=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Al=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},wl=function(){function e(e,t,a,n,r,i){this.title=e,this.location=t,this.router=a,this.route=n,this.apiService=r,this.cambiarEntornoService=i,this.cargando=!1,this.guardando=!1,this.esEditar=!1,this.formularioTitulo="Nueva lista",this.errores={nombre:null,items:null},this.mensajeError=new Ae,this.mensajeExito=new Ae,this.mostrarModalInsumos=!1,this.listaClaveAgregadas=[]}return e.prototype.ngOnInit=function(){var e=this;this.lista=new Pl(!0),this.cambiarEntornoSuscription=this.cambiarEntornoService.entornoCambiado$.subscribe(function(t){e.esEditar&&e.cargarLista()}),this.route.params.subscribe(function(t){t.id?(e.lista.id=t.id,e.cargarLista()):e.title.setTitle("Nueva lista")})},e.prototype.cargarLista=function(){var e=this;this.cargando=!0,this.esEditar=!0,this.formularioTitulo="Editar lista",this.title.setTitle("Editar lista"),this.apiService.ver(this.lista.id).subscribe(function(t){for(var a in e.cargando=!1,console.log(t),e.lista.nombre=t.nombre,t.detalles){var n=t.detalles[a].insumo_con_descripcion;e.lista.items.push(n),e.listaClaveAgregadas.push(n.clave)}e.lista.indexar(),e.lista.listar(1)},function(t){e.cargando=!1,e.mensajeError=new Ae(!0);try{t.json();401!=t.status&&403!=t.status||(e.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.",e.router.navigate(["/administrador-central/claves-basicas/"]))}catch(a){500==t.status?e.mensajeError.texto="500 (Error interno del servidor)":e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}e.mensajeError.mostrar=!0})},e.prototype.toggleModalInsumos=function(){this.mostrarModalInsumos=!this.mostrarModalInsumos},e.prototype.buscar=function(e,t,a,n){var r=t.value;if(27==e.keyCode)return e.preventDefault(),e.stopPropagation(),t.value="",a.value="",this.lista.filtro.activo=!1,void(this.lista.filtro.items=[]);if(a.value!=r){if(e.preventDefault(),e.stopPropagation(),a.value=r,""==r)return this.lista.filtro.activo=!1,void(this.lista.filtro.items=[]);this.lista.filtro.activo=!0;var i=[],s=function(e){var t=n[e].input.value;if(""==t)return"continue";var a=o.lista.items.filter(function(a){var r="",i=n[e].campos;for(var s in i)try{var o=i[s].split(".");o.length>1?r+=" "+a[o[0]][o[1]].toLowerCase():r+=" "+a[i[s]].toLowerCase()}catch(e){}return r.includes(t.toLowerCase())});i.push(a)},o=this;for(var l in n)s(l);if(i.length>1){for(var c=(i=i.sort(function(e,t){return e.length-t.length}))[0],d=[],u=1;u<i.length;u++)for(var l in i[u])for(var p in c)i[u][l]===c[p]&&d.push(c[p]);this.lista.filtro.items=d}else this.lista.filtro.items=i[0];this.lista.filtro.indexar(!1),this.lista.filtro.paginacion.paginaActual=1,this.lista.filtro.listar(1)}},e.prototype.eliminarInsumo=function(e,t,a){void 0===a&&(a=!1);var n=this.listaClaveAgregadas.indexOf(e.clave);this.listaClaveAgregadas.splice(n,1),a?this.lista.filtro.eliminarItem(e,t):this.lista.eliminarItem(e,t)},e.prototype.agregarItem=function(e){void 0===e&&(e={});var t=this.lista.paginacion.totalPaginas;this.lista.items.push(e),this.lista.indexar(),this.lista.paginacion.lista.length!=this.lista.paginacion.resultadosPorPagina||this.lista.paginacion.paginaActual!=t||this.lista.filtro.activo?this.lista.listar(this.lista.paginacion.paginaActual):this.lista.listar(this.lista.paginacion.paginaActual+1)},e.prototype.guardar=function(){var e=this;this.guardando=!0;var t={nombre:this.lista.nombre,items:[]};for(var a in this.lista.items)t.items.push(this.lista.items[a].clave);this.errores={nombre:null,items:null},this.esEditar?this.apiService.editar(this.lista.id,t).subscribe(function(t){e.guardando=!1},function(t){e.guardando=!1;try{var a=t.json();switch(e.mensajeError=new Ae(!0),t.status){case 401:e.mensajeError.texto="No tiee permiso para realizar esta acci\xf3n.";break;case 409:for(var n in e.mensajeError.texto="Verifique la informaci\xf3n marcada de color rojo",a.error)for(var r in a.error[n])e.errores[n]=a.error[n][r];break;case 500:e.mensajeError.texto="500 (Error interno del servidor)";break;default:e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}}catch(a){e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}e.mensajeError.mostrar=!0}):this.apiService.crear(t).subscribe(function(t){e.guardando=!1,e.router.navigate(["/administrador-central/claves-basicas/editar/"+t.id])},function(t){e.guardando=!1;try{var a=t.json();switch(e.mensajeError=new Ae(!0),t.status){case 401:e.mensajeError.texto="No tiee permiso para realizar esta acci\xf3n.";break;case 409:for(var n in e.mensajeError.texto="Verifique la informaci\xf3n marcada de color rojo",a.error)for(var r in a.error[n])e.errores[n]=a.error[n][r];break;case 500:e.mensajeError.texto="500 (Error interno del servidor)";break;default:e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}}catch(a){e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}e.mensajeError.mostrar=!0})},e=ql([Object(n.Component)({selector:"app-formulario",template:a("hul6"),styles:[a("PjWh")],providers:[jl]}),Al("design:paramtypes",[i.Title,o.Location,h.b,h.a,jl,ae])],e)}(),Sl=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Rl=[{path:"administrador-central/claves-basicas",children:[{path:"",component:El,canActivate:[D],data:{key:"r1RX6Yq7fc4CRRI2OJXIPxeBLW3lFP59"}},{path:"nueva",component:wl,canActivate:[D],data:{key:"N9tkWbLzXzdoAyBzcgLc85JPXqvRNvUh"}},{path:"editar/:id",component:wl,canActivate:[D],data:{key:"ityO3IAU1jhIlXnr9WPhINvdr09pQJry"}}],canActivate:[M]}],Ol=function(){function e(){}return e=Sl([Object(n.NgModule)({imports:[h.c.forChild(Rl)],exports:[h.c]})],e)}(),Nl=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Ml=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Bl=function(){function e(e){this.apiService=e,this.onCerrar=new n.EventEmitter,this.onEnviar=new n.EventEmitter,this.cargando=!1,this.cargandoUnidadesMedicasSinAsignar=!1,this.edica=!1,this.mensajeError=new Ae,this.mensajeAgregado=new Ae,this.unidadesMedicasSinAsignar=[],this.unidadesMedicas=[],this.paginaActual=1,this.resultadosPorPagina=25,this.total=0,this.paginasTotales=0,this.indicePaginas=[],this.clues="-1"}return e.prototype.ngOnInit=function(){this.listar(this.paginaActual),this.cargarUnidadesMedicasSinAsignar()},e.prototype.cerrar=function(){this.onCerrar.emit()},e.prototype.cargarUnidadesMedicasSinAsignar=function(){var e=this;this.cargandoUnidadesMedicasSinAsignar=!0,this.apiService.listaClues(this.lista.id,{sin_asignar:!0}).subscribe(function(t){e.cargandoUnidadesMedicasSinAsignar=!1,e.unidadesMedicasSinAsignar=t,console.log("Items cargados.")},function(t){e.cargandoUnidadesMedicasSinAsignar=!1,e.mensajeError.mostrar=!0,e.ultimaPeticion=e.cargarUnidadesMedicasSinAsignar;try{t.json();401==t.status&&(e.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==t.status?e.mensajeError.texto="500 (Error interno del servidor)":e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.listar=function(e){var t=this;this.paginaActual=e,console.log("Cargando items."),this.cargando=!0,this.apiService.listaClues(this.lista.id,{page:e,per_page:this.resultadosPorPagina}).subscribe(function(e){t.cargando=!1,t.unidadesMedicas=e.data,t.total=0|e.total,t.paginasTotales=Math.ceil(t.total/t.resultadosPorPagina),t.indicePaginas=[];for(var a=0;a<t.paginasTotales;a++)t.indicePaginas.push(a+1);console.log("Items cargados.")},function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=t.listar;try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.paginaSiguiente=function(){this.paginaActual!=this.paginasTotales&&this.listar(this.paginaActual+1)},e.prototype.paginaAnterior=function(){1!=this.paginaActual&&this.listar(this.paginaActual-1)},e.prototype.eliminar=function(e,t){var a=this;e.cargando=!0,this.apiService.eliminarClues(e.id).subscribe(function(e){a.unidadesMedicas.splice(t,1),a.cargarUnidadesMedicasSinAsignar()},function(t){e.cargando=!1,a.mensajeError.mostrar=!0;try{t.json();401==t.status?a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}catch(e){console.log("No se puede interpretar el error"),500==t.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.seleccionarClues=function(e){this.clues=e},e.prototype.agregar=function(e){var t=this;if(e.preventDefault(),"-1"!=this.clues){var a={};if("TODAS"!=this.clues)a={claves_basicas_id:this.lista.id,clues:this.clues};else{var n=[];for(var r in this.unidadesMedicasSinAsignar)n.push(this.unidadesMedicasSinAsignar[r].clues);a={claves_basicas_id:this.lista.id,lista_clues:n}}this.agregandoUnidadMedica=!0,this.apiService.agregarClues(a).subscribe(function(e){console.log(e),t.clues=-1,t.agregandoUnidadMedica=!1,t.cargarUnidadesMedicasSinAsignar(),t.listar(1)},function(e){t.agregandoUnidadMedica=!1,t.mensajeError.mostrar=!0;try{e.json();401==e.status?t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})}},Nl([Object(n.Output)(),Ml("design:type",Object)],e.prototype,"onCerrar",void 0),Nl([Object(n.Output)(),Ml("design:type",Object)],e.prototype,"onEnviar",void 0),Nl([Object(n.Input)(),Ml("design:type",Object)],e.prototype,"lista",void 0),e=Nl([Object(n.Component)({selector:"claves-basicas-lista-clues",template:a("y05F"),styles:[a("2IuD")]}),Ml("design:paramtypes",[jl])],e)}(),Fl=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Dl=function(){function e(){}return e=Fl([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,Ol,ee,de,fe,qe,Hi,es,ot],declarations:[El,wl,Bl]})],e)}(),Ll=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Tl=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},zl=function(){function e(e,t){this.http=e,this.jwtRequest=t}return t=e,e.prototype.stats=function(){return this.jwtRequest.get(t.URL_STATS,null,null).map(function(e){return e.json()})},e.prototype.buscar=function(e,a,n,r,i){return void 0===n&&(n=1),void 0===r&&(r=20),void 0===i&&(i=""),this.jwtRequest.get(t.URL,null,{tipo:i,status:e,q:a,page:n,per_page:r}).map(function(e){return e.json().data})},e.prototype.lista=function(e,a,n,r){return void 0===a&&(a=1),void 0===n&&(n=20),void 0===r&&(r=""),this.jwtRequest.get(t.URL,null,{tipo:r,status:e,page:a,per_page:n}).map(function(e){return e.json().data})},e.prototype.surtir=function(e,a){return this.jwtRequest.put(t.URL_SURTIR,e,a).map(function(e){return e.json().data})},e.prototype.actualizarTransferencia=function(e,a){return this.jwtRequest.put(t.URL_ACTUALIZAR,e,a).map(function(e){return e.json().data})},e.prototype.ver=function(e){return this.jwtRequest.get(t.URL,e,{}).map(function(e){return e.json().data})},e.prototype.crear=function(e){return this.jwtRequest.post(t.URL,e).map(function(e){return e.json().data})},e.prototype.editar=function(e,a){return this.jwtRequest.put(t.URL,e,a).map(function(e){return e.json().data})},e.prototype.eliminar=function(e){return this.jwtRequest.delete("pedido-alteno",e).map(function(e){return e.json().data})},e.prototype.cancelarPedidoTransferir=function(e,a){return void 0===a&&(a={}),this.jwtRequest.put(t.URL_CANCELAR,e,a).map(function(e){return e.json().data})},e.prototype.generarPedidoAlterno=function(e,a){return void 0===a&&(a={}),this.jwtRequest.put(t.URL_GENERAR_ALTERNO,e,a).map(function(e){return e.json().data})},e.prototype.unidadesMedicas=function(){return this.jwtRequest.get(t.URL_UNIDADES_MEDICAS,null,{lista:!0,activa:!0}).map(function(e){return e.json().data})},e.prototype.almacenes=function(e){return this.jwtRequest.get(t.URL_ALMACENES,null,{q:e,tipo:"ALMPAL"}).map(function(e){return e.json().data})},e.prototype.guardarTransferencia=function(e,a){return void 0===e&&(e=null),void 0===a&&(a={}),null==e?this.jwtRequest.post(t.URL,a).map(function(e){return e.json().data}):this.jwtRequest.put(t.URL,e,a).map(function(e){return e.json().data})},e.prototype.cancelarTransferencia=function(e,a){return void 0===a&&(a={}),this.jwtRequest.put(t.URL_CANCELAR_TRANSFERENCIA,e,a).map(function(e){return e.json().data})},e.URL="almacen/transferencias",e.URL_SURTIR="almacen/surtir-transferencia",e.URL_ACTUALIZAR="almacen/actualizar-transferencia",e.URL_STATS="almacen/transferencias-stats",e.URL_CANCELAR="cancelar-pedido-transferir",e.URL_GENERAR_ALTERNO="generar-pedido-alterno",e.URL_CANCELAR_TRANSFERENCIA="cancelar-transferencia",e.URL_UNIDADES_MEDICAS="unidades-medicas",e.URL_ALMACENES="almacenes",e=t=Ll([Object(n.Injectable)(),Tl("design:paramtypes",[c.Http,V])],e);var t}(),Ul=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Vl=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Gl=function(){function e(e,t,a,n){this.title=e,this.route=t,this.transferenciaAlmacenService=a,this.cambiarEntornoService=n,this.cargando=!1,this.mensajeError=new Ae,this.mensajeExito=new Ae,this.tipo="",this.titulo="Pedidos",this.icono="fa-file",this.pedidos=[],this.paginaActual=1,this.resultadosPorPagina=10,this.total=0,this.paginasTotales=0,this.indicePaginas=[],this.ultimoTerminoBuscado="",this.terminosBusqueda=new x.Subject,this.resultadosBusqueda=[],this.busquedaActivada=!1,this.paginaActualBusqueda=1,this.resultadosPorPaginaBusqueda=10,this.totalBusqueda=0,this.paginasTotalesBusqueda=0,this.indicePaginasBusqueda=[]}return e.prototype.ngOnInit=function(){var e=this;switch(this.route.snapshot.url[0].path){case"borradores":this.status="BR",this.titulo="Borradores",this.icono="fa-pencil-square-o";break;case"por-surtir":this.status="SD",this.titulo="Solicitudes por surtir",this.icono="fa-inbox";break;case"en-transito":this.status="ET",this.titulo="En transito",this.icono="fa-clock-o";break;case"por-finalizar":this.status="PFI",this.titulo="Por finalizar",this.icono="fa-check";break;case"finalizados":this.status="FI",this.titulo="Finalizados",this.icono="fa-check-circle";break;case"cancelados":this.status="EX-CA",this.titulo="Cancelados",this.icono="fa-times-circle";break;default:this.titulo="Transferencias",this.icono="fa-file"}console.log("inicializar lista de pedidos"),this.title.setTitle("Pedidos"),this.cambiarEntornoSuscription=this.cambiarEntornoService.entornoCambiado$.subscribe(function(t){console.log("subscripcion en lista de pedidos"),e.listar(e.paginaActual)}),this.listar(1),this.mensajeError=new Ae,this.mensajeExito=new Ae;var t=this,a=this.terminosBusqueda.debounceTime(300).distinctUntilChanged().switchMap(function(t){return console.log("Cargando b\xfasqueda."),e.busquedaActivada=""!=t,e.ultimoTerminoBuscado=t,e.paginaActualBusqueda=1,e.cargando=!0,t?e.transferenciaAlmacenService.buscar(e.status,t,e.paginaActualBusqueda,e.resultadosPorPaginaBusqueda,e.tipo):lt.Observable.of({data:[]})}).catch(function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=function(){t.listarBusqueda(t.ultimoTerminoBuscado,t.paginaActualBusqueda)};try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}return a});a.subscribe(function(t){e.cargando=!1;var a=t.data;for(var n in a)a[n].created_at=a[n].created_at.replace(" ","T");e.resultadosBusqueda=a,e.totalBusqueda=0|t.total,e.paginasTotalesBusqueda=Math.ceil(e.totalBusqueda/e.resultadosPorPaginaBusqueda),e.indicePaginasBusqueda=[];for(var r=0;r<e.paginasTotalesBusqueda;r++)e.indicePaginasBusqueda.push(r+1);console.log("B\xfasqueda cargada.")})},e.prototype.obtenerDireccion=function(e,t){return"BR"==t?"/almacen/transferencia-almacen/editar/"+e:"SD"==t||"ET"==t?"/almacen/transferencia-almacen/surtir/"+e:"/almacen/transferencia-almacen/ver/"+e},e.prototype.buscar=function(e){this.terminosBusqueda.next(e)},e.prototype.listarBusqueda=function(e,t){var a=this;this.paginaActualBusqueda=t,console.log("Cargando b\xfasqueda."),this.cargando=!0,this.transferenciaAlmacenService.buscar(this.status,e,t,this.resultadosPorPaginaBusqueda,this.tipo).subscribe(function(e){a.cargando=!1;var t=e.data;for(var n in t)t[n].created_at=t[n].created_at.replace(" ","T");a.resultadosBusqueda=t,a.totalBusqueda=0|e.total,a.paginasTotalesBusqueda=Math.ceil(a.totalBusqueda/a.resultadosPorPaginaBusqueda),a.indicePaginasBusqueda=[];for(var r=0;r<a.paginasTotalesBusqueda;r++)a.indicePaginasBusqueda.push(r+1);console.log("B\xfasqueda cargada.")},function(n){a.cargando=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=function(){this.listarBusqueda(e,t)};try{n.json();401==n.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(e){console.log("No se puede interpretar el error"),500==n.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.listar=function(e){var t=this;this.paginaActual=e,console.log("Cargando pedidos."),this.cargando=!0,this.transferenciaAlmacenService.lista(this.status,e,this.resultadosPorPagina,this.tipo).subscribe(function(e){t.cargando=!1,t.pedidos=e.data,t.total=0|e.total,t.paginasTotales=Math.ceil(t.total/t.resultadosPorPagina),t.indicePaginas=[];for(var a=0;a<t.paginasTotales;a++)t.indicePaginas.push(a+1);console.log("Pedidos cargados.")},function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=t.listar;try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.eliminar=function(e,t){var a=this;e.cargando=!0,confirm("Desea eliminar el pedido?")?this.transferenciaAlmacenService.eliminar(e.id).subscribe(function(n){e.cargando=!1,a.pedidos.splice(t,1),console.log("Se elimin\xf3 el elemento de la lista."),a.mensajeExito=new Ae(!0),a.mensajeExito.mostrar=!0,a.mensajeExito.texto="Pedido eliminado"},function(n){e.cargando=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=function(){this.eliminar(e,t)};try{var r=n.json();401==n.status?a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.":a.mensajeError.texto=r.error}catch(r){console.log("No se puede interpretar el error"),500==n.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}}):e.cargando=!1},e.prototype.paginaSiguiente=function(){this.listar(this.paginaActual+1)},e.prototype.paginaAnterior=function(){this.listar(this.paginaActual-1)},e.prototype.paginaSiguienteBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda+1)},e.prototype.paginaAnteriorBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda-1)},e.prototype.ngOnDestroy=function(){this.cambiarEntornoSuscription.unsubscribe()},e=Ul([Object(n.Component)({selector:"transferencia-almacen-lista",template:a("FaRF"),styles:[a("s7uA")],providers:[zl]}),Vl("design:paramtypes",[i.Title,h.a,zl,ae])],e)}(),Yl=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Hl=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Jl=function(){function e(e,t,a,n,r){this.title=e,this.route=t,this.router=a,this.transferenciaAlmacenService=n,this.stockService=r,this.cargando=!1,this.cargandoStock=!1,this.mensajeError=new Ae,this.mensajeAdvertencia=new Ae,this.mensajeExito=new Ae,this.itemSeleccionado=null}return e.prototype.ngOnInit=function(){var e=this;this.title.setTitle("Ver Pedido"),this.route.params.subscribe(function(t){e.id=t.id}),this.cargando=!0,this.transferenciaAlmacenService.ver(this.id).subscribe(function(t){e.cargando=!1,e.pedido=new vt(!0),e.pedido.paginacion.resultadosPorPagina=10,e.pedido.filtro.paginacion.resultadosPorPagina=10;var a=[];if(t.historial_transferencia_completo.length>0)for(var n in t.historial_transferencia_completo){var r=t.historial_transferencia_completo[n],i={fecha_movimiento:"",insumos:[]},s="";if("SURTIO PEA"==r.evento&&"FI"==r.status?(i=r.movimiento,s="SURTIDO"):"RECEPCION PEA"==r.evento&&"FI"==r.status?(i=r.movimiento,s="RECIBIDO"):"REINTEGRACION INVENTARIO"==r.evento&&"FI"==r.status?(i=r.movimiento,s="REINTEGRADO"):"ELIMINACION INVENTARIO"==r.evento&&"FI"==r.status&&(i=r.movimiento,s="ELIMINADO"),s){var o={estatus:s,fecha_movimiento:i.fecha_movimiento,insumos:{}};for(var l in i.insumos){var c=i.insumos[l];o.insumos[c.clave_insumo_medico]||(o.insumos[c.clave_insumo_medico]=[]),o.insumos[c.clave_insumo_medico].push({lote:c.stock.lote,fecha_caducidad:c.stock.fecha_caducidad,cantidad:c.cantidad})}a.push(o)}}for(var n in t.insumos){var d=t.insumos[n];if(null!=(c=d.insumos_con_descripcion)){for(var l in c.cantidad_a_surtir=+d.cantidad_solicitada-+d.cantidad_recibida,c.cantidad_solicitada=+d.cantidad_solicitada,c.cantidad_enviada=+d.cantidad_enviada,c.cantidad_recibida=+d.cantidad_recibida,c.historial_lotes=[],a){if((i=a[l]).insumos[c.clave]){var u=i.insumos[c.clave];for(var p in u)c.historial_lotes.push({estatus:i.estatus,fecha_movimiento:i.fecha_movimiento,lote:u[p].lote,fecha_caducidad:u[p].fecha_caducidad,cantidad:u[p].cantidad})}else"SURTIDO"!=i.estatus&&"RECIBIDO"!=i.estatus||c.historial_lotes.push({estatus:i.estatus,fecha_movimiento:i.fecha_movimiento,lote:"---",fecha_caducidad:"---",cantidad:0})}e.pedido.lista.push(c)}}t.insumos=void 0,e.pedido.datosImprimir=t,e.pedido.indexar(),e.pedido.listar(1)},function(t){e.cargando=!1,e.mensajeError=new Ae(!0),e.mensajeError=new Ae(!0),e.mensajeError.mostrar;try{t.json();401==t.status&&(e.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){500==t.status?e.mensajeError.texto="500 (Error interno del servidor)":e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.seleccionarItem=function(e){this.itemSeleccionado=e},e.prototype.buscar=function(e,t,a,n){var r=t.value;if(27==e.keyCode)return e.preventDefault(),e.stopPropagation(),t.value="",a.value="",this.pedido.filtro.activo=!1,void(this.pedido.filtro.lista=[]);if(a.value!=r){if(e.preventDefault(),e.stopPropagation(),a.value=r,""==r)return this.pedido.filtro.activo=!1,void(this.pedido.filtro.lista=[]);this.pedido.filtro.activo=!0;var i=[],s=function(e){var t=n[e].input.value;if(""==t)return"continue";var a=o.pedido.lista.filter(function(a){var r="",i=n[e].campos;for(var s in i)try{var o=i[s].split(".");o.length>1?r+=" "+a[o[0]][o[1]].toLowerCase():r+=" "+a[i[s]].toLowerCase()}catch(e){}return r.includes(t.toLowerCase())});i.push(a)},o=this;for(var l in n)s(l);if(i.length>1){for(var c=(i=i.sort(function(e,t){return e.length-t.length}))[0],d=[],u=1;u<i.length;u++)for(var l in i[u])for(var p in c)i[u][l]===c[p]&&d.push(c[p]);this.pedido.filtro.lista=d}else this.pedido.filtro.lista=i[0];this.pedido.filtro.indexar(!1),this.pedido.filtro.paginacion.paginaActual=1,this.pedido.filtro.listar(1)}},e=Yl([Object(n.Component)({selector:"app-ver",template:a("TcBW"),styles:[a("I++U")],providers:[xs,zl]}),Hl("design:paramtypes",[i.Title,h.a,h.b,zl,xs])],e)}(),$l=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Kl=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Xl=function(){function e(e,t,a,n,r){this.title=e,this.route=t,this.router=a,this.transferenciaAlmacenService=n,this.stockService=r,this.cargando=!1,this.cargandoStock=!1,this.pedidoPorSurtir=!1,this.pedidoSurtido=!1,this.pedidoEntregado=!1,this.permitirResurtir=!1,this.transferenciaCompleta=!1,this.marcarTodosStatus=!1,this.mostrarModalInsumos=!1,this.listaClaveAgregadas=[],this.mensajeError=new Ae,this.mensajeAdvertencia=new Ae,this.mensajeExito=new Ae,this.errorCancelarTransferencia=!1,this.errorCancelarTransferenciaTexto="",this.mostrarCancelarTransferenciaDialogo=!1,this.motivosCancelarTransferencia="",this.cancelandoPedido=!1,this.puedeCancelarTransferencia=!1,this.lotesSurtidos=[],this.listaStock=[],this.claveInsumoSeleccionado=null,this.claveNoSolicitada=!1,this.itemSeleccionado=null,this.itemsDevueltos=null,this.clavesDevueltasStatus=null}return e.prototype.ngOnInit=function(){var e=this;this.title.setTitle("Surtir pedido / Farmacia"),this.route.params.subscribe(function(t){e.id=t.id}),this.route.params.subscribe(function(t){e.id=t.id}),this.cargando=!0,this.transferenciaAlmacenService.ver(this.id).subscribe(function(t){if(e.cargando=!1,e.pedido=new vt(!0),e.pedido.paginacion.resultadosPorPagina=10,e.pedido.filtro.paginacion.resultadosPorPagina=10,e.pedidoPorSurtir=!0,e.pedidoSurtido=!1,e.pedidoEntregado=!1,e.transferenciaCompleta=!1,e.clavesDevueltasStatus={},t.historial_transferencia_completo.length>0){var a=void 0,n=void 0,r=[],i=[],s={},o={};for(var l in e.itemsDevueltos={cantidad:0,listaStock:[]},t.historial_transferencia_completo){var c=t.historial_transferencia_completo[l];"SURTIO PEA"==c.evento&&"FI"==c.status?(e.pedidoPorSurtir=!1,e.pedidoSurtido=!0,e.pedidoEntregado=!1,n=c.movimiento,a=null,r=[],i=[]):"RECEPCION PEA"==c.evento&&"FI"==c.status?(e.pedidoPorSurtir=!1,e.pedidoSurtido=!1,e.pedidoEntregado=!0,a=c.movimiento):"REINTEGRACION INVENTARIO"==c.evento&&"FI"==c.status?i.push(c.movimiento):"ELIMINACION INVENTARIO"==c.evento&&"FI"==c.status&&r.push(c.movimiento)}if(i.length>0)for(var l in i)for(var d in i[l].insumos)o[i[l].insumos[d].stock_id]?o[i[l].insumos[d].stock_id]+=+i[l].insumos[d].cantidad:o[i[l].insumos[d].stock_id]=+i[l].insumos[d].cantidad;if(r.length>0)for(var l in r)for(var d in r[l].insumos)s[r[l].insumos[d].stock_id]?s[r[l].insumos[d].stock_id]+=+r[l].insumos[d].cantidad:s[r[l].insumos[d].stock_id]=+r[l].insumos[d].cantidad;var u={};if(a){for(var l in a.insumos){u[m=(p=a.insumos[l]).stock.clave_insumo_medico+"-"+p.stock.fecha_caducidad+"-"+p.stock.lote]={clave:p.stock.clave_insumo_medico,lote:p.stock.lote,fecha_caducidad:p.stock.fecha_caducidad,cantidad:+p.cantidad}}for(var l in n.insumos){var p,m=(p=n.insumos[l]).stock.clave_insumo_medico+"-"+p.stock.fecha_caducidad+"-"+p.stock.lote,g=null,f=!0;(s[p.stock_id]||o[p.stock_id])&&(f=!1,s[p.stock_id]?g="eliminado":o[p.stock_id]&&(g="reintegrado")),g&&(e.clavesDevueltasStatus[p.stock.clave_insumo_medico]||(e.clavesDevueltasStatus[p.stock.clave_insumo_medico]=0),e.clavesDevueltasStatus[p.stock.clave_insumo_medico]+=+p.cantidad-(u[m]?u[m].cantidad:0)),u[m]?u[m].cantidad<+p.cantidad&&(e.itemsDevueltos.listaStock.push({seleccionado:!1,activo:f,status:g,stock_id:p.stock_id,clave:p.stock.clave_insumo_medico,lote:p.stock.lote,fecha_caducidad:p.stock.fecha_caducidad,cantidad:+p.cantidad-u[m].cantidad}),e.itemsDevueltos.cantidad+=+p.cantidad-u[m].cantidad):(e.itemsDevueltos.listaStock.push({seleccionado:!1,activo:f,status:g,stock_id:p.stock_id,clave:p.stock.clave_insumo_medico,lote:p.stock.lote,fecha_caducidad:p.stock.fecha_caducidad,cantidad:+p.cantidad}),e.itemsDevueltos.cantidad+=+p.cantidad)}}}for(var h in t.insumos){var v=t.insumos[h],b=v.insumos_con_descripcion;null!=b&&(b.cantidad=+v.cantidad_solicitada-+v.cantidad_enviada,e.pedidoEntregado?b.cantidad_a_surtir=+v.cantidad_solicitada-+v.cantidad_recibida:b.cantidad_a_surtir=+v.cantidad_solicitada-+v.cantidad_enviada,b.cantidad_solicitada=+v.cantidad_solicitada,b.cantidad_enviada=+v.cantidad_enviada,b.cantidad_recibida=+v.cantidad_recibida,b.marcados=!1,b.cantidad_enviada>0&&b.cantidad_recibida<b.cantidad_enviada?e.clavesDevueltasStatus[b.clave]&&e.clavesDevueltasStatus[b.clave]+b.cantidad_recibida==b.cantidad_enviada?b.puede_seleccionar=!1:b.puede_seleccionar=!0:b.puede_seleccionar=!1,e.pedido.lista.push(b))}e.pedidoEntregado&&(e.checarStatusDeItemsDevueltos(),e.transferenciaCompleta&&(e.permitirResurtir=!0)),t.insumos=void 0,e.pedido.datosImprimir=t,e.pedido.indexar(),e.pedido.listar(1)},function(t){e.cargando=!1,e.mensajeError=new Ae(!0),e.mensajeError=new Ae(!0),e.mensajeError.mostrar;try{t.json();401==t.status&&(e.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){500==t.status?e.mensajeError.texto="500 (Error interno del servidor)":e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.checarStatusDeItemsDevueltos=function(){for(var e in this.transferenciaCompleta=!0,this.itemsDevueltos.listaStock)if(this.itemsDevueltos.listaStock[e].activo){this.transferenciaCompleta=!1;break}},e.prototype.agregarItem=function(e){return void 0===e&&(e={}),e},e.prototype.seleccionarItem=function(e){this.itemSeleccionado=e,this.pedidoPorSurtir&&this.buscarStockApi(null,e.clave)},e.prototype.buscar=function(e,t,a,n){var r=t.value;if(27==e.keyCode)return e.preventDefault(),e.stopPropagation(),t.value="",a.value="",this.pedido.filtro.activo=!1,void(this.pedido.filtro.lista=[]);if(a.value!=r){if(e.preventDefault(),e.stopPropagation(),a.value=r,""==r)return this.pedido.filtro.activo=!1,void(this.pedido.filtro.lista=[]);this.pedido.filtro.activo=!0;var i=[],s=function(e){var t=n[e].input.value;if(""==t)return"continue";var a=o.pedido.lista.filter(function(a){var r="",i=n[e].campos;for(var s in i)try{var o=i[s].split(".");o.length>1?r+=" "+a[o[0]][o[1]].toLowerCase():r+=" "+a[i[s]].toLowerCase()}catch(e){}return r.includes(t.toLowerCase())});i.push(a)},o=this;for(var l in n)s(l);if(i.length>1){for(var c=(i=i.sort(function(e,t){return e.length-t.length}))[0],d=[],u=1;u<i.length;u++)for(var l in i[u])for(var p in c)i[u][l]===c[p]&&d.push(c[p]);this.pedido.filtro.lista=d}else this.pedido.filtro.lista=i[0];this.pedido.filtro.indexar(!1),this.pedido.filtro.paginacion.paginaActual=1,this.pedido.filtro.listar(1)}},e.prototype.buscarStockApi=function(e,t){var a=this;void 0===t&&(t=null),this.cargandoStock=!0,this.stockService.buscar(e,t).subscribe(function(e){if(a.cargandoStock=!1,a.claveNoSolicitada=!1,a.listaStock=e,e.length>0){a.claveInsumoSeleccionado=e[0].clave_insumo_medico;for(var t=!1,n=0;n<a.pedido.lista.length;n++)if(a.pedido.lista[n].clave==a.claveInsumoSeleccionado){a.pedido.filtro.activo=!1;var r=Math.ceil((n+1)/a.pedido.paginacion.resultadosPorPagina);a.pedido.listar(r),a.itemSeleccionado=a.pedido.lista[n],t=!0}t?a.verificarItemsAsignadosStockApi():(a.claveNoSolicitada=!0,a.listaStock=[])}else""!=a.searchBoxStockViewChildren.first.nativeElement.value&&(a.itemSeleccionado=null)},function(e){a.cargandoStock=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=function(){};try{e.json();401==e.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(t){console.log("No se puede interpretar el error"),500==e.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.marcarLote=function(e){if(e.activo){e.seleccionado=!e.seleccionado;var t=0,a=0,n=e.clave;for(var r in this.itemsDevueltos.listaStock){var i=this.itemsDevueltos.listaStock[r];i.clave==n&&(t++,i.seleccionado&&a++)}if(t==a){for(var r in this.pedido.lista)if(this.pedido.lista[r].clave==n){this.pedido.lista[r].marcados=!0;break}}else for(var r in this.pedido.lista)if(this.pedido.lista[r].clave==n){this.pedido.lista[r].marcados=!1;break}}},e.prototype.marcarTodos=function(){for(var e in this.itemsDevueltos.listaStock)this.itemsDevueltos.listaStock[e].seleccionado=this.marcarTodosStatus;for(var e in this.pedido.lista)this.pedido.lista[e].marcados=this.marcarTodosStatus},e.prototype.marcarClaves=function(e,t){for(var a in this.itemsDevueltos.listaStock)this.itemsDevueltos.listaStock[a].clave==t&&(this.itemsDevueltos.listaStock[a].seleccionado=e)},e.prototype.surtir=function(){var e=this,t=prompt("Al surtir el pedido se retirara la cantidad surtida del inventario del almacen actual, para confirmar que desea surtir el pedido por favor escriba: SURTIR PEDIDO");if("SURTIR PEDIDO"!=t)return null!=t&&alert("Error al ingresar el texto para confirmar la acci\xf3n."),!1;var a=[];for(var n in console.log(this.pedido.lista),this.pedido.lista)for(var r in this.pedido.lista[n].listaStockAsignado)a.push({stock_id:this.pedido.lista[n].listaStockAsignado[r].id,cantidad:this.pedido.lista[n].listaStockAsignado[r].cantidad,clave:this.pedido.lista[n].listaStockAsignado[r].clave_insumo_medico});if(0==a.length)return this.mensajeError=new Ae(!0,5),this.mensajeError.texto="No especificado",this.mensajeError.mostrar=!0,this.mensajeError.texto="No se ha seleccionado ningun insumo del inventario, para surtir este pedido",!1;var i={pedido_id:this.id,entrega:"",recibe:"",observaciones:"",lista:a};this.transferenciaAlmacenService.surtir(this.id,i).subscribe(function(t){e.router.navigate(["/almacen/transferencia-almacen/en-transito"])},function(t){e.cargando=!1,console.log(t),e.mensajeError=new Ae(!0),e.mensajeError.texto="No especificado",e.mensajeError.mostrar=!0;try{var a=t.json();401==t.status&&(e.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n."),409==t.status&&(e.mensajeError.texto="Por favor verfique los campos marcados en rojo.")}catch(a){500==t.status?e.mensajeError.texto="500 (Error interno del servidor)":(console.log(a),e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir.")}})},e.prototype.eliminarDelInventario=function(){var e=prompt("Los insumos seleccionados seran marcados como dados de baja en el inventario, para confirmar esta acci\xf3n por favor escriba: ELIMINAR");if("ELIMINAR"!=e)return null!=e&&alert("Error al ingresar el texto para confirmar la acci\xf3n."),!1;this.actualizarTransferencia("eliminar")},e.prototype.reintegrarAlInventario=function(){var e=prompt("Los insumos seleccionados seran reintegrados al inventario, para confirmar esta acci\xf3n por favor escriba: REINTEGRAR");if("REINTEGRAR"!=e)return null!=e&&alert("Error al ingresar el texto para confirmar la acci\xf3n."),!1;this.actualizarTransferencia("reintegrar")},e.prototype.actualizarTransferencia=function(e){var t=this,a=[];for(var n in this.itemsDevueltos.listaStock)this.itemsDevueltos.listaStock[n].seleccionado&&this.itemsDevueltos.listaStock[n].activo&&a.push(this.itemsDevueltos.listaStock[n]);if(0==a.length)return this.mensajeError=new Ae(!0,5),this.mensajeError.mostrar=!0,this.mensajeError.texto="No se ha seleccionado ningun insumo del inventario, para surtir este pedido",!1;var r={accion:e,insumos:a};this.transferenciaAlmacenService.actualizarTransferencia(this.id,r).subscribe(function(n){var r=null;for(var i in"eliminar"==e?r="eliminado":"reintegrar"==e&&(r="reintegrado"),a)a[i].activo=!1,a[i].status=r,t.clavesDevueltasStatus[a[i].clave]||(t.clavesDevueltasStatus[a[i].clave]=0),t.clavesDevueltasStatus[a[i].clave]+=a[i].cantidad;for(var i in t.pedido.lista){var s=t.pedido.lista[i];s.cantidad_enviada>0&&s.cantidad_recibida<s.cantidad_enviada&&t.clavesDevueltasStatus[s.clave]&&t.clavesDevueltasStatus[s.clave]+s.cantidad_recibida==s.cantidad_enviada&&(s.puede_seleccionar=!1)}t.checarStatusDeItemsDevueltos(),t.transferenciaCompleta&&(t.permitirResurtir=!0),t.mensajeExito=new Ae(!0,5),t.mensajeExito.texto="Datos Guardados",t.mensajeExito.mostrar=!0},function(e){t.cargando=!1,console.log(e),t.mensajeError=new Ae(!0),t.mensajeError.texto="No especificado",t.mensajeError.mostrar=!0;try{var a=e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n."),409==e.status&&(t.mensajeError.texto="Por favor verfique los campos marcados en rojo.")}catch(a){500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":(console.log(a),t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir.")}})},e.prototype.volverASurtir=function(){this.pedidoEntregado=!1,this.pedidoSurtido=!1,this.pedidoPorSurtir=!0},e.prototype.cancelarVolverASurtir=function(){this.pedidoEntregado=!0,this.pedidoSurtido=!1,this.pedidoPorSurtir=!1},e.prototype.finalizarPedido=function(){var e=prompt("El pedido se finalizara con estatus de incompleto, para confirmar que desea finalizar el pedido por favor escriba: FINALIZAR PEDIDO");if("FINALIZAR PEDIDO"!=e)return null!=e&&alert("Error al ingresar el texto para confirmar la acci\xf3n."),!1;var t=this.itemsDevueltos.listaStock;if(0==t.length)return this.mensajeError=new Ae(!0,5),this.mensajeError.mostrar=!0,this.mensajeError.texto="No se ha seleccionado ningun insumo del inventario, para surtir este pedido",!1;console.log(t)},e.prototype.buscarStock=function(e,t,a){return 13==e.keyCode&&(e.preventDefault(),e.stopPropagation(),""!=a&&(this.buscarStockApi(a),t.select(),!1))},e.prototype.limpiarStock=function(){this.listaStock=[],this.itemSeleccionado=null,this.searchBoxStockViewChildren.first.nativeElement.value=""},e.prototype.eliminarStock=function(e){this.itemSeleccionado.listaStockAsignado.splice(e,1),this.calcularTotalStockItem(),this.verificarItemsAsignadosStockApi()},e.prototype.asignarStock=function(e){null==this.itemSeleccionado.listaStockAsignado&&(this.itemSeleccionado.listaStockAsignado=[]);var t=0;for(var a in this.itemSeleccionado.listaStockAsignado){if(e.id==this.itemSeleccionado.listaStockAsignado[a].id)return;t+=this.itemSeleccionado.listaStockAsignado[a].cantidad}if(this.itemSeleccionado.cantidad_recibida&&(t+=this.itemSeleccionado.cantidad_recibida),t<this.itemSeleccionado.cantidad_solicitada){var n=this.itemSeleccionado.cantidad_solicitada-t;e.existencia>n&&(e.cantidad=n),e.existencia<=n&&(e.cantidad=e.existencia),e.cantidad_asignada=e.cantidad,this.itemSeleccionado.listaStockAsignado.push(e),this.calcularTotalStockItem(),e.asignado=!0}},e.prototype.validarItemStock=function(e,t){if(void 0===t&&(t=!1),null==e.cantidad)return t&&this.asignarMaximoPosible(e),void this.calcularTotalStockItem();var a=parseInt(e.cantidad);if(isNaN(a))return this.asignarMaximoPosible(e),void this.calcularTotalStockItem();if(a<=0)return this.asignarMaximoPosible(e),void this.calcularTotalStockItem();for(var n in a>e.existencia&&(e.cantidad=e.existencia),this.verificarTotalStockItem()||this.asignarMaximoPosible(e),this.listaStock){var r=this.listaStock[n];r.id==e.id&&(r.cantidad_asignada=e.cantidad)}this.calcularTotalStockItem()},e.prototype.asignarMaximoPosible=function(e){var t=0;for(var a in this.itemSeleccionado.listaStockAsignado)this.itemSeleccionado.listaStockAsignado[a]!=e&&(t+=this.itemSeleccionado.listaStockAsignado[a].cantidad);var n=this.itemSeleccionado.cantidad_solicitada-(t+(this.itemSeleccionado.cantidad_recibida||0));n>=e.existencia&&(e.cantidad=e.existencia),n<e.existencia&&(e.cantidad=n)},e.prototype.verificarItemsAsignadosStockApi=function(){for(var e in this.listaStock)for(var t in this.listaStock[e].asignado=!1,this.listaStock[e].cantidad_asignada=0,this.itemSeleccionado.listaStockAsignado)if(this.itemSeleccionado.listaStockAsignado[t].id==this.listaStock[e].id){this.listaStock[e].asignado=!0,this.listaStock[e].cantidad_asignada=this.itemSeleccionado.listaStockAsignado[t].cantidad;break}},e.prototype.verificarTotalStockItem=function(){return this.itemSeleccionado.totalStockAsignado+(this.itemSeleccionado.cantidad_recibida||0)<=this.itemSeleccionado.cantidad_solicitada},e.prototype.calcularTotalStockItem=function(){var e=0;for(var t in this.itemSeleccionado.listaStockAsignado)e+=this.itemSeleccionado.listaStockAsignado[t].cantidad;if(0==e){var a=0;for(var t in this.lotesSurtidos)this.lotesSurtidos[t].clave==this.itemSeleccionado.clave&&this.lotesSurtidos.splice(a,1),a++}else{var n=!1;for(var t in this.lotesSurtidos)this.lotesSurtidos[t].clave==this.itemSeleccionado.clave&&(n=!0,this.lotesSurtidos[t].cantidad=e);n||this.lotesSurtidos.push({clave:this.itemSeleccionado.clave,cantidad:e})}this.itemSeleccionado.totalStockAsignado=e,this.itemSeleccionado.cantidad_a_surtir=this.itemSeleccionado.cantidad_solicitada-(e+this.itemSeleccionado.cantidad_recibida)},e.prototype.mostrarDialogoCancelarTransferencia=function(){this.errorCancelarTransferencia=!1,this.errorCancelarTransferenciaTexto="Ocurrio un error al intentar cancelar el pedido",this.mostrarCancelarTransferenciaDialogo=!0,this.motivosCancelarTransferencia=""},e.prototype.cerrarDialogoCancelarTransferencia=function(){this.mostrarCancelarTransferenciaDialogo=!1},e.prototype.cancelarTransferencia=function(){var e=this,t=prompt("Para confirmar esta transacci\xf3n, por favor escriba: CANCELAR TRANSFERENCIA");if("CANCELAR TRANSFERENCIA"!=t)return null!=t&&alert("Error al ingresar el texto para confirmar la transferencia."),!1;if(""==this.motivosCancelarTransferencia)return this.errorCancelarTransferencia=!0,this.errorCancelarTransferenciaTexto="No se especific\xf3 ning\xfan motivo.",!1;this.cancelandoPedido=!0;var a={motivos:this.motivosCancelarTransferencia};this.transferenciaAlmacenService.cancelarTransferencia(this.pedido.datosImprimir.id,a).subscribe(function(t){e.pedido.status="EX-CA",e.permitirResurtir=!1,e.cancelandoPedido=!1,e.mostrarCancelarTransferenciaDialogo=!1,e.errorCancelarTransferencia=!1,e.router.navigate(["/almacen/transferencia-almacen/ver/"+t.id])},function(t){console.log(t),e.errorCancelarTransferencia=!0,e.cancelandoPedido=!1,e.mostrarCancelarTransferenciaDialogo=!0;try{var a=t.json();401==t.status&&(e.errorCancelarTransferenciaTexto="No tiene permiso para esta acci\xf3n."),500==t.status&&(e.errorCancelarTransferenciaTexto="500 (Error interno del servidor)"),a.error&&(e.errorCancelarTransferenciaTexto=a.error)}catch(a){500==t.status?e.errorCancelarTransferenciaTexto="500 (Error interno del servidor)":e.errorCancelarTransferenciaTexto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.keyboardInput=function(e){32==e.keyCode&&e.ctrlKey&&(event.preventDefault(),event.stopPropagation(),this.searchBoxStockViewChildren.first.nativeElement.focus())},$l([Object(n.ViewChildren)("searchBoxStock"),Kl("design:type",Object)],e.prototype,"searchBoxStockViewChildren",void 0),e=$l([Object(n.Component)({selector:"app-surtir",template:a("Lg+O"),styles:[a("xW0L")],host:{"(window:keydown)":"keyboardInput($event)"},providers:[xs,zl]}),Kl("design:paramtypes",[i.Title,h.a,h.b,zl,xs])],e)}(),Zl=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Ql=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Wl=function(){function e(e,t,a,n,r,i,s){this.title=e,this.route=t,this.router=a,this.entregasService=n,this.pedidosService=r,this.stockService=i,this.apiService=s,this.cargando=!1,this.cargandoStock=!1,this.guardando=!1,this.finalizando=!1,this.cluesSinAlmacenes=!1,this.mensajeError=new Ae,this.mensajeAdvertencia=new Ae,this.mensajeExito=new Ae,this.mostrarModalInsumos=!1,this.listaLotesAgregados={},this.listaStock=[],this.datosPedido={},this.lotesSurtidos=[],this.claveInsumoSeleccionado=null,this.claveNoSolicitada=!1,this.itemSeleccionado=null,this.cargandoAlmacenes=!1,this.almacenDelUsuario={},this.cargandoUnidadesMedicas=!1,this.errores={clues_destino:null,almacen_solicitante:null,descripcion:null,fecha:null,observaciones:null,insumos:null}}return e.prototype.ngOnInit=function(){var e=this;this.route.params.subscribe(function(t){e.id=t.id}),this.route.params.subscribe(function(t){e.id=t.id}),null!=this.id?this.title.setTitle("Editar transferencia / Farmacia"):this.title.setTitle("Nueva transferencia / Farmacia");var t=JSON.parse(localStorage.getItem("usuario"));this.almacenDelUsuario=t.almacen_activo,this.cargarUnidadesMedicas(),this.pedido=new vt(!0),this.datosPedido={almacen_proveedor:null,almacen_solicitante:null,clues:null,clues_destino:null,fecha:new Date,descripcion:null,observaciones:null},this.pedido.paginacion.resultadosPorPagina=10,this.pedido.filtro.paginacion.resultadosPorPagina=10,this.pedido.lista=[],this.pedido.indexar(),null!=this.id&&(this.cargando=!0,this.apiService.ver(this.id).subscribe(function(t){for(var a in e.cargando=!1,console.log(t),e.movimiento=t.historial_transferencia_completo[0].movimiento,e.almacenes=[],e.almacenes.push(t.almacen_solicitante),e.datosPedido.almacen_solicitante=t.almacen_solicitante.id,e.datosPedido.clues_destino=t.clues_destino,e.datosPedido.fecha=new Date(t.fecha),e.datosPedido.descripcion=t.descripcion,e.datosPedido.observaciones=t.observaciones,console.log("aqui"),t.insumos){var n=t.insumos[a],r=n.insumos_con_descripcion;for(var i in null!=r&&(r.cantidad=+n.cantidad_solicitada,r.precio=+n.precio_unitario,r.listaStockAsignado=[],r.totalStockAsignado=r.cantidad,e.pedido.lista.push(r)),e.movimiento.insumos)e.movimiento.insumos[i].clave_insumo_medico==n.insumo_medico_clave&&(r.listaStockAsignado.push({clave_insumo_medico:e.movimiento.insumos[i].clave_insumo_medico,cantidad:+e.movimiento.insumos[i].cantidad,tipo_insumo_id:e.movimiento.insumos[i].tipo_insumo_id,insumo:n.insumos_con_descripcion,precio:+e.movimiento.insumos[i].precio_unitario,id:e.movimiento.insumos[i].stock.id,lote:e.movimiento.insumos[i].stock.lote,fecha_caducidad:e.movimiento.insumos[i].stock.fecha_caducidad,codigo_barras:e.movimiento.insumos[i].stock.codigo_barras,existencia:e.movimiento.insumos[i].stock.existencia}),e.listaLotesAgregados[e.movimiento.insumos[i].stock.id]?console.log("################################################ lote duplicado ################################################"):e.listaLotesAgregados[e.movimiento.insumos[i].stock.id]=e.movimiento.insumos[i].cantidad)}console.log(e.listaLotesAgregados),e.pedido.indexar(),e.pedido.listar(1)},function(t){e.cargando=!1,console.log(t),e.router.navigate(["/almacen/transferencia-almacen/nueva"])}))},e.prototype.agregarItem=function(e){void 0===e&&(e={}),console.log("agregado"),console.log(e);var t=!1;for(var a in this.pedido.lista)this.pedido.lista[a].clave==e.insumo.clave&&(this.itemSeleccionado=this.pedido.lista[a],t=!0);if(this.listaStock=[],!t){var n=this.pedido.lista.push({clave:e.insumo.clave,tipo:e.insumo.tipo,informacion:e.insumo.informacion,descripcion:e.insumo.descripcion,generico_nombre:e.insumo.generico.nombre,cantidad:0,totalStockAsignado:0,es_causes:e.insumo.es_causes,es_cuadro_basico:e.es_cuadro_basico,listaStockAsignado:[]});this.pedido.indexar(),this.pedido.listar(1),this.itemSeleccionado=this.pedido.lista[n-1]}for(var a in null==this.itemSeleccionado.listaStockAsignado&&(this.itemSeleccionado.listaStockAsignado=[],this.itemSeleccionado.totalStockAsignado=0),this.itemSeleccionado.listaStockAsignado)if(e.id==this.itemSeleccionado.listaStockAsignado[a].id)return;this.itemSeleccionado.cantidad+=e.cantidad,this.itemSeleccionado.totalStockAsignado+=e.cantidad,e.lote.cantidad=e.cantidad,e.lote.precio=e.insumo.precio,e.lote.tipo_insumo_id=e.insumo.tipo_insumo_id,this.itemSeleccionado.listaStockAsignado.push(e.lote),console.log(this.listaLotesAgregados)},e.prototype.seleccionarItem=function(e){this.itemSeleccionado=e,this.buscarStockApi(null,e.clave)},e.prototype.buscar=function(e,t,a,n){var r=t.value;if(27==e.keyCode)return e.preventDefault(),e.stopPropagation(),t.value="",a.value="",this.pedido.filtro.activo=!1,void(this.pedido.filtro.lista=[]);if(a.value!=r){if(e.preventDefault(),e.stopPropagation(),a.value=r,""==r)return this.pedido.filtro.activo=!1,void(this.pedido.filtro.lista=[]);this.pedido.filtro.activo=!0;var i=[],s=function(e){var t=n[e].input.value;if(""==t)return"continue";var a=o.pedido.lista.filter(function(a){var r="",i=n[e].campos;for(var s in i)try{var o=i[s].split(".");o.length>1?r+=" "+a[o[0]][o[1]].toLowerCase():r+=" "+a[i[s]].toLowerCase()}catch(e){}return r.includes(t.toLowerCase())});i.push(a)},o=this;for(var l in n)s(l);if(i.length>1){console.log(i);for(var c=(i=i.sort(function(e,t){return e.length-t.length}))[0],d=[],u=1;u<i.length;u++)for(var l in i[u])for(var p in c)i[u][l]===c[p]&&d.push(c[p]);this.pedido.filtro.lista=d}else this.pedido.filtro.lista=i[0];this.pedido.filtro.indexar(!1),this.pedido.filtro.paginacion.paginaActual=1,this.pedido.filtro.listar(1)}},e.prototype.buscarStockApi=function(e,t){var a=this;void 0===t&&(t=null),this.cargandoStock=!0,this.stockService.buscar(e,t).subscribe(function(e){if(a.cargandoStock=!1,a.claveNoSolicitada=!1,a.listaStock=e,e.length>0){a.claveInsumoSeleccionado=e[0].clave_insumo_medico;for(var t=!1,n=0;n<a.pedido.lista.length;n++)if(a.pedido.lista[n].clave==a.claveInsumoSeleccionado){a.pedido.filtro.activo=!1;var r=Math.ceil((n+1)/a.pedido.paginacion.resultadosPorPagina);a.pedido.listar(r),a.itemSeleccionado=a.pedido.lista[n],t=!0}t?a.verificarItemsAsignadosStockApi():(a.claveNoSolicitada=!0,a.listaStock=[])}console.log("Stock cargado.")},function(e){a.cargandoStock=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=function(){};try{e.json();401==e.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(t){console.log("No se puede interpretar el error"),500==e.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.buscarStock=function(e,t,a){return 13==e.keyCode&&(e.preventDefault(),e.stopPropagation(),""!=a&&(this.buscarStockApi(a),t.select(),!1))},e.prototype.limpiarStock=function(){this.listaStock=[],this.itemSeleccionado=null},e.prototype.eliminarInsumo=function(e){this.pedido.lista[e]==this.itemSeleccionado&&(this.itemSeleccionado=null,this.listaStock=[]);var t=this.pedido.lista[e].listaStockAsignado;for(var a in t)delete this.listaLotesAgregados[t[a].id];this.pedido.lista.splice(e,1),this.pedido.indexar(),this.pedido.listar(1)},e.prototype.eliminarStock=function(e){var t=this.itemSeleccionado.listaStockAsignado.indexOf(e),a=this.itemSeleccionado.listaStockAsignado[t].id;if(delete this.listaLotesAgregados[a],this.itemSeleccionado.listaStockAsignado.splice(t,1),this.calcularTotalStockItem(),this.itemSeleccionado.cantidad<=0){var n=0;for(var r in this.pedido.paginacion.lista)this.pedido.paginacion.lista[r].clave==this.itemSeleccionado.clave&&this.pedido.paginacion.lista.splice(n,1),n++;this.itemSeleccionado=null}else this.verificarItemsAsignadosStockApi()},e.prototype.asignarStock=function(e){var t=!1;for(var a in this.pedido.lista)this.pedido.lista[a].clave==e.clave_insumo_medico&&(this.itemSeleccionado=this.pedido.lista[a],t=!0);if(!t){var n=this.pedido.lista.push({clave:e.insumo.clave,tipo:e.insumo.tipo,informacion:e.insumo.informacion,descripcion:e.insumo.descripcion,generico_nombre:e.insumo.generico.nombre,cantidad:0,es_causes:e.insumo.es_causes,es_cuadro_basico:e.es_cuadro_basico,listaStockAsignado:[]});this.pedido.indexar(),this.pedido.listar(1),this.itemSeleccionado=this.pedido.lista[n-1]}for(var a in null==this.itemSeleccionado.listaStockAsignado&&(this.itemSeleccionado.listaStockAsignado=[]),this.itemSeleccionado.listaStockAsignado)if(e.id==this.itemSeleccionado.listaStockAsignado[a].id)return;this.itemSeleccionado.listaStockAsignado.push(e),console.log(this.pedido.lista)},e.prototype.validarItemStock=function(e,t){if(void 0===t&&(t=!1),null==e.cantidad)return e.cantidad=0,void this.calcularTotalStockItem();var a=parseInt(e.cantidad);return isNaN(a)?(e.cantidad=0,void this.calcularTotalStockItem()):a<=0?(e.cantidad=0,void this.calcularTotalStockItem()):(a>e.existencia&&(e.cantidad=e.existencia),this.listaLotesAgregados[e.id]=e.cantidad,void this.calcularTotalStockItem())},e.prototype.verificarItemsAsignadosStockApi=function(){for(var e in this.listaStock)for(var t in this.listaStock[e].asignado=!1,this.itemSeleccionado.listaStockAsignado)if(this.itemSeleccionado.listaStockAsignado[t].id==this.listaStock[e].id){this.listaStock[e].asignado=!0;break}},e.prototype.calcularTotalStockItem=function(){var e=0;for(var t in this.itemSeleccionado.listaStockAsignado)e+=this.itemSeleccionado.listaStockAsignado[t].cantidad;if(0==e){var a=0;for(var t in this.lotesSurtidos)this.lotesSurtidos[t].clave==this.itemSeleccionado.clave&&this.lotesSurtidos.splice(a,1),a++}else{var n=!1;for(var t in this.lotesSurtidos)this.lotesSurtidos[t].clave==this.itemSeleccionado.clave&&(n=!0,this.lotesSurtidos[t].cantidad=e);n||this.lotesSurtidos.push({clave:this.itemSeleccionado.clave,cantidad:e})}this.itemSeleccionado.totalStockAsignado=e,this.itemSeleccionado.cantidad=e},e.prototype.cargarUnidadesMedicas=function(){var e=this;this.cargandoUnidadesMedicas=!0,this.apiService.unidadesMedicas().subscribe(function(t){e.cargandoUnidadesMedicas=!1,e.unidadesMedicas=t},function(t){e.cargandoUnidadesMedicas=!1,console.log(t)})},e.prototype.seleccionarClues=function(e){var t=this;this.cargandoAlmacenes=!0,this.cluesSinAlmacenes=!1,this.apiService.almacenes(e).subscribe(function(e){t.cargandoAlmacenes=!1,t.almacenes=e,t.almacenes.length>0?t.datosPedido.almacen_solicitante=t.almacenes[0].id:t.cluesSinAlmacenes=!0},function(e){t.cargandoAlmacenes=!1,console.log(e)})},e.prototype.guardar=function(e){var t=this;void 0===e&&(e=!1),e?this.finalizando=!0:this.guardando=!0,this.errores={clues_destino:null,almacen_solicitante:null,descripcion:null,fecha:null,observaciones:null,insumos:null};var a=null;null!=this.datosPedido.fecha&&(a=this.datosPedido.fecha.getFullYear()+"-"+("0"+(this.datosPedido.fecha.getMonth()+1)).slice(-2)+"-"+("0"+this.datosPedido.fecha.getDate()).slice(-2));var n=[],r=[];for(var i in console.log(this.pedido.lista),this.pedido.lista){var s=0,o=null;for(var l in this.pedido.lista[i].listaStockAsignado)n.push({stock_id:this.pedido.lista[i].listaStockAsignado[l].id,clave:this.pedido.lista[i].listaStockAsignado[l].clave_insumo_medico,cantidad:null!=this.pedido.lista[i].listaStockAsignado[l].cantidad?this.pedido.lista[i].listaStockAsignado[l].cantidad:0,precio:this.pedido.lista[i].listaStockAsignado[l].precio,tipo:this.pedido.lista[i].tipo,tipo_insumo_id:this.pedido.lista[i].listaStockAsignado[l].tipo_insumo_id}),s=this.pedido.lista[i].listaStockAsignado[l].precio,o=this.pedido.lista[i].listaStockAsignado[l].tipo_insumo_id;r.push({clave:this.pedido.lista[i].clave,cantidad:null!=this.pedido.lista[i].cantidad?this.pedido.lista[i].cantidad:0,precio:s,tipo:this.pedido.lista[i].tipo,tipo_insumo_id:o})}var c={finalizar:!!e||null,almacen_proveedor:this.datosPedido.almacen_proveedor,almacen_solicitante:this.datosPedido.almacen_solicitante,clues:this.datosPedido.clues,clues_destino:this.datosPedido.clues_destino,fecha:a,descripcion:this.datosPedido.descripcion,observaciones:this.datosPedido.observaciones,insumos:r,movimiento:this.movimiento,movimiento_insumos:n};this.apiService.guardarTransferencia(null!=this.id?this.id:null,c).subscribe(function(a){e?t.finalizando=!1:t.guardando=!1,console.log(a),"BR"==a.pedido.status?t.router.navigate(["/almacen/transferencia-almacen/editar/"+a.pedido.id]):t.router.navigate(["/almacen/transferencia-almacen/"]),console.log(a)},function(a){e?t.finalizando=!1:t.guardando=!1;try{var n=a.json();switch(t.mensajeError=new Ae(!0),a.status){case 401:t.mensajeError.texto="No tiee permiso para realizar esta acci\xf3n.";break;case 409:for(var r in t.mensajeError.texto="Verifique la informaci\xf3n marcada de color rojo",n.error)for(var i in n.error[r])t.errores[r]=n.error[r][i];break;case 500:t.mensajeError.texto="500 (Error interno del servidor)";break;default:t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}console.log(t.errores)}catch(n){t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}t.mensajeError.mostrar=!0})},e.prototype.finalizar=function(){var e=prompt("Atenci\xf3n la transferencia ya no podra editarse, para confirmar que desea concluir el movimiento por favor escriba: CONCLUIR TRANSFERENCIA");if("CONCLUIR TRANSFERENCIA"!=e)return null!=e&&alert("Error al ingresar el texto para confirmar la acci\xf3n."),!1;this.guardar(!0)},e.prototype.keyboardInput=function(e){},e=Zl([Object(n.Component)({selector:"app-transferencia",template:a("X9f8"),styles:[a("IGh0")],host:{"(window:keydown)":"keyboardInput($event)"},providers:[xs,Xs]}),Ql("design:paramtypes",[i.Title,h.a,h.b,Xs,ns,xs,zl])],e)}(),ec=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},tc=[{path:"almacen/transferencia-almacen",redirectTo:"/almacen/transferencia-almacen/por-surtir",pathMatch:"full"},{path:"almacen/transferencia-almacen",children:[{path:"todos",component:Gl},{path:"borradores",component:Gl},{path:"por-surtir",component:Gl},{path:"en-transito",component:Gl},{path:"por-finalizar",component:Gl},{path:"finalizados",component:Gl},{path:"cancelados",component:Gl},{path:"ver/:id",component:Jl},{path:"surtir/:id",component:Xl},{path:"nueva",component:Wl},{path:"editar/:id",component:Wl}],canActivate:[M]}],ac=function(){function e(){}return e=ec([Object(n.NgModule)({imports:[h.c.forChild(tc)],exports:[h.c]})],e)}(),nc=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},rc=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ic=function(){function e(e,t){this.transferenciaAlmacenService=e,this.cambiarEntornoService=t,this.cargando=!1,this.stats={todos:0,borradores:0,por_surtir:0,en_transito:0,por_finalizar:0,finalizados:0,cancelados:0},this.presupuesto={causes_y_material:0,no_causes:0}}return e.prototype.ngOnInit=function(){var e=this;this.cambiarEntornoSuscription=this.cambiarEntornoService.entornoCambiado$.subscribe(function(t){e.stats={todos:0,borradores:0,por_surtir:0,en_transito:0,por_finalizar:0,finalizados:0,cancelados:0},e.presupuesto={causes_y_material:0,no_causes:0},e.cargarStatsTransferencias()}),this.cargarStatsTransferencias()},e.prototype.cargarStatsTransferencias=function(){var e=this;this.cargando=!0,this.transferenciaAlmacenService.stats().subscribe(function(t){console.log(t),e.stats=t.stats,e.presupuesto.causes_y_material=t.presupuesto.causes_y_material?+t.presupuesto.causes_y_material:0,e.presupuesto.no_causes=t.presupuesto.no_causes?+t.presupuesto.no_causes:0,e.cargando=!1},function(t){e.cargando=!1,console.log(t)})},e.prototype.ngOnDestroy=function(){this.cambiarEntornoSuscription.unsubscribe()},e=nc([Object(n.Component)({selector:"menu-lateral",template:a("jy70"),styles:[a("4CBQ")]}),rc("design:paramtypes",[zl,ae])],e)}(),sc=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},oc=function(){function e(){}return e=sc([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,ee,de,fe,qe,es,Hi,Ir,Ao.TextMaskModule,jr.NguiAutoCompleteModule,Oi.NguiDatetimePickerModule,p.SimpleNotificationsModule,ac],declarations:[Gl,ic,Xl,Wl,Jl],providers:[zl,gr]})],e)}(),lc=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},cc=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},dc=function(){function e(e){this.title=e,this.usuario={},this.busqueda="",this.modulos=[],this.modulosAutorizados=[],this.accesosDirectos=[],this.accesosDirectosAutorizados=[]}return e.prototype.ngOnInit=function(){this.title.setTitle("Inventario"),this.usuario=JSON.parse(localStorage.getItem("usuario")),this.modulos=[{permiso:"7KbTARF2kpnO4Lfqv8hmYP8QGMcgJBwU",icono:"assets/icono-ajustes-inventario.svg",titulo:"Inicializaci\xf3n Inventario",url:"/inventario/inicializacion-inventario"},{permiso:"7KbTARF2kpnO4Lfqv8hmYP8QGMcgJBwU",icono:"assets/icono-iniciar-inventario.svg",titulo:"Iniciar Inventario",url:"/inventario/iniciar-inventario"},{permiso:"H5IV7Z6CAj8V2CRIQ2wnbXrYhvjLsSBk",icono:"assets/icono-stock.svg",titulo:"Existencia de insumos m\xe9dicos",url:"/inventario/existencias"},{permiso:"0oADIo1ltfAl4VMDVbyWgLR3rAhYGjlY",icono:"assets/icono-ajuste-mas.svg",titulo:"Ajuste m\xe1s de Inventario",url:"/inventario/ajuste-mas-inventario"},{permiso:"cE81erieaVjvmhcb9GCYI4doqYGtTcj1",icono:"assets/icono-ajuste-menos.svg",titulo:"Ajuste menos de Inventario",url:"/inventario/ajuste-menos-inventario"},{permiso:"arxliSoSCp1HEYcgr2pEeyeHP0u4TbWd",icono:"assets/icono-movimientos.svg",titulo:"Movimientos generales",url:"/inventario/movimientos-generales"},{permiso:"IVgehpUXTeMa5k9BT8uqfEyayEVyxJuD",icono:"assets/icono-correcciones.svg",titulo:"Correcciones",url:"/inventario/correcciones"},{permiso:"xYbpHsWi4HGSXQDUmG7fcJT8ZzcZKqyb",icono:"assets/icono-monitor-caduc.svg",titulo:"Monitor de caducidades",url:"/inventario/monitor-caducidades"}],this.accesosDirectos=[];var e=JSON.parse(localStorage.getItem("usuario")).permisos.split("|");if(e.length>0){for(var t in this.modulos)e:for(var a in e)if(e[a]==this.modulos[t].permiso){this.modulosAutorizados.push(this.modulos[t]);break e}for(var n in this.accesosDirectos)e:for(var a in e)if(e[a]==this.accesosDirectos[n].permiso){this.accesosDirectosAutorizados.push(this.accesosDirectos[n]);break e}}},e=lc([Object(n.Component)({selector:"app-index-inventario",template:a("o37P"),styles:[a("H8qH")]}),cc("design:paramtypes",[i.Title])],e)}(),uc=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},pc=[{path:"inventario",component:dc,canActivate:[M]}],mc=function(){function e(){}return e=uc([Object(n.NgModule)({imports:[h.c.forChild(pc)],exports:[h.c],providers:[]})],e)}(),gc=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},fc=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},hc=function(){function e(e){this.cambiarEntornoService=e,this.usuario={}}return e.prototype.ngOnInit=function(){var e=this;this.usuario=JSON.parse(localStorage.getItem("usuario")),this.cambiarEntornoSuscription=this.cambiarEntornoService.entornoCambiado$.subscribe(function(t){e.usuario=JSON.parse(localStorage.getItem("usuario"))})},e.prototype.ngOnDestroy=function(){this.cambiarEntornoSuscription.unsubscribe()},gc([Object(n.Input)(),fc("design:type",String)],e.prototype,"modulo",void 0),gc([Object(n.Input)(),fc("design:type",String)],e.prototype,"icono",void 0),gc([Object(n.Input)(),fc("design:type",String)],e.prototype,"url",void 0),e=gc([Object(n.Component)({selector:"app-menu-inventario",template:a("56/c"),styles:[a("WOGE")]}),fc("design:paramtypes",[ae])],e)}(),vc=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},bc=function(){function e(){}return e=vc([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,mc,ee,de,fe,je],exports:[hc],declarations:[dc,hc]})],e)}(),yc=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},_c=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},xc=function(){function e(e,t,a,n){var r=this;this.crudService=e,this._sanitizer=t,this._ngZone=a,this.notificacion=n,this.clave_insumo="",this.buscar_en="TODAS_LAS_CLAVES",this.seleccionar="TODO",this.tipo="TODO",this.cargandoPdf=!1,this.mensajeResponse=new Ae,this.options={position:["bottom","right"],timeOut:2e3,lastOnBottom:!0},this.insumos_term=v.API_URL+"/insumos-auto?term=:keyword",this.autocompleListFormatter=function(e){var t=' \n    <div class="card">\n      <div class="card-content">\n        <div class="media">          \n          <div class="media-content">\n            <p class="title is-4" style="color:black;"> <small>'+e.descripcion+'</small></p>\n            <br>\n            <p class="subtitle is-6" style="color:black;">\n              <strong style="color:black;">Clave: </strong> '+e.clave+"\n            </p>\n            <p>\n              ";return 1==e.es_causes&&(t+='<label class="tag is-success" style="color:black;"><strong style="color:black;">Cause </strong></label>'),0==e.es_causes&&(t+='<label class="tag" style="background: #B8FB7E; border-color: #B8FB7E; color: rgba(0,0,0,0.7);"><strong style="color:black;">No Cause </strong> </label>'),1==e.es_unidosis&&(t+='<label class="tag is-warning" ><strong style="color:black;">Unidosis</strong></label>'),t+="\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>",r._sanitizer.bypassSecurityTrustHtml(t)}}return e.prototype.ngOnInit=function(){this.usuario=JSON.parse(localStorage.getItem("usuario")),this.pdfworker=new Worker("web-workers/inventario/lista-existencias.js");var e=this,t=this._ngZone;this.pdfworker.onmessage=function(a){t.run(function(){e.cargandoPdf=!1}),ft.saveAs(e.base64ToBlob(a.data.base64,"application/pdf"),a.data.fileName)}},e.prototype.select_insumo_autocomplete=function(e){var t=this,a=JSON.parse(localStorage.getItem("usuario"));e.clave_insumo_medico?this.clave_insumo=e.clave_insumo_medico:this.clave_insumo=e.clave,this.cargando=!0,this.crudService.lista(0,1e3,"comprobar-stock?almacen="+a.almacen_activo.id+"&clave="+this.clave_insumo).subscribe(function(a){t.lotes_insumo=a,t.es_unidosis=e.es_unidosis,t.unidad_medida=e.unidad_medida;var n="";1==e.es_causes&&(n+='<label class="tag is-success" ><strong>Causes </strong></label>'),0==e.es_causes&&(n+='<label class="tag" style="background: #B8FB7E; border-color: #B8FB7E; color: rgba(0,0,0,0.7);"><strong>No Causes </strong> </label>'),1==e.es_unidosis&&(n+='<label class="tag is-warning" ><strong>Unidosis</strong></label>'),document.getElementById("tituloModal").innerHTML=" "+e.descripcion+' <br>\n          <p aling="justify" style="font-size:14px">'+t.clave_insumo+'</p> \n          <p aling="justify" style="font-size:12px"> CANTIDAD POR ENVASE: '+(e.cantidad_x_envase?e.cantidad_x_envase:"Sin especificar")+" </p>\n          <br>\n          "+n,t.cargando=!1,t.abrirModal("verLotes")},function(e){t.cargando=!1})},e.prototype.abrirModal=function(e){document.getElementById(e).classList.add("is-active")},e.prototype.cancelarModal=function(e){document.getElementById(e).classList.remove("is-active")},e.prototype.export_excel=function(){var e=this.t.first.nativeElement.options,t=this.s.first.nativeElement.options,a="<table><tr><th colspan='7'><h1>Existencias</h1></th></tr><tr><th>Claves: "+("TODAS_LAS_CLAVES"===this.buscar_en?"Todas las claves":"Mis claves")+"</th><th>Insumo: "+(e=e[e.selectedIndex].text)+"</th><th>Existencia: "+(t=t[t.selectedIndex].text)+"</th></tr><tr><th colspan='7'></th></tr></table>";a+=document.getElementById("exportable").innerHTML;var n=new Blob([a],{type:"text/comma-separated-values;charset=utf-8"});try{ft.saveAs(n,"Lista_existencias.xls")}catch(e){console.log(e)}},e.prototype.imprimirExcel=function(){var e,t=JSON.parse(localStorage.getItem("usuario"));t.clues_activa&&(e="&clues="+t.clues_activa.clues),t.almacen_activo&&(e+="&almacen="+t.almacen_activo.id);var a="token="+localStorage.getItem("token");window.open(v.API_URL+"/inventario-insumos-excel?"+a+e+"&buscar_en="+this.buscar_en+"&seleccionar="+this.seleccionar+"&tipo="+this.tipo+"&clave_insumo="+this.clave_insumo)},e.prototype.imprimir=function(){var e=this;this.cargandoPdf=!0;var t=JSON.parse(localStorage.getItem("usuario"));this.crudService.lista_general("inventario-insumos?buscar_en="+this.buscar_en+"&seleccionar="+this.seleccionar+"&tipo="+this.tipo).subscribe(function(a){e.cargando=!1,e.lista_impresion=a;var n=e.t.first.nativeElement.options,r=e.s.first.nativeElement.options;n=n[n.selectedIndex].text,r=r[r.selectedIndex].text;try{var i={lista:e.lista_impresion,usuario:t,buscar_en:e.buscar_en,seleccionar:r,tipo:n};e.pdfworker.postMessage(JSON.stringify(i))}catch(t){e.cargandoPdf=!1}},function(t){try{t.json();401==t.status&&(e.mensajeResponse.texto="No tiene permiso para hacer esta operaci\xf3n.",e.mensajeResponse.clase="danger",e.mensaje(2))}catch(a){500==t.status?e.mensajeResponse.texto="500 (Error interno del servidor)":e.mensajeResponse.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir.",e.mensajeResponse.clase="danger",e.mensaje(2)}})},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},e.prototype.mensaje=function(e,t){void 0===e&&(e=6),void 0===t&&(t=["bottom","left"]);var a={showProgressBar:!0,pauseOnHover:!1,clickToClose:!0,maxLength:this.mensajeResponse.texto.length};this.options={position:t,timeOut:1e3*e,lastOnBottom:!0},""===this.mensajeResponse.titulo&&(this.mensajeResponse.titulo="Entradas de medicamentos"),"alert"===this.mensajeResponse.clase&&this.notificacion.alert(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"success"===this.mensajeResponse.clase&&this.notificacion.success(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"info"===this.mensajeResponse.clase&&this.notificacion.info(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"warning"!==this.mensajeResponse.clase&&"warn"!==this.mensajeResponse.clase||this.notificacion.warn(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"error"!==this.mensajeResponse.clase&&"danger"!==this.mensajeResponse.clase||this.notificacion.error(this.mensajeResponse.titulo,this.mensajeResponse.texto,a)},yc([Object(n.ViewChildren)("t"),_c("design:type",Object)],e.prototype,"t",void 0),yc([Object(n.ViewChildren)("s"),_c("design:type",Object)],e.prototype,"s",void 0),yc([Object(n.ViewChildren)("claves"),_c("design:type",Object)],e.prototype,"claves",void 0),e=yc([Object(n.Component)({selector:"inventario-lista",template:a("2nU/")}),_c("design:paramtypes",[gr,i.DomSanitizer,n.NgZone,p.NotificationsService])],e)}(),Ic=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},jc=[{path:"inventario/existencias",children:[{path:"",component:xc,canActivate:[D],data:{key:"H5IV7Z6CAj8V2CRIQ2wnbXrYhvjLsSBk"}}],canActivate:[M]}],kc=function(){function e(){}return e=Ic([Object(n.NgModule)({imports:[h.c.forChild(jc)],exports:[h.c],providers:[]})],e)}(),Cc=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Ec=function(){function e(){}return e=Cc([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,kc,ee,de,fe,qe,je,bc,Ir,jr.NguiAutoCompleteModule,Oi.NguiDatetimePickerModule],declarations:[xc],providers:[_,gr]})],e)}(),Pc=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},qc=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ac=function(){function e(e,t){this.http=e,this.jwtRequest=t}return t=e,e.prototype.buscar=function(e,a,n,r){return void 0===n&&(n=1),void 0===r&&(r=20),this.jwtRequest.get(t.URL,null,{status:e,q:a,page:n,per_page:r}).map(function(e){return e.json().data})},e.prototype.lista=function(e,a,n){return void 0===a&&(a=1),void 0===n&&(n=20),this.jwtRequest.get(t.URL,null,{status:e,page:a,per_page:n}).map(function(e){return e.json().data})},e.prototype.ver=function(e){return this.jwtRequest.get(t.URL,e,{}).map(function(e){return e.json().data})},e.prototype.inicializar=function(e){return this.jwtRequest.post(t.URL,e).map(function(e){return e.json().data})},e.prototype.insumos=function(){return this.jwtRequest.get(t.URL_INSUMOS,null,{con_precios:!0}).map(function(e){return e.json().data})},e.URL="inventario/inicializacion-inventario",e.URL_INSUMOS="catalogo-insumos",e=t=Pc([Object(n.Injectable)(),qc("design:paramtypes",[c.Http,V])],e);var t}(),wc=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Sc=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Rc=function(){function e(e,t,a,n){this.title=e,this.route=t,this.inicializacionInventarioService=a,this.cambiarEntornoService=n,this.cargando=!1,this.mensajeError=new Ae,this.mensajeExito=new Ae,this.titulo="Inicializaci\xf3n de Inventario",this.icono="fa-file",this.inventarios=[],this.paginaActual=1,this.resultadosPorPagina=10,this.total=0,this.paginasTotales=0,this.indicePaginas=[],this.ultimoTerminoBuscado="",this.terminosBusqueda=new x.Subject,this.resultadosBusqueda=[],this.busquedaActivada=!1,this.paginaActualBusqueda=1,this.resultadosPorPaginaBusqueda=10,this.totalBusqueda=0,this.paginasTotalesBusqueda=0,this.indicePaginasBusqueda=[]}return e.prototype.ngOnInit=function(){var e=this;this.title.setTitle("Inicializaci\xf3n de Inventario"),this.cambiarEntornoSuscription=this.cambiarEntornoService.entornoCambiado$.subscribe(function(t){e.listar(e.paginaActual)}),this.listar(1),this.mensajeError=new Ae,this.mensajeExito=new Ae;var t=this,a=this.terminosBusqueda.debounceTime(300).distinctUntilChanged().switchMap(function(t){return e.busquedaActivada=""!=t,e.ultimoTerminoBuscado=t,e.paginaActualBusqueda=1,e.cargando=!0,t?e.inicializacionInventarioService.buscar(e.status,t,e.paginaActualBusqueda,e.resultadosPorPaginaBusqueda):lt.Observable.of({data:[]})}).catch(function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=function(){t.listarBusqueda(t.ultimoTerminoBuscado,t.paginaActualBusqueda)};try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}return a});a.subscribe(function(t){e.cargando=!1;var a=t.data;for(var n in a)a[n].created_at=a[n].created_at.replace(" ","T");e.resultadosBusqueda=a,e.totalBusqueda=0|t.total,e.paginasTotalesBusqueda=Math.ceil(e.totalBusqueda/e.resultadosPorPaginaBusqueda),e.indicePaginasBusqueda=[];for(var r=0;r<e.paginasTotalesBusqueda;r++)e.indicePaginasBusqueda.push(r+1);console.log("B\xfasqueda cargada.")})},e.prototype.obtenerDireccion=function(e,t){return"/inventario/inicializacion-inventario/ver/"+e},e.prototype.buscar=function(e){this.terminosBusqueda.next(e)},e.prototype.listarBusqueda=function(e,t){var a=this;this.paginaActualBusqueda=t,this.cargando=!0,this.inicializacionInventarioService.buscar(this.status,e,t,this.resultadosPorPaginaBusqueda).subscribe(function(e){a.cargando=!1;var t=e.data;for(var n in t)t[n].created_at=t[n].created_at.replace(" ","T");a.resultadosBusqueda=t,a.totalBusqueda=0|e.total,a.paginasTotalesBusqueda=Math.ceil(a.totalBusqueda/a.resultadosPorPaginaBusqueda),a.indicePaginasBusqueda=[];for(var r=0;r<a.paginasTotalesBusqueda;r++)a.indicePaginasBusqueda.push(r+1)},function(n){a.cargando=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=function(){this.listarBusqueda(e,t)};try{n.json();401==n.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(e){console.log("No se puede interpretar el error"),500==n.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.listar=function(e){var t=this;this.paginaActual=e,this.cargando=!0,this.inicializacionInventarioService.lista(this.status,e,this.resultadosPorPagina).subscribe(function(e){t.cargando=!1,t.inventarios=e.data,t.total=0|e.total,t.paginasTotales=Math.ceil(t.total/t.resultadosPorPagina),t.indicePaginas=[];for(var a=0;a<t.paginasTotales;a++)t.indicePaginas.push(a+1)},function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=t.listar;try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.paginaSiguiente=function(){this.listar(this.paginaActual+1)},e.prototype.paginaAnterior=function(){this.listar(this.paginaActual-1)},e.prototype.paginaSiguienteBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda+1)},e.prototype.paginaAnteriorBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda-1)},e.prototype.ngOnDestroy=function(){this.cambiarEntornoSuscription.unsubscribe()},e=wc([Object(n.Component)({selector:"inventario-inicializacion-inventario-lista",template:a("Lqsa"),styles:[a("vpIx")],providers:[Ac]}),Sc("design:paramtypes",[i.Title,h.a,Ac,ae])],e)}(),Oc=(function(){}(),function(){function e(t){void 0===t&&(t=!1),this.lista=[],this.lista_inventario=[],this.lista_completa=[],this.solo_inventario=!1,this.totalInsumos=0,this.totalMonto=0,this.totalMontoCauses=0,this.totalMontoNoCauses=0,this.totalMontoMaterialCuracion=0,this.paginacion=new ht,this.activo=!1,this.cargando=!1,this.tieneError=function(e,t){return this.datos.get(e).hasError(t)&&this.datos.get(e).touched},this.inicializarDatos=function(e){void 0===e&&(e={});var t="";e.almacen_id&&(t=e.almacen_id),this.datos.setValue({almacen_id:t,descripcion:"",observaciones:""})},this.obtenerDatosGuardar=function(){return{datos:this.datos.value,insumos:this.lista}},this.actualizarTotales=function(e){var t;void 0===e&&(e=!1),(t=this.padre?this.padre:this).totalInsumos=0,t.totalMonto=0,t.totalMontoCauses=0,t.totalMontoNoCauses=0,t.totalMontoMaterialCuracion=0;var a=0,n=0,r=1;for(var i in t.lista)e&&(t.lista[i].lote=r++),t.totalInsumos+=+t.lista[i].cantidad,t.lista[i].monto&&(t.totalMonto+=t.lista[i].monto,"ME"==t.lista[i].tipo?t.lista[i].es_causes?t.totalMontoCauses+=t.lista[i].monto:t.totalMontoNoCauses+=t.lista[i].monto:"MC"==t.lista[i].tipo&&(t.totalMontoMaterialCuracion+=t.lista[i].monto,a+=t.lista[i].monto));a>0&&(n=16*a/100,t.totalMontoMaterialCuracion+=n,t.totalMonto+=n)},this.indexar=function(e){void 0===e&&(e=!0),e&&this.actualizarTotales(e),this.paginacion.totalPaginas=Math.ceil(this.lista.length/this.paginacion.resultadosPorPagina),this.paginacion.indice=[];for(var t=0;t<this.paginacion.totalPaginas;t++)this.paginacion.indice.push(t+1)},this.listar=function(e){void 0===e&&(e=1),this.paginacion.paginaActual=e;var t=(this.paginacion.paginaActual-1)*this.paginacion.resultadosPorPagina,a=t+this.paginacion.resultadosPorPagina;try{this.paginacion.lista=this.lista.slice(t,a)}catch(e){this.paginacion.lista=[]}},this.eliminarItem=function(e,t){var a=0;for(var n in this.lista){if(this.lista[n]===e){this.paginacion.lista.splice(t,1),this.lista.splice(a,1),this.indexar();var r=a+(this.paginacion.resultadosPorPagina-t)-1;if(this.lista[r]&&this.paginacion.lista.push(this.lista[r]),0==this.paginacion.lista.length&&(this.paginacion.paginaActual>1?this.listar(this.paginacion.paginaActual-1):this.listar(1)),this.padre){var i=this.padre.lista.indexOf(e),s=Math.ceil(i/this.padre.paginacion.resultadosPorPagina),o=i-(s-1)*this.padre.paginacion.resultadosPorPagina;if(this.padre.paginacion.paginaActual==s)this.padre.eliminarItem(e,o);else{var l=this.padre.paginacion.paginaActual;this.padre.listar(s),this.padre.eliminarItem(e,o),this.padre.listar(l),0==this.padre.paginacion.lista.length&&(this.padre.paginacion.paginaActual>1?this.padre.listar(this.padre.paginacion.paginaActual-1):this.padre.listar(1))}}return}a++}},t&&(this.filtro=new e,this.filtro.padre=this,this.fb=new l.FormBuilder,this.datos=this.fb.group({almacen_id:["",[l.Validators.required]],descripcion:["",[l.Validators.required]],observaciones:""})),this.paginacion.resultadosPorPagina=10}return e.prototype.paginaSiguiente=function(){this.paginacion.paginaActual!=this.paginacion.totalPaginas&&this.listar(this.paginacion.paginaActual+1)},e.prototype.paginaAnterior=function(){1!=this.paginacion.paginaActual&&this.listar(this.paginacion.paginaActual-1)},e}()),Nc=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Mc=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Bc=function(){function e(e,t,a,n,r){this.title=e,this.route=t,this.inicializacionInventarioService=a,this.router=n,this.cambiarEntornoService=r,this.cargando=!1,this.guardando=!1,this.cargandoStock=!1,this.capturarStock=!1,this.almacen_seleccionado={},this.mostrarDialogo=!1,this.erroresFormularioStock={cantidad:{error:!1},lote:{error:!1},fecha_caducidad:{error:!1}},this.statusCaptura="NV",this.mensajeError=new Ae,this.mensajeAdvertencia=new Ae,this.mensajeExito=new Ae,this.formStock={},this.lotesSurtidos=[],this.listaStock=[],this.claveInsumoSeleccionado=null,this.claveNoSolicitada=!1,this.itemSeleccionado=null,this.formulario={datos:{},validacion:{}}}return e.prototype.ngOnInit=function(){var e=this;this.cargando=!0,this.title.setTitle("Surtir pedido / Almac\xe9n"),this.cambiarEntornoSuscription=this.cambiarEntornoService.entornoCambiado$.subscribe(function(e){}),this.route.params.subscribe(function(t){e.id=t.id});var t=JSON.parse(localStorage.getItem("usuario"));this.almacen_seleccionado=t.almacen_activo,this.formulario.validacion.valido=!1,this.formulario.validacion.errores={},this.inicializacionInventarioService.insumos().subscribe(function(t){for(var a in e.cargando=!1,e.inventario=new Oc(!0),e.inventario.paginacion.resultadosPorPagina=10,e.inventario.filtro.paginacion.resultadosPorPagina=10,t){var n=t[a],r=n;r.cantidad=0,r.monto=0,r.precio=+n.precio,r.totalStockAsignado=0,e.inventario.lista.push(r)}e.inventario.indexar(),e.inventario.listar(1),e.cargando=!1},function(t){e.cargando=!1,e.mensajeError=new Ae(!0),e.mensajeError.mostrar;try{var a=t.json();401==t.status?e.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.":e.mensajeError.texto=a.error}catch(a){500==t.status?e.mensajeError.texto="500 (Error interno del servidor)":e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.seleccionarItem=function(e){this.itemSeleccionado=e,this.capturarStock=!0,this.formStock={},this.erroresFormularioStock={cantidad:{error:!1},lote:{error:!1},fecha_caducidad:{error:!1}}},e.prototype.buscar=function(e,t,a,n){var r=t.value;if(27==e.keyCode)return e.preventDefault(),e.stopPropagation(),t.value="",a.value="",this.inventario.filtro.activo=!1,void(this.inventario.filtro.lista=[]);if(a.value!=r){if(e.preventDefault(),e.stopPropagation(),a.value=r,""==r)return this.inventario.filtro.activo=!1,void(this.inventario.filtro.lista=[]);this.inventario.filtro.activo=!0;var i=[],s=function(e){var t=n[e].input.value;if(""==t)return"continue";var a=o.inventario.lista.filter(function(a){var r="",i=n[e].campos;for(var s in i)try{var o=i[s].split(".");o.length>1?r+=" "+a[o[0]][o[1]].toLowerCase():r+=" "+a[i[s]].toLowerCase()}catch(e){}return r.includes(t.toLowerCase())});i.push(a)},o=this;for(var l in n)s(l);if(i.length>1){for(var c=(i=i.sort(function(e,t){return e.length-t.length}))[0],d=[],u=1;u<i.length;u++)for(var l in i[u])for(var p in c)i[u][l]===c[p]&&d.push(c[p]);this.inventario.filtro.lista=d}else this.inventario.filtro.lista=i[0];this.inventario.filtro.indexar(!1),this.inventario.filtro.paginacion.paginaActual=1,this.inventario.filtro.listar(1)}},e.prototype.finalizar=function(){this.mostrarDialogo=!0},e.prototype.cerrarDialogo=function(){this.mostrarDialogo=!1},e.prototype.guardar=function(e){var t;if(void 0===e&&(e=!1),this.guardando=!0,e){if(this.formularioRecepcion.get("entrega").markAsTouched(),this.formularioRecepcion.get("recibe").markAsTouched(),this.formularioRecepcion.get("fecha_movimiento").markAsTouched(),!this.formularioRecepcion.valid)return!1;var a=prompt("Atenci\xf3n la recepci\xf3n ya no podra editarse, para confirmar que desea concluir la recepci\xf3n por favor escriba: CONCLUIR RECEPCION");if("CONCLUIR RECEPCION"!=a)return null!=a&&alert("Error al ingresar el texto para confirmar la acci\xf3n."),this.guardando=!1,!1;(t=this.formularioRecepcion.value).status="FI",t.stock=[]}else t={status:"BR",observaciones:"",stock:[]};for(var n in this.inventario.lista){var r=this.inventario.lista[n];if(r.totalStockAsignado>0)for(var i in r.listaStockAsignado){var s={clave_insumo_medico:r.clave,lote:r.listaStockAsignado[i].lote,fecha_caducidad:r.listaStockAsignado[i].fecha_caducidad,cantidad:r.listaStockAsignado[i].cantidad,existencia:r.listaStockAsignado[i].cantidad,codigo_barras:r.listaStockAsignado[i].codigo_barras,precio_unitario:0,precio_total:0};t.stock.push(s)}}return console.log(t),this.guardando=!1,!1},e.prototype.limpiarStock=function(){this.capturarStock=!1,this.listaStock=[],this.itemSeleccionado=null},e.prototype.eliminarStock=function(e){var t=this.itemSeleccionado.listaStockAsignado.indexOf(e);this.itemSeleccionado.listaStockAsignado.splice(t,1),this.calcularTotalStockItem(),this.verificarItemsAsignadosStockApi()},e.prototype.asignarStock=function(){this.erroresFormularioStock={cantidad:{error:!1},lote:{error:!1},fecha_caducidad:{error:!1}};var e=0,t=!1;if(this.formStock.cantidad?this.formStock.cantidad<=0&&(this.erroresFormularioStock.cantidad={error:!0,texto:"La cantidad recibida debe ser mayor a 0."},e++):(this.erroresFormularioStock.cantidad={error:!0,texto:"Este campo es requerido."},e++),this.itemSeleccionado.tiene_fecha_caducidad&&!this.formStock.fecha_caducidad)this.erroresFormularioStock.fecha_caducidad={error:!0,texto:"Este campo es requerido."},e++;else if(this.formStock.fecha_caducidad){var a=this.formStock.fecha_caducidad.split("-"),n=!1;if(3!=a.length?n=!0:4!=a[0].length||2!=a[1].length||2!=a[2].length?n=!0:parseInt(a[1])<1||parseInt(a[1])>12?n=!0:(parseInt(a[2])<1||parseInt(a[2])>31)&&(n=!0),n)this.erroresFormularioStock.fecha_caducidad={error:!0,texto:"El formato de fecha no es correcto."},e++;else{var r=new Date,i=new Date(a[0],parseInt(a[1])-1,parseInt(a[2])),s=void 0;s=12*(i.getFullYear()-r.getFullYear()),s-=r.getMonth(),(s+=i.getMonth())<0&&(t=!0),console.log(s)}}if(this.formStock.lote||(this.erroresFormularioStock.lote={error:!0,texto:"Este campo es requerido."},e++),e)return!1;console.log(this.itemSeleccionado),null==this.itemSeleccionado.listaStockAsignado&&(this.itemSeleccionado.listaStockAsignado=[]);var o=0;for(var l in this.itemSeleccionado.listaStockAsignado)o+=this.itemSeleccionado.listaStockAsignado[l].cantidad;o+=this.formStock.cantidad,this.itemSeleccionado.totalStockAsignado=o,this.itemSeleccionado.listaStockAsignado.push({codigo_barras:this.formStock.codigo_barras,lote:this.formStock.lote,fecha_caducidad:this.formStock.fecha_caducidad,cantidad:this.formStock.cantidad,esta_caducado:t}),this.resetearFormStock(),this.calcularTotalStockItem()},e.prototype.cancelarCapturaStock=function(){this.resetearFormStock(!0)},e.prototype.resetearFormStock=function(e){void 0===e&&(e=!1),e?this.formStock={}:(this.formStock.lote=void 0,this.formStock.fecha_caducidad=void 0,this.formStock.cantidad=void 0)},e.prototype.verificarItemsAsignadosStockApi=function(){for(var e in this.listaStock)for(var t in this.listaStock[e].asignado=!1,this.itemSeleccionado.listaStockAsignado)if(this.itemSeleccionado.listaStockAsignado[t].id==this.listaStock[e].id){this.listaStock[e].asignado=!0;break}},e.prototype.verificarTotalStockItem=function(){for(var e in this.itemSeleccionado.listaStockAsignado)this.itemSeleccionado.listaStockAsignado[e].cantidad;return this.itemSeleccionado.totalStockAsignado<=this.itemSeleccionado.cantidad},e.prototype.calcularTotalStockItem=function(){var e=0;for(var t in this.itemSeleccionado.listaStockAsignado)e+=this.itemSeleccionado.listaStockAsignado[t].cantidad;if(0==e){var a=0;for(var t in this.lotesSurtidos)this.lotesSurtidos[t].clave==this.itemSeleccionado.clave&&this.lotesSurtidos.splice(a,1),a++}else{var n=!1;for(var t in this.lotesSurtidos)this.lotesSurtidos[t].clave==this.itemSeleccionado.clave&&(n=!0,this.lotesSurtidos[t].cantidad=e);n||this.lotesSurtidos.push({clave:this.itemSeleccionado.clave,cantidad:e})}this.itemSeleccionado.totalStockAsignado=e,this.itemSeleccionado.cantidad=e,this.itemSeleccionado.monto=e*this.itemSeleccionado.precio,this.inventario.actualizarTotales()},e.prototype.keyboardInput=function(e){32==e.keyCode&&e.ctrlKey&&(event.preventDefault(),event.stopPropagation())},e.prototype.ngOnDestroy=function(){this.cambiarEntornoSuscription.unsubscribe()},e=Nc([Object(n.Component)({selector:"app-formulario",template:a("U4Dc"),styles:[a("ngrC")]}),Mc("design:paramtypes",[i.Title,h.a,Ac,h.b,ae])],e)}(),Fc=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Dc=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Lc=function(){function e(){}return e.prototype.ngOnInit=function(){},e=Fc([Object(n.Component)({selector:"app-ver",template:a("AcKP"),styles:[a("zWUl")]}),Dc("design:paramtypes",[])],e)}(),Tc=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},zc=[{path:"inventario/inicializacion-inventario",children:[{path:"",component:Rc},{path:"inicializar",component:Bc},{path:"ver/:id",component:Lc}],canActivate:[M]}],Uc=function(){function e(){}return e=Tc([Object(n.NgModule)({imports:[h.c.forChild(zc)],exports:[h.c],providers:[]})],e)}(),Vc=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Gc=function(){function e(){}return e=Vc([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,ee,de,fe,qe,Uc,bc],declarations:[Rc,Bc,Lc],providers:[Ac]})],e)}(),Yc=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Hc=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Jc=function(){function e(e){this._ngZone=e,this.fecha_desde="",this.fecha_hasta="",this.usuario_lista="",this.cargandoPdf=!1}return e.prototype.ngOnInit=function(){this.usuario=JSON.parse(localStorage.getItem("usuario")),this.pdfworker=new Worker("web-workers/inventario/lista-ajuste-mas.js");var e=this,t=this._ngZone;this.pdfworker.onmessage=function(a){t.run(function(){e.cargandoPdf=!1}),ft.saveAs(e.base64ToBlob(a.data.base64,"application/pdf"),a.data.fileName)}},e.prototype.export_excel=function(){var e="<table><tr><th colspan='7'><h1>Ajuste de inventario m\xe1s</h1></th></tr><tr><th>Desde: "+this.fecha_desde+"</th><th>Hasta: "+this.fecha_hasta+"</th><th>Usuario: "+this.usuario_lista+"</th></tr><tr><th colspan='7'></th></tr></table>";e+=document.getElementById("exportable").innerHTML;var t=new Blob([e],{type:"text/comma-separated-values;charset=utf-8"});try{ft.saveAs(t,"LISTA_AJUSTE_MAS.xls")}catch(e){console.log(e)}},e.prototype.imprimir=function(){try{var e={lista:this.dato,usuario:this.usuario,fecha_desde:this.fecha_desde,fecha_hasta:this.fecha_hasta,usuario_lista:this.usuario_lista};this.pdfworker.postMessage(JSON.stringify(e))}catch(e){this.cargandoPdf=!1}},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},Yc([Object(n.ViewChildren)("tr"),Hc("design:type",Object)],e.prototype,"tr",void 0),Yc([Object(n.ViewChildren)("sr"),Hc("design:type",Object)],e.prototype,"sr",void 0),e=Yc([Object(n.Component)({selector:"app-ajuste-mas-inventario",template:a("t4fe")}),Hc("design:paramtypes",[n.NgZone])],e)}(),$c=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Kc=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Xc=function(){function e(e,t,a,n,r,i){var s=this;this.fb=e,this.crudService=t,this.route=a,this._sanitizer=n,this.notificacion=r,this._ngZone=i,this.modo="N",this.cant_solicitada_valida=!1,this.sum_cant_lotes=!1,this.mostrar_lote=[],this.cantidad_error=0,this.insumos_term=v.API_URL+"/insumos-auto?term=:keyword",this.MinDate=new Date,this.MaxDate=new Date,this.tieneid=!1,this.cargando=!1,this.es_unidosis=!1,this.cargandoPdf=!1,this.mensajeResponse=new Ae,this.titulo="Ajuste m\xe1s de inventario",this.options={position:["bottom","right"],timeOut:2e3,lastOnBottom:!0},this.objeto={showProgressBar:!0,pauseOnHover:!1,clickToClose:!0,maxLength:this.mensajeResponse.texto.length},this.autocompleListFormatter=function(e){var t='\n    <div class="card">\n      <div class="card-content">\n        <div class="media">          \n          <div class="media-content">\n            <p class="title is-4"> <small>'+e.descripcion+'</small></p>\n            <p class="subtitle is-6">\n              <strong>Clave: </strong> '+e.clave+"\n              ";return 1==e.es_causes&&(t+='<label class="tag is-success" ><strong>Cause </strong></label>'),0==e.es_causes&&(t+='<label class="tag" style="background: #B8FB7E; border-color: #B8FB7E; color: rgba(0,0,0,0.7);"><strong>No Cause </strong> </label>'),1==e.es_unidosis&&(t+='<label class="tag is-warning" ><strong>Unidosis</strong></label>'),t+="\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>",s._sanitizer.bypassSecurityTrustHtml(t)}}return e.prototype.ngOnInit=function(){var e=this,t=JSON.parse(localStorage.getItem("usuario"));t.clues_activa&&(this.insumos_term+="&clues="+t.clues_activa.clues),t.almacen_activo&&(this.insumos_term+="&almacen="+t.almacen_activo.id),this.pdfworker=new Worker("web-workers/inventario/ajuste-mas.js");var a=this,n=this._ngZone;this.pdfworker.onmessage=function(e){n.run(function(){a.cargandoPdf=!1}),ft.saveAs(a.base64ToBlob(e.data.base64,"application/pdf"),e.data.fileName)},this.dato=this.fb.group({id:[""],observaciones:["",[l.Validators.required]],tipo_movimiento_id:["6",[l.Validators.required]],insumos:this.fb.array([])}),this.route.params.subscribe(function(t){t.id&&(e.tieneid=!0)}),this.form_insumos={tipo_movimiento_id:["",[l.Validators.required]]}},e.prototype.abrirModal=function(e){document.getElementById(e).classList.add("is-active")},e.prototype.cancelarModal=function(e){document.getElementById(e).classList.remove("is-active")},e.prototype.select_insumo_autocomplete=function(e){var t=this,a=JSON.parse(localStorage.getItem("usuario"));this.cargando=!0,this.crudService.lista(0,1e3,"comprobar-stock?almacen="+a.almacen_activo.id+"&clave="+e.clave).subscribe(function(a){for(var n=[],r=0,i=t.dato.get("insumos").value;r<i.length;r++){var s=i[r];if(0===a.length)break;if(s.clave===a[0].clave_insumo_medico)for(var o=0,l=s.lotes;o<l.length;o++){for(var c=l[o],d=0,u=a;d<u.length;d++){var p=u[d];if(c.id===p.id)try{p.cantidad=c.cantidad,p.nueva_existencia=c.nueva_existencia}catch(e){console.log(e)}}1===c.nuevo&&n.push(c)}}try{if(n.length>0)for(var m=0,g=n;m<g.length;m++){s=g[m];a.push(s)}}catch(e){console.log(e)}t.lotes_insumo=a,t.insumo=e,document.getElementById("buscarInsumo").value="",document.getElementById("tituloModal").innerHTML=" "+e.descripcion+' <br>\n          <p aling="justify" style="font-size:12px">'+e.descripcion+'</p> \n          <p aling="justify" style="font-size:16px"> CANTIDAD POR ENVASE: \n          '+(e.cantidad_x_envase?e.cantidad_x_envase:"Sin especificar")+"</p>",t.es_unidosis=e.es_unidosis,t.unidad_medida=e.unidad_medida,t.cargando=!1,t.abrirModal("verLotes")},function(e){t.cargando=!1})},e.prototype.agregarLoteIsumo=function(){for(var e=this.dato.controls.insumos,t={clave:this.insumo.clave,nombre:this.insumo.nombre,descripcion:this.insumo.descripcion,es_causes:this.insumo.es_causes,es_unidosis:this.insumo.es_unidosis,cantidad:1,presentacion_nombre:this.insumo.presentacion_nombre,unidad_medida:this.insumo.unidad_medida,cantidad_x_envase:this.insumo.cantidad_x_envase?parseInt(this.insumo.cantidad_x_envase):1,cantidad_surtida:1,lotes:this.fb.array([])},a=!1,n=0,r=0,i=e.value;r<i.length;r++){if((g=i[r]).clave===this.insumo.clave){!0,a=!0;break}n++}a||e.push(this.fb.group(t));var s=n,o=e.controls[s];this.mostrar_lote[s]=!1;var l={showProgressBar:!0,pauseOnHover:!0,clickToClose:!0,maxLength:2e3};this.options={position:["top","right"],timeOut:5e3,lastOnBottom:!0};for(var c=!1,d=0,u=this.lotes_insumo;d<u.length;d++){(g=u[d]).cantidad>g.existencia&&(c=!0)}for(var p=0,m=this.lotes_insumo;p<m.length;p++){var g;if((g=m[p]).cantidad>0){var f=!1;if(a)for(var h=0,v=o.controls.lotes.controls;h<v.length;h++){if((j=v[h]).controls.id.value===g.id){f=!0;var b=g.cantidad;if(b<=j.controls.existencia.value){var y=Number(j.controls.existencia.value)+Number(1);this.notificacion.alert("Cantidad Inv\xe1lida","La cantidad m\xednima es: "+y,l),b=Number(j.controls.existencia.value)+1}j.controls.cantidad.patchValue(b),j.controls.nueva_existencia.patchValue(b);break}}if(!f)if(g.cantidad>g.existencia)g.nuevo&&(g.existencia=0),o.controls.lotes.push(this.fb.group({id:g.id,ajuste:1,nueva_existencia:g.cantidad,nuevo:0|g.nuevo,codigo_barras:g.codigo_barras,lote:g.lote,fecha_caducidad:g.fecha_caducidad,cantidad:g.cantidad,existencia:g.nuevo?0:g.existencia}));else{y=Number(g.existencia)+Number(1);this.notificacion.alert("Cantidad Inv\xe1lida","La cantidad m\xednima de "+g.lote+" es: "+y,l),a||c||e.removeAt(s)}}}for(var _=0,x=0,I=o.controls.lotes.value;x<I.length;x++){var j;_+=(j=I[x]).cantidad,j.cantidad}o.controls.cantidad_surtida.patchValue(_),this.cancelarModal("verLotes"),this.cancelarModal("negarExistencia"),this.cant_solicitada_valida=!1,this.sum_cant_lotes=!1,this.modo="N"},e.prototype.validarLotesInsumo=function(){this.options={position:["bottom","left"],timeOut:5e3,lastOnBottom:!0},this.cantidad_error=0;for(var e=this.dato.controls.insumos,t={clave:this.insumo.clave,nombre:this.insumo.nombre,descripcion:this.insumo.descripcion,es_causes:this.insumo.es_causes,es_unidosis:this.insumo.es_unidosis,cantidad:1,presentacion_nombre:this.insumo.presentacion_nombre,unidad_medida:this.insumo.unidad_medida,cantidad_x_envase:this.insumo.cantidad_x_envase?parseInt(this.insumo.cantidad_x_envase):1,cantidad_surtida:1,lotes:this.fb.array([])},a=!1,n=!0,r=0,i=e.value;r<i.length;r++){if((l=i[r]).clave===this.insumo.clave){!0,a=!0;break}0}a||e.push(this.fb.group(t));for(var s=0,o=this.lotes_insumo;s<o.length;s++){var l;(l=o[s]).cantidad<=l.existencia&&null!==l.cantidad&&(n=!1,a||e.removeAt(e.length-1))}n?this.agregarLoteIsumo():(this.mensajeResponse.titulo="Ajuste M\xc1S",this.mensajeResponse.texto="Verificar que las cantidades ingresadas sean mayor a la existencia del lote.",this.mensajeResponse.clase="warning",this.mensaje(8))},e.prototype.ver_lotes_asignados=function(e){this.mostrar_lote[e]=!this.mostrar_lote[e]},e.prototype.agregarNuevoLote=function(){this.lotes_insumo.push({id:""+Math.floor(999*Math.random())+1,codigo_barras:"",lote:"",fecha_caducidad:"",existencia:"",cantidad:"",nueva_existencia:"",nuevo:1,existencia_unidosis:"",cantidad_unidosis:""})},e.prototype.eliminarLote=function(e){this.lotes_insumo.splice(e,1)},e.prototype.quitar_lote_insumo=function(e,t,a){var n=this.dato.controls.insumos.controls[e];n.controls.lotes.removeAt(a);var r=n.controls.cantidad_surtida.value-t.cantidad;n.controls.cantidad_surtida.patchValue(r)},e.prototype.validar_cantidad_lote=function(e,t,a,n){if("N"===n)if(t.controls.cantidad.value<=t.controls.existencia.value){var r=Number(t.controls.existencia.value)+Number(1);this.notificacion.alert("Cantidad Inv\xe1lida","La cantidad m\xednima es: "+r,{showProgressBar:!0,pauseOnHover:!0,clickToClose:!0,maxLength:2e3});var i=Number(t.controls.existencia.value)+1;t.controls.cantidad.patchValue(i),t.controls.nueva_existencia.patchValue(i)}else t.controls.cantidad.patchValue(t.controls.cantidad.value),t.controls.nueva_existencia.patchValue(t.controls.cantidad.value);for(var s=this.dato.controls.insumos.controls[e],o=0,l=0,c=s.controls.lotes.value;l<c.length;l++){o+=c[l].cantidad}s.controls.cantidad_surtida.patchValue(o)},e.prototype.comprobar_cant_lotes=function(){for(var e=0,t=0,a=this.lotes_insumo;t<a.length;t++){var n=a[t];n.cantidad&&(e=Number(e)+Number(n.cantidad))}this.sum_cant_lotes=e>0},e.prototype.comprobar_cant_solicitada=function(e){this.cant_solicitada_valida=e>0},e.prototype.quitar_punto=function(e){return!!this.is_numeric(e.key)},e.prototype.is_numeric=function(e){return/^\d+$/.test(e)},e.prototype.guardar_movimiento=function(){for(var e=!0,t=0,a=this.dato.controls.insumos.value;t<a.length;t++)for(var n=0,r=a[t].lotes;n<r.length;n++){var i=r[n];console.log(i.cantidad),null==i.cantidad&&(e=!1)}e?document.getElementById("guardarMovimiento").classList.add("is-active"):this.notificacion.alert("Cantidad Inv\xe1lida","Hay campos vac\xedos. Verifique las cantidades ingresadas.",this.objeto)},e.prototype.imprimir=function(){var e=JSON.parse(localStorage.getItem("usuario"));try{this.cargandoPdf=!0;var t={datos:this.dato.value,lista:this.dato.value.insumos,usuario:e};this.pdfworker.postMessage(JSON.stringify(t))}catch(e){this.cargandoPdf=!1}},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},e.prototype.handleKeyboardEvents=function(e){if(this.key=e.which||e.keyCode,13===e.keyCode)return document.getElementById("buscarInsumo").focus(),e.preventDefault(),!1},e.prototype.mensaje=function(e,t){void 0===e&&(e=6),void 0===t&&(t=["bottom","left"]);var a={showProgressBar:!0,pauseOnHover:!1,clickToClose:!0,maxLength:this.mensajeResponse.texto.length};this.options={position:t,timeOut:1e3*e,lastOnBottom:!0},""===this.mensajeResponse.titulo&&(this.mensajeResponse.titulo=this.titulo),"alert"===this.mensajeResponse.clase&&this.notificacion.alert(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"success"===this.mensajeResponse.clase&&this.notificacion.success(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"info"===this.mensajeResponse.clase&&this.notificacion.info(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"warning"!==this.mensajeResponse.clase&&"warn"!=this.mensajeResponse.clase||this.notificacion.warn(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"error"!==this.mensajeResponse.clase&&"danger"!=this.mensajeResponse.clase||this.notificacion.error(this.mensajeResponse.titulo,this.mensajeResponse.texto,a)},e=$c([Object(n.Component)({selector:"app-ajuste-mas-formulario",template:a("Nf35"),styles:[a("qOWO")],styles:["ngui-auto-complete {z-index: 999999 !important}"],host:{"(document:keydown)":"handleKeyboardEvents($event)"}}),Kc("design:paramtypes",[l.FormBuilder,gr,h.a,i.DomSanitizer,p.NotificationsService,n.NgZone])],e)}(),Zc=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Qc=[{path:"inventario/ajuste-mas-inventario",children:[{path:"",component:Jc,canActivate:[D],data:{key:"0oADIo1ltfAl4VMDVbyWgLR3rAhYGjlY"}},{path:"nuevo",component:Xc,canActivate:[D],data:{key:"0oADIo1ltfAl4VMDVbyWgLR3rAhYGjlY"}},{path:"ver/:id",component:Xc,canActivate:[D],data:{key:"0oADIo1ltfAl4VMDVbyWgLR3rAhYGjlY"}}],canActivate:[M]}],Wc=function(){function e(){}return e=Zc([Object(n.NgModule)({imports:[h.c.forChild(Qc)],exports:[h.c],providers:[]})],e)}(),ed=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},td=function(){function e(){}return e=ed([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,Wc,ee,de,fe,qe,je,bc,Ir,jr.NguiAutoCompleteModule,Oi.NguiDatetimePickerModule,p.SimpleNotificationsModule],declarations:[Jc,Xc],providers:[_,gr]})],e)}(),ad=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},nd=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},rd=function(){function e(e){this._ngZone=e,this.fecha_desde="",this.fecha_hasta="",this.usuario_lista="",this.cargandoPdf=!1}return e.prototype.ngOnInit=function(){this.usuario=JSON.parse(localStorage.getItem("usuario")),this.pdfworker=new Worker("web-workers/inventario/lista-ajuste-menos.js");var e=this,t=this._ngZone;this.pdfworker.onmessage=function(a){t.run(function(){e.cargandoPdf=!1}),ft.saveAs(e.base64ToBlob(a.data.base64,"application/pdf"),a.data.fileName)}},e.prototype.export_excel=function(){var e="<table><tr><th colspan='7'><h1>Ajuste de inventario m\xe1s</h1></th></tr><tr><th>Desde: "+this.fecha_desde+"</th><th>Hasta: "+this.fecha_hasta+"</th><th>Usuario: "+this.usuario_lista+"</th></tr><tr><th colspan='7'></th></tr></table>";e+=document.getElementById("exportable").innerHTML;var t=new Blob([e],{type:"text/comma-separated-values;charset=utf-8"});try{ft.saveAs(t,"LISTA_AJUSTE_MAS.xls")}catch(e){console.log(e)}},e.prototype.imprimir=function(){try{var e={lista:this.dato,usuario:this.usuario,fecha_desde:this.fecha_desde,fecha_hasta:this.fecha_hasta,usuario_lista:this.usuario_lista};this.pdfworker.postMessage(JSON.stringify(e))}catch(e){this.cargandoPdf=!1}},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},ad([Object(n.ViewChildren)("tr"),nd("design:type",Object)],e.prototype,"tr",void 0),ad([Object(n.ViewChildren)("sr"),nd("design:type",Object)],e.prototype,"sr",void 0),e=ad([Object(n.Component)({selector:"app-ajuste-mas-inventario",template:a("Ckdm")}),nd("design:paramtypes",[n.NgZone])],e)}(),id=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},sd=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},od=function(){function e(e,t,a,n,r,i){var s=this;this.fb=e,this.crudService=t,this.route=a,this._sanitizer=n,this.notificacion=r,this._ngZone=i,this.modo="N",this.tab=1,this.cant_solicitada_valida=!1,this.sum_cant_lotes=!1,this.mostrar_lote=[],this.cantidad_error=0,this.tipos_ajustes=[{id:1,nombre:"Merma"},{id:2,nombre:"Caducidad"},{id:3,nombre:"Robo"}],this.insumos_term=v.API_URL+"/insumos-auto?term=:keyword",this.MinDate=new Date,this.MaxDate=new Date,this.tieneid=!1,this.cargando=!1,this.es_unidosis=!1,this.cargandoPdf=!1,this.mensajeResponse=new Ae,this.titulo="Ajuste menos de inventario",this.options={position:["bottom","right"],timeOut:2e3,lastOnBottom:!0},this.objeto={showProgressBar:!0,pauseOnHover:!0,clickToClose:!0,maxLength:2e3},this.autocompleListFormatter=function(e){var t='\n    <div class="card">\n      <div class="card-content">\n        <div class="media">          \n          <div class="media-content">\n            <p class="title is-4"> <small>'+e.descripcion+'</small></p>\n            <p class="subtitle is-6">\n              <strong>Clave: </strong> '+e.clave+"\n              ";return 1==e.es_causes&&(t+='<label class="tag is-success" ><strong>Cause </strong></label>'),0==e.es_causes&&(t+='<label class="tag" style="background: #B8FB7E; border-color: #B8FB7E; color: rgba(0,0,0,0.7);"><strong>No Cause </strong> </label>'),1==e.es_unidosis&&(t+='<label class="tag is-warning" ><strong>Unidosis</strong></label>'),t+="\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>",s._sanitizer.bypassSecurityTrustHtml(t)}}return e.prototype.ngOnInit=function(){var e=this,t=JSON.parse(localStorage.getItem("usuario"));t.clues_activa&&(this.insumos_term+="&clues="+t.clues_activa.clues),t.almacen_activo&&(this.insumos_term+="&almacen="+t.almacen_activo.id),this.pdfworker=new Worker("web-workers/inventario/ajuste-menos.js");var a=this,n=this._ngZone;this.pdfworker.onmessage=function(e){n.run(function(){a.cargandoPdf=!1}),ft.saveAs(a.base64ToBlob(e.data.base64,"application/pdf"),e.data.fileName)},this.dato=this.fb.group({id:[""],tipo_ajuste:["1",[l.Validators.required]],observaciones:["",[l.Validators.required]],tipo_movimiento_id:["7",[l.Validators.required]],insumos:this.fb.array([])}),this.route.params.subscribe(function(t){t.id&&(e.tieneid=!0)}),this.form_insumos={tipo_movimiento_id:["",[l.Validators.required]]}},e.prototype.abrirModal=function(e){document.getElementById(e).classList.add("is-active")},e.prototype.cancelarModal=function(e){document.getElementById(e).classList.remove("is-active"),this.cant_solicitada_valida=!1,this.sum_cant_lotes=!1,this.modo="N",this.cantidad_error=0},e.prototype.select_insumo_autocomplete=function(e){var t=this,a=JSON.parse(localStorage.getItem("usuario"));this.cargando=!0,this.crudService.lista(0,1e3,"comprobar-stock?almacen="+a.almacen_activo.id+"&clave="+e.clave).subscribe(function(a){for(var n=[],r=0,i=t.dato.get("insumos").value;r<i.length;r++){var s=i[r];if(0===a.length)break;if(s.clave===a[0].clave_insumo_medico)for(var o=0,l=s.lotes;o<l.length;o++){for(var c=l[o],d=0,u=a;d<u.length;d++){var p=u[d];if(c.id===p.id)try{p.cantidad=c.cantidad,p.nueva_existencia=c.nueva_existencia}catch(e){console.log(e)}}1===c.nuevo&&n.push(c)}}try{if(n.length>0)for(var m=0,g=n;m<g.length;m++){s=g[m];a.push(s)}}catch(e){console.log(e)}t.lotes_insumo=a,t.insumo=e,document.getElementById("buscarInsumo").value="",document.getElementById("tituloModal").innerHTML=" "+e.descripcion+' <br>\n          <p aling="justify" style="font-size:12px">'+e.descripcion+'</p> \n          <p aling="justify" style="font-size:16px"> CANTIDAD POR ENVASE: \n          '+(e.cantidad_x_envase?e.cantidad_x_envase:"Sin especificar")+"</p>",t.es_unidosis=e.es_unidosis,t.unidad_medida=e.unidad_medida,t.cargando=!1,t.abrirModal("verLotes")},function(e){t.cargando=!1})},e.prototype.agregarLoteIsumo=function(){this.cantidad_error=0;for(var e=this.dato.controls.insumos,t={clave:this.insumo.clave,nombre:this.insumo.nombre,descripcion:this.insumo.descripcion,es_causes:this.insumo.es_causes,es_unidosis:this.insumo.es_unidosis,cantidad:1,presentacion_nombre:this.insumo.presentacion_nombre,unidad_medida:this.insumo.unidad_medida,cantidad_x_envase:this.insumo.cantidad_x_envase?parseInt(this.insumo.cantidad_x_envase):1,cantidad_surtida:1,lotes:this.fb.array([])},a=!1,n=0,r=0,i=e.value;r<i.length;r++){if((g=i[r]).clave===this.insumo.clave){!0,a=!0;break}n++}a||e.push(this.fb.group(t));var s=n,o=e.controls[s],l={showProgressBar:!0,pauseOnHover:!0,clickToClose:!0,maxLength:2e3};this.options={position:["bottom","left"],timeOut:5e3,lastOnBottom:!0};for(var c=!1,d=0,u=this.lotes_insumo;d<u.length;d++){(g=u[d]).cantidad<g.existencia&&null!==g.cantidad&&(c=!0)}for(var p=0,m=this.lotes_insumo;p<m.length;p++){var g;if((g=m[p]).cantidad>=0&&null!==g.cantidad){var f=!1;if(a)for(var h=0,v=o.controls.lotes.controls;h<v.length;h++){if((j=v[h]).controls.id.value===g.id){f=!0;var b=g.cantidad;if(j.controls.existencia.value<=b){var y=Number(j.controls.existencia.value)-1;this.notificacion.alert("Cantidad Inv\xe1lida","La cantidad m\xe1xima es: "+y,l),b=Number(j.controls.existencia.value)-1,this.cantidad_error++}j.controls.cantidad.patchValue(b),j.controls.nueva_existencia.patchValue(b);break}}if(!f)if(g.cantidad<g.existencia)o.controls.lotes.push(this.fb.group({id:g.id,ajuste:1,nueva_existencia:g.cantidad,nuevo:0|g.nuevo,codigo_barras:g.codigo_barras,lote:g.lote,fecha_caducidad:g.fecha_caducidad,cantidad:g.cantidad,existencia:g.nuevo?0:g.existencia}));else{y=Number(g.existencia)-1;this.notificacion.alert("Cantidad Inv\xe1lida","La cantidad m\xe1xima de "+g.lote+" es: "+y,l),this.cantidad_error++,a||c||e.removeAt(s)}}}for(var _=0,x=0,I=o.controls.lotes.value;x<I.length;x++){var j;_+=(j=I[x]).cantidad,j.cantidad}o.controls.cantidad_surtida.patchValue(_),0===this.cantidad_error&&this.cancelarModal("verLotes"),this.cancelarModal("negarExistencia")},e.prototype.validarLotesInsumo=function(){this.options={position:["bottom","left"],timeOut:5e3,lastOnBottom:!0},this.cantidad_error=0;for(var e=this.dato.controls.insumos,t={clave:this.insumo.clave,nombre:this.insumo.nombre,descripcion:this.insumo.descripcion,es_causes:this.insumo.es_causes,es_unidosis:this.insumo.es_unidosis,cantidad:1,presentacion_nombre:this.insumo.presentacion_nombre,unidad_medida:this.insumo.unidad_medida,cantidad_x_envase:this.insumo.cantidad_x_envase?parseInt(this.insumo.cantidad_x_envase):1,cantidad_surtida:1,lotes:this.fb.array([])},a=!1,n=!0,r=0,i=e.value;r<i.length;r++){if((l=i[r]).clave===this.insumo.clave){!0,a=!0;break}0}a||e.push(this.fb.group(t));for(var s=0,o=this.lotes_insumo;s<o.length;s++){var l;(l=o[s]).cantidad>=l.existencia&&(n=!1,a||e.removeAt(e.length-1),a||null!=l.cantidad||(l.cantidad=void 0))}n?this.agregarLoteIsumo():(this.mensajeResponse.titulo="Ajuste MENOS",this.mensajeResponse.texto="Verificar que las cantidades ingresadas sean menor a la existencia de su respectivo lote.",this.mensajeResponse.clase="warning",this.mensaje(8))},e.prototype.ver_lotes_asignados=function(e){this.mostrar_lote[e]=!this.mostrar_lote[e]},e.prototype.agregarNuevoLote=function(){this.lotes_insumo.push({id:""+Math.floor(999*Math.random())+1,codigo_barras:"",lote:"",fecha_caducidad:"",existencia:"",cantidad:"",nueva_existencia:"",nuevo:1,existencia_unidosis:"",cantidad_unidosis:""})},e.prototype.eliminarLote=function(e){this.lotes_insumo.splice(e,1)},e.prototype.quitar_lote_insumo=function(e,t,a){var n=this.dato.controls.insumos.controls[e];n.controls.lotes.removeAt(a);var r=n.controls.cantidad_surtida.value-t.cantidad;n.controls.cantidad_surtida.patchValue(r)},e.prototype.validar_cantidad_lote=function(e,t,a,n){if(null==t.controls.cantidad.value)this.notificacion.alert("Cantidad Inv\xe1lida","Verifique la cantidad ingresada en el lote: "+t.controls.lote.value,this.objeto);else if(t.controls.cantidad.value>=t.controls.existencia.value){var r=Number(t.controls.existencia.value)-1;this.notificacion.alert("Cantidad Inv\xe1lida","La cantidad m\xe1xima es: "+r,this.objeto);var i=Number(t.controls.existencia.value)-1;t.controls.cantidad.patchValue(i),t.controls.nueva_existencia.patchValue(i)}else t.controls.cantidad.patchValue(t.controls.cantidad.value),t.controls.nueva_existencia.patchValue(t.controls.cantidad.value);for(var s=this.dato.controls.insumos.controls[e],o=0,l=0,c=s.controls.lotes.value;l<c.length;l++){o+=c[l].cantidad}s.controls.cantidad_surtida.patchValue(o)},e.prototype.comprobar_cant_lotes=function(){for(var e=0,t=0,a=this.lotes_insumo;t<a.length;t++){var n=a[t];n.cantidad&&(e=Number(e)+Number(n.cantidad))}this.sum_cant_lotes=e>=0},e.prototype.comprobar_cant_solicitada=function(e){this.cant_solicitada_valida=e>0},e.prototype.quitar_punto=function(e){return!!this.is_numeric(e.key)},e.prototype.is_numeric=function(e){return/^\d+$/.test(e)},e.prototype.guardar_movimiento=function(){for(var e=!0,t=0,a=this.dato.controls.insumos.value;t<a.length;t++)for(var n=0,r=a[t].lotes;n<r.length;n++){null==r[n].cantidad&&(e=!1)}e?document.getElementById("guardarMovimiento").classList.add("is-active"):this.notificacion.alert("Cantidad Inv\xe1lida","Hay campos vac\xedos. Verifique las cantidades ingresadas.",this.objeto)},e.prototype.imprimir=function(){var e=JSON.parse(localStorage.getItem("usuario"));try{this.cargandoPdf=!0;var t={datos:this.dato.value,lista:this.dato.value.insumos,usuario:e};this.pdfworker.postMessage(JSON.stringify(t))}catch(e){this.cargandoPdf=!1}},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},e.prototype.handleKeyboardEvents=function(e){if(this.key=e.which||e.keyCode,13===e.keyCode)return document.getElementById("buscarInsumo").focus(),e.preventDefault(),!1},e.prototype.mensaje=function(e,t){void 0===e&&(e=6),void 0===t&&(t=["bottom","left"]);var a={showProgressBar:!0,pauseOnHover:!1,clickToClose:!0,maxLength:this.mensajeResponse.texto.length};this.options={position:t,timeOut:1e3*e,lastOnBottom:!0},""===this.mensajeResponse.titulo&&(this.mensajeResponse.titulo=this.titulo),"alert"===this.mensajeResponse.clase&&this.notificacion.alert(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"success"===this.mensajeResponse.clase&&this.notificacion.success(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"info"===this.mensajeResponse.clase&&this.notificacion.info(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"warning"!==this.mensajeResponse.clase&&"warn"!==this.mensajeResponse.clase||this.notificacion.warn(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"error"!==this.mensajeResponse.clase&&"danger"!==this.mensajeResponse.clase||this.notificacion.error(this.mensajeResponse.titulo,this.mensajeResponse.texto,a)},e=id([Object(n.Component)({selector:"app-ajuste-mas-formulario",template:a("MWIx"),styles:[a("qOWO")],styles:["ngui-auto-complete {z-index: 999999 !important}"],host:{"(document:keydown)":"handleKeyboardEvents($event)"}}),sd("design:paramtypes",[l.FormBuilder,gr,h.a,i.DomSanitizer,p.NotificationsService,n.NgZone])],e)}(),ld=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},cd=[{path:"inventario/ajuste-menos-inventario",children:[{path:"",component:rd,canActivate:[D],data:{key:"cE81erieaVjvmhcb9GCYI4doqYGtTcj1"}},{path:"nuevo",component:od,canActivate:[D],data:{key:"cE81erieaVjvmhcb9GCYI4doqYGtTcj1"}},{path:"ver/:id",component:od,canActivate:[D],data:{key:"cE81erieaVjvmhcb9GCYI4doqYGtTcj1"}}],canActivate:[M]}],dd=function(){function e(){}return e=ld([Object(n.NgModule)({imports:[h.c.forChild(cd)],exports:[h.c],providers:[]})],e)}(),ud=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},pd=function(){function e(){}return e=ud([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,dd,ee,de,fe,qe,je,bc,Ir,jr.NguiAutoCompleteModule,Oi.NguiDatetimePickerModule,p.SimpleNotificationsModule],declarations:[rd,od],providers:[_,gr]})],e)}(),md=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},gd=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},fd=function(){function e(e,t,a){var n=this;this._ngZone=e,this._sanitizer=t,this.crudService=a,this.fecha_desde="",this.fecha_hasta="",this.turno="",this.servicio="",this.clave_insumo="",this.movimiento="",this.insumos_term=v.API_URL+"/insumos-auto?term=:keyword",this.cargandoPdf=!1,this.autocompleListFormatter=function(e){console.log(e);var t='\n    <div class="card">\n      <div class="card-content">\n        <div class="media">          \n          <div class="media-content">\n            <p class="title is-4" style="color:black;"> <small>'+e.descripcion+'</small></p>\n            <p class="subtitle is-6" style="color:black;">\n              <strong style="color:black;">Clave: </strong> '+e.clave+"\n              ";return 1==e.es_causes&&(t+='<label class="tag is-success" style="color:black;"><strong style="color:black;">Cause </strong></label>'),0==e.es_causes&&(t+='<label class="tag" style="background: #B8FB7E; border-color: #B8FB7E; color: rgba(0,0,0,0.7);"><strong style="color:black;">No Cause </strong> </label>'),1==e.es_unidosis&&(t+='<label class="tag is-warning" ><strong style="color:black;">Unidosis</strong></label>'),t+="\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>",n._sanitizer.bypassSecurityTrustHtml(t)}}return e.prototype.ngOnInit=function(){this.usuario=JSON.parse(localStorage.getItem("usuario")),this.pdfworker=new Worker("web-workers/inventario/lista-correcciones.js");var e=this,t=this._ngZone;this.pdfworker.onmessage=function(a){t.run(function(){e.cargandoPdf=!1}),ft.saveAs(e.base64ToBlob(a.data.base64,"application/pdf"),a.data.fileName)}},e.prototype.select_insumo_autocomplete=function(e){var t=this,a=JSON.parse(localStorage.getItem("usuario"));this.clave_insumo=e.clave,this.cargando=!0,this.crudService.lista(0,1e3,"comprobar-stock?almacen="+a.almacen_activo.id+"&clave="+e.clave).subscribe(function(e){t.datos_insumo=e,t.cargando=!1},function(e){t.cargando=!1})},e.prototype.export_excel=function(){var e=this.tr.first.nativeElement.options,t=this.sr.first.nativeElement.options,a=this.mov.first.nativeElement.options;e=e[e.selectedIndex].text,t=t[t.selectedIndex].text,a=a[a.selectedIndex].text;var n="<table><tr><th colspan='7'><h1>Lista de correcciones</h1></th></tr><tr><th>Desde: "+this.fecha_desde+"</th><th>Hasta: "+this.fecha_hasta+"</th><th>Movimiento: "+a+"</th><th>Turno: "+e+"</th><th>Servicio: "+t+"</th><th>Insumo: "+this.clave_insumo+"</th></tr><tr><th colspan='7'></th></tr></table>";n+=document.getElementById("exportable").innerHTML;var r=new Blob([n],{type:"text/comma-separated-values;charset=utf-8"});try{ft.saveAs(r,"salida_estandar.xls")}catch(e){console.log(e)}},e.prototype.imprimir=function(){try{this.cargandoPdf=!0;var e=this.tr.first.nativeElement.options,t=this.sr.first.nativeElement.options,a=this.mov.first.nativeElement.options;e=e[e.selectedIndex].text,t=t[t.selectedIndex].text,a=a[a.selectedIndex].text;var n={lista:this.dato,usuario:this.usuario,fecha_desde:this.fecha_desde,fecha_hasta:this.fecha_hasta,turno:e,servicio:t,clave_insumo:this.clave_insumo,movimiento:a};this.pdfworker.postMessage(JSON.stringify(n))}catch(e){this.cargandoPdf=!1}},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},md([Object(n.ViewChildren)("tr"),gd("design:type",Object)],e.prototype,"tr",void 0),md([Object(n.ViewChildren)("sr"),gd("design:type",Object)],e.prototype,"sr",void 0),md([Object(n.ViewChildren)("mov"),gd("design:type",Object)],e.prototype,"mov",void 0),e=md([Object(n.Component)({selector:"app-correcciones-lista",template:a("o1Up")}),gd("design:paramtypes",[n.NgZone,i.DomSanitizer,gr])],e)}(),hd=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},vd=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},bd=function(){function e(e,t,a,n,r,i){var s=this;this.fb=e,this.crudService=t,this.route=a,this._sanitizer=n,this.notificacion=r,this._ngZone=i,this.modo="N",this.tab=1,this.cant_solicitada_valida=!1,this.sum_cant_lotes=!1,this.es_unidosis=!1,this.insumos_term=v.API_URL+"/insumos-auto?term=:keyword",this.MinDate=new Date,this.MaxDate=new Date,this.tieneid=!1,this.cargando=!1,this.lotes_insumo=[],this.options={position:["top","right"],timeOut:5e3,lastOnBottom:!0},this.mostrar_lote=[],this.cargandoPdf=!1,this.res_busq_insumos=[],this.objeto={showProgressBar:!0,pauseOnHover:!0,clickToClose:!0,maxLength:3e3},this.autocompleListFormatter=function(e){var t='\n    <div class="card">\n      <div class="card-content">\n        <div class="media">          \n          <div class="media-content">\n            <p class="title is-4"> <small>'+e.descripcion+'</small></p>\n            <p class="subtitle is-6">\n              <strong>Clave: </strong> '+e.clave+") \n              ";return 1==e.es_causes&&(t+='<label class="tag is-success" ><strong>Cause </strong></label>'),0==e.es_causes&&(t+='<label class="tag" style="background: #B8FB7E; border-color: #B8FB7E; color: rgba(0,0,0,0.7);"><strong>No Cause </strong> </label>'),1==e.es_unidosis&&(t+='<label class="tag is-warning" ><strong>Unidosis</strong></label>'),t+="\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>",s._sanitizer.bypassSecurityTrustHtml(t)}}return e.prototype.ngOnInit=function(){var e=this;this.usuario=JSON.parse(localStorage.getItem("usuario")),document.getElementById("catalogos").click(),document.getElementById("actualizar").click(),this.usuario.clues_activa&&(this.insumos_term+="&clues="+this.usuario.clues_activa.clues),this.usuario.almacen_activo&&(this.insumos_term+="&almacen="+this.usuario.almacen_activo.id),this.pdfworker=new Worker("web-workers/farmacia/movimientos/salida.js");var t=this,a=this._ngZone;this.pdfworker.onmessage=function(e){a.run(function(){t.cargandoPdf=!1}),ft.saveAs(t.base64ToBlob(e.data.base64,"application/pdf"),e.data.fileName)},this.dato=this.fb.group({id:[""],tipo_movimiento_id:["2",[l.Validators.required]],status:["FI"],fecha_movimiento:["",[l.Validators.required]],observaciones:[""],cancelado:[""],observaciones_cancelacion:[""],movimiento_metadato:this.fb.group({turno_id:["",[l.Validators.required]],servicio_id:["",[l.Validators.required]],persona_recibe:["",[l.Validators.required]]}),insumos:this.fb.array([]),insumos_negados:this.fb.array([])}),this.route.params.subscribe(function(t){t.id&&(e.tieneid=!0)}),this.form_insumos={tipo_movimiento_id:["",[l.Validators.required]]};var n=new Date;this.MinDate=new Date(n.getFullYear()-1,0,1),this.MaxDate=new Date(n.getFullYear(),n.getMonth(),n.getDate()),this.dato.get("fecha_movimiento").value?this.fecha_actual=this.dato.get("fecha_movimiento").value:(this.fecha_actual=n.getFullYear()+"-"+("00"+(n.getMonth()+1)).slice(-2)+"-"+n.getDate(),this.dato.get("fecha_movimiento").patchValue(this.fecha_actual))},e.prototype.abrirModal=function(e){document.getElementById(e).classList.add("is-active")},e.prototype.cancelarModal=function(e){document.getElementById(e).classList.remove("is-active"),this.lotes_insumo=[],this.sum_cant_lotes=!1,this.cant_solicitada_valida=!1,document.getElementById("tituloInsumoCorrecto").innerHTML=""},e.prototype.enviarAutocomplete=function(e){var t=this;this.cargando=!0;var a="";this.usuario.clues_activa&&(a+="&clues="+this.usuario.clues_activa.clues),this.usuario.almacen_activo&&(a+="&almacen="+this.usuario.almacen_activo.id);v.API_URL;this.crudService.busquedaInsumos(e,"insumos-auto").subscribe(function(e){t.cargando=!1,t.res_busq_insumos=e,0===t.res_busq_insumos.length&&t.notificacion.warn("Insumos","No hay resultados que coincidan",t.objeto)})},e.prototype.select_insumo_autocomplete=function(e){var t=this;this.lotes_insumo=[],this.cargando=!0,this.sum_cant_lotes=!1,this.cant_solicitada_valida=!1,this.crudService.lista(0,1e3,"comprobar-stock?almacen="+this.usuario.almacen_activo.id+"&clave="+e.clave).subscribe(function(a){a.length>0?t.clave_insumo_incorrecto===a[0].clave_insumo_medico?(console.log("La clave es igual",t.clave_insumo_incorrecto),document.getElementById("tituloInsumoCorrecto").innerHTML='<p aling="justify" style="font-size:20px; color: red"> \n            <strong> Acci\xf3n incorrecta </strong> </p>\n            <p aling="justify" style="font-size:16px">La clave que ingres\xf3 es la misma que va a corregir.</p> \n            <p aling="justify" style="font-size:16px"> <strong>Ingrese la clave del insumo correcto<strong> </p>'):(document.getElementById("tituloInsumoCorrecto").innerHTML='<p aling="justify" style="font-size:20px"> \n              <strong> '+e.descripcion+' </strong> </p>\n              <p aling="justify" style="font-size:14px">'+e.descripcion+'</p> \n              <p aling="justify" style="font-size:18px"> CANTIDAD POR ENVASE:\n              '+(e.cantidad_x_envase?e.cantidad_x_envase:"Sin especificar")+"</p>",t.lotes_insumo=a,t.insumo=e):document.getElementById("tituloInsumoCorrecto").innerHTML='<p aling="justify" style="font-size:20px; color: red"> \n          <strong> Acci\xf3n incorrecta </strong> </p>\n          <p aling="justify" style="font-size:16px">Este insumo no tiene lotes disponibles para este almac\xe9n.</p> \n          <p aling="justify" style="font-size:16px"> <strong>Ingrese la clave del insumo correcto.<strong> </p>',document.getElementById("buscarInsumo").value="",t.res_busq_insumos=[],t.es_unidosis=e.es_unidosis,t.unidad_medida=e.unidad_medida,t.cargando=!1},function(e){t.cargando=!1})},e.prototype.agregarLoteInsumo=function(){var e=this.dato.controls.insumos;console.log(this.insumo_a_cambiar);for(var t={clave:this.insumo.clave,nombre:this.insumo.nombre,descripcion:this.insumo.descripcion,es_causes:this.insumo.es_causes,es_unidosis:this.insumo.es_unidosis,cantidad:1,presentacion_nombre:this.insumo.presentacion_nombre,unidad_medida:this.insumo.unidad_medida,cantidad_x_envase:this.insumo.cantidad_x_envase?Number(this.insumo.cantidad_x_envase):1,cantidad_surtida:1,modo_salida:this.modo,lotes:this.fb.array([]),clave_correcta:this.insumo_a_cambiar.clave,nombre_correcta:this.insumo_a_cambiar.nombre,descripcion_correcta:this.insumo_a_cambiar.descripcion,es_causes_correcta:this.insumo_a_cambiar.es_causes,es_unidosis_correcta:this.insumo_a_cambiar.es_unidosis,cantidad_correcta:1,presentacion_nombre_correcta:this.insumo_a_cambiar.presentacion_nombre,unidad_medida_correcta:this.insumo_a_cambiar.unidad_medida,cantidad_x_envase_correcta:this.insumo_a_cambiar.cantidad_x_envase?Number(this.insumo_a_cambiar.cantidad_x_envase):1,cantidad_surtida_correcta:1,modo_salida_correcta:this.modo,lotes_correctos:this.fb.array([])},a=!1,n=0,r=0,i=e.value;r<i.length;r++){if((d=i[r]).clave===this.insumo.clave&&d.modo_salida===this.modo){a=!0;break}n++}a||(console.log(t),e.push(this.fb.group(t)));var s=n,o=e.controls[s];this.mostrar_lote[s]=!1;for(var l=0,c=this.lotes_insumo;l<c.length;l++){var d;if((d=c[l]).cantidad>0){var u=!1;if(a)for(var p=0,m=o.controls.lotes_correctos.controls;p<m.length;p++){if((b=m[p]).controls.id.value===d.id){u=!0;var g=b.controls.cantidad.value+d.cantidad;b.controls.cantidad.value,d.cantidad;"N"===this.modo&&g>b.controls.existencia.value&&(this.notificacion.alert("Cantidad Excedida","La cantidad maxima es: "+b.controls.existencia.value,this.objeto),g=1*b.controls.existencia.value),"U"===this.modo&&g>b.controls.existencia_unidosis.value&&(this.notificacion.alert("Cantidad Excedida","La cantidad maxima es: "+b.controls.existencia_unidosis.value,this.objeto),g=1*b.controls.existencia_unidosis.value),b.controls.cantidad.patchValue(g);break}}u||(d.nuevo&&(d.existencia=1*d.cantidad),"N"===this.modo&&d.cantidad>d.existencia&&(this.notificacion.alert("Cantidad Excedida","La cantidad maxima es: "+d.existencia,this.objeto),d.cantidad=1*d.existencia),"U"===this.modo&&d.cantidad>d.existencia_unidosis&&(this.notificacion.alert("Cantidad Excedida","La cantidad maxima es: "+d.existencia_unidosis,this.objeto),d.cantidad=1*d.existencia_unidosis),console.log(o),o.controls.lotes_correctos.push(this.fb.group({id:d.id,nuevo:0|d.nuevo,codigo_barras:d.codigo_barras,lote:d.lote,fecha_caducidad:d.fecha_caducidad,existencia:d.nuevo?d.cantidad:d.existencia,cantidad:d.cantidad,existencia_unidosis:d.nuevo?d.cantidad:d.existencia_unidosis,modo_salida:this.modo})))}}for(var f=0,h=0,v=o.controls.lotes_correctos.value;h<v.length;h++){var b;f+=(b=v[h]).cantidad,b.cantidad}"N"===o.controls.modo_salida.value&&(o.controls.cantidad_surtida.patchValue(f),a&&console.log("Cantidad surtida con normal")),"U"===o.controls.modo_salida.value&&(o.controls.cantidad_surtida.patchValue(f),a&&console.log("Cantidad surtida con unidosis")),this.cancelarModal("actualizarInsumo"),this.cancelarModal("negarExistencia"),this.cant_solicitada_valida=!1,this.sum_cant_lotes=!1,this.modo="N"},e.prototype.ver_lotes_asignados=function(e){this.mostrar_lote[e]=!this.mostrar_lote[e]},e.prototype.agregarNuevoLote=function(){this.lotes_insumo.push({id:""+Math.floor(999*Math.random())+1,codigo_barras:"",lote:"",fecha_caducidad:"",existencia:"",cantidad:"",nuevo:1,existencia_unidosis:"",cantidad_unidosis:""})},e.prototype.eliminarLote=function(e){this.lotes_insumo.splice(e,1)},e.prototype.quitar_lote_insumo=function(e,t,a){var n=this.dato.controls.insumos.controls[e];n.controls.lotes.removeAt(a);var r=n.controls.cantidad_surtida.value-t.cantidad;n.controls.cantidad_surtida.patchValue(r)},e.prototype.validar_cantidad_lote=function(e,t,a,n){"N"===n&&t.controls.cantidad.value>t.controls.existencia.value&&(this.notificacion.alert("Cantidad Excedida","La cantidad maxima es: "+t.controls.existencia.value,this.objeto),t.controls.cantidad.patchValue(1*t.controls.existencia.value)),"U"===n&&t.controls.cantidad.value>t.controls.existencia_unidosis.value&&(this.notificacion.alert("Cantidad Excedida","La cantidad maxima es: "+t.controls.existencia_unidosis.value,this.objeto),t.controls.cantidad.patchValue(1*t.controls.existencia_unidosis.value));for(var r=this.dato.controls.insumos.controls[e],i=0,s=0,o=r.controls.lotes.value;s<o.length;s++){i+=o[s].cantidad}r.controls.cantidad_surtida.patchValue(i)},e.prototype.comprobar_cant_lotes=function(){for(var e=0,t=0,a=0,n=this.lotes_insumo;a<n.length;a++){var r=n[a];if(r.cantidad){if(this.lotes_insumo[t].cantidad>this.lotes_insumo[t].existencia)return this.sum_cant_lotes=!1,!1;e=Number(e)+Number(r.cantidad)}t++}e===this.cantidad_total?this.sum_cant_lotes=!0:this.sum_cant_lotes=!1},e.prototype.comprobar_cant_solicitada=function(e){this.cant_solicitada_valida=e>0},e.prototype.quitar_punto=function(e){return!!this.is_numeric(e.key)},e.prototype.is_numeric=function(e){return/^\d+$/.test(e)},e.prototype.guardar_movimiento=function(){document.getElementById("guardarMovimiento").classList.add("is-active")},e.prototype.cambiarInsumos=function(e){this.insumo_a_cambiar=e,this.lotes_a_cambiar=e.lotes,this.clave_insumo_incorrecto=e.clave,this.cantidad_total=Number(e.cantidad),document.getElementById("tituloInsumo").innerHTML='<p aling="justify" style="font-size:18px"> \n      <strong> '+e.descripcion+' </strong> </p>\n      <p aling="justify" style="font-size:12px">'+e.descripcion+'</p> \n      <p aling="justify" style="font-size:16px"> CANTIDAD POR ENVASE:\n      '+(null==e.detalles?"Sin especificar":e.detalles.informacion_ampliada=null==e.detalles.informacion_ampliada.cantidad_x_envase?e.detalles.informacion_ampliada.cantidad_x_envase:"Sin especificar")+"</p>",this.abrirModal("actualizarInsumo")},e.prototype.imprimir=function(){for(var e,t,a=0,n=this.array_turnos.clues_turnos;a<n.length;a++){var r=n[a];if(this.dato.value.movimiento_metadato.turno_id===r.id){e=r;break}}for(var i=0,s=this.array_servicios.clues_servicios;i<s.length;i++){r=s[i];if(this.dato.value.movimiento_metadato.servicio_id===r.id){t=r;break}}try{this.cargandoPdf=!0;var o={datos:this.dato.value,lista:this.dato.value.insumos,turno:e,servicio:t,usuario:this.usuario};this.pdfworker.postMessage(JSON.stringify(o))}catch(e){this.cargandoPdf=!1}},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},hd([Object(n.ViewChildren)("cantidad_solicitada_unidosis"),vd("design:type",Object)],e.prototype,"cantidad_solicitada_unidosisBoxViewChildren",void 0),e=hd([Object(n.Component)({selector:"app-correcciones-formulario",template:a("90xC"),styles:[a("qOWO")],styles:["ngui-auto-complete {z-index: 999999 !important}"]}),vd("design:paramtypes",[l.FormBuilder,gr,h.a,i.DomSanitizer,p.NotificationsService,n.NgZone])],e)}(),yd=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},_d=[{path:"inventario/correcciones",children:[{path:"",component:fd,canActivate:[D],data:{key:"IVgehpUXTeMa5k9BT8uqfEyayEVyxJuD"}},{path:"nuevo",component:bd,canActivate:[D],data:{key:"IVgehpUXTeMa5k9BT8uqfEyayEVyxJuD"}},{path:"ver/:id",component:bd,canActivate:[D],data:{key:"IVgehpUXTeMa5k9BT8uqfEyayEVyxJuD"}}],canActivate:[M]}],xd=function(){function e(){}return e=yd([Object(n.NgModule)({imports:[h.c.forChild(_d)],exports:[h.c],providers:[]})],e)}(),Id=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},jd=function(){function e(){}return e=Id([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,xd,ee,de,fe,qe,je,bc,Ir,jr.NguiAutoCompleteModule,Oi.NguiDatetimePickerModule],declarations:[fd,bd],providers:[_,gr]})],e)}(),kd=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Cd=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ed=function(){function e(e,t){this._ngZone=e,this.crudService=t,this.fecha_desde="",this.fecha_hasta="",this.tipo=1,this.clave_insumo="",this.cargandoPdf=!1}return e.prototype.ngOnInit=function(){this.usuario=JSON.parse(localStorage.getItem("usuario")),this.pdfworker=new Worker("web-workers/farmacia/movimientos/lista-recetas.js");var e=this,t=this._ngZone;this.pdfworker.onmessage=function(a){t.run(function(){e.cargandoPdf=!1}),ft.saveAs(e.base64ToBlob(a.data.base64,"application/pdf"),a.data.fileName)}},e.prototype.export_excel=function(){var e="<table><tr><th colspan='7'><h1>Salida por Receta</h1></th></tr><tr><th></th></tr><tr><th colspan='7'></th></tr></table>";e+=document.getElementById("exportable").innerHTML;var t=new Blob([e],{type:"text/comma-separated-values;charset=utf-8"});try{ft.saveAs(t,"Listado_salida_por_receta.xls")}catch(e){console.log(e)}},e.prototype.imprimir=function(){var e=this;this.crudService.lista_general("movimientos?tipo="+this.tipo+"&fecha_desde="+this.fecha_desde+"&fecha_hasta="+this.fecha_hasta+"&clave_insumo="+this.clave_insumo).subscribe(function(t){e.cargando=!1,e.lista_impresion=t;try{e.cargandoPdf=!0;var a={lista:e.lista_impresion,usuario:e.usuario};e.pdfworker.postMessage(JSON.stringify(a))}catch(t){e.cargandoPdf=!1}},function(e){})},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},e=kd([Object(n.Component)({selector:"app-movimientos-lista",template:a("pDQE")}),Cd("design:paramtypes",[n.NgZone,gr])],e)}(),Pd=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},qd=[{path:"inventario/movimientos-generales",children:[{path:"",component:Ed,canActivate:[D],data:{key:"arxliSoSCp1HEYcgr2pEeyeHP0u4TbWd"}}],canActivate:[M]}],Ad=function(){function e(){}return e=Pd([Object(n.NgModule)({imports:[h.c.forChild(qd)],exports:[h.c],providers:[]})],e)}(),wd=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Sd=function(){function e(){}return e=wd([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,Ad,ee,de,fe,qe,je,bc,Ir,jr.NguiAutoCompleteModule,Oi.NguiDatetimePickerModule],declarations:[Ed],providers:[_,gr]})],e)}(),Rd=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Od=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Nd=function(){function e(e,t,a,n,r,i){var s=this;this.router=e,this.crudService=t,this._sanitizer=a,this._ngZone=n,this.notificacion=r,this.route=i,this.clave_insumo="",this.tipo_insumo="TODOS",this.tipo_causes="TODOS",this.tipo_controlado="TODOS",this.tipo_busqueda="TODO",this.buscar_en="TODAS_LAS_CLAVES",this.seleccionar="TODO",this.tipo="TODO",this.cargandoPdf=!1,this.mensajeResponse=new Ae,this.options={position:["bottom","right"],timeOut:2e3,lastOnBottom:!0},this.insumos_term=v.API_URL+"/insumos-auto?term=:keyword",this.autocompleListFormatter=function(e){var t=' \n    <div class="card">\n      <div class="card-content">\n        <div class="media">          \n          <div class="media-content">\n            <p class="title is-4" style="color:black;"> <small>'+e.descripcion+'</small></p>\n            <br>\n            <p class="subtitle is-6" style="color:black;">\n              <strong style="color:black;">Clave: </strong> '+e.clave+"\n            </p>\n            <p>\n              ";return 1==e.es_causes&&(t+='<label class="tag is-success" style="color:black;"><strong style="color:black;">Cause </strong></label>'),0==e.es_causes&&(t+='<label class="tag" style="background: #B8FB7E; border-color: #B8FB7E; color: rgba(0,0,0,0.7);"><strong style="color:black;">No Cause </strong> </label>'),1==e.es_unidosis&&(t+='<label class="tag is-warning" ><strong style="color:black;">Unidosis</strong></label>'),t+="\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>",s._sanitizer.bypassSecurityTrustHtml(t)}}return e.prototype.ngOnInit=function(){var e=this;this.usuario=JSON.parse(localStorage.getItem("usuario")),this.pdfworker=new Worker("web-workers/inventario/lista-existencias.js");var t=this,a=this._ngZone;this.pdfworker.onmessage=function(e){a.run(function(){t.cargandoPdf=!1}),ft.saveAs(t.base64ToBlob(e.data.base64,"application/pdf"),e.data.fileName)},this.route.params.subscribe(function(t){e.tipo_busqueda=t.tipo_busqueda,setTimeout(function(){document.getElementById("listarCaducidades").click()},500)}),this.fecha_optima=Io().add(365,"days").format("YYYY-MM-DD"),this.fecha_media=Io().add(183,"days").format("YYYY-MM-DD"),this.fecha_hoy=Io().format("YYYY-MM-DD")},e.prototype.select_insumo_autocomplete=function(e){var t=this,a=JSON.parse(localStorage.getItem("usuario"));e.clave_insumo_medico?this.clave_insumo=e.clave_insumo_medico:this.clave_insumo=e.clave,this.cargando=!0,this.crudService.lista(0,1e3,"comprobar-stock?almacen="+a.almacen_activo.id+"&clave="+this.clave_insumo).subscribe(function(a){t.lotes_insumo=a,t.es_unidosis=e.es_unidosis,t.unidad_medida=e.unidad_medida;var n="";1==e.es_causes&&(n+='<label class="tag is-success" ><strong>Causes </strong></label>'),0==e.es_causes&&(n+='<label class="tag" style="background: #B8FB7E; border-color: #B8FB7E; color: rgba(0,0,0,0.7);"><strong>No Causes </strong> </label>'),1==e.es_unidosis&&(n+='<label class="tag is-warning" ><strong>Unidosis</strong></label>'),document.getElementById("tituloModal").innerHTML=" "+e.descripcion+' <br>\n          <p aling="justify" style="font-size:14px">'+t.clave_insumo+'</p> \n          <p aling="justify" style="font-size:12px"> CANTIDAD POR ENVASE: '+(e.cantidad_x_envase?e.cantidad_x_envase:"Sin especificar")+" </p>\n          <br>\n          "+n,t.cargando=!1,t.abrirModal("verLotes")},function(e){t.cargando=!1})},e.prototype.abrirModal=function(e){document.getElementById(e).classList.add("is-active")},e.prototype.cancelarModal=function(e){document.getElementById(e).classList.remove("is-active")},e.prototype.export_excel=function(){var e=this.t.first.nativeElement.options,t=this.s.first.nativeElement.options,a="<table><tr><th colspan='7'><h1>Existencias</h1></th></tr><tr><th>Claves: "+("TODAS_LAS_CLAVES"===this.buscar_en?"Todas las claves":"Mis claves")+"</th><th>Insumo: "+(e=e[e.selectedIndex].text)+"</th><th>Existencia: "+(t=t[t.selectedIndex].text)+"</th></tr><tr><th colspan='7'></th></tr></table>";a+=document.getElementById("exportable").innerHTML;var n=new Blob([a],{type:"text/comma-separated-values;charset=utf-8"});try{ft.saveAs(n,"Lista_existencias.xls")}catch(e){console.log(e)}},e.prototype.imprimirExcel=function(){var e,t=JSON.parse(localStorage.getItem("usuario"));t.clues_activa&&(e="&clues="+t.clues_activa.clues),t.almacen_activo&&(e+="&almacen="+t.almacen_activo.id);var a="token="+localStorage.getItem("token");window.open(v.API_URL+"/caducidad-insumos?"+a+e+"&\n    tipo_busqueda="+this.tipo_busqueda+"&buscar_en="+this.buscar_en+"&tipo_insumo="+this.tipo_insumo+"\n    &tipo_causes="+this.tipo_causes+"&tipo_controlado="+this.tipo_controlado+"&clave_insumo="+this.clave_insumo)},e.prototype.imprimir=function(){var e=this;this.cargandoPdf=!0;var t=JSON.parse(localStorage.getItem("usuario"));this.crudService.lista_general("inventario-insumos?buscar_en="+this.buscar_en+"&seleccionar="+this.seleccionar+"&tipo="+this.tipo).subscribe(function(a){e.cargando=!1,e.lista_impresion=a;var n=e.t.first.nativeElement.options,r=e.s.first.nativeElement.options;n=n[n.selectedIndex].text,r=r[r.selectedIndex].text;try{var i={lista:e.lista_impresion,usuario:t,buscar_en:e.buscar_en,seleccionar:r,tipo:n};e.pdfworker.postMessage(JSON.stringify(i))}catch(t){e.cargandoPdf=!1}},function(t){try{t.json();401==t.status&&(e.mensajeResponse.texto="No tiene permiso para hacer esta operaci\xf3n.",e.mensajeResponse.clase="danger",e.mensaje(2))}catch(a){500==t.status?e.mensajeResponse.texto="500 (Error interno del servidor)":e.mensajeResponse.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir.",e.mensajeResponse.clase="danger",e.mensaje(2)}})},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},e.prototype.mensaje=function(e,t){void 0===e&&(e=6),void 0===t&&(t=["bottom","left"]);var a={showProgressBar:!0,pauseOnHover:!1,clickToClose:!0,maxLength:this.mensajeResponse.texto.length};this.options={position:t,timeOut:1e3*e,lastOnBottom:!0},""===this.mensajeResponse.titulo&&(this.mensajeResponse.titulo="Entradas de medicamentos"),"alert"===this.mensajeResponse.clase&&this.notificacion.alert(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"success"===this.mensajeResponse.clase&&this.notificacion.success(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"info"===this.mensajeResponse.clase&&this.notificacion.info(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"warning"!==this.mensajeResponse.clase&&"warn"!==this.mensajeResponse.clase||this.notificacion.warn(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"error"!==this.mensajeResponse.clase&&"danger"!==this.mensajeResponse.clase||this.notificacion.error(this.mensajeResponse.titulo,this.mensajeResponse.texto,a)},Rd([Object(n.ViewChildren)("t"),Od("design:type",Object)],e.prototype,"t",void 0),Rd([Object(n.ViewChildren)("s"),Od("design:type",Object)],e.prototype,"s",void 0),Rd([Object(n.ViewChildren)("claves"),Od("design:type",Object)],e.prototype,"claves",void 0),e=Rd([Object(n.Component)({selector:"inventario-lista",template:a("hU3i")}),Od("design:paramtypes",[h.b,gr,i.DomSanitizer,n.NgZone,p.NotificationsService,h.a])],e)}(),Md=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Bd=[{path:"inventario/monitor-caducidades",redirectTo:"/inventario/monitor-caducidades/TODO",pathMatch:"full",canActivate:[D],data:{key:"xYbpHsWi4HGSXQDUmG7fcJT8ZzcZKqyb"}},{path:"inventario/monitor-caducidades",children:[{path:":tipo_busqueda",component:Nd}],canActivate:[M,D],data:{key:"xYbpHsWi4HGSXQDUmG7fcJT8ZzcZKqyb"}}],Fd=function(){function e(){}return e=Md([Object(n.NgModule)({imports:[h.c.forChild(Bd)],exports:[h.c],providers:[]})],e)}(),Dd=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Ld=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Td=function(){function e(){this.tamano=document.body.clientHeight,this.usuario={},this.menu=[],this.menuAutorizado=[]}return e.prototype.ngOnInit=function(){var e=JSON.parse(localStorage.getItem("usuario")).permisos.split("|");if(this.menu=[{titulo:"Caducidades",modulos:[{permiso:"xYbpHsWi4HGSXQDUmG7fcJT8ZzcZKqyb",icono:"assets/icono-todo.svg",titulo:"Todo",url:"/inventario/monitor-caducidades/TODO"},{permiso:"xYbpHsWi4HGSXQDUmG7fcJT8ZzcZKqyb",icono:"assets/icono-green.svg",titulo:"\xd3ptima",url:"/inventario/monitor-caducidades/OPTIMA"},{permiso:"xYbpHsWi4HGSXQDUmG7fcJT8ZzcZKqyb",icono:"assets/icono-yellow.svg",titulo:"Media",url:"/inventario/monitor-caducidades/MEDIA"},{permiso:"xYbpHsWi4HGSXQDUmG7fcJT8ZzcZKqyb",icono:"assets/icono-red.svg",titulo:"Pr\xf3xima a caducar",url:"/inventario/monitor-caducidades/PROXIMA"},{permiso:"xYbpHsWi4HGSXQDUmG7fcJT8ZzcZKqyb",icono:"assets/icono-black.svg",titulo:"Caducados",url:"/inventario/monitor-caducidades/CADUCADO"}]}],e.length>0)for(var t in this.menu)for(var a in this.menu[t].modulos)e:for(var n in e)if(e[n]==this.menu[t].modulos[a].permiso){this.initMenuAutorizadoPorItem(this.menu[t].titulo).modulos.push(this.menu[t].modulos[a]);break e}},e.prototype.initMenuAutorizadoPorItem=function(e){for(var t in this.menuAutorizado)if(e==this.menuAutorizado[t].titulo)return this.menuAutorizado[t];return this.menuAutorizado.push({titulo:e,modulos:[]}),this.menuAutorizado[this.menuAutorizado.length-1]},e=Dd([Object(n.Component)({selector:"panel-control-menu-aside",template:a("zRzf"),styles:[a("ubV5")]}),Ld("design:paramtypes",[])],e)}(),zd=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Ud=function(){function e(){}return e=zd([Object(n.NgModule)({imports:[o.CommonModule,h.c],exports:[Td],declarations:[Td]})],e)}(),Vd=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Gd=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Yd=function(){function e(){}return e.prototype.ngOnInit=function(){var e=location.href.split("/");this.carpeta=e[4],this.modulo=e[5],this.url_nuevo="/"+this.carpeta+"/"+this.modulo+"/nuevo"},Vd([Object(n.Input)(),Gd("design:type",Object)],e.prototype,"ctrl",void 0),e=Vd([Object(n.Component)({selector:"formulario-opciones",template:a("2PdU")})],e)}(),Hd=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Jd=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},$d=function(){function e(e,t,a,n){this._ngZone=e,this.crudService=t,this.notificacion=a,this.activatedRoute=n,this.mostrar_nombre=!0,this.nuevo=!0,this.icono="fa fa-list",this.buscar_en="TODAS_LAS_CLAVES",this.tipo_busqueda="TODO",this.tipo_causes="TODO",this.tipo_insumo="TODO",this.clave_insumo="",this.tipo_controlado="TODO",this.options={position:["top","right"],timeOut:5e3,lastOnBottom:!0},this.mensajeResponse=new Ae(!0),this.url_nuevo=""}return e.prototype.ngOnInit=function(){var e=this;this.usuario=JSON.parse(localStorage.getItem("usuario"));var t=location.href.split("/");this.carpeta=t[4],this.modulo=t[5],this.url_nuevo="/"+this.carpeta+"/"+this.modulo+"/nuevo",this.pdfworker=new Worker("web-workers/"+this.ruta_pdf);var a=this,n=this._ngZone;this.pdfworker.onmessage=function(e){n.run(function(){a.cargandoPdf=!1}),ft.saveAs(a.base64ToBlob(e.data.base64,"application/pdf"),e.data.fileName)},this.activatedRoute.params.subscribe(function(t){e.tipo_busqueda=t.tipo_busqueda})},e.prototype.imprimirExcel=function(){var e,t=JSON.parse(localStorage.getItem("usuario"));t.clues_activa&&(e="&clues="+t.clues_activa.clues),t.almacen_activo&&(e+="&almacen="+t.almacen_activo.id);var a="token="+localStorage.getItem("token");window.open(v.API_URL+"/caducidad-insumos?"+a+e+"&\n    tipo_busqueda="+this.tipo_busqueda+"&buscar_en="+this.buscar_en+"&tipo_insumo="+this.tipo_insumo+"\n    &tipo_causes="+this.tipo_causes+"&tipo_controlado="+this.tipo_controlado+"&clave_insumo="+this.clave_insumo)},e.prototype.imprimir=function(){var e=this;this.cargandoPdf=!0,this.crudService.lista_general(this.ruta).subscribe(function(t){e.lista_impresion=t;try{var a={usuario:e.usuario,lista:e.lista_impresion,buscar_en:e.buscar_en,tipo_busqueda:e.tipo_busqueda,tipo_causes:e.tipo_causes,tipo_insumo:e.tipo_insumo,clave_insumo:e.clave_insumo,tipo_controlado:e.tipo_controlado};e.pdfworker.postMessage(JSON.stringify(a))}catch(t){e.cargandoPdf=!1}},function(t){e.cargandoPdf=!1,e.mensajeResponse.mostrar=!0;try{t.json();401===t.status&&(e.mensajeResponse.texto="No tiene permiso para hacer esta operaci\xf3n.",e.mensajeResponse.clase="danger",e.mensaje(2)),404===t.status&&(e.mensajeResponse.texto="P\xe1gina no encontrada, contacte al administrador.",e.mensajeResponse.clase="danger",e.mensaje(2))}catch(a){500==t.status?e.mensajeResponse.texto="500 (Error interno del servidor)":e.mensajeResponse.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir.",e.mensajeResponse.clase="danger",e.mensaje(2)}})},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},e.prototype.mensaje=function(e,t){void 0===e&&(e=6),void 0===t&&(t=["bottom","left"]);var a={showProgressBar:!0,pauseOnHover:!1,clickToClose:!0,maxLength:this.mensajeResponse.texto.length};this.options={position:t,timeOut:1e3*e,lastOnBottom:!0},""==this.mensajeResponse.titulo&&(this.mensajeResponse.titulo=this.nombre),"alert"==this.mensajeResponse.clase&&this.notificacion.alert(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"success"==this.mensajeResponse.clase&&this.notificacion.success(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"info"==this.mensajeResponse.clase&&this.notificacion.info(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"warning"!=this.mensajeResponse.clase&&"warn"!=this.mensajeResponse.clase||this.notificacion.warn(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"error"!=this.mensajeResponse.clase&&"danger"!=this.mensajeResponse.clase||this.notificacion.error(this.mensajeResponse.titulo,this.mensajeResponse.texto,a)},Hd([Object(n.Input)(),Jd("design:type",Boolean)],e.prototype,"excel_export",void 0),Hd([Object(n.Input)(),Jd("design:type",Object)],e.prototype,"ctrl",void 0),Hd([Object(n.Input)(),Jd("design:type",Object)],e.prototype,"nombre",void 0),Hd([Object(n.Input)(),Jd("design:type",Object)],e.prototype,"mostrar_nombre",void 0),Hd([Object(n.Input)(),Jd("design:type",Object)],e.prototype,"nuevo",void 0),Hd([Object(n.Input)(),Jd("design:type",Boolean)],e.prototype,"busqueda",void 0),Hd([Object(n.Input)(),Jd("design:type",Object)],e.prototype,"icono",void 0),Hd([Object(n.Input)(),Jd("design:type",String)],e.prototype,"ruta",void 0),Hd([Object(n.Input)(),Jd("design:type",String)],e.prototype,"ruta_pdf",void 0),e=Hd([Object(n.Component)({selector:"app-tabla-opciones-inventario",template:a("N1Pb")}),Jd("design:paramtypes",[n.NgZone,gr,p.NotificationsService,h.a])],e)}(),Kd=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Xd=function(){function e(){}return e=Kd([Object(n.NgModule)({imports:[o.CommonModule,h.c],declarations:[Yd,$d],exports:[Yd,$d]})],e)}(),Zd=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Qd=function(){function e(){}return e=Zd([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,Fd,ee,de,fe,qe,Xd,je,bc,Ud,Ir,jr.NguiAutoCompleteModule,Oi.NguiDatetimePickerModule],declarations:[Nd],providers:[_,gr]})],e)}(),Wd=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},eu=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},tu=function(){function e(e,t,a,n,r){this.fb=e,this.notificacion=t,this.route=a,this.crudService=n,this._ngZone=r,this.cargarInventario=!0,this.total_precio=0,this.total_iva=0,this.subtotal_precios=0,this.es_unidosis=!1,this.cat=[],this.cargando=!1,this.tamano=document.body.clientHeight,this.lista_programas=[],this.cargandoCatalogo=!1,this.insumos_term=v.API_URL+"/insumos-auto?term=:keyword",this.res_busq_insumos=[],this.objeto={showProgressBar:!0,pauseOnHover:!0,clickToClose:!0,maxLength:3e3},this.options={position:["bottom","left"],timeOut:5e3,lastOnBottom:!0},this.mensajeResponse=new Ae,this.guardado=!1,this.error=!1,this.autoCorrectedDatePipe=Object(xo.createAutoCorrectedDatePipe)("yyyy-mm-dd"),this.mask=[/[2]/,/\d/,/\d/,/\d/,"-",/\d/,/\d/,"-",/\d/,/\d/],this.tieneid=!1,this.MinDate=new Date,this.MaxDate=new Date,this.cargandoPdf=!1}return e.prototype.ngOnInit=function(){this.usuario=JSON.parse(localStorage.getItem("usuario")),this.form_dato={id:"",clues:this.usuario.clues_activa.clues,almacen_id:this.usuario.almacen_activo.id,estatus:"NOINICIALIZADO",fecha_inicio:"",fecha_fin:"",observaciones:"",usuario_id:this.usuario.id,cantidad_programas:0,cantidad_claves:0,cantidad_insumos:0,cantidad_lotes:0,monto_total:0,programas:[]},this.dato=this.fb.group({id:[""],clues:[this.usuario.clues_activa.clues,l.Validators.required],almacen_id:[this.usuario.almacen_activo.id,l.Validators.required],estatus:["NOINICIALIZADO"],fecha_inicio:[""],fecha_fin:[""],observaciones:[""],usuario_id:[this.usuario.id,l.Validators.required],programas:this.fb.array([]),movimientos_articulos:this.fb.array([])}),this.cargarCatalogo("programa","lista_programas","estatus"),this.agregarPrograma();var e=new Date;this.MinDate=new Date(e.getFullYear()-1,0,1),this.MaxDate=new Date(e.getFullYear(),e.getMonth(),e.getDate()),""===this.form_dato.fecha_inicio?(this.fecha_actual=e.getFullYear()+"-"+("00"+(e.getMonth()+1)).slice(-2)+"-"+e.getDate(),this.form_dato.fecha_inicio=this.fecha_actual,this.form_dato.fecha_fin=this.fecha_actual):(this.fecha_actual=this.form_dato.fecha_inicio,this.form_dato.fecha_fin=e.getFullYear()+"-"+("00"+(e.getMonth()+1)).slice(-2)+"-"+e.getDate()),this.cargarDatos(),this.pdfworker=new Worker("web-workers/inventario/lista-inicializacion.js");var t=this,a=this._ngZone;this.pdfworker.onmessage=function(e){a.run(function(){t.cargandoPdf=!1}),ft.saveAs(t.base64ToBlob(e.data.base64,"application/pdf"),e.data.fileName)}},e.prototype.iniciarPrograma=function(){this.form_dato.programas.push({id:"",nombre:"",clave:"",insumos:[]})},e.prototype.cargarCatalogo=function(e,t,a){var n=this;this[t]=[],this.cargandoCatalogo=!0,this.crudService.lista_general(e).subscribe(function(e){n.cargandoCatalogo=!1;for(var r=0,i=e;r<i.length;r++){var s=i[r];1!==s[a]&&"1"!==s[a]||n[t].push(s)}})},e.prototype.arrayPrograma=function(){return this.fb.group({id:["",l.Validators.required],clave:["",l.Validators.required],nombre:["",l.Validators.required],insumos:this.fb.array([])})},e.prototype.arrayInsumos=function(){var e;return e=null==this.insumo.cantidad_x_envase?1:this.insumo.cantidad_x_envase,this.fb.group({clave_insumo_medico:this.insumo.clave,descripcion:this.insumo.descripcion,nombre:this.insumo.nombre,es_causes:this.insumo.es_causes,es_unidosis:this.insumo.es_unidosis,tipo:this.insumo.tipo,cantidad_x_envase:e})},e.prototype.agregarPrograma=function(){this.dato.get("programas").push(this.arrayPrograma())},e.prototype.agregarInsumo=function(e){for(var t=!1,a=0,n=this.form_dato.programas[e].insumos;a<n.length;a++){if(n[a].clave_insumo_medico===this.insumo.clave){t=!0;break}}var r={clave_insumo_medico:this.insumo.clave,descripcion:this.insumo.descripcion,nombre:this.insumo.nombre,es_causes:this.insumo.es_causes,es_unidosis:this.insumo.es_unidosis,cantidad_x_envase:this.insumo.cantidad_x_envase,tipo:this.insumo.tipo,subtotal:"",lotes:[]};if(!t){this.form_dato.programas[e].insumos.splice(0,0,r)}},e.prototype.comprobar_lista=function(e){this.form_dato.programas[e].insumos.length>0?this.abrirModal("cambiarPrograma"):this.programa_elegido=this.form_dato.programas[e].id,this.programa_index=e},e.prototype.mantenerPrograma=function(e){e?this.form_dato.programas[this.programa_index].id=this.programa_elegido:(this.programa_elegido=this.form_dato.programas[this.programa_index].id,this.form_dato.programas[this.programa_index].insumos=[],this.subtotal_precios=0,this.total_iva=0,this.total_precio=0)},e.prototype.validar_fecha=function(e,t,a,n){var r=Io();Io(e,"YYYY-MM-DD",!0).isValid()?Io(e,"YYYY-MM-DD",!0)<=r.add(14,"days")&&(this.form_dato.programas[t].insumos[a].lotes[n].fecha_caducidad="",this.notificacion.alert("Fecha inv\xe1lida","La fecha de caducidad debe ser mayor al "+r.format("YYYY-MM-DD"),this.objeto)):(this.notificacion.alert("Fecha inv\xe1lida","Debe ingresar una fecha v\xe1lida",this.objeto),this.form_dato.programas[t].insumos[a].lotes[n].fecha_caducidad="")},e.prototype.handleKeyboardEvents=function(e){if(this.key=e.which||e.keyCode,13===e.keyCode)return document.getElementById("buscarInsumo").focus(),e.preventDefault(),!1},e.prototype.seleccionarPrograma=function(){for(var e=document.getElementById("programa_agregado").value,t=0;t<this.form_dato.programas.length;t++)if(String(this.form_dato.programas[t].id)===e){this.i_programa=t;break}},e.prototype.addPrograma=function(){for(var e=document.getElementById("seleccionar_programa").value,t=!1,a=0;a<this.form_dato.programas.length;a++)if(String(this.form_dato.programas[a].id)===e){t=!0,a;break}if(!t)for(var n=0,r=this.lista_programas;n<r.length;n++){var i=r[n];if(Number(i.id)===Number(e)){this.form_dato.programas.push({id:i.id,nombre:i.nombre,clave:i.clave,insumos:[]}),this.i_programa=this.form_dato.programas.length-1;break}}},e.prototype.asignarPrograma=function(e,t){this.dato.controls.programas;for(var a=0,n=this.lista_programas;a<n.length;a++){var r=n[a];Number(r.id)===Number(e)&&(this.form_dato.programas[t].clave=r.clave,this.form_dato.programas[t].nombre=r.nombre,this.form_dato.programas[t].id=r.id)}},e.prototype.enviarAutocomplete=function(e){var t=this;this.cargando=!0;var a="";this.usuario.clues_activa&&(a+="&clues="+this.usuario.clues_activa.clues),this.usuario.almacen_activo&&(a+="&almacen="+this.usuario.almacen_activo.id);v.API_URL;this.crudService.busquedaInsumos(e,"insumos-auto").subscribe(function(e){t.cargando=!1,t.res_busq_insumos=e,0===t.res_busq_insumos.length&&t.notificacion.warn("Insumos","No hay resultados que coincidan",t.objeto)})},e.prototype.select_insumo_autocomplete=function(e,t){this.cargando=!0,this.insumo=e,this.agregarInsumo(t),document.getElementById("buscarInsumo").value="",this.res_busq_insumos=[],this.es_unidosis=e.es_unidosis,this.cargando=!1},e.prototype.quitar_punto=function(e){return!!this.is_numeric(e.key)},e.prototype.cambio_cantidad_stock_key=function(e,t,a,n,r){var i=this;"Backspace"!=e.key&&"Delete"!=e.key||(this.calcular_importes(t,a,n,r),this.calcularSubtotal(a,n)),"Backspace"!=e.key&&"Delete"!=e.key&&"ArrowLeft"!=e.key&&"ArrowRight"!=e.key&&"ArrowUp"!=e.key&&"ArrowDown"!=e.key&&"."!=e.key&&(clearTimeout(this.time_cambio_cantidad_stoc),this.time_cambio_cantidad_stoc=setTimeout(function(){i.calcular_importes(t,a,n,r),i.calcularSubtotal(a,n)},800))},e.prototype.calcular_importes=function(e,t,a,n){if(""!==e.precio_unitario&&null!=e.precio_unitario||(this.form_dato.programas[t].insumos[a].lotes[n].importe=0),""===e.existencia||null==e.existencia)this.form_dato.programas[t].insumos[a].lotes[n].importe=0;else{var r=e.existencia*e.precio_unitario;this.form_dato.programas[t].insumos[a].lotes[n].importe=r}},e.prototype.calcularSubtotal=function(e,t){for(var a=0,n=0,r=0;r<this.form_dato.programas[e].insumos[t].lotes.length;r++)n+=Number(this.form_dato.programas[e].insumos[t].lotes[r].importe),"MC"===this.form_dato.programas[e].insumos[t].tipo&&(this.form_dato.programas[e].insumos[t].lotes[r].iva_importe=.16*Number(this.form_dato.programas[e].insumos[t].lotes[r].importe),a=Number(a)+.16*Number(this.form_dato.programas[e].insumos[t].lotes[r].importe));this.form_dato.programas[e].insumos[t].subtotal=Number(n)+Number(a),this.sumaTotal()},e.prototype.sumaTotal=function(){for(var e=0,t=0,a=0,n=0,r=0,i=0;i<this.form_dato.programas.length;i++)for(var s=0;s<this.form_dato.programas[i].insumos.length;s++){for(var o=0;o<this.form_dato.programas[i].insumos[s].lotes.length;o++)e+=Number(this.form_dato.programas[i].insumos[s].lotes[o].importe),"MC"===this.form_dato.programas[i].insumos[s].tipo&&(t=Number(t)+Number(this.form_dato.programas[i].insumos[s].lotes[o].iva_importe)),r+=Number(this.form_dato.programas[i].insumos[s].lotes[o].existencia),n++;a++}this.subtotal_precios=Number(e),this.total_iva=t,this.total_precio=Number(this.subtotal_precios)+Number(this.total_iva),this.form_dato.cantidad_programas=this.form_dato.programas.length,this.form_dato.cantidad_claves=a,this.form_dato.cantidad_insumos=r,this.form_dato.cantidad_lotes=n,this.form_dato.monto_total=this.total_precio},e.prototype.is_numeric=function(e){return/^\d+$/.test(e)},e.prototype.agregarLote=function(e,t){this.form_dato.programas[e].insumos[t].lotes.splice(0,0,{id:null,lote:"",codigo_barras:"",fecha_caducidad:"",existencia:"",precio_unitario:"",importe:0,iva_importe:0})},e.prototype.cargarArticulos=function(e){var t=this;void 0===e&&(e=""),this.reset_form(),this.cargando=!0,this.dato.controls.tipos_movimientos_id.patchValue(7),this.dato.controls.status_movimientos_id.patchValue(1);var a="articulos-stock-inicial";""!==e&&(a+="?iniciar"),this.json_articulos=[],document.getElementById("cerra_restablecer").click(),this.crudService.lista(0,0,a).subscribe(function(e){var a=0;t.json_articulos=e.data,t.json_articulos.forEach(function(e){e.contador=a;var n=e.categorias;e.categorias||(n={nombre:"Sin categoria"}),e.categorias=n,t.cat[a]=!1,a++}),a=0,e.data.forEach(function(e){e.precio_venta="",e.contador=a,e.lotes=t.fb.array([]),t.dato.controls.movimientos_articulos.controls.push(t.fb.group(e)),t.agregar_lote(a),a++}),t.cargando=!1},function(e){t.cargando=!1})},e.prototype.guardarDatos=function(e,t){var a=this;this.cargando=!0,this.guardado=!1,this.error=!1;var n=this.dato.getRawValue();this.crudService.crear(n,"articulos-stock-inicial").subscribe(function(e){a.guardado=!0,setTimeout(function(){a.guardado=!1},2500),a.cargarArticulos()},function(e){a.error=!0,setTimeout(function(){a.error=!1},3e3)})},e.prototype.initLote=function(){return this.fb.group({lote:["UNICO",[l.Validators.required]],fecha_caducidad:[""],existencia:["",[l.Validators.required]],precio_unitario:[""]})},e.prototype.agregar_lote=function(e){var t=this.dato.controls.movimientos_articulos.controls[e].controls.lotes;t.controls||(t=this.fb.array([])),t.controls.push(this.initLote())},e.prototype.quitar_lote=function(e,t){this.dato.controls.movimientos_articulos.at(e).get("lotes").removeAt(t)},e.prototype.reset_form=function(){for(var e in this.dato.reset(),this.dato.controls){var t=this.dato.controls[e];if(t.controls&&"number"==typeof t.controls.length){for(;t.length;)t.removeAt(t.length-1);t.reset()}}return!0},e.prototype.quitar_form_array=function(e,t,a){e.splice(t,1),this.sumaTotal(),void 0!==a&&a&&""!==a&&this.calcularSubtotal(this.i_programa,a)},e.prototype.abrirModal=function(e,t,a,n){void 0!==n&&""!==n&&null!==n&&(this.index_borrar=n,this.index_insumo=a,this.index_programa=t),void 0!==a&&""!==a&&null!==a&&(this.index_insumo=a,this.index_programa=t),document.getElementById(e).classList.add("is-active")},e.prototype.cancelarModal=function(e){document.getElementById(e).classList.remove("is-active"),"guardarMovimiento"===e&&this.dato.controls.estatus.patchValue("BR")},e.prototype.inicializar=function(){var e=!1;""!==this.form_dato.clues&&null!=this.form_dato.clues&&void 0!==this.form_dato.clues||(this.mensajeResponse.texto="Formulario no enviado",this.mensajeResponse.mostrar=!0,this.mensajeResponse.clase="warning",e=!0),""!==this.form_dato.almacen_id&&null!=this.form_dato.almacen_id&&void 0!==this.form_dato.almacen_id||(this.mensajeResponse.texto="Formulario no enviado",this.mensajeResponse.mostrar=!0,this.mensajeResponse.clase="warning",e=!0),""!==this.form_dato.estatus&&null!=this.form_dato.estatus&&void 0!==this.form_dato.estatus||(this.mensajeResponse.texto="Formulario no enviado",this.mensajeResponse.mostrar=!0,this.mensajeResponse.clase="warning",e=!0),""!==this.form_dato.fecha_inicio&&null!=this.form_dato.fecha_inicio&&void 0!==this.form_dato.fecha_inicio||(this.mensajeResponse.texto="Formulario no enviado",this.mensajeResponse.mostrar=!0,this.mensajeResponse.clase="warning",this.mensaje(2),e=!0),""!==this.form_dato.fecha_fin&&null!=this.form_dato.fecha_fin&&void 0!==this.form_dato.fecha_fin||(this.mensajeResponse.texto="Formulario no enviado. Completar la Fecha de inicio "+this.form_dato.fecha_fin,this.mensajeResponse.mostrar=!0,this.mensajeResponse.clase="warning",this.form_dato.fecha_fin="",this.mensaje(2),e=!0),""!==this.form_dato.usuario_id&&null!=this.form_dato.usuario_id&&void 0!==this.form_dato.usuario_id||(this.mensajeResponse.texto="Formulario no enviado",this.mensajeResponse.mostrar=!0,this.mensajeResponse.clase="warning",this.mensaje(2),e=!0),0===this.form_dato.programas.length&&(this.mensajeResponse.texto="Debe agregar por lo menos un programa.",this.mensajeResponse.mostrar=!0,this.mensajeResponse.clase="warning",this.mensaje(2),e=!0);for(var t=0;t<this.form_dato.programas.length;t++){if(0===this.form_dato.programas[t].insumos.length){this.mensajeResponse.texto="Debe agregar por lo menos un insumo.",this.mensajeResponse.mostrar=!0,this.mensajeResponse.clase="warning",this.mensaje(2),e=!0;break}for(var a=0;a<this.form_dato.programas[t].insumos.length;a++){if(0===this.form_dato.programas[t].insumos[a].lotes.length){this.mensajeResponse.texto="Debe agregar por lo menos un lote.",this.mensajeResponse.mostrar=!0,this.mensajeResponse.clase="warning",this.mensaje(2),e=!0;break}for(var n=0;n<this.form_dato.programas[t].insumos[a].lotes.length;n++){if(""===this.form_dato.programas[t].insumos[a].lotes[n].lote||null==this.form_dato.programas[t].insumos[a].lotes[n].lote||void 0===this.form_dato.programas[t].insumos[a].lotes[n].lote){this.mensajeResponse.texto="Error en lote del insumo: "+this.form_dato.programas[t].insumos[a].descripcion+". Del programa "+this.form_dato.programas[t].nombre,this.mensajeResponse.mostrar=!0,this.mensajeResponse.clase="warning",this.mensaje(2),e=!0;break}if(""===this.form_dato.programas[t].insumos[a].lotes[n].fecha_caducidad||null==this.form_dato.programas[t].insumos[a].lotes[n].fecha_caducidad||void 0===this.form_dato.programas[t].insumos[a].lotes[n].fecha_caducidad){this.mensajeResponse.texto="Error en fecha de caducidad del insumo: "+this.form_dato.programas[t].insumos[a].descripcion+". Del programa "+this.form_dato.programas[t].nombre,this.mensajeResponse.mostrar=!0,this.mensajeResponse.clase="warning",this.mensaje(2),e=!0;break}if(""===this.form_dato.programas[t].insumos[a].lotes[n].existencia||null==this.form_dato.programas[t].insumos[a].lotes[n].existencia||void 0===this.form_dato.programas[t].insumos[a].lotes[n].existencia){this.mensajeResponse.texto="Error en existencia del insumo: "+this.form_dato.programas[t].insumos[a].descripcion+". Del programa "+this.form_dato.programas[t].nombre,this.mensajeResponse.mostrar=!0,this.mensajeResponse.clase="warning",this.mensaje(2),e=!0;break}}}}!0===e?(this.mensajeResponse.texto="Completar los datos requeridos",this.mensajeResponse.mostrar=!0,this.mensajeResponse.clase="error",this.mensaje(3)):"INICIALIZAR"===prompt("Por favor ingresa la palabra INICIALIZAR, para continuar:","")?(this.form_dato.estatus="INICIALIZADO",this.enviar()):(this.mensajeResponse.texto="Formulario no enviado",this.mensajeResponse.mostrar=!0,this.mensajeResponse.clase="warning")},e.prototype.enviar=function(){var e=this;this.cargando=!0,this.crudService.crear(this.form_dato,"inicializar-inventario-me").subscribe(function(t){e.cargando=!1,console.log(e.form_dato),e.form_dato.id=t.id,console.log(e.form_dato),e.mensajeResponse.texto="Se han guardado los cambios.",e.mensajeResponse.mostrar=!0,e.mensajeResponse.clase="success",e.mensaje(2)},function(t){e.cargando=!1,500===t.status&&(e.mensajeResponse.texto="500 (Error interno del servidor)",e.mensajeResponse.mostrar=!0,e.mensajeResponse.clase="error",e.mensaje(3));try{var a=t.json();if(401==t.status&&(e.mensajeResponse.texto="No tiene permiso para hacer esta operaci\xf3n."),409===t.status)try{for(var n in a.error)if(a.error.hasOwnProperty(n))for(var r in a.error[n])if(a.error[n].hasOwnProperty(r))for(var i in a.error[n][r])a.error[n][r].hasOwnProperty(i)?(e.mensajeResponse.titulo=i,e.mensajeResponse.texto=a.error[n][r][i],e.mensajeResponse.clase="error",e.mensaje(3)):(e.mensajeResponse.titulo=n,e.mensajeResponse.texto=a.error[n][r],e.mensajeResponse.clase="error",e.mensaje(3))}catch(a){e.mensajeResponse.texto="Por favor verfique los campos marcados en rojo.",e.mensajeResponse.clase="warning",e.mensaje(8)}}catch(a){e.mensajeResponse.texto="No especificado.",e.mensajeResponse.mostrar=!0,e.mensajeResponse.clase="error",e.mensaje(3),console.log(a),500==t.status?e.mensajeResponse.texto="500 (Error interno del servidor)":e.mensajeResponse.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.cargarDatos=function(){var e=this;try{this.cargando=!0,this.crudService.verIniciar("inicializar-inventario-me").subscribe(function(t){if(e.form_dato=t,console.log(e.form_dato),console.log("Resultado",t),e.cargando=!1,e.cargarInventario=!1,t.programas&&t.programas.length>0){e.i_programa=0;for(var a=0;a<t.programas.length;a++)if(t.programas[a].insumos.length>0)for(var n=0;n<t.programas[a].insumos.length;n++)e.calcularSubtotal(a,n)}e.sumaTotal(),e.mensajeResponse.titulo="Modificar",e.mensajeResponse.texto="Los datos se cargaron",e.mensajeResponse.clase="success",e.mensaje(2)},function(t){e.cargando=!1,e.cargarInventario=!1,e.mensajeResponse=new Ae(!0),e.mensajeResponse=new Ae(!0),e.mensajeResponse.mostrar;try{t.json();401==t.status&&(e.mensajeResponse.texto="No tiene permiso para hacer esta operaci\xf3n.",e.mensajeResponse.clase="success",e.mensaje(2))}catch(a){500==t.status?e.mensajeResponse.texto="500 (Error interno del servidor)":e.mensajeResponse.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir.",e.mensajeResponse.clase="error",e.mensaje(2)}})}catch(e){console.log(0,e)}},e.prototype.mensaje=function(e,t){void 0===e&&(e=6),void 0===t&&(t=["bottom","left"]);var a={showProgressBar:!0,pauseOnHover:!1,clickToClose:!0,maxLength:this.mensajeResponse.texto.length};this.options={position:t,timeOut:1e3*e,lastOnBottom:!0},""===this.mensajeResponse.titulo&&(this.mensajeResponse.titulo="Entradas de almac\xe9n"),"alert"===this.mensajeResponse.clase&&this.notificacion.alert(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"success"===this.mensajeResponse.clase&&this.notificacion.success(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"info"===this.mensajeResponse.clase&&this.notificacion.info(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"warning"!==this.mensajeResponse.clase&&"warn"!==this.mensajeResponse.clase||this.notificacion.warn(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"error"!==this.mensajeResponse.clase&&"danger"!==this.mensajeResponse.clase||this.notificacion.error(this.mensajeResponse.titulo,this.mensajeResponse.texto,a)},e.prototype.imprimir=function(){try{this.cargandoPdf=!0;var e={datos:this.form_dato,programas:this.form_dato.programas,usuario:this.usuario};this.pdfworker.postMessage(JSON.stringify(e))}catch(e){this.cargandoPdf=!1}},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},e=Wd([Object(n.Component)({selector:"app-inicial-formulario",template:a("R2FR"),host:{"(document:keydown)":"handleKeyboardEvents($event)"}}),eu("design:paramtypes",[l.FormBuilder,p.NotificationsService,h.a,gr,n.NgZone])],e)}(),au=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},nu=[{path:"inventario/iniciar-inventario",children:[{path:"",component:tu},{path:":id",component:tu}],canActivate:[M]}],ru=function(){function e(){}return e=au([Object(n.NgModule)({imports:[h.c.forChild(nu)],exports:[h.c],providers:[]})],e)}(),iu=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},su=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ou=function(){function e(e,t){this.http=e,this.jwtRequest=t}return t=e,e.prototype.buscar=function(e,a,n,r){return void 0===n&&(n=1),void 0===r&&(r=20),this.jwtRequest.get(t.URL,null,{status:e,q:a,page:n,per_page:r}).map(function(e){return e.json().data})},e.prototype.lista=function(e,a,n){return void 0===a&&(a=1),void 0===n&&(n=20),this.jwtRequest.get(t.URL,null,{status:e,page:a,per_page:n}).map(function(e){return e.json().data})},e.prototype.ver=function(e){return this.jwtRequest.get(t.URL,e,{}).map(function(e){return e.json().data})},e.prototype.inicializar=function(e){return this.jwtRequest.post(t.URL,e).map(function(e){return e.json().data})},e.prototype.insumos=function(){return this.jwtRequest.get(t.URL_INSUMOS,null,{con_precios:!0}).map(function(e){return e.json().data})},e.URL="inventario/inicializacion-inventario",e.URL_INSUMOS="catalogo-insumos",e=t=iu([Object(n.Injectable)(),su("design:paramtypes",[c.Http,V])],e);var t}(),lu=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},cu=function(){function e(){}return e=lu([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,ee,de,Ir,fe,qe,ru,bc,Ao.TextMaskModule,wo.MomentModule,Oi.NguiDatetimePickerModule,p.SimpleNotificationsModule.forRoot()],declarations:[tu],providers:[ou,gr]})],e)}(),du=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},uu=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},pu=function(){function e(e){this.title=e,this.usuario={},this.busqueda="",this.modulos=[],this.modulosAutorizados=[],this.accesosDirectos=[],this.accesosDirectosAutorizados=[]}return e.prototype.ngOnInit=function(){this.title.setTitle("Almac\xe9n / Art\xedculos"),this.usuario=JSON.parse(localStorage.getItem("usuario")),this.modulos=[{permiso:"VmObT0aDFLEXDMer0yvfKo76gBsGNdcR",icono:"assets/icono-inventario-general.svg",titulo:"Inventario",url:"/almacen-articulos/inventarios"},{permiso:"8u2HduKCBo53Vwa2DiMh1ujytqdL9c7M",icono:"assets/icono-entradas-general.svg",titulo:"Entradas",url:"/almacen-articulos/entradas"},{permiso:"5Pnh7DTayhrND0GyB7bzfbdFK2kA6bgM",icono:"assets/icono-salidas-general.svg",titulo:"Salidas",url:"/almacen-articulos/salidas"}],this.accesosDirectos=[{permiso:"fMKARTchWDT56hgX0sNJnmTD9wcwTwK0",icono:"assets/icono-catalogos.svg",titulo:"Categorias",url:"/almacen-articulos/categoria"},{permiso:"1giAayqzxUGwhGYQgGD6PTYkPin1edAs",icono:"assets/icono-catalogos.svg",titulo:"Articulos",url:"/almacen-articulos/articulos"}];var e=JSON.parse(localStorage.getItem("usuario")).permisos.split("|");if(e.length>0){for(var t in this.modulos)e:for(var a in e)if(e[a]==this.modulos[t].permiso){this.modulosAutorizados.push(this.modulos[t]);break e}for(var t in this.accesosDirectos)e:for(var a in e)if(e[a]==this.accesosDirectos[t].permiso){this.accesosDirectosAutorizados.push(this.accesosDirectos[t]);break e}}},e=du([Object(n.Component)({selector:"app-index-almacen-articulos",template:a("iBfS"),styles:[a("oW6u")]}),uu("design:paramtypes",[i.Title])],e)}(),mu=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},gu=[{path:"almacen-articulos",component:pu,canActivate:[M]}],fu=function(){function e(){}return e=mu([Object(n.NgModule)({imports:[h.c.forChild(gu)],exports:[h.c],providers:[]})],e)}(),hu=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},vu=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},bu=function(){function e(){this.usuario={}}return e.prototype.ngOnInit=function(){this.usuario=JSON.parse(localStorage.getItem("usuario"))},hu([Object(n.Input)(),vu("design:type",String)],e.prototype,"modulo",void 0),hu([Object(n.Input)(),vu("design:type",String)],e.prototype,"icono",void 0),hu([Object(n.Input)(),vu("design:type",String)],e.prototype,"url",void 0),e=hu([Object(n.Component)({selector:"menu-almacen-articulos",template:a("YD97"),styles:[a("ELSb")]}),vu("design:paramtypes",[])],e)}(),yu=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},_u=function(){function e(){}return e=yu([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,fu,ee,de,fe,je],exports:[bu],declarations:[pu,bu]})],e)}(),xu=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Iu=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ju=function(){function e(e){this.title=e,this.usuario={},this.busqueda="",this.modulos=[],this.accesosDirectos=[]}return e.prototype.ngOnInit=function(){this.title.setTitle("Art\xedculos / Cat\xe1logos"),this.usuario=JSON.parse(localStorage.getItem("usuario")),this.modulos=[{permiso:"l9PXPHg1MMJYMKTlzXeEHNIsgw9d5oty",icono:"assets/catalogo-grupo-insumos.svg",titulo:"Grupos de insumos",url:"/catalogos/grupos-insumos"},{permiso:"KbzwkJtDcLGcaNhbuYd24bhdDMGaKXod",icono:"assets/catalogo-marcas.svg",titulo:"Marcas",url:"/catalogos/marcas"},{permiso:"JDAc3VaD3TbCIu0cUIYxZ6gG6QG32I3y",icono:"assets/catalogo-mc.svg",titulo:"Material de curaci\xf3n",url:"/catalogos/material-curacion"},{permiso:"xSSmZGx6xgw4Qd4MQKlcDwxE1iD4QvxZ",icono:"assets/catalogo-medicamento.svg",titulo:"Medicamentos",url:"/catalogos/medicamentos"},{permiso:"ygwsEwz3cUw4yVMCeaQ9hVMCFXUHri5q",icono:"assets/catalogo-programas.svg",titulo:"Programas",url:"/catalogos/programas"},{permiso:"PtTJ9g7WGYcyuPjTxe5iaJILVzQedccG",icono:"assets/catalogo-presentacion.svg",titulo:"Presentaciones de medicamentos",url:"/catalogos/presentaciones-medicamentos"},{permiso:"EBQdToSqWCpu1TJTDWBibcuGOpO97ucT",icono:"assets/catalogo-administracion.svg",titulo:"Vias de administraci\xf3n",url:"vias-administracion"},{permiso:"ouIq0jdKpmTNYG1f2MRjMmlKvXmSviPd",icono:"assets/catalogo-unid-medida.svg",titulo:"Unidades de medida",url:"/almacen-articulos/catalogos/unidades-medida"},{permiso:"OhAoehuuORlLObNSrzy4qpRYE89VfUdt",icono:"assets/catalogo-servicios.svg",titulo:"Servicios",url:"/catalogos/servicios"},{permiso:"Npmc6C155PMjnkPKWUFXcIF3NcegAzIE",icono:"assets/catalogo-servicios.svg",titulo:"Forma Farmaceutica",url:"/catalogos/forma-farmaceutica"},{permiso:"2CGoJAwDzH2JGpaPVUz3Vakcge5ReO9F",icono:"assets/catalogo-pedido.svg",titulo:"Tipos de pedidos",url:"/catalogos/tipo-pedido"},{permiso:"S1Yv83vAhv2o7xzq5ur37bmbfHvsomJf",icono:"assets/catalogo-tipo-movimiento.svg",titulo:"Tipos de movimientos",url:"/catalogos/tipos-movimientos"},{permiso:"d1V2FX6TNxO6cCSXaAZQfLiAnDoL6rnO",icono:"assets/catalogo-tipo-insumos.svg",titulo:"Tipos de insumos",url:"/catalogos/tipos-insumos"},{permiso:"JHUfLL82Cp1pUI7tTKaWuCfVIaeKZk5z",icono:"assets/catalogo-tipo-insumos.svg",titulo:"Tipos de personal",url:"/catalogos/tipos-insumos"}],this.accesosDirectos=[{permiso:"",icono:"assets/catalogo-servidor.svg",titulo:"Servidores",url:"/catalogos/servidores"},{permiso:"",icono:"assets/catalogo-almacenes.svg",titulo:"Almacenes",url:"/catalogos/almacenes"},{permiso:"",icono:"assets/catalogo-proveedores.svg",titulo:"Proveedores",url:"/catalogos/proveedores"},{permiso:"",icono:"assets/catalogo-um.svg",titulo:"Unidades M\xe9dicas",url:"unidades-medicas"}]},e=xu([Object(n.Component)({selector:"app-index-catalogo",template:a("dDZ5"),styles:[a("dLuj")]}),Iu("design:paramtypes",[i.Title])],e)}(),ku=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Cu=[{path:"almacen-articulos/catalogos/index",component:ju,canActivate:[M]}],Eu=function(){function e(){}return e=ku([Object(n.NgModule)({imports:[h.c.forChild(Cu)],exports:[h.c],providers:[]})],e)}(),Pu=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},qu=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Au=function(){function e(){this.usuario={}}return e.prototype.ngOnInit=function(){this.usuario=JSON.parse(localStorage.getItem("usuario"))},Pu([Object(n.Input)(),qu("design:type",String)],e.prototype,"modulo",void 0),Pu([Object(n.Input)(),qu("design:type",String)],e.prototype,"icono",void 0),Pu([Object(n.Input)(),qu("design:type",String)],e.prototype,"url",void 0),e=Pu([Object(n.Component)({selector:"menu-catalogo",template:a("FbSt"),styles:[a("jo+T")]}),qu("design:paramtypes",[])],e)}(),wu=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Su=function(){function e(){}return e=wu([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,Eu,ee,de,fe,je,h.c],exports:[Au],declarations:[ju,Au]})],e)}(),Ru=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Ou=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Nu=function(){function e(e){this.title=e,this.usuario={},this.busqueda="",this.modulos=[],this.modulosAutorizados=[],this.accesosDirectos=[],this.accesosDirectosAutorizados=[]}return e.prototype.ngOnInit=function(){this.title.setTitle("Almac\xe9n estandar"),this.usuario=JSON.parse(localStorage.getItem("usuario")),this.modulos=[{permiso:"J1mYtHwF7WVbie5dCZhFptvYzNEtqHXQ",icono:"assets/icono-entradas.svg",titulo:"Entrada de insumos",url:"/almacen-estandar/entradas"},{permiso:"fO4NLBvm5IAv5zouJ24rS0qVI2cHpm44",icono:"assets/icono-salidas.svg",titulo:"Salida de insumos",url:"/almacen-estandar/salidas"}],this.accesosDirectos=[];var e=JSON.parse(localStorage.getItem("usuario")).permisos.split("|");if(e.length>0){for(var t in this.modulos)e:for(var a in e)if(e[a]==this.modulos[t].permiso){this.modulosAutorizados.push(this.modulos[t]);break e}for(var t in this.accesosDirectos)e:for(var a in e)if(e[a]==this.accesosDirectos[t].permiso){this.accesosDirectosAutorizados.push(this.accesosDirectos[t]);break e}}},e=Ru([Object(n.Component)({selector:"app-index-almacen-estandar",template:a("LZf2"),styles:[a("f/5o")]}),Ou("design:paramtypes",[i.Title])],e)}(),Mu=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Bu=[{path:"almacen-estandar",component:Nu,canActivate:[M]}],Fu=function(){function e(){}return e=Mu([Object(n.NgModule)({imports:[h.c.forChild(Bu)],exports:[h.c],providers:[]})],e)}(),Du=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Lu=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Tu=function(){function e(e){this.cambiarEntornoService=e,this.usuario={},this.urlAyuda=""}return e.prototype.ngOnInit=function(){var e=this;this.usuario=JSON.parse(localStorage.getItem("usuario")),this.cambiarEntornoSuscription=this.cambiarEntornoService.entornoCambiado$.subscribe(function(t){e.usuario=JSON.parse(localStorage.getItem("usuario"))})},e.prototype.ngOnDestroy=function(){this.cambiarEntornoSuscription.unsubscribe()},Du([Object(n.Input)(),Lu("design:type",String)],e.prototype,"modulo",void 0),Du([Object(n.Input)(),Lu("design:type",String)],e.prototype,"icono",void 0),Du([Object(n.Input)(),Lu("design:type",String)],e.prototype,"url",void 0),Du([Object(n.Input)(),Lu("design:type",Object)],e.prototype,"urlAyuda",void 0),e=Du([Object(n.Component)({selector:"app-menu-almacen-estandar",template:a("eTLm"),styles:[a("79N0")]}),Lu("design:paramtypes",[ae])],e)}(),zu=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Uu=function(){function e(){}return e=zu([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,Fu,ee,de,fe,je],exports:[Tu],declarations:[Nu,Tu]})],e)}(),Vu=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Gu=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Yu=function(){function e(e,t,a){this._ngZone=e,this.crudService=t,this.notificacion=a,this.fecha_desde="",this.fecha_hasta="",this.turno="",this.servicio="",this.recibe="",this.cargandoPdf=!1,this.mensajeResponse=new Ae,this.options={position:["bottom","right"],timeOut:2e3,lastOnBottom:!0}}return e.prototype.ngOnInit=function(){this.usuario=JSON.parse(localStorage.getItem("usuario")),this.pdfworker=new Worker("web-workers/almacen-estandar/entradas/lista-entradas-estandar.js");var e=this,t=this._ngZone;this.pdfworker.onmessage=function(a){t.run(function(){e.cargandoPdf=!1}),ft.saveAs(e.base64ToBlob(a.data.base64,"application/pdf"),a.data.fileName)}},e.prototype.export_excel=function(){var e="<table><tr><th colspan='7'><h1>Entrada Estandar</h1></th></tr><tr><th>Desde: "+this.fecha_desde+"</th><th>Hasta: "+this.fecha_hasta+"</th></th><th>Recibe: "+this.recibe+"</th></tr><tr><th colspan='7'></th></tr></table>";e+=document.getElementById("exportable").innerHTML;var t=new Blob([e],{type:"text/comma-separated-values;charset=utf-8"});try{ft.saveAs(t,"Listado_entrada_de_almacen.xls")}catch(e){console.log(e)}},e.prototype.imprimir=function(){var e=this;this.cargandoPdf=!0,this.crudService.lista_general("entrada-almacen-standard?fecha_desde="+this.fecha_desde+"&fecha_hasta="+this.fecha_hasta+"&recibe="+this.recibe).subscribe(function(t){e.cargando=!1,e.lista_impresion=t;try{var a={lista:e.lista_impresion,usuario:e.usuario,fecha_desde:e.fecha_desde,fecha_hasta:e.fecha_hasta,recibe:e.recibe};e.pdfworker.postMessage(JSON.stringify(a))}catch(t){e.cargandoPdf=!1}},function(t){e.cargandoPdf=!1,e.mensajeResponse.mostrar=!0;try{t.json();401===t.estatus&&(e.mensajeResponse.texto="No tiene permiso para hacer esta operaci\xf3n.",e.mensajeResponse.clase="danger",e.mensaje(2))}catch(a){500===t.estatus?e.mensajeResponse.texto="500 (Error interno del servidor)":e.mensajeResponse.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir.",e.mensajeResponse.clase="danger",e.mensaje(2)}})},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},e.prototype.mensaje=function(e,t){void 0===e&&(e=6),void 0===t&&(t=["bottom","left"]);var a={showProgressBar:!0,pauseOnHover:!1,clickToClose:!0,maxLength:this.mensajeResponse.texto.length};this.options={position:t,timeOut:1e3*e,lastOnBottom:!0},""===this.mensajeResponse.titulo&&(this.mensajeResponse.titulo="Entradas de medicamentos"),"alert"===this.mensajeResponse.clase&&this.notificacion.alert(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"success"===this.mensajeResponse.clase&&this.notificacion.success(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"info"===this.mensajeResponse.clase&&this.notificacion.info(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"warning"!==this.mensajeResponse.clase&&"warn"!==this.mensajeResponse.clase||this.notificacion.warn(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"error"!==this.mensajeResponse.clase&&"danger"!==this.mensajeResponse.clase||this.notificacion.error(this.mensajeResponse.titulo,this.mensajeResponse.texto,a)},Vu([Object(n.ViewChildren)("tr"),Gu("design:type",Object)],e.prototype,"tr",void 0),Vu([Object(n.ViewChildren)("sr"),Gu("design:type",Object)],e.prototype,"sr",void 0),e=Vu([Object(n.Component)({selector:"app-entradas-estandar-lista",template:a("BSFC")}),Gu("design:paramtypes",[n.NgZone,gr,p.NotificationsService])],e)}(),Hu=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Ju=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},$u=function(){function e(e,t,a,n,r,i){var s=this;this.fb=e,this.crudService=t,this.route=a,this._sanitizer=n,this.notificacion=r,this._ngZone=i,this.total_precio=0,this.total_iva=0,this.subtotal_precios=0,this.cargando=!1,this.mensajeResponse=new Ae,this.autoCorrectedDatePipe=Object(xo.createAutoCorrectedDatePipe)("yyyy-mm-dd"),this.MinDate=new Date,this.MaxDate=new Date,this.tieneid=!1,this.estoymodificando=!1,this.cargandoCatalogo=!1,this.importes=[],this.cargandoPdf=!1,this.es_unidosis=!1,this.res_busq_insumos=[],this.lista_programas=[],this.lista_proveedores=[],this.llenando_formulario=!0,this.insumos_term=v.API_URL+"/insumos-auto?term=:keyword",this.mask=[/[2]/,/\d/,/\d/,/\d/,"-",/\d/,/\d/,"-",/\d/,/\d/],this.permisos=[],this.objeto={showProgressBar:!0,pauseOnHover:!0,clickToClose:!0,maxLength:3e3},this.options={position:["bottom","left"],timeOut:5e3,lastOnBottom:!0},this.autocompleListFormatter=function(e){var t='\n    <div class="card">\n      <div class="card-content">\n        <div class="media">          \n          <div class="media-content">\n            <p class="title is-4"><small>'+e.descripcion+'</small></p>\n            <p class="subtitle is-6">\n              <strong>Clave: </strong> '+e.clave+") \n              ";return 1==e.es_causes&&(t+='<label class="tag is-success" ><strong>Cause </strong></label>'),0==e.es_causes&&(t+='<label class="tag" style="background: #B8FB7E; border-color: #B8FB7E; color: rgba(0,0,0,0.7);"><strong>No Cause </strong> </label>'),1==e.es_unidosis&&(t+='<label class="tag is-warning" ><strong>Unidosis</strong> </label>'),t+="\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>",s._sanitizer.bypassSecurityTrustHtml(t)}}return e.prototype.ngOnInit=function(){var e=this;this.usuario=JSON.parse(localStorage.getItem("usuario")),this.permisos=this.usuario.permisos,this.usuario.clues_activa&&(this.insumos_term+="&clues="+this.usuario.clues_activa.clues),this.usuario.almacen_activo&&(this.insumos_term+="&almacen="+this.usuario.almacen_activo.id),this.pdfworker=new Worker("web-workers/almacen-estandar/entradas/entrada-estandar.js");var t=this,a=this._ngZone;this.pdfworker.onmessage=function(e){a.run(function(){t.cargandoPdf=!1}),ft.saveAs(t.base64ToBlob(e.data.base64,"application/pdf"),e.data.fileName)},this.dato=this.fb.group({id:[""],actualizar:[!1],tipo_movimiento_id:[1,[l.Validators.required]],estatus:["FI"],fecha_movimiento:["",[l.Validators.required]],fecha_referencia:["",[l.Validators.required]],observaciones:[""],programa_id:[{value:"",disabled:!1},[l.Validators.required]],multiprograma:[""],cancelado:[""],observaciones_cancelacion:[""],movimiento_metadato:this.fb.group({proveedor_id:[{value:"",disabled:!1},[l.Validators.required]],numero_pedido:[{value:"",disabled:!1},[l.Validators.required]],folio_factura:[{value:"",disabled:!1},[l.Validators.required]],donante:[{value:"",disabled:!0},[l.Validators.required]],donacion:[!1,[]],persona_entrega:[""],servicio_id:[null],turno_id:[null]}),insumos:this.fb.array([])}),this.route.params.subscribe(function(t){t.id&&(e.tieneid=!0)}),this.dato.controls.id.valueChanges.subscribe(function(t){t&&(e.llenando_formulario=!0,setTimeout(function(){"BR"===e.dato.controls.estatus.value?e.llenarFormulario():(e.sumaTotal(),e.llenando_formulario=!1)},500))}),this.tieneid||(this.llenando_formulario=!1);var n=new Date;this.MinDate=new Date(n.getFullYear()-1,0,1),this.MaxDate=new Date(n.getFullYear(),n.getMonth(),n.getDate()),this.MinDateCaducidad=n.getFullYear()+"-"+("00"+(n.getMonth()+1)).slice(-2)+"-"+n.getDate(),this.dato.get("fecha_movimiento").value?this.fecha_actual=this.dato.get("fecha_movimiento").value:(this.fecha_actual=n.getFullYear()+"-"+("00"+(n.getMonth()+1)).slice(-2)+"-"+n.getDate(),this.dato.get("fecha_movimiento").patchValue(this.fecha_actual)),this.cargarCatalogo("programa","lista_programas","estatus"),this.cargarCatalogo("proveedores","lista_proveedores","activo")},e.prototype.cargarCatalogo=function(e,t,a){var n=this;this[t]=[],this.cargandoCatalogo=!0,this.crudService.lista_general(e).subscribe(function(e){n.cargandoCatalogo=!1;for(var r=0,i=e;r<i.length;r++){var s=i[r];1!==s[a]&&"1"!==s[a]||n[t].push(s)}})},e.prototype.llenarFormulario=function(){for(var e,t=this.fb.array([]),a=0,n=this.dato.controls.insumos.value;a<n.length;a++){if((u=n[a]).lotes)for(var r=0,i=u.lotes;r<i.length;r++){var s=i[r];e={clave:u.clave,nombre:u.nombre,descripcion:u.descripcion,es_causes:u.es_causes,es_unidosis:u.es_unidosis,lote:[s.lote,[l.Validators.required]],id:s.id,codigo_barras:[s.codigo_barras,[l.Validators.required]],fecha_caducidad:[s.fecha_caducidad,[l.Validators.required]],cantidad:[Number(s.cantidad),[l.Validators.required]],precio_unitario:[Number(s.precio_unitario),[l.Validators.required]],tipo:u.tipo,importe:[Number(s.importe),[l.Validators.required]],cantidad_x_envase:Number(u.detalles.informacion_ampliada.cantidad_x_envase),cantidad_surtida:1,movimiento_insumo_id:[s.movimiento_insumo_id],stock_id:[s.stock_id]},t.insert(0,this.fb.group(e))}}this.dato.controls.insumos=this.fb.array([]);for(var o=this.dato.controls.insumos,c=0,d=t.value;c<d.length;c++){var u=d[c];o.insert(0,this.fb.group(u))}this.sumaTotal(),console.log(this.dato.controls.movimiento_metadato.controls.donacion.value),"1"===this.dato.controls.movimiento_metadato.controls.donacion.value||1===this.dato.controls.movimiento_metadato.controls.donacion.value?(this.dato.controls.movimiento_metadato.controls.donacion.patchValue(!0),this.dato.controls.movimiento_metadato.controls.donante.enable(),this.no_requerirCampo("numero_pedido","movimiento_metadato"),this.no_requerirCampo("folio_factura","movimiento_metadato"),this.no_requerirCampo("programa_id"),this.no_requerirCampo("proveedor_id","movimiento_metadato")):(this.dato.controls.movimiento_metadato.controls.donacion.patchValue(!1),this.dato.controls.movimiento_metadato.controls.donante.disable()),console.log(this.dato.controls.movimiento_metadato.controls.donacion.value),this.llenando_formulario=!1},e.prototype.handleKeyboardEvents=function(e){if(this.key=e.which||e.keyCode,13===e.keyCode)return document.getElementById("buscarInsumo").focus(),e.preventDefault(),!1},e.prototype.abrirModal=function(e,t){(t||0===t)&&(this.index_borrar=t),document.getElementById(e).classList.add("is-active")},e.prototype.cancelarModal=function(e){document.getElementById(e).classList.remove("is-active"),"guardarMovimiento"===e&&this.dato.controls.estatus.patchValue("BR")},e.prototype.enviarAutocomplete=function(e){var t=this;this.cargando=!0;var a="";this.usuario.clues_activa&&(a+="&clues="+this.usuario.clues_activa.clues),this.usuario.almacen_activo&&(a+="&almacen="+this.usuario.almacen_activo.id);v.API_URL;this.crudService.busquedaInsumos(e,"insumos-auto").subscribe(function(e){t.cargando=!1,t.res_busq_insumos=e,0===t.res_busq_insumos.length&&t.notificacion.warn("Insumos","No hay resultados que coincidan",t.objeto)})},e.prototype.select_insumo_autocomplete=function(e){this.cargando=!0,this.insumo=e,this.agregarLoteIsumo(),document.getElementById("buscarInsumo").value="",this.res_busq_insumos=[],this.es_unidosis=e.es_unidosis,this.cargando=!1},e.prototype.agregarLoteIsumo=function(){for(var e,t=this.dato.controls.insumos,a=0,n=0,r=t.value;n<r.length;n++){var i=r[n];i.clave==this.insumo.clave&&(a=i.precio_unitario)}e=null==this.insumo.cantidad_x_envase?1:this.insumo.cantidad_x_envase;var s={clave:this.insumo.clave,nombre:this.insumo.nombre,descripcion:this.insumo.descripcion,es_causes:this.insumo.es_causes,es_unidosis:this.insumo.es_unidosis,tipo:this.insumo.tipo,lote:["",[l.Validators.required]],id:null,codigo_barras:[""],fecha_caducidad:["",[l.Validators.required]],precio_unitario:[0===a?"":a,[l.Validators.required]],importe:[0],cantidad:["",[l.Validators.required]],cantidad_x_envase:parseInt(e),cantidad_surtida:1,movimiento_insumo_id:null,stock_id:null};t.insert(0,this.fb.group(s))},e.prototype.agregarNuevoLote=function(){this.lotes_insumo.push({id:""+Math.floor(999*Math.random())+1,codigo_barras:"",lote:"",fecha_caducidad:"",existencia:"",cantidad:"",nuevo:1,existencia_unidosis:"",cantidad_unidosis:""})},e.prototype.eliminarLote=function(e){this.lotes_insumo.splice(e,1)},e.prototype.quitar_lote_insumo=function(e,t,a){var n=this.dato.controls.insumos.controls[e];n.controls.lotes.removeAt(a);var r=n.controls.cantidad_surtida.value-t.cantidad;n.controls.cantidad_surtida.patchValue(r)},e.prototype.validar_fecha=function(e,t){var a=this.dato.controls.insumos.controls[t],n=Io();Io(e,"YYYY-MM-DD",!0).isValid()?Io(e,"YYYY-MM-DD",!0)<=n.add(14,"days")&&(a.controls.fecha_caducidad.patchValue(""),this.notificacion.alert("Fecha inv\xe1lida","La fecha de caducidad debe ser mayor al "+n.format("YYYY-MM-DD"),this.objeto)):(this.notificacion.alert("Fecha inv\xe1lida","Debe ingresar una fecha v\xe1lida",this.objeto),a.controls.fecha_caducidad.patchValue(""))},e.prototype.quitar_punto=function(e){return!!this.is_numeric(e.key)},e.prototype.is_numeric=function(e){return/^\d+$/.test(e)},e.prototype.validar_precio=function(e){return!!this.is_precio(e.key)},e.prototype.is_precio=function(e){return/^(\d|-)?(\d|,)*\.?\d*$/.test(e)},e.prototype.calcular_cantidad_subtotal=function(e,t){var a=this.dato.controls.insumos.controls[t];if(""!==e.precio_unitario.value&&null!=e.precio_unitario.value||(this.importes[t]=0),""===e.cantidad.value||null==e.cantidad.value)this.importes[t]=0;else{var n=e.cantidad.value*e.precio_unitario.value;this.importes[t]=n,a.controls.importe.patchValue(n)}return this.importes[t]},e.prototype.cambio_cantidad_stock_key=function(e,t,a){var n=this;"Backspace"!=e.key&&"Delete"!=e.key||(this.calcular_cantidad_subtotal(t,a),this.sumaTotal()),"Backspace"!=e.key&&"Delete"!=e.key&&"ArrowLeft"!=e.key&&"ArrowRight"!=e.key&&"ArrowUp"!=e.key&&"ArrowDown"!=e.key&&"."!=e.key&&(clearTimeout(this.time_cambio_cantidad_stoc),this.time_cambio_cantidad_stoc=setTimeout(function(){n.calcular_cantidad_subtotal(t,a),n.sumaTotal()},800))},e.prototype.sumaTotal=function(){var e=this.dato.controls.insumos,t=0,a=0;if("FI"===this.dato.value.estatus&&this.tieneid)for(var n=0;n<e.value.length;n++)for(var r=0,i=e.value[n].lotes;r<i.length;r++){var s=i[r];a+=Number(s.importe),"MC"===e.value[n].tipo&&(t+=.16*s.importe)}else for(var o=0;o<e.value.length;o++)a+=e.value[o].importe,"MC"===e.value[o].tipo&&(t+=.16*e.value[o].importe);this.subtotal_precios=a,this.total_iva=t,this.total_precio=Number(this.subtotal_precios)+Number(this.total_iva)},e.prototype.no_requerirCampo=function(e,t){var a=t?this.dato.controls[t]:this.dato;console.log(this.dato.controls.movimiento_metadato.controls.donacion.value),!0!==this.dato.controls.movimiento_metadato.controls.donacion.value&&1!==this.dato.controls.movimiento_metadato.controls.donacion.value&&"1"!==this.dato.controls.movimiento_metadato.controls.donacion.value||(a.get(e).disable(),a.get(e).patchValue(""),this.dato.controls.movimiento_metadato.controls.donante.enable()),!1!==this.dato.controls.movimiento_metadato.controls.donacion.value&&0!==this.dato.controls.movimiento_metadato.controls.donacion.value&&"0"!==this.dato.controls.movimiento_metadato.controls.donacion.value||(a.get(e).enable(),this.dato.controls.movimiento_metadato.controls.donante.disable(),this.dato.controls.movimiento_metadato.controls.donante.patchValue("")),console.log(this.dato)},e.prototype.guardar_movimiento=function(){0===this.dato.controls.insumos.length?this.notificacion.warn("Insumos","Debe agregar por lo menos un insumo",this.objeto):(this.estoymodificando=!0,this.dato.controls.estatus.patchValue("FI"),document.getElementById("guardarMovimiento").classList.add("is-active"))},e.prototype.guardarBorrador=function(){this.dato.controls.estatus.patchValue("BR"),document.getElementById("borrador").click()},e.prototype.actualizarDatos=function(){var e,t=this;this.cargando=!0;try{e=this.dato.getRawValue()}catch(t){e=this.dato.value}this.crudService.editar(this.dato.controls.id.value,e,"entrada-almacen-standard").subscribe(function(e){document.getElementById("actualizar").click(),t.cargando=!1,t.mensajeResponse.texto="Se han guardado los cambios.",t.mensajeResponse.mostrar=!0,t.mensajeResponse.clase="success",t.mensaje(2)},function(e){t.cargando=!1,t.mensajeResponse.texto="No especificado.",t.mensajeResponse.mostrar=!0,t.mensajeResponse.clase="alert",t.mensaje(2);try{var a=e.json();if(401==e.estatus&&(t.mensajeResponse.texto="No tiene permiso para hacer esta operaci\xf3n.",t.mensajeResponse.clase="error",t.mensaje(2)),409==e.estatus)for(var n in t.mensajeResponse.texto="Por favor verfique los campos marcados en rojo.",t.mensajeResponse.clase="error",t.mensaje(8),a.error)for(var r in a.error[n])t.mensajeResponse.titulo=n,t.mensajeResponse.texto=a.error[n][r],t.mensajeResponse.clase="error",t.mensaje(3)}catch(a){500==e.estatus?t.mensajeResponse.texto="500 (Error interno del servidor)":t.mensajeResponse.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir.",t.mensajeResponse.clase="error",t.mensaje(2)}})},e.prototype.llenarJson=function(e){this.dato.get("multiprograma").patchValue(e[0]),this.cancelarModal("modal_multiprograma"),"borrarInsumo"===e&&this.sumaTotal()},e.prototype.imprimir=function(){var e,t=this;try{this.cargandoPdf=!0,this.cargando=!0,this.crudService.ver(this.dato.controls.id.value,"entrada-almacen-standard").subscribe(function(a){e=a,t.cargando=!1;var n={datos:e,lista:t.dato.value.insumos,usuario:t.usuario,monto_total:t.total_precio};t.pdfworker.postMessage(JSON.stringify(n)),t.sumaTotal(),t.mensajeResponse.titulo="Modificar",t.mensajeResponse.texto="Los datos se cargaron",t.mensajeResponse.clase="success",t.mensaje(2)},function(e){t.cargando=!1,t.mensajeResponse=new Ae(!0),t.mensajeResponse=new Ae(!0),t.mensajeResponse.mostrar;try{e.json();401==e.status&&(t.mensajeResponse.texto="No tiene permiso para hacer esta operaci\xf3n.",t.mensajeResponse.clase="success",t.mensaje(2))}catch(a){500==e.status?t.mensajeResponse.texto="500 (Error interno del servidor)":t.mensajeResponse.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir.",t.mensajeResponse.clase="error",t.mensaje(2)}})}catch(e){this.cargandoPdf=!1}},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},e.prototype.mensaje=function(e,t){void 0===e&&(e=6),void 0===t&&(t=["bottom","left"]);var a={showProgressBar:!0,pauseOnHover:!1,clickToClose:!0,maxLength:this.mensajeResponse.texto.length};this.options={position:t,timeOut:1e3*e,lastOnBottom:!0},""===this.mensajeResponse.titulo&&(this.mensajeResponse.titulo="Entradas de almac\xe9n"),"alert"===this.mensajeResponse.clase&&this.notificacion.alert(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"success"===this.mensajeResponse.clase&&this.notificacion.success(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"info"===this.mensajeResponse.clase&&this.notificacion.info(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"warning"!==this.mensajeResponse.clase&&"warn"!==this.mensajeResponse.clase||this.notificacion.warn(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"error"!==this.mensajeResponse.clase&&"danger"!==this.mensajeResponse.clase||this.notificacion.error(this.mensajeResponse.titulo,this.mensajeResponse.texto,a)},e=Hu([Object(n.Component)({selector:"salidas-estandar-formulario",template:a("IpDl"),styles:["ngui-auto-complete {z-index: 999999 !important}"],host:{"(document:keydown)":"handleKeyboardEvents($event)"}}),Ju("design:paramtypes",[l.FormBuilder,gr,h.a,i.DomSanitizer,p.NotificationsService,n.NgZone])],e)}(),Ku=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Xu=[{path:"almacen-estandar/entradas",children:[{path:"",component:Yu,canActivate:[D],data:{key:"a1OMZVn7dveOf5aUK8V0VsvvSCxz8EMw"}},{path:"nuevo",component:$u,canActivate:[D],data:{key:"a1OMZVn7dveOf5aUK8V0VsvvSCxz8EMw"}},{path:"editar/:id",component:$u,canActivate:[D],data:{key:"a1OMZVn7dveOf5aUK8V0VsvvSCxz8EMw"}},{path:"ver/:id",component:$u,canActivate:[D],data:{key:"a1OMZVn7dveOf5aUK8V0VsvvSCxz8EMw"}}],canActivate:[M]}],Zu=function(){function e(){}return e=Ku([Object(n.NgModule)({imports:[h.c.forChild(Xu)],exports:[h.c],providers:[]})],e)}(),Qu=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Wu=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ep=function(){function e(e,t,a,r,i){this.fb=e,this.router=t,this.route=a,this.crudService=r,this._sanitizer=i,this.MultiprogramaJson=new n.EventEmitter,this.tieneid=!1,this.mostrar_pantalla=!1,this.cargandoCatalogo=!1,this.lista_programas=[],this.multiprograma=[]}return e.prototype.ngOnInit=function(){var e=this;JSON.parse(localStorage.getItem("usuario"));this.dato2=this.fb.group({programas:["",[l.Validators.required]],jurisdiccion_id:[""]}),this.route.params.subscribe(function(t){t.clues&&(e.tieneid=!0)}),document.getElementById("catalogoPrograma").click()},e.prototype.ngAfterViewInit=function(){document.getElementById("actualizar").click()},e.prototype.cargarCatalogo=function(e,t,a){var n=this;this.multiprograma=[],this[t]=[],this.cargandoCatalogo=!0,this.crudService.lista_general(e).subscribe(function(e){n.cargandoCatalogo=!1;for(var r=0,i=e;r<i.length;r++){var s=i[r];1!==s[a]&&"1"!==s[a]||n[t].push(s)}})},e.prototype.agregarLista=function(e,t,a){var n=this[e].indexOf(a);n>-1?this[e].splice(n,1):this[e].push(a)},e.prototype.enviar=function(e){this.MultiprogramaJson.next([this.multiprograma])},Qu([Object(n.Output)(),Wu("design:type",Object)],e.prototype,"MultiprogramaJson",void 0),e=Qu([Object(n.Component)({selector:"app-modal-programas",template:a("HJTT")}),Wu("design:paramtypes",[l.FormBuilder,h.b,h.a,gr,i.DomSanitizer])],e)}(),tp=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},ap=function(){function e(){}return e=tp([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,Zu,ee,de,fe,qe,je,Uu,Ir,jr.NguiAutoCompleteModule,Oi.NguiDatetimePickerModule,Ao.TextMaskModule,wo.MomentModule],declarations:[Yu,$u,ep],providers:[_,gr]})],e)}(),np=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},rp=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ip=function(){function e(e,t){this._ngZone=e,this.crudService=t,this.fecha_desde="",this.fecha_hasta="",this.turno="",this.servicio="",this.recibe="",this.cargandoPdf=!1}return e.prototype.ngOnInit=function(){this.usuario=JSON.parse(localStorage.getItem("usuario")),this.pdfworker=new Worker("web-workers/almacen-estandar/salidas/lista-salidas-estandar.js");var e=this,t=this._ngZone;this.pdfworker.onmessage=function(a){t.run(function(){e.cargandoPdf=!1}),ft.saveAs(e.base64ToBlob(a.data.base64,"application/pdf"),a.data.fileName)}},e.prototype.export_excel=function(){var e=this.tr.first.nativeElement.options,t=this.sr.first.nativeElement.options;e=e[e.selectedIndex].text,t=t[t.selectedIndex].text;var a="<table><tr><th colspan='7'><h1>Salida Estandar</h1></th></tr><tr><th>Desde: "+this.fecha_desde+"</th><th>Hasta: "+this.fecha_hasta+"</th><th>Turno: "+e+"</th><th>Servicio: "+t+"</th><th>Recibe: "+this.recibe+"</th></tr><tr><th colspan='7'></th></tr></table>";a+=document.getElementById("exportable").innerHTML;var n=new Blob([a],{type:"text/comma-separated-values;charset=utf-8"});try{ft.saveAs(n,"salida_estandar.xls")}catch(e){console.log(e)}},e.prototype.imprimir=function(){var e=this;try{this.cargandoPdf=!0;var t=this.tr.first.nativeElement.options,a=this.sr.first.nativeElement.options;t=t[t.selectedIndex].text,a=a[a.selectedIndex].text,this.crudService.lista_general("salida-almacen-standard?tipo=2&fecha_desde="+this.fecha_desde+"&fecha_hasta="+this.fecha_hasta+"&turno="+this.turno+"&servicio="+this.servicio+"&recibe="+this.recibe).subscribe(function(n){e.cargando=!1,e.lista_impresion=n;var r={lista:e.lista_impresion,usuario:e.usuario,fecha_desde:e.fecha_desde,fecha_hasta:e.fecha_hasta,turno:t,servicio:a,recibe:e.recibe};e.pdfworker.postMessage(JSON.stringify(r))},function(e){})}catch(e){this.cargandoPdf=!1}},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},np([Object(n.ViewChildren)("tr"),rp("design:type",Object)],e.prototype,"tr",void 0),np([Object(n.ViewChildren)("sr"),rp("design:type",Object)],e.prototype,"sr",void 0),e=np([Object(n.Component)({selector:"app-salidas-almacen-lista",template:a("hqc2")}),rp("design:paramtypes",[n.NgZone,gr])],e)}(),sp=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},op=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},lp=function(){function e(e,t,a,n,r,i){var s=this;this.fb=e,this.crudService=t,this.route=a,this._sanitizer=n,this.notificacion=r,this._ngZone=i,this.total_precio=0,this.total_iva=0,this.subtotal_precios=0,this.modo="N",this.cant_solicitada_valida=!1,this.cargandoCatalogo=!1,this.sum_cant_lotes=!1,this.mostrar_lote=[],this.mask=[/[2]/,/\d/,/\d/,/\d/,"-",/\d/,/\d/,"-",/\d/,/\d/],this.autoCorrectedDatePipe=Object(xo.createAutoCorrectedDatePipe)("yyyy-mm-dd"),this.insumos_term=v.API_URL+"/insumos-auto?term=:keyword",this.objeto={showProgressBar:!0,pauseOnHover:!0,clickToClose:!0,maxLength:2e3},this.MinDate=new Date,this.MaxDate=new Date,this.fecha_invalida=!0,this.tieneid=!1,this.cargando=!1,this.res_busq_insumos=[],this.cargandoPdf=!1,this.mensajeResponse=new Ae,this.titulo="Salidas est\xe1ndar",this.options={position:["bottom","right"],timeOut:2e3,lastOnBottom:!0},this.lista_programas=[],this.es_unidosis=!1,this.autocompleListFormatter=function(e){var t='\n    <div class="card">\n      <div class="card-content">\n        <div class="media">          \n          <div class="media-content">\n            <p class="title is-4"> <small>'+e.descripcion+'</small></p>\n            <p class="subtitle is-6">\n              <strong>Clave: </strong> '+e.clave+") \n              ";return 1==e.es_causes&&(t+='<label class="tag is-success" ><strong>Cause </strong></label>'),0==e.es_causes&&(t+='<label class="tag" style="background: #B8FB7E; border-color: #B8FB7E; color: rgba(0,0,0,0.7);"><strong>No Cause </strong> </label>'),1==e.es_unidosis&&(t+='<label class="tag is-warning" ><strong>Unidosis</strong></label>'),t+="\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>",s._sanitizer.bypassSecurityTrustHtml(t)}}return e.prototype.ngOnInit=function(){var e=this;this.usuario=JSON.parse(localStorage.getItem("usuario")),document.getElementById("catalogos").click(),document.getElementById("actualizar").click(),this.usuario.clues_activa&&(this.insumos_term+="&clues="+this.usuario.clues_activa.clues),this.usuario.almacen_activo&&(this.insumos_term+="&almacen="+this.usuario.almacen_activo.id),this.pdfworker=new Worker("web-workers/almacen-estandar/salidas/salida-estandar.js");var t=this,a=this._ngZone;this.pdfworker.onmessage=function(e){a.run(function(){t.cargandoPdf=!1}),ft.saveAs(t.base64ToBlob(e.data.base64,"application/pdf"),e.data.fileName)},this.dato=this.fb.group({id:[""],tipo_movimiento_id:["2",[l.Validators.required]],estatus:["FI"],fecha_movimiento:["",[l.Validators.required]],observaciones:[""],cancelado:[""],programa_id:["",[l.Validators.required]],observaciones_cancelacion:[""],movimiento_metadato:this.fb.group({turno_id:["",[l.Validators.required]],servicio_id:["",[l.Validators.required]],persona_recibe:["",[l.Validators.required]]}),insumos:this.fb.array([]),insumos_negados:this.fb.array([])}),this.route.params.subscribe(function(t){t.id&&(e.tieneid=!0)});var n=new Date;this.MinDate=new Date(n.getFullYear()-1,0,1),this.MaxDate=new Date(n.getFullYear(),n.getMonth(),n.getDate()),this.MinDateCaducidad=n.getFullYear()+"-"+("00"+(n.getMonth()+1)).slice(-2)+"-"+n.getDate(),this.dato.get("fecha_movimiento").value?this.fecha_actual=this.dato.get("fecha_movimiento").value:(this.fecha_actual=n.getFullYear()+"-"+("00"+(n.getMonth()+1)).slice(-2)+"-"+n.getDate(),this.dato.get("fecha_movimiento").patchValue(this.fecha_actual)),this.cargarCatalogo("programa","lista_programas","estatus")},e.prototype.cargarCatalogo=function(e,t,a){var n=this;this[t]=[],this.cargandoCatalogo=!0,this.crudService.lista_general(e).subscribe(function(e){n.cargandoCatalogo=!1;for(var r=0,i=e;r<i.length;r++){var s=i[r];1!==s[a]&&"1"!==s[a]||n[t].push(s)}})},e.prototype.comprobar_lista=function(){this.dato.controls.insumos.value.length>0?this.abrirModal("cambiarPrograma"):this.programa_elegido=this.dato.controls.programa_id.value},e.prototype.mantenerPrograma=function(e){e?this.dato.get("programa_id").patchValue(this.programa_elegido):(this.programa_elegido=this.dato.controls.programa_id.value,this.dato.controls.insumos=this.fb.array([]))},e.prototype.abrirModal=function(e,t){t&&(this.index_borrar=t),document.getElementById(e).classList.add("is-active")},e.prototype.cancelarModal=function(e){document.getElementById(e).classList.remove("is-active"),"verLotes"===e&&(this.cantidad_solicitadaBoxViewChildren.first.nativeElement.value="",this.cantidad_solicitadaBoxViewChildren.first.nativeElement.focus())},e.prototype.enviarAutocomplete=function(e){var t=this;this.cargando=!0;var a="";this.usuario.clues_activa&&(a+="&clues="+this.usuario.clues_activa.clues),this.usuario.almacen_activo&&(a+="&almacen="+this.usuario.almacen_activo.id);var n=this.dato.controls.programa_id.value;v.API_URL;this.crudService.busquedaInsumos(e,"insumos-auto",n).subscribe(function(e){t.cargando=!1,t.res_busq_insumos=e,0===t.res_busq_insumos.length&&t.notificacion.warn("Insumos","No hay resultados que coincidan",t.objeto)})},e.prototype.select_insumo_autocomplete=function(e){var t=this,a=JSON.parse(localStorage.getItem("usuario"));this.cargando=!0,this.crudService.lista(0,1e3,"comprobar-stock?almacen="+a.almacen_activo.id+"&programa_id="+this.programa_elegido+"&clave="+e.clave).subscribe(function(a){for(var n=0,r=t.dato.get("insumos").value;n<r.length;n++){var i=r[n];if(0==a.length)break;if(i.clave==a[0].clave_insumo_medico)for(var s=0,o=i.lotes;s<o.length;s++)for(var l=o[s],c=0,d=a;c<d.length;c++){var u=d[c];if(l.id===u.id)try{l.cantidad>0&&("U"===i.modo_salida&&(u.existencia=u.existencia-l.cantidad/i.cantidad_x_envase),"N"===i.modo_salida&&(u.existencia=u.existencia-l.cantidad),u.existencia_unidosis=u.existencia*i.cantidad_x_envase)}catch(e){console.log(e)}}}t.lotes_insumo=a,t.insumo=e,document.getElementById("buscarInsumo").value="",t.res_busq_insumos=[],document.getElementById("tituloModal").innerHTML=" "+e.descripcion+' <br>\n          <p aling="justify" style="font-size:12px">'+e.descripcion+'</p> \n          <p aling="justify" style="font-size:16px"> CANTIDAD POR ENVASE: \n          '+(e.cantidad_x_envase?e.cantidad_x_envase:"Sin especificar")+"</p>",t.es_unidosis=e.es_unidosis,t.unidad_medida=e.unidad_medida,t.cargando=!1,t.abrirModal("verLotes")},function(e){t.cargando=!1})},e.prototype.agregarLoteIsumo=function(e){for(var t=this.dato.controls.insumos,a={clave:this.insumo.clave,nombre:this.insumo.nombre,descripcion:this.insumo.descripcion,es_causes:this.insumo.es_causes,es_unidosis:this.insumo.es_unidosis,cantidad:1,presentacion_nombre:this.insumo.presentacion_nombre,unidad_medida:this.insumo.unidad_medida,cantidad_x_envase:this.insumo.cantidad_x_envase?parseInt(this.insumo.cantidad_x_envase):1,cantidad_surtida:1,modo_salida:this.modo,cantidad_solicitada:e,cantidad_solicitada_unidosis:e,tipo:this.insumo.tipo,lotes:this.fb.array([])},n=!1,r=0,i=0,s=t.value;i<s.length;i++){if((p=s[i]).clave==this.insumo.clave&&(!0,p.modo_salida==this.modo)){n=!0;break}r++}n||t.push(this.fb.group(a));var o=r,l=t.controls[o];this.mostrar_lote[o]=!1;var c={showProgressBar:!0,pauseOnHover:!0,clickToClose:!0,maxLength:2e3};this.options={position:["top","right"],timeOut:5e3,lastOnBottom:!0};for(var d=0,u=this.lotes_insumo;d<u.length;d++){var p;if((p=u[d]).cantidad>0){var m=!1;if(n){for(var g=0,f=l.controls.lotes.controls;g<f.length;g++){if((_=f[g]).controls.id.value==p.id){m=!0;var h=_.controls.cantidad.value+p.cantidad;_.controls.cantidad.value,p.cantidad;"N"==this.modo&&h>_.controls.existencia.value&&(this.notificacion.alert("Cantidad Excedida","La cantidad maxima es: "+_.controls.existencia.value,c),h=1*_.controls.existencia.value),"U"==this.modo&&h>_.controls.existencia_unidosis.value&&(this.notificacion.alert("Cantidad Excedida","La cantidad maxima es: "+_.controls.existencia_unidosis.value,c),h=1*_.controls.existencia_unidosis.value),_.controls.cantidad.patchValue(h);break}}this.sumaTotal()}m||(p.nuevo&&(p.existencia=1*p.cantidad),"N"==this.modo&&p.cantidad>p.existencia&&(this.notificacion.alert("Cantidad Excedida","La cantidad maxima es: "+p.existencia,c),p.cantidad=1*p.existencia),"U"==this.modo&&p.cantidad>p.existencia_unidosis&&(this.notificacion.alert("Cantidad Excedida","La cantidad maxima es: "+p.existencia_unidosis,c),p.cantidad=1*p.existencia_unidosis),l.controls.lotes.push(this.fb.group({id:p.id,nuevo:0|p.nuevo,codigo_barras:p.codigo_barras,lote:p.lote,fecha_caducidad:p.fecha_caducidad,existencia:p.nuevo?p.cantidad:p.existencia,cantidad:p.cantidad,existencia_unidosis:p.nuevo?p.cantidad:p.existencia_unidosis,modo_salida:this.modo,precio_unitario:p.movimiento_insumo.precio_unitario})),this.sumaTotal())}}for(var v=0,b=0,y=l.controls.lotes.value;b<y.length;b++){var _;v+=(_=y[b]).cantidad,_.cantidad}if("N"==l.controls.modo_salida.value&&(l.controls.cantidad_surtida.patchValue(v),n)){var x=l.controls.cantidad_solicitada.value;e=Number(x)+Number(e),l.controls.cantidad_solicitada.patchValue(e)}if("U"==l.controls.modo_salida.value&&(l.controls.cantidad_surtida.patchValue(v),n)){x=l.controls.cantidad_solicitada.value;e=Number(x)+Number(e),l.controls.cantidad_solicitada.patchValue(e)}this.cancelarModal("verLotes"),this.cancelarModal("negarExistencia"),this.cantidad_solicitadaBoxViewChildren.first.nativeElement.value="",this.cantidad_solicitadaBoxViewChildren.first.nativeElement.focus(),this.cant_solicitada_valida=!1,this.sum_cant_lotes=!1,this.modo="N"},e.prototype.ver_lotes_asignados=function(e){this.mostrar_lote[e]=!this.mostrar_lote[e]},e.prototype.agregarNuevoLote=function(){this.lotes_insumo.push({id:""+Math.floor(999*Math.random())+1,codigo_barras:"",lote:"",fecha_caducidad:"",existencia:"",cantidad:"",nuevo:1,existencia_unidosis:"",cantidad_unidosis:""})},e.prototype.eliminarLote=function(e){this.lotes_insumo.splice(e,1)},e.prototype.quitar_lote_insumo=function(e,t,a){var n=this.dato.controls.insumos.controls[e];n.controls.lotes.removeAt(a);var r=n.controls.cantidad_surtida.value-t.cantidad;n.controls.cantidad_surtida.patchValue(r)},e.prototype.validar_cantidad_lote=function(e,t,a,n){if("N"==n&&t.controls.cantidad.value>t.controls.existencia.value){var r={showProgressBar:!0,pauseOnHover:!0,clickToClose:!0,maxLength:2e3};this.notificacion.alert("Cantidad Excedida","La cantidad maxima es: "+t.controls.existencia.value,r),t.controls.cantidad.patchValue(1*t.controls.existencia.value)}if("U"==n&&t.controls.cantidad.value>t.controls.existencia_unidosis.value){r={showProgressBar:!0,pauseOnHover:!0,clickToClose:!0,maxLength:2e3};this.notificacion.alert("Cantidad Excedida","La cantidad maxima es: "+t.controls.existencia_unidosis.value,r),t.controls.cantidad.patchValue(1*t.controls.existencia_unidosis.value)}for(var i=this.dato.controls.insumos.controls[e],s=0,o=0,l=i.controls.lotes.value;o<l.length;o++){s+=l[o].cantidad}i.controls.cantidad_surtida.patchValue(s)},e.prototype.comprobar_cant_lotes=function(){for(var e=0,t=0,a=this.lotes_insumo;t<a.length;t++){var n=a[t];n.cantidad&&(e=Number(e)+Number(n.cantidad))}this.sum_cant_lotes=e>0},e.prototype.comprobar_cant_solicitada=function(e){this.cant_solicitada_valida=e>0},e.prototype.quitar_punto=function(e){return!!this.is_numeric(e.key)},e.prototype.is_numeric=function(e){return/^\d+$/.test(e)},e.prototype.validar_fecha=function(){for(var e,t=Io(),a=0,n=0,r=this.lotes_insumo;n<r.length;n++){var i=r[n];e=Io(i.fecha_caducidad,"YYYY-MM-DD"),i.nuevo&&(e.isValid()?e<=t&&(a++,this.mensajeResponse.texto="La fecha de caducidad debe ser mayor al d\xeda de hoy",this.mensajeResponse.clase="warning",this.mensaje(8)):(a++,this.mensajeResponse.texto="Debe ingresar una fecha v\xe1lida",this.mensajeResponse.clase="warning",this.mensaje(8)))}this.fecha_invalida=!(a>0)},e.prototype.guardar_movimiento=function(){var e=!0,t=this.dato.controls.insumos;if(0===t.length)this.notificacion.warn("Insumos","Debe agregar por lo menos un insumo",this.objeto);else{for(var a=0,n=t.value;a<n.length;a++){0===n[a].lotes.length&&(e=!1)}e?document.getElementById("guardarMovimiento").classList.add("is-active"):(document.getElementById("tituloGuardar").innerHTML=' <br>\n          <p aling="justify" style="font-size:12px; color: red"> Contiene insumos con existencia negada.</p>',document.getElementById("guardarMovimiento").classList.add("is-active"),this.notificacion.warn("Insumos","negarExistencia",this.objeto))}},e.prototype.handleKeyboardEvents=function(e){if("buscarMedico"===document.activeElement.id)document.getElementById("buscarMedico").focus();else if(this.key=e.which||e.keyCode,13===e.keyCode)return document.getElementById("buscarInsumo").focus(),e.preventDefault(),!1},e.prototype.sumaTotal=function(){for(var e=this.dato.controls.insumos,t=0,a=0,n=0,r=0;r<e.value.length;r++){console.log(e.value[r]);for(var i=0,s=e.value[r].lotes;i<s.length;i++){var o=s[i];n=Number(o.cantidad)*Number(o.precio_unitario),a+=Number(n),"MC"===e.value[r].tipo&&(t+=.16*n)}}this.subtotal_precios=a,this.total_iva=t,this.total_precio=Number(this.subtotal_precios)+Number(this.total_iva)},e.prototype.mensaje=function(e,t){void 0===e&&(e=6),void 0===t&&(t=["bottom","left"]);var a={showProgressBar:!0,pauseOnHover:!1,clickToClose:!0,maxLength:this.mensajeResponse.texto.length};this.options={position:t,timeOut:1e3*e,lastOnBottom:!0},""===this.mensajeResponse.titulo&&(this.mensajeResponse.titulo=this.titulo),"alert"===this.mensajeResponse.clase&&this.notificacion.alert(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"success"===this.mensajeResponse.clase&&this.notificacion.success(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"info"===this.mensajeResponse.clase&&this.notificacion.info(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"warning"!==this.mensajeResponse.clase&&"warn"!==this.mensajeResponse.clase||this.notificacion.warn(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"error"!==this.mensajeResponse.clase&&"danger"!==this.mensajeResponse.clase||this.notificacion.error(this.mensajeResponse.titulo,this.mensajeResponse.texto,a)},e.prototype.imprimir=function(){for(var e,t,a=JSON.parse(localStorage.getItem("usuario")),n=0,r=this.array_turnos.clues_turnos;n<r.length;n++){var i=r[n];if(this.dato.value.movimiento_metadato.turno_id===i.id){e=i;break}}for(var s=0,o=this.array_servicios.clues_servicios;s<o.length;s++){i=o[s];if(this.dato.value.movimiento_metadato.servicio_id===i.id){t=i;break}}try{this.cargandoPdf=!0;var l={datos:this.dato.value,lista:this.dato.value.insumos,turno:e||"No disponible",servicio:t||"No disponible",usuario:a};this.pdfworker.postMessage(JSON.stringify(l))}catch(e){this.cargandoPdf=!1}},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},sp([Object(n.ViewChildren)("cantidad_solicitada"),op("design:type",Object)],e.prototype,"cantidad_solicitadaBoxViewChildren",void 0),sp([Object(n.ViewChildren)("cantidad_solicitada_unidosis"),op("design:type",Object)],e.prototype,"cantidad_solicitada_unidosisBoxViewChildren",void 0),e=sp([Object(n.Component)({selector:"app-salidas-estandar-formulario",template:a("/vpG"),styles:[a("qOWO")],styles:["ngui-auto-complete {z-index: 999999 !important}"],host:{"(document:keydown)":"handleKeyboardEvents($event)"}}),op("design:paramtypes",[l.FormBuilder,gr,h.a,i.DomSanitizer,p.NotificationsService,n.NgZone])],e)}(),cp=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},dp=[{path:"almacen-estandar/salidas",children:[{path:"",component:ip,canActivate:[D],data:{key:"qQvNeb1UFPOfVMKQnNkvxyqjCIUgFuEG"}},{path:"nuevo",component:lp,canActivate:[D],data:{key:"qQvNeb1UFPOfVMKQnNkvxyqjCIUgFuEG"}},{path:"ver/:id",component:lp,canActivate:[D],data:{key:"qQvNeb1UFPOfVMKQnNkvxyqjCIUgFuEG"}}],canActivate:[M]}],up=function(){function e(){}return e=cp([Object(n.NgModule)({imports:[h.c.forChild(dp)],exports:[h.c],providers:[]})],e)}(),pp=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},mp=function(){function e(){}return e=pp([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,up,ee,de,fe,qe,je,Uu,Ir,jr.NguiAutoCompleteModule,Oi.NguiDatetimePickerModule,Ao.TextMaskModule,wo.MomentModule,p.SimpleNotificationsModule],declarations:[ip,lp],providers:[_,gr]})],e)}(),gp=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},fp=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},hp=function(){function e(e){this.title=e,this.usuario={},this.busqueda="",this.modulos=[],this.modulosAutorizados=[],this.accesosDirectos=[],this.accesosDirectosAutorizados=[]}return e.prototype.ngOnInit=function(){this.title.setTitle("Laboratorio"),this.usuario=JSON.parse(localStorage.getItem("usuario")),this.modulos=[{permiso:"PzmTtCd1MbMWVBPwVmttQQWdNfqwzp7p",icono:"assets/icono-entradas-laboratorio.svg",titulo:"Entrada de laboratorio",url:"/laboratorio/entradas-laboratorio"},{permiso:"7GkcqRllVy4Z371KMLPsX0d04dqv3vBE",icono:"assets/icono-salidas-laboratorio.svg",titulo:"Salidas de laboratorio",url:"/laboratorio/salidas-laboratorio"},{permiso:"mJ2E55G7moiDdV3VpY2u7g5obUzeop7p",icono:"assets/icono-stock-lab.svg",titulo:"Existencias de laboratorio",url:"/laboratorio/existencias"}],this.accesosDirectos=[];var e=JSON.parse(localStorage.getItem("usuario")).permisos.split("|");if(e.length>0){for(var t in this.modulos)e:for(var a in e)if(e[a]==this.modulos[t].permiso){this.modulosAutorizados.push(this.modulos[t]);break e}for(var t in this.accesosDirectos)e:for(var a in e)if(e[a]==this.accesosDirectos[t].permiso){this.accesosDirectosAutorizados.push(this.accesosDirectos[t]);break e}}},e=gp([Object(n.Component)({selector:"app-index-laboratorio",template:a("NhMh"),styles:[a("MwdP")]}),fp("design:paramtypes",[i.Title])],e)}(),vp=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},bp=[{path:"laboratorio",component:hp,canActivate:[M]}],yp=function(){function e(){}return e=vp([Object(n.NgModule)({imports:[h.c.forChild(bp)],exports:[h.c],providers:[]})],e)}(),_p=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},xp=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ip=function(){function e(){this.usuario={}}return e.prototype.ngOnInit=function(){this.usuario=JSON.parse(localStorage.getItem("usuario"))},_p([Object(n.Input)(),xp("design:type",String)],e.prototype,"modulo",void 0),_p([Object(n.Input)(),xp("design:type",String)],e.prototype,"icono",void 0),_p([Object(n.Input)(),xp("design:type",String)],e.prototype,"url",void 0),e=_p([Object(n.Component)({selector:"app-menu-laboratorio",template:a("E/ad"),styles:[a("KSqy")]}),xp("design:paramtypes",[])],e)}(),jp=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},kp=function(){function e(){}return e=jp([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,yp,ee,de,fe,je],exports:[Ip],declarations:[hp,Ip]})],e)}(),Cp=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Ep=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Pp=function(){function e(e,t,a){this._ngZone=e,this.crudService=t,this.notificacion=a,this.fecha_desde="",this.fecha_hasta="",this.turno="",this.servicio="",this.recibe="",this.cargandoPdf=!1,this.mensajeResponse=new Ae,this.options={position:["bottom","right"],timeOut:2e3,lastOnBottom:!0}}return e.prototype.ngOnInit=function(){this.usuario=JSON.parse(localStorage.getItem("usuario")),this.pdfworker=new Worker("web-workers/laboratorio/lista-entradas.js");var e=this,t=this._ngZone;this.pdfworker.onmessage=function(a){t.run(function(){e.cargandoPdf=!1}),ft.saveAs(e.base64ToBlob(a.data.base64,"application/pdf"),a.data.fileName)}},e.prototype.export_excel=function(){var e="<table><tr><th colspan='7'><h1>Entrada Laboratorio</h1></th></tr><tr><th>Desde: "+this.fecha_desde+"</th><th>Hasta: "+this.fecha_hasta+"</th></th><th>Recibe: "+this.recibe+"</th></tr><tr><th colspan='7'></th></tr></table>";e+=document.getElementById("exportable").innerHTML;var t=new Blob([e],{type:"text/comma-separated-values;charset=utf-8"});try{ft.saveAs(t,"Listado_entrada_de_laboratorio.xls")}catch(e){console.log(e)}},e.prototype.imprimir=function(){var e=this;this.cargandoPdf=!0,this.crudService.lista_general("entrada-laboratorio?fecha_desde="+this.fecha_desde+"&fecha_hasta="+this.fecha_hasta+"&recibe="+this.recibe).subscribe(function(t){e.cargando=!1,e.lista_impresion=t;try{var a={lista:e.lista_impresion,usuario:e.usuario,fecha_desde:e.fecha_desde,fecha_hasta:e.fecha_hasta,recibe:e.recibe};e.pdfworker.postMessage(JSON.stringify(a))}catch(t){e.cargandoPdf=!1}},function(t){e.cargandoPdf=!1,e.mensajeResponse.mostrar=!0;try{t.json();401===t.status&&(e.mensajeResponse.texto="No tiene permiso para hacer esta operaci\xf3n.",e.mensajeResponse.clase="danger",e.mensaje(2))}catch(a){500===t.status?e.mensajeResponse.texto="500 (Error interno del servidor)":e.mensajeResponse.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir.",e.mensajeResponse.clase="danger",e.mensaje(2)}})},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},e.prototype.mensaje=function(e,t){void 0===e&&(e=6),void 0===t&&(t=["bottom","left"]);var a={showProgressBar:!0,pauseOnHover:!1,clickToClose:!0,maxLength:this.mensajeResponse.texto.length};this.options={position:t,timeOut:1e3*e,lastOnBottom:!0},""===this.mensajeResponse.titulo&&(this.mensajeResponse.titulo="Entradas de almac\xe9n"),"alert"===this.mensajeResponse.clase&&this.notificacion.alert(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"success"===this.mensajeResponse.clase&&this.notificacion.success(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"info"===this.mensajeResponse.clase&&this.notificacion.info(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"warning"!==this.mensajeResponse.clase&&"warn"!==this.mensajeResponse.clase||this.notificacion.warn(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"error"!==this.mensajeResponse.clase&&"danger"!==this.mensajeResponse.clase||this.notificacion.error(this.mensajeResponse.titulo,this.mensajeResponse.texto,a)},Cp([Object(n.ViewChildren)("tr"),Ep("design:type",Object)],e.prototype,"tr",void 0),Cp([Object(n.ViewChildren)("sr"),Ep("design:type",Object)],e.prototype,"sr",void 0),e=Cp([Object(n.Component)({selector:"app-entradas-lista",template:a("f2yH")}),Ep("design:paramtypes",[n.NgZone,gr,p.NotificationsService])],e)}(),qp=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Ap=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},wp=function(){function e(e,t,a,n,r,i){var s=this;this.fb=e,this.crudService=t,this.route=a,this._sanitizer=n,this.notificacion=r,this._ngZone=i,this.cargando=!1,this.MinDate=new Date,this.MaxDate=new Date,this.tieneid=!1,this.estoymodificando=!1,this.cargandoProgramas=!1,this.mensajeResponse=new Ae,this.autoCorrectedDatePipe=Object(xo.createAutoCorrectedDatePipe)("yyyy-mm-dd"),this.cargandoPdf=!1,this.es_unidosis=!1,this.mostrar_lote=[],this.res_busq_insumos=[],this.lista_programas=[],this.llenando_formulario=!0,this.insumos_term=v.API_URL+"/insumos-laboratorio-clinico-auto?term=:keyword",this.mask=[/[2]/,/\d/,/\d/,/\d/,"-",/\d/,/\d/,"-",/\d/,/\d/],this.permisos=[],this.objeto={showProgressBar:!0,pauseOnHover:!0,clickToClose:!0,maxLength:3e3},this.options={position:["top","right"],timeOut:5e3,lastOnBottom:!0},this.autocompleListFormatter=function(e){var t='\n    <div class="card">\n      <div class="card-content">\n        <div class="media">          \n          <div class="media-content">\n            <p class="title is-4"><small>'+e.descripcion+'</small></p>\n            <p class="subtitle is-6">\n              <strong>Clave: </strong> '+e.clave+") \n              ";return 1==e.es_causes&&(t+='<label class="tag is-success" ><strong>Cause </strong></label>'),0==e.es_causes&&(t+='<label class="tag" style="background: #B8FB7E; border-color: #B8FB7E; color: rgba(0,0,0,0.7);"><strong>No Cause </strong> </label>'),1==e.es_unidosis&&(t+='<label class="tag is-warning" ><strong>Unidosis</strong> </label>'),t+="\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>",s._sanitizer.bypassSecurityTrustHtml(t)}}return e.prototype.ngOnInit=function(){var e=this;this.usuario=JSON.parse(localStorage.getItem("usuario")),this.permisos=this.usuario.permisos,this.usuario.clues_activa&&(this.insumos_term+="&clues="+this.usuario.clues_activa.clues),this.usuario.almacen_activo&&(this.insumos_term+="&almacen="+this.usuario.almacen_activo.id),this.pdfworker=new Worker("web-workers/laboratorio/entrada-laboratorio.js");var t=this,a=this._ngZone;this.pdfworker.onmessage=function(e){a.run(function(){t.cargandoPdf=!1}),ft.saveAs(t.base64ToBlob(e.data.base64,"application/pdf"),e.data.fileName)},this.dato=this.fb.group({id:[""],tipo_movimiento_id:["13",[l.Validators.required]],status:["FI"],fecha_movimiento:["",[l.Validators.required]],observaciones:[""],programa_id:[""],cancelado:[""],observaciones_cancelacion:[""],movimiento_metadato:this.fb.group({persona_recibe:["",[l.Validators.required]],servicio_id:[null],turno_id:[null]}),insumos:this.fb.array([])}),this.route.params.subscribe(function(t){t.id&&(e.tieneid=!0)}),this.dato.controls.id.valueChanges.subscribe(function(t){t&&(e.llenando_formulario=!0,setTimeout(function(){"BR"===e.dato.controls.status.value?e.llenarFormulario():e.llenando_formulario=!1},500))}),this.tieneid||(this.llenando_formulario=!1),this.form_insumos={tipo_movimiento_id:["",[l.Validators.required]]};var n=new Date;this.MinDate=new Date(n.getFullYear()-1,0,1),this.MaxDate=new Date(n.getFullYear(),n.getMonth(),n.getDate()),this.MinDateCaducidad=n.getFullYear()+"-"+("00"+(n.getMonth()+1)).slice(-2)+"-"+n.getDate(),this.dato.get("fecha_movimiento").value?this.fecha_actual=this.dato.get("fecha_movimiento").value:(this.fecha_actual=n.getFullYear()+"-"+("00"+(n.getMonth()+1)).slice(-2)+"-"+n.getDate(),this.dato.get("fecha_movimiento").patchValue(this.fecha_actual)),this.cargarCatalogo("programa")},e.prototype.cargarCatalogo=function(e){var t=this;this.cargandoProgramas=!0,this.crudService.lista_general(e).subscribe(function(e){t.cargandoProgramas=!1;for(var a=0,n=e;a<n.length;a++){var r=n[a];1!==r.status&&"1"!==r.status||t.lista_programas.push(r)}})},e.prototype.llenarFormulario=function(){for(var e,t=this.fb.array([]),a=0,n=this.dato.controls.insumos.value;a<n.length;a++){if((u=n[a]).lotes)for(var r=0,i=u.lotes;r<i.length;r++){var s=i[r];e={clave:u.clave,nombre:u.nombre,descripcion:u.descripcion,es_causes:u.es_causes,es_unidosis:u.es_unidosis,lote:[s.lote,[l.Validators.required]],id:s.id,codigo_barras:[s.codigo_barras,[l.Validators.required]],fecha_caducidad:[s.fecha_caducidad,[l.Validators.required]],cantidad:[Number(s.cantidad),[l.Validators.required]],cantidad_x_envase:null==u.informacion_ampliada_sustancia?1:u.informacion_ampliada_sustancia.cantidad_x_envase?Number(u.informacion_ampliada_sustancia.cantidad_x_envase):1,cantidad_surtida:1,movimiento_insumo_id:[s.movimiento_insumo_id],stock_id:[s.stock_id]},t.insert(0,this.fb.group(e))}}this.dato.controls.insumos=this.fb.array([]);for(var o=this.dato.controls.insumos,c=0,d=t.value;c<d.length;c++){var u=d[c];o.insert(0,this.fb.group(u))}this.llenando_formulario=!1},e.prototype.handleKeyboardEvents=function(e){if(this.key=e.which||e.keyCode,13===e.keyCode)return document.getElementById("buscarInsumo").focus(),e.preventDefault(),!1},e.prototype.abrirModal=function(e,t){t&&(this.index_borrar=t),document.getElementById(e).classList.add("is-active")},e.prototype.cancelarModal=function(e){document.getElementById(e).classList.remove("is-active"),"guardarMovimiento"===e&&this.dato.controls.status.patchValue("BR")},e.prototype.enviarAutocomplete=function(e){var t=this;this.cargando=!0;var a="";this.usuario.clues_activa&&(a+="&clues="+this.usuario.clues_activa.clues),this.usuario.almacen_activo&&(a+="&almacen="+this.usuario.almacen_activo.id);v.API_URL;this.crudService.busquedaInsumos(e,"insumos-laboratorio-clinico-auto").subscribe(function(e){t.cargando=!1,t.res_busq_insumos=e,0===t.res_busq_insumos.length&&t.notificacion.warn("Laboratorio","No hay resultados que coincidan",t.objeto)})},e.prototype.select_insumo_autocomplete=function(e){this.cargando=!0,this.insumo=e,this.agregarLoteIsumo(),document.getElementById("buscarInsumo").value="",this.res_busq_insumos=[],this.es_unidosis=e.es_unidosis,this.cargando=!1},e.prototype.agregarLoteIsumo=function(){var e,t=this.dato.controls.insumos;e=null==this.insumo.cantidad_x_envase?1:this.insumo.cantidad_x_envase;var a={clave:this.insumo.clave,nombre:this.insumo.nombre,descripcion:this.insumo.descripcion,es_causes:this.insumo.es_causes,es_unidosis:this.insumo.es_unidosis,lote:["",[l.Validators.required]],id:null,codigo_barras:[""],fecha_caducidad:["",[l.Validators.required]],cantidad:["",[l.Validators.required]],cantidad_x_envase:parseInt(e),cantidad_surtida:1,movimiento_insumo_id:null,stock_id:null};t.insert(0,this.fb.group(a))},e.prototype.ver_lotes_asignados=function(e){this.mostrar_lote[e]=!this.mostrar_lote[e]},e.prototype.agregarNuevoLote=function(){this.lotes_insumo.push({id:""+Math.floor(999*Math.random())+1,codigo_barras:"",lote:"",fecha_caducidad:"",existencia:"",cantidad:"",nuevo:1,existencia_unidosis:"",cantidad_unidosis:""})},e.prototype.eliminarLote=function(e){this.lotes_insumo.splice(e,1)},e.prototype.quitar_lote_insumo=function(e,t,a){var n=this.dato.controls.insumos.controls[e];n.controls.lotes.removeAt(a);var r=n.controls.cantidad_surtida.value-t.cantidad;n.controls.cantidad_surtida.patchValue(r)},e.prototype.validar_fecha=function(e,t){var a=this.dato.controls.insumos.controls[t],n=Io();Io(e,"YYYY-MM-DD",!0).isValid()?Io(e,"YYYY-MM-DD",!0)<=n.add(14,"days")&&(a.controls.fecha_caducidad.patchValue(""),this.notificacion.alert("Fecha inv\xe1lida","La fecha de caducidad debe ser mayor al "+n.format("YYYY-MM-DD"),this.objeto)):(this.notificacion.alert("Fecha inv\xe1lida","Debe ingresar una fecha v\xe1lida",this.objeto),a.controls.fecha_caducidad.patchValue(""))},e.prototype.quitar_punto=function(e){return!!this.is_numeric(e.key)},e.prototype.is_numeric=function(e){return/^\d+$/.test(e)},e.prototype.guardar_movimiento=function(){0===this.dato.controls.insumos.length?this.notificacion.warn("Laboratorio","Debe agregar por lo menos un insumo",this.objeto):(this.estoymodificando=!0,this.dato.controls.status.patchValue("FI"),document.getElementById("guardarMovimiento").classList.add("is-active"))},e.prototype.guardarBorrador=function(){this.dato.controls.status.patchValue("BR"),document.getElementById("borrador").click()},e.prototype.actualizarDatos=function(){var e,t=this;this.cargando=!0;try{e=this.dato.getRawValue()}catch(t){e=this.dato.value}this.crudService.editar(this.dato.controls.id.value,e,"entrada-laboratorio").subscribe(function(e){document.getElementById("actualizar").click(),t.cargando=!1,t.mensajeResponse.texto="Se han guardado los cambios.",t.mensajeResponse.mostrar=!0,t.mensajeResponse.clase="success",t.mensaje(2)},function(e){t.cargando=!1,t.mensajeResponse.texto="No especificado.",t.mensajeResponse.mostrar=!0,t.mensajeResponse.clase="alert",t.mensaje(2);try{var a=e.json();if(401==e.status&&(t.mensajeResponse.texto="No tiene permiso para hacer esta operaci\xf3n.",t.mensajeResponse.clase="error",t.mensaje(2)),409==e.status)for(var n in t.mensajeResponse.texto="Por favor verfique los campos marcados en rojo.",t.mensajeResponse.clase="error",t.mensaje(8),a.error)for(var r in a.error[n])t.mensajeResponse.titulo=n,t.mensajeResponse.texto=a.error[n][r],t.mensajeResponse.clase="error",t.mensaje(3)}catch(a){500==e.status?t.mensajeResponse.texto="500 (Error interno del servidor)":t.mensajeResponse.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir.",t.mensajeResponse.clase="error",t.mensaje(2)}})},e.prototype.imprimir=function(){try{this.cargandoPdf=!0;var e={datos:this.dato.value,lista:this.dato.value.insumos,usuario:this.usuario};this.pdfworker.postMessage(JSON.stringify(e))}catch(e){this.cargandoPdf=!1}},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},e.prototype.mensaje=function(e,t){void 0===e&&(e=6),void 0===t&&(t=["bottom","left"]);var a={showProgressBar:!0,pauseOnHover:!1,clickToClose:!0,maxLength:this.mensajeResponse.texto.length};this.options={position:t,timeOut:1e3*e,lastOnBottom:!0},""===this.mensajeResponse.titulo&&(this.mensajeResponse.titulo="Entradas de almac\xe9n"),"alert"===this.mensajeResponse.clase&&this.notificacion.alert(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"success"===this.mensajeResponse.clase&&this.notificacion.success(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"info"===this.mensajeResponse.clase&&this.notificacion.info(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"warning"!==this.mensajeResponse.clase&&"warn"!==this.mensajeResponse.clase||this.notificacion.warn(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"error"!==this.mensajeResponse.clase&&"danger"!==this.mensajeResponse.clase||this.notificacion.error(this.mensajeResponse.titulo,this.mensajeResponse.texto,a)},e=qp([Object(n.Component)({selector:"salidas-estandar-formulario",template:a("3qPz"),styles:["ngui-auto-complete {z-index: 999999 !important}"],host:{"(document:keydown)":"handleKeyboardEvents($event)"}}),Ap("design:paramtypes",[l.FormBuilder,gr,h.a,i.DomSanitizer,p.NotificationsService,n.NgZone])],e)}(),Sp=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Rp=[{path:"laboratorio/entradas-laboratorio",children:[{path:"",component:Pp,canActivate:[D],data:{key:"PzmTtCd1MbMWVBPwVmttQQWdNfqwzp7p"}},{path:"nuevo",component:wp,canActivate:[D],data:{key:"PzmTtCd1MbMWVBPwVmttQQWdNfqwzp7p"}},{path:"editar/:id",component:wp,canActivate:[D],data:{key:"PzmTtCd1MbMWVBPwVmttQQWdNfqwzp7p"}},{path:"ver/:id",component:wp,canActivate:[D],data:{key:"PzmTtCd1MbMWVBPwVmttQQWdNfqwzp7p"}}],canActivate:[M]}],Op=function(){function e(){}return e=Sp([Object(n.NgModule)({imports:[h.c.forChild(Rp)],exports:[h.c],providers:[]})],e)}(),Np=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Mp=function(){function e(){}return e=Np([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,Op,ee,de,fe,qe,je,kp,Ir,jr.NguiAutoCompleteModule,Oi.NguiDatetimePickerModule,Ao.TextMaskModule,wo.MomentModule],declarations:[Pp,wp],providers:[_,gr]})],e)}(),Bp=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Fp=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Dp=function(){function e(e,t){this._ngZone=e,this.crudService=t,this.fecha_desde="",this.fecha_hasta="",this.turno="",this.servicio="",this.recibe="",this.cargandoPdf=!1}return e.prototype.ngOnInit=function(){this.usuario=JSON.parse(localStorage.getItem("usuario")),this.pdfworker=new Worker("web-workers/laboratorio/lista-salidas.js");var e=this,t=this._ngZone;this.pdfworker.onmessage=function(a){t.run(function(){e.cargandoPdf=!1}),ft.saveAs(e.base64ToBlob(a.data.base64,"application/pdf"),a.data.fileName)}},e.prototype.export_excel=function(){var e=this.tr.first.nativeElement.options,t=this.sr.first.nativeElement.options;e=e[e.selectedIndex].text,t=t[t.selectedIndex].text;var a="<table><tr><th colspan='7'><h1>Salida Laboratorio Cl\xednico</h1></th></tr><tr><th>Desde: "+this.fecha_desde+"</th><th>Hasta: "+this.fecha_hasta+"</th><th>Turno: "+e+"</th><th>Servicio: "+t+"</th><th>Recibe: "+this.recibe+"</th></tr><tr><th colspan='7'></th></tr></table>";a+=document.getElementById("exportable").innerHTML;var n=new Blob([a],{type:"text/comma-separated-values;charset=utf-8"});try{ft.saveAs(n,"salida_laboratorio.xls")}catch(e){console.log(e)}},e.prototype.imprimir=function(){var e=this;try{this.cargandoPdf=!0;var t=this.tr.first.nativeElement.options,a=this.sr.first.nativeElement.options;t=t[t.selectedIndex].text,a=a[a.selectedIndex].text,this.crudService.lista_general("salida-laboratorio?tipo=2&fecha_desde="+this.fecha_desde+"&fecha_hasta="+this.fecha_hasta+"&turno="+this.turno+"&servicio="+this.servicio+"&recibe="+this.recibe).subscribe(function(n){e.cargando=!1,e.lista_impresion=n;var r={lista:e.lista_impresion,usuario:e.usuario,fecha_desde:e.fecha_desde,fecha_hasta:e.fecha_hasta,turno:t,servicio:a,recibe:e.recibe};e.pdfworker.postMessage(JSON.stringify(r))},function(e){})}catch(e){this.cargandoPdf=!1}},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},Bp([Object(n.ViewChildren)("tr"),Fp("design:type",Object)],e.prototype,"tr",void 0),Bp([Object(n.ViewChildren)("sr"),Fp("design:type",Object)],e.prototype,"sr",void 0),e=Bp([Object(n.Component)({selector:"app-salidas-estandar-lista",template:a("9wlZ")}),Fp("design:paramtypes",[n.NgZone,gr])],e)}(),Lp=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Tp=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},zp=function(){function e(e,t,a,n,r,i){var s=this;this.fb=e,this.crudService=t,this.route=a,this._sanitizer=n,this.notificacion=r,this._ngZone=i,this.modo="N",this.cant_solicitada_valida=!1,this.sum_cant_lotes=!1,this.cargandoCatalogos=!1,this.mask=[/[2]/,/\d/,/\d/,/\d/,"-",/\d/,/\d/,"-",/\d/,/\d/],this.autoCorrectedDatePipe=Object(xo.createAutoCorrectedDatePipe)("yyyy-mm-dd"),this.insumos_term=v.API_URL+"/insumos-laboratorio-clinico-auto?term=:keyword",this.objeto={showProgressBar:!0,pauseOnHover:!0,clickToClose:!0,maxLength:2e3},this.MinDate=new Date,this.MaxDate=new Date,this.fecha_invalida=!0,this.tieneid=!1,this.cargando=!1,this.res_busq_insumos=[],this.cargandoPdf=!1,this.mensajeResponse=new Ae,this.titulo="Salidas est\xe1ndar",this.options={position:["bottom","right"],timeOut:2e3,lastOnBottom:!0},this.autocompleListFormatter=function(e){var t='\n    <div class="card">\n      <div class="card-content">\n        <div class="media">          \n          <div class="media-content">\n            <p class="title is-4"> <small>'+e.descripcion+'</small></p>\n            <p class="subtitle is-6">\n              <strong>Clave: </strong> '+e.clave+") \n              ";return 1==e.es_causes&&(t+='<label class="tag is-success" ><strong>Cause </strong></label>'),0==e.es_causes&&(t+='<label class="tag" style="background: #B8FB7E; border-color: #B8FB7E; color: rgba(0,0,0,0.7);"><strong>No Cause </strong> </label>'),1==e.es_unidosis&&(t+='<label class="tag is-warning" ><strong>Unidosis</strong></label>'),t+="\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>",s._sanitizer.bypassSecurityTrustHtml(t)},this.es_unidosis=!1,this.mostrar_lote=[]}return e.prototype.ngOnInit=function(){var e=this;this.usuario=JSON.parse(localStorage.getItem("usuario")),document.getElementById("catalogos").click(),document.getElementById("actualizar").click(),this.usuario.clues_activa&&(this.insumos_term+="&clues="+this.usuario.clues_activa.clues),this.usuario.almacen_activo&&(this.insumos_term+="&almacen="+this.usuario.almacen_activo.id),this.pdfworker=new Worker("web-workers/laboratorio/salida-laboratorio.js");var t=this,a=this._ngZone;this.pdfworker.onmessage=function(e){a.run(function(){t.cargandoPdf=!1}),ft.saveAs(t.base64ToBlob(e.data.base64,"application/pdf"),e.data.fileName)},this.dato=this.fb.group({id:[""],tipo_movimiento_id:["14",[l.Validators.required]],status:["FI"],fecha_movimiento:["",[l.Validators.required]],observaciones:[""],cancelado:[""],observaciones_cancelacion:[""],movimiento_metadato:this.fb.group({turno_id:["",[l.Validators.required]],servicio_id:["",[l.Validators.required]],persona_recibe:["",[l.Validators.required]]}),insumos:this.fb.array([]),insumos_negados:this.fb.array([])}),this.route.params.subscribe(function(t){t.id&&(e.tieneid=!0)});var n=new Date;this.MinDate=new Date(n.getFullYear()-1,0,1),this.MaxDate=new Date(n.getFullYear(),n.getMonth(),n.getDate()),this.MinDateCaducidad=n.getFullYear()+"-"+("00"+(n.getMonth()+1)).slice(-2)+"-"+n.getDate(),this.dato.get("fecha_movimiento").value?this.fecha_actual=this.dato.get("fecha_movimiento").value:(this.fecha_actual=n.getFullYear()+"-"+("00"+(n.getMonth()+1)).slice(-2)+"-"+n.getDate(),this.dato.get("fecha_movimiento").patchValue(this.fecha_actual))},e.prototype.abrirModal=function(e,t){t&&(this.index_borrar=t),document.getElementById(e).classList.add("is-active")},e.prototype.cancelarModal=function(e){document.getElementById(e).classList.remove("is-active"),"verLotes"===e&&(this.cantidad_solicitadaBoxViewChildren.first.nativeElement.value="",this.cantidad_solicitadaBoxViewChildren.first.nativeElement.focus())},e.prototype.enviarAutocomplete=function(e){var t=this;this.cargando=!0;var a="";this.usuario.clues_activa&&(a+="&clues="+this.usuario.clues_activa.clues),this.usuario.almacen_activo&&(a+="&almacen="+this.usuario.almacen_activo.id);v.API_URL;this.crudService.busquedaInsumos(e,"insumos-laboratorio-clinico-auto").subscribe(function(e){t.cargando=!1,t.res_busq_insumos=e,0===t.res_busq_insumos.length&&t.notificacion.warn("Insumos","No hay resultados que coincidan",t.objeto)})},e.prototype.select_insumo_autocomplete=function(e){var t=this,a=JSON.parse(localStorage.getItem("usuario"));this.cargando=!0,this.crudService.lista(0,1e3,"comprobar-stock?almacen="+a.almacen_activo.id+"&clave="+e.clave).subscribe(function(a){for(var n=0,r=t.dato.get("insumos").value;n<r.length;n++){var i=r[n];if(0==a.length)break;if(i.clave==a[0].clave_insumo_medico)for(var s=0,o=i.lotes;s<o.length;s++)for(var l=o[s],c=0,d=a;c<d.length;c++){var u=d[c];if(l.id===u.id)try{l.cantidad>0&&("U"===i.modo_salida&&(u.existencia=u.existencia-l.cantidad/i.cantidad_x_envase),"N"===i.modo_salida&&(u.existencia=u.existencia-l.cantidad),u.existencia_unidosis=u.existencia*i.cantidad_x_envase)}catch(e){console.log(e)}}}t.lotes_insumo=a,t.insumo=e,document.getElementById("buscarInsumo").value="",t.res_busq_insumos=[],document.getElementById("tituloModal").innerHTML=" "+e.descripcion+' <br>\n          <p aling="justify" style="font-size:12px">'+e.descripcion+'</p> \n          <p aling="justify" style="font-size:16px"> CANTIDAD POR ENVASE: \n          '+(e.cantidad_x_envase?e.cantidad_x_envase:"Sin especificar")+"</p>",t.es_unidosis=e.es_unidosis,t.unidad_medida=e.unidad_medida,t.cargando=!1,t.abrirModal("verLotes")},function(e){t.cargando=!1})},e.prototype.agregarLoteIsumo=function(e){for(var t=this.dato.controls.insumos,a={clave:this.insumo.clave,nombre:this.insumo.nombre,descripcion:this.insumo.descripcion,es_causes:this.insumo.es_causes,es_unidosis:this.insumo.es_unidosis,cantidad:1,presentacion_nombre:this.insumo.presentacion_nombre,unidad_medida:this.insumo.unidad_medida,cantidad_x_envase:this.insumo.cantidad_x_envase?parseInt(this.insumo.cantidad_x_envase):1,cantidad_surtida:1,modo_salida:this.modo,cantidad_solicitada:e,cantidad_solicitada_unidosis:e,lotes:this.fb.array([])},n=!1,r=0,i=0,s=t.value;i<s.length;i++){if((p=s[i]).clave==this.insumo.clave&&(!0,p.modo_salida==this.modo)){n=!0;break}r++}n||t.push(this.fb.group(a));var o=r,l=t.controls[o];this.mostrar_lote[o]=!1;var c={showProgressBar:!0,pauseOnHover:!0,clickToClose:!0,maxLength:2e3};this.options={position:["top","right"],timeOut:5e3,lastOnBottom:!0};for(var d=0,u=this.lotes_insumo;d<u.length;d++){var p;if((p=u[d]).cantidad>0){var m=!1;if(n)for(var g=0,f=l.controls.lotes.controls;g<f.length;g++){if((_=f[g]).controls.id.value==p.id){m=!0;var h=_.controls.cantidad.value+p.cantidad;_.controls.cantidad.value,p.cantidad;"N"==this.modo&&h>_.controls.existencia.value&&(this.notificacion.alert("Cantidad Excedida","La cantidad maxima es: "+_.controls.existencia.value,c),h=1*_.controls.existencia.value),"U"==this.modo&&h>_.controls.existencia_unidosis.value&&(this.notificacion.alert("Cantidad Excedida","La cantidad maxima es: "+_.controls.existencia_unidosis.value,c),h=1*_.controls.existencia_unidosis.value),_.controls.cantidad.patchValue(h);break}}m||(p.nuevo&&(p.existencia=1*p.cantidad),"N"==this.modo&&p.cantidad>p.existencia&&(this.notificacion.alert("Cantidad Excedida","La cantidad maxima es: "+p.existencia,c),p.cantidad=1*p.existencia),"U"==this.modo&&p.cantidad>p.existencia_unidosis&&(this.notificacion.alert("Cantidad Excedida","La cantidad maxima es: "+p.existencia_unidosis,c),p.cantidad=1*p.existencia_unidosis),l.controls.lotes.push(this.fb.group({id:p.id,nuevo:0|p.nuevo,codigo_barras:p.codigo_barras,lote:p.lote,fecha_caducidad:p.fecha_caducidad,existencia:p.nuevo?p.cantidad:p.existencia,cantidad:p.cantidad,existencia_unidosis:p.nuevo?p.cantidad:p.existencia_unidosis,modo_salida:this.modo})))}}for(var v=0,b=0,y=l.controls.lotes.value;b<y.length;b++){var _;v+=(_=y[b]).cantidad,_.cantidad}if("N"==l.controls.modo_salida.value&&(l.controls.cantidad_surtida.patchValue(v),n)){var x=l.controls.cantidad_solicitada.value;e=Number(x)+Number(e),l.controls.cantidad_solicitada.patchValue(e)}if("U"==l.controls.modo_salida.value&&(l.controls.cantidad_surtida.patchValue(v),n)){x=l.controls.cantidad_solicitada.value;e=Number(x)+Number(e),l.controls.cantidad_solicitada.patchValue(e)}this.cancelarModal("verLotes"),this.cancelarModal("negarExistencia"),this.cantidad_solicitadaBoxViewChildren.first.nativeElement.value="",this.cantidad_solicitadaBoxViewChildren.first.nativeElement.focus(),this.cant_solicitada_valida=!1,this.sum_cant_lotes=!1,this.modo="N"},e.prototype.ver_lotes_asignados=function(e){this.mostrar_lote[e]=!this.mostrar_lote[e]},e.prototype.agregarNuevoLote=function(){this.lotes_insumo.push({id:""+Math.floor(999*Math.random())+1,codigo_barras:"",lote:"",fecha_caducidad:"",existencia:"",cantidad:"",nuevo:1,existencia_unidosis:"",cantidad_unidosis:""})},e.prototype.eliminarLote=function(e){this.lotes_insumo.splice(e,1)},e.prototype.quitar_lote_insumo=function(e,t,a){var n=this.dato.controls.insumos.controls[e];n.controls.lotes.removeAt(a);var r=n.controls.cantidad_surtida.value-t.cantidad;n.controls.cantidad_surtida.patchValue(r)},e.prototype.validar_cantidad_lote=function(e,t,a,n){if("N"==n&&t.controls.cantidad.value>t.controls.existencia.value){var r={showProgressBar:!0,pauseOnHover:!0,clickToClose:!0,maxLength:2e3};this.notificacion.alert("Cantidad Excedida","La cantidad maxima es: "+t.controls.existencia.value,r),t.controls.cantidad.patchValue(1*t.controls.existencia.value)}if("U"==n&&t.controls.cantidad.value>t.controls.existencia_unidosis.value){r={showProgressBar:!0,pauseOnHover:!0,clickToClose:!0,maxLength:2e3};this.notificacion.alert("Cantidad Excedida","La cantidad maxima es: "+t.controls.existencia_unidosis.value,r),t.controls.cantidad.patchValue(1*t.controls.existencia_unidosis.value)}for(var i=this.dato.controls.insumos.controls[e],s=0,o=0,l=i.controls.lotes.value;o<l.length;o++){s+=l[o].cantidad}i.controls.cantidad_surtida.patchValue(s)},e.prototype.comprobar_cant_lotes=function(){for(var e=0,t=0,a=this.lotes_insumo;t<a.length;t++){var n=a[t];n.cantidad&&(e=Number(e)+Number(n.cantidad))}this.sum_cant_lotes=e>0},e.prototype.comprobar_cant_solicitada=function(e){this.cant_solicitada_valida=e>0},e.prototype.quitar_punto=function(e){return!!this.is_numeric(e.key)},e.prototype.is_numeric=function(e){return/^\d+$/.test(e)},e.prototype.validar_fecha=function(){for(var e,t=Io(),a=0,n=0,r=this.lotes_insumo;n<r.length;n++){var i=r[n];e=Io(i.fecha_caducidad,"YYYY-MM-DD"),i.nuevo&&(e.isValid()?e<=t&&(a++,this.mensajeResponse.texto="La fecha de caducidad debe ser mayor al d\xeda de hoy",this.mensajeResponse.clase="warning",this.mensaje(8)):(a++,this.mensajeResponse.texto="Debe ingresar una fecha v\xe1lida",this.mensajeResponse.clase="warning",this.mensaje(8)))}this.fecha_invalida=!(a>0)},e.prototype.guardar_movimiento=function(){var e=!0,t=this.dato.controls.insumos;if(0===t.length)this.notificacion.warn("Insumos","Debe agregar por lo menos un insumo",this.objeto);else{for(var a=0,n=t.value;a<n.length;a++){0===n[a].lotes.length&&(e=!1)}e?document.getElementById("guardarMovimiento").classList.add("is-active"):(document.getElementById("tituloGuardar").innerHTML=' <br>\n          <p aling="justify" style="font-size:12px; color: red"> Contiene insumos con existencia negada.</p>',document.getElementById("guardarMovimiento").classList.add("is-active"),this.notificacion.warn("Insumos","negarExistencia",this.objeto))}},e.prototype.handleKeyboardEvents=function(e){if("buscarMedico"===document.activeElement.id)document.getElementById("buscarMedico").focus();else if(this.key=e.which||e.keyCode,13===e.keyCode)return document.getElementById("buscarInsumo").focus(),e.preventDefault(),!1},e.prototype.mensaje=function(e,t){void 0===e&&(e=6),void 0===t&&(t=["bottom","left"]);var a={showProgressBar:!0,pauseOnHover:!1,clickToClose:!0,maxLength:this.mensajeResponse.texto.length};this.options={position:t,timeOut:1e3*e,lastOnBottom:!0},""===this.mensajeResponse.titulo&&(this.mensajeResponse.titulo=this.titulo),"alert"===this.mensajeResponse.clase&&this.notificacion.alert(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"success"===this.mensajeResponse.clase&&this.notificacion.success(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"info"===this.mensajeResponse.clase&&this.notificacion.info(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"warning"!==this.mensajeResponse.clase&&"warn"!==this.mensajeResponse.clase||this.notificacion.warn(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"error"!==this.mensajeResponse.clase&&"danger"!==this.mensajeResponse.clase||this.notificacion.error(this.mensajeResponse.titulo,this.mensajeResponse.texto,a)},e.prototype.imprimir=function(){for(var e,t,a=JSON.parse(localStorage.getItem("usuario")),n=0,r=this.array_turnos.clues_turnos;n<r.length;n++){var i=r[n];if(this.dato.value.movimiento_metadato.turno_id===i.id){e=i;break}}for(var s=0,o=this.array_servicios.clues_servicios;s<o.length;s++){i=o[s];if(this.dato.value.movimiento_metadato.servicio_id===i.id){t=i;break}}try{this.cargandoPdf=!0;var l={datos:this.dato.value,lista:this.dato.value.insumos,turno:e||"No disponible",servicio:t||"No disponible",usuario:a};this.pdfworker.postMessage(JSON.stringify(l))}catch(e){this.cargandoPdf=!1}},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},Lp([Object(n.ViewChildren)("cantidad_solicitada"),Tp("design:type",Object)],e.prototype,"cantidad_solicitadaBoxViewChildren",void 0),Lp([Object(n.ViewChildren)("cantidad_solicitada_unidosis"),Tp("design:type",Object)],e.prototype,"cantidad_solicitada_unidosisBoxViewChildren",void 0),e=Lp([Object(n.Component)({selector:"salidas-estandar-formulario",template:a("iShI"),styles:[a("qOWO")],styles:["ngui-auto-complete {z-index: 999999 !important}"],host:{"(document:keydown)":"handleKeyboardEvents($event)"}}),Tp("design:paramtypes",[l.FormBuilder,gr,h.a,i.DomSanitizer,p.NotificationsService,n.NgZone])],e)}(),Up=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Vp=[{path:"laboratorio/salidas-laboratorio",children:[{path:"",component:Dp,canActivate:[D],data:{key:"7GkcqRllVy4Z371KMLPsX0d04dqv3vBE"}},{path:"nuevo",component:zp,canActivate:[D],data:{key:"7GkcqRllVy4Z371KMLPsX0d04dqv3vBE"}},{path:"ver/:id",component:zp,canActivate:[D],data:{key:"7GkcqRllVy4Z371KMLPsX0d04dqv3vBE"}}],canActivate:[M]}],Gp=function(){function e(){}return e=Up([Object(n.NgModule)({imports:[h.c.forChild(Vp)],exports:[h.c],providers:[]})],e)}(),Yp=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Hp=function(){function e(){}return e=Yp([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,Gp,ee,de,fe,qe,je,kp,Ir,jr.NguiAutoCompleteModule,Oi.NguiDatetimePickerModule,Ao.TextMaskModule,wo.MomentModule,p.SimpleNotificationsModule],declarations:[Dp,zp],providers:[_,gr]})],e)}(),Jp=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},$p=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Kp=function(){function e(e,t,a){var n=this;this.crudService=e,this._sanitizer=t,this._ngZone=a,this.clave_insumo="",this.buscar_en="TODAS_LAS_CLAVES",this.seleccionar="TODO",this.tipo="TODO",this.cargandoPdf=!1,this.insumos_term=v.API_URL+"/insumos-auto?term=:keyword",this.autocompleListFormatter=function(e){var t=' \n    <div class="card">\n      <div class="card-content">\n        <div class="media">          \n          <div class="media-content">\n            <p class="title is-4" style="color:black;"> <small>'+e.descripcion+'</small></p>\n            <br>\n            <p class="subtitle is-6" style="color:black;">\n              <strong style="color:black;">Clave: </strong> '+e.clave+"\n            </p>\n            <p>\n              ";return 1==e.es_causes&&(t+='<label class="tag is-success" style="color:black;"><strong style="color:black;">Cause </strong></label>'),0==e.es_causes&&(t+='<label class="tag" style="background: #B8FB7E; border-color: #B8FB7E; color: rgba(0,0,0,0.7);"><strong style="color:black;">No Cause </strong> </label>'),1==e.es_unidosis&&(t+='<label class="tag is-warning" ><strong style="color:black;">Unidosis</strong></label>'),t+="\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>",n._sanitizer.bypassSecurityTrustHtml(t)}}return e.prototype.ngOnInit=function(){this.usuario=JSON.parse(localStorage.getItem("usuario")),this.pdfworker=new Worker("web-workers/inventario/lista-existencias.js");var e=this,t=this._ngZone;this.pdfworker.onmessage=function(a){t.run(function(){e.cargandoPdf=!1}),ft.saveAs(e.base64ToBlob(a.data.base64,"application/pdf"),a.data.fileName)}},e.prototype.select_insumo_autocomplete=function(e){var t=this,a=JSON.parse(localStorage.getItem("usuario"));e.clave_insumo_medico?this.clave_insumo=e.clave_insumo_medico:this.clave_insumo=e.clave,this.cargando=!0,this.crudService.lista(0,1e3,"comprobar-stock?almacen="+a.almacen_activo.id+"&clave="+this.clave_insumo).subscribe(function(a){t.lotes_insumo=a,t.es_unidosis=e.es_unidosis,t.unidad_medida=e.unidad_medida;var n="";1==e.es_causes&&(n+='<label class="tag is-success" ><strong>Causes </strong></label>'),0==e.es_causes&&(n+='<label class="tag" style="background: #B8FB7E; border-color: #B8FB7E; color: rgba(0,0,0,0.7);"><strong>No Causes </strong> </label>'),1==e.es_unidosis&&(n+='<label class="tag is-warning" ><strong>Unidosis</strong></label>'),document.getElementById("tituloModal").innerHTML=" "+e.descripcion+' <br>\n          <p aling="justify" style="font-size:14px">'+t.clave_insumo+'</p> \n          <p aling="justify" style="font-size:12px"> CANTIDAD POR ENVASE: '+(e.cantidad_x_envase?e.cantidad_x_envase:"Sin especificar")+" </p>\n          <br>\n          "+n,t.cargando=!1,t.abrirModal("verLotes")},function(e){t.cargando=!1})},e.prototype.abrirModal=function(e){document.getElementById(e).classList.add("is-active")},e.prototype.cancelarModal=function(e){document.getElementById(e).classList.remove("is-active")},e.prototype.export_excel=function(){var e=this.t.first.nativeElement.options,t=this.s.first.nativeElement.options,a="<table><tr><th colspan='7'><h1>Existencias</h1></th></tr><tr><th>Claves: "+("TODAS_LAS_CLAVES"===this.buscar_en?"Todas las claves":"Mis claves")+"</th><th>Insumo: "+(e=e[e.selectedIndex].text)+"</th><th>Existencia: "+(t=t[t.selectedIndex].text)+"</th></tr><tr><th colspan='7'></th></tr></table>";a+=document.getElementById("exportable").innerHTML;var n=new Blob([a],{type:"text/comma-separated-values;charset=utf-8"});try{ft.saveAs(n,"Lista_existencias.xls")}catch(e){console.log(e)}},e.prototype.imprimirExcel=function(){var e;this.usuario.clues_activa&&(e="&clues="+this.usuario.clues_activa.clues),this.usuario.almacen_activo&&(e+="&almacen="+this.usuario.almacen_activo.id);var t="token="+localStorage.getItem("token");window.open(v.API_URL+"/inventario-excel?"+t+e+"&buscar_en="+this.buscar_en+"&seleccionar="+this.seleccionar+"&tipo="+this.tipo+"&clave_insumo="+this.clave_insumo)},e.prototype.imprimir=function(){var e=this;this.cargandoPdf=!0,this.crudService.lista_general("inventario?buscar_en="+this.buscar_en+"&seleccionar="+this.seleccionar+"&tipo="+this.tipo).subscribe(function(t){e.cargando=!1,e.lista_impresion=t;var a=e.t.first.nativeElement.options,n=e.s.first.nativeElement.options;a=a[a.selectedIndex].text,n=n[n.selectedIndex].text;try{var r={lista:e.lista_impresion,usuario:e.usuario,buscar_en:e.buscar_en,seleccionar:n,tipo:a};e.pdfworker.postMessage(JSON.stringify(r))}catch(t){e.cargandoPdf=!1}},function(e){})},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},Jp([Object(n.ViewChildren)("t"),$p("design:type",Object)],e.prototype,"t",void 0),Jp([Object(n.ViewChildren)("s"),$p("design:type",Object)],e.prototype,"s",void 0),Jp([Object(n.ViewChildren)("claves"),$p("design:type",Object)],e.prototype,"claves",void 0),e=Jp([Object(n.Component)({selector:"inventario-lista",template:a("S+IZ")}),$p("design:paramtypes",[gr,i.DomSanitizer,n.NgZone])],e)}(),Xp=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Zp=[{path:"laboratorio/existencias",children:[{path:"",component:Kp,canActivate:[D],data:{key:"mJ2E55G7moiDdV3VpY2u7g5obUzeop7p"}}],canActivate:[M]}],Qp=function(){function e(){}return e=Xp([Object(n.NgModule)({imports:[h.c.forChild(Zp)],exports:[h.c],providers:[]})],e)}(),Wp=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},em=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},tm=function(){function e(){}return e.prototype.ngOnInit=function(){var e=location.href.split("/");this.carpeta=e[4],this.modulo=e[5],this.url_nuevo="/"+this.carpeta+"/"+this.modulo+"/nuevo"},Wp([Object(n.Input)(),em("design:type",Object)],e.prototype,"ctrl",void 0),e=Wp([Object(n.Component)({selector:"formulario-opciones",template:a("4A06")})],e)}(),am=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},nm=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},rm=function(){function e(e,t,a,n){this._ngZone=e,this.crudService=t,this.notificacion=a,this.activatedRoute=n,this.mostrar_nombre=!0,this.nuevo=!0,this.icono="fa fa-list",this.buscar_en="TODAS_LAS_CLAVES",this.tipo_busqueda="TODO",this.tipo_causes="TODO",this.tipo_insumo="TODO",this.clave_insumo="",this.seleccionar="TODO",this.tipo_sustancia="TODO",this.options={position:["top","right"],timeOut:5e3,lastOnBottom:!0},this.mensajeResponse=new Ae(!0),this.url_nuevo=""}return e.prototype.ngOnInit=function(){var e=this;this.usuario=JSON.parse(localStorage.getItem("usuario"));var t=location.href.split("/");this.carpeta=t[4],this.modulo=t[5],this.url_nuevo="/"+this.carpeta+"/"+this.modulo+"/nuevo",this.pdfworker=new Worker("web-workers/"+this.ruta_pdf);var a=this,n=this._ngZone;this.pdfworker.onmessage=function(e){n.run(function(){a.cargandoPdf=!1}),ft.saveAs(a.base64ToBlob(e.data.base64,"application/pdf"),e.data.fileName)},this.activatedRoute.params.subscribe(function(t){e.tipo_busqueda=t.tipo_busqueda})},e.prototype.imprimirExcel=function(){var e,t=JSON.parse(localStorage.getItem("usuario"));t.clues_activa&&(e="&clues="+t.clues_activa.clues),t.almacen_activo&&(e+="&almacen="+t.almacen_activo.id);var a="token="+localStorage.getItem("token");window.open(v.API_URL+"/caducidad-insumos?"+a+e+"&\n    seleccionar="+this.seleccionar+"&tipo="+this.tipo_sustancia+"&clave_insumo="+this.clave_insumo)},e.prototype.imprimir=function(){var e=this;this.cargandoPdf=!0,this.crudService.lista_general(this.ruta).subscribe(function(t){e.lista_impresion=t;try{var a={usuario:e.usuario,lista:e.lista_impresion,buscar_en:e.buscar_en,tipo_busqueda:e.tipo_busqueda,tipo_sustancia:e.tipo_sustancia,seleccionar:e.seleccionar,clave_insumo:e.clave_insumo};e.pdfworker.postMessage(JSON.stringify(a))}catch(t){e.cargandoPdf=!1}},function(t){e.cargandoPdf=!1,e.mensajeResponse.mostrar=!0;try{t.json();401===t.status&&(e.mensajeResponse.texto="No tiene permiso para hacer esta operaci\xf3n.",e.mensajeResponse.clase="danger",e.mensaje(2)),404===t.status&&(e.mensajeResponse.texto="P\xe1gina no encontrada, contacte al administrador.",e.mensajeResponse.clase="danger",e.mensaje(2))}catch(a){500==t.status?e.mensajeResponse.texto="500 (Error interno del servidor)":e.mensajeResponse.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir.",e.mensajeResponse.clase="danger",e.mensaje(2)}})},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},e.prototype.mensaje=function(e,t){void 0===e&&(e=6),void 0===t&&(t=["bottom","left"]);var a={showProgressBar:!0,pauseOnHover:!1,clickToClose:!0,maxLength:this.mensajeResponse.texto.length};this.options={position:t,timeOut:1e3*e,lastOnBottom:!0},""==this.mensajeResponse.titulo&&(this.mensajeResponse.titulo=this.nombre),"alert"==this.mensajeResponse.clase&&this.notificacion.alert(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"success"==this.mensajeResponse.clase&&this.notificacion.success(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"info"==this.mensajeResponse.clase&&this.notificacion.info(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"warning"!=this.mensajeResponse.clase&&"warn"!=this.mensajeResponse.clase||this.notificacion.warn(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"error"!=this.mensajeResponse.clase&&"danger"!=this.mensajeResponse.clase||this.notificacion.error(this.mensajeResponse.titulo,this.mensajeResponse.texto,a)},am([Object(n.Input)(),nm("design:type",Boolean)],e.prototype,"excel_export",void 0),am([Object(n.Input)(),nm("design:type",Object)],e.prototype,"ctrl",void 0),am([Object(n.Input)(),nm("design:type",Object)],e.prototype,"nombre",void 0),am([Object(n.Input)(),nm("design:type",Object)],e.prototype,"mostrar_nombre",void 0),am([Object(n.Input)(),nm("design:type",Object)],e.prototype,"nuevo",void 0),am([Object(n.Input)(),nm("design:type",Boolean)],e.prototype,"busqueda",void 0),am([Object(n.Input)(),nm("design:type",Object)],e.prototype,"icono",void 0),am([Object(n.Input)(),nm("design:type",String)],e.prototype,"ruta",void 0),am([Object(n.Input)(),nm("design:type",String)],e.prototype,"ruta_pdf",void 0),e=am([Object(n.Component)({selector:"app-tabla-opciones-laboratorio",template:a("+ka2")}),nm("design:paramtypes",[n.NgZone,gr,p.NotificationsService,h.a])],e)}(),im=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},sm=function(){function e(){}return e=im([Object(n.NgModule)({imports:[o.CommonModule,h.c],declarations:[tm,rm],exports:[tm,rm]})],e)}(),om=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},lm=function(){function e(){}return e=om([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,Qp,ee,de,fe,qe,je,kp,Ir,sm,jr.NguiAutoCompleteModule,Oi.NguiDatetimePickerModule],declarations:[Kp],providers:[_,gr]})],e)}(),cm=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},dm=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},um=function(){function e(e){this.title=e,this.usuario={},this.busqueda="",this.modulos=[],this.modulosAutorizados=[],this.accesosDirectos=[],this.accesosDirectosAutorizados=[]}return e.prototype.ngOnInit=function(){this.title.setTitle("Almac\xe9n / Equipamiento"),this.usuario=JSON.parse(localStorage.getItem("usuario")),this.modulos=[],this.accesosDirectos=[];var e=JSON.parse(localStorage.getItem("usuario")).permisos.split("|");if(e.length>0){for(var t in this.modulos)e:for(var a in e)if(e[a]==this.modulos[t].permiso){this.modulosAutorizados.push(this.modulos[t]);break e}for(var t in this.accesosDirectos)e:for(var a in e)if(e[a]==this.accesosDirectos[t].permiso){this.accesosDirectosAutorizados.push(this.accesosDirectos[t]);break e}}},e=cm([Object(n.Component)({selector:"app-index-equipamiento",template:a("RfYq"),styles:[a("bAoB")]}),dm("design:paramtypes",[i.Title])],e)}(),pm=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},mm=[{path:"equipamiento",component:um,canActivate:[M]}],gm=function(){function e(){}return e=pm([Object(n.NgModule)({imports:[h.c.forChild(mm)],exports:[h.c],providers:[]})],e)}(),fm=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},hm=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},vm=function(){function e(){this.usuario={}}return e.prototype.ngOnInit=function(){this.usuario=JSON.parse(localStorage.getItem("usuario"))},fm([Object(n.Input)(),hm("design:type",String)],e.prototype,"modulo",void 0),fm([Object(n.Input)(),hm("design:type",String)],e.prototype,"icono",void 0),fm([Object(n.Input)(),hm("design:type",String)],e.prototype,"url",void 0),e=fm([Object(n.Component)({selector:"menu-equipamiento",template:a("iqbP"),styles:[a("tmAL")]}),hm("design:paramtypes",[])],e)}(),bm=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},ym=function(){function e(){}return e=bm([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,gm,ee,de,fe,je],exports:[vm],declarations:[um,vm]})],e)}(),_m=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},xm=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Im=function(){function e(e,t){this.http=e,this.jwtRequest=t}return t=e,e.prototype.buscar=function(e,a,n,r){return void 0===n&&(n=1),void 0===r&&(r=20),this.jwtRequest.get(t.URL,null,{q:e,page:n,per_page:r,prioridad:a.prioridad,estatus:a.estatus,visto:a.visto,area:a.area,orden:a.orden}).map(function(e){return e.json().data})},e.prototype.buscar_detalle=function(e,a,n,r,i){return void 0===r&&(r=1),void 0===i&&(i=20),this.jwtRequest.get(t.URL_DETALLE,null,{identificador:e,tipo:a,q:n,page:r,per_page:i}).map(function(e){return e.json().data})},e.prototype.lista=function(e,a){return void 0===e&&(e=1),void 0===a&&(a=20),this.jwtRequest.get(t.URL,null,{page:e,per_page:a}).map(function(e){return e.json().data})},e.prototype.crear=function(e){return this.jwtRequest.post(t.URL,e).map(function(e){return e.json().data})},e.prototype.carga_area=function(){return this.jwtRequest.get("avance_area",null,null).map(function(e){return e.json().data})},e.prototype.ver_tema=function(e){return this.jwtRequest.get(t.URL,e,{}).map(function(e){return e.json().data})},e.prototype.eliminar_tema=function(e){return this.jwtRequest.delete(t.URL,e,{}).map(function(e){return e.json().data})},e.prototype.ver_informacion=function(e){return this.jwtRequest.get(t.URL,e,{informacion:1}).map(function(e){return e.json().data})},e.prototype.editar=function(e,a){return this.jwtRequest.put(t.URL,e,a).map(function(e){return e.json().data})},e.prototype.actualizar_avance=function(e,a){return this.jwtRequest.put(t.URL,e,a).map(function(e){return e.json().data})},e.prototype.lista_detalles=function(e,a,n,r){return void 0===n&&(n=1),void 0===r&&(r=20),this.jwtRequest.get(t.URL_DETALLE,null,{identificador:e,tipo:a,page:n,per_page:r}).map(function(e){return e.json().data})},e.prototype.eliminar=function(e){return this.jwtRequest.delete(t.URL_DETALLE,e,{}).map(function(e){return e.json().data})},e.prototype.usuarios=function(e){return this.jwtRequest.get(t.URL_USUARIOS,null,{identificador:e}).map(function(e){return e.json().data})},e.prototype.crear_usuario=function(e){return this.jwtRequest.post(t.URL_USUARIOS,e).map(function(e){return e.json().data})},e.prototype.elimina_usuarios=function(e){return this.jwtRequest.delete(t.URL_USUARIOS,e,{}).map(function(e){return e.json().data})},e.URL="avance",e.URL_DETALLE="avance-detalle",e.URL_USUARIOS="avance-usuario-privilegio",e=t=_m([Object(n.Injectable)(),xm("design:paramtypes",[c.Http,V])],e);var t}(),jm=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},km=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Cm=function(){function e(){this.usuario={}}return e.prototype.ngOnInit=function(){this.usuario=JSON.parse(localStorage.getItem("usuario"))},e=jm([Object(n.Component)({selector:"avance-menu",template:a("Cxlm"),styles:[a("G3tI")]}),km("design:paramtypes",[])],e)}(),Em=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Pm=function(){function e(){}return e=Em([Object(n.NgModule)({imports:[o.CommonModule,h.c,ee,de,fe],declarations:[Cm],exports:[Cm]})],e)}(),qm=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Am=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},wm=function(){function e(e,t,a){this.title=e,this.avanceService=t,this.fb=a,this.cargando=!1,this.cargando_info=!1,this.filter=!1,this.showAgregarTema=!1,this.showInfo=!1,this.informacion_tema={},this.busqueda={prioridad:"",estatus:"",visto:"",area:"",orden:1},this.mensajeError=new Ae,this.mensajeExito=new Ae,this.id_tema="0",this.areas=[],this.paginaActual=1,this.resultadosPorPagina=25,this.total=0,this.paginasTotales=0,this.indicePaginas=[],this.temas=[],this.ultimoTerminoBuscado="",this.terminosBusqueda=new x.Subject,this.resultadosBusqueda=[],this.busquedaActivada=!1,this.paginaActualBusqueda=1,this.resultadosPorPaginaBusqueda=25,this.totalBusqueda=0,this.paginasTotalesBusqueda=0,this.indicePaginasBusqueda=[]}return e.prototype.ngOnInit=function(){var e=this;this.tema_avance=this.fb.group({tema:["",[l.Validators.required]],responsable:["",[l.Validators.required]],area:["",[l.Validators.required]],comentario:["",[l.Validators.required]]}),this.title.setTitle("Avances / Lista"),this.listar(1),this.carga_area(),this.mensajeError=new Ae,this.mensajeExito=new Ae;var t=this,a=this.terminosBusqueda.debounceTime(300).distinctUntilChanged().switchMap(function(t){return e.busquedaActivada=""!=t,console.log(e),e.ultimoTerminoBuscado=t,e.paginaActualBusqueda=1,e.cargando=!0,e.cargando=!0,""==e.busqueda.prioridad&&""==e.busqueda.estatus&&""==e.busqueda.visto&&""==e.busqueda.area||(e.busquedaActivada=!0),e.busquedaActivada?e.avanceService.buscar(t,e.busqueda,e.paginaActualBusqueda,e.resultadosPorPaginaBusqueda):lt.Observable.of({data:[]})}).catch(function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=function(){t.listarBusqueda(t.ultimoTerminoBuscado,t.paginaActualBusqueda)};try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}return a});a.subscribe(function(t){e.cargando=!1,e.resultadosBusqueda=t.data,e.totalBusqueda=0|t.total,e.paginasTotalesBusqueda=Math.ceil(e.totalBusqueda/e.resultadosPorPaginaBusqueda),e.indicePaginasBusqueda=[];for(var a=0;a<e.paginasTotalesBusqueda;a++)e.indicePaginasBusqueda.push(a+1);console.log("B\xfasqueda cargada.")})},e.prototype.carga_area=function(){var e=this;this.avanceService.carga_area().subscribe(function(t){e.areas=t.datos,e.filter=!t.general},function(t){e.mensajeError.mostrar=!0;try{t.json();401==t.status&&(e.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==t.status?e.mensajeError.texto="500 (Error interno del servidor)":e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.buscar=function(e){this.terminosBusqueda.next(e)},e.prototype.listarBusqueda=function(e,t){var a=this;this.paginaActualBusqueda=t,console.log("Cargando b\xfasqueda."),this.cargando=!0,this.avanceService.buscar(e,this.busqueda,t,this.resultadosPorPaginaBusqueda).subscribe(function(e){console.log(e),a.cargando=!1,a.resultadosBusqueda=e.data,a.totalBusqueda=0|e.total,a.paginasTotalesBusqueda=Math.ceil(a.totalBusqueda/a.resultadosPorPaginaBusqueda),a.indicePaginasBusqueda=[];for(var t=0;t<a.paginasTotalesBusqueda;t++)a.indicePaginasBusqueda.push(t+1)},function(n){a.cargando=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=function(){this.listarBusqueda(e,t)};try{n.json();401==n.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(e){console.log("No se puede interpretar el error"),500==n.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.listar=function(e){var t=this;this.paginaActual=e,this.cargando=!0,this.avanceService.lista(e,this.resultadosPorPagina).subscribe(function(e){t.cargando=!1,t.temas=e.data,t.total=0|e.total,t.paginasTotales=Math.ceil(t.total/t.resultadosPorPagina),t.indicePaginas=[];for(var a=0;a<t.paginasTotales;a++)t.indicePaginas.push(a+1)},function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=t.listar;try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.agregar_tema=function(){var e=this;"0"==this.id_tema?this.avanceService.crear(this.tema_avance.value).subscribe(function(t){e.cargando=!1,e.mensajeExito=new Ae(!0),e.mensajeExito.texto="Se han guardado los cambios.",e.mensajeExito.mostrar=!0,e.showAgregarTema=!e.showAgregarTema,e.listar(1),e.tema_avance.patchValue({tema:"",responsable:"",area:"",comentario:""})},function(t){e.cargando=!1,e.mensajeError=new Ae(!0),e.mensajeError.texto="No especificado.",e.mensajeError.mostrar=!0;try{t.json();401==t.status&&(e.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n."),409==t.status&&(e.mensajeError.texto="Por favor verfique los campos marcados en rojo.")}catch(a){500==t.status?e.mensajeError.texto="500 (Error interno del servidor)":e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}}):this.avanceService.editar(this.id_tema,this.tema_avance.value).subscribe(function(t){e.cargando=!1,e.mensajeExito=new Ae(!0),e.mensajeExito.texto="Se han editado los cambios.",e.mensajeExito.mostrar=!0,e.id_tema="0",e.showAgregarTema=!e.showAgregarTema,e.listar(1),e.tema_avance.patchValue({tema:"",responsable:"",area:"",comentario:""})},function(t){e.cargando=!1,e.mensajeError=new Ae(!0),e.mensajeError.texto="No especificado.",e.mensajeError.mostrar=!0;try{t.json();401==t.status&&(e.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n."),409==t.status&&(e.mensajeError.texto="Por favor verfique los campos marcados en rojo.")}catch(a){500==t.status?e.mensajeError.texto="500 (Error interno del servidor)":e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.ver_tema=function(e){var t=this;this.avanceService.ver_tema(e).subscribe(function(e){t.cargando=!1,t.showAgregarTema=!t.showAgregarTema,t.tema_avance.patchValue(e),console.log(e.id),t.id_tema=e.id.toString()},function(e){t.cargando=!1,t.mensajeError=new Ae(!0),t.mensajeError.texto="No especificado.",t.mensajeError.mostrar=!0;try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n."),409==e.status&&(t.mensajeError.texto="Por favor verfique los campos marcados en rojo.")}catch(a){500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.eliminar_tema=function(e){var t=this;"ELIMINAR TEMA"==prompt("Si realmente desea eliminar este tema ingrese ELIMINAR TEMA")&&this.avanceService.eliminar_tema(e).subscribe(function(e){t.cargando=!1,t.listar(1),t.mensajeExito=new Ae(!0),t.mensajeExito.texto="Se ha eliminado correctamente el tema",t.mensajeExito.mostrar=!0},function(e){t.cargando=!1,t.mensajeError=new Ae(!0),t.mensajeError.texto="No especificado.",t.mensajeError.mostrar=!0;try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n."),409==e.status&&(t.mensajeError.texto="Por favor verfique los campos marcados en rojo.")}catch(a){500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.informacion=function(e,t){var a=this;this.informacion_tema={},this.showInfo=!this.showInfo,this.cargando_info=!0,this.avanceService.ver_informacion(e).subscribe(function(e){a.informacion_tema=e,a.informacion_tema.percent=t,a.cargando_info=!1},function(e){a.cargando_info=!1,a.mensajeError=new Ae(!0),a.mensajeError.texto="No especificado.",a.mensajeError.mostrar=!0;try{e.json();401==e.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n."),409==e.status&&(a.mensajeError.texto="Por favor verfique los campos marcados en rojo.")}catch(t){500==e.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.filtro=function(e,t){var a=this;switch(e){case 1:this.busqueda.prioridad=t;break;case 2:this.busqueda.estatus=t;break;case 3:this.busqueda.visto=t;break;case 4:this.busqueda.area=t;case 5:this.busqueda.orden=t}console.log(this.busqueda),this.cargando=!0,0==this.busqueda.prioridad.length&&0==this.busqueda.estatus.length&&0==this.busqueda.area.length&&0==this.busqueda.visto.length&&""==this.ultimoTerminoBuscado&&"1"==this.busqueda.orden?(this.busquedaActivada=!1,this.cargando=!1):(this.busquedaActivada=!0,this.avanceService.buscar(this.ultimoTerminoBuscado,this.busqueda,1,this.resultadosPorPaginaBusqueda).subscribe(function(e){console.log(e),a.cargando=!1,a.resultadosBusqueda=e.data,a.totalBusqueda=0|e.total,a.paginasTotalesBusqueda=Math.ceil(a.totalBusqueda/a.resultadosPorPaginaBusqueda),a.indicePaginasBusqueda=[];for(var t=0;t<a.paginasTotalesBusqueda;t++)a.indicePaginasBusqueda.push(t+1)},function(e){a.cargando=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=function(){this.listarBusqueda(this.ultimoTerminoBuscado,1)};try{e.json();401==e.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(t){console.log("No se puede interpretar el error"),500==e.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}}))},e.prototype.paginaSiguiente=function(){this.listar(this.paginaActual+1)},e.prototype.paginaAnterior=function(){this.listar(this.paginaActual-1)},e.prototype.paginaSiguienteBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda+1)},e.prototype.paginaAnteriorBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda-1)},e.prototype.modal_agregar=function(){this.showAgregarTema=!0},e=qm([Object(n.Component)({selector:"app-lista",template:a("M/8A"),styles:[a("qaTH")]}),Am("design:paramtypes",[i.Title,Im,l.FormBuilder])],e)}(),Sm=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Rm=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Om=function(){function e(e,t,a,n,r,i){this.router=e,this.location=t,this.route=a,this.title=n,this.avanceService=r,this.fb=i,this.cargando=!1,this.cargando_datos=!1,this.administrador=!1,this.showAgregarAvance=!1,this.show_actual=!0,this.show_historico=!1,this.privilegio_usuario=!1,this.mensajeError=new Ae,this.mensajeExito=new Ae,this.id_avance_detalle="0",this.id_tab=1,this.paginaActual=1,this.resultadosPorPagina=25,this.total=0,this.paginasTotales=0,this.indicePaginas=[],this.detalles=[],this.usuarios=[],this.usuarios_privilegios=[],this.datos_avance={},this.ultimoTerminoBuscado="",this.terminosBusqueda=new x.Subject,this.resultadosBusqueda=[],this.busquedaActivada=!1,this.paginaActualBusqueda=1,this.resultadosPorPaginaBusqueda=25,this.totalBusqueda=0,this.paginasTotalesBusqueda=0,this.indicePaginasBusqueda=[],this.cargando_archivo=0,this.subir_archivo=!0}return e.prototype.ngOnInit=function(){var e=this;this.avance=this.fb.group({archivo:["",[]],porcentaje:["",[l.Validators.required]],comentario:["",[l.Validators.required]]}),this.avance_detalle=this.fb.group({prioridad:["",[l.Validators.required]],estatus:["",[l.Validators.required]]}),this.usuario_form=this.fb.group({usuario_id:["",[l.Validators.required]],ver:["",[]],agregar:["",[]],editar:["",[]],eliminar:["",[]],avance_id:["",[]]}),this.title.setTitle("Temas / Avance"),this.mensajeError=new Ae,this.mensajeExito=new Ae;var t=this;this.route.params.subscribe(function(t){e.id_avance=t.id}),this.listar(1,this.id_tab),this.cargar_usuarios();var a=this.terminosBusqueda.debounceTime(300).distinctUntilChanged().switchMap(function(t){return console.log("Cargando b\xfasqueda."+t),e.busquedaActivada=""!=t,e.ultimoTerminoBuscado=t,e.paginaActualBusqueda=1,e.cargando=!0,t?e.avanceService.buscar_detalle(e.id_avance,e.id_tab,t,e.paginaActualBusqueda,e.resultadosPorPaginaBusqueda):lt.Observable.of({data:[]})}).catch(function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=function(){t.listarBusqueda(t.ultimoTerminoBuscado,t.paginaActualBusqueda)};try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}return a});a.subscribe(function(t){e.cargando=!1,e.resultadosBusqueda=t.data,e.totalBusqueda=0|t.total,e.paginasTotalesBusqueda=Math.ceil(e.totalBusqueda/e.resultadosPorPaginaBusqueda),e.indicePaginasBusqueda=[];for(var a=0;a<e.paginasTotalesBusqueda;a++)e.indicePaginasBusqueda.push(a+1);console.log("B\xfasqueda cargada.")})},e.prototype.cargar_usuarios=function(){var e=this;this.cargando=!0,this.avanceService.usuarios(this.id_avance).subscribe(function(t){e.cargando=!1,e.usuarios_privilegios=t.data_lista,e.usuarios=t.usuarios,e.privilegio_usuario=t.privilegio},function(t){e.cargando=!1,e.mensajeError.mostrar=!0,e.ultimaPeticion=e.listar;try{t.json();401==t.status&&(e.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==t.status?e.mensajeError.texto="500 (Error interno del servidor)":e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.eliminar_usuario_avance=function(e){var t=this;confirm("\xbfRealmente Desea eliminar este avance?")&&(this.cargando=!0,this.avanceService.elimina_usuarios(e).subscribe(function(e){t.cargar_usuarios(),t.mensajeExito=new Ae(!0),t.mensajeExito.texto="Se ha eliminado correctamente el tema",t.mensajeExito.mostrar=!0},function(e){t.cargando=!1,t.mensajeError=new Ae(!0),t.mensajeError.texto="No especificado.",t.mensajeError.mostrar=!0,t.ultimaPeticion=t.listar;try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}}))},e.prototype.agregar_usuario=function(){var e=this;this.usuario_form.patchValue({avance_id:this.id_avance}),this.avanceService.crear_usuario(this.usuario_form.value).subscribe(function(t){e.cargar_usuarios(),e.mensajeExito=new Ae(!0),e.mensajeExito.texto="Se han guardado los cambios.",e.mensajeExito.mostrar=!0},function(t){e.mensajeError=new Ae(!0),e.mensajeError.texto="No especificado.",e.mensajeError.mostrar=!0;try{t.json();401==t.status&&(e.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n."),409==t.status&&(e.mensajeError.texto="Por favor verfique los campos marcados en rojo.")}catch(a){500==t.status?e.mensajeError.texto="500 (Error interno del servidor)":e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.listar=function(e,t){var a=this;this.paginaActual=e,this.cargando=!0,this.avanceService.lista_detalles(this.id_avance,t,e,this.resultadosPorPagina).subscribe(function(e){a.cargando=!1,a.detalles=e.registros.data,a.datos_avance.tema=e.datos_tema.tema,a.avance_detalle.patchValue({prioridad:e.datos_tema.prioridad,estatus:e.datos_tema.estatus}),a.administrador=e.administrador,a.datos_avance.historial=e.historial,a.total=0|e.total,a.paginasTotales=Math.ceil(a.total/a.resultadosPorPagina),a.indicePaginas=[];for(var t=0;t<a.paginasTotales;t++)a.indicePaginas.push(t+1)},function(e){a.cargando=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=a.listar;try{e.json();401==e.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(t){console.log("No se puede interpretar el error"),500==e.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.buscar=function(e){this.terminosBusqueda.next(e)},e.prototype.listarBusqueda=function(e,t){var a=this;this.paginaActualBusqueda=t,this.cargando=!0,this.avanceService.buscar_detalle(this.id_avance,this.id_tab,e,t,this.resultadosPorPaginaBusqueda).subscribe(function(e){console.log(e),a.cargando=!1,a.resultadosBusqueda=e.data,a.totalBusqueda=0|e.total,a.paginasTotalesBusqueda=Math.ceil(a.totalBusqueda/a.resultadosPorPaginaBusqueda),a.indicePaginasBusqueda=[];for(var t=0;t<a.paginasTotalesBusqueda;t++)a.indicePaginasBusqueda.push(t+1)},function(n){a.cargando=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=function(){this.listarBusqueda(e,t)};try{n.json();401==n.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(e){console.log("No se puede interpretar el error"),500==n.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.fileChanged=function(e){var t=e.target;this.tag=t},e.prototype.upload=function(){if(this.tag){this.cargando_datos=!0,console.log(this.avance.value),this.subir_archivo=!1;var e=this.tag.files[0],t=new FormData;t.append("file",e,e.name),t.append("porcentaje",this.avance.value.porcentaje),t.append("comentario",this.avance.value.comentario),t.append("avance_id",this.id_avance);var a=new XMLHttpRequest;a.upload.addEventListener("progress",function(e){});var n=this;a.open("POST",v.API_URL+"/avance_repository",!0),a.setRequestHeader("Authorization","Bearer "+localStorage.getItem("token"));var r=JSON.parse(localStorage.getItem("usuario"));r.proveedor_activo&&a.setRequestHeader("X-Proveedor-Id",r.proveedor_activo.id),a.onreadystatechange=function(){a.readyState===XMLHttpRequest.DONE&&200===a.status&&(n.mensajeExito=new Ae(!0),n.mensajeExito.mostrar=!0,n.mensajeExito.texto="Se  guardo correctamente el avance",n.listar(1,n.id_tab),n.showAgregarAvance=!n.showAgregarAvance,n.avance.patchValue({porcentaje:"",comentario:"",archivo:""}),n.cargando_datos=!1),a.readyState===XMLHttpRequest.DONE&&200!=a.status&&(n.error_envio(a),n.subir_archivo=!0,n.cargando_datos=!1),n.cargando_archivo=a.readyState},a.send(t)}else alert("ES NECESARIO ELEGIR UN ARCHIVO A SUBIR, VUELVA A INTENTARLO POR FAVOR")},e.prototype.error_envio=function(e){console.log(e),this.mensajeError=new Ae(!0),this.mensajeError.mostrar=!0,500==e.status?this.mensajeError.texto=e.responseText:this.mensajeError.texto="Ha ocurrido un error al enviar el archivo"},e.prototype.eliminar_avance=function(e){var t=this;confirm("\xbfRealmente desea eliminar este avance?")&&(this.cargando=!0,this.avanceService.eliminar(e).subscribe(function(e){t.cargando=!1,t.listar(1,t.id_tab),t.mensajeExito=new Ae(!0),t.mensajeExito.mostrar=!0,t.mensajeExito.texto="Se ha eliminado satisfactoriamente el avance"},function(e){t.cargando=!1,t.mensajeError=new Ae(!0),t.mensajeError.mostrar=!0;try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}}))},e.prototype.descargar=function(e){var t=e,a="token="+localStorage.getItem("token");window.open(v.API_URL+"/download-file-avance/"+t+"?"+a)},e.prototype.view=function(e){var t=e,a="token="+localStorage.getItem("token");window.open(v.API_URL+"/view-file-avance/"+t+"?"+a)},e.prototype.tab=function(e){1==e?(this.show_actual=!0,this.show_historico=!1,this.id_tab=1):2==e&&(this.show_actual=!1,this.show_historico=!0,this.id_tab=2),this.listar(1,this.id_tab)},e.prototype.actualiza_avance=function(){var e=this;this.cargando=!0,this.avanceService.actualizar_avance(this.id_avance,this.avance_detalle.value).subscribe(function(t){e.cargando=!1,e.mensajeExito=new Ae(!0),e.mensajeExito.mostrar=!0,e.mensajeExito.texto="Se ha actualizado satisfactoriamente el avance"},function(t){e.cargando=!1,e.mensajeError=new Ae(!0),e.mensajeError.mostrar=!0;try{t.json();401==t.status&&(e.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){500==t.status?e.mensajeError.texto="500 (Error interno del servidor)":e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.regresar=function(){this.location.back()},e.prototype.paginaSiguiente=function(){this.listar(this.paginaActual+1,this.id_tab)},e.prototype.paginaAnterior=function(){this.listar(this.paginaActual-1,this.id_tab)},e.prototype.paginaSiguienteBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda+1)},e.prototype.paginaAnteriorBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda-1)},e=Sm([Object(n.Component)({selector:"app-detalle",template:a("DVzN"),styles:[a("QmW2")]}),Rm("design:paramtypes",[h.b,o.Location,h.a,i.Title,Im,l.FormBuilder])],e)}(),Nm=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Mm=[{path:"temas",children:[{path:"",component:wm},{path:"avances/:id",component:Om}],canActivate:[M]}],Bm=function(){function e(){}return e=Nm([Object(n.NgModule)({imports:[h.c.forChild(Mm)],exports:[h.c]})],e)}(),Fm=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Dm=function(){function e(){}return e=Fm([Object(n.NgModule)({imports:[o.CommonModule,Bm,qe,Pm,l.ReactiveFormsModule],declarations:[wm,Om],providers:[_,Im]})],e)}(),Lm=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Tm=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},zm=function(){function e(){this.mostrarMenuAside=!1,this.usuario={}}return e.prototype.ngOnInit=function(){this.DatoUnidad=JSON.parse(localStorage.getItem("usuario")),this.usuario=JSON.parse(localStorage.getItem("usuario"))},e.prototype.toggleMenuAside=function(){this.mostrarMenuAside=!this.mostrarMenuAside},e=Lm([Object(n.Component)({selector:"admision-menu",template:a("T/4t"),styles:[a("WTnz")]}),Tm("design:paramtypes",[])],e)}(),Um=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Vm=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Gm=function(){function e(){this.usuario={},this.menu=[],this.menuAutorizado=[]}return e.prototype.ngOnInit=function(){this.menu=[{titulo:"Sincronizaci\xf3n con servidor principal",modulos:[{permiso:"2EA8UKzKrNFzxQxBBSjQ2fHggyrScu9f",icono:"fa-cloud-upload",titulo:"Sincronizaci\xf3n manual",url:"/panel-control/sync/manual"}]},{titulo:"Usuarios y privilegios",modulos:[{permiso:"mGKikN0aJaeF2XrHwwYK3XNw0f9CSZDe",icono:"fa-user",titulo:"Usuarios",url:"/panel-control/usuarios"},{permiso:"ICmOKw3HxhgRna4a78OP0QmKrIX0bNsp",icono:"fa-users",titulo:"Roles",url:"/panel-control/roles"},{permiso:"DYwQAxJbpHWw07zT09scEogUeFKFdGSu",icono:"fa-shield",titulo:"Permisos",url:"/panel-control/permisos"}]}],this.menuAutorizado=[{titulo:"Sincronizaci\xf3n con servidor principal",modulos:[{icono:"fa-server",titulo:"Estatus de sincronizaci\xf3n",url:"/panel-control/sync/estatus"}]}];var e=JSON.parse(localStorage.getItem("usuario")).permisos.split("|");if(e.length>0)for(var t in this.menu)for(var a in this.menu[t].modulos)e:for(var n in e)if(e[n]==this.menu[t].modulos[a].permiso){this.initMenuAutorizadoPorItem(this.menu[t].titulo).modulos.push(this.menu[t].modulos[a]);break e}},e.prototype.initMenuAutorizadoPorItem=function(e){for(var t in this.menuAutorizado)if(e==this.menuAutorizado[t].titulo)return this.menuAutorizado[t];return this.menuAutorizado.push({titulo:e,modulos:[]}),this.menuAutorizado[this.menuAutorizado.length-1]},e=Um([Object(n.Component)({selector:"admision-menu-aside",template:a("KS36"),styles:[a("Jg/L")]}),Vm("design:paramtypes",[])],e)}(),Ym=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Hm=function(){function e(){}return e=Ym([Object(n.NgModule)({imports:[o.CommonModule,h.c,ee,de,fe],declarations:[zm,Gm],exports:[zm,Gm]})],e)}(),Jm=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},$m=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Km=function(){function e(){this.cargando=!1}return e.prototype.ngOnInit=function(){},e=Jm([Object(n.Component)({selector:"admision-menu-lateral",template:a("NQph"),styles:[a("Julm")]}),$m("design:paramtypes",[])],e)}(),Xm=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Zm=function(){function e(){}return e=Xm([Object(n.NgModule)({imports:[o.CommonModule,h.c],declarations:[Km],exports:[Km]})],e)}(),Qm=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Wm=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},eg=function(){function e(e,t){this.http=e,this.jwtRequest=t}return t=e,e.prototype.buscar=function(e,a,n){return void 0===a&&(a=1),void 0===n&&(n=20),this.jwtRequest.get(t.URL,null,{q:e,page:a,per_page:n}).map(function(e){return e.json().data})},e.prototype.lista=function(e,a){return void 0===e&&(e=1),void 0===a&&(a=20),this.jwtRequest.get(t.URL,null,{page:e,per_page:a}).map(function(e){return e.json().data})},e.prototype.listaCompleta=function(e,t){return void 0===e&&(e=1),void 0===t&&(t=20),this.jwtRequest.get("admision/paciente-egreso",null,{page:e,per_page:t}).map(function(e){return e.json().data})},e.prototype.buscarCompleta=function(e,t,a){return void 0===t&&(t=1),void 0===a&&(a=20),this.jwtRequest.get("admision/paciente-egreso",null,{q:e,page:t,per_page:a}).map(function(e){return e.json().data})},e.prototype.listaMunicipios=function(e){return this.jwtRequest.get("admision/municipio",e,null).map(function(e){return e.json().data})},e.prototype.listaLocalidades=function(e,t){return this.jwtRequest.get("admision/localidad",t,{municipio_id:e}).map(function(e){return e.json().data})},e.prototype.listaMotivoEgreso=function(){return this.jwtRequest.get("admision/motivo-egreso",null,null).map(function(e){return e.json().data})},e.prototype.listaTriage=function(e){return this.jwtRequest.get("admision/triage",null,{triage_id:e}).map(function(e){return e.json().data})},e.prototype.listaGradoLesion=function(e){return this.jwtRequest.get("admision/grado-lesion",null,{grado_lesion_id:e}).map(function(e){return e.json().data})},e.prototype.listaUnidades=function(e,t){return this.jwtRequest.get("unidades-medicas",null,{lista:e,clues:t}).map(function(e){return e.json().data})},e.prototype.ver=function(e){return this.jwtRequest.get(t.URL,e,{}).map(function(e){return console.log(e.json().data),e.json().data})},e.prototype.editar=function(e,a){return this.jwtRequest.put(t.URL,e,a).map(function(e){return e.json().data})},e.prototype.ingreso=function(e,t){return this.jwtRequest.put("admision/admision",e,t).map(function(e){return e.json().data})},e.prototype.crear=function(e){return this.jwtRequest.post("admision/paciente-egreso",e).map(function(e){return e.json().data})},e.URL="admision/paciente-egreso",e=t=Qm([Object(n.Injectable)(),Wm("design:paramtypes",[c.Http,V])],e);var t}(),tg=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},ag=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ng=function(){function e(e,t){this.title=e,this.egresoService=t,this.cargando=!1,this.mensajeError=new Ae,this.mensajeExito=new Ae,this.pacientesEgreso=[],this.paginaActual=1,this.resultadosPorPagina=25,this.total=0,this.paginasTotales=0,this.indicePaginas=[],this.ultimoTerminoBuscado="",this.terminosBusqueda=new x.Subject,this.resultadosBusqueda=[],this.busquedaActivada=!1,this.paginaActualBusqueda=1,this.resultadosPorPaginaBusqueda=25,this.totalBusqueda=0,this.paginasTotalesBusqueda=0,this.indicePaginasBusqueda=[]}return e.prototype.ngOnInit=function(){var e=this;this.title.setTitle("Pacientes / Admisi\xf3n"),this.listar(1),this.mensajeError=new Ae,this.mensajeExito=new Ae;var t=this,a=this.terminosBusqueda.debounceTime(300).distinctUntilChanged().switchMap(function(t){return console.log("Cargando b\xfasqueda."+t),e.busquedaActivada=""!=t,e.ultimoTerminoBuscado=t,e.paginaActualBusqueda=1,e.cargando=!0,t?e.egresoService.buscar(t,e.paginaActualBusqueda,e.resultadosPorPaginaBusqueda):lt.Observable.of({data:[]})}).catch(function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=function(){t.listarBusqueda(t.ultimoTerminoBuscado,t.paginaActualBusqueda)};try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}return a});a.subscribe(function(t){e.cargando=!1,e.resultadosBusqueda=t.data,e.totalBusqueda=0|t.total,e.paginasTotalesBusqueda=Math.ceil(e.totalBusqueda/e.resultadosPorPaginaBusqueda),e.indicePaginasBusqueda=[];for(var a=0;a<e.paginasTotalesBusqueda;a++)e.indicePaginasBusqueda.push(a+1);console.log("B\xfasqueda cargada.")})},e.prototype.buscar=function(e){this.terminosBusqueda.next(e)},e.prototype.listarBusqueda=function(e,t){var a=this;this.paginaActualBusqueda=t,console.log("Cargando b\xfasqueda."),this.cargando=!0,this.egresoService.buscar(e,t,this.resultadosPorPaginaBusqueda).subscribe(function(e){a.cargando=!1,a.resultadosBusqueda=e.data,a.totalBusqueda=0|e.total,a.paginasTotalesBusqueda=Math.ceil(a.totalBusqueda/a.resultadosPorPaginaBusqueda),a.indicePaginasBusqueda=[];for(var t=0;t<a.paginasTotalesBusqueda;t++)a.indicePaginasBusqueda.push(t+1);console.log("------"),console.log(e),console.log("B\xfasqueda cargada.")},function(n){a.cargando=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=function(){this.listarBusqueda(e,t)};try{n.json();401==n.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(e){console.log("No se puede interpretar el error"),500==n.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.listar=function(e){var t=this;this.paginaActual=e,this.cargando=!0,this.egresoService.lista(e,this.resultadosPorPagina).subscribe(function(e){t.cargando=!1,t.pacientesEgreso=e.data,t.total=0|e.total,t.paginasTotales=Math.ceil(t.total/t.resultadosPorPagina),t.indicePaginas=[];for(var a=0;a<t.paginasTotales;a++)t.indicePaginas.push(a+1);console.log("pacientes cargados.")},function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=t.listar;try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.paginaSiguiente=function(){this.listar(this.paginaActual+1)},e.prototype.paginaAnterior=function(){this.listar(this.paginaActual-1)},e.prototype.paginaSiguienteBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda+1)},e.prototype.paginaAnteriorBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda-1)},e=tg([Object(n.Component)({selector:"app-lista",template:a("ypsv"),styles:[a("SGRD")]}),ag("design:paramtypes",[i.Title,eg])],e)}(),rg=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},ig=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},sg=function(){function e(e,t){this.http=e,this.jwtRequest=t}return t=e,e.prototype.buscar=function(e,a,n){return void 0===a&&(a=1),void 0===n&&(n=20),this.jwtRequest.get(t.URL,null,{q:e,page:a,per_page:n}).map(function(e){return e.json().data})},e.prototype.lista=function(e,a){return void 0===e&&(e=1),void 0===a&&(a=20),this.jwtRequest.get(t.URL,null,{page:e,per_page:a}).map(function(e){return e.json().data})},e.prototype.listaCompleta=function(e,t){return void 0===e&&(e=1),void 0===t&&(t=20),this.jwtRequest.get("admision/paciente",null,{page:e,per_page:t}).map(function(e){return e.json().data})},e.prototype.buscarCompleta=function(e,t,a){return void 0===t&&(t=1),void 0===a&&(a=20),this.jwtRequest.get("admision/paciente",null,{q:e,page:t,per_page:a}).map(function(e){return e.json().data})},e.prototype.listaMunicipios=function(e){return void 0===e&&(e=null),this.jwtRequest.get("admision/municipio",e,null).map(function(e){return e.json().data})},e.prototype.listaLocalidades=function(e,t){return void 0===e&&(e=null),void 0===t&&(t=null),this.jwtRequest.get("admision/localidad",t,{municipio_id:e}).map(function(e){return e.json().data})},e.prototype.listaMotivoEgreso=function(){return this.jwtRequest.get("admision/motivo-egreso",null,null).map(function(e){return e.json().data})},e.prototype.listaTriage=function(e){return this.jwtRequest.get("admision/triage",null,{triage_id:e}).map(function(e){return e.json().data})},e.prototype.listaGradoLesion=function(e){return this.jwtRequest.get("admision/grado-lesion",null,{grado_lesion_id:e}).map(function(e){return e.json().data})},e.prototype.listaUnidades=function(e,t){return this.jwtRequest.get("unidades-medicas",null,{lista:e,clues:t}).map(function(e){return e.json().data})},e.prototype.ver=function(e){return this.jwtRequest.get(t.URL,e,{}).map(function(e){return console.log(e.json().data),e.json().data})},e.prototype.editar=function(e,t){return this.jwtRequest.put("admision/paciente-egreso",e,t).map(function(e){return e.json().data})},e.prototype.ingreso=function(e,t){return this.jwtRequest.put("admision/admision",e,t).map(function(e){return e.json().data})},e.prototype.crear=function(e){return this.jwtRequest.post("admision/paciente",e).map(function(e){return e.json().data})},e.URL="admision/admision",e=t=rg([Object(n.Injectable)(),ig("design:paramtypes",[c.Http,V])],e);var t}(),og=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},lg=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},cg=function(){function e(e,t,a,n,r,i,s){this.router=e,this.title=t,this.authService=a,this.route=n,this.location=r,this.pacienteEgresoService=i,this.fb=s,this.cargando=!1,this.cargandoMunicipios=!1,this.cargandoLocalidades=!1,this.cargandoMotivoEgreso=!1,this.cargandoUnidadesMedicas=!1,this.mensajeError=new Ae,this.mensajeAdvertencia=new Ae,this.mensajeExito=new Ae,this.Municipios=[],this.Localidades=[],this.MotivoEgreso=[],this.UnidadesMedicas=[]}return e.prototype.ngOnInit=function(){var e=this;this.title.setTitle("Alta Paciente / Admisi\xf3n"),this.pacienteEgreso=this.fb.group({fecha_egreso:["",[l.Validators.required]],hora_egreso:["",[l.Validators.required]],contrareferencia:["2",[l.Validators.required]],unidad_referencia:["CSSS",[l.Validators.required]],motivo_egreso_id:["1",[l.Validators.required]]}),this.route.params.subscribe(function(t){e.id=t.id}),this.cargarDatos()},e.prototype.cargarMunicipios=function(e){var t=this;this.cargandoMunicipios=!0,this.pacienteEgresoService.listaMunicipios(e).subscribe(function(e){t.Municipios=e,t.cargandoMunicipios=!1,console.log("Municipios cargados")},function(e){t.cargandoMunicipios=!1})},e.prototype.cargarLocalidades=function(e,t){var a=this;this.cargandoLocalidades=!0,this.pacienteEgresoService.listaLocalidades(e,t).subscribe(function(e){a.Localidades=e,a.cargandoLocalidades=!1,console.log("Localidades cargados")},function(e){a.cargandoLocalidades=!1})},e.prototype.cargarMotivoEgreso=function(){var e=this;this.cargandoLocalidades=!0,this.pacienteEgresoService.listaMotivoEgreso().subscribe(function(t){e.MotivoEgreso=t,e.cargandoMotivoEgreso=!1,console.log(t)},function(t){e.cargandoMotivoEgreso=!1})},e.prototype.CargarUnidadesMedicas=function(e,t){var a=this;void 0===t&&(t=null),this.cargandoLocalidades=!0,this.pacienteEgresoService.listaUnidades(e,t).subscribe(function(e){a.UnidadesMedicas=e,a.cargandoUnidadesMedicas=!1},function(e){a.cargandoMotivoEgreso=!1})},e.prototype.cargarDatos=function(){var e=this;this.cargando=!0,console.log("Cargando usuario."),this.pacienteEgresoService.ver(this.id).subscribe(function(t){var a,n,r;e.cargando=!1,e.datosCargados=!0,e.pacienteEgreso.patchValue(t),e.id_paciente=t.id,e.nombre_paciente=t.nombre,t.localidad?e.localidad_paciente=t.localidad.nombre+" ( "+t.localidad.municipio.nombre+" )":e.localidad_paciente="DESCONOCIDO",e.fecha_ingreso=t.ingresoactivos[0].fecha_hora_ingreso,e.area_ingreso=t.ingresoactivos[0].estado_triage.descripcion,n=(a=new Date).getHours(),r=a.getMinutes(),e.pacienteEgreso.patchValue({fecha_egreso:a.toJSON().slice(0,10),hora_egreso:n+":"+r}),e.cargarMotivoEgreso(),e.CargarUnidadesMedicas(1)},function(t){e.cargando=!1,e.mensajeError=new Ae(!0),e.mensajeError=new Ae(!0),e.mensajeError.mostrar;try{t.json();401==t.status&&(e.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){500==t.status?e.mensajeError.texto="500 (Error interno del servidor)":e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.referido=function(e){1==e?this.pacienteEgreso.patchValue({unidad_referencia:""}):this.pacienteEgreso.patchValue({unidad_referencia:"CSSS"})},e.prototype.enviar=function(){var e=this;this.cargando=!0,this.pacienteEgresoService.editar(this.id,this.pacienteEgreso.value).subscribe(function(t){e.cargando=!1,e.mensajeExito=new Ae(!0),e.mensajeExito.texto="Se han guardado los cambios.",e.mensajeExito.mostrar=!0,e.router.navigate(["/pacientes/modulo/egreso"])},function(t){e.cargando=!1,e.mensajeError=new Ae(!0),e.mensajeError.texto="No especificado.",e.mensajeError.mostrar=!0;try{t.json();401==t.status&&(e.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n."),409==t.status&&(e.mensajeError.texto="Por favor verfique los campos marcados en rojo.")}catch(a){500==t.status?e.mensajeError.texto="500 (Error interno del servidor)":e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.regresar=function(){this.location.back()},e=og([Object(n.Component)({selector:"app-egreso",template:a("IWmU"),styles:[a("+3AU")]}),lg("design:paramtypes",[h.b,i.Title,_,h.a,o.Location,sg,l.FormBuilder])],e)}(),dg=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},ug=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},pg=function(){function e(e,t,a,n,r,i,s){this.router=e,this.title=t,this.authService=a,this.route=n,this.location=r,this.pacienteEgresoService=i,this.fb=s,this.cargando=!1,this.cargandoUnidadesMedicas=!1,this.cargandotriage=!1,this.cargandoGradoLesion=!1,this.permiso_guardar=!0,this.verForm=!1,this.mensajeError=new Ae,this.mensajeAdvertencia=new Ae,this.mensajeExito=new Ae,this.UnidadesMedicas=[],this.Triage=[],this.GradoLesion=[]}return e.prototype.ngOnInit=function(){var e=this;this.title.setTitle("Ingreso Paciente / Admisi\xf3n"),this.pacienteIngreso=this.fb.group({referido:["2",[l.Validators.required]],unidad_referido:["",[l.Validators.required]],urgencia_calificada:["1",[l.Validators.required]],registro_triage:["1",[l.Validators.required]],estado_triage_id:["1",[l.Validators.required]],grado_lesion_id:["1",[l.Validators.required]],fecha_ingreso:["",[l.Validators.required]],hora_ingreso:["",[l.Validators.required]]}),this.route.params.subscribe(function(t){e.id=t.id}),this.cargarDatos()},e.prototype.bloquea_formulario=function(){this.verForm=!this.verForm,this.verForm?this.pacienteIngreso.patchValue({registro_triage:2,estado_triage_id:1,grado_lesion_id:0}):this.pacienteIngreso.patchValue({registro_triage:2,estado_triage_id:1,grado_lesion_id:1})},e.prototype.valida_referido=function(e){1==e?(this.nombre_conocido=!0,this.pacienteIngreso.patchValue({unidad_referido:""})):(this.pacienteIngreso.patchValue({unidad_referido:"CSSS"}),this.nombre_conocido=!1)},e.prototype.CargarUnidadesMedicas=function(e,t){var a=this;this.cargandoUnidadesMedicas=!0,console.log(e+" - "+t),this.pacienteEgresoService.listaUnidades(e,t).subscribe(function(e){a.UnidadesMedicas=e,a.cargandoUnidadesMedicas=!1},function(e){a.cargandoUnidadesMedicas=!1})},e.prototype.CargarGradoLesion=function(e){var t=this;this.cargandoGradoLesion=!0,this.pacienteEgresoService.listaGradoLesion(e).subscribe(function(e){t.pacienteIngreso.patchValue({grado_lesion_id:e[0].id}),t.GradoLesion=e,t.cargandoGradoLesion=!1},function(e){t.cargandoGradoLesion=!1})},e.prototype.CargarLugarTriage=function(e){var t=this;this.cargandotriage=!0,this.pacienteEgresoService.listaTriage(e).subscribe(function(e){t.Triage=e,t.pacienteIngreso.patchValue({estado_triage_id:e[0].id}),t.cargandotriage=!1},function(e){t.cargandotriage=!1})},e.prototype.cargarDatos=function(){var e=this;this.cargando=!0,this.pacienteEgresoService.ver(this.id).subscribe(function(t){var a,n,r,i,s,o,l,c,d;e.cargando=!1,e.datosCargados=!0,t.ingresoactivos.length>0?(t.referido=t.ingresoactivos[0].referido,t.urgencia_calificada=t.ingresoactivos[0].urgencia_calificada,t.registro_triage=t.ingresoactivos[0].registro_triage,t.fecha_ingreso=t.ingresoactivos[0].fecha_hora_ingreso.substr(0,10),t.hora_ingreso=t.ingresoactivos[0].fecha_hora_ingreso.substr(10,6),1==t.ingresoactivos[0].referido?(t.unidad_referido=t.ingresoactivos[0].unidad_referido,e.nombre_conocido=!0):t.unidad_referido="css",a=t.ingresoactivos[0].clues,n=t.ingresoactivos[0].estado_triage_id,r=t.ingresoactivos[0].grado_lesion_id,e.pacienteIngreso.patchValue(t),i=t.id,s=t.nombre,o=t.localidad?t.localidad.nombre+" ("+t.localidad.municipio.nombre+")":"DESCONOCIDO",e.permiso_guardar=!1):(c=(l=new Date).getHours(),d=l.getMinutes(),i=t.id,s=t.nombre,o=t.localidad?t.localidad.nombre+" ("+t.localidad.municipio.nombre+")":"DESCONOCIDO",e.pacienteIngreso.patchValue({fecha_ingreso:l.toJSON().slice(0,10),hora_ingreso:c+":"+d}),e.pacienteIngreso.patchValue({unidad_referido:"CSSS"})),e.CargarUnidadesMedicas(1,a),e.CargarLugarTriage(n),e.CargarGradoLesion(r),e.id_paciente=i,e.nombre_paciente=s,e.localidad_paciente=o},function(t){e.cargando=!1,e.mensajeError=new Ae(!0),e.mensajeError=new Ae(!0),e.mensajeError.mostrar;try{t.json();401==t.status&&(e.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){500==t.status?e.mensajeError.texto="500 (Error interno del servidor)":e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.enviar=function(){var e=this;this.cargando=!0,this.pacienteEgresoService.ingreso(this.id,this.pacienteIngreso.value).subscribe(function(t){e.cargando=!1,console.log("Paciente editado."),e.mensajeExito=new Ae(!0),e.mensajeExito.texto="Se han guardado los cambios.",e.mensajeExito.mostrar=!0,e.location.back()},function(t){e.cargando=!1,e.mensajeError=new Ae(!0),e.mensajeError.texto="No especificado.",e.mensajeError.mostrar=!0;try{t.json();401==t.status&&(e.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n."),409==t.status&&(e.mensajeError.texto="Por favor verfique los campos marcados en rojo.")}catch(a){500==t.status?e.mensajeError.texto="500 (Error interno del servidor)":e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.regresar=function(){this.location.back()},e=dg([Object(n.Component)({selector:"app-ingreso",template:a("FR06"),styles:[a("BvwC")]}),ug("design:paramtypes",[h.b,i.Title,_,h.a,o.Location,sg,l.FormBuilder])],e)}(),mg=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},gg=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},fg=function(){function e(e,t,a,n,r,i){this.title=e,this.PacienteEgresoService=t,this.route=a,this.router=n,this.location=r,this.fb=i,this.cargando=!1,this.showDialog=!1,this.verForm=!1,this.verFormResponsable=!1,this.verFormArea=!0,this.mensajeError=new Ae,this.mensajeExito=new Ae,this.cargandoMunicipios=!1,this.cargandoLocalidades=!1,this.Municipios=[],this.Localidades=[],this.pacientes=[],this.paginaActual=1,this.resultadosPorPagina=25,this.total=0,this.paginasTotales=0,this.indicePaginas=[],this.ultimoTerminoBuscado="",this.terminosBusqueda=new x.Subject,this.resultadosBusqueda=[],this.busquedaActivada=!1,this.paginaActualBusqueda=1,this.resultadosPorPaginaBusqueda=25,this.totalBusqueda=0,this.paginasTotalesBusqueda=0,this.indicePaginasBusqueda=[]}return e.prototype.ngOnInit=function(){var e=this;this.paciente=this.fb.group({conocido:["1",[l.Validators.required]],responsableconocido:["1",[l.Validators.required]],nombre:["",[l.Validators.required]],fecha_nacimiento:["",[l.Validators.required]],hora_nacimiento:["",[]],domicilio:["",[l.Validators.required]],colonia:["",[l.Validators.required]],telefono:["",[l.Validators.required]],no_expediente:["",[l.Validators.required]],no_afiliacion:["",[l.Validators.required]],municipio_id:["",[l.Validators.required]],localidad_id:["",[l.Validators.required]],sexo:["",[l.Validators.required]],nombre_responsable:["",[l.Validators.required]],parentesco:["",[l.Validators.required]],domicilio_responsable:["",[l.Validators.required]],telefono_responsable:["",[l.Validators.required]],area:["",[l.Validators.required]],trabajo_social:["",[]],juridico:["",[]],ministerio:["",[]]}),this.title.setTitle("Verificaci\xf3n / Admisi\xf3n"),this.listar(1),this.mensajeError=new Ae,this.mensajeExito=new Ae;var t=this,a=this.terminosBusqueda.debounceTime(300).distinctUntilChanged().switchMap(function(t){return console.log("Cargando b\xfasqueda."+t),e.busquedaActivada=""!=t,e.ultimoTerminoBuscado=t,e.paginaActualBusqueda=1,e.cargando=!0,t?e.PacienteEgresoService.buscarCompleta(t,e.paginaActualBusqueda,e.resultadosPorPaginaBusqueda):lt.Observable.of({data:[]})}).catch(function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=function(){t.listarBusqueda(t.ultimoTerminoBuscado,t.paginaActualBusqueda)};try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}return a});a.subscribe(function(t){e.cargando=!1,e.resultadosBusqueda=t.data,e.totalBusqueda=0|t.total,e.paginasTotalesBusqueda=Math.ceil(e.totalBusqueda/e.resultadosPorPaginaBusqueda),e.indicePaginasBusqueda=[];for(var a=0;a<e.paginasTotalesBusqueda;a++)e.indicePaginasBusqueda.push(a+1);console.log("B\xfasqueda cargada.")}),this.cargarMunicipios()},e.prototype.cargarMunicipios=function(){var e=this;this.cargandoMunicipios=!0,this.PacienteEgresoService.listaMunicipios().subscribe(function(t){e.Municipios=t,e.cargandoMunicipios=!1,console.log("Municipios cargados")},function(t){e.cargandoMunicipios=!1})},e.prototype.cargarLocalidades=function(e){var t=this;this.cargandoLocalidades=!0,this.PacienteEgresoService.listaLocalidades(e).subscribe(function(e){t.Localidades=e,t.cargandoLocalidades=!1,console.log("Localidades cargados")},function(e){t.cargandoLocalidades=!1})},e.prototype.buscar=function(e){this.terminosBusqueda.next(e)},e.prototype.listarBusqueda=function(e,t){var a=this;this.paginaActualBusqueda=t,console.log("Cargando b\xfasqueda."),this.cargando=!0,this.PacienteEgresoService.buscarCompleta(e,t,this.resultadosPorPaginaBusqueda).subscribe(function(e){a.cargando=!1,a.resultadosBusqueda=e.data,a.totalBusqueda=0|e.total,a.paginasTotalesBusqueda=Math.ceil(a.totalBusqueda/a.resultadosPorPaginaBusqueda),a.indicePaginasBusqueda=[];for(var t=0;t<a.paginasTotalesBusqueda;t++)a.indicePaginasBusqueda.push(t+1);console.log("------"),console.log(e),console.log("B\xfasqueda cargada.")},function(n){a.cargando=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=function(){this.listarBusqueda(e,t)};try{n.json();401==n.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(e){console.log("No se puede interpretar el error"),500==n.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.listar=function(e){var t=this;this.paginaActual=e,this.cargando=!0,this.PacienteEgresoService.listaCompleta(e,this.resultadosPorPagina).subscribe(function(e){t.cargando=!1,t.pacientes=e.data,t.total=0|e.total,t.paginasTotales=Math.ceil(t.total/t.resultadosPorPagina),t.indicePaginas=[];for(var a=0;a<t.paginasTotales;a++)t.indicePaginas.push(a+1);console.log("pacientes cargados."),console.log(t.pacientes)},function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=t.listar;try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.paciente_conocido=function(){this.verForm=!this.verForm,this.verForm?this.paciente.patchValue({nombre:1,fecha_nacimiento:"1987-01-01",domicilio:"conocido",colonia:"conocido",telefono:"conocido",no_expediente:"conocido",no_afiliacion:"conocido",municipio_id:1,localidad_id:1,sexo:1}):this.paciente.patchValue({nombre:"",fecha_nacimiento:"",domicilio:"",colonia:"",telefono:"",no_expediente:"",no_afiliacion:"",municipio_id:0,localidad_id:0,sexo:1}),this.verFormResponsable&&this.verForm?(this.verFormArea=!1,this.paciente.patchValue({area:""})):(this.verFormArea=!0,this.paciente.patchValue({area:1}))},e.prototype.responsable=function(){this.verFormResponsable=!this.verFormResponsable,this.verFormResponsable?this.paciente.patchValue({nombre_responsable:1,parentesco:"1987-01-01",domicilio_responsable:"conocido",telefono_responsable:"conocido"}):this.paciente.patchValue({nombre_responsable:"",parentesco:"",domicilio_responsable:"",telefono_responsable:""}),this.verFormResponsable&&this.verForm?(this.verFormArea=!1,this.paciente.patchValue({area:""})):(this.verFormArea=!0,this.paciente.patchValue({area:1}))},e.prototype.verifica_area=function(){var e,t,a;e=this.paciente.controls.trabajo_social.value,t=this.paciente.controls.juridico.value,a=this.paciente.controls.ministerio.value,e||t||a?this.paciente.patchValue({area:1}):(this.paciente.patchValue({area:""}),console.log("no entro area"))},e.prototype.enviar=function(){var e,t=this;if(e=0,1!=this.paciente.controls.conocido.value&&1!=this.paciente.controls.responsableconocido.value){var a,n,r;a=this.paciente.controls.trabajo_social.value,n=this.paciente.controls.juridico.value,r=this.paciente.controls.ministerio.value,(a||n||r)&&(e=1)}else e=1;1==e&&this.PacienteEgresoService.crear(this.paciente.value).subscribe(function(e){t.cargando=!1,t.router.navigate(["/pacientes/modulo/ingreso/"+e.id])},function(e){t.cargando=!1,t.mensajeError=new Ae(!0),t.mensajeError.texto="No especificado.",t.mensajeError.mostrar=!0;try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n."),409==e.status&&(t.mensajeError.texto="Por favor verfique los campos marcados en rojo.")}catch(a){500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.paginaSiguiente=function(){this.listar(this.paginaActual+1)},e.prototype.paginaAnterior=function(){this.listar(this.paginaActual-1)},e.prototype.paginaSiguienteBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda+1)},e.prototype.paginaAnteriorBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda-1)},e=mg([Object(n.Component)({selector:"app-verificacion",template:a("CMHd"),styles:[a("Q4yS")]}),gg("design:paramtypes",[i.Title,sg,h.a,h.b,o.Location,l.FormBuilder])],e)}(),hg=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},vg=[{path:"pacientes/modulo",children:[{path:"egreso",component:ng,canActivate:[D],data:{key:"CKXlt7sNZCiWBhvk33xqWEVTnv2lP022"}},{path:"egreso/:id",component:cg,canActivate:[D],data:{key:"CKXlt7sNZCiWBhvk33xqWEVTnv2lP022"}},{path:"ingreso/:id",component:pg,canActivate:[D],data:{key:"eS7qbng49qtMSs88wsflDnzMBVUfVMlc"}},{path:"verificacion",component:fg,canActivate:[D],data:{key:"eS7qbng49qtMSs88wsflDnzMBVUfVMlc"}}],canActivate:[M]}],bg=function(){function e(){}return e=hg([Object(n.NgModule)({imports:[h.c.forChild(vg)],exports:[h.c]})],e)}(),yg=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},_g=function(){function e(){}return e=yg([Object(n.NgModule)({imports:[o.CommonModule,bg,Hm,Zm,qe,l.ReactiveFormsModule],declarations:[ng,cg,pg,fg],providers:[_,sg,eg]})],e)}(),xg=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Ig=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},jg=function(){function e(e,t){this.http=e,this.jwtRequest=t}return t=e,e.prototype.buscar=function(e,a,n){return void 0===a&&(a=1),void 0===n&&(n=20),this.jwtRequest.get(t.URL,null,{q:e,page:a,per_page:n}).map(function(e){return e.json().data})},e.prototype.lista=function(e,a){return void 0===e&&(e=1),void 0===a&&(a=20),this.jwtRequest.get(t.URL,null,{page:e,per_page:a}).map(function(e){return e.json().data})},e.prototype.crear=function(e){return this.jwtRequest.post(t.URL,e).map(function(e){return e.json().data})},e.prototype.listaMunicipios=function(){return this.jwtRequest.get("admision/municipio",null,null).map(function(e){return e.json().data})},e.prototype.listaLocalidades=function(e){return this.jwtRequest.get("admision/localidad",null,{municipio_id:e}).map(function(e){return e.json().data})},e.prototype.ver=function(e){return this.jwtRequest.get(t.URL,e,{}).map(function(e){return e.json().data})},e.prototype.editar=function(e,a){return this.jwtRequest.put(t.URL,e,a).map(function(e){return e.json().data})},e.prototype.historial=function(e,t){return this.jwtRequest.get("admision/historial",e,null).map(function(e){return e.json().data})},e.URL="admision/paciente",e=t=xg([Object(n.Injectable)(),Ig("design:paramtypes",[c.Http,V])],e);var t}(),kg=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Cg=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Eg=function(){function e(e,t){this.title=e,this.pacienteService=t,this.cargando=!1,this.mensajeError=new Ae,this.mensajeExito=new Ae,this.pacientes=[],this.paginaActual=1,this.resultadosPorPagina=25,this.total=0,this.paginasTotales=0,this.indicePaginas=[],this.ultimoTerminoBuscado="",this.terminosBusqueda=new x.Subject,this.resultadosBusqueda=[],this.busquedaActivada=!1,this.paginaActualBusqueda=1,this.resultadosPorPaginaBusqueda=25,this.totalBusqueda=0,this.paginasTotalesBusqueda=0,this.indicePaginasBusqueda=[]}return e.prototype.ngOnInit=function(){var e=this;this.title.setTitle("Pacientes / Admisi\xf3n"),this.listar(1),this.mensajeError=new Ae,this.mensajeExito=new Ae;var t=this,a=this.terminosBusqueda.debounceTime(300).distinctUntilChanged().switchMap(function(t){return console.log("Cargando b\xfasqueda."+t),e.busquedaActivada=""!=t,e.ultimoTerminoBuscado=t,e.paginaActualBusqueda=1,e.cargando=!0,t?e.pacienteService.buscar(t,e.paginaActualBusqueda,e.resultadosPorPaginaBusqueda):lt.Observable.of({data:[]})}).catch(function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=function(){t.listarBusqueda(t.ultimoTerminoBuscado,t.paginaActualBusqueda)};try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}return a});a.subscribe(function(t){e.cargando=!1,e.resultadosBusqueda=t.data,e.totalBusqueda=0|t.total,e.paginasTotalesBusqueda=Math.ceil(e.totalBusqueda/e.resultadosPorPaginaBusqueda),e.indicePaginasBusqueda=[];for(var a=0;a<e.paginasTotalesBusqueda;a++)e.indicePaginasBusqueda.push(a+1);console.log("B\xfasqueda cargada.")})},e.prototype.buscar=function(e){this.terminosBusqueda.next(e)},e.prototype.listarBusqueda=function(e,t){var a=this;this.paginaActualBusqueda=t,console.log("Cargando b\xfasqueda."),this.cargando=!0,this.pacienteService.buscar(e,t,this.resultadosPorPaginaBusqueda).subscribe(function(e){a.cargando=!1,a.resultadosBusqueda=e.data,a.totalBusqueda=0|e.total,a.paginasTotalesBusqueda=Math.ceil(a.totalBusqueda/a.resultadosPorPaginaBusqueda),a.indicePaginasBusqueda=[];for(var t=0;t<a.paginasTotalesBusqueda;t++)a.indicePaginasBusqueda.push(t+1);console.log("------"),console.log(e),console.log("B\xfasqueda cargada.")},function(n){a.cargando=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=function(){this.listarBusqueda(e,t)};try{n.json();401==n.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(e){console.log("No se puede interpretar el error"),500==n.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.listar=function(e){var t=this;this.paginaActual=e,this.cargando=!0,this.pacienteService.lista(e,this.resultadosPorPagina).subscribe(function(e){t.cargando=!1,t.pacientes=e.data,t.total=0|e.total,t.paginasTotales=Math.ceil(t.total/t.resultadosPorPagina),t.indicePaginas=[];for(var a=0;a<t.paginasTotales;a++)t.indicePaginas.push(a+1);console.log("pacientes cargados.")},function(e){t.cargando=!1,t.mensajeError.mostrar=!0,t.ultimaPeticion=t.listar;try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.paginaSiguiente=function(){this.listar(this.paginaActual+1)},e.prototype.paginaAnterior=function(){this.listar(this.paginaActual-1)},e.prototype.paginaSiguienteBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda+1)},e.prototype.paginaAnteriorBusqueda=function(e){this.listarBusqueda(e,this.paginaActualBusqueda-1)},e=kg([Object(n.Component)({selector:"app-lista",template:a("g913"),styles:[a("8Kb3")]}),Cg("design:paramtypes",[i.Title,jg])],e)}(),Pg=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},qg=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ag=function(){function e(e,t,a,n,r,i,s){this.router=e,this.title=t,this.authService=a,this.route=n,this.location=r,this.pacienteService=i,this.fb=s,this.cargando=!1,this.cargandoMunicipios=!1,this.cargandoLocalidades=!1,this.verFormResponsable=!1,this.Municipios=[],this.Localidades=[],this.mensajeError=new Ae,this.mensajeAdvertencia=new Ae,this.mensajeExito=new Ae}return e.prototype.ngOnInit=function(){this.title.setTitle("Nuevo Paciente / Admisi\xf3n"),this.paciente=this.fb.group({nombre:["",[l.Validators.required]],fecha_nacimiento:["",[l.Validators.required]],hora_nacimiento:["",[]],domicilio:["",[l.Validators.required]],colonia:["",[l.Validators.required]],telefono:["",[l.Validators.required]],no_expediente:["",[l.Validators.required]],no_afiliacion:["",[l.Validators.required]],municipio_id:["",[l.Validators.required]],localidad_id:["",[l.Validators.required]],sexo:["1",[l.Validators.required]],responsableconocido:["1",[l.Validators.required]],nombre_responsable:["",[l.Validators.required]],parentesco:["",[l.Validators.required]],domicilio_responsable:["",[l.Validators.required]],telefono_responsable:["",[l.Validators.required]]}),this.cargarMunicipios()},e.prototype.enviar=function(){var e=this;this.cargando=!0,this.pacienteService.crear(this.paciente.value).subscribe(function(t){e.cargando=!1,console.log("Usuario creado."),e.location.back()},function(t){e.cargando=!1,e.mensajeError=new Ae(!0),e.mensajeError.texto="No especificado.",e.mensajeError.mostrar=!0;try{var a=t.json();if(401==t.status&&(e.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n."),409==t.status)for(var n in e.mensajeError.texto="Por favor verfique los campos marcados en rojo.",a.error)for(var r in a.error[n]);}catch(a){500==t.status?e.mensajeError.texto="500 (Error interno del servidor)":e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.cargarMunicipios=function(){var e=this;this.cargandoMunicipios=!0,this.pacienteService.listaMunicipios().subscribe(function(t){e.Municipios=t,e.cargandoMunicipios=!1,console.log("Municipios cargados")},function(t){e.cargandoMunicipios=!1})},e.prototype.cargarLocalidades=function(e){var t=this;this.cargandoLocalidades=!0,this.pacienteService.listaLocalidades(e).subscribe(function(e){t.Localidades=e,t.cargandoLocalidades=!1,console.log("Localidades cargados")},function(e){t.cargandoLocalidades=!1})},e.prototype.regresar=function(){this.location.back()},e.prototype.responsable=function(){this.verFormResponsable=!this.verFormResponsable,this.verFormResponsable?this.paciente.patchValue({nombre_responsable:1,parentesco:"1987-01-01",domicilio_responsable:"conocido",telefono_responsable:"conocido"}):this.paciente.patchValue({nombre_responsable:"",parentesco:"",domicilio_responsable:"",telefono_responsable:""})},e=Pg([Object(n.Component)({selector:"app-nuevo",template:a("cDsx"),styles:[a("lHm1")]}),qg("design:paramtypes",[h.b,i.Title,_,h.a,o.Location,jg,l.FormBuilder])],e)}(),wg=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Sg=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Rg=function(){function e(e,t,a,n,r,i,s){this.router=e,this.title=t,this.authService=a,this.route=n,this.location=r,this.pacienteService=i,this.fb=s,this.cargando=!1,this.cargandoMunicipios=!1,this.cargandoLocalidades=!1,this.verFormResponsable=!1,this.mensajeError=new Ae,this.mensajeAdvertencia=new Ae,this.mensajeExito=new Ae,this.Municipios=[],this.Localidades=[]}return e.prototype.ngOnInit=function(){var e=this;this.title.setTitle("Editar Paciente / Admisi\xf3n"),this.paciente=this.fb.group({nombre:["",[l.Validators.required]],fecha_nacimiento:["",[l.Validators.required]],hora_nacimiento:["",[]],domicilio:["",[l.Validators.required]],colonia:["",[l.Validators.required]],telefono:["",[l.Validators.required]],no_expediente:["",[l.Validators.required]],no_afiliacion:["",[l.Validators.required]],municipio_id:["",[l.Validators.required]],localidad_id:["",[l.Validators.required]],sexo:["",[l.Validators.required]],responsableconocido:["1",[l.Validators.required]],nombre_responsable:["",[l.Validators.required]],parentesco:["",[l.Validators.required]],domicilio_responsable:["",[l.Validators.required]],telefono_responsable:["",[l.Validators.required]]}),this.route.params.subscribe(function(t){e.id=t.id}),console.log(this.id),this.cargarDatos()},e.prototype.cargarMunicipios=function(){var e=this;this.cargandoMunicipios=!0,this.pacienteService.listaMunicipios().subscribe(function(t){e.Municipios=t,e.cargandoMunicipios=!1,console.log("Municipios cargados")},function(t){e.cargandoMunicipios=!1})},e.prototype.cargarLocalidades=function(e){var t=this;this.cargandoLocalidades=!0,this.pacienteService.listaLocalidades(e).subscribe(function(e){t.Localidades=e,t.cargandoLocalidades=!1,console.log("Localidades cargados")},function(e){t.cargandoLocalidades=!1})},e.prototype.cargarDatos=function(){var e=this;this.cargando=!0,console.log("Cargando usuario."),this.pacienteService.ver(this.id).subscribe(function(t){e.cargando=!1,e.datosCargados=!0,t.responsable?e.paciente.patchValue({nombre_responsable:t.responsable.nombre,parentesco:t.responsable.parentesco,domicilio_responsable:t.responsable.domicilio,telefono_responsable:t.responsable.telefono}):(e.verFormResponsable=!0,e.paciente.patchValue({responsableconocido:2,nombre_responsable:1,parentesco:"desconocido",domicilio_responsable:"conocido",telefono_responsable:"conocido"})),e.paciente.patchValue(t),e.cargarMunicipios(),e.cargarLocalidades(t.municipio_id)},function(t){e.cargando=!1,e.mensajeError=new Ae(!0),e.mensajeError=new Ae(!0),e.mensajeError.mostrar;try{t.json();401==t.status&&(e.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){500==t.status?e.mensajeError.texto="500 (Error interno del servidor)":e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.regresar=function(){this.location.back()},e.prototype.responsable=function(){this.verFormResponsable=!this.verFormResponsable,this.verFormResponsable?this.paciente.patchValue({nombre_responsable:1,parentesco:"desconocido",domicilio_responsable:"conocido",telefono_responsable:"conocido"}):this.paciente.patchValue({nombre_responsable:"",parentesco:"",domicilio_responsable:"",telefono_responsable:""})},e.prototype.enviar=function(){var e=this;this.cargando=!0,this.pacienteService.editar(this.id,this.paciente.value).subscribe(function(t){e.cargando=!1,console.log("Paciente editado."),e.mensajeExito=new Ae(!0),e.mensajeExito.texto="Se han guardado los cambios.",e.mensajeExito.mostrar=!0},function(t){e.cargando=!1,e.mensajeError=new Ae(!0),e.mensajeError.texto="No especificado.",e.mensajeError.mostrar=!0;try{t.json();401==t.status&&(e.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n."),409==t.status&&(e.mensajeError.texto="Por favor verfique los campos marcados en rojo.")}catch(a){500==t.status?e.mensajeError.texto="500 (Error interno del servidor)":e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e=wg([Object(n.Component)({selector:"app-editar",template:a("aegp"),styles:[a("Lrjz")]}),Sg("design:paramtypes",[h.b,i.Title,_,h.a,o.Location,jg,l.FormBuilder])],e)}(),Og=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Ng=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Mg=function(){function e(e,t,a,n,r,i){this.title=e,this.pacienteService=t,this.router=a,this.route=n,this.fb=r,this.location=i,this.cargando=!1,this.busquedaActivada=!1,this.mensajeError=new Ae,this.mensajeExito=new Ae,this.pacientes=[],this.paginaActual=1,this.resultadosPorPagina=25,this.total=0,this.paginasTotales=0,this.indicePaginas=[]}return e.prototype.ngOnInit=function(){var e=this;this.title.setTitle("Historial Paciente / Admisi\xf3n"),this.mensajeError=new Ae,this.mensajeExito=new Ae;this.route.params.subscribe(function(t){e.id=t.id}),this.listar(1)},e.prototype.listar=function(e){var t=this;this.paginaActual=e,this.cargando=!0,this.pacienteService.historial(this.id,null).subscribe(function(e){t.cargando=!1,t.pacientes=e.ingreso,console.log(e.id),t.id_paciente=e.id,t.nombre_paciente=e.nombre,t.localidad_paciente=e.localidad.nombre+" ( "+e.localidad.municipio.nombre+" )"},function(e){t.cargando=!1,t.mensajeError.mostrar=!0;try{e.json();401==e.status&&(t.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(a){console.log("No se puede interpretar el error"),500==e.status?t.mensajeError.texto="500 (Error interno del servidor)":t.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.regresar=function(){this.location.back()},e=Og([Object(n.Component)({selector:"app-historial",template:a("kqq3"),styles:[a("jBlE")]}),Ng("design:paramtypes",[i.Title,jg,h.b,h.a,l.FormBuilder,o.Location])],e)}(),Bg=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Fg=[{path:"paciente",children:[{path:"",component:Eg,canActivate:[D],data:{key:"XE1pZJV6ZprLc0vP45Pkkpm2UlOJEBqV"}},{path:"nuevo",component:Ag,canActivate:[D],data:{key:"XE1pZJV6ZprLc0vP45Pkkpm2UlOJEBqV"}},{path:"editar/:id",component:Rg,canActivate:[D],data:{key:"XE1pZJV6ZprLc0vP45Pkkpm2UlOJEBqV"}},{path:"historial/:id",component:Mg,canActivate:[D],data:{key:"XE1pZJV6ZprLc0vP45Pkkpm2UlOJEBqV"}}],canActivate:[M]}],Dg=function(){function e(){}return e=Bg([Object(n.NgModule)({imports:[h.c.forChild(Fg)],exports:[h.c]})],e)}(),Lg=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Tg=function(){function e(){}return e=Lg([Object(n.NgModule)({imports:[o.CommonModule,Dg,l.ReactiveFormsModule,qe,Hm,Zm],declarations:[Eg,Ag,Rg,Mg],providers:[_,jg]})],e)}(),zg=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Ug=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Vg=function(){function e(e){this.title=e,this.usuario={},this.busqueda="",this.modulos=[],this.modulosAutorizados=[],this.accesosDirectos=[],this.accesosDirectosAutorizados=[]}return e.prototype.ngOnInit=function(){this.title.setTitle("Receta Electr\xf3nica"),this.usuario=JSON.parse(localStorage.getItem("usuario")),this.modulos=[{permiso:"rEAgr2wrYx2AKLhIS7uLh7QIPJkmv4Jo",icono:"assets/icono-receta.svg",titulo:"Crear Receta Electr\xf3nica",url:"/receta-electronica/nuevo"},{permiso:"rEAgr2wrYx2AKLhIS7uLh7QIPJkmv4Jo",icono:"assets/icono-recetas.svg",titulo:"Lista Recetas Electr\xf3nicas",url:"/receta-electronica/lista"},{permiso:"7pFIrhuM3trSzo9nnIgeU7cMUArsukS8",icono:"assets/icono-dispensacion.svg",titulo:"Dispensaci\xf3n de Recetas",url:"/receta-electronica/dispensacion"}],this.accesosDirectos=[];var e=JSON.parse(localStorage.getItem("usuario")).permisos.split("|");if(e.length>0){for(var t in this.modulos)e:for(var a in e)if(e[a]==this.modulos[t].permiso){this.modulosAutorizados.push(this.modulos[t]);break e}for(var n in this.accesosDirectos)e:for(var a in e)if(e[a]==this.accesosDirectos[n].permiso){this.accesosDirectosAutorizados.push(this.accesosDirectos[n]);break e}}},e=zg([Object(n.Component)({selector:"app-index-receta",template:a("EHZL"),styles:[a("cT7b")]}),Ug("design:paramtypes",[i.Title])],e)}(),Gg=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Yg=[{path:"receta-electronica",component:Vg,canActivate:[M]}],Hg=function(){function e(){}return e=Gg([Object(n.NgModule)({imports:[h.c.forChild(Yg)],exports:[h.c]})],e)}(),Jg=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},$g=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Kg=function(){function e(e){this.cambiarEntornoService=e,this.usuario={}}return e.prototype.ngOnInit=function(){var e=this;this.usuario=JSON.parse(localStorage.getItem("usuario")),this.cambiarEntornoSuscription=this.cambiarEntornoService.entornoCambiado$.subscribe(function(t){e.usuario=JSON.parse(localStorage.getItem("usuario"))})},e.prototype.ngOnDestroy=function(){this.cambiarEntornoSuscription.unsubscribe()},Jg([Object(n.Input)(),$g("design:type",String)],e.prototype,"modulo",void 0),Jg([Object(n.Input)(),$g("design:type",String)],e.prototype,"icono",void 0),Jg([Object(n.Input)(),$g("design:type",String)],e.prototype,"url",void 0),e=Jg([Object(n.Component)({selector:"app-menu-receta",template:a("oEk2"),styles:[a("jcW6")]}),$g("design:paramtypes",[ae])],e)}(),Xg=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Zg=function(){function e(){}return e=Xg([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,Hg,ee,de,fe,je],exports:[Kg],declarations:[Vg,Kg]})],e)}(),Qg=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Wg=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ef=function(){function e(e,t){this.http=e,this.jwtRequest=t}return t=e,e.prototype.buscar_personal=function(e,a,n){return void 0===a&&(a=1),void 0===n&&(n=10),this.jwtRequest.get(t.URL,null,{q:e,page:a,per_page:n}).map(function(e){return e.json().data})},e.prototype.lista=function(e,a){return void 0===e&&(e=1),void 0===a&&(a=10),this.jwtRequest.get(t.URL,null,{page:e,per_page:a}).map(function(e){return e.json().data})},e.prototype.lista_insumos=function(e,a){return void 0===e&&(e=1),void 0===a&&(a=20),this.jwtRequest.get(t.URL_INSUMO,null,{page:e,per_page:a}).map(function(e){return e.json().data})},e.prototype.buscar=function(e,a,n){return void 0===a&&(a=1),void 0===n&&(n=20),this.jwtRequest.get(t.URL,null,{q:e,page:a,per_page:n}).map(function(e){return e.json().data})},e.prototype.buscar_pacientes=function(e,a,n){return void 0===a&&(a=1),void 0===n&&(n=20),this.jwtRequest.get(t.URL_PACIENTE,null,{q:e,page:a,per_page:n}).map(function(e){return e.json().data})},e.prototype.buscar_detalle_paciente=function(e,a,n,r,i){return void 0===r&&(r=1),void 0===i&&(i=20),this.jwtRequest.get(t.URL_PACIENTE,null,{identificador:e,tipo:a,q:n,page:r,per_page:i}).map(function(e){return e.json().data})},e.prototype.lista_paciente=function(e,a){return void 0===e&&(e=1),void 0===a&&(a=20),this.jwtRequest.get(t.URL_PACIENTE,null,{page:e,per_page:a}).map(function(e){return e.json().data})},e.prototype.crear=function(e){return this.jwtRequest.post(t.URL_PACIENTE,e).map(function(e){return e.json().data})},e.prototype.buscar_insumo=function(e,a,n){return void 0===a&&(a=1),void 0===n&&(n=20),this.jwtRequest.get(t.URL_INSUMO,null,{q:e,page:a,per_page:n}).map(function(e){return e.json().data})},e.URL="personal",e.URL_PACIENTE="admision/paciente",e.URL_INSUMO="catalogo-insumos",e=t=Qg([Object(n.Injectable)(),Wg("design:paramtypes",[c.Http,V])],e);var t}(),tf=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},af=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},nf=function(){function e(e,t,a,n,r,i,s,o){this.title=e,this.location=t,this.router=a,this.route=n,this._ngZone=r,this.fb=i,this.cambiarEntornoService=s,this.recetaService=o,this.folio="",this.usuario={},this.erroresEnInsumos={lista:{},errores:0},this.mensajeError=new Ae,this.mensajeExito=new Ae,this.buscarPersonal="",this.buscarPaciente="",this.cargando_personal=!1,this.cargando_personal_pacientes=!1,this.cargando_insumos=!1,this.cargando=!1,this.guardando=!1,this.cargandoInsumos=!1,this.lista_insumos=!0,this.formularioTitulo="",this.mostrarModalInsumos=!1,this.mostrarBuscadorPersonas=!1,this.mostrarBuscadorPacientes=!1,this.form_paciente=!1,this.datos_insumo=!1,this.listaClaveAgregadas=[],this.paginaActual=1,this.resultadosPorPagina=6,this.total=0,this.personal_medico=[],this.personal_paciente=[],this.insumos=[],this.insumos_busqueda=[],this.paginasTotales=0,this.indicePaginas=[],this.ultimoTerminoBuscado="",this.terminosBusqueda=new x.Subject,this.terminosBusquedaPaciente=new x.Subject,this.terminosBusquedaInsumo=new x.Subject,this.busquedaActivada=!1,this.paginaActualBusqueda=1,this.resultadosPorPaginaBusqueda=6,this.totalBusqueda=0,this.paginasTotalesBusqueda=0,this.indicePaginasBusqueda=[]}return e.prototype.ngOnInit=function(){var e=this;JSON.parse(localStorage.getItem("usuario"));if(this.title.setTitle("Formulario receta"),this.formularioTitulo="Receta Nueva",this.datos_receta=this.fb.group({paciente_id:["",[l.Validators.required]],paciente_name:["",[l.Validators.required]],personal_id:["",[l.Validators.required]],personal_name:["",[l.Validators.required]],diagnostico:["",[l.Validators.required]],fecha:["",[l.Validators.required]],insumos:this.fb.array([])}),this.datos_paciente=this.fb.group({nombre:["",[l.Validators.required]],sexo:["",[l.Validators.required]],fecha_nacimiento:["",[l.Validators.required]],no_expediente:["",[l.Validators.required]],no_afiliacion:["",[l.Validators.required]],receta:["1",[l.Validators.required]],conocido:["1",[l.Validators.required]],responsableconocido:["0",[l.Validators.required]]}),this.insumo_receta=this.fb.group({dosis:["",[l.Validators.required]],frecuencia:["",[l.Validators.required]],duracion:["",[l.Validators.required]],sugerido:["",[l.Validators.required]],cantidad:["",[l.Validators.required]]}),this.usuario=JSON.parse(localStorage.getItem("usuario")),this.route.params.subscribe(function(t){e.id_receta=t.id}),!this.id_receta){var t=new Date;this.datos_receta.patchValue({fecha:t.toISOString().substring(0,10)})}var a=this,n=this.terminosBusqueda.debounceTime(300).distinctUntilChanged().switchMap(function(t){return e.cargando_personal=!0,e.recetaService.buscar_personal(t,e.paginaActualBusqueda,e.resultadosPorPaginaBusqueda)}).catch(function(e){a.cargando_personal=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=function(){a.listarBusqueda(a.ultimoTerminoBuscado,a.paginaActualBusqueda)};try{e.json();401==e.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(t){console.log("No se puede interpretar el error"),500==e.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}return n});n.subscribe(function(t){e.cargando_personal=!1,e.personal_medico=t.data});var r=this.terminosBusquedaPaciente.debounceTime(300).distinctUntilChanged().switchMap(function(t){return e.ultimoTerminoBuscado=t,e.cargando_personal_pacientes=!0,e.recetaService.buscar_pacientes(t,e.paginaActualBusqueda,e.resultadosPorPaginaBusqueda)}).catch(function(e){a.cargando_personal_pacientes=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=function(){a.listarBusqueda(a.ultimoTerminoBuscado,a.paginaActualBusqueda)};try{e.json();401==e.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(t){console.log("No se puede interpretar el error"),500==e.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}return r});r.subscribe(function(t){e.cargando_personal_pacientes=!1,e.personal_paciente=t.data}),this.terminosBusquedaInsumo.debounceTime(300).distinctUntilChanged().switchMap(function(t){return e.ultimoTerminoBuscado=t,e.paginaActualBusqueda=1,e.cargando_insumos=!0,e.recetaService.buscar_insumo(t,e.paginaActualBusqueda,e.resultadosPorPaginaBusqueda)}).catch(function(e){a.cargando_insumos=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=function(){a.listarBusquedaInsumo(a.ultimoTerminoBuscado,a.paginaActualBusqueda)};try{e.json();401==e.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(t){console.log("No se puede interpretar el error"),500==e.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}return r}).subscribe(function(t){e.cargando_insumos=!1,e.insumos_busqueda=t.data,e.totalBusqueda=0|t.total,e.paginasTotalesBusqueda=Math.ceil(e.totalBusqueda/e.resultadosPorPaginaBusqueda),e.indicePaginasBusqueda=[];for(var a=0;a<e.paginasTotalesBusqueda;a++)e.indicePaginasBusqueda.push(a+1);console.log(e.indicePaginasBusqueda)})},e.prototype.listarBusqueda=function(e,t){var a=this;this.paginaActualBusqueda=t,console.log("Cargando b\xfasqueda."),this.cargando_personal=!0,this.recetaService.buscar(e,t,this.resultadosPorPaginaBusqueda).subscribe(function(e){a.cargando_personal=!1,a.personal_medico=e.data,a.totalBusqueda=0|e.total,a.paginasTotalesBusqueda=Math.ceil(a.totalBusqueda/a.resultadosPorPaginaBusqueda),a.indicePaginasBusqueda=[];for(var t=0;t<a.paginasTotalesBusqueda;t++)a.indicePaginasBusqueda.push(t+1)},function(n){a.cargando_personal=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=function(){this.listarBusqueda(e,t)};try{n.json();401==n.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(e){console.log("No se puede interpretar el error"),500==n.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.listarBusquedaPaciente=function(e,t){var a=this;this.paginaActualBusqueda=t,console.log("Cargando b\xfasqueda."),this.cargando_personal=!0,this.recetaService.buscar_pacientes(e,t,this.resultadosPorPaginaBusqueda).subscribe(function(e){a.cargando_personal=!1,a.personal_paciente=e.data,a.totalBusqueda=0|e.total,a.paginasTotalesBusqueda=Math.ceil(a.totalBusqueda/a.resultadosPorPaginaBusqueda),a.indicePaginasBusqueda=[];for(var t=0;t<a.paginasTotalesBusqueda;t++)a.indicePaginasBusqueda.push(t+1)},function(n){a.cargando_personal=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=function(){this.listarBusqueda(e,t)};try{n.json();401==n.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(e){console.log("No se puede interpretar el error"),500==n.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.listarBusquedaInsumo=function(e,t){var a=this;this.paginaActualBusqueda=t,this.cargando_insumos=!0,this.recetaService.buscar_insumo(e,t,this.resultadosPorPaginaBusqueda).subscribe(function(e){a.cargando_insumos=!1,a.insumos_busqueda=e.data,a.totalBusqueda=0|e.total,a.paginasTotalesBusqueda=Math.ceil(a.totalBusqueda/a.resultadosPorPaginaBusqueda),a.indicePaginasBusqueda=[];for(var t=0;t<a.paginasTotalesBusqueda;t++)a.indicePaginasBusqueda.push(t+1)},function(n){a.cargando_insumos=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=function(){this.listarBusquedaInsumo(e,t)};try{n.json();401==n.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(e){console.log("No se puede interpretar el error"),500==n.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.buscar_personal=function(e){this.terminosBusqueda.next(e)},e.prototype.buscar_paciente=function(e){this.terminosBusquedaPaciente.next(e)},e.prototype.buscar_insumos=function(e){this.terminosBusquedaInsumo.next(e)},e.prototype.paginaSiguiente=function(e){this.listar(e,this.paginaActual+1)},e.prototype.paginaAnterior=function(e){this.listar(e,this.paginaActual-1)},e.prototype.modal_personal=function(e,t){1==t?(this.mostrarBuscadorPersonas=!0,this.buscarPersonal=e,this.inputSearchPersonal.nativeElement.focus()):2==t&&(this.mostrarBuscadorPacientes=!0,this.buscarPaciente=e,this.inputSearchPaciente.nativeElement.focus())},e.prototype.obtener_personal=function(e){this.datos_receta.patchValue({personal_name:e.nombre,personal_id:e.id}),this.mostrarBuscadorPersonas=!1,this.buscarPersonal="",this.personal_medico=[]},e.prototype.obtener_pacientes=function(e){this.datos_receta.patchValue({paciente_name:e.nombre,paciente_id:e.id}),this.mostrarBuscadorPacientes=!1,this.buscarPaciente="",this.personal_paciente=[]},e.prototype.AgregarPacientes=function(){this.form_paciente=!0},e.prototype.agregar_paciente=function(){var e=this;this.recetaService.crear(this.datos_paciente.value).subscribe(function(t){console.log(t),e.cargando=!1,console.log("Usuario creado.")},function(t){console.log(t),e.cargando=!1,e.mensajeError=new Ae(!0),e.mensajeError.texto="No especificado.",e.mensajeError.mostrar=!0;try{t.json();401==t.status&&(e.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n."),409==t.status&&(e.mensajeError.texto="Por favor verfique los campos marcados en rojo.")}catch(a){500==t.status?e.mensajeError.texto="500 (Error interno del servidor)":e.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.listar=function(e,t){var a=this;this.paginaActual=t,this.cargando=!0,this.recetaService.buscar_insumo(e,t,this.resultadosPorPagina).subscribe(function(e){a.cargando_insumos=!1,a.insumos_busqueda=e.data,a.totalBusqueda=0|e.total,a.paginasTotalesBusqueda=Math.ceil(a.totalBusqueda/a.resultadosPorPaginaBusqueda),a.indicePaginasBusqueda=[];for(var t=0;t<a.paginasTotalesBusqueda;t++)a.indicePaginasBusqueda.push(t+1)},function(e){a.cargando=!1,a.mensajeError.mostrar=!0,a.ultimaPeticion=a.listar;try{e.json();401==e.status&&(a.mensajeError.texto="No tiene permiso para hacer esta operaci\xf3n.")}catch(t){console.log("No se puede interpretar el error"),500==e.status?a.mensajeError.texto="500 (Error interno del servidor)":a.mensajeError.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.toggleModalInsumos=function(){this.mostrarModalInsumos=!0},e.prototype.seleccionar_insumo=function(e){this.insumos_busqueda=[],this.insumos_busqueda[0]=e,this.datos_insumo=!0,this.lista_insumos=!1},tf([Object(n.ViewChild)("searchBoxPersonal"),af("design:type",n.ElementRef)],e.prototype,"inputSearchPersonal",void 0),tf([Object(n.ViewChild)("searchBoxPaciente"),af("design:type",n.ElementRef)],e.prototype,"inputSearchPaciente",void 0),e=tf([Object(n.Component)({selector:"app-formulario",template:a("Vpty"),styles:[a("8Lot")]}),af("design:paramtypes",[i.Title,o.Location,h.b,h.a,n.NgZone,l.FormBuilder,ae,ef])],e)}(),rf=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},sf=[{path:"receta-electronica/nuevo",component:nf,canActivate:[M]}],of=function(){function e(){}return e=rf([Object(n.NgModule)({imports:[h.c.forChild(sf)],exports:[h.c]})],e)}(),lf=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},cf=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},df=function(){function e(){}return e.prototype.ngOnInit=function(){},e=lf([Object(n.Component)({selector:"app-lista",template:a("QVNv"),styles:[a("Im09")]}),cf("design:paramtypes",[])],e)}(),uf=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},pf=function(){function e(){}return e=uf([Object(n.NgModule)({imports:[o.CommonModule,of,l.FormsModule,ee,de,fe,je,Zg,Oi.NguiDatetimePickerModule,l.ReactiveFormsModule,qe],exports:[],providers:[ef],declarations:[df,nf]})],e)}(),mf=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},gf=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ff=function(){function e(e,t){this._ngZone=e,this.crudService=t,this.fecha_desde="",this.fecha_hasta="",this.medico_id="",this.cargandoPdf=!1}return e.prototype.ngOnInit=function(){this.usuario=JSON.parse(localStorage.getItem("usuario")),this.medico_id=this.usuario.medico_id,this.pdfworker=new Worker("web-workers/farmacia/movimientos/lista-recetas.js");var e=this,t=this._ngZone;this.pdfworker.onmessage=function(a){t.run(function(){e.cargandoPdf=!1}),ft.saveAs(e.base64ToBlob(a.data.base64,"application/pdf"),a.data.fileName)}},e.prototype.export_excel=function(){var e="<table><tr><th colspan='7'><h1>Salida por Receta</h1></th></tr><tr><th></th></tr><tr><th colspan='7'></th></tr></table>";e+=document.getElementById("exportable").innerHTML;var t=new Blob([e],{type:"text/comma-separated-values;charset=utf-8"});try{ft.saveAs(t,"Listado_salida_por_receta.xls")}catch(e){console.log(e)}},e.prototype.imprimir=function(){var e=this;this.cargandoPdf=!0,this.crudService.lista_general("medicos/recetas?medico_id="+this.medico_id+"&fecha_desde="+this.fecha_desde+"&fecha_hasta="+this.fecha_hasta).subscribe(function(t){e.cargando=!1,e.lista_impresion=t;try{var a={lista:e.lista_impresion,usuario:e.usuario,turno:"",fecha_desde:e.fecha_desde,fecha_hasta:e.fecha_hasta};e.pdfworker.postMessage(JSON.stringify(a))}catch(t){e.cargandoPdf=!1}},function(e){})},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},mf([Object(n.ViewChildren)("tr"),gf("design:type",Object)],e.prototype,"tr",void 0),e=mf([Object(n.Component)({selector:"app-lista",template:a("p2rs"),styles:[a("xzeW")]}),gf("design:paramtypes",[n.NgZone,gr])],e)}(),hf=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},vf=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},bf=function(){function e(e,t,a,n,r,i,s){var o=this;this.fb=e,this.crudService=t,this.route=a,this._sanitizer=n,this.notificacion=r,this._ngZone=i,this.http=s,this.cargando=!1,this.res_busq_insumos=[],this.sum_cant_lotes=!1,this.permisos=[],this.MinDate=new Date,this.MaxDate=new Date,this.mostrarCancelado=!1,this.tieneid=!1,this.cargandoPdf=!1,this.tipos_recetas=[{id:1,nombre:"Normal"},{id:2,nombre:"Controlado"}],this.options={position:["top","left"],timeOut:5e3,lastOnBottom:!0},this.objeto={showProgressBar:!0,pauseOnHover:!0,clickToClose:!0,maxLength:2e3},this.mostrar_lote=[],this.insumos_term=v.API_URL+"/insumos-auto?stock=true&term=:keyword",this.pacientes_term=v.API_URL+"/medicos/pacientes?term=:keyword",this.autocompleListFormatPaciente=function(e){var t="<p>\n        "+e.nombre+'<br>\n        <small><i class="fa fa-'+(1==e.sexo?"mars":"venus")+'" style="font-size:1em;line-height:2em;"></i> '+(1==e.sexo?"Hombre":"Mujer")+"\n        "+o.calcularEdad(new Date(e.fecha_nacimiento))+" a\xf1os</small>\n      </p>";return o._sanitizer.bypassSecurityTrustHtml(t)},this.autocompleListFormatter=function(e){var t='\n    <div class="card">\n      <div class="card-content">\n        <div class="media">          \n          <div class="media-content">\n            <p class="title is-4">'+e.descripcion+'</p>\n            <p class="subtitle is-6">\n              <strong>Clave: </strong> '+e.clave+"\n              ";return 1==e.es_causes&&(t+='<label class="tag is-success" ><strong>Cause </strong></label>'),0==e.es_causes&&(t+='<label class="tag" style="background: #B8FB7E; border-color: #B8FB7E; color: rgba(0,0,0,0.7);" ><strong>No Cause </strong> </label>'),1==e.es_unidosis&&(t+='<label class="tag is-warning" ><strong>Unidosis</strong> </label>'),t+="\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>",o._sanitizer.bypassSecurityTrustHtml(t)},this.es_unidosis=!1,this.resultadosPaciente=[],this.mostrarAutocompletePaciente=!1,this.buscandoAutocompletePaciente=!1,this.nuevoPaciente={nombre:"",sexo:1,fecha_nacimiento:"",no_expediente:"",no_afiliacion:""},this.erroresPaciente={nombre:null,sexo:null,fecha_nacimiento:null},this.mensajeErrorPaciente="",this.enviandoDatosPaciente=!1}return e.prototype.ngOnInit=function(){var e=this;this.usuario=JSON.parse(localStorage.getItem("usuario")),this.permisos=this.usuario.permisos,this.usuario.clues_activa&&(this.insumos_term+="&clues="+this.usuario.clues_activa.clues,this.pacientes_term+="&clues="+this.usuario.clues_activa.clues),this.pdfworker=new Worker("web-workers/farmacia/movimientos/receta.js");var t=this,a=this._ngZone;this.pdfworker.onmessage=function(e){a.run(function(){t.cargandoPdf=!1}),ft.saveAs(t.base64ToBlob(e.data.base64,"application/pdf"),e.data.fileName)},this.dato=this.fb.group({id:[""],tipo_receta:[""],tipo_receta_id:["1",[l.Validators.required]],fecha_receta:["",[l.Validators.required]],paciente_nombre:[""],paciente_id:["",[l.Validators.required]],diagnostico:["",[l.Validators.required]],medico_id:[this.usuario.medico_id,[l.Validators.required]],insumos:this.fb.array([])}),this.route.params.subscribe(function(t){t.id&&(e.tieneid=!0)});var n=new Date;this.MinDate=new Date(n.getFullYear()-1,0,1),this.MaxDate=new Date(n.getFullYear(),n.getMonth(),n.getDate()),this.dato.get("fecha_receta").value?this.fecha_actual=this.dato.get("fecha_receta").value:this.fecha_actual=n.getFullYear()+"-"+("00"+(n.getMonth()+1)).slice(-2)+"-"+n.getDate()},e.prototype.abrirModal=function(e){document.getElementById(e).classList.add("is-active")},e.prototype.requerirCampo=function(){},e.prototype.cancelarModal=function(e){document.getElementById(e).classList.remove("is-active"),this.dosis.first.nativeElement.value="",this.duracion.first.nativeElement.value="",this.frecuencia.first.nativeElement.value="",this.cant_recetada.first.nativeElement.value="",this.sum_cant_lotes=!1},e.prototype.enviarAutocomplete=function(e){var t=this;this.cargando=!0;var a="";this.usuario.clues_activa&&(a+="&clues="+this.usuario.clues_activa.clues),this.usuario.almacen_activo&&(a+="&almacen="+this.usuario.almacen_activo.id);v.API_URL;this.crudService.busquedaInsumos(e,"insumos-auto",{stock:!0,clues:this.usuario.clues_activa.clues}).subscribe(function(e){t.cargando=!1,t.res_busq_insumos=e,0===t.res_busq_insumos.length&&t.notificacion.warn("Insumos","No hay resultados que coincidan",t.objeto)})},e.prototype.calcularEdad=function(e){var t=new Date(e),a=Date.now()-t.getTime(),n=new Date(a);return Math.abs(n.getUTCFullYear()-1970)},e.prototype.select_insumo_autocomplete=function(e){JSON.parse(localStorage.getItem("usuario"));this.insumo=e,this.res_busq_insumos=[],document.getElementById("tituloModal").innerHTML=" "+e.descripcion+' <br>\n    <p aling="justify" style="font-size:12px">CANTIDAD POR ENVASE: \n    '+(e.cantidad_x_envase?e.cantidad_x_envase:"Sin especificar")+"</p> ",this.es_unidosis=e.es_unidosis,this.unidad_medida=e.unidad_medida,this.presentacion_nombre=e.presentacion_nombre,this.cantidad_x_envase=e.cantidad_x_envase?e.cantidad_x_envase:1,this.abrirModal("verLotes")},e.prototype.agregarLoteIsumo=function(e,t,a,n){for(var r=this.dato.controls.insumos,i={clave:this.insumo.clave,nombre:this.insumo.nombre,descripcion:this.insumo.descripcion,es_causes:this.insumo.es_causes,es_unidosis:this.insumo.es_unidosis,cantidad:1,cantidad_x_envase:this.insumo.cantidad_x_envase?parseInt(this.insumo.cantidad_x_envase):1,dosis:[e,[l.Validators.required]],frecuencia:[t,[l.Validators.required]],duracion:[a,[l.Validators.required]],cantidad_recetada:[n,[l.Validators.required]],unidad_medida:this.unidad_medida,presentacion_nombre:this.presentacion_nombre},s=!1,o=0,c=r.value;o<c.length;o++){if(c[o].clave===this.insumo.clave){s=!0;break}}s||r.push(this.fb.group(i)),this.cancelarModal("verLotes")},e.prototype.ver_lotes_asignados=function(e){this.mostrar_lote[e]=!this.mostrar_lote[e]},e.prototype.agregarNuevoLote=function(){this.lotes_insumo.push({id:""+Math.floor(999*Math.random())+1,codigo_barras:"",lote:"",fecha_caducidad:"",existencia:"",cantidad:"",nuevo:1,existencia_unidosis:"",cantidad_unidosis:""})},e.prototype.eliminarLote=function(e){this.lotes_insumo.splice(e,1)},e.prototype.quitar_lote_insumo=function(e,t,a){var n=this.dato.controls.insumos.controls[e];n.controls.lotes.removeAt(a);var r=n.controls.cantidad_surtida.value-t.cantidad;n.controls.cantidad_surtida.patchValue(r)},e.prototype.validar_cantidad_lote=function(e,t,a){if(t.controls.cantidad.value>t.controls.existencia.value&&0==t.nuevo){this.notificacion.alert("Cantidad Excedida","La cantidad maxima es: "+t.controls.existencia.value,{showProgressBar:!0,pauseOnHover:!0,clickToClose:!0,maxLength:2e3}),t.controls.cantidad.patchValue(1*t.controls.existencia.value)}for(var n=this.dato.controls.insumos.controls[e],r=0,i=0,s=n.controls.lotes.value;i<s.length;i++){r+=s[i].cantidad}n.controls.cantidad_surtida.patchValue(r)},e.prototype.comprobar_cant_lotes=function(){for(var e=0,t=0,a=this.lotes_insumo;t<a.length;t++){var n=a[t];n.cantidad&&(e=Number(e)+Number(n.cantidad))}e>0&&""!==this.dosis.first.nativeElement.value&&""!==this.frecuencia.first.nativeElement.value&&""!==this.duracion.first.nativeElement.value&&""!==this.cant_recetada.first.nativeElement.value?this.sum_cant_lotes=!0:this.sum_cant_lotes=!1},e.prototype.quitar_punto=function(e){return!!this.is_numeric(e.key)},e.prototype.is_numeric=function(e){return/^\d+$/.test(e)},e.prototype.handleKeyboardEvents=function(e){if("buscarMedico"===document.activeElement.id)document.getElementById("buscarMedico").focus();else if(this.key=e.which||e.keyCode,13===e.keyCode)return document.getElementById("buscarInsumo").focus(),e.preventDefault(),!1},e.prototype.calcularCantidadSugerida=function(e,t,a){var n=24/t;this.cantidad_recomendada=n*e*Number(a),this.cantidad_recomendada=this.cantidad_recomendada/this.cantidad_x_envase;var r=""+this.cantidad_recomendada;this.cantidad_recomendada>parseInt(r,10)&&(this.cantidad_recomendada=parseInt(r,10)+1)},e.prototype.calcularCantidadSurtida=function(){for(var e=0,t=0,a=this.lotes_insumo;t<a.length;t++){var n=a[t];e=n.cantidad?e+n.cantidad:e+0}""!==this.dosis.first.nativeElement.value&&""!==this.frecuencia.first.nativeElement.value&&""!==this.duracion.first.nativeElement.value&&""!==this.cant_recetada.first.nativeElement.value||(this.sum_cant_lotes=!1)},e.prototype.guardar_receta=function(){0===this.dato.controls.insumos.length?this.notificacion.warn("Insumos","Debe agregar por lo menos un insumo",this.objeto):document.getElementById("modalGuardarReceta").classList.add("is-active")},e.prototype.seleccionarPaciente=function(e){for(var t in console.log(e),this.resultadosPaciente)this.resultadosPaciente[t].seleccionado=!1;e.seleccionado=!0,this.mostrarAutocompletePaciente=!1,this.autocompletePaciente.first.nativeElement.value=e.nombre,this.dato.get("paciente_id").patchValue(e.id)},e.prototype.buscarPaciente=function(e){var t=this;void 0===e&&(e=""),this.mostrarAutocompletePaciente=!0,this.buscandoAutocompletePaciente=!0,this.crudService.lista_personalizada({term:e,clues:this.usuario.clues_activa.clues},"medicos/pacientes").subscribe(function(e){for(var a in t.resultadosPaciente=e,t.resultadosPaciente)t.resultadosPaciente[a].seleccionado=!1,t.resultadosPaciente[a].edad=t.calcularEdad(t.resultadosPaciente[a].fecha_nacimiento);t.buscandoAutocompletePaciente=!1},function(e){console.log(e),t.buscandoAutocompletePaciente=!1}),""==e&&this.dato.get("paciente_id").patchValue("")},e.prototype.agregarPaciente=function(){this.abrirModal("modalNuevoPaciente")},e.prototype.enviarDatosPaciente=function(){var e=this;this.enviandoDatosPaciente=!0,this.erroresPaciente={nombre:null,sexo:null,fecha_nacimiento:null},this.mensajeErrorPaciente="",this.crudService.crear(this.nuevoPaciente,"medicos/pacientes").subscribe(function(t){e.enviandoDatosPaciente=!1,console.log(t),e.autocompletePaciente.first.nativeElement.value=t.nombre,e.dato.get("paciente_id").patchValue(t.id),e.nuevoPaciente={nombre:"",sexo:1,fecha_nacimiento:"",no_expediente:"",no_afiliacion:""},e.cancelarModal("modalNuevoPaciente")},function(t){e.enviandoDatosPaciente=!1;try{var a=t.json();switch(t.status){case 401:e.mensajeErrorPaciente="No tiee permiso para realizar esta acci\xf3n.";break;case 409:for(var n in e.mensajeErrorPaciente="Verifique la informaci\xf3n marcada de color rojo",a.error)for(var r in a.error[n])e.erroresPaciente[n]=a.error[n][r];break;case 500:e.mensajeErrorPaciente="500 (Error interno del servidor)";break;default:e.mensajeErrorPaciente="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}}catch(a){e.mensajeErrorPaciente="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}})},e.prototype.imprimir=function(){var e=JSON.parse(localStorage.getItem("usuario")),t=this.dato.controls.receta;try{this.cargandoPdf=!0;var a={datos:this.dato.value,lista:this.dato.value.insumos,usuario:e,poliza:t.controls.poliza_seguro_popular.value?t.controls.poliza_seguro_popular.value:"No cuenta con p\xf3liza de Seguro Popular"};this.pdfworker.postMessage(JSON.stringify(a))}catch(e){this.cargandoPdf=!1,console.log(e)}},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},hf([Object(n.ViewChildren)("autocompletePaciente"),vf("design:type",Object)],e.prototype,"autocompletePaciente",void 0),hf([Object(n.ViewChildren)("seguroPopular"),vf("design:type",Object)],e.prototype,"seguroPopular",void 0),hf([Object(n.ViewChildren)("poliza"),vf("design:type",Object)],e.prototype,"poliza",void 0),hf([Object(n.ViewChildren)("dosis"),vf("design:type",Object)],e.prototype,"dosis",void 0),hf([Object(n.ViewChildren)("frecuencia"),vf("design:type",Object)],e.prototype,"frecuencia",void 0),hf([Object(n.ViewChildren)("duracion"),vf("design:type",Object)],e.prototype,"duracion",void 0),hf([Object(n.ViewChildren)("cant_recetada"),vf("design:type",Object)],e.prototype,"cant_recetada",void 0),e=hf([Object(n.Component)({selector:"app-nueva",template:a("RJfI"),styles:[a("l5Wt")],styles:["\n    html, body {\n      overflow:auto!important;\n    }\n    .akira-autocomplete {\n      display: inline-block;\n      position: absolute;\n      z-index:999;\n      width:100%;\n      height:auto;\n      max-height:120px;\n      background:white;\n      overflow-y:auto;\n      overflow-x:hidden;\n      font-size:0.8em;\n      cursor:pointer;\n      border: 1px solid #DDD;\n    }\n    .akira-autocomplete li.is-selected {\n      background: #EEE;\n      \n    }\n    .akira-autocomplete a{\n      color: black;\n      display:block;\n      \n    }\n    .akira-autocomplete li:hover{\n      background: #EFEFEF;\n      \n    }\n    .akira-autocomplete p {\n      padding:3px;\n    }\n    .akira-autocomplete li {\n      border-bottom:1px solid #DDD;\n    },\n\n\n  "],host:{"(document:keydown)":"handleKeyboardEvents($event)"}}),vf("design:paramtypes",[l.FormBuilder,gr,h.a,i.DomSanitizer,p.NotificationsService,n.NgZone,c.Http])],e)}(),yf=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},_f=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},xf=function(){function e(e){this.cambiarEntornoService=e,this.usuario={}}return e.prototype.ngOnInit=function(){var e=this;this.usuario=JSON.parse(localStorage.getItem("usuario")),this.cambiarEntornoSuscription=this.cambiarEntornoService.entornoCambiado$.subscribe(function(t){e.usuario=JSON.parse(localStorage.getItem("usuario"))})},e.prototype.ngOnDestroy=function(){this.cambiarEntornoSuscription.unsubscribe()},yf([Object(n.Input)(),_f("design:type",String)],e.prototype,"modulo",void 0),yf([Object(n.Input)(),_f("design:type",String)],e.prototype,"icono",void 0),yf([Object(n.Input)(),_f("design:type",String)],e.prototype,"url",void 0),e=yf([Object(n.Component)({selector:"menu-medicos",template:a("3Wmm"),styles:[a("aeT4")]}),_f("design:paramtypes",[ae])],e)}(),If=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},jf=function(){function e(){}return e=If([Object(n.NgModule)({imports:[o.CommonModule,h.c,ee,de,fe],declarations:[xf],exports:[xf]})],e)}(),kf=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Cf=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ef=function(){function e(e,t,a,n){this.fb=e,this.router=t,this.route=a,this._sanitizer=n,this.tieneid=!1,this.mostrar_pantalla=!1}return e.prototype.ngOnInit=function(){var e=this;JSON.parse(localStorage.getItem("usuario"));this.dato2=this.fb.group({clues:["",[l.Validators.required]],jurisdiccion_id:[""],nombre:[""],activa:[""],director_id:[""],clues_turnos:this.fb.array([])}),this.route.params.subscribe(function(t){t.clues&&(e.tieneid=!0)}),document.getElementById("catalogoTurno").click()},e.prototype.ngAfterViewInit=function(){document.getElementById("actualizar").click()},e=kf([Object(n.Component)({selector:"app-modal-turnos",template:a("52NK")}),Cf("design:paramtypes",[l.FormBuilder,h.b,h.a,i.DomSanitizer])],e)}(),Pf=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},qf=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Af=function(){function e(e,t,a,n,r){this.crudService=e,this.route=t,this._sanitizer=a,this._ngZone=n,this.http=r,this.cargando=!1,this.usuario={},this.receta={},this.cargandoPdf=!1}return e.prototype.ngOnInit=function(){var e=this;this.usuario=JSON.parse(localStorage.getItem("usuario")),this.pdfworker=new Worker("web-workers/farmacia/movimientos/receta.js");var t=this,a=this._ngZone;this.pdfworker.onmessage=function(e){a.run(function(){t.cargandoPdf=!1}),ft.saveAs(t.base64ToBlob(e.data.base64,"application/pdf"),e.data.fileName)},this.route.params.subscribe(function(t){t.id&&(e.id=t.id)}),this.cargando=!0,this.crudService.ver(this.id,"medicos/recetas").subscribe(function(t){console.log(t),e.cargando=!1,e.receta=t,e.receta.paciente&&(e.receta.paciente.edad=e.calcularEdad(e.receta.paciente.fecha_nacimiento)),setTimeout(function(){e.imprimir()},300)},function(t){e.cargando=!1,console.log(t)})},e.prototype.calcularEdad=function(e){var t=new Date(e),a=Date.now()-t.getTime(),n=new Date(a);return Math.abs(n.getUTCFullYear()-1970)},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},e.prototype.imprimir=function(){window.print()},e=Pf([Object(n.Component)({selector:"app-ver",template:a("XQAG"),styles:[a("Kly8")]}),qf("design:paramtypes",[gr,h.a,i.DomSanitizer,n.NgZone,c.Http])],e)}(),wf=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Sf=[{path:"medicos",redirectTo:"/medicos/recetas",pathMatch:"full"},{path:"medicos/recetas",children:[{path:"",component:ff,canActivate:[D],data:{key:"nyMZvmCF2DQYSrulP5sKgEPN4CnJiixQ"}},{path:"nuevo",component:bf,canActivate:[D],data:{key:"nyMZvmCF2DQYSrulP5sKgEPN4CnJiixQ"}},{path:"ver/:id",component:Af,canActivate:[D],data:{key:"nyMZvmCF2DQYSrulP5sKgEPN4CnJiixQ"}}],canActivate:[M]}],Rf=function(){function e(){}return e=wf([Object(n.NgModule)({imports:[h.c.forChild(Sf)],exports:[h.c]})],e)}(),Of=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Nf=function(){function e(){}return e=Of([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,ee,de,fe,qe,je,jf,Ir,jr.NguiAutoCompleteModule,Oi.NguiDatetimePickerModule,Rf],declarations:[ff,bf,Ef,Af]})],e)}(),Mf=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Bf=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ff=function(){function e(e){this.title=e,this.usuario={},this.busqueda="",this.modulos=[],this.modulosAutorizados=[],this.accesosDirectos=[],this.accesosDirectosAutorizados=[]}return e.prototype.ngOnInit=function(){this.title.setTitle("Cat\xe1logo y par\xe1metros del sistema"),this.usuario=JSON.parse(localStorage.getItem("usuario")),this.modulos=[{permiso:"GVnLtL6maGUSPmaiLlCgAT4FzlzHKkN0",icono:"assets/catalogo-almacenes.svg",titulo:"Almacenes",url:"/catalogos-parametros/almacenes"},{permiso:"Npmc6C155PMjnkPKWUFXcIF3NcegAzIE",icono:"assets/catalogo-forma-farm.svg",titulo:"Forma Farmaceutica",url:"/catalogos-parametros/forma-farmaceutica"},{permiso:"l9PXPHg1MMJYMKTlzXeEHNIsgw9d5oty",icono:"assets/catalogo-grupo-insumos.svg",titulo:"Grupos de insumos",url:"/catalogos-parametros/grupos-insumos"},{permiso:"KbzwkJtDcLGcaNhbuYd24bhdDMGaKXod",icono:"assets/catalogo-marcas.svg",titulo:"Marcas",url:"/catalogos-parametros/marcas"},{permiso:"JDAc3VaD3TbCIu0cUIYxZ6gG6QG32I3y",icono:"assets/catalogo-mc.svg",titulo:"Material de curaci\xf3n",url:"/catalogos-parametros/material-curacion"},{permiso:"xSSmZGx6xgw4Qd4MQKlcDwxE1iD4QvxZ",icono:"assets/catalogo-medicamento.svg",titulo:"Medicamentos",url:"/catalogos-parametros/medicamentos"},{permiso:"1ulsQmM7Abnw2V74dD2is5NEeCQq54YE",icono:"assets/catalogo-parametros.svg",titulo:"Par\xe1metros globales",url:"/catalogos-parametros/configuracion-general"},{permiso:"PtTJ9g7WGYcyuPjTxe5iaJILVzQedccG",icono:"assets/catalogo-presentacion.svg",titulo:"Presentaciones de medicamentos",url:"/catalogos-parametros/presentaciones-medicamentos"},{permiso:"ygwsEwz3cUw4yVMCeaQ9hVMCFXUHri5q",icono:"assets/catalogo-programas.svg",titulo:"Programas",url:"/catalogos-parametros/programas"},{permiso:"h9IhilMjvBtC7X64A0poFV26EL5xWAyM",icono:"assets/catalogo-proveedores.svg",titulo:"Proveedores",url:"/catalogos-parametros/proveedores"},{permiso:"OhAoehuuORlLObNSrzy4qpRYE89VfUdt",icono:"assets/catalogo-servicios.svg",titulo:"Servicios",url:"/catalogos-parametros/servicios"},{permiso:"DbpT0VqR0DcNcqmCnwRbK7XvgWqDY2yc",icono:"assets/catalogo-servidor.svg",titulo:"Servidores",url:"/catalogos-parametros/servidores"},{permiso:"2CGoJAwDzH2JGpaPVUz3Vakcge5ReO9F",icono:"assets/catalogo-pedido.svg",titulo:"Tipos de pedidos",url:"/catalogos-parametros/tipo-pedido"},{permiso:"d1V2FX6TNxO6cCSXaAZQfLiAnDoL6rnO",icono:"assets/catalogo-tipo-insumos.svg",titulo:"Tipos de insumos",url:"/catalogos-parametros/tipos-insumos"},{permiso:"S1Yv83vAhv2o7xzq5ur37bmbfHvsomJf",icono:"assets/catalogo-tipo-movimiento.svg",titulo:"Tipos de movimientos",url:"/catalogos-parametros/tipos-movimientos"},{permiso:"JHUfLL82Cp1pUI7tTKaWuCfVIaeKZk5z",icono:"assets/catalogo-tipo-insumos.svg",titulo:"Tipos de personal",url:"/catalogos-parametros/tipos-personal"},{permiso:"56R2ES2GDbpovdiLAwFEjj75Rl975MsR",icono:"assets/catalogo-um.svg",titulo:"Unidades M\xe9dicas",url:"/catalogos-parametros/unidades-medicas"},{permiso:"ouIq0jdKpmTNYG1f2MRjMmlKvXmSviPd",icono:"assets/catalogo-unid-medida.svg",titulo:"Unidades de medida",url:"/catalogos-parametros/unidades-medida"},{permiso:"EBQdToSqWCpu1TJTDWBibcuGOpO97ucT",icono:"assets/catalogo-administracion.svg",titulo:"Vias de administraci\xf3n",url:"/catalogos-parametros/vias-administracion"}],this.accesosDirectos=[];var e=JSON.parse(localStorage.getItem("usuario")).permisos.split("|");if(e.length>0){for(var t in this.modulos)e:for(var a in e)if(e[a]==this.modulos[t].permiso){this.modulosAutorizados.push(this.modulos[t]);break e}for(var t in this.accesosDirectos)e:for(var a in e)if(e[a]==this.accesosDirectos[t].permiso){this.accesosDirectosAutorizados.push(this.accesosDirectos[t]);break e}}},e=Mf([Object(n.Component)({selector:"app-index-farmacia",template:a("RmuW"),styles:[a("CN+B")]}),Bf("design:paramtypes",[i.Title])],e)}(),Df=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Lf=[{path:"catalogos-parametros",component:Ff,canActivate:[M]}],Tf=function(){function e(){}return e=Df([Object(n.NgModule)({imports:[h.c.forChild(Lf)],exports:[h.c],providers:[]})],e)}(),zf=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Uf=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Vf=function(){function e(e){this.cambiarEntornoService=e,this.usuario={}}return e.prototype.ngOnInit=function(){var e=this;this.usuario=JSON.parse(localStorage.getItem("usuario")),this.cambiarEntornoSuscription=this.cambiarEntornoService.entornoCambiado$.subscribe(function(t){e.usuario=JSON.parse(localStorage.getItem("usuario"))})},e.prototype.ngOnDestroy=function(){this.cambiarEntornoSuscription.unsubscribe()},zf([Object(n.Input)(),Uf("design:type",String)],e.prototype,"modulo",void 0),zf([Object(n.Input)(),Uf("design:type",String)],e.prototype,"icono",void 0),zf([Object(n.Input)(),Uf("design:type",String)],e.prototype,"url",void 0),e=zf([Object(n.Component)({selector:"app-menu-catalogo",template:a("1eZx"),styles:[a("o1B4")]}),Uf("design:paramtypes",[ae])],e)}(),Gf=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Yf=function(){function e(){}return e=Gf([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,Tf,ee,de,fe,je],exports:[Vf],declarations:[Ff,Vf]})],e)}(),Hf=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Jf=function(){function e(){}return e=Hf([Object(n.Component)({selector:"almacenes-lista",template:a("JO2b")})],e)}(),$f=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Kf=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Xf=function(){function e(e,t,a,n){var r=this;this.fb=e,this.router=t,this.route=a,this._sanitizer=n,this.tieneid=!1,this.tipos_almacen=[{id:"ALMPAL",nombre:"ALMPAL"},{id:"JURIS",nombre:"JURIS"},{id:"UNMED",nombre:"UNMED"},{id:"LAB",nombre:"LAB"},{id:"FARMACIA",nombre:"FARMACIA"},{id:"CENDIS",nombre:"CENDIS"}],this.niveles_almacen=[{id:1,nombre:"HACE PEDIDOS AL PROVEEDOR"},{id:2,nombre:"HACE PEDIDOS A OTRO ALMACEN DENTRO DE LA CLUES"}],this.tab=1,this.clues_term=v.API_URL+"/clues-auto?term=:keyword",this.autocompleListFormatter=function(e){var t="<span>("+e.clues+") - "+e.nombre+" </span>";return r._sanitizer.bypassSecurityTrustHtml(t)}}return e.prototype.ngOnInit=function(){var e=this;this.dato=this.fb.group({id:["",[l.Validators.required]],nombre:["",[l.Validators.required]],nivel_almacen:["",[l.Validators.required]],tipo_almacen:["",[l.Validators.required]],clues:["",[l.Validators.required]],subrogado:[""],proveedor_id:[""],unidosis:[""],almacen_tipos_movimientos:this.fb.array([])}),this.form_almacen_tipos_movimientos={tipo_movimiento_id:["",[l.Validators.required]]},this.route.params.subscribe(function(t){t.id&&(e.tieneid=!0)}),document.getElementById("catalogos").click()},e=$f([Object(n.Component)({selector:"almacenes-formulario",template:a("S/zg")}),Kf("design:paramtypes",[l.FormBuilder,h.b,h.a,i.DomSanitizer])],e)}(),Zf=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Qf=[{path:"catalogos-parametros/almacenes",children:[{path:"",component:Jf,canActivate:[D],data:{key:"GVnLtL6maGUSPmaiLlCgAT4FzlzHKkN0"}},{path:"nuevo",component:Xf,canActivate:[D],data:{key:"GVnLtL6maGUSPmaiLlCgAT4FzlzHKkN0"}},{path:"editar/:id",component:Xf,canActivate:[D],data:{key:"GVnLtL6maGUSPmaiLlCgAT4FzlzHKkN0"}}],canActivate:[M]}],Wf=function(){function e(){}return e=Zf([Object(n.NgModule)({imports:[h.c.forChild(Qf)],exports:[h.c],providers:[]})],e)}(),eh=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},th=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ah=function(){function e(){}return e.prototype.ngOnInit=function(){},eh([Object(n.Input)(),th("design:type",Object)],e.prototype,"ctrl",void 0),e=eh([Object(n.Component)({selector:"paginacion",template:a("BOCH")}),th("design:paramtypes",[])],e)}(),nh=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},rh=function(){function e(){}return e=nh([Object(n.NgModule)({imports:[o.CommonModule],exports:[ah],declarations:[ah]})],e)}(),ih=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},sh=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},oh=function(){function e(){this.mostrarMenuAside=!1,this.usuario={}}return e.prototype.ngOnInit=function(){this.usuario=JSON.parse(localStorage.getItem("usuario"))},e.prototype.toggleMenuAside=function(){this.mostrarMenuAside=!this.mostrarMenuAside},e=ih([Object(n.Component)({selector:"articulos-catalogo-menu",template:a("3und"),styles:[a("LY65")]}),sh("design:paramtypes",[])],e)}(),lh=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},ch=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},dh=function(){function e(){this.tamano=document.body.clientHeight,this.usuario={},this.menu=[],this.menuAutorizado=[]}return e.prototype.ngOnInit=function(){var e=JSON.parse(localStorage.getItem("usuario")).permisos.split("|");if(this.menu=[{titulo:"Catalogos",modulos:[{permiso:"GVnLtL6maGUSPmaiLlCgAT4FzlzHKkN0",icono:"assets/catalogo-almacenes.svg",titulo:"Almacenes",url:"/catalogos-parametros/almacenes"},{permiso:"1ulsQmM7Abnw2V74dD2is5NEeCQq54YE",icono:"assets/catalogo-parametros.svg",titulo:"Par\xe1metros globales",url:"/catalogos-parametros/configuracion-general"},{permiso:"Npmc6C155PMjnkPKWUFXcIF3NcegAzIE",icono:"assets/catalogo-forma-farm.svg",titulo:"Forma Farmaceutica",url:"/catalogos-parametros/forma-farmaceutica"},{permiso:"l9PXPHg1MMJYMKTlzXeEHNIsgw9d5oty",icono:"assets/catalogo-grupo-insumos.svg",titulo:"Grupos de insumos",url:"/catalogos-parametros/grupos-insumos"},{permiso:"KbzwkJtDcLGcaNhbuYd24bhdDMGaKXod",icono:"assets/catalogo-marcas.svg",titulo:"Marcas",url:"/catalogos-parametros/marcas"},{permiso:"JDAc3VaD3TbCIu0cUIYxZ6gG6QG32I3y",icono:"assets/catalogo-mc.svg",titulo:"Material de curaci\xf3n",url:"/catalogos-parametros/material-curacion"},{permiso:"xSSmZGx6xgw4Qd4MQKlcDwxE1iD4QvxZ",icono:"assets/catalogo-medicamento.svg",titulo:"Medicamentos",url:"/catalogos-parametros/medicamentos"},{permiso:"PtTJ9g7WGYcyuPjTxe5iaJILVzQedccG",icono:"assets/catalogo-presentacion.svg",titulo:"Presentaciones de medicamentos",url:"/catalogos-parametros/presentaciones-medicamentos"},{permiso:"ygwsEwz3cUw4yVMCeaQ9hVMCFXUHri5q",icono:"assets/catalogo-programas.svg",titulo:"Programas",url:"/catalogos-parametros/programas"},{permiso:"h9IhilMjvBtC7X64A0poFV26EL5xWAyM",icono:"assets/catalogo-proveedores.svg",titulo:"Proveedores",url:"/catalogos-parametros/proveedores"},{permiso:"OhAoehuuORlLObNSrzy4qpRYE89VfUdt",icono:"assets/catalogo-servicios.svg",titulo:"Servicios",url:"/catalogos-parametros/servicios"},{permiso:"DbpT0VqR0DcNcqmCnwRbK7XvgWqDY2yc",icono:"assets/catalogo-servidor.svg",titulo:"Servidores",url:"/catalogos-parametros/servidores"},{permiso:"2CGoJAwDzH2JGpaPVUz3Vakcge5ReO9F",icono:"assets/catalogo-pedido.svg",titulo:"Tipos de pedidos",url:"/catalogos-parametros/tipo-pedido"},{permiso:"d1V2FX6TNxO6cCSXaAZQfLiAnDoL6rnO",icono:"assets/catalogo-tipo-insumos.svg",titulo:"Tipos de insumos",url:"/catalogos-parametros/tipos-insumos"},{permiso:"S1Yv83vAhv2o7xzq5ur37bmbfHvsomJf",icono:"assets/catalogo-tipo-movimiento.svg",titulo:"Tipos de movimientos",url:"/catalogos-parametros/tipos-movimientos"},{permiso:"JHUfLL82Cp1pUI7tTKaWuCfVIaeKZk5z",icono:"assets/catalogo-tipo-insumos.svg",titulo:"Tipos de personal",url:"/catalogos-parametros/tipos-personal"},{permiso:"56R2ES2GDbpovdiLAwFEjj75Rl975MsR",icono:"assets/catalogo-um.svg",titulo:"Unidades M\xe9dicas",url:"/catalogos-parametros/unidades-medicas"},{permiso:"ouIq0jdKpmTNYG1f2MRjMmlKvXmSviPd",icono:"assets/catalogo-unid-medida.svg",titulo:"Unidades de medida",url:"/catalogos-parametros/unidades-medida"},{permiso:"EBQdToSqWCpu1TJTDWBibcuGOpO97ucT",icono:"assets/catalogo-administracion.svg",titulo:"Vias de administraci\xf3n",url:"/catalogos-parametros/vias-administracion"}]}],e.length>0)for(var t in this.menu)for(var a in this.menu[t].modulos)e:for(var n in e)if(e[n]==this.menu[t].modulos[a].permiso){this.initMenuAutorizadoPorItem(this.menu[t].titulo).modulos.push(this.menu[t].modulos[a]);break e}},e.prototype.initMenuAutorizadoPorItem=function(e){for(var t in this.menuAutorizado)if(e==this.menuAutorizado[t].titulo)return this.menuAutorizado[t];return this.menuAutorizado.push({titulo:e,modulos:[]}),this.menuAutorizado[this.menuAutorizado.length-1]},e=lh([Object(n.Component)({selector:"panel-control-menu-aside",template:a("r44p"),styles:[a("w7Tl")]}),ch("design:paramtypes",[])],e)}(),uh=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},ph=function(){function e(){}return e=uh([Object(n.NgModule)({imports:[o.CommonModule,h.c],exports:[dh],declarations:[dh]})],e)}(),mh=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},gh=function(){function e(){}return e=mh([Object(n.NgModule)({imports:[o.CommonModule,ee,de,ph],exports:[oh],declarations:[oh]})],e)}(),fh=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},hh=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},vh=function(){function e(){}return e.prototype.ngOnInit=function(){var e=location.href.split("/");this.carpeta=e[4],this.modulo=e[5],this.url_lista="/"+this.carpeta+"/"+this.modulo,this.url_nuevo="/"+this.carpeta+"/"+this.modulo+"/nuevo"},fh([Object(n.Input)(),hh("design:type",Object)],e.prototype,"ctrl",void 0),e=fh([Object(n.Component)({selector:"formulario-opciones",template:a("0NWi")})],e)}(),bh=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},yh=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},_h=function(){function e(e,t,a){this._ngZone=e,this.crudService=t,this.notificacion=a,this.mostrar_nombre=!0,this.nuevo=!0,this.icono="fa fa-list",this.options={position:["top","right"],timeOut:5e3,lastOnBottom:!0},this.mensajeResponse=new Ae(!0),this.url_nuevo=""}return e.prototype.ngOnInit=function(){this.usuario=JSON.parse(localStorage.getItem("usuario"));var e=location.href.split("/");this.carpeta=e[4],this.modulo=e[5],this.url_nuevo="/"+this.carpeta+"/"+this.modulo+"/nuevo",this.pdfworker=new Worker("web-workers/"+this.ruta_pdf);var t=this,a=this._ngZone;this.pdfworker.onmessage=function(e){a.run(function(){t.cargandoPdf=!1}),ft.saveAs(t.base64ToBlob(e.data.base64,"application/pdf"),e.data.fileName)}},e.prototype.imprimir=function(){var e=this;this.cargandoPdf=!0,this.crudService.lista_general(this.ruta).subscribe(function(t){e.lista_impresion=t;try{var a={usuario:e.usuario,lista:e.lista_impresion};e.pdfworker.postMessage(JSON.stringify(a))}catch(t){e.cargandoPdf=!1}},function(t){e.cargandoPdf=!1,e.mensajeResponse.mostrar=!0;try{t.json();401===t.status&&(e.mensajeResponse.texto="No tiene permiso para hacer esta operaci\xf3n.",e.mensajeResponse.clase="danger",e.mensaje(2)),404===t.status&&(e.mensajeResponse.texto="P\xe1gina no encontrada, contacte al administrador.",e.mensajeResponse.clase="danger",e.mensaje(2))}catch(a){500==t.status?e.mensajeResponse.texto="500 (Error interno del servidor)":e.mensajeResponse.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir.",e.mensajeResponse.clase="danger",e.mensaje(2)}})},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},e.prototype.mensaje=function(e,t){void 0===e&&(e=6),void 0===t&&(t=["bottom","left"]);var a={showProgressBar:!0,pauseOnHover:!1,clickToClose:!0,maxLength:this.mensajeResponse.texto.length};this.options={position:t,timeOut:1e3*e,lastOnBottom:!0},""==this.mensajeResponse.titulo&&(this.mensajeResponse.titulo=this.nombre),"alert"==this.mensajeResponse.clase&&this.notificacion.alert(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"success"==this.mensajeResponse.clase&&this.notificacion.success(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"info"==this.mensajeResponse.clase&&this.notificacion.info(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"warning"!=this.mensajeResponse.clase&&"warn"!=this.mensajeResponse.clase||this.notificacion.warn(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"error"!=this.mensajeResponse.clase&&"danger"!=this.mensajeResponse.clase||this.notificacion.error(this.mensajeResponse.titulo,this.mensajeResponse.texto,a)},bh([Object(n.Input)(),yh("design:type",Object)],e.prototype,"ctrl",void 0),bh([Object(n.Input)(),yh("design:type",Object)],e.prototype,"nombre",void 0),bh([Object(n.Input)(),yh("design:type",Object)],e.prototype,"mostrar_nombre",void 0),bh([Object(n.Input)(),yh("design:type",Object)],e.prototype,"nuevo",void 0),bh([Object(n.Input)(),yh("design:type",Boolean)],e.prototype,"busqueda",void 0),bh([Object(n.Input)(),yh("design:type",Object)],e.prototype,"icono",void 0),bh([Object(n.Input)(),yh("design:type",String)],e.prototype,"ruta",void 0),bh([Object(n.Input)(),yh("design:type",String)],e.prototype,"ruta_pdf",void 0),e=bh([Object(n.Component)({selector:"tabla-opciones",template:a("JH8I")}),yh("design:paramtypes",[n.NgZone,gr,p.NotificationsService])],e)}(),xh=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Ih=function(){function e(){}return e=xh([Object(n.NgModule)({imports:[o.CommonModule,h.c],declarations:[vh,_h],exports:[vh,_h]})],e)}(),jh=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},kh=function(){function e(){}return e=jh([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,Wf,ee,de,fe,rh,je,gh,ph,Yf,Ir,jr.NguiAutoCompleteModule,Ih],declarations:[Jf,Xf],providers:[_,gr]})],e)}(),Ch=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Eh=function(){function e(){}return e=Ch([Object(n.Component)({selector:"forma-farmaceutica-lista",template:a("/4y4")})],e)}(),Ph=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},qh=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ah=function(){function e(e){this.fb=e}return e.prototype.ngOnInit=function(){this.dato=this.fb.group({id:[""],nombre:["",[l.Validators.required]]})},e=Ph([Object(n.Component)({selector:"forma-farmaceutica-formulario",template:a("Q815")}),qh("design:paramtypes",[l.FormBuilder])],e)}(),wh=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Sh=[{path:"catalogos-parametros/forma-farmaceutica",children:[{path:"",component:Eh,canActivate:[D],data:{key:"Npmc6C155PMjnkPKWUFXcIF3NcegAzIE"}},{path:"nuevo",component:Ah,canActivate:[D],data:{key:"Npmc6C155PMjnkPKWUFXcIF3NcegAzIE"}},{path:"editar/:id",component:Ah,canActivate:[D],data:{key:"Npmc6C155PMjnkPKWUFXcIF3NcegAzIE"}}],canActivate:[M]}],Rh=function(){function e(){}return e=wh([Object(n.NgModule)({imports:[h.c.forChild(Sh)],exports:[h.c],providers:[]})],e)}(),Oh=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Nh=function(){function e(){}return e=Oh([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,Rh,ee,de,fe,rh,je,gh,ph,Yf,Ir,Ih],declarations:[Eh,Ah],providers:[_,gr]})],e)}(),Mh=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Bh=function(){function e(){}return e=Mh([Object(n.Component)({selector:"grupos-insumos-lista",template:a("IF1P")})],e)}(),Fh=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Dh=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Lh=function(){function e(e){this.fb=e,this.tipo=[]}return e.prototype.ngOnInit=function(){this.dato=this.fb.group({id:[""],tipo:["E",[l.Validators.required]],nombre:["",[l.Validators.required]],numero:[{value:"",disabled:!0},[l.Validators.required]]}),this.tipo=[{id:"ME",nombre:"Medicamentos"},{id:"MC",nombre:"Material de curaci\xf3n"},{id:"AD",nombre:"Auxiliares de diagn\xf3sticos"}]},e.prototype.requerirCampo=function(){"ME"===this.dato.controls.tipo.value?this.dato.get("numero").enable():(this.dato.get("numero").disable(),console.log(this.dato.controls.tipo.value))},e=Fh([Object(n.Component)({selector:"tipos-movimeintos-formulario",template:a("Fl2z")}),Dh("design:paramtypes",[l.FormBuilder])],e)}(),Th=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},zh=[{path:"catalogos-parametros/grupos-insumos",children:[{path:"",component:Bh,canActivate:[D],data:{key:"l9PXPHg1MMJYMKTlzXeEHNIsgw9d5oty"}},{path:"nuevo",component:Lh,canActivate:[D],data:{key:"l9PXPHg1MMJYMKTlzXeEHNIsgw9d5oty"}},{path:"editar/:id",component:Lh,canActivate:[D],data:{key:"l9PXPHg1MMJYMKTlzXeEHNIsgw9d5oty"}}],canActivate:[M]}],Uh=function(){function e(){}return e=Th([Object(n.NgModule)({imports:[h.c.forChild(zh)],exports:[h.c],providers:[]})],e)}(),Vh=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Gh=function(){function e(){}return e=Vh([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,Uh,ee,de,fe,rh,je,gh,ph,Yf,Ir,Ih],declarations:[Bh,Lh],providers:[_,gr]})],e)}(),Yh=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Hh=function(){function e(){}return e=Yh([Object(n.Component)({selector:"marcas-lista",template:a("X0Ll")})],e)}(),Jh=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},$h=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Kh=function(){function e(e){this.fb=e}return e.prototype.ngOnInit=function(){this.dato=this.fb.group({id:[""],nombre:["",[l.Validators.required]]})},e=Jh([Object(n.Component)({selector:"marcas-formulario",template:a("HlzT")}),$h("design:paramtypes",[l.FormBuilder])],e)}(),Xh=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Zh=[{path:"catalogos-parametros/marcas",children:[{path:"",component:Hh,canActivate:[D],data:{key:"KbzwkJtDcLGcaNhbuYd24bhdDMGaKXod"}},{path:"nuevo",component:Kh,canActivate:[D],data:{key:"KbzwkJtDcLGcaNhbuYd24bhdDMGaKXod"}},{path:"editar/:id",component:Kh,canActivate:[D],data:{key:"KbzwkJtDcLGcaNhbuYd24bhdDMGaKXod"}}],canActivate:[M]}],Qh=function(){function e(){}return e=Xh([Object(n.NgModule)({imports:[h.c.forChild(Zh)],exports:[h.c],providers:[]})],e)}(),Wh=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},ev=function(){function e(){}return e=Wh([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,Qh,ee,de,fe,rh,je,gh,ph,Yf,Ir,Ih],declarations:[Hh,Kh],providers:[_,gr]})],e)}(),tv=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},av=function(){function e(){}return e=tv([Object(n.Component)({selector:"material-curacion-lista",template:a("aMU3")})],e)}(),nv=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},rv=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},iv=function(){function e(e){this.fb=e}return e.prototype.ngOnInit=function(){this.dato=this.fb.group({id:[""],insumo_medico_clave:["",[l.Validators.required]],nombre_generico_especifico:[""],funcion:[""],cantidad_x_envase:["",[l.Validators.required]],unidad_medida_id:["",[l.Validators.required]]}),document.getElementById("catalogos").click()},e=nv([Object(n.Component)({selector:"material-curacion-formulario",template:a("CODu")}),rv("design:paramtypes",[l.FormBuilder])],e)}(),sv=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},ov=[{path:"catalogos-parametros/material-curacion",children:[{path:"",component:av,canActivate:[D],data:{key:"JDAc3VaD3TbCIu0cUIYxZ6gG6QG32I3y"}},{path:"nuevo",component:iv,canActivate:[D],data:{key:"JDAc3VaD3TbCIu0cUIYxZ6gG6QG32I3y"}},{path:"editar/:id",component:iv,canActivate:[D],data:{key:"JDAc3VaD3TbCIu0cUIYxZ6gG6QG32I3y"}}],canActivate:[M]}],lv=function(){function e(){}return e=sv([Object(n.NgModule)({imports:[h.c.forChild(ov)],exports:[h.c],providers:[]})],e)}(),cv=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},dv=function(){function e(){}return e=cv([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,lv,ee,de,fe,rh,je,gh,ph,Yf,Ir,Ih],declarations:[av,iv],providers:[_,gr]})],e)}(),uv=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},pv=function(){function e(){}return e=uv([Object(n.Component)({selector:"medicamentos-lista",template:a("aBcd")})],e)}(),mv=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},gv=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},fv=function(){function e(e){this.fb=e}return e.prototype.ngOnInit=function(){this.dato=this.fb.group({id:[""],insumo_medico_clave:["",[l.Validators.required]],cantidad_x_envase:["",[l.Validators.required]],concentracion:["",[l.Validators.required]],contenido:["",[l.Validators.required]],dosis:[""],es_controlado:[""],es_surfactante:[""],indicaciones:["",[l.Validators.required]],unidad_medida_id:["",[l.Validators.required]],forma_farmaceutica_id:[""],presentacion_id:[""],via_administracion_id:["",[l.Validators.required]]}),document.getElementById("catalogos").click()},e=mv([Object(n.Component)({selector:"medicamentos-formulario",template:a("R7nA")}),gv("design:paramtypes",[l.FormBuilder])],e)}(),hv=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},vv=[{path:"catalogos-parametros/medicamentos",children:[{path:"",component:pv,canActivate:[D],data:{key:"xSSmZGx6xgw4Qd4MQKlcDwxE1iD4QvxZ"}},{path:"nuevo",component:fv,canActivate:[D],data:{key:"xSSmZGx6xgw4Qd4MQKlcDwxE1iD4QvxZ"}},{path:"editar/:id",component:fv,canActivate:[D],data:{key:"xSSmZGx6xgw4Qd4MQKlcDwxE1iD4QvxZ"}}],canActivate:[M]}],bv=function(){function e(){}return e=hv([Object(n.NgModule)({imports:[h.c.forChild(vv)],exports:[h.c],providers:[]})],e)}(),yv=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},_v=function(){function e(){}return e=yv([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,bv,ee,de,fe,rh,je,gh,ph,Yf,Ir,Ih],declarations:[pv,fv],providers:[_,gr]})],e)}(),xv=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Iv=function(){function e(){}return e=xv([Object(n.Component)({selector:"presentaciones-medicamentos-lista",template:a("j9G5")})],e)}(),jv=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},kv=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Cv=function(){function e(e){this.fb=e}return e.prototype.ngOnInit=function(){this.dato=this.fb.group({id:[""],nombre:["",[l.Validators.required]]})},e=jv([Object(n.Component)({selector:"presentaciones-medicamentos-formulario",template:a("Kjto")}),kv("design:paramtypes",[l.FormBuilder])],e)}(),Ev=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Pv=[{path:"catalogos-parametros/presentaciones-medicamentos",children:[{path:"",component:Iv,canActivate:[D],data:{key:"PtTJ9g7WGYcyuPjTxe5iaJILVzQedccG"}},{path:"nuevo",component:Cv,canActivate:[D],data:{key:"PtTJ9g7WGYcyuPjTxe5iaJILVzQedccG"}},{path:"editar/:id",component:Cv,canActivate:[D],data:{key:"PtTJ9g7WGYcyuPjTxe5iaJILVzQedccG"}}],canActivate:[M]}],qv=function(){function e(){}return e=Ev([Object(n.NgModule)({imports:[h.c.forChild(Pv)],exports:[h.c],providers:[]})],e)}(),Av=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},wv=function(){function e(){}return e=Av([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,qv,ee,de,fe,rh,je,gh,ph,Yf,Ir,Ih],declarations:[Iv,Cv],providers:[_,gr]})],e)}(),Sv=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Rv=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ov=function(){function e(e,t){this._ngZone=e,this.crudService=t}return e.prototype.ngOnInit=function(){this.pdfworker=new Worker("web-workers/panel-control/lista-programas.js");var e=this,t=this._ngZone;this.pdfworker.onmessage=function(a){t.run(function(){e.cargandoPdf=!1}),ft.saveAs(e.base64ToBlob(a.data.base64,"application/pdf"),a.data.fileName)}},e.prototype.imprimir=function(){var e=this;this.crudService.lista_general("movimientos?tipo=1").subscribe(function(t){e.cargando=!1,e.lista_impresion=t;try{e.cargandoPdf=!0;var a={lista:e.lista_impresion.data};e.pdfworker.postMessage(JSON.stringify(a))}catch(t){e.cargandoPdf=!1}},function(e){})},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},e=Sv([Object(n.Component)({selector:"app-programa-lista",template:a("f3en")}),Rv("design:paramtypes",[n.NgZone,gr])],e)}(),Nv=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Mv=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Bv=function(){function e(e,t,a){this.fb=e,this.crudService=t,this.route=a,this.tieneid=!1,this.multiprograma=[],this.cargandoCatalogo=!1,this.lista_programas=[]}return e.prototype.ngOnInit=function(){var e=this;this.dato=this.fb.group({id:[""],clave:["",[l.Validators.required]],nombre:["",[l.Validators.required]],programas:[""],estatus:["",[l.Validators.required]],es_multiprograma:["0"]}),this.route.params.subscribe(function(t){t.id&&(e.tieneid=!0,e.id_programa=t.id)}),document.getElementById("catalogoPrograma").click()},e.prototype.cargarCatalogo=function(e,t,a){var n=this;this.multiprograma=[],this[t]=[],this.cargandoCatalogo=!0,this.crudService.lista_general(e).subscribe(function(e){n.cargandoCatalogo=!1;n.dato.controls.id.value;for(var r=0,i=e;r<i.length;r++){var s=i[r];1!==s[a]&&"1"!==s[a]||1===s.es_multiprograma||s.id===Number(n.id_programa)||n[t].push(s)}})},e.prototype.limpiar_array=function(e,t){this[t]=[],this.dato.get(e).patchValue(""),console.log(e,this.dato.value)},e.prototype.agregarLista=function(e,t,a){var n=this[e].indexOf(a);n>-1?this[e].splice(n,1):this[e].push(a);for(var r=[],i=0;i<this[e].length;i++)r.push(this[e][i].id);this.dato.get("programas").patchValue(r)},e=Nv([Object(n.Component)({selector:"app-programa-formulario",template:a("lVS0"),styles:['\n    .b-checkbox {\n      line-height: 1;\n    }\n    .select{\n      width: 100%;\n    }\n    .b-checkbox label {\n      position: relative;\n      padding-left: 5px;\n      cursor: pointer;\n    }\n\n    .b-checkbox label::before {\n      content: "";\n      position: absolute;\n      width: 17px;\n      height: 17px;\n      left: 0;\n      margin-left: -17px;\n      border: 1px solid #dbdbdb;\n      border-radius: 3px;\n      background-color: #fff;\n      transition: background .1s ease-in-out;\n    }\n\n    .b-checkbox label::after {\n      position: absolute;\n      width: 16px;\n      height: 16px;\n      left: 0;\n      top: 5px;\n      margin-left: -15px;\n      font-size: 12px;\n      line-height: 1;\n      color: #363636;\n    }\n\n    .b-checkbox input[type="checkbox"],\n    .b-checkbox input[type="radio"] {\n      opacity: 0;\n      z-index: 1;\n      cursor: pointer;\n    }\n\n    .b-checkbox input[type="checkbox"]:focus + label::before,\n    .b-checkbox input[type="radio"]:focus + label::before {\n      outline: thin dotted;\n      outline: 5px auto -webkit-focus-ring-color;\n      outline-offset: -2px;\n    }\n\n    .b-checkbox input[type="checkbox"]:checked + label::after,\n    .b-checkbox input[type="radio"]:checked + label::after {\n      font-family: "FontAwesome";\n      content: "\uf00c";\n    }\n\n    .b-checkbox input[type="checkbox"]:indeterminate + label::after,\n    .b-checkbox input[type="radio"]:indeterminate + label::after {\n      display: block;\n      content: "";\n      width: 10px;\n      height: 3px;\n      background-color: #555555;\n      border-radius: 2px;\n      margin-left: -16.5px;\n      margin-top: 7px;\n    }\n\n    .b-checkbox input[type="checkbox"]:disabled,\n    .b-checkbox input[type="radio"]:disabled {\n      cursor: not-allowed;\n    }\n\n    .b-checkbox input[type="checkbox"]:disabled + label,\n    .b-checkbox input[type="radio"]:disabled + label {\n      opacity: 0.65;\n    }\n\n    .b-checkbox input[type="checkbox"]:disabled + label::before,\n    .b-checkbox input[type="radio"]:disabled + label::before {\n      background-color: whitesmoke;\n      cursor: not-allowed;\n    }\n\n    .b-checkbox.is-circular label::before {\n      border-radius: 50%;\n    }\n\n    .b-checkbox.is-inline {\n      margin-top: 0;\n    }\n  ']}),Mv("design:paramtypes",[l.FormBuilder,gr,h.a])],e)}(),Fv=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Dv=[{path:"catalogos-parametros/programas",children:[{path:"",component:Ov,canActivate:[D],data:{key:"ygwsEwz3cUw4yVMCeaQ9hVMCFXUHri5q"}},{path:"nuevo",component:Bv,canActivate:[D],data:{key:"ygwsEwz3cUw4yVMCeaQ9hVMCFXUHri5q"}},{path:"editar/:id",component:Bv,canActivate:[D],data:{key:"ygwsEwz3cUw4yVMCeaQ9hVMCFXUHri5q"}}],canActivate:[M]}],Lv=function(){function e(){}return e=Fv([Object(n.NgModule)({imports:[h.c.forChild(Dv)],exports:[h.c],providers:[]})],e)}(),Tv=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},zv=function(){function e(){}return e=Tv([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,Lv,ee,de,fe,rh,je,gh,ph,Yf,Ir,Ih,Ih],declarations:[Ov,Bv],providers:[_,gr]})],e)}(),Uv=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Vv=function(){function e(){}return e=Uv([Object(n.Component)({selector:"proveedores-lista",template:a("gIZ4")})],e)}(),Gv=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Yv=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Hv=function(){function e(e){this.fb=e}return e.prototype.ngOnInit=function(){this.dato=this.fb.group({id:[""],nombre:["",[l.Validators.required]],rfc:[""],direccion:[""],ciudad:[""],contacto:[""],cargo_contacto:[""],telefono:[""],celular:[""],email:[""],activo:[""]})},e=Gv([Object(n.Component)({selector:"proveedores-formulario",template:a("KguI")}),Yv("design:paramtypes",[l.FormBuilder])],e)}(),Jv=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},$v=[{path:"catalogos-parametros/proveedores",children:[{path:"",component:Vv,canActivate:[D],data:{key:"h9IhilMjvBtC7X64A0poFV26EL5xWAyM"}},{path:"nuevo",component:Hv,canActivate:[D],data:{key:"h9IhilMjvBtC7X64A0poFV26EL5xWAyM"}},{path:"editar/:id",component:Hv,canActivate:[D],data:{key:"h9IhilMjvBtC7X64A0poFV26EL5xWAyM"}}],canActivate:[M]}],Kv=function(){function e(){}return e=Jv([Object(n.NgModule)({imports:[h.c.forChild($v)],exports:[h.c],providers:[]})],e)}(),Xv=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Zv=function(){function e(){}return e=Xv([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,Kv,ee,de,fe,rh,je,gh,ph,Yf,Ir,Ih],declarations:[Vv,Hv],providers:[_,gr]})],e)}(),Qv=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Wv=function(){function e(){}return e=Qv([Object(n.Component)({selector:"servicios-lista",template:a("KOuM")})],e)}(),eb=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},tb=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ab=function(){function e(e){this.fb=e}return e.prototype.ngOnInit=function(){this.dato=this.fb.group({id:[""],nombre:["",[l.Validators.required]]})},e=eb([Object(n.Component)({selector:"servicios-formulario",template:a("jath")}),tb("design:paramtypes",[l.FormBuilder])],e)}(),nb=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},rb=[{path:"catalogos-parametros/servicios",children:[{path:"",component:Wv,canActivate:[D],data:{key:"OhAoehuuORlLObNSrzy4qpRYE89VfUdt"}},{path:"nuevo",component:ab,canActivate:[D],data:{key:"OhAoehuuORlLObNSrzy4qpRYE89VfUdt"}},{path:"editar/:id",component:ab,canActivate:[D],data:{key:"OhAoehuuORlLObNSrzy4qpRYE89VfUdt"}}],canActivate:[M]}],ib=function(){function e(){}return e=nb([Object(n.NgModule)({imports:[h.c.forChild(rb)],exports:[h.c],providers:[]})],e)}(),sb=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},ob=function(){function e(){}return e=sb([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,ib,ee,de,fe,rh,je,gh,ph,Yf,Ir,Ih],declarations:[Wv,ab],providers:[_,gr]})],e)}(),lb=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},cb=function(){function e(){}return e=lb([Object(n.Component)({selector:"servidores-lista",template:a("55mC")})],e)}(),db=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},ub=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},pb=function(){function e(e){this.fb=e,this.tipo=[]}return e.prototype.ngOnInit=function(){this.dato=this.fb.group({id:["",[l.Validators.required]],nombre:["",[l.Validators.required]],secret_key:["",[l.Validators.required]],tiene_internet:["0",[l.Validators.required]],catalogos_actualizados:["0",[l.Validators.required]],version:["",[l.Validators.required]],periodo_sincronizacion:["",[l.Validators.required]],principal:["0",[l.Validators.required]]})},e=db([Object(n.Component)({selector:"servidores-formulario",template:a("T4UE")}),ub("design:paramtypes",[l.FormBuilder])],e)}(),mb=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},gb=[{path:"catalogos-parametros/servidores",children:[{path:"",component:cb,canActivate:[D],data:{key:"DbpT0VqR0DcNcqmCnwRbK7XvgWqDY2yc"}},{path:"nuevo",component:pb,canActivate:[D],data:{key:"DbpT0VqR0DcNcqmCnwRbK7XvgWqDY2yc"}},{path:"editar/:id",component:pb,canActivate:[D],data:{key:"DbpT0VqR0DcNcqmCnwRbK7XvgWqDY2yc"}}],canActivate:[M]}],fb=function(){function e(){}return e=mb([Object(n.NgModule)({imports:[h.c.forChild(gb)],exports:[h.c],providers:[]})],e)}(),hb=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},vb=function(){function e(){}return e=hb([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,fb,ee,de,fe,rh,je,gh,ph,Yf,Ir,Ih],declarations:[cb,pb],providers:[_,gr]})],e)}(),bb=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},yb=function(){function e(){}return e=bb([Object(n.Component)({selector:"tipo-pedido-lista",template:a("6H+q")})],e)}(),_b=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},xb=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ib=function(){function e(e){this.fb=e}return e.prototype.ngOnInit=function(){this.dato=this.fb.group({id:["",[l.Validators.required]],nombre:["",[l.Validators.required]]})},e=_b([Object(n.Component)({selector:"tipo-pedido-formulario",template:a("GYl8")}),xb("design:paramtypes",[l.FormBuilder])],e)}(),jb=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},kb=[{path:"catalogos-parametros/tipo-pedido",children:[{path:"",component:yb,canActivate:[D],data:{key:"2CGoJAwDzH2JGpaPVUz3Vakcge5ReO9F"}},{path:"nuevo",component:Ib,canActivate:[D],data:{key:"2CGoJAwDzH2JGpaPVUz3Vakcge5ReO9F"}},{path:"editar/:id",component:Ib,canActivate:[D],data:{key:"2CGoJAwDzH2JGpaPVUz3Vakcge5ReO9F"}}],canActivate:[M]}],Cb=function(){function e(){}return e=jb([Object(n.NgModule)({imports:[h.c.forChild(kb)],exports:[h.c],providers:[]})],e)}(),Eb=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Pb=function(){function e(){}return e=Eb([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,Cb,ee,de,fe,rh,je,gh,ph,Yf,Ir,Ih],declarations:[yb,Ib],providers:[_,gr]})],e)}(),qb=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Ab=function(){function e(){}return e=qb([Object(n.Component)({selector:"tipo-personal-lista",template:a("l5m0")})],e)}(),wb=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Sb=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Rb=function(){function e(e){this.fb=e}return e.prototype.ngOnInit=function(){this.dato=this.fb.group({id:[""],nombre:["",[l.Validators.required]],tipos_personal_metadatos:this.fb.array([])}),this.form_tipos_personal_metadatos={campo:["",[l.Validators.required]],descripcion:[""],tipo:["",[l.Validators.required]],longitud:[1,[l.Validators.required]],requerido:[1]},this.tipos=[{id:"text",nombre:"Texto"},{id:"number",nombre:"N\xfamero"},{id:"boolean",nombre:"Falso/Verdadero"},{id:"timestamp",nombre:"Fecha:hora"},{id:"date",nombre:"Fecha"},{id:"time",nombre:"Hora"},{id:"file",nombre:"File"}]},e=wb([Object(n.Component)({selector:"categorias-formulario",template:a("z2eD")}),Sb("design:paramtypes",[l.FormBuilder])],e)}(),Ob=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Nb=[{path:"catalogos-parametros/tipos-personal",children:[{path:"",component:Ab,canActivate:[D],data:{key:"JHUfLL82Cp1pUI7tTKaWuCfVIaeKZk5z"}},{path:"nuevo",component:Rb,canActivate:[D],data:{key:"JHUfLL82Cp1pUI7tTKaWuCfVIaeKZk5z"}},{path:"editar/:id",component:Rb,canActivate:[D],data:{key:"JHUfLL82Cp1pUI7tTKaWuCfVIaeKZk5z"}}],canActivate:[M]}],Mb=function(){function e(){}return e=Ob([Object(n.NgModule)({imports:[h.c.forChild(Nb)],exports:[h.c],providers:[]})],e)}(),Bb=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Fb=function(){function e(){}return e=Bb([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,Mb,ee,de,fe,rh,je,gh,ph,Yf,Ir,Ih],declarations:[Ab,Rb],providers:[_,gr]})],e)}(),Db=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Lb=function(){function e(){}return e=Db([Object(n.Component)({selector:"tipos-insumos-lista",template:a("PSai")})],e)}(),Tb=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},zb=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ub=function(){function e(e){this.fb=e}return e.prototype.ngOnInit=function(){this.dato=this.fb.group({id:[""],nombre:["",[l.Validators.required]]})},e=Tb([Object(n.Component)({selector:"tipos-insumos-formulario",template:a("aZKm")}),zb("design:paramtypes",[l.FormBuilder])],e)}(),Vb=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Gb=[{path:"catalogos-parametros/tipos-insumos",children:[{path:"",component:Lb,canActivate:[D],data:{key:"d1V2FX6TNxO6cCSXaAZQfLiAnDoL6rnO"}},{path:"nuevo",component:Ub,canActivate:[D],data:{key:"d1V2FX6TNxO6cCSXaAZQfLiAnDoL6rnO"}},{path:"editar/:id",component:Ub,canActivate:[D],data:{key:"d1V2FX6TNxO6cCSXaAZQfLiAnDoL6rnO"}}],canActivate:[M]}],Yb=function(){function e(){}return e=Vb([Object(n.NgModule)({imports:[h.c.forChild(Gb)],exports:[h.c],providers:[]})],e)}(),Hb=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Jb=function(){function e(){}return e=Hb([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,Yb,ee,de,fe,rh,je,gh,ph,Yf,Ir,Ih],declarations:[Lb,Ub],providers:[_,gr]})],e)}(),$b=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Kb=function(){function e(){}return e=$b([Object(n.Component)({selector:"tipos-movimientos-lista",template:a("mA/I")})],e)}(),Xb=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Zb=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Qb=function(){function e(e){this.fb=e,this.tipo=[]}return e.prototype.ngOnInit=function(){this.dato=this.fb.group({id:[""],tipo:["E",[l.Validators.required]],nombre:["",[l.Validators.required]]}),this.tipo=[{id:"E",nombre:"Entrada"},{id:"S",nombre:"Salida"},{id:"E/S",nombre:"Entrada / Salida"}]},e=Xb([Object(n.Component)({selector:"tipos-movimeintos-formulario",template:a("E7Eg")}),Zb("design:paramtypes",[l.FormBuilder])],e)}(),Wb=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},ey=[{path:"catalogos-parametros/tipos-movimientos",children:[{path:"",component:Kb,canActivate:[D],data:{key:"S1Yv83vAhv2o7xzq5ur37bmbfHvsomJf"}},{path:"nuevo",component:Qb,canActivate:[D],data:{key:"S1Yv83vAhv2o7xzq5ur37bmbfHvsomJf"}},{path:"editar/:id",component:Qb,canActivate:[D],data:{key:"S1Yv83vAhv2o7xzq5ur37bmbfHvsomJf"}}],canActivate:[M]}],ty=function(){function e(){}return e=Wb([Object(n.NgModule)({imports:[h.c.forChild(ey)],exports:[h.c],providers:[]})],e)}(),ay=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},ny=function(){function e(){}return e=ay([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,ty,ee,de,fe,rh,je,gh,ph,Yf,Ir,Ih],declarations:[Kb,Qb],providers:[_,gr]})],e)}(),ry=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},iy=function(){function e(){}return e=ry([Object(n.Component)({selector:"unidades-medicas-lista",template:a("cQjd")})],e)}(),sy=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},oy=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ly=function(){function e(e,t,a,n){this.fb=e,this.router=t,this.route=a,this._sanitizer=n,this.tab=1,this.clues_term=v.API_URL+"/clues-auto?term=:keyword"}return e.prototype.ngOnInit=function(){this.dato=this.fb.group({nombre:["",[l.Validators.required]],clues:["",[l.Validators.required]],activa:[""],director:[""],director_id:[""],jurisdiccion_id:[""],tipo:[""],clues_servicios:this.fb.array([]),almacenes:this.fb.array([])}),this.form_clues_servicios={servicio_id:["",[l.Validators.required]]},document.getElementById("catalogos").click()},e=sy([Object(n.Component)({selector:"unidades-medicas-formulario",template:a("ETQ8")}),oy("design:paramtypes",[l.FormBuilder,h.b,h.a,i.DomSanitizer])],e)}(),cy=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},dy=[{path:"catalogos-parametros/unidades-medicas",children:[{path:"",component:iy,canActivate:[D],data:{key:"56R2ES2GDbpovdiLAwFEjj75Rl975MsR"}},{path:"nuevo",component:ly,canActivate:[D],data:{key:"56R2ES2GDbpovdiLAwFEjj75Rl975MsR"}},{path:"editar/:id",component:ly,canActivate:[D],data:{key:"56R2ES2GDbpovdiLAwFEjj75Rl975MsR"}}],canActivate:[M]}],uy=function(){function e(){}return e=cy([Object(n.NgModule)({imports:[h.c.forChild(dy)],exports:[h.c],providers:[]})],e)}(),py=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},my=function(){function e(){}return e=py([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,uy,ee,de,fe,rh,je,gh,ph,Yf,Ir,jr.NguiAutoCompleteModule,Ih],declarations:[iy,ly],providers:[_,gr]})],e)}(),gy=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},fy=function(){function e(){}return e=gy([Object(n.Component)({selector:"unidades-medida-lista",template:a("tR8X")})],e)}(),hy=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},vy=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},by=function(){function e(e){this.fb=e}return e.prototype.ngOnInit=function(){this.dato=this.fb.group({id:[""],nombre:["",[l.Validators.required]],clave:["",[l.Validators.required]]})},e=hy([Object(n.Component)({selector:"unidades-medida-formulario",template:a("2mMW")}),vy("design:paramtypes",[l.FormBuilder])],e)}(),yy=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},_y=[{path:"catalogos-parametros/unidades-medida",children:[{path:"",component:fy,canActivate:[D],data:{key:"ouIq0jdKpmTNYG1f2MRjMmlKvXmSviPd"}},{path:"nuevo",component:by,canActivate:[D],data:{key:"ouIq0jdKpmTNYG1f2MRjMmlKvXmSviPd"}},{path:"editar/:id",component:by,canActivate:[D],data:{key:"ouIq0jdKpmTNYG1f2MRjMmlKvXmSviPd"}}],canActivate:[M]}],xy=function(){function e(){}return e=yy([Object(n.NgModule)({imports:[h.c.forChild(_y)],exports:[h.c],providers:[]})],e)}(),Iy=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},jy=function(){function e(){}return e=Iy([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,xy,ee,de,fe,rh,je,gh,ph,Yf,Ir,Ih],declarations:[fy,by],providers:[_,gr]})],e)}(),ky=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Cy=function(){function e(){}return e=ky([Object(n.Component)({selector:"vias-administracion-lista",template:a("mZto")})],e)}(),Ey=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Py=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},qy=function(){function e(e){this.fb=e}return e.prototype.ngOnInit=function(){this.dato=this.fb.group({id:[""],nombre:["",[l.Validators.required]]})},e=Ey([Object(n.Component)({selector:"vias-administracion-formulario",template:a("9HAI")}),Py("design:paramtypes",[l.FormBuilder])],e)}(),Ay=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},wy=[{path:"catalogos-parametros/vias-administracion",children:[{path:"",component:Cy,canActivate:[D],data:{key:"EBQdToSqWCpu1TJTDWBibcuGOpO97ucT"}},{path:"nuevo",component:qy,canActivate:[D],data:{key:"EBQdToSqWCpu1TJTDWBibcuGOpO97ucT"}},{path:"editar/:id",component:qy,canActivate:[D],data:{key:"EBQdToSqWCpu1TJTDWBibcuGOpO97ucT"}}],canActivate:[M]}],Sy=function(){function e(){}return e=Ay([Object(n.NgModule)({imports:[h.c.forChild(wy)],exports:[h.c],providers:[]})],e)}(),Ry=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Oy=function(){function e(){}return e=Ry([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,Sy,ee,de,fe,rh,je,gh,ph,Yf,Ir,Ih],declarations:[Cy,qy],providers:[_,gr]})],e)}(),Ny=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},My=function(){function e(){}return e=Ny([Object(n.Component)({selector:"almacenes-lista",template:a("a9Vm")})],e)}(),By=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Fy=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Dy=function(){function e(e,t,a,n){var r=this;this.fb=e,this.router=t,this.route=a,this._sanitizer=n,this.tieneid=!1,this.tipos_almacen=[{id:"ALMPAL",nombre:"ALMPAL"},{id:"JURIS",nombre:"JURIS"},{id:"UNMED",nombre:"UNMED"},{id:"LAB",nombre:"LAB"},{id:"FARMACIA",nombre:"FARMACIA"},{id:"CENDIS",nombre:"CENDIS"}],this.niveles_almacen=[{id:1,nombre:"HACE PEDIDOS AL PROVEEDOR"},{id:2,nombre:"HACE PEDIDOS A OTRO ALMACEN DENTRO DE LA CLUES"}],this.tab=1,this.clues_term=v.API_URL+"/clues-auto?term=:keyword",this.autocompleListFormatter=function(e){var t="<span>("+e.clues+") - "+e.nombre+" </span>";return r._sanitizer.bypassSecurityTrustHtml(t)}}return e.prototype.ngOnInit=function(){var e=this;this.dato=this.fb.group({id:["",[l.Validators.required]],nombre:["",[l.Validators.required]],nivel_almacen:["",[l.Validators.required]],tipo_almacen:["",[l.Validators.required]],clues:["",[l.Validators.required]],subrogado:[""],proveedor_id:[""],unidosis:[""],almacen_tipos_movimientos:this.fb.array([])}),this.form_almacen_tipos_movimientos={tipo_movimiento_id:["",[l.Validators.required]]},this.route.params.subscribe(function(t){t.id&&(e.tieneid=!0)}),document.getElementById("catalogos").click()},e=By([Object(n.Component)({selector:"almacenes-formulario",template:a("AyzV")}),Fy("design:paramtypes",[l.FormBuilder,h.b,h.a,i.DomSanitizer])],e)}(),Ly=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Ty=[{path:"almacen-articulos/catalogos",component:My,canActivate:[M]},{path:"catalogos/almacenes",children:[{path:"",component:My},{path:"nuevo",component:Dy},{path:"editar/:id",component:Dy}],canActivate:[M]}],zy=function(){function e(){}return e=Ly([Object(n.NgModule)({imports:[h.c.forChild(Ty)],exports:[h.c],providers:[]})],e)}(),Uy=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Vy=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Gy=function(){function e(){}return e.prototype.ngOnInit=function(){},Uy([Object(n.Input)(),Vy("design:type",Object)],e.prototype,"ctrl",void 0),e=Uy([Object(n.Component)({selector:"paginacion",template:a("qDYr")}),Vy("design:paramtypes",[])],e)}(),Yy=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Hy=function(){function e(){}return e=Yy([Object(n.NgModule)({imports:[o.CommonModule],exports:[Gy],declarations:[Gy]})],e)}(),Jy=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},$y=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ky=function(){function e(){this.mostrarMenuAside=!1,this.usuario={}}return e.prototype.ngOnInit=function(){this.usuario=JSON.parse(localStorage.getItem("usuario"))},e.prototype.toggleMenuAside=function(){this.mostrarMenuAside=!this.mostrarMenuAside},e=Jy([Object(n.Component)({selector:"articulos-catalogo-menu",template:a("xlUK"),styles:[a("UxGz")]}),$y("design:paramtypes",[])],e)}(),Xy=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Zy=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Qy=function(){function e(){this.usuario={},this.menu=[],this.menuAutorizado=[]}return e.prototype.ngOnInit=function(){var e=JSON.parse(localStorage.getItem("usuario")).permisos.split("|");if(this.menu=[{titulo:"Accesos directos",modulos:[{permiso:"2EA8UKzKrNFzxQxBBSjQ2fHggyrScu9f",icono:"assets/catalogo-servidor.svg",titulo:"Categorias",url:"/categoria"},{permiso:"2EA8UKzKrNFzxQxBBSjQ2fHggyrScu9f",icono:"assets/catalogo-servidor.svg",titulo:"Articulos",url:"/articulos"},{permiso:"2EA8UKzKrNFzxQxBBSjQ2fHggyrScu9f",icono:"assets/catalogo-servidor.svg",titulo:"Servidores",url:"/catalogos/servidores"},{permiso:"2EA8UKzKrNFzxQxBBSjQ2fHggyrScu9f",icono:"assets/catalogo-almacenes.svg",titulo:"Almacenes",url:"/catalogos/almacenes"},{permiso:"2EA8UKzKrNFzxQxBBSjQ2fHggyrScu9f",icono:"assets/catalogo-proveedores.svg",titulo:"Proveedores",url:"/catalogos/proveedores"},{permiso:"2EA8UKzKrNFzxQxBBSjQ2fHggyrScu9f",icono:"assets/catalogo-um.svg",titulo:"Unidades M\xe9dicas",url:"/catalogos/unidades-medicas"}]},{titulo:"Catalogos",modulos:[{permiso:"l9PXPHg1MMJYMKTlzXeEHNIsgw9d5oty",icono:"assets/catalogo-grupo-insumos.svg",titulo:"Grupos de insumos",url:"/catalogos/grupos-insumos"},{permiso:"KbzwkJtDcLGcaNhbuYd24bhdDMGaKXod",icono:"assets/catalogo-marcas.svg",titulo:"Marcas",url:"/catalogos/marcas"},{permiso:"JDAc3VaD3TbCIu0cUIYxZ6gG6QG32I3y",icono:"assets/catalogo-mc.svg",titulo:"Material de curaci\xf3n",url:"/catalogos/material-curacion"},{permiso:"xSSmZGx6xgw4Qd4MQKlcDwxE1iD4QvxZ",icono:"assets/catalogo-medicamento.svg",titulo:"Medicamentos",url:"/catalogos/medicamentos"},{permiso:"ygwsEwz3cUw4yVMCeaQ9hVMCFXUHri5q",icono:"assets/catalogo-programas.svg",titulo:"Programas",url:"/catalogos/programas"},{permiso:"PtTJ9g7WGYcyuPjTxe5iaJILVzQedccG",icono:"assets/catalogo-presentacion.svg",titulo:"Presentaciones de medicamentos",url:"/catalogos/presentaciones-medicamentos"},{permiso:"EBQdToSqWCpu1TJTDWBibcuGOpO97ucT",icono:"assets/catalogo-administracion.svg",titulo:"Vias de administraci\xf3n",url:"/catalogos/vias-administracion"},{permiso:"ouIq0jdKpmTNYG1f2MRjMmlKvXmSviPd",icono:"assets/catalogo-unid-medida.svg",titulo:"Unidades de medida",url:"/catalogos/unidades-medida"},{permiso:"OhAoehuuORlLObNSrzy4qpRYE89VfUdt",icono:"assets/catalogo-servicios.svg",titulo:"Servicios",url:"/catalogos/servicios"},{permiso:"Npmc6C155PMjnkPKWUFXcIF3NcegAzIE",icono:"assets/catalogo-servicios.svg",titulo:"Forma Farmaceutica",url:"/catalogos/forma-farmaceutica"},{permiso:"2CGoJAwDzH2JGpaPVUz3Vakcge5ReO9F",icono:"assets/catalogo-pedido.svg",titulo:"Tipos de pedidos",url:"/catalogos/tipo-pedido"},{permiso:"S1Yv83vAhv2o7xzq5ur37bmbfHvsomJf",icono:"assets/catalogo-tipo-movimiento.svg",titulo:"Tipos de movimientos",url:"/catalogos/tipos-movimientos"},{permiso:"d1V2FX6TNxO6cCSXaAZQfLiAnDoL6rnO",icono:"assets/catalogo-tipo-insumos.svg",titulo:"Tipos de insumos",url:"/catalogos/tipos-insumos"},{permiso:"JHUfLL82Cp1pUI7tTKaWuCfVIaeKZk5z",icono:"assets/catalogo-tipo-insumos.svg",titulo:"Tipos de personal",url:"/catalogos/tipos-personal"}]}],e.length>0)for(var t in this.menu)for(var a in this.menu[t].modulos)e:for(var n in e)if(e[n]==this.menu[t].modulos[a].permiso){this.initMenuAutorizadoPorItem(this.menu[t].titulo).modulos.push(this.menu[t].modulos[a]);break e}},e.prototype.initMenuAutorizadoPorItem=function(e){for(var t in this.menuAutorizado)if(e==this.menuAutorizado[t].titulo)return this.menuAutorizado[t];return this.menuAutorizado.push({titulo:e,modulos:[]}),this.menuAutorizado[this.menuAutorizado.length-1]},e=Xy([Object(n.Component)({selector:"panel-control-menu-aside",template:a("BkIj"),styles:[a("pATY")]}),Zy("design:paramtypes",[])],e)}(),Wy=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},e_=function(){function e(){}return e=Wy([Object(n.NgModule)({imports:[o.CommonModule,h.c],exports:[Qy],declarations:[Qy]})],e)}(),t_=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},a_=function(){function e(){}return e=t_([Object(n.NgModule)({imports:[o.CommonModule,ee,de,e_],exports:[Ky],declarations:[Ky]})],e)}(),n_=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},r_=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i_=function(){function e(){}return e.prototype.ngOnInit=function(){},n_([Object(n.Input)(),r_("design:type",Object)],e.prototype,"ctrl",void 0),e=n_([Object(n.Component)({selector:"formulario-opciones",template:a("J8Vq")})],e)}(),s_=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},o_=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},l_=function(){function e(e,t,a){this._ngZone=e,this.crudService=t,this.notificacion=a,this.nuevo=!0,this.icono="fa fa-list",this.options={position:["top","right"],timeOut:5e3,lastOnBottom:!0},this.mensajeResponse=new Ae(!0),this.url_nuevo=""}return e.prototype.ngOnInit=function(){this.usuario=JSON.parse(localStorage.getItem("usuario"));var e=location.href.split("/");this.carpeta=e[4],this.modulo=e[5],this.url_nuevo="/"+this.carpeta+"/"+this.modulo+"/nuevo",this.pdfworker=new Worker("web-workers/"+this.ruta_pdf);var t=this,a=this._ngZone;this.pdfworker.onmessage=function(e){a.run(function(){t.cargandoPdf=!1}),ft.saveAs(t.base64ToBlob(e.data.base64,"application/pdf"),e.data.fileName)}},e.prototype.imprimir=function(){var e=this;this.cargandoPdf=!0,this.crudService.lista_general(this.ruta).subscribe(function(t){e.lista_impresion=t;try{var a={usuario:e.usuario,lista:e.lista_impresion};e.pdfworker.postMessage(JSON.stringify(a))}catch(t){e.cargandoPdf=!1}},function(t){e.cargandoPdf=!1,e.mensajeResponse.mostrar=!0;try{t.json();401==t.status&&(e.mensajeResponse.texto="No tiene permiso para hacer esta operaci\xf3n.",e.mensajeResponse.clase="danger",e.mensaje(2))}catch(a){500==t.status?e.mensajeResponse.texto="500 (Error interno del servidor)":e.mensajeResponse.texto="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir.",e.mensajeResponse.clase="danger",e.mensaje(2)}})},e.prototype.base64ToBlob=function(e,t){for(var a=atob(e),n=a.length,r=new ArrayBuffer(n),i=new Uint8Array(r),s=0;s<n;s++)i[s]=255&a.charCodeAt(s);return new Blob([r],{type:t})},e.prototype.mensaje=function(e,t){void 0===e&&(e=6),void 0===t&&(t=["bottom","left"]);var a={showProgressBar:!0,pauseOnHover:!1,clickToClose:!0,maxLength:this.mensajeResponse.texto.length};this.options={position:t,timeOut:1e3*e,lastOnBottom:!0},""==this.mensajeResponse.titulo&&(this.mensajeResponse.titulo=this.nombre),"alert"==this.mensajeResponse.clase&&this.notificacion.alert(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"success"==this.mensajeResponse.clase&&this.notificacion.success(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"info"==this.mensajeResponse.clase&&this.notificacion.info(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"warning"!=this.mensajeResponse.clase&&"warn"!=this.mensajeResponse.clase||this.notificacion.warn(this.mensajeResponse.titulo,this.mensajeResponse.texto,a),"error"!=this.mensajeResponse.clase&&"danger"!=this.mensajeResponse.clase||this.notificacion.error(this.mensajeResponse.titulo,this.mensajeResponse.texto,a)},s_([Object(n.Input)(),o_("design:type",Object)],e.prototype,"ctrl",void 0),s_([Object(n.Input)(),o_("design:type",Object)],e.prototype,"nombre",void 0),s_([Object(n.Input)(),o_("design:type",Object)],e.prototype,"nuevo",void 0),s_([Object(n.Input)(),o_("design:type",Object)],e.prototype,"icono",void 0),s_([Object(n.Input)(),o_("design:type",String)],e.prototype,"ruta",void 0),s_([Object(n.Input)(),o_("design:type",String)],e.prototype,"ruta_pdf",void 0),e=s_([Object(n.Component)({selector:"tabla-opciones",template:a("m9Eo")}),o_("design:paramtypes",[n.NgZone,gr,p.NotificationsService])],e)}(),c_=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},d_=function(){function e(){}return e=c_([Object(n.NgModule)({imports:[o.CommonModule,h.c],declarations:[i_,l_],exports:[i_,l_]})],e)}(),u_=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},p_=function(){function e(){}return e=u_([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,zy,ee,de,fe,Hy,je,a_,e_,Ir,jr.NguiAutoCompleteModule,d_],declarations:[My,Dy],providers:[_,gr]})],e)}(),m_=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},g_=function(){function e(){}return e=m_([Object(n.Component)({selector:"categorias-lista",template:a("smoE")})],e)}(),f_=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},h_=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},v_=function(){function e(e){this.fb=e}return e.prototype.ngOnInit=function(){this.dato=this.fb.group({id:[""],categoria_id:[""],nombre:["",[l.Validators.required]],tiene_modulo:[""],categorias_metadatos:this.fb.array([])}),this.form_categorias_metadatos={campo:["",[l.Validators.required]],descripcion:[""],tipo:["",[l.Validators.required]],longitud:[1,[l.Validators.required]],requerido:[1],requerido_inventario:[0]},this.tipos=[{id:"text",nombre:"Texto"},{id:"number",nombre:"N\xfamero"},{id:"boolean",nombre:"Falso/Verdadero"},{id:"timestamp",nombre:"Fecha:hora"},{id:"date",nombre:"Fecha"},{id:"time",nombre:"Hora"},{id:"file",nombre:"File"}],document.getElementById("catalogos").click()},e=f_([Object(n.Component)({selector:"categorias-formulario",template:a("vVsI")}),h_("design:paramtypes",[l.FormBuilder])],e)}(),b_=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},y_=[{path:"almacen-articulos/categoria",children:[{path:"",component:g_},{path:"nuevo",component:v_},{path:"editar/:id",component:v_}],canActivate:[M]}],__=function(){function e(){}return e=b_([Object(n.NgModule)({imports:[h.c.forChild(y_)],exports:[h.c],providers:[]})],e)}(),x_=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},I_=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},j_=function(){function e(){this.mostrarMenuAside=!1,this.usuario={}}return e.prototype.ngOnInit=function(){this.usuario=JSON.parse(localStorage.getItem("usuario"))},e.prototype.toggleMenuAside=function(){this.mostrarMenuAside=!this.mostrarMenuAside},e=x_([Object(n.Component)({selector:"articulos-catalogo-menu",template:a("e3QI"),styles:[a("5PmS")]}),I_("design:paramtypes",[])],e)}(),k_=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},C_=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},E_=function(){function e(){this.usuario={},this.menu=[],this.menuAutorizado=[]}return e.prototype.ngOnInit=function(){var e=JSON.parse(localStorage.getItem("usuario")).permisos.split("|");if(this.menu=[{titulo:"Accesos directos",modulos:[{permiso:"fMKARTchWDT56hgX0sNJnmTD9wcwTwK0",icono:"assets/catalogo-servidor.svg",titulo:"Categorias",url:"/almacen-articulos/categoria"},{permiso:"1giAayqzxUGwhGYQgGD6PTYkPin1edAs",icono:"assets/catalogo-servidor.svg",titulo:"Articulos",url:"/almacen-articulos/articulos"}]}],e.length>0)for(var t in this.menu)for(var a in this.menu[t].modulos)e:for(var n in e)if(e[n]==this.menu[t].modulos[a].permiso){this.initMenuAutorizadoPorItem(this.menu[t].titulo).modulos.push(this.menu[t].modulos[a]);break e}},e.prototype.initMenuAutorizadoPorItem=function(e){for(var t in this.menuAutorizado)if(e==this.menuAutorizado[t].titulo)return this.menuAutorizado[t];return this.menuAutorizado.push({titulo:e,modulos:[]}),this.menuAutorizado[this.menuAutorizado.length-1]},e=k_([Object(n.Component)({selector:"panel-control-menu-aside",template:a("57YG"),styles:[a("Y0+g")]}),C_("design:paramtypes",[])],e)}(),P_=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},q_=function(){function e(){}return e=P_([Object(n.NgModule)({imports:[o.CommonModule,h.c],exports:[E_],declarations:[E_]})],e)}(),A_=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},w_=function(){function e(){}return e=A_([Object(n.NgModule)({imports:[o.CommonModule,ee,de,q_],exports:[j_],declarations:[j_]})],e)}(),S_=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},R_=function(){function e(){}return e=S_([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,__,ee,de,fe,Hy,je,w_,q_,_u,Ir,d_],declarations:[g_,v_],providers:[_,gr]})],e)}(),O_=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},N_=function(){function e(){}return e=O_([Object(n.Component)({selector:"articulos-lista",template:a("/X/H")})],e)}(),M_=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},B_=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},F_=function(){function e(e){this.fb=e}return e.prototype.ngOnInit=function(){this.dato=this.fb.group({id:[""],categoria_id:["",[l.Validators.required]],articulo_id:[""],nombre:["",[l.Validators.required]],descripcion:[""],es_activo_fijo:[""]}),document.getElementById("catalogos").click()},e=M_([Object(n.Component)({selector:"articulos-formulario",template:a("RppL")}),B_("design:paramtypes",[l.FormBuilder])],e)}(),D_=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},L_=[{path:"almacen-articulos/articulos",children:[{path:"",component:N_},{path:"nuevo",component:F_},{path:"editar/:id",component:F_}],canActivate:[M]}],T_=function(){function e(){}return e=D_([Object(n.NgModule)({imports:[h.c.forChild(L_)],exports:[h.c],providers:[]})],e)}(),z_=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},U_=function(){function e(){}return e=z_([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,T_,ee,de,fe,Hy,je,w_,q_,_u,Ir,d_],declarations:[N_,F_],providers:[_,gr]})],e)}(),V_=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},G_=function(){function e(){}return e=V_([Object(n.Component)({selector:"inventarios-lista",template:a("GgkS")})],e)}(),Y_=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},H_=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},J_=function(){function e(e){this.fb=e,this.tab=1,this.valor=[]}return e.prototype.ngOnInit=function(){this.dato=this.fb.group({id:[""],articulo_id:["",[l.Validators.required]],numero_inventario:["",[l.Validators.required]],existencia:["",[l.Validators.required]],baja:[0],observaciones:[""],inventario_metadato:this.fb.array([])}),document.getElementById("catalogos").click()},e.prototype.seleccionar_articulo=function(e){var t=this,a=this.dato.get("articulo_id").value,n={};this.dato.controls.inventario_metadato.reset(),e.forEach(function(e){e.id!=a||e.categoria.categorias_metadatos.forEach(function(e){t.valor.push(""),n.metadatos_id=[e.id],n.campo=[e.campo,[l.Validators.required]],n.descripcion=[e.descripcion],n.longitud=[e.longitud],n.tipo=[e.tipo],n.requerido=[e.requerido],1==e.requerido?n.valor=["",[l.Validators.required]]:n.valor=[""],t.dato.controls.inventario_metadato.push(t.fb.group(n))})})},e.prototype.asignar_fecha=function(e){var t=this;setTimeout(function(){var a=document.getElementById("valor"+e);t.dato.controls.inventario_metadato.controls[e].controls.valor.patchValue(a.value)},300)},e=Y_([Object(n.Component)({selector:"inventarios-formulario",template:a("IX31")}),H_("design:paramtypes",[l.FormBuilder])],e)}(),$_=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},K_=[{path:"almacen-articulos/inventarios",children:[{path:"",component:G_},{path:"nuevo",component:J_},{path:"editar/:id",component:J_}],canActivate:[M]}],X_=function(){function e(){}return e=$_([Object(n.NgModule)({imports:[h.c.forChild(K_)],exports:[h.c],providers:[]})],e)}(),Z_=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Q_=function(){function e(){}return e=Z_([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,X_,ee,de,fe,Hy,je,w_,q_,_u,Oi.NguiDatetimePickerModule,Ir,d_],declarations:[G_,J_],providers:[_,gr]})],e)}(),W_=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},ex=function(){function e(){}return e.prototype.ngOnInit=function(){var e=JSON.parse(localStorage.getItem("usuario"));this.clues_actual=e.clues_activa.clues,console.log(this.clues_actual)},e=W_([Object(n.Component)({selector:"personal-clues-lista",template:a("z860")})],e)}(),tx=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},ax=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},nx=function(){function e(e){this.fb=e,this.tamano=document.body.clientHeight,this.tab=1,this.valor=[]}return e.prototype.ngOnInit=function(){var e=JSON.parse(localStorage.getItem("usuario"));this.dato=this.fb.group({id:[""],tipo_personal_id:["",[l.Validators.required]],clues:[e.clues_activa.clues,[l.Validators.required]],nombre:["",[l.Validators.required]],usuario_asignado:[""],celular:[""],email:[""],surte_controlados:[""],licencia_controlados:[""],personal_clues_metadatos:this.fb.array([])}),document.getElementById("catalogos").click()},e.prototype.seleccionar_tipo_personal=function(e){var t=this,a=this.dato.get("tipo_personal_id").value,n={};this.dato.controls.personal_clues_metadatos.reset(),e.forEach(function(e){e.id!=a||e.tipos_personal_metadatos.forEach(function(e){t.valor.push(""),n.metadatos_id=[e.id],n.campo=[e.campo,[l.Validators.required]],n.descripcion=[e.descripcion],n.longitud=[e.longitud],n.tipo=[e.tipo],n.requerido=[e.requerido],1==e.requerido?n.valor=["",[l.Validators.required]]:n.valor=[""],t.dato.controls.personal_clues_metadatos.push(t.fb.group(n))})})},e.prototype.asignar_fecha=function(e){var t=this;setTimeout(function(){var a=document.getElementById("valor"+e);t.dato.controls.personal_clues_metadatos.controls[e].controls.valor.patchValue(a.value)},300)},e=tx([Object(n.Component)({selector:"personal-clues-formulario",template:a("M2TH")}),ax("design:paramtypes",[l.FormBuilder])],e)}(),rx=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},ix=[{path:"configuracion/personal-clues",canActivate:[M,D],data:{key:"nLSqnSHHppYWQGGCrlbvCDp1Yyjcvyb3"},children:[{path:"",component:ex,canActivate:[D],data:{key:"nLSqnSHHppYWQGGCrlbvCDp1Yyjcvyb3"}},{path:"nuevo",component:nx,canActivate:[D],data:{key:"nLSqnSHHppYWQGGCrlbvCDp1Yyjcvyb3"}},{path:"editar/:id",component:nx,canActivate:[D],data:{key:"nLSqnSHHppYWQGGCrlbvCDp1Yyjcvyb3"}}]}],sx=function(){function e(){}return e=rx([Object(n.NgModule)({imports:[h.c.forChild(ix)],exports:[h.c],providers:[]})],e)}(),ox=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},lx=function(){function e(){}return e=ox([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,sx,ee,de,fe,Hy,je,ur,Oi.NguiDatetimePickerModule,Ir,d_],declarations:[ex,nx],providers:[_,gr]})],e)}(),cx=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},dx=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ux=function(){function e(e,t,a,n,r){var i=this;this.fb=e,this.crudService=t,this.route=a,this._sanitizer=n,this.notificacion=r,this.cargando=!1,this.configuracion_general=JSON.parse(localStorage.getItem("configuracion_general")),this.articulos_term=v.API_URL+"/articulos-auto?term=:keyword",this.tieneid=!1,this.tamano=document.body.clientHeight,this.url_nuevo="../../nuevo",this.options={position:["top","right"],timeOut:5e3,lastOnBottom:!0},this.autocompleListFormatter=function(e){var t='\n    <div class="card">\n      <div class="card-content">\n        <div class="media">          \n          <div class="media-content">\n            <p class="title is-4">'+e.nombre+" <small>"+(e.categorias?e.categorias.nombre:"Ninguna")+'</small></p>\n            <p class="subtitle is-6">\n              <strong>descripcion: </strong> '+e.descripcion+"\n              ";return t+='<label class="tag is-success" >Es activo fijo: '+(e.es_activo_fijo?"Si":"No")+" </label>",t+="\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>",i._sanitizer.bypassSecurityTrustHtml(t)},this.error_entrada=!1,this.entrada_ok=!1,this.reimprimir=!1}return e.prototype.ngOnInit=function(){var e=this;this.dato=this.fb.group({id:[""],tipo_movimiento_id:[11],status:["FI"],fecha_movimiento:["",l.Validators.required],observaciones:[""],iva:[],total:[],subtotal:[],movimiento_articulos:this.fb.array([])}),this.route.params.subscribe(function(t){t.id&&(e.tieneid=!0)}),this.dato.controls.fecha_movimiento.valueChanges.subscribe(function(t){t&&setTimeout(function(){e.calcular_importe_articulo()},500)}),setTimeout(function(){document.getElementById("buscarArticulo").focus},100)},e.prototype.select_articulo_autocomplete=function(e){this.entrada_ok=!1,this.cargando=!0;var t=this.dato.controls.movimiento_articulos,a={articulo_id:[e.id,[l.Validators.required]],cantidad:[1,[l.Validators.required]],precio_unitario:[0,[l.Validators.required]],iva:[0],importe:[0,[l.Validators.required]],observaciones:[""],inventarios:this.fb.array([this.initLote(e.categoria.categorias_metadatos)]),articulos:e};t.push(this.fb.group(a)),this.calcular_importe_articulo();this.options={position:["top","right"],timeOut:5e3,lastOnBottom:!0},document.getElementById("buscarArticulo").value="",this.cargando=!1},e.prototype.calcular_importe_articulo=function(){var e=this,t=0,a=0,n=0,r=this.configuracion_general.iva;this.dato.get("movimiento_articulos").value.forEach(function(i){var s=e.dato.controls.movimiento_articulos.controls[n],o=i.precio_unitario*(r/100);s.controls.iva.patchValue(o*i.cantidad),s.controls.importe.patchValue(i.cantidad*i.precio_unitario+i.cantidad*o),t+=i.cantidad*i.precio_unitario,a+=i.cantidad*o,n++}),this.dato.controls.subtotal.patchValue(t),this.dato.controls.iva.patchValue(a),this.dato.controls.total.patchValue(t+a)},e.prototype.initLote=function(e){var t=this,a=this.fb.array([]);return e.forEach(function(e){var n={};n.metadatos_id=[e.id],n.campo=[e.campo,[l.Validators.required]],n.descripcion=[e.descripcion],n.longitud=[e.longitud],n.tipo=[e.tipo],n.requerido=[e.requerido],n.valor=[""],a.controls.push(t.fb.group(n))}),this.fb.group({numero_inventario:[""],observaciones:[""],valido:["",[l.Validators.required]],inventario_metadato:a})},e.prototype.asignar_fecha=function(e,t,a){var n=this;setTimeout(function(){var r=document.getElementById("valor"+a);n.dato.controls.movimiento_articulos.controls[e].controls.inventarios.controls[t].controls.inventario_metadato.controls[a].controls.valor.patchValue(r.value)},300)},e.prototype.agregar_lote=function(e){var t=this.dato.controls.movimiento_articulos.controls[e];t.controls.inventarios.controls.push(this.initLote(t.controls.articulos.value.categoria.categorias_metadatos))},e.prototype.quitar_lote=function(e,t){this.dato.controls.movimiento_articulos.at(e).get("inventarios").removeAt(t)},e.prototype.cambio_cantidad=function(e,t){var a=t.inventarios.controls.length,n=t.cantidad.value-a;if(n>0)for(var r=0;r<n;r++)this.agregar_lote(e);if(n<0)for(var i=-1*n,s=0;s<i;s++)this.quitar_lote(e,t.inventarios.controls.length-1);this.calcular_importe_articulo()},e.prototype.cambio_precio_unitario=function(e){this.calcular_importe_articulo()},e.prototype.validar_campos=function(e,t){var a="1";e.forEach(function(e){"1"!=e.value.requerido&&1!=e.value.requerido||""!=e.value.valor&&null!=e.value.valor||(a="")}),t.valido.patchValue(a)},e.prototype.cambio_cantidad_key=function(e,t,a){var n=this;clearTimeout(this.time_cambio_cantidad),this.time_cambio_cantidad=setTimeout(function(){n.cambio_cantidad(t,a)},500)},e.prototype.cambio_precio_unitario_key=function(e,t){var a=this;"Backspace"!=e.key&&"Delete"!=e.key&&"ArrowLeft"!=e.key&&"ArrowRight"!=e.key&&"ArrowUp"!=e.key&&"ArrowDown"!=e.key&&"."!=e.key&&(clearTimeout(this.time_cambio_precio_unitario),this.time_cambio_precio_unitario=setTimeout(function(){a.calcular_importe_articulo()},500))},e.prototype.buscar_articulo=function(e){if(13==e.keyCode){var t=document.getElementById("buscarArticulo").value;document.getElementById("buscarArticulo").value="",document.getElementById("buscarArticulo").focus;var a=this;this.cargando=!0,this.crudService.ver(t,"articulos").subscribe(function(e){a.select_articulo_autocomplete(e.data),a.cargando=!1},function(e){})}},e.prototype.reset_form=function(){for(var e in this.dato.reset(),this.dato.controls){var t=this.dato.controls[e];if(t.controls&&"number"==typeof t.controls.length){for(;t.length;)t.removeAt(t.length-1);t.reset()}}},e.prototype.enviar=function(){var e=this;this.cargando=!0,this.json=this.dato.getRawValue(),this.dato.get("id").value>0?this.crudService.editar(this.dato.get("id").value,this.json,"entrada-articulo").subscribe(function(t){e.enviar_ticket(e.json,t)},function(t){e.error_entrada=!0}):this.crudService.crear(this.json,"entrada-articulo").subscribe(function(t){e.enviar_ticket(e.json,t),e.reset_form(),e.dato.controls.tipo_movimiento_id.patchValue(11),e.dato.controls.status.patchValue("FI")},function(t){e.error_entrada=!0,setTimeout(function(){e.error_entrada=!1},2500)})},e.prototype.enviar_ticket=function(e,t){var a=this;this.cargando=!1,this.reimprimir=!0;var n=this;this.entrada_ok=!0,setTimeout(function(){a.entrada_ok=!1},3e3),this.json=t.data,this.calcular_importe_articulo(),this.error_entrada=!1,setTimeout(function(){n.imprimir()},200),setTimeout(function(){a.entrada_ok=!1},1500)},e.prototype.imprimir=function(){},e=cx([Object(n.Component)({selector:"entrada-formulario",template:a("TwmS"),styles:["ngui-auto-complete {z-index: 999999 !important}"]}),dx("design:paramtypes",[l.FormBuilder,gr,h.a,i.DomSanitizer,p.NotificationsService])],e)}(),px=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},mx=function(){function e(){}return e.prototype.ngOnInit=function(){this.tamano=document.body.clientHeight},e=px([Object(n.Component)({selector:"entrada-lista",template:a("1U+y")})],e)}(),gx=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},fx=[{path:"almacen-articulos/entradas",children:[{path:"",component:mx,canActivate:[D],data:{key:"8u2HduKCBo53Vwa2DiMh1ujytqdL9c7M"}},{path:"nuevo",component:ux,canActivate:[D],data:{key:"8u2HduKCBo53Vwa2DiMh1ujytqdL9c7M"}},{path:"editar/:id",component:ux,canActivate:[D],data:{key:"8u2HduKCBo53Vwa2DiMh1ujytqdL9c7M"}}],canActivate:[M]}],hx=function(){function e(){}return e=gx([Object(n.NgModule)({imports:[h.c.forChild(fx)],exports:[h.c],providers:[]})],e)}(),vx=a("mp4z"),bx=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},yx=function(){function e(){}return e=bx([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,hx,ee,de,fe,Hy,je,d_,jr.NguiAutoCompleteModule,Oi.NguiDatetimePickerModule,Ir,w_,q_,_u,vx.Select2Module],declarations:[ux,mx],providers:[_,gr]})],e)}(),_x=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},xx=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ix=function(){function e(e,t,a,n,r){var i=this;this.fb=e,this.crudService=t,this.route=a,this._sanitizer=n,this.notificacion=r,this.cargando=!1,this.usuario=JSON.parse(localStorage.getItem("usuario")),this.configuracion_general=JSON.parse(localStorage.getItem("configuracion_general")),this.error_salida=!1,this.salida_ok=!1,this.articulos_term=v.API_URL+"/inventario-articulo-auto?term=:keyword&almacen="+this.usuario.almacen_activo.id,this.tieneid=!1,this.tamano=document.body.clientHeight,this.url_nuevo="../../nuevo",this.autocompleListFormatter=function(e){var t='\n    <div class="card">\n      <div class="card-content">\n        <div class="media">          \n          <div class="media-content">\n            <p class="title is-4">'+e.nombre+" <small>"+(e.categoria?e.categoria:"Ninguna")+'</small></p>\n            <p class="subtitle is-6">\n              <strong>descripcion: </strong> '+e.descripcion+"\n              ";return t+='<label class="tag is-success" >Es activo fijo: '+(e.es_activo_fijo?"Si":"No")+" </label>",t+='<label class="tag is-dark" >N\xfamero de inventario: '+e.numero_inventario+" </label>",t+="\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>",i._sanitizer.bypassSecurityTrustHtml(t)},this.options={position:["top","right"],timeOut:5e3,lastOnBottom:!0},this.reimprimir=!1}return e.prototype.ngOnInit=function(){var e=this;this.dato=this.fb.group({id:[""],tipo_movimiento_id:[12],status:["FI"],fecha_movimiento:["",l.Validators.required],observaciones:[""],iva:[],total:[],subtotal:[],movimiento_articulos:this.fb.array([])}),this.route.params.subscribe(function(t){t.id&&(e.tieneid=!0)}),this.dato.controls.fecha_movimiento.valueChanges.subscribe(function(t){t&&setTimeout(function(){e.calcular_importe_articulo(),console.log(t,e.dato)},500)}),setTimeout(function(){document.getElementById("buscarArticulo").focus},100)},e.prototype.select_articulo_autocomplete=function(e){this.salida_ok=!1,this.cargando=!0;for(var t=this.dato.controls.movimiento_articulos,a=!1,n=0,r=t.value;n<r.length;n++){var i=r[n];if(i.articulos.numero_inventario==e.numero_inventario){a=!0;var s=t.controls[0];s.value.existencia>s.value.cantidad&&s.controls.cantidad.patchValue(i.cantidad+1);break}}var o={articulo_id:[e.articulo_id,[l.Validators.required]],cantidad:[1,[l.Validators.required]],precio_unitario:[e.precio_unitario,[l.Validators.required]],numero_inventario:[e.numero_inventario,[l.Validators.required]],iva:[0],importe:[0,[l.Validators.required]],observaciones:[""],inventarios:this.fb.array([]),articulos:e};a||t.push(this.fb.group(o)),this.calcular_importe_articulo();this.options={position:["top","right"],timeOut:5e3,lastOnBottom:!0},document.getElementById("buscarArticulo").value="",this.cargando=!1},e.prototype.calcular_importe_articulo=function(){var e=this,t=0,a=0,n=0,r=this.configuracion_general.iva;this.dato.get("movimiento_articulos").value.forEach(function(i){var s=e.dato.controls.movimiento_articulos.controls[n],o=i.precio_unitario*(r/100);s.controls.iva.patchValue(o*i.cantidad),s.controls.importe.patchValue(i.cantidad*i.precio_unitario+i.cantidad*o),t+=i.cantidad*i.precio_unitario,a+=i.cantidad*o,n++}),this.dato.controls.subtotal.patchValue(t),this.dato.controls.iva.patchValue(a),this.dato.controls.total.patchValue(t+a)},e.prototype.cambio_cantidad=function(e,t){t.cantidad.value>t.articulos.value.existencia&&t.cantidad.patchValue(t.articulos.value.existencia),this.calcular_importe_articulo()},e.prototype.cambio_precio_unitario=function(e){this.calcular_importe_articulo()},e.prototype.cambio_cantidad_key=function(e,t,a){var n=this;clearTimeout(this.time_cambio_cantidad),this.time_cambio_cantidad=setTimeout(function(){n.cambio_cantidad(t,a)},500)},e.prototype.cambio_precio_unitario_key=function(e,t){var a=this;"Backspace"!=e.key&&"Delete"!=e.key&&"ArrowLeft"!=e.key&&"ArrowRight"!=e.key&&"ArrowUp"!=e.key&&"ArrowDown"!=e.key&&"."!=e.key&&(clearTimeout(this.time_cambio_precio_unitario),this.time_cambio_precio_unitario=setTimeout(function(){a.calcular_importe_articulo()},500))},e.prototype.buscar_articulo=function(e){if(13==e.keyCode){var t=document.getElementById("buscarArticulo").value;document.getElementById("buscarArticulo").value="",document.getElementById("buscarArticulo").focus;var a=this;this.cargando=!0,this.crudService.ver(t,"articulos").subscribe(function(e){a.select_articulo_autocomplete(e.data),a.cargando=!1},function(e){})}},e.prototype.reset_form=function(){for(var e in this.dato.reset(),this.dato.controls){var t=this.dato.controls[e];if(t.controls&&"number"==typeof t.controls.length){for(;t.length;)t.removeAt(t.length-1);t.reset()}}},e.prototype.enviar=function(){var e=this;this.cargando=!0,this.json=this.dato.getRawValue(),this.dato.get("id").value>0?this.crudService.editar(this.dato.get("id").value,this.json,"salida-articulo").subscribe(function(t){e.enviar_ticket(e.json,t)},function(t){e.error_salida=!0}):this.crudService.crear(this.json,"salida-articulo").subscribe(function(t){e.enviar_ticket(e.json,t),e.reset_form(),e.dato.controls.tipo_movimiento_id.patchValue(12),e.dato.controls.status.patchValue("FI")},function(t){e.error_salida=!0,setTimeout(function(){e.error_salida=!1},2500)})},e.prototype.enviar_ticket=function(e,t){var a=this;this.cargando=!1,this.reimprimir=!0;var n=this;this.salida_ok=!0,setTimeout(function(){a.salida_ok=!1},3e3),this.json=t.data,this.calcular_importe_articulo(),this.error_salida=!1,setTimeout(function(){n.imprimir()},200),setTimeout(function(){a.salida_ok=!1},1500)},e.prototype.imprimir=function(){},e=_x([Object(n.Component)({selector:"salida-formulario",template:a("hXNq"),styles:["ngui-auto-complete {z-index: 999999 !important}"]}),xx("design:paramtypes",[l.FormBuilder,gr,h.a,i.DomSanitizer,p.NotificationsService])],e)}(),jx=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},kx=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Cx=function(){function e(e,t,a,n,r){var i=this;this.fb=e,this.crudService=t,this.route=a,this._sanitizer=n,this.notificacion=r,this.cargando=!1,this.codigo_barras_activo=!0,this.caja_abierta=!1,this.articulos_term=v.API_URL+"/articulos-auto?term=:keyword",this.tieneid=!1,this.tamano=document.body.clientHeight,this.url_nuevo="../../nuevo",this.subtotal=0,this.descuento=0,this.iva=0,this.total=0,this.total_recibido=0,this.cambio=0,this.autocompleListFormatter=function(e){var t='\n    <div class="card">\n      <div class="card-content">\n        <div class="media">          \n          <div class="media-content">\n            <p class="title is-4">'+e.nombre+" <small>"+(e.categorias?e.categorias.nombre:"Ninguna")+'</small></p>\n            <p class="subtitle is-6">\n              <strong>descripcion: </strong> '+e.descripcion+"\n              ";return t+='<label class="tag is-success" >Es activo fijo: '+(e.es_activo_fijo?"Si":"No")+" </label>",t+="\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>",i._sanitizer.bypassSecurityTrustHtml(t)},this.options={position:["top","right"],timeOut:5e3,lastOnBottom:!0},this.error_salida=!1,this.salida_ok=!1,this.reimprimir=!1}return e.prototype.ngOnInit=function(){var e=this;this.caja>0&&(this.caja_abierta=!0),this.dato=this.fb.group({id:[""],tipo_movimiento_id:[11],personas_id:[""],subtotal:[0],descuento:[0],iva:[0],cajas_id:[""],total:[0,[l.Validators.required]],temp_total:[""],total_recibido:[0,[l.Validators.required]],cambio:[""],codigo:[""],folio:[""],barcode:[""],status_movimientos_id:[1],comentarios:[""],valido:["",[l.Validators.required]],pagos:this.fb.array([]),movimiento_articulos:this.fb.array([]),usuarios:this.fb.group({})}),this.selected="",this.startValue="",this.form_pagos={pagos_targetas:this.fb.group({banco:[""],folio:[""]}),tipos_metodos_pagos_id:[1,[l.Validators.required]],importe:[this.dato.controls.total.value,[l.Validators.required]],paga_con:["",[l.Validators.required]],cambio:["",[l.Validators.required]],comentarios:[""]},this.form_movimiento_articulos={articulos_id:["",[l.Validators.required]],cantidad:["",[l.Validators.required]],precio_unitarios_unitario:["",[l.Validators.required]],articulos_precio_unitarios_id:[],importe:["",[l.Validators.required]],descuento:["",[l.Validators.required]],importe_con_descuento:["",[l.Validators.required]],iva_porcentaje:["",[l.Validators.required]],iva_cantidad:["",[l.Validators.required]],subtotal:["",[l.Validators.required]]},document.getElementById("catalogos").click(),this.dato.controls.personas_id.valueChanges.subscribe(function(t){setTimeout(function(){e.dato.controls.tipo_movimiento_id.patchValue(11)},500)})},e.prototype.cambiar_precio_unitario=function(e,t,a){e=e.srcElement.value,a[t].controls.precio_unitario_unitario.patchValue(a[t].get("articulos").value.articulos_precio_unitarios[e].precio_unitario),this.calcular_importe_articulo()},e.prototype.select_articulo_autocomplete=function(e){this.salida_ok=!1,this.cargando=!0;for(var t=this.dato.controls.movimiento_articulos,a=!1,n=0,r=t.value;n<r.length;n++){var i=r[n];if(i.articulos_id==e.id){a=!0;var s=t.controls[0];s.controls.cantidad.patchValue(i.cantidad+1),s.controls.cantidad_restante.patchValue(s.controls.cantidad.value);break}}var o={articulos_id:[e.id,[l.Validators.required]],cantidad:[1,[l.Validators.required]],cantidad_restante:[1],precio_unitario_unitario:[e.articulos_precio_unitarios[0].precio_unitario,[l.Validators.required]],articulos_precio_unitarios_id:[e.articulos_precio_unitarios[0].id,[l.Validators.required]],importe:[e.articulos_precio_unitarios[0].precio_unitario,[l.Validators.required]],descuento:[0,[l.Validators.required]],importe_con_descuento:[e.articulos_precio_unitarios[0].precio_unitario,[l.Validators.required]],iva_porcentaje:[0,[l.Validators.required]],iva_cantidad:[0,[l.Validators.required]],subtotal:[e.articulos_precio_unitarios[0].precio_unitario,[l.Validators.required]],stocks:this.fb.array([]),articulos:e};a||t.push(this.fb.group(o)),this.calcular_importe_articulo();var c={showProgressBar:!0,pauseOnHover:!0,clickToClose:!0,maxLength:2e3};if(this.options={position:["top","right"],timeOut:5e3,lastOnBottom:!0},e.stocks.length>0){var d=0;e.stocks.forEach(function(e){d+=e}),e.cantidad>d&&this.notificacion.alert("Cantidad Excedida","La cantidad maxima es: "+d,c)}else this.notificacion.alert("\xa1No ha inicializado insalidario!","Es necesario inicializar en el m\xf3dulo de inicializaci\xf3n ",c);this.cargando=!1},e.prototype.cambio_cantidad_articulo=function(e){e.cantidad_devolucion.value>e.cantidad.value&&e.cantidad_devolucion.patchValue(parseFloat(e.cantidad.value)),this.calcular_importe_articulo()},e.prototype.cambio_cantidad_articulo_key=function(e,t){var a=this;"Backspace"!=e.key&&"Delete"!=e.key&&"ArrowLeft"!=e.key&&"ArrowRight"!=e.key&&"ArrowUp"!=e.key&&"ArrowDown"!=e.key&&"."!=e.key&&(clearTimeout(this.time_cambio_cantidad_articulo_key),this.time_cambio_cantidad_articulo_key=setTimeout(function(){a.cambio_cantidad_articulo(t)},500))},e.prototype.calcular_importe_articulo=function(){var e=this,t=0,a=0;this.dato.get("movimiento_articulos").value.forEach(function(n){var r=n.cantidad-n.cantidad_devolucion;n.importe=r*n.precio_unitario_unitario,t+=n.importe,e.dato.controls.movimiento_articulos.controls[a].controls.importe.patchValue(n.importe),a++});var n=0,r=0,i=this.dato.controls.pagos;this.dato.get("pagos").value.forEach(function(e){n+=e.paga_con}),this.dato.controls.subtotal.patchValue(t),this.dato.controls.total.patchValue(t),this.dato.controls.total_recibido.patchValue(n),this.dato.controls.cambio.patchValue(n-t),this.json&&(this.json.subtotal=t,this.json.total=t,this.json.total_recibido=n,this.json.cambio=n-t),n>=t?this.dato.controls.valido.patchValue("si"):this.dato.controls.valido.patchValue(""),i.controls[0].controls.importe.patchValue(t),this.dato.get("pagos").value.forEach(function(e){i.controls[r].controls.cambio.patchValue(e.paga_con-e.importe),r++})},e.prototype.buscar_articulo=function(e){if(13==e.keyCode){var t=document.getElementById("buscarArticulo").value;document.getElementById("buscarArticulo").value="",document.getElementById("buscarArticulo").focus;var a=this;this.cargando=!0,this.crudService.ver(t,"articulos").subscribe(function(e){a.select_articulo_autocomplete(e.data),a.cargando=!1},function(e){})}},e.prototype.cambiar_busqueda=function(){this.codigo_barras_activo=!this.codigo_barras_activo,document.getElementById("buscarArticulo").value="",document.getElementById("buscarArticulo").focus},e.prototype.validar_cantidad_pago=function(e,t,a,n,r){var i=this;"Backspace"!=e.key&&"Delete"!=e.key&&"ArrowLeft"!=e.key&&"ArrowRight"!=e.key&&"ArrowUp"!=e.key&&"ArrowDown"!=e.key&&"."!=e.key&&(clearTimeout(this.time_pago),this.time_pago=setTimeout(function(){i.validar_pago(e,t,a,n,r)},500))},e.prototype.validar_pago=function(e,t,a,n,r){var i=!0;"min"==n&&t.value<a&&(i=!1),"max"==n&&t.value>a&&(i=!1),i||t.patchValue(a),this.calcular_importe_articulo()},e.prototype.reset_form=function(){for(var e in this.selected="",this.startValue="",this.dato.reset(),this.dato.controls){var t=this.dato.controls[e];if(t.controls&&"number"==typeof t.controls.length){for(;t.length;)t.removeAt(t.length-1);t.reset()}}},e.prototype.enviar=function(){var e=this;this.cargando=!0,this.json=this.dato.getRawValue(),this.crudService.crear(this.json,"salida-devolucion").subscribe(function(t){e.enviar_ticket(e.json,t),e.reset_form(),e.dato.controls.tipo_movimiento_id.patchValue(11),e.dato.controls.status_movimientos_id.patchValue(1)},function(t){e.error_salida=!0,setTimeout(function(){e.error_salida=!1},2500)})},e.prototype.enviar_ticket=function(e,t){var a=this;this.cargando=!1,this.reimprimir=!0;var n=this;this.salida_ok=!0,setTimeout(function(){a.salida_ok=!1},3e3),this.json=t.data,this.calcular_importe_articulo(),this.error_salida=!1,setTimeout(function(){n.imprimir(),document.getElementById("cargar_datos_actualizar").click()},200),setTimeout(function(){a.salida_ok=!1},1500)},e.prototype.imprimir=function(){var e=document.getElementById("imprimir").innerHTML;e='<html lang="es"> <head> <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> <meta name="charset" content="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"> <meta name="apple-mobile-web-app-capable" content="yes"> <title>PDF</title> <meta name="viewport" content="initial-scale=1" /> <style>html { font-size: .9em;} body{font-size: .9em;} select::-ms-expand {display: none;}</style> </head> <body>'+e+" </body> </html>";var t=document.createElement("iframe");t.setAttribute("id","printf"),t.setAttribute("style","display:none"),document.body.appendChild(t);var a=document.getElementById("printf");a.contentWindow.document.write(e),setTimeout(function(){a.contentWindow.print()},500),setTimeout(function(){document.body.removeChild(t)},2e3)},e=jx([Object(n.Component)({selector:"salida-devolucion",template:a("vGSg"),styles:["ngui-auto-complete {z-index: 999999 !important}"]}),kx("design:paramtypes",[l.FormBuilder,gr,h.a,i.DomSanitizer,p.NotificationsService])],e)}(),Ex=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Px=function(){function e(){}return e.prototype.ngOnInit=function(){this.tamano=document.body.clientHeight},e=Ex([Object(n.Component)({selector:"salida-lista",template:a("heQB")})],e)}(),qx=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Ax=[{path:"almacen-articulos/salidas",children:[{path:"",component:Px,canActivate:[D],data:{key:"5Pnh7DTayhrND0GyB7bzfbdFK2kA6bgM"}},{path:"nuevo",component:Ix,canActivate:[D],data:{key:"5Pnh7DTayhrND0GyB7bzfbdFK2kA6bgM"}},{path:"editar/:id",component:Ix,canActivate:[D],data:{key:"5Pnh7DTayhrND0GyB7bzfbdFK2kA6bgM"}},{path:"devolucion/:id",component:Cx,canActivate:[D],data:{key:"5Pnh7DTayhrND0GyB7bzfbdFK2kA6bgM"}}],canActivate:[M]}],wx=function(){function e(){}return e=qx([Object(n.NgModule)({imports:[h.c.forChild(Ax)],exports:[h.c],providers:[]})],e)}(),Sx=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Rx=function(){function e(){}return e=Sx([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,wx,ee,de,fe,Hy,je,d_,jr.NguiAutoCompleteModule,Oi.NguiDatetimePickerModule,Ir,w_,q_,_u,vx.Select2Module],declarations:[Ix,Cx,Px],providers:[_,gr]})],e)}(),Ox=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Nx=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Mx=function(){function e(e){this.fb=e,this.tab=1,this.tamano=document.body.clientHeight,this.CkeditorConfig={height:document.body.clientHeight-460}}return e.prototype.ngOnInit=function(){this.dato=this.fb.group({id:[1],configuracion:this.fb.group({iva:["",l.Validators.required],fio:["",l.Validators.required],personal_medico:["",l.Validators.required]})}),document.getElementById("catalogos").click()},e=Ox([Object(n.Component)({selector:"formulario-configuracion-general",template:a("65v2")}),Nx("design:paramtypes",[l.FormBuilder])],e)}(),Bx=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Fx=(JSON.parse(localStorage.getItem("usuario")),[{path:"catalogos-parametros/configuracion-general",redirectTo:"catalogos-parametros/configuracion-general/editar/1",pathMatch:"full"},{path:"catalogos-parametros/configuracion-general",children:[{path:"editar/:id",component:Mx}],canActivate:[M]}]),Dx=function(){function e(){}return e=Bx([Object(n.NgModule)({imports:[h.c.forChild(Fx)],exports:[h.c],providers:[]})],e)}(),Lx=a("hyD/"),Tx=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},zx=function(){function e(){}return e=Tx([Object(n.NgModule)({imports:[o.CommonModule,l.FormsModule,l.ReactiveFormsModule,ee,de,fe,Hy,je,gh,ph,Yf,Ir,d_,Dx,jr.NguiAutoCompleteModule,jr.NguiAutoCompleteModule,Oi.NguiDatetimePickerModule,vx.Select2Module,Lx.CKEditorModule],declarations:[Mx],providers:[_,gr]})],e)}(),Ux=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Vx=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Gx=function(){function e(e,t){this.http=e,this.router=t,this.headers=new c.Headers({"Content-Type":"application/json"})}return e.prototype.enviarEmail=function(e){return this.http.post(v.API_URL+"/reset-password/email",JSON.stringify({email:e,reset_url:v.API_URL}),{headers:this.headers}).map(function(e){return e.json()},function(e){})},e.prototype.validarToken=function(e,t){return this.http.post(v.API_URL+"/reset-password/validar-token",JSON.stringify({id:e,reset_token:t}),{headers:this.headers}).map(function(e){return e.json()},function(e){})},e.prototype.enviarPasswordNuevo=function(e,t,a){return this.http.put(v.API_URL+"/reset-password/password-nuevo/"+e,JSON.stringify({reset_token:t,password_nuevo:a}),{headers:this.headers}).map(function(e){return e.json()},function(e){})},e.prototype.obtenerPreguntaSecreta=function(e){return this.http.get(v.API_URL+"/reset-password/pregunta-secreta/"+e,{headers:this.headers}).map(function(e){return e.json()},function(e){})},e.prototype.enviarRespuesta=function(e,t){return this.http.post(v.API_URL+"/reset-password/validar-respuesta",JSON.stringify({id:e,respuesta:t}),{headers:this.headers}).map(function(e){return e.json()},function(e){})},e=Ux([Object(n.Injectable)(),Vx("design:paramtypes",[c.Http,h.b])],e)}(),Yx=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Hx=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Jx=function(){function e(e){this.apiService=e,this.onCerrar=new n.EventEmitter,this.mostrarEnviarEmail=!1,this.mostrarPreguntaSecreta=!1,this.email="",this.enviandoEmail=!1,this.emailEnviado=!1,this.verificandoToken=!1,this.errorToken=!1,this.passwordNuevo="",this.passwordNuevoConfirmar="",this.enviandoPasswordNuevo=!1,this.passwordActualizado=!1,this.usuario="",this.obteniendoPreguntaSecreta=!1,this.preguntaSecretaCargada=!1,this.preguntaSecreta="",this.enviandoRespuesta=!1,this.respuesta="",this.errores={email:null,password_nuevo:null,usuario:null,pregunta:null,respuesta:null},this.mensajeError=""}return e.prototype.ngOnInit=function(){var e=this;this.resetPasswordViaToken&&(this.errorToken=!1,this.verificandoToken=!0,console.log(this.resetToken),this.apiService.validarToken(this.id,this.resetToken).subscribe(function(t){e.verificandoToken=!1,console.log(t)},function(t){try{switch(t.status){case 401:e.mensajeError="Token inv\xe1lido.";break;default:e.mensajeError="Ocurri\xf3 un error al validar el token"}}catch(t){e.mensajeError="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}e.verificandoToken=!1,e.errorToken=!0}))},e.prototype.cerrar=function(){this.onCerrar.emit()},e.prototype.enviarEmail=function(){var e=this;this.resetErrores(),this.enviandoEmail=!0,this.apiService.enviarEmail(this.email).subscribe(function(t){console.log(t),e.enviandoEmail=!1,e.emailEnviado=!0},function(t){try{var a=t.json();switch(t.status){case 401:e.mensajeError="No tiee permiso para realizar esta acci\xf3n.";break;case 409:for(var n in e.mensajeError="Verifique la informaci\xf3n marcada de color rojo",a.error)for(var r in a.error[n])e.errores[n]=a.error[n][r];break;case 500:e.mensajeError="500 (Error interno del servidor)";break;default:e.mensajeError="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}}catch(a){e.mensajeError="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}e.enviandoEmail=!1})},e.prototype.enviarPasswordNuevo=function(){var e=this;this.resetErrores(),this.enviandoPasswordNuevo=!0,this.apiService.enviarPasswordNuevo(this.id,this.resetToken,this.passwordNuevo).subscribe(function(t){console.log(t),e.enviandoPasswordNuevo=!1,e.passwordActualizado=!0},function(t){try{var a=t.json();switch(t.status){case 401:e.mensajeError="No tiene permiso para realizar esta acci\xf3n.";break;case 409:for(var n in e.mensajeError="Verifique la informaci\xf3n marcada de color rojo",a.error)for(var r in a.error[n])e.errores[n]=a.error[n][r];break;case 500:e.mensajeError="500 (Error interno del servidor)";break;default:e.mensajeError="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}}catch(a){e.mensajeError="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}e.enviandoPasswordNuevo=!1})},e.prototype.obtenerPreguntaSecreta=function(){var e=this;this.resetErrores(),this.obteniendoPreguntaSecreta=!0,this.apiService.obtenerPreguntaSecreta(this.usuario).subscribe(function(t){e.obteniendoPreguntaSecreta=!1,e.preguntaSecretaCargada=!0,e.preguntaSecreta=t.data},function(t){try{var a=t.json();switch(t.status){case 401:e.mensajeError="No tiene permiso para realizar esta acci\xf3n.";break;case 409:for(var n in e.mensajeError="Verifique la informaci\xf3n marcada de color rojo",a.error)for(var r in a.error[n])e.errores[n]=a.error[n][r];break;case 500:e.mensajeError="500 (Error interno del servidor)";break;default:e.mensajeError="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}}catch(a){e.mensajeError="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}e.obteniendoPreguntaSecreta=!1})},e.prototype.enviarRespuesta=function(){var e=this;this.resetErrores(),this.enviandoRespuesta=!0,this.apiService.enviarRespuesta(this.usuario,this.respuesta).subscribe(function(t){console.log(t),e.enviandoRespuesta=!1,e.resetPasswordViaToken=!0,e.resetToken=t.data.reset_token,e.id=e.usuario,e.mostrarPreguntaSecreta=!1},function(t){try{var a=t.json();switch(t.status){case 401:e.mensajeError="No tiene permiso para realizar esta acci\xf3n.";break;case 409:for(var n in e.mensajeError="Verifique la informaci\xf3n marcada de color rojo",a.error)for(var r in a.error[n])e.errores[n]=a.error[n][r];break;case 500:e.mensajeError="500 (Error interno del servidor)";break;default:e.mensajeError="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}}catch(a){e.mensajeError="No se puede interpretar el error. Por favor contacte con soporte t\xe9cnico si esto vuelve a ocurrir."}e.enviandoRespuesta=!1})},e.prototype.resetErrores=function(){this.errores={email:null,password_nuevo:null,usuario:null,pregunta:null,respuesta:null},this.mensajeError=""},Yx([Object(n.Input)(),Hx("design:type",Boolean)],e.prototype,"resetPasswordViaToken",void 0),Yx([Object(n.Input)(),Hx("design:type",String)],e.prototype,"id",void 0),Yx([Object(n.Input)(),Hx("design:type",String)],e.prototype,"resetToken",void 0),Yx([Object(n.Output)(),Hx("design:type",Object)],e.prototype,"onCerrar",void 0),e=Yx([Object(n.Component)({selector:"app-reset-password",template:a("UXli"),styles:[a("c8ug")],providers:[Gx]}),Hx("design:paramtypes",[Gx])],e)}(),$x=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Kx=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Xx=function(){function e(){}return e.prototype.ngOnInit=function(){},e=$x([Object(n.Component)({selector:"app-ayuda",template:a("wPDg"),styles:[a("+5Ok")]}),Kx("design:paramtypes",[])],e)}(),Zx=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},Qx=[{path:"almacen/entradas-estandar",children:[{path:"lista-ayuda",component:Xx,canActivate:[D],data:{key:"qQvNeb1UFPOfVMKQnNkvxyqjCIUgFuEG"}}],canActivate:[M]},{path:"almacen/salidas-estandar",children:[{path:"ayuda",component:Xx,canActivate:[D],data:{key:"qQvNeb1UFPOfVMKQnNkvxyqjCIUgFuEG"}}],canActivate:[M]}],Wx=function(){function e(){}return e=Zx([Object(n.NgModule)({imports:[h.c.forChild(Qx)],exports:[h.c]})],e)}(),eI=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s},tI=function(){function e(){}return e=eI([Object(n.NgModule)({imports:[o.CommonModule,Wx],declarations:[Xx]})],e)}(),aI=this&&this.__decorate||function(e,t,a,n){var r,i=arguments.length,s=i<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,a):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,a,n);else for(var o=e.length-1;o>=0;o--)(r=e[o])&&(s=(i<3?r(s):i>3?r(t,a,s):r(t,a))||s);return i>3&&s&&Object.defineProperty(t,a,s),s};function nI(){var e=a("504h");return a("VVDx")(e),e}var rI=function(){function e(){}return e=aI([Object(n.NgModule)({declarations:[f,E,A,R,Jx],imports:[i.BrowserModule,l.FormsModule,c.HttpModule,d.ChartModule,H,ee,de,fe,je,Nn,Kn,Ja,ln,wa,Cr,zr,Kr,Or,si,ot,Ct,Lt,Wt,vi,Hi,Js,Gc,vo,Ro,nl,oc,Ec,td,pd,jd,Sd,Qd,cu,Ho,_l,Dl,bc,Zg,pf,_u,Su,Uu,ap,mp,Oy,ob,Gh,wv,Pb,ny,Jb,Yf,Nh,vb,p_,Zv,ev,Tg,zv,jy,my,dv,_v,R_,U_,Q_,Fb,lx,kp,Mp,Hp,lm,ym,Mi,kh,_g,Dm,yx,Rx,zx,Nf,tI,s.a,p.SimpleNotificationsModule.forRoot(),K],providers:[i.Title,M,D,_,T.JwtHelper,V,{provide:u.HighchartsStatic,useFactory:nI},{provide:o.LocationStrategy,useClass:o.HashLocationStrategy}],bootstrap:[f]})],e)}();v.production&&Object(n.enableProdMode)(),Object(r.a)().bootstrapModule(rI)},x3bX:function(e,t){e.exports='<panel-control-menu></panel-control-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding:2em; overflow: auto;">\r\n        <div style="background: #FFF; border-radius: 1em;">\r\n            <section class="hero is-primary">\r\n                <div class="hero-body">\r\n                    <div class="container is-fluid">\r\n                        <h1 class="title">\r\n                            <span  *ngIf="!cargando" class="icon is-medium"><i class="fa fa-plus"></i></span>\r\n                            <span  *ngIf="cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span> \r\n                            Nuevo usuario\r\n                        </h1>\r\n                        \r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <section class="section">\r\n            <panel-control-usuarios-form \r\n                [usuario]="usuario" \r\n                [roles]="roles" \r\n                [medicos]="medicos" \r\n                [unidadesMedicas]="unidadesMedicas" \r\n                [usuarioRepetido]="usuarioRepetido"\r\n                [usuarioInvalido]="usuarioInvalido"\r\n                [respuestaRequerida]="respuestaRequerida"\r\n                [cargando]="cargando"\r\n                [cargandoRoles]="cargandoRoles"\r\n                [cargandoMedicos]="cargandoMedicos"\r\n                (onEnviar)="enviar()"\r\n                (onRegresar)="regresar()"\r\n                (onCargarRoles)="cargarRoles()"\r\n                (onCargarMedicos)="cargarMedicos()"\r\n            ></panel-control-usuarios-form>\r\n            </section>\r\n        </div>\r\n        \r\n       \r\n       \r\n    </div>\r\n</div>\r\n\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <p><b>Error:</b> {{ mensajeError.texto }}<br></p>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeError.cuentaAtras }} segundos.</small></p>      \r\n</div>\r\n\r\n<div class="notification is-warning" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeAdvertencia.mostrar">\r\n    <button class="delete" (click)="mensajeAdvertencia.mostrar = false"></button>        \r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-warning"></i></span> <span>{{ mensajeAdvertencia.texto }}</span></p>\r\n    \r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeAdvertencia.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n\r\n\r\n'},"xA+6":function(e,t){e.exports='<panel-control-menu></panel-control-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:85%">\r\n  <div class="column is-one-quarter is-hidden-mobile">\r\n    <panel-control-menu-aside></panel-control-menu-aside>\r\n  </div>\r\n  <div class="column" style="padding:2em;">\r\n    <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n      <section class="hero is-primary" >\r\n          <h1 class="title" style="margin:0.5em;">\r\n            <span class="icon is-medium"><i class="fa fa-pencil"></i></span> Firmantes Asignados\r\n          </h1>\r\n      </section>\r\n      \r\n      <div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n          <br>\r\n          <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n          <br>\r\n          <br>\r\n      </div>\r\n      <section class="section">\r\n        \x3c!--<button type="button" (click)=\'obtener_firmantes()\'>Cargar</button>--\x3e\r\n        <form name="form" [formGroup]="firmantes" (submit)=\'asignar_firmantes()\' *ngIf="!cargando"> \r\n\r\n            <div class="control is-grouped">\r\n              <p class="control is-expanded  has-icon has-icon-right">\r\n                  <label class="label">Firma Director</label>\r\n                <input class="input" autofocus type="text" placeholder="Firma Director" #director formControlName="firma_director" [readonly]="true">\r\n                <button type="button" class="button is-info" (click)=\'buscar_firmante(1, director.value)\'>Buscar</button>\r\n                <button type="button" class="button is-danger" (click)=\'eliminar_firmante(1)\'>Eliminar</button>\r\n                <span class="icon is-small" *ngIf="firmantes.get(\'firma_director\').hasError(\'required\') && firmantes.get(\'firma_director\').touched">\r\n                  <i class="fa fa-warning"></i>\r\n                </span>\r\n                <span class="help is-danger" *ngIf="firmantes.get(\'firma_director\').hasError(\'required\') && firmantes.get(\'firma_director\').touched">Este campo es requerido.</span>\r\n              </p>\r\n              \r\n            </div>\r\n            <div class="control is-grouped">\r\n              <p class="control is-expanded  has-icon has-icon-right">\r\n                  <label class="label">Firma Almac\xe9n</label>\r\n                <input class="input"  type="text"  placeholder="Firma Almac\xe9n" #almacenista formControlName="firma_almacen"  [readonly]="true">\r\n                <button type="button" class="button is-info" (click)=\'buscar_firmante(2, almacenista.value)\'>Buscar</button>\r\n\r\n                <button type="button" class="button is-danger" (click)=\'eliminar_firmante(2)\'>Eliminar</button>\r\n                <span class="icon is-small" *ngIf="firmantes.get(\'firma_almacen\').hasError(\'required\') && firmantes.get(\'firma_almacen\').touched">\r\n                  <i class="fa fa-warning"></i>\r\n                </span>\r\n                <span class="help is-danger" *ngIf="firmantes.get(\'firma_almacen\').hasError(\'required\') && firmantes.get(\'firma_almacen\').touched">Este campo es requerido.</span>\r\n              </p>\r\n              \r\n            </div> \r\n            \r\n            <div class="control">\r\n              <button type="submit" class="button is-primary is-pulled-right">Actualizar</button>              \r\n            </div>       \r\n             \r\n            <table class="table">\r\n            <thead>\r\n                <tr>\r\n                  <th>FOLIO</th>\r\n                  <th>FIRMANTES</th>\r\n                  <th></th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr *ngFor="let item of pedidos; let i=index" [ngClass]="{\'proyecto-estatus-normal\':(item.status == \'BR\' || item.status == \'PS\'),\'proyecto-estatus-azul\':item.status == \'EF\',\'proyecto-estatus-rojo\':item.status == \'EX-CA\',\'proyecto-estatus-amarillo\':item.status == \'EX\',\'proyecto-estatus-verde\':item.status == \'FI\'}">\r\n                        <th style="vertical-align: middle;">\r\n                            <span class="icon" *ngIf="item.tipo_pedido_id==\'PA\'"><i class="fa fa-hospital-o"></i></span>\r\n                            <span class="icon" *ngIf="item.tipo_pedido_id==\'PFS\'"><i class="fa fa-building"></i></span>\r\n                            <span class="icon" *ngIf="item.tipo_pedido_id==\'PALT\'"><i class="fa fa-building-o"></i></span>\r\n                            {{ item.folio?item.folio:\'S/F\' }}<br>\r\n                            Nombre: {{ item.descripcion }}\r\n                        </th>\r\n                        <td>Director: <span *ngIf="item.director">{{ item.director.nombre }}</span><br>\r\n                        Almac\xe9n: <span *ngIf="item.encargado_almacen">{{ item.encargado_almacen.nombre }}</span></td>\r\n                        <td style="vertical-align: middle;"><input type="checkbox" name="pedidos" (change)=\'updateCheckedOptions(item.id, $event)\'></td>\r\n                       \r\n                    </tr>\r\n               <tr *ngIf="pedidos.length == 0">\r\n                <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>                    \r\n            </tr>\r\n            </tbody>\r\n            \r\n        </table>\r\n       </form>\r\n      </section>\r\n      \r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div id="modal-temas" class="modal is-active" [ngClass]="{\'is-active\': showFirmante}">\r\n  <div class="modal-background"  (click)="showDialog = !showFirmante"></div>\r\n  <div class="modal-card" style="width:60%; height: auto;">\r\n    <header class="modal-card-head" style="background-color: #00d1b2" >\r\n      <div class="container is-fluid"  style="width:100%;">\r\n          <h1 class="title" style="color:#FFF;">\r\n            <span class="icon is-medium"><i class="fa fa-user"></i></span> Buscar Firmante\r\n          </h1>\r\n      </div>            \r\n      <a class="button  is-primary" style="position:absolute; top:1em; right:1em;" (click)="showFirmante = !showFirmante"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n    </header>\r\n    <section class="section" style="padding-top: 1rem ">\r\n        <div class="columns">\r\n          <div class="column"  [ngClass]="{\'is-three-quarters\': filter }">\r\n            <label class="label" style="color: #FFF">Nombre</label>\r\n            <input class="input is-medium" type="text" [(ngModel)]="buscarPersonal" placeholder="Buscar" #searchBoxFirmante  (keyup)="buscar_personal(searchBoxFirmante.value)">\r\n            <button type="button" class="button is-info" [ngClass]="{\'is-loading\': agregando_personal}" [disabled]="agregando_personal" (click)=\'AgregarPersonal(searchBoxFirmante.value)\'>Agregar Nuevo</button>\r\n          </div>\r\n        </div>\r\n\r\n        <table class="table" *ngIf=\'!cargando_personal\'>\r\n            <thead>\r\n                <tr>\r\n                  <th>NOMBRE</th>\r\n                  <th>CLUES</th>\r\n                  <th>UNIDAD</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr *ngFor="let item of personal; let i=index"  (click) = \'seleccionarPersonal(item)\' style="cursor:pointer">\r\n                <td>{{ item.nombre }}</td>\r\n                <td>{{ item.clues }}</td>\r\n                <td *ngIf="item.unidad">{{ item.unidad.nombre }}</td>\r\n                <td  *ngIf="!item.unidad">SIN UNIDAD</td>\r\n                </tr>\r\n               <tr *ngIf="personal.length == 0">\r\n                <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>                    \r\n            </tr>\r\n            </tbody>\r\n            \r\n        </table>\r\n        <div class="is-fullwidth has-text-centered" *ngIf="cargando_personal">\r\n          <br>\r\n          <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n          <br>\r\n          <br>\r\n      </div>\r\n\r\n        <paginacion \r\n            [total]="totalBusqueda" \r\n            [paginasTotales]="paginasTotalesBusqueda" \r\n            [resultadosPorPagina]="resultadosPorPaginaBusqueda" \r\n            [paginaActual]="paginaActualBusqueda" \r\n            [indicePaginas]="indicePaginasBusqueda"\r\n            (onSiguiente)="paginaSiguienteBusqueda(searchBoxFirmante.value)" \r\n            (onAnterior)="paginaAnteriorBusqueda(searchBoxFirmante.value)" \r\n            (onListar)="listarBusqueda(searchBoxFirmante.value,$event)" \r\n            *ngIf="totalBusqueda > 0 && totalBusqueda > resultadosPorPaginaBusqueda"></paginacion>\r\n    </section>\r\n  </div>\r\n</div>\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style="text-align:center" ><a  class="button is-danger is-inverted" (click)="ultimaPeticion(); mensajeError.mostrar = false"> <span class="icon"><i class="fa fa-refresh"></i></span> <span>Volver a intentar</span></a></p>        \r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>'},xW0L:function(e,t){e.exports=".item {\r\n    cursor: pointer;\r\n}\r\n.item.seleccionado {\r\n    background: #CCC;\r\n}\r\n.item.seleccionado .icon {\r\n    color:white !important;\r\n}\r\n.item.seleccionado .item-detalle {\r\n    display: inherit;\r\n}\r\n.item .item-detalle {\r\n    display: none;\r\n}\r\n.item.asignado {\r\n    background: #DDD;\r\n    color: #777;\r\n}\r\ntr.filtro td,\r\ntr.filtro th {\r\n    color:#FFF;\r\n    background: #4a4a4a !important;\r\n}\r\n.contenedor-tabla {\r\n    overflow: auto; width:100%; height:99% !important; display:block; position:absolute; left:0; top:0;\r\n}\r\n.contenedor-tabla table { border-radius: 3px; }\r\n@media screen and (max-width: 768px) {\r\n    .contenedor-tabla { position: relative; }\r\n\r\n    .tile.notification { padding:0px !important; }\r\n}"},xlUK:function(e,t){e.exports='<section  class="top-nav hero is-primary">\r\n            \r\n    <nav class="nav">\r\n        <a title="Catalogo" class="nav-item pull-left nav-hub-active"  routerLink="\'/almacen-articulos\'" routerLinkActive="is-active" >\r\n            \r\n            <img src="assets/hub-almacen-articulos.svg" alt="icono">\r\n        \r\n        </a>\r\n        <div class="nav-left">\r\n            \r\n            <a class="nav-item" routerLink="\'/almacen-articulos\'" >\r\n            \r\n            \x3c!-- <img src="{{ icono }}" alt="icono">--\x3e\r\n                <h1 class="title">&nbsp;Catalogos</h1>                     \r\n            </a>\r\n        </div>\r\n\r\n        <a class="nav-item"  (click)="hub.toggle()">\r\n            <span class="icon">\r\n                <i class="fa fa-th"></i>\r\n            </span>\r\n        </a>\r\n\r\n        <a class="nav-item is-hidden-mobile" (click)="perfil.toggle()">                    \r\n            <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n            &nbsp;\r\n            <span>{{ usuario.nombre }} {{ usuario.apellidos }}</span>\r\n        </a>\r\n        <a class="nav-item is-hidden-tablet" (click)="perfil.toggle()">\r\n            \r\n            <figure class="image" style="width:26px;"><img src="assets/{{ usuario.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></figure>\r\n        </a>\r\n        \r\n        \r\n    </nav>\r\n</section>\r\n\r\n<app-hub #hub></app-hub>\r\n<app-perfil #perfil></app-perfil>'},xpOi:function(e,t){e.exports=""},xzeW:function(e,t){e.exports=""},y05F:function(e,t){e.exports='<div class="modal is-active">\r\n\t<div class="modal-background" (click)="cerrar()"></div>\r\n\t<div class="modal-card" style="width:95%; height:100%;">\r\n\t\t<header class="modal-card-head" style="background: #00d1b2;">\r\n\t\t\t<div class="container is-fluid" style="width:100%;">\r\n\t\t\t\t<h1 class="title" style="color:#FFF;">\r\n\t\t\t\t\tClues asignadas a: <b>{{ lista.nombre }}</b>\r\n\t\t\t\t</h1>\r\n\t\t\t</div>\r\n\t\t\t<a class="button  is-primary" style="position:absolute; top:1em; right:1em;" (click)="cerrar()"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n\t\t</header>\r\n\t\t<section class="modal-card-body" style="padding:0px;">\r\n\r\n\t\t\t<div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n\t\t\t\t<br>\r\n\t\t\t\t<span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n\t\t\t\t<br>\r\n\t\t\t\t<br>\r\n\t\t\t</div>\r\n\r\n\t\t\t<table class="table" *ngIf="!cargando" style="font-size: 0.8em;">\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t<th>Clues</th>\r\n\t\t\t\t\t\t<th>Nombre</th>\r\n\t\t\t\t\t\t<th>Fecha</th>\r\n\t\t\t\t\t\t<th>Por usuario</th>\r\n\t\t\t\t\t\t<th></th>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t<tr *ngFor="let item of unidadesMedicas; let i = index">\r\n\t\t\t\t\t\t<td>{{ item.clues }}</td>\r\n\t\t\t\t\t\t<td>{{ item.nombre }}</td>\r\n\t\t\t\t\t\t<td>{{ item.created_at }}</td>\r\n\t\t\t\t\t\t<td>{{ item.usuario_id }}</td>\r\n\t\t\t\t\t\t<td style="width:70px !important;">\r\n\t\t\t\t\t\t\t<span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span>\r\n\t\t\t\t\t\t\t<a (click)="eliminar(item,i)" *ngIf="!item.cargando"><span class="icon"><i class="fa fa-trash"></i></span></a>\r\n\t\t\t\t\t\t</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t\t<tr *ngIf="unidadesMedicas.length == 0">\r\n\t\t\t\t\t\t<td colspan="4" style="vertical-align: middle; color:#888;">No hay unidades m\xe9dicas asiganadas a esta lista.</td>\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t\t<br>\r\n\r\n\t\t</section>\r\n\t\t<footer class="" style="position:relative; padding:1em;background: #FFF; border-top:1px solid #EEE; border-radius:0 0 0.8em 0.8em ">\r\n\r\n\t\t\t<paginacion [total]="total" [paginasTotales]="paginasTotales" [resultadosPorPagina]="resultadosPorPagina" [paginaActual]="paginaActual"\r\n\t\t\t [indicePaginas]="indicePaginas" (onSiguiente)="paginaSiguiente()" (onAnterior)="paginaAnterior()" (onListar)="listar($event)"\r\n\t\t\t *ngIf="total > 0 && total > resultadosPorPagina "></paginacion>\r\n\r\n\r\n\r\n\t\t\t<div class="notification is-dark is-unselectable mensaje-agregar" [ngClass]="{ \'mostrar\': mensajeAgregado.mostrar}" *ngIf="mensajeAgregado.mostrar"\r\n\t\t\t (click)="mensajeAgregado.mostrar=false">\r\n\t\t\t\t<span class="icon"><i class="fa fa-check-circle"></i></span> <span>Agregado</span>\r\n\t\t\t</div>\r\n\r\n\t\t\t<form (submit)="agregar($event)">\r\n\t\t\t\t<div class="control is-grouped">\r\n\t\t\t\t\t<p class="control is-expanded " [ngClass]="{ \'is-loading\': cargandoUnidadesMedicasSinAsignar }">\r\n\t\t\t\t\t\t<span class="select is-fullwidth" >              \r\n\t\t\t\t\t\t\t<select (change)="seleccionarClues($event.target.value)" #cluesSelect  [disabled]="unidadesMedicasSinAsignar.length == 0 || agregandoUnidadMedica">\r\n\t\t\t\t\t\t\t<option value="-1">Seleccione una clues</option>\r\n\t\t\t\t\t\t\t<option value="TODAS" *ngIf="unidadesMedicasSinAsignar.length > 1">Todas las unidades m\xe9dicas</option>\r\n\t\t\t\t\t\t\t<option *ngFor="let um of unidadesMedicasSinAsignar" value="{{ um.clues }}" >{{ um.clues }} - {{ um.nombre }}</option>\r\n\t\t\t\t\t\t</select>\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p class="control">\r\n\t\t\t\t\t\t<button [disabled]="clues == -1 || unidadesMedicasSinAsignar.length == 0" [ngClass]="{ \'is-loading\': agregandoUnidadMedica }" class="button is-primary">\r\n\t\t\t\t\t\t\t<span class="icon"><i class="fa fa-plus"></i></span><span>Agregar</span>\r\n\t\t\t\t\t\t</button>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t</form>\r\n\t\t</footer>\r\n\r\n\t\t<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n\t\t\t<button class="delete" (click)="mensajeError.mostrar = false"></button>\r\n\t\t\t<b>Error:</b> {{ mensajeError.texto }}\r\n\t\t</div>\r\n\t</div>\r\n</div>'},yBPq:function(e,t){e.exports='<administrador-central-menu></administrador-central-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%; ">\r\n    <div class="column is-narrow is-hidden-mobile">\r\n        <administrador-central-menu-lateral></administrador-central-menu-lateral>\r\n    </div>\r\n    <div class="column" style="padding:2em; overflow: scroll;">\r\n      \r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n            <section class="hero is-primary"  >\r\n                \r\n                <div class="hero-body" style="position:relative;">                    \r\n                    \r\n                    <a class="button  is-primary" *ngIf="!cargando" style="position:absolute; top:1em; right:1em;" (click)="exportar()"><span class="icon "><i class="fa fa-file-excel-o"></i></span> <span>Exportar</span></a>\r\n                    <div class="container is-fluid">\r\n                        \r\n                        <h1 class="title">\r\n                            <span class="icon is-medium"><i class="fa fa-line-chart"></i></span> Abasto\r\n                        </h1>\r\n                        \r\n                        <div class="control is-grouped">\r\n                        <p class="control is-expanded">\r\n                            <input class="input is-medium" type="text" placeholder="Buscar por CLUES" [(ngModel)] = "clues" (keyup)="filtrarClues($event)">\r\n                        </p>\r\n                        </div>\r\n                        <div class="columns">                            \r\n                            <div class="column">\r\n                                <label for="jurisdicciones">Proveedores:</label>\r\n                       \r\n                                <p class="control is-expanded">\r\n                                    <span class="select is-fullwidth">\r\n                                    <select #proveedoresSelect (change)="cambioSeleccionProveedor(proveedoresSelect.value)">\r\n                                        <option value="-1">Todos</option>\r\n                                        <option *ngFor="let item of proveedores" value="{{item.id}}">{{ item.nombre }}</option>\r\n                                    </select>\r\n                                    </span>\r\n                                </p>                   \r\n                          \r\n                            </div>\r\n                            <div class="column">\r\n                                <label for="jurisdicciones">Jurisdicciones:</label>\r\n                             \r\n                                <p class="control is-expanded">\r\n                                    <span class="select is-fullwidth">\r\n                                    <select #js id="jurisdicciones"  (change)="cambioSeleccionJurisdiccion(js.value)">\r\n                                        <option value="-1">Todas</option>\r\n                                        <option *ngFor="let item of jurisdicciones" value="{{item.id}}">JS {{ item.numero }} - {{ item.nombre }}</option>\r\n                                    </select>\r\n                                    </span>\r\n                                </p>\r\n                                                       \r\n                               \r\n                            </div>\r\n                        </div>\r\n                        <div *ngIf="jurisdiccionesSeleccionadas.length>0 || proveedoresSeleccionados.length>0">\r\n                            <h1 class="title is-6">Filtro aplicado:</h1>\r\n                            <span class="tag is-dark is-medium" style="margin-bottom:0.5em; margin-right:0.2em;" *ngFor="let item of proveedoresSeleccionados; let i = index">{{ item.nombre_corto }}<button class="delete is-small" (click)="quitarProveedor(i)"></button></span>\r\n                            <span class="tag is-white is-medium" style="margin-bottom:0.5em; margin-right:0.2em;" *ngFor="let item of jurisdiccionesSeleccionadas;  let i = index">JS {{ item.numero }}<button class="delete is-small" (click)="quitarJurisdiccion(i)"></button></span>\r\n                            \r\n                        </div>\r\n                        <nav class="level">\r\n                            <div class="level-left"><h1 class="title is-5">Resultados: <b>{{ total }}</b></h1></div>\r\n                            <div class="level-right">\r\n                                <div class="block">\r\n                                <button class="button " *ngIf="jurisdiccionesSeleccionadas.length>0 || proveedoresSeleccionados.length>0 || clues != \'\'" (click)="clues = \'\'; jurisdiccionesSeleccionadas = []; proveedoresSeleccionados = []; js.value = -1; proveedoresSelect.value= -1 "><span class="icon"><i class="fa fa-times"></i></span> <span>Limpiar filtro</span></button>\r\n                                <button class="button is-primary is-inverted" (click)="listar(1)"><span class="icon"><i class="fa fa-filter"></i></span> <span>Filtrar</span></button>\r\n                                </div>\r\n                            </div>\r\n                        </nav>\r\n                    \r\n                        \r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n            \r\n            <table class="table" *ngIf="!cargando">\r\n                <thead>\r\n                    <tr>\r\n                    <th>Proveedor</th>\r\n                    <th>Clues</th>\r\n                    <th>Nombre</th>\r\n                    <th style="cursor:pointer" (click)="toggleCauses()"><span><abbr title="Causes">CA</abbr></span><span class="icon is-small"><i class="fa" [ngClass]="{ \'fa-sort\': ordenarCauses == \'\', \'fa-sort-asc\': ordenarCauses == \'ASC\', \'fa-sort-desc\': ordenarCauses == \'DESC\' }"></i></span></th>\r\n                    <th style="cursor:pointer" (click)="toggleNoCauses()"><abbr title="No causes">NCA</abbr><span class="icon is-small"><i class="fa" [ngClass]="{ \'fa-sort\': ordenarNoCauses == \'\', \'fa-sort-asc\': ordenarNoCauses == \'ASC\', \'fa-sort-desc\': ordenarNoCauses == \'DESC\' }"></i></span></th>\r\n                    <th style="cursor:pointer" (click)="toggleMaterialCuracion()"><abbr title="Material de curaci\xf3n">MC</abbr><span class="icon is-small"><i class="fa" [ngClass]="{ \'fa-sort\': ordenarMaterialCuracion == \'\', \'fa-sort-asc\': ordenarMaterialCuracion == \'ASC\', \'fa-sort-desc\': ordenarMaterialCuracion == \'DESC\' }"></i></span></th>\r\n                    </tr>\r\n                </thead>\r\n                \r\n                <tbody>\r\n                    <tr *ngFor="let item of lista; let i=index">                        \r\n                        <td style="vertical-align: middle;">{{ item.proveedor }}</td>\r\n                        <td style="vertical-align: middle;">{{ item.clues }}</td>\r\n                        <td style="vertical-align: middle;">{{ item.unidad_medica }}</td>\r\n                        <td style="vertical-align: middle;">{{ item.porcentaje_causes }}</td>\r\n                        <td style="vertical-align: middle;">{{ item.porcentaje_no_causes }}</td>\r\n                        <td style="vertical-align: middle;">{{ item.porcentaje_material_curacion }}</td>\r\n                    </tr>\r\n                    <tr *ngIf="lista.length == 0">\r\n                        <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            \r\n            <paginacion \r\n                [total]="total" \r\n                [paginasTotales]="paginasTotales" \r\n                [resultadosPorPagina]="resultadosPorPagina" \r\n                [paginaActual]="paginaActual" \r\n                [indicePaginas]="indicePaginas"\r\n                (onSiguiente)="paginaSiguiente()" \r\n                (onAnterior)="paginaAnterior()" \r\n                (onListar)="listar($event)" \r\n                *ngIf="total>0 && total > resultadosPorPagina"></paginacion>\r\n           \r\n            \r\n        </div>\r\n        \r\n    </div>\r\n</div>\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style="text-align:center" ><a  class="button is-danger is-inverted" (click)="ultimaPeticion(); mensajeError.mostrar = false"> <span class="icon"><i class="fa fa-refresh"></i></span> <span>Volver a intentar</span></a></p>        \r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n'},yVn3:function(e,t){e.exports='<panel-control-menu></panel-control-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding:2em;">\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n            <section class="hero is-primary">\r\n                <div class="hero-body">\r\n                    <div class="container is-fluid">\r\n                        <h1 class="title">\r\n                            <span class="icon is-medium"><i class="fa fa-database"></i></span>\r\n                            Base de datos\r\n                        </h1>\r\n                        \r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <section class="section">            \r\n                <div style="text-align:center;"><a class="button is-primary is-medium" [ngClass]="{ \'is-loading\': exportando}" (click)="exportar()"><span class="icon"><i class="fa fa-download"></i></span> <span>Respaldar base de datos</span></a></div>\r\n                <br>\r\n                <hr>\r\n                <br>\r\n                <div style="text-align:center;"><a class="button is-warning is-medium" [ngClass]="{ \'is-loading\': enviandoDatoss}" (click)="mostrarModalSubirArchivoSQL = true; archivoSubido = false;" ><span class="icon"><i class="fa fa-upload"></i></span> <span>Restaurar base de datos</span></a></div>\r\n                <br>\r\n                <p><strong>Importante:</strong> esta acci\xf3n reemplazar\xe1 toda la informaci\xf3n de la base de datos; realice este procedimiento solo si sabe lo que est\xe1 haciendo, por favor aseg\xfarese de <a (click)="exportar()">realizar un respaldo</a> antes de realizar esta acci\xf3n para evitar cualquier perdida de informaci\xf3n.</p>\r\n            </section>\r\n        </div>\r\n        \r\n       \r\n       \r\n    </div>\r\n</div>\r\n\r\n\r\n<div class="modal"  [ngClass]="{ \'is-active\': mostrarModalSubirArchivoSQL }">\r\n    <div class="modal-background" (click)="mostrarModalSubirArchivoSQL =!mostrarModalSubirArchivoSQL"></div>\r\n    <div class="modal-card">\r\n      <header class="modal-card-head">\r\n        <p class="modal-card-title"><span class="icon"><i class="fa fa-cloud-upload"></i></span> Subir respaldo de la base datos</p>\r\n        <button class="delete" (click)="mostrarModalSubirArchivoSQL = !mostrarModalSubirArchivoSQL; progreso = 0"></button>\r\n      </header>\r\n      <section class="modal-card-body">    \r\n            <div class="notification is-danger" *ngIf="mensajeErrorSync!=\'\'"><span class="icon"><i class="fa fa-exclamation-circle"></i></span> {{ mensajeErrorSync }}</div>\r\n\r\n            <div class="field" [ngClass]="{ \'is-hidden\' : enviandoDatos || archivoSubido }">\r\n                    <label for="sql" class="label" [ngClass]="{ \'is-danger\': errores.archivo != null }">Elige el archivo .sql</label>                         \r\n                    <input type="file"  class="input-file" #archivoInput style="width:100%" name="sql" is="sql" (change)="fileChange($event)"  accept=".sql">\r\n            </div>\r\n\r\n            <div *ngIf="enviandoDatos || archivoSubido">\r\n                    <h1 class="subtitle" *ngIf="enviandoDatos">Subiendo respaldo...</h1>\r\n                    <h1 class="subtitle" *ngIf="archivoSubido "><span class="icon"><i class="fa fa-check-circle"></i></span> \xa1El respaldo se ha subido exitosamente!</h1>\r\n                    <progress class="progress is-primary" value="{{ progreso }}" max="100">{{ progreso}}%</progress>\r\n                </div>\r\n                  \r\n          \x3c!--\r\n         \r\n          <div class="field" [ngClass]="{ \'is-hidden\' : enviandoDatos || archivoSubido }">\r\n              <label for="sync" class="label" [ngClass]="{ \'is-danger\': errores.archivo != null }">Elige el archivo .sql</label>            \r\n              <input class="input-file" type="file" #archivoInput  name="sql" id="sql" style="width:100%" [disabled]="archivoSubido" (change)="fileChange($event)" accept=".sql">            \r\n              <p class="help is-danger" *ngIf="errores.archivo == \'required\'">Debe elegir un archivo.</p>\r\n              <p class="help is-danger" *ngIf="errores.archivo == \'mimetypes\'">El tipo de archivo no es valido, verifique que tenga las siguientes extensiones: .zip</p>\r\n          </div>\r\n          --\x3e\r\n      </section>\r\n      <footer class="modal-card-foot">\r\n            <a class="button is-primary" [ngClass]="{ \'is-disabled\' : enviandoDatos || !archivo  }" *ngIf="!archivoSubido" (click)="adjuntar()">Importar</a>  \r\n        \x3c!--<a class="button is-primary" [ngClass]="{ \'is-disabled\' : !archivo || enviandoDatos  }" *ngIf="!archivoSubido" (click)="importar()">Importar</a>          --\x3e\r\n          <a class="button" [ngClass]="{ \'is-disabled\' : enviandoDatos  }" (click)="mostrarModalSubirArchivoSQL = !mostrarModalSubirArchivoSQL">Cerrar</a>      \r\n      </footer>\r\n    </div>\r\n  </div>\r\n\r\n\r\n\r\n'},yhh4:function(e,t){e.exports=""},ypsv:function(e,t){e.exports='<admision-menu></admision-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:100%; ">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <admision-menu-lateral></admision-menu-lateral>\r\n    </div>\r\n    <div class="column" style="padding:2em;">\r\n        <div style="background: #FFF; border-radius: 1em; overflow: hidden;">\r\n            <section class="hero" [ngClass] = " {\'is-dark\': busquedaActivada, \'is-primary\': !busquedaActivada } " >\r\n                \r\n                <div class="hero-body" style="position:relative;">\r\n                    <a class="button  is-dark" *ngIf="busquedaActivada" style="position:absolute; top:1em; right:1em;" (click)="busquedaActivada=false;searchBox.value=\'\';resultadosBusqueda=[]"><span class="icon "><i class="fa fa-close"></i></span></a>\r\n                    <a class="button  is-dark" *ngIf="busquedaActivada" style="position:absolute; top:1em; right:3.5em;" (click)="listarBusqueda(searchBox.value,1)"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                    <a class="button  is-primary" *ngIf="!busquedaActivada" style="position:absolute; top:1em; right:1em;" (click)="listar(1)"><span class="icon "><i class="fa fa-refresh"></i></span></a>\r\n                    <div class="container is-fluid">\r\n                        \r\n                        <h1 class="title" *ngIf="!busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-user"></i></span> Lista de Pacientes Ingresados\r\n                        </h1>\r\n                        <h1 class="title" *ngIf="busquedaActivada">\r\n                            <span class="icon is-medium"><i class="fa fa-search"></i></span> B\xfasqueda \r\n                        </h1>\r\n                        <div class="control is-grouped">\r\n                        <p class="control is-expanded">\r\n                            <input class="input is-medium" type="text" placeholder="Buscar" #searchBox id="search-box" (keyup)="buscar(searchBox.value)">\r\n                        </p>\r\n                        \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class="is-fullwidth has-text-centered" *ngIf="cargando">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n        \r\n            <table class="table" *ngIf="!cargando">\r\n                <thead>\r\n                    <tr>\r\n                    <th></th>\r\n                    <th><abbr title="Paciente ID">IDx</abbr></th>\r\n                    <th>Nombre</th>\r\n                    <th>Fecha Nacimiento</th>\r\n                    <th>Localidad (Municipio)</th>\r\n                    <th>Fecha Ingreso</th>\r\n                    <th style="text-align:center;">Opciones</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody  *ngIf="!busquedaActivada">\r\n                    <tr *ngFor="let item of pacientesEgreso; let i=index">\r\n                        <th><a routerLink="/pacientes/modulo/ingreso/{{item.id}}"><img style="min-width: 1.5em; width:2em;" src="assets/{{ item.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></a></th>\r\n                        <th style="vertical-align: middle;"><a routerLink="/pacientes/modulo/egreso/{{item.id}}">{{ item.id }}</a></th>\r\n                        <td style="vertical-align: middle;"><a routerLink="/pacientes/modulo/egreso/{{item.id}}">{{ item.nombre }}</a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/pacientes/modulo/egreso/{{item.id}}">{{ item.fecha_nacimiento }}</a></td>\r\n                        <td style="vertical-align: middle;" *ngIf="item.localidad"><a routerLink="/pacientes/modulo/egreso/{{item.id}}">{{item.localidad.nombre }} ( {{item.localidad.municipio.nombre }} ) </a></td>\r\n                        <td style="vertical-align: middle;" *ngIf="!item.localidad"><a routerLink="/pacientes/modulo/egreso/{{item.id}}">DESCONOCIDO</a></td>\r\n\r\n                        <td style="vertical-align: middle;" *ngIf="item.ingresoactivos.length == 1"><a routerLink="/pacientes/modulo/egreso/{{item.id}}">{{item.ingresoactivos[0].fecha_hora_ingreso}} </a></td>\r\n                        <td style="vertical-align: middle;" *ngIf="item.ingresoactivos.length == 0"><a routerLink="/pacientes/modulo/egreso/{{item.id}}"> </a></td>\r\n                        \r\n                        <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando" class="is-primary" routerLink="/pacientes/modulo/egreso/{{item.id}}"><span class="icon"><i class="fa fa-hospital-o"></i></span></a></td>\r\n                        \r\n                    </tr>\r\n                    <tr *ngIf="pacientesEgreso.length == 0">\r\n                        <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n                <tbody *ngIf="busquedaActivada">\r\n                    <tr *ngFor="let item of resultadosBusqueda; let i=index">\r\n                    <th><a routerLink="/pacientes/modulo/ingreso/{{item.id}}"><img style="min-width: 1.5em; width:2em;" src="assets/{{ item.avatar || \'avatar-unknow\' }}.svg" alt="avatar"></a></th>\r\n                        <th style="vertical-align: middle;"><a routerLink="/pacientes/modulo/ingreso/{{item.id}}">{{ item.id }}</a></th>\r\n                        <td style="vertical-align: middle;"><a routerLink="/pacientes/modulo/ingreso/{{item.id}}">{{ item.nombre }}</a></td>\r\n                        <td style="vertical-align: middle;"><a routerLink="/pacientes/modulo/ingreso/{{item.id}}">{{ item.fecha_nacimiento }}</a></td>\r\n                        <td style="vertical-align: middle;" *ngIf="item.localidad"><a routerLink="/pacientes/modulo/ingreso/{{item.id}}">{{item.localidad.nombre }} ( {{item.localidad.municipio.nombre }} ) </a></td>\r\n                        <td style="vertical-align: middle;" *ngIf="item.ingresoactivos.length == 1"><a routerLink="/pacientes/modulo/ingreso/{{item.id}}">{{item.ingresoactivos[0].fecha_hora_ingreso}} </a></td>\r\n\r\n                        \r\n                        <td style="vertical-align: middle;" *ngIf="!item.localidad"><a routerLink="/pacientes/modulo/ingreso/{{item.id}}">DESCONOCIDO</a></td>\r\n                        <td style="vertical-align: middle;" *ngIf="item.ingresoactivos.length == 0"><a routerLink="/pacientes/modulo/ingreso/{{item.id}}"> </a></td>\r\n                        <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando" class="is-primary" routerLink="/pacientes/modulo/ingreso/{{item.id}}"><span class="icon"><i class="fa fa-hospital-o"></i></span></a></td>\r\n                        \r\n                    \r\n                    </tr>\r\n\r\n                    <tr *ngIf="resultadosBusqueda.length == 0 && busquedaActivada">\r\n                        <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            \r\n            <paginacion \r\n                [total]="total" \r\n                [paginasTotales]="paginasTotales" \r\n                [resultadosPorPagina]="resultadosPorPagina" \r\n                [paginaActual]="paginaActual" \r\n                [indicePaginas]="indicePaginas"\r\n                (onSiguiente)="paginaSiguiente()" \r\n                (onAnterior)="paginaAnterior()" \r\n                (onListar)="listar($event)" \r\n                *ngIf="total>0 && total > resultadosPorPagina && !busquedaActivada"></paginacion>\r\n            <paginacion \r\n                [total]="totalBusqueda" \r\n                [paginasTotales]="paginasTotalesBusqueda" \r\n                [resultadosPorPagina]="resultadosPorPaginaBusqueda" \r\n                [paginaActual]="paginaActualBusqueda" \r\n                [indicePaginas]="indicePaginasBusqueda"\r\n                (onSiguiente)="paginaSiguienteBusqueda(searchBox.value)" \r\n                (onAnterior)="paginaAnteriorBusqueda(searchBox.value)" \r\n                (onListar)="listarBusqueda(searchBox.value,$event)" \r\n                *ngIf="totalBusqueda > 0 && totalBusqueda > resultadosPorPaginaBusqueda && busquedaActivada"></paginacion>\r\n           \r\n           \r\n            \r\n        </div>\r\n    </div>        \r\n   \r\n</div>\r\n\r\n<div class="notification is-danger" style="position:fixed; left:1em;  bottom:1em;" *ngIf="mensajeError.mostrar">\r\n    <button class="delete" (click)="mensajeError.mostrar = false"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style="text-align:center" ><a  class="button is-danger is-inverted" (click)="ultimaPeticion(); mensajeError.mostrar = false"> <span class="icon"><i class="fa fa-refresh"></i></span> <span>Volver a intentar</span></a></p>        \r\n</div>\r\n\r\n<div class="notification is-success" style="position:fixed; left:1em;  bottom:1em; width: auto" *ngIf="mensajeExito.mostrar">       \r\n    <button class="delete" (click)="mensajeExito.mostrar = false"></button>\r\n    <p><span class="icon" style="margin-right: 0.5em;"><i class="fa fa-check-circle"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style="text-align: center;"><small >Este mensaje desaparecer\xe1 en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n'},ywVL:function(e,t){e.exports='<menu-farmacia></menu-farmacia>\r\n\r\n<div style="height:50px;"></div>\r\n<section style="padding: 1em;">\r\n  <div class="control is-grouped">\r\n    <p class="control is-expanded">\r\n        <input class="input is-medium" type="text" placeholder="Buscar" [(ngModel)] = "busqueda" id="search-box">\r\n    </p>\r\n    <p class="control">\r\n        <a class="button is-medium is-primary is-inverted" [ngClass]="{ \'is-disabled\': busqueda==\'\'}" (click)="busqueda=\'\'">\r\n        <span class="icon"><i class="fa fa-close"></i></span>\r\n        </a>\r\n    </p>\r\n  </div>\r\n\r\n</section>\r\n<section style="padding: 1em;">\r\n    <section class="contenedor columns is-multiline is-mobile">\r\n        <div class="column is-1-desktop is-2-tablet is-3-mobile" *ngFor="let item of accesosDirectosAutorizados | buscarModulo: busqueda">\r\n            <a href="#" title="{{ item.titulo}}" class="item" routerLink="{{item.url}}"  routerLinkActive="active">\r\n                <figure class="image " style="height: auto; width: 100%; ">\r\n                    <img src="{{ item.icono }}" alt="{{item.titulo}}">                            \r\n                </figure>\r\n                <span class="is-hidden-mobile">{{ item.titulo}}</span>\r\n                <span class="is-hidden-tablet is-hidden-desktop"><small>{{ item.titulo}}</small></span>\r\n            </a>\r\n        </div>\r\n    </section>\r\n    <hr>\r\n    <section class="contenedor columns is-multiline is-mobile">\r\n        <div class="column is-1-desktop is-2-tablet is-3-mobile" *ngFor="let item of modulosAutorizados | buscarModulo: busqueda">\r\n            <a href="#" title="{{ item.titulo}}" style="position: relative;" class="item" routerLink="{{item.url}}" routerLinkActive="active">\r\n                \r\n                <figure class="image " style="height: auto; width: 100%; ">\r\n                    <img src="{{ item.icono }}" alt="{{item.titulo}}">                            \r\n                </figure>\r\n                <span class="is-hidden-mobile">{{ item.titulo}}</span>\r\n                <span class="is-hidden-tablet is-hidden-desktop"><small>{{ item.titulo}}</small></span>\r\n                <span *ngIf="item.badge>0" class="tag is-danger" style="position:absolute; top:0px; right:0px;">{{ item.badge }}</span>\r\n            </a>\r\n        </div>\r\n    </section>\r\n</section>\r\n\r\n'},z2eD:function(e,t){e.exports='<formulario #ctrl URL="tipo-personal" titulo="Tipo Personal / Almacen" [dato]="dato"></formulario>\r\n<app-menu-catalogo></app-menu-catalogo>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns" style="height:90%;  padding-top: 1em;">\r\n    <div class="column is-one-quarter is-hidden-mobile">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding: 0em 2em 0em 0em;">\r\n        \x3c!-- formulario --\x3e\r\n        <form name="form" novalidate [formGroup]="dato" (ngSubmit)="ctrl.enviar()" >\r\n            <div style="background: #FFF; overflow: hidden;">\r\n                <section class="hero is-primary">\r\n                    <div class="hero-body">\r\n                        \x3c!-- Opciones  --\x3e\r\n                        <formulario-opciones \r\n                            [ctrl]="ctrl" \r\n                            class="control is-grouped"\r\n                            style="position:absolute; top:8em; right:3em;">                           \r\n                        </formulario-opciones>  \r\n                        \r\n\r\n                        <div class="container is-fluid">\r\n                            <h1 class="title">\r\n                                <span *ngIf="!ctrl.cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                <span *ngIf="ctrl.cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>                                {{ctrl.moduloTitulo}} tipo de personal\r\n                            </h1>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>                    &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n                <section class="section">\r\n\r\n\r\n\r\n                    \x3c!-- cargar los catalogos que se requieran parametro 1 modelo donde se guarda el catalogo, parametro 2 ruta de la api --\x3e\r\n          \r\n                    \r\n                    <div class="field">\r\n                        <label class="label">Nombre:</label>\r\n                        <p class="control is-expanded  has-icon has-icon-right">\r\n                            <input class="input" autofocus type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'nombre\').hasError(\'required\')}" placeholder="Nombre"\r\n                                formControlName="nombre">\r\n                            <span class="icon is-small" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">\r\n                                <i class="fa fa-warning"></i>\r\n                            </span>\r\n                            <span class="help is-danger" *ngIf="ctrl.dato.get(\'nombre\').hasError(\'required\')">Este campo es requerido.</span>\r\n                        </p>\r\n                    </div>\r\n                        \r\n                    <hr>\r\n                    \x3c!-- tipo-personals_metadatos --\x3e\r\n                    <div class="">\r\n                        <strong>Atributos del tipo de personal</strong>\r\n                        <br>\r\n                        <table class="table" formArrayName="tipos_personal_metadatos">\r\n                            <thead>\r\n                                <tr>\r\n                                    <th>Nombre</th>\r\n                                    <th>Descripci\xf3n</th>\r\n                                    <th>Tipo</th>\r\n                                    <th>Longitud</th>\r\n                                    <th>Requerido</th>\r\n                                    <th></th>\r\n                                </tr>\r\n                            </thead>\r\n                            <tbody>\r\n                                <tr *ngFor="let item of ctrl.dato.controls.tipos_personal_metadatos.controls; let i=index" [formGroupName]="i">\r\n                                    <th style="vertical-align: middle;">\r\n                                        <input class="input" type="text" placeholder="Nombre" formControlName="campo">\r\n                                    </th>\r\n                                    <td style="vertical-align: middle;">\r\n                                        <input class="input" type="text" placeholder="Descripcion" formControlName="descripcion">\r\n                                    </td>\r\n                                    <td style="vertical-align: middle;">\r\n                                        <div class="select">\r\n                                            <select class="select" formControlName="tipo">\r\n                                                <option *ngFor="let val of tipos" value="{{val.id}}">{{ val.nombre }}</option>\r\n                                            </select>\r\n                                        </div>\r\n                                    </td>\r\n                                    <td style="vertical-align: middle;">\r\n                                        <input class="input" type="number" min="1" placeholder="Longitud" formControlName="longitud">\r\n                                    </td>\r\n                                    <td style="vertical-align: middle;">\r\n                                        <div class="b-checkbox control is-expanded has-icon has-icon-right" if="ctrl.dato.get(\'tipos_personal_metadatos\').value[i]">\r\n                                            <input type="checkbox" id="requerido{{i}}"\r\n                                                [checked]="ctrl.dato.get(\'tipos_personal_metadatos\').value[i]?.requerido == 1 ? true : false"\r\n                                                class="styled" formControlName="requerido">\r\n                                            <label for="requerido{{i}}">  Es requerido? \r\n                                            </label>\r\n                                        </div>\r\n                                    </td>\r\n                                    <td style="vertical-align: middle;">\r\n                                        <a class="is-danger" (click)="ctrl.quitar_form_array(ctrl.dato.controls.tipos_personal_metadatos, i)">\r\n                                            <span class="icon"><i class="fa fa-trash-o"></i></span>\r\n                                        </a>\r\n                                    </td>\r\n                                </tr>\r\n                            </tbody>\r\n                            <tfoot>\r\n                                <tr>\r\n                                    <th colspan="7">\r\n                                        <a class="button is-primary is-outlined is-fullwidth" (click)="ctrl.agregar_form_array(ctrl.dato.controls.tipos_personal_metadatos.controls, form_tipos_personal_metadatos)">\r\n                                            <span class="icon"><i class="fa fa-plus"></i></span>&nbsp; Agregar Campo\r\n                                        </a>\r\n                                    </th>\r\n                                </tr>\r\n                            </tfoot>\r\n                        </table>\r\n                    </div>\r\n\r\n\r\n\r\n                </section>\r\n            </div>\r\n        </form>\r\n    </div>\r\n</div>'},z860:function(e,t){e.exports='<listar #ctrl URL="personal-clues?clues={{clues_actual}}" titulo="Personal Clues"></listar>\r\n<panel-control-menu></panel-control-menu>\r\n<div style="height:50px;"></div>\r\n<div class="contenedor columns " style="height:95%; ">\r\n    <div class="column is-one-quarter is-hidden-mobile" style="overflow: scroll; overflow-x: hidden; height: 100%;">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class="column" style="padding:2em; height: 100%;">\r\n        <div style="background: #FFF; border-radius: 1em;height: 100%;" >\r\n\r\n            \x3c!-- Opciones y busqueda --\x3e\r\n            <tabla-opciones \r\n                #opciones\r\n                [ctrl]="ctrl" \r\n                [nombre]="\'Personal Clues\'" \r\n                [icono]="\'fa fa-user-md\'"\r\n                [ruta]="\'personal-clues\'"\r\n                [ruta_pdf]="\'configuracion/lista-personal.js\'"\r\n                style="overflow: scroll; overflow-x: hidden; height: 20%;"></tabla-opciones>\r\n            \r\n            <div class="is-fullwidth has-text-centered" *ngIf="opciones.cargandoPdf" style="height: 70%">\r\n                <br>\r\n                <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Generando PDF...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n\r\n            <div style="overflow: scroll; overflow-x: hidden; height: 70%;">\r\n                <table class="table" *ngIf="!ctrl.cargando && !opciones.cargandoPdf">\r\n                    <thead>\r\n                        <tr>\r\n                            <th><abbr title="Usuario ID">ID</abbr></th> \r\n                            <th>Tipo personal</th> \r\n                            <th>Clues</th>                      \r\n                            <th>Nombre</th>\r\n                            <th>Celular</th>\r\n                            <th>Email</th>\r\n                            <th style="text-align:center;">Opciones</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody *ngIf="!ctrl.busquedaActivada">\r\n                        <tr *ngFor="let item of ctrl.dato; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/configuracion/personal-clues/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/configuracion/personal-clues/editar/{{item.id}}">{{ item.tipos_personal ? item.tipos_personal.nombre : \'NO TIENE\' }} </a></td>\r\n                            <th style="vertical-align: middle;"><a routerLink="/configuracion/personal-clues/editar/{{item.id}}">{{ item.clues }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/configuracion/personal-clues/editar/{{item.id}}">{{ item.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/configuracion/personal-clues/editar/{{item.id}}">{{ item.celular }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/configuracion/personal-clues/editar/{{item.id}}">{{ item.email }} </a></td>\r\n                            <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n                        <tr *ngIf="ctrl.dato.length == 0">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">Esta lista est\xe1 vac\xeda.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                    <tbody *ngIf="ctrl.busquedaActivada && ctrl.resultadosBusqueda.length > 0">\r\n                        <tr *ngFor="let item of ctrl.resultadosBusqueda; let i=index">\r\n                            <th style="vertical-align: middle;"><a routerLink="/configuracion/personal-clues/editar/{{item.id}}">{{ item.id }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/configuracion/personal-clues/editar/{{item.id}}">{{ item.tipos_personal ? item.tipos_personal.nombre : \'NO TIENE\' }} </a></td>\r\n                            <th style="vertical-align: middle;"><a routerLink="/configuracion/personal-clues/editar/{{item.id}}">{{ item.clues }}</a></th>\r\n                            <td style="vertical-align: middle;"><a routerLink="/configuracion/personal-clues/editar/{{item.id}}">{{ item.nombre }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/configuracion/personal-clues/editar/{{item.id}}">{{ item.celular }} </a></td>\r\n                            <td style="vertical-align: middle;"><a routerLink="/configuracion/personal-clues/editar/{{item.id}}">{{ item.email }} </a></td>                        <td style="vertical-align: middle;" class="has-text-centered"><span class="icon " *ngIf="item.cargando"><i class="fa fa-circle-o-notch fa-spin"></i></span><a *ngIf="!item.cargando"\r\n                                    class="is-danger" (click)="ctrl.eliminar(item, i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a></td>\r\n\r\n                        </tr>\r\n\r\n                        <tr *ngIf="ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada">\r\n                            <td colspan="5" style="vertical-align: middle; color:#888;">No se encontraron resultados.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            \x3c!-- Paginaci\xf3n para la lista  --\x3e\r\n            <paginacion [ctrl]="ctrl"></paginacion>\r\n        </div>\r\n\r\n    </div>\r\n</div>'},zRzf:function(e,t){e.exports='<aside class="menu" style="padding-left: 1em; margin-top: -3em; padding: 10px; overflow:auto; display:block" \r\n[style.maxHeight.px]="tamano-50">\r\n    <div *ngFor="let item of menuAutorizado">\r\n        <br>\r\n        <p class="menu-label">{{ item.titulo }}</p>\r\n        <ul class="menu-list">\r\n            <li *ngFor="let modulo of item.modulos">\r\n                <a routerLink="{{ modulo.url }}" routerLinkActive="is-active">\r\n                    <span class="icon" ><img src="{{ modulo.icono }}"></span>&nbsp;&nbsp;<span>{{ modulo.titulo }}</span>\r\n                </a>\r\n            </li>    \r\n        </ul>\r\n    </div>\r\n        \r\n</aside>'},zT6u:function(e,t){e.exports='<formulario #ctrl URL="movimientos" titulo="Salida  de almac\xe9n" [dato]="dato"></formulario>\r\n<menu-farmacia [modulo]="\'Salida de almac\xe9n\'" [icono]="\'assets/icono-salidas.svg\'" [url]="\'/almacen/salidas-estandar\'"></menu-farmacia>\r\n<div style="height:50px;"></div>\r\n<form name="form" novalidate [formGroup]="dato">\r\n    <div class="contenedor columns " style="height:85%">\r\n        <div class="column is-one-third" style="padding:1em;">\r\n            <div style="background: #FFF; border-radius: 1em; ">\r\n                <section class="hero is-primary">\r\n                    <h1 *ngIf="!tieneid" class="title" style="margin:0.5em; ">\r\n                        <span class="icon is-medium">\r\n                            <i class="fa fa-file-text"></i>\r\n                        </span> {{ctrl.moduloTitulo}}\r\n                    </h1>\r\n                    <h1 *ngIf="tieneid" class="title" style="margin:0.5em; ">\r\n                        <span class="icon is-medium">\r\n                            <i class="fa fa-file-text"></i>\r\n                        </span> Folio {{ctrl.id}}\r\n                    </h1>\r\n\r\n\r\n                </section>\r\n                <div style="padding: 1em;">\r\n\r\n                    <h3 class="title">\r\n                        <i class="fa fa-file"></i>\r\n                         Datos del movimiento\r\n                    </h3>\r\n                    <div >\r\n                        <div class="field">\r\n                            <label class="label">Fecha del movimiento:</label>\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n\r\n\r\n                                <input class="input" [value]="fecha_actual" [(ngModel)]=\'fecha_movimiento\' formControlName="fecha_movimiento" ngui-datetime-picker\r\n                                    [min-date]="MinDate" [max-date]="MaxDate" date-only="true" [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.get(\'fecha_movimiento\').hasError(\'required\') && ctrl.dato.get(\'fecha_movimiento\').touched}"\r\n                                    placeholder="YYYY-MM-DD" readonly/>\r\n\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'fecha_movimiento\').hasError(\'required\') && ctrl.dato.get(\'fecha_movimiento\').touched">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'fecha_movimiento\').hasError(\'required\') && ctrl.dato.get(\'fecha_movimiento\').touched">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div class="field">\r\n                            <label class="label">Observaciones:</label>\r\n                            <p class="control is-expanded  has-icon has-icon-right">\r\n                                <textarea class="textarea" type="text" [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.get(\'observaciones\').hasError(\'required\') && ctrl.dato.get(\'observaciones\').touched}"\r\n                                    placeholder="Observaciones" formControlName="observaciones"></textarea>\r\n                                <span class="icon is-small" *ngIf="ctrl.dato.get(\'observaciones\').hasError(\'required\') && ctrl.dato.get(\'observaciones\').touched">\r\n                                    <i class="fa fa-warning"></i>\r\n                                </span>\r\n                                <span class="help is-danger" *ngIf="ctrl.dato.get(\'observaciones\').hasError(\'required\') && ctrl.dato.get(\'observaciones\').touched">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div class="control" *ngIf="mostrarCancelado">\r\n                            \x3c!-- *ngIf --\x3e\r\n                            <div class="field">\r\n                                <div class="b-checkbox control is-expanded  has-icon has-icon-right">\r\n\r\n                                    <input type="checkbox" id="cancelado" class="styled" [checked]="ctrl.dato.get(\'cancelado\').value == \'1\' ? true : false" (change)="ctrl.dato.get(\'cancelado\').patchValue(ctrl.dato.get(\'cancelado\').value == \'1\' ? \'0\' : \'1\')">\r\n                                    <label for="cancelado">  Cancelado\r\n                                    </label>\r\n                                </div>\r\n                            </div>\r\n                            <div class="field">\r\n                                <label class="label">Observaciones de cancelaci\xf3n:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <textarea class="textarea" autofocus type="text" [ngClass]="{\'is-danger\': ctrl.dato.get(\'observaciones_cancelacion\').hasError(\'required\') && ctrl.dato.get(\'observaciones_cancelacion\').touched}"\r\n                                        placeholder="Observaciones de cancelacion" formControlName="observaciones_cancelacion"></textarea>\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'observaciones_cancelacion\').hasError(\'required\') && ctrl.dato.get(\'observaciones_cancelacion\').touched">\r\n                                        <i class="fa fa-warning"></i>\r\n                                    </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'observaciones_cancelacion\').hasError(\'required\') && ctrl.dato.get(\'observaciones_cancelacion\').touched">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                    <a id="actualizar" (click)="ctrl.cargarCatalogo(\'servicios\',\'mis-servicios\');"></a>\r\n                    <hr id="catalogos" (click)="ctrl.cargarCatalogo(\'turnos\', \'mis-turnos\'); "> \r\n\r\n                    <div >\r\n                        <span class="icon is-small" *ngIf="!ctrl.dato.get(\'movimiento_metadato\')">\r\n                            <i class="fa fa-warning"></i>\r\n                        </span>\r\n                        <nav class="panel"  formGroupName="movimiento_metadato" *ngIf="ctrl.dato.get(\'movimiento_metadato\')">\r\n\r\n                            <div class="field">\r\n                                <label class="label">Turno:</label>\r\n                                \x3c!-- NO carga los turnos --\x3e\r\n                                <div class="field" *ngIf="!ctrl.turnos || ctrl.cargando || cargando">\r\n                                    <span *ngIf="ctrl.cargando" class="tag is-primary is-medium">Cargando turnos. <i class="fa fa-refresh fa-spin" aria-hidden="true"></i></span>\r\n                                    <span *ngIf="!ctrl.cargando"class="tag is-medium">\r\n                                        <a class="has-icon" id="actualizar"  *ngIf="!ctrl.cargando" (click)="ctrl.cargarCatalogo(\'turnos\', \'mis-turnos\'); ">\r\n                                            No se pudieron cargar los turnos. &nbsp; <i class="fa fa-refresh" aria-hidden="true"></i>\r\n                                        </a>\r\n                                    </span>                                    \r\n                                    <p></p>\r\n                                </div>\r\n                                \x3c!-- SI carga los turnos --\x3e\r\n                                <p  *ngIf="ctrl.turnos && !ctrl.cargando && !cargando" class="control is-expanded  has-icon has-icon-right">\r\n                                    <select class="select" name="turno" formControlName="turno_id" \r\n                                    [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.get(\'movimiento_metadato\').get(\'turno_id\').hasError(\'required\')}">\r\n                                        <option value="">Seleccione un turno.</option>\r\n                                        <option *ngFor="let item of ctrl.turnos.clues_turnos" value="{{item.id}}">{{ item.nombre }}</option>\r\n                                    </select>\r\n                                    <span class="help is-danger" *ngIf="ctrl.turnos.clues_turnos.length == 0">\r\n                                        Contacte al administrador. No hay turnos disponibles.\r\n                                    </span>\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'turno_id\').hasError(\'required\')">\r\n                                        <i class="fa fa-warning"></i>\r\n                                    </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'turno_id\').hasError(\'required\') &&  ctrl.turnos.clues_turnos.length > 0">\r\n                                        Este campo es requerido.\r\n                                    </span>\r\n                                </p>\r\n                            </div>\r\n                            \x3c!-- SERVICIOS --\x3e\r\n                            <div class="field">\r\n                                <label class="label">Servicio que recibe:</label>\r\n                                \x3c!-- NO carga los SERVICIOS --\x3e\r\n                                <div class="field" *ngIf="!ctrl.servicios || ctrl.cargando || cargando">\r\n                                    <span *ngIf="ctrl.cargando" class="tag is-primary is-medium">Cargando servicios. <i class="fa fa-refresh fa-spin" aria-hidden="true"></i></span>\r\n                                    <span *ngIf="!ctrl.cargando"class="tag is-medium">\r\n                                        <a id="actualizar" *ngIf="!ctrl.cargando" (click)="ctrl.cargarCatalogo(\'servicios\', \'mis-servicios\'); ">\r\n                                            No se pudieron cargar los servicios. &nbsp; <i class="fa fa-refresh is-medium" aria-hidden="true"></i>\r\n                                        </a>\r\n                                    </span>\r\n                                </div>\r\n                                \x3c!-- SI carga los SERVICIOS --\x3e\r\n                                <p *ngIf="ctrl.servicios &&!ctrl.cargando && !cargando" class="control is-expanded  has-icon has-icon-right">\r\n                                    <select class="select" name="servicio_id" formControlName="servicio_id" [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.get(\'movimiento_metadato\').get(\'servicio_id\').hasError(\'required\')}">\r\n                                        <option value="">Seleccione un servicio.</option>\r\n                                        <option *ngFor="let item of ctrl.servicios.clues_servicios" value="{{item.id}}">{{ item.nombre }}</option>\r\n                                    </select>\r\n                                    <span class="help is-danger" *ngIf="ctrl.servicios.clues_servicios.length == 0">\r\n                                        Contacte al administrador. No hay servicios disponibles.\r\n                                    </span>\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'servicio_id\').hasError(\'required\')">\r\n                                        <i class="fa fa-warning"></i>\r\n                                    </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'servicio_id\').hasError(\'required\') && ctrl.servicios.clues_servicios.length > 0">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n\r\n\r\n                            <div class="field">\r\n                                <label class="label">Persona que recibe:</label>\r\n                                <p class="control is-expanded  has-icon has-icon-right">\r\n                                    <input class="input" type="text" [ngClass]="{\'is-disabled\': tieneid, \'is-danger\': ctrl.dato.get(\'movimiento_metadato\').get(\'persona_recibe\').hasError(\'required\')}"\r\n                                        placeholder="Persona que recibe" formControlName="persona_recibe">\r\n                                    <span class="icon is-small" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'persona_recibe\').hasError(\'required\')">\r\n                                        <i class="fa fa-warning"></i>\r\n                                    </span>\r\n                                    <span class="help is-danger" *ngIf="ctrl.dato.get(\'movimiento_metadato\').get(\'persona_recibe\').hasError(\'required\')">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n\r\n                        </nav>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \x3c!-- apartado de insumos --\x3e\r\n        <div class="column" style="padding:1em;">\r\n            <div style="background: #FFF; border-radius: 1em; ">\r\n                <section class="hero is-primary">\r\n                    <div class="hero-body">\r\n                        <nav class="level">\r\n                            <div class="level-left"></div>\r\n                            \x3c!-- Right side \r\n                                (click)="ctrl.regresar()"--\x3e\r\n                            <div class="level-right">\r\n                                <p class="level-item"><a class="button is-primary" routerLink="/almacen/salidas-estandar">Regresar</a></p>\r\n                                <p class="level-item" *ngIf="tieneid"><a class="button is-primary" routerLink="/almacen/salidas-estandar/nuevo" *ngIf="!ctrl.busquedaActivada"><i class="fa fa-plus" aria-hidden="true"></i>&nbsp;<span>Nueva salida</span></a></p>\r\n                                <p class="level-item" *ngIf="tieneid"><a *ngIf="tieneid" class="button is-primary" (click)="array_servicios = ctrl.servicios; array_turnos = ctrl.turnos; imprimir();"><span class="icon"><i class="fa fa-print"></i></span></a></p>\r\n                                <p class="level-item" *ngIf="!tieneid">\r\n                                        <button class="button is-primary" [ngClass]="{\'is-loading\': ctrl.cargando}" (click)="guardar_movimiento()" [disabled]="ctrl.dato.invalid"> <span class="icon"><i class="fa fa-floppy-o" aria-hidden="true"></i></span> &nbsp; Guardar</button>\r\n                                </p>\r\n                                <p *ngIf="tieneid" class="level-item"><a class="button is-primary" title="Actualizar" (click)="ctrl.cargarDatos();"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n                                <p *ngIf="!tieneid" class="level-item"><a class="button is-primary" title="Actualizar" (click)="ctrl.cargarCatalogo(\'turnos\', \'mis-turnos\'); ctrl.cargarCatalogo(\'servicios\',\'mis-servicios\');"><span class="icon "><i class="fa fa-refresh"></i></span></a></p>\r\n                                <p class="level-item">&nbsp;</p>\r\n                            </div>\r\n                        </nav>                        \r\n                        <div class="container is-fluid">\r\n                            <h1 class="title">\r\n                                <span *ngIf="!ctrl.cargando || !cargando" class="icon is-medium"><i class="fa fa-edit"></i></span>\r\n                                <span *ngIf="ctrl.cargando || cargando" class="icon is-medium"><i class="fa fa-refresh fa-spin"></i></span>                                Insumos\r\n                            </h1>\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <div class="is-fullwidth has-text-centered" *ngIf="!ctrl.datosCargados">\r\n                    <br>\r\n                    <span class="tag is-primary is-large "><span class="icon"><i class="fa fa-refresh fa-spin"></i></span>                    &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n                <section class="section">\r\n                    <div class="field has-addons has-addons-centered" *ngIf="!tieneid">\r\n\x3c!-- ******************************************* AUTOCOMPLETE *********************************************                         \r\n                        <p class="control">\r\n                            <input ngui-auto-complete [source]="insumos_term" [list-formatter]="autocompleListFormatter" id="buscarInsumo" value-property-name="clave"\r\n                                display-property-name="descripcion" path-to-data="" loading-text="Cargando..." no-match-found-text="No hay resultados."\r\n                                (valueChanged)="select_insumo_autocomplete($event)" min-chars="1" class="input is-success is-medium"\r\n                                type="text" placeholder="Escanea el codigo de barra, o empieza escribir el nombre del producto" >\r\n                        </p>\r\n******************************************* AUTOCOMPLETE ********************************************* --\x3e\r\n\r\n                        \x3c!-- *****************     INPUT DE BUSQUEDA DE INSUMO     ****************** --\x3e   \r\n                        <div class="control is-grouped">\r\n                            <div class="control is-expanded">\r\n                                <input \r\n                                    (keyup.enter)="buscarInsumo.value != \'\' ?  enviarAutocomplete(buscarInsumo.value) : buscarInsumo.value = \'\'" \r\n                                    id="buscarInsumo"\r\n                                    name="buscarInsumo"\r\n                                    #buscarInsumo\r\n                                    class="input is-success is-medium"\r\n                                    type="text"\r\n                                    placeholder="Escriba la clave o el nombre del insumo y presione la tecla ENTER"/>\r\n                            </div>\r\n                            <div class="control">\r\n                                <a class="button is-success is-medium" title="Buscar insumo" (click)="buscarInsumo.value != \'\' ?  enviarAutocomplete(buscarInsumo.value) : buscarInsumo.value = \'\'">\r\n                                    <i class="fa fa-search" aria-hidden="true"></i> &nbsp; Buscar\r\n                                </a>\r\n                            </div>\r\n                            <div class="control" *ngIf="buscarInsumo.value != \'\'">\r\n                                <a class="button is-info is-medium" title="Borrar texto" (click)="res_busq_insumos=[]; buscarInsumo.value=\'\'">\r\n                                    <i class="fa fa-times" aria-hidden="true"></i>\r\n                                </a>\r\n                            </div>\r\n                        </div>\r\n                        <div class="is-fullwidth has-text-centered" *ngIf="cargando" style="height:100px;">\r\n                            <br>\r\n                            <span class="tag is-primary is-large">\r\n                                <span class="icon"><i class="fa fa-refresh fa-spin"></i></span> &nbsp;<span>Cargando...</span>\r\n                            </span>\r\n                        </div>\r\n                        \x3c!-- *****************     RESULTADOS DE BUSQUEDA DE INSUMO     ****************** --\x3e\r\n                        <div *ngIf="res_busq_insumos.length > 0 && !cargando" style="height: 200px;">\r\n                            <div *ngIf="res_busq_insumos.length > 0 && !cargando" style="overflow: scroll; overflow-x: hidden; height: 90%;">\r\n                                <div class="content" style="z-index: 1;" *ngFor="let item_insumo of res_busq_insumos; let c = index">\r\n                                    <div class="card" (click)="select_insumo_autocomplete(item_insumo)" style="background: rgba(242,248,253, 0.8)">\r\n                                        <div class="card-content">\r\n                                            <div class="media">          \r\n                                                <div class="media-content">\r\n                                                    <p class="title is-4">{{item_insumo.descripcion}}</p>\r\n                                                    <p class="subtitle is-6">\r\n                                                        <strong>Clave: </strong> {{item_insumo.clave}}\r\n                                                        <label class="tag is-success" *ngIf="item_insumo.es_causes == 1"><strong>Cause </strong></label>\r\n                                                        <label class="tag" *ngIf="item_insumo.es_causes == 0" style="background: #B8FB7E; border-color: #B8FB7E; color: rgba(0,0,0,0.7);" ><strong>No Cause </strong> </label>\r\n                                                        <label class="tag is-warning" *ngIf="item_insumo.es_unidosis == 1"><strong>Unidosis</strong> </label>\r\n                                                    </p>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <hr> \x3c!-- L\xednea de division --\x3e\r\n                    <div formArrayName="insumos_negados">\r\n                        <div class="box" *ngFor="let item of ctrl.dato.controls.insumos_negados.controls; let i=index" [ngStyle]="{\'background\': i%2 == 0 ? \'rgba(231, 242, 22, 0.4)\' :  \'rgba(231, 242, 22, 0.4)\'}">\r\n                            <article class="media" [formGroupName]="i">\r\n                                <div class="media-content">\r\n                                    <div class="content">\r\n                                        <p>\r\n                                            <strong>\r\n                                                <span style="color: red"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i></span>\r\n                                            \r\n                                                <span style="color:cornflowerblue">\r\n                                                    Clave: {{ ctrl.dato.controls.insumos_negados.controls[i].controls.clave.value }} \r\n                                                </span>\r\n                                                Nombre: {{ctrl.dato.controls.insumos_negados.controls[i].controls.descripcion.value}}\r\n                                            \r\n                                                <label class="tag is-success" *ngIf="ctrl.dato.controls.insumos_negados.controls[i].controls.es_causes.value == 1"><strong>Cause </strong></label>\r\n                                                <label class="tag is-success" *ngIf="ctrl.dato.controls.insumos_negados.controls[i].controls.es_causes.value == 0"><strong>No Cause </strong> </label>                                           \r\n                                                                                            \r\n                                                <label class="tag is-warning" *ngIf="ctrl.dato.controls.insumos_negados.controls[i].controls.es_unidosis.value == 1\r\n                                                "><strong>Unidosis</strong> </label>\r\n                                            </strong>\r\n                                            <br> {{ctrl.dato.controls.insumos_negados.controls[i].controls.descripcion.value}}\r\n                                        </p>\r\n                                    </div>\r\n                                    <nav class="level is-mobile">\r\n                                        <div class="level-left">\r\n                                            <a class="level-item" >\r\n                                                <div class="field"  *ngIf="ctrl.dato.controls.insumos_negados.controls[i].controls.modo_salida.value == \'N\'">\r\n                                                    \x3c!-- cambiar a formControlName="cantidad_solicitada"  --\x3e\r\n                                                    <label class="label">Cant. solicitada (Normal):</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input *ngIf="!tieneid" style="background:aliceblue" type="text" class="input" formControlName="cantidad_solicitada" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos_negados.controls[i].controls.cantidad_solicitada.hasError(\'required\') && ctrl.dato.controls.insumos_negados.controls[i].controls.cantidad_solicitada.touched}">\r\n                                                        <input *ngIf="tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_solicitada" >\r\n                                                    </p>\r\n                                                </div>\r\n                                                <div class="field" *ngIf="ctrl.dato.controls.insumos_negados.controls[i].controls.modo_salida.value == \'U\'">\r\n                                                    <label class="label" *ngIf="tieneid">Cant. solicitada ({{ctrl.dato.get("insumos_negados").value[i].informacion_ampliada.unidad_medida_nombre}}):</label>\r\n                                                    <label class="label" *ngIf="!tieneid">Cant. solicitada unidosis ({{ctrl.dato.controls.insumos_negados.controls[i].controls.unidad_medida.value}}):</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input *ngIf="!tieneid" style="background:aliceblue" type="text" class="input" formControlName="cantidad_solicitada_unidosis" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos_negados.controls[i].controls.cantidad_solicitada_unidosis.hasError(\'required\') && ctrl.dato.controls.insumos_negados.controls[i].controls.cantidad_solicitada_unidosis.touched}">\r\n                                                        <input *ngIf="tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_solicitada_unidosis" >\r\n                                                    </p>\r\n                                                </div>\r\n                                            </a>\r\n                                        </div>\r\n                                        <div class="level-right">\r\n                                            <a class="level-item" >\r\n                                                <div class="field"  *ngIf="ctrl.dato.controls.insumos_negados.controls[i].controls.modo_salida.value == \'N\'">\r\n                                                    <label class="label" *ngIf="tieneid">Cant. surtida:</label>\r\n                                                    <label class="label" *ngIf="!tieneid">Cant. a surtir:</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input *ngIf="!tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_surtida" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos_negados.controls[i].controls.cantidad_surtida.hasError(\'required\') && ctrl.dato.controls.insumos_negados.controls[i].controls.cantidad_surtida.touched}">\r\n                                                        <input *ngIf="tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_surtida" >\r\n                                                    </p>\r\n                                                </div>\r\n                                                <div class="field"  *ngIf="ctrl.dato.controls.insumos_negados.controls[i].controls.modo_salida.value == \'U\'">\r\n                                                    <label class="label" *ngIf="tieneid">Cant. surtida (unidosis):</label>\r\n                                                    <label class="label" *ngIf="!tieneid">Cant. a surtir (unidosis):</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input *ngIf="!tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_surtida_unidosis" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos_negados.controls[i].controls.cantidad_surtida_unidosis.hasError(\'required\') && ctrl.dato.controls.insumos_negados.controls[i].controls.cantidad_surtida_unidosis.touched}">\r\n                                                        <input *ngIf="tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_surtida_unidosis" >\r\n                                                    </p>\r\n                                                </div>\r\n                                            </a>\r\n\r\n                                        </div>\r\n                                    </nav>\r\n                                </div>\r\n                            </article>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div formArrayName="insumos" style="overflow: scroll; overflow-x: hidden; height: 550px;">\r\n                        <div class="box" *ngFor="let item of ctrl.dato.controls.insumos.controls; let i=index" [ngStyle]="{\'background\': i%2 == 0 ? \'rgba(230, 230, 232, 0.44)\' : \'\'}">\r\n                            <article class="media" [formGroupName]="i">\r\n                                <div class="media-content">\r\n                                    <div class="content">\r\n                                        <span style="float:right; padding-left: 15px;" >\r\n                                            <a *ngIf="!tieneid" class="button is-danger" title="Quitar este elemento de la lista" (click)="abrirModal(\'borrarInsumo\', i)"><span class="icon"><i class="fa fa-trash-o"></i></span></a>\r\n                                        </span>\r\n                                        <a *ngIf="!tieneid" class="button is-success" title="Agregar m\xe1s lotes de este insumo" style="float:right" (click)="select_insumo_autocomplete(item.value)"><span class="icon"><i class="fa fa-plus-circle" aria-hidden="true"></i></span> </a>\r\n                                                                                \r\n                                        <p style="padding-right: 20px;">\r\n                                            <strong>\r\n                                                <span style="color:cornflowerblue">\r\n                                                    Clave: {{ ctrl.dato.controls.insumos.controls[i].controls.clave.value }} \r\n                                                </span>\r\n                                                Nombre: {{ctrl.dato.controls.insumos.controls[i].controls.descripcion.value}}\r\n                                            \r\n                                                <label class="tag is-success" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_causes.value == 1"><strong>Cause </strong></label>\r\n                                                <label class="tag is-success" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_causes.value == 0"><strong>No Cause </strong> </label>                                           \r\n                                                                                            \r\n                                                <label class="tag is-warning" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.es_unidosis.value == 1\r\n                                                "><strong>Unidosis</strong> </label>\r\n                                            </strong>\r\n                                            <br> {{ctrl.dato.controls.insumos.controls[i].controls.descripcion.value}}\r\n                                        </p>\r\n                                        <a class="is-danger" title="Ver la lista de lotes de este articulo" style="float:right" (click)="ver_lotes_asignados(i)">\r\n                                            <span class="icon">\r\n                                                <i *ngIf="!mostrar_lote[i]" class="fa fa-plus"></i>\r\n                                                <i *ngIf="mostrar_lote[i]" class="fa fa-minus"></i>\r\n                                            </span>\r\n                                        </a>\r\n                                    </div>\r\n                                    <section *ngIf="mostrar_lote[i]">\r\n                                        <table class="table is-narrow is-bordered is-striped">\r\n                                            <thead>\r\n                                                <tr>\r\n                                                    <th>Lote</th>\r\n                                                    <th>Caducidad</th>\r\n                                                    <th>Codigo de barras</th>\r\n                                                    <th *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'N\'">Existencia</th>\r\n                                                    <th *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'U\'">Existencia Unidosis</th>\r\n                                                    \r\n                                                    <th *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'N\'">Cantidad normal</th>\r\n                                                    <th *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'U\'">Cantidad unidosis</th>\r\n                                                    <th *ngIf="!tieneid"></th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody formArrayName="lotes">\r\n                                                <tr *ngFor="let val of ctrl.dato.controls.insumos.controls[i].controls.lotes.controls;  let i2 = index;">\r\n                                                    <td>{{val.value.lote}}</td>\r\n                                                    <td>{{val.value.fecha_caducidad}}</td>\r\n                                                    <td>{{val.value.codigo_barras}}</td>\r\n                                                    <td *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'N\'">{{val.value.existencia}}</td>\r\n                                                    <td *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'U\'">{{val.value.existencia_unidosis}}</td>\r\n                                                    <td [formGroupName]="i2">\r\n                                                        <input  *ngIf="val.value.modo_salida == \'N\'" [ngClass]="{\'is-disabled\': tieneid}" class="input has-text-centered" \r\n                                                            (blur)="validar_cantidad_lote(i, val, i2, modo)" type="number" step="1" min="0" max="{{val.value.existencia}}"\r\n                                                            placeholder="Cantidad" formControlName="cantidad" (keypress)="quitar_punto($event)">\r\n                                                        <input  *ngIf="val.value.modo_salida == \'U\'" [ngClass]="{\'is-disabled\': tieneid}" class="input has-text-centered" (blur)="validar_cantidad_lote(i, val, i2, modo)" type="number" step="1" min="0" max="{{val.value.existencia_unidosis}}"\r\n                                                            placeholder="Cantidad unidosis" formControlName="cantidad" (keypress)="quitar_punto($event)"></td>\r\n                                                    <td *ngIf="!tieneid">\r\n                                                        <a class="is-danger" title="Quitar este lote" (click)="quitar_lote_insumo(i, val.value, i2)">\r\n                                                            <span class="icon">\r\n                                                                <i class="fa fa-trash-o"></i>\r\n                                                            </span>\r\n                                                        </a>\r\n                                                    </td>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </table>\r\n                                    </section>\r\n                                    <nav class="level is-mobile">\r\n                                        <div class="level-left">\r\n                                            <a class="level-item" >\r\n                                                \r\n                                                <div class="field"  *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'N\'">\r\n                                                    <label class="label" *ngIf="tieneid && ctrl.dato.get(\'insumos\').value[i].detalles.informacion_ampliada">Cant. solicitada ({{ctrl.dato.get("insumos").value[i].detalles.informacion_ampliada.presentacion_nombre}}):</label>\r\n                                                    <label class="label" *ngIf="tieneid && !ctrl.dato.get(\'insumos\').value[i].detalles.informacion_ampliada">Cant. solicitada (normal):</label>\r\n                                                    <label class="label" *ngIf="!tieneid">Cant. solicitada ({{ctrl.dato.controls.insumos.controls[i].controls.presentacion_nombre.value}}):</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input *ngIf="!tieneid" style="background:aliceblue" type="text" class="input" formControlName="cantidad_solicitada" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.cantidad_solicitada.hasError(\'required\') && ctrl.dato.controls.insumos.controls[i].controls.cantidad_solicitada.touched}">\r\n                                                        <input *ngIf="tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_solicitada" >\r\n                                                    </p>\r\n                                                </div>\r\n                                                <div class="field" *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'U\'">\r\n                                                    <label class="label" *ngIf="tieneid && ctrl.dato.get(\'insumos\').value[i].detalles.informacion_ampliada">Cant. solicitada ({{ctrl.dato.get("insumos").value[i].detalles.informacion_ampliada.unidad_medida_nombre}}):</label>\r\n                                                    <label class="label" *ngIf="tieneid && !ctrl.dato.get(\'insumos\').value[i].detalles.informacion_ampliada">Cant. solicitada (Unidosis):</label>\r\n                                                    <label class="label" *ngIf="!tieneid">Cant. solicitada unidosis ({{ctrl.dato.controls.insumos.controls[i].controls.unidad_medida.value}}):</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input *ngIf="!tieneid" style="background:aliceblue" type="text" class="input" formControlName="cantidad_solicitada" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.cantidad_solicitada.hasError(\'required\') && ctrl.dato.controls.insumos.controls[i].controls.cantidad_solicitada.touched}">\r\n                                                        <input *ngIf="tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_solicitada" >\r\n                                                    </p>\r\n                                                </div>\r\n                                            </a>\r\n                                        </div>\r\n                                        <div class="level-right">\r\n                                            <a class="level-item" >\r\n                                                <div class="field"  *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'N\'">\r\n                                                    <label class="label" *ngIf="tieneid && ctrl.dato.get(\'insumos\').value[i].detalles.informacion_ampliada">Cant. surtida ({{ctrl.dato.get("insumos").value[i].detalles.informacion_ampliada.presentacion_nombre}}):</label>\r\n                                                    <label class="label" *ngIf="tieneid && !ctrl.dato.get(\'insumos\').value[i].detalles.informacion_ampliada">Cant. surtida (Normal):</label>\r\n                                                    <label class="label" *ngIf="!tieneid">Cant. a surtir ({{ctrl.dato.controls.insumos.controls[i].controls.presentacion_nombre.value}}):</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input *ngIf="!tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_surtida" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.hasError(\'required\') && ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.touched}">\r\n                                                        <input *ngIf="tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad" >\r\n                                                    </p>\r\n                                                </div>\r\n                                                <div class="field"  *ngIf="ctrl.dato.controls.insumos.controls[i].controls.modo_salida.value == \'U\'">\r\n                                                    <label class="label" *ngIf="tieneid && ctrl.dato.get(\'insumos\').value[i].detalles.informacion_ampliada">Cant. surtida ({{ctrl.dato.get("insumos").value[i].detalles.informacion_ampliada.unidad_medida_nombre}}):</label>\r\n                                                    <label class="label" *ngIf="tieneid && !ctrl.dato.get(\'insumos\').value[i].detalles.informacion_ampliada">Cant. surtida (Unidosis):</label>\r\n                                                    <label class="label" *ngIf="!tieneid">Cant. a surtir unidosis ({{ctrl.dato.controls.insumos.controls[i].controls.unidad_medida.value}}):</label>\r\n                                                    <p class="control is-expanded  has-icon has-icon-right">\r\n                                                        <input *ngIf="!tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_surtida" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.hasError(\'required\') && ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.touched}">\r\n                                                        <input *ngIf="tieneid" style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad" >\r\n                                                    </p>\r\n                                                </div>\r\n                                            </a>\r\n\r\n                                        </div>\r\n                                    </nav>\r\n                                </div>\r\n                            </article>\r\n                        </div>\r\n                    </div>\r\n\r\n                </section>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</form>\r\n\r\n\r\n<div class="modal" id="verLotes">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card" style="width: 60%; height: 90%;">\r\n        <header class="modal-card-head" style="height: 10%;">\r\n            <p class="modal-card-title" id="tituloModal" style="width: 200px"> </p>\r\n            <button type="button" class="delete" (click)="cancelarModal(\'verLotes\'); modo = \'N\';"></button>\r\n        </header>\r\n        <section class="modal-card-body" style="height: 90%;">\r\n            <div style="padding: 1em; overflow-x: hidden; height: 100%;">\r\n                <div style="padding: 1em; overflow: scroll; overflow-x: hidden; overflow-y: hidden; height: 20%;">\r\n                    <div class="columns" >\r\n                        <div class="column is-two-thirds">\r\n                            <div class="columns">\r\n                                <div class="column is-4">\r\n                                    <label class="label" style="font-size: large;float: left;margin-right: 6%;">Modo salida: </label>\r\n                                </div>\r\n                                <div class="b-checkbox is-info is-circular">\r\n                                    <div class="column is-auto">\r\n                                        <input class="styled" type="radio" id="modo_n" [checked]="modo == \'N\'" (click)="modo = \'N\'" [value]="\'N\'" name="modo">                                    \r\n                                        <label for="modo_n">\r\n                                            <span class="tag is-large" [ngClass]="{\'is-success\':modo == \'N\'}">Normal</span>\r\n                                        </label>\r\n                                    </div>\r\n                                    <div *ngIf="es_unidosis == 1" class="column is-auto">\r\n                                        <input class="styled" type="radio" id="modo_u" [checked]="modo == \'U\'" (click)="modo = \'U\'" [value]="\'U\'" name="modo">                                    \r\n                                        <label for="modo_u">\r\n                                            <span class="tag is-large" [ngClass]="{\'is-success\':modo == \'U\'}">Unidosis</span>\r\n                                        </label>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div class="column">\r\n                            <div class="field is-horizontal">\r\n                                <label class="label" *ngIf="modo == \'N\'">Cant. solicitada:</label>\r\n                                <label class="label" *ngIf="modo == \'U\'">Cant. solicitada ({{insumo.unidad_medida}}):</label>\r\n                                <input class="input has-text-centered" (keypress)="quitar_punto($event)" (change)="comprobar_cant_solicitada(cantidad_solicitada.value)" type="number" step="1" min="0" \r\n                                    placeholder="Cantidad" #cantidad_solicitada id="cantidad_solicitada" \r\n                                    name="cantidad_solicitada" (keyup)="comprobar_cant_solicitada(cantidad_solicitada.value)">\r\n                            \x3c!-- <input style="background:aliceblue" type="text" readonly class="input" formControlName="cantidad_surtida" [ngClass]="{\'is-danger\': ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.hasError(\'required\') && ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.touched}"> --\x3e\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div style="padding: 1em; overflow: scroll; overflow-x: hidden; height: 80%;">\r\n                    <table class="table is-narrow is-bordered is-striped" >\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Lote</th>\r\n                                <th>Caducidad</th>\r\n                                <th>Codigo de barras</th>\r\n                                <th *ngIf="modo == \'N\'">Existencia</th>\r\n                                <th *ngIf="modo == \'N\'">Cantidad</th>\r\n                                <th *ngIf="modo == \'U\'">Existencia Unidosis ({{insumo.unidad_medida}})</th> \r\n                                <th *ngIf="modo == \'U\'">Cantidad Unidosis ({{insumo.unidad_medida}})</th> \r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor="let item of lotes_insumo;  let i = index;">\r\n                                <td *ngIf="!item.nuevo">{{item.lote}}</td>\r\n                                <td *ngIf="item.nuevo"><input class="input has-text-centered " type="text" placeholder="Lote" [(ngModel)]="item.lote"></td>\r\n                                <td *ngIf="!item.nuevo">\r\n                                    <span *ngIf="item.tipo_caducidad">\r\n                                        <label *ngIf="item.tipo_caducidad == \'OPTIMA\'" class="tag is-success" ><strong>&nbsp;</strong></label>\r\n                                        <label *ngIf="item.tipo_caducidad == \'MEDIA\'" class="tag is-warning" ><strong>&nbsp;</strong></label>\r\n                                        <label *ngIf="item.tipo_caducidad == \'PRONTA\'" class="tag is-danger" ><strong>&nbsp;</strong></label>\r\n                                        <label *ngIf="item.tipo_caducidad == \'CADUCADO\'" class="tag is-black" ><strong>&nbsp;</strong></label>\r\n                                    </span>\r\n                                    {{item.fecha_caducidad}}\r\n                                </td>\r\n                                <td *ngIf="item.nuevo">\r\n                                    <input class="input has-text-centered" placeholder="Fecha de caducidad" \r\n                                    [(ngModel)]="item.fecha_caducidad" min="MinDateCaducidad" (blur)="validar_fecha()"\r\n                                    placeholder="YYYY-MM-DD" [textMask]="{mask:mask, keepCharPositions: true, pipe: autoCorrectedDatePipe}"/>\r\n                                </td>\r\n                                <td *ngIf="!item.nuevo">{{item.codigo_barras}}</td>\r\n                                <td *ngIf="item.nuevo"><input class="input has-text-centered " type="text" placeholder="Codigo de barras" [(ngModel)]="item.codigo_barras"></td>\r\n                                <td *ngIf="!item.nuevo && modo == \'N\'">{{item.existencia}}</td>\r\n                                <td *ngIf="!item.nuevo && modo == \'U\'">{{item.existencia_unidosis}}</td>\r\n                                <td *ngIf="item.nuevo "></td>\r\n                                <td >\r\n                                    <input class="input has-text-centered" type="number" step="1" min="0" (keypress)="quitar_punto($event)"\r\n                                    (keyup)="comprobar_cant_lotes()" (change)="comprobar_cant_lotes()" max="{{item.existencia}}" \r\n                                    placeholder="Cantidad" [(ngModel)]="item.cantidad" [ngClass]="{\'is-disabled\': item.tipo_caducidad == \'CADUCADO\'}">\r\n                                </td>\r\n                                <td *ngIf="item.nuevo">\r\n                                    <a class="delete" (click)=eliminarLote(i)></a>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-dark" *ngIf="modo==\'N\'" (click)="agregarNuevoLote()">Agregar nuevo lote</a>                            \r\n            <a class="button is-success" [ngClass]="{\'is-disabled\':!cant_solicitada_valida || !sum_cant_lotes || !fecha_invalida}" (click)="agregarLoteIsumo(cantidad_solicitada.value)">Aceptar</a>\r\n            <a class="button" (click)="cancelarModal(\'verLotes\'); modo = \'N\';">Cancelar</a>\r\n            <div class="card-footer-item"></div>\r\n            <a *ngIf="!sum_cant_lotes" class="card-footer-item button is-danger" [ngClass]="{\'is-disabled\':!cant_solicitada_valida}" (click)="abrirModal(\'negarExistencia\')"><i class="fa fa-exclamation-triangle" aria-hidden="true"></i>&nbsp;\r\n Negar existencia</a>\r\n        </footer>\r\n        <simple-notifications [options]="options"></simple-notifications>\r\n    </div>\r\n</div>\r\n\r\n<div class="modal" id="negarExistencia">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card">\r\n        <header class="modal-card-head">\r\n            <p class="modal-card-title"><i class="fa fa-warning"></i> Alerta</p>\r\n            <button class="delete" (click)="cancelarModal(\'negarExistencia\')"></button>\r\n        </header>\r\n        <section class="modal-card-body">\r\n            <div class="content">\r\n                <h1>\xbfEsta seguro de negar la existencia del insumo?</h1>\r\n                <p>Ya no se podra cambiar la cantidad negada</p>\r\n            </div>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-success" (click)="agregarLoteIsumo(cantidad_solicitada.value)">Continuar</a>\r\n            <a class="button" (click)="cancelarModal(\'negarExistencia\')">Cancelar</a>\r\n        </footer>\r\n    </div>\r\n</div>\r\n\r\n<div class="modal" id="guardarMovimiento">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card">\r\n        <header class="modal-card-head">\r\n            <p class="modal-card-title"><i class="fa fa-warning"></i> Alerta</p>\r\n            <button class="delete" (click)="cancelarModal(\'guardarMovimiento\')"></button>\r\n        </header>\r\n        <section class="modal-card-body">\r\n            <div class="content">\r\n                <h1>\xbfEsta seguro de guardar la salida?</h1>\r\n                <p>Ya no se podr\xe1 realizar cambios</p>\r\n                <p class="modal-card-title" id="tituloGuardar"> </p>\r\n            </div>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-success" (click)="ctrl.enviar(false, \'almacen/salidas-estandar\'); cancelarModal(\'guardarMovimiento\')">Continuar</a>\r\n            <a class="button" (click)="cancelarModal(\'guardarMovimiento\')">Cancelar</a>\r\n        </footer>\r\n    </div>\r\n</div>\r\n\r\n<div class="modal" id="borrarInsumo">\r\n    <div class="modal-background"></div>\r\n    <div class="modal-card">\r\n        <header class="modal-card-head">\r\n            <p class="modal-card-title"><i class="fa fa-warning"></i> Alerta</p>\r\n            <button class="delete" (click)="cancelarModal(\'borrarInsumo\')"></button>\r\n        </header>\r\n        <section class="modal-card-body">\r\n            <div class="content">\r\n                <h1>\xbfEsta seguro de eliminar el insumo?</h1>\r\n                <p>Se borrar\xe1n todos los lotes del insumo que se hayan agregado.</p>\r\n            </div>\r\n        </section>\r\n        <footer class="modal-card-foot">\r\n            <a class="button is-success" (click)="ctrl.quitar_form_array(ctrl.dato.controls.insumos, index_borrar); cancelarModal(\'borrarInsumo\');">Continuar</a>\r\n            <a class="button" (click)="cancelarModal(\'borrarInsumo\')">Cancelar</a>\r\n        </footer>\r\n    </div>\r\n</div>'},zWUl:function(e,t){e.exports=""}},[0]);