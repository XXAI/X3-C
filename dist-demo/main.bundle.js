webpackJsonp([0],{

/***/ "../../../../../src async recursive":
/***/ (function(module, exports) {

function webpackEmptyContext(req) {
	throw new Error("Cannot find module '" + req + "'.");
}
webpackEmptyContext.keys = function() { return []; };
webpackEmptyContext.resolve = webpackEmptyContext;
module.exports = webpackEmptyContext;
webpackEmptyContext.id = "../../../../../src async recursive";

/***/ }),

/***/ "../../../../../src/app/administrador-central/abasto/abasto.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/administrador-central/abasto/abasto.component.html":
/***/ (function(module, exports) {

module.exports = "<administrador-central-menu></administrador-central-menu>\r\n<div style=\"height:50px;\"></div>\r\n<div class=\"contenedor columns \" style=\"height:100%; \">\r\n    <div class=\"column is-one-quarter is-hidden-mobile\">\r\n        <administrador-central-menu-lateral></administrador-central-menu-lateral>\r\n    </div>\r\n    <div class=\"column\" style=\"padding:2em;\">\r\n      \r\n        <div style=\"background: #FFF; border-radius: 1em; overflow: hidden;\">\r\n            <section class=\"hero is-primary\"  >\r\n                \r\n                <div class=\"hero-body\" style=\"position:relative;\">                    \r\n                    \r\n                    <a class=\"button  is-primary\" *ngIf=\"!cargando\" style=\"position:absolute; top:1em; right:1em;\" (click)=\"exportar()\"><span class=\"icon \"><i class=\"fa fa-file-excel-o\"></i></span> <span>Exportar</span></a>\r\n                    <div class=\"container is-fluid\">\r\n                        \r\n                        <h1 class=\"title\">\r\n                            <span class=\"icon is-medium\"><i class=\"fa fa-line-chart\"></i></span> Abasto\r\n                        </h1>\r\n                        \r\n                        <div class=\"control is-grouped\">\r\n                        <p class=\"control is-expanded\">\r\n                            <input class=\"input is-medium\" type=\"text\" placeholder=\"Buscar por CLUES\" [(ngModel)] = \"clues\" (keyup)=\"filtrarClues($event)\">\r\n                        </p>\r\n                        </div>\r\n                        <div class=\"columns\">                            \r\n                            <div class=\"column\">\r\n                                <label for=\"jurisdicciones\">Proveedores:</label>\r\n                       \r\n                                <p class=\"control is-expanded\">\r\n                                    <span class=\"select is-fullwidth\">\r\n                                    <select #proveedoresSelect (change)=\"cambioSeleccionProveedor(proveedoresSelect.value)\">\r\n                                        <option value=\"-1\">Todos</option>\r\n                                        <option *ngFor=\"let item of proveedores\" value=\"{{item.id}}\">{{ item.nombre }}</option>\r\n                                    </select>\r\n                                    </span>\r\n                                </p>                   \r\n                          \r\n                            </div>\r\n                            <div class=\"column\">\r\n                                <label for=\"jurisdicciones\">Jurisdicciones:</label>\r\n                             \r\n                                <p class=\"control is-expanded\">\r\n                                    <span class=\"select is-fullwidth\">\r\n                                    <select #js id=\"jurisdicciones\"  (change)=\"cambioSeleccionJurisdiccion(js.value)\">\r\n                                        <option value=\"-1\">Todas</option>\r\n                                        <option *ngFor=\"let item of jurisdicciones\" value=\"{{item.id}}\">JS {{ item.numero }} - {{ item.nombre }}</option>\r\n                                    </select>\r\n                                    </span>\r\n                                </p>\r\n                                                       \r\n                               \r\n                            </div>\r\n                        </div>\r\n                        <div *ngIf=\"jurisdiccionesSeleccionadas.length>0 || proveedoresSeleccionados.length>0\">\r\n                            <h1 class=\"title is-6\">Filtro aplicado:</h1>\r\n                            <span class=\"tag is-dark is-medium\" style=\"margin-bottom:0.5em; margin-right:0.2em;\" *ngFor=\"let item of proveedoresSeleccionados; let i = index\">{{ item.nombre_corto }}<button class=\"delete is-small\" (click)=\"quitarProveedor(i)\"></button></span>\r\n                            <span class=\"tag is-white is-medium\" style=\"margin-bottom:0.5em; margin-right:0.2em;\" *ngFor=\"let item of jurisdiccionesSeleccionadas;  let i = index\">JS {{ item.numero }}<button class=\"delete is-small\" (click)=\"quitarJurisdiccion(i)\"></button></span>\r\n                            \r\n                        </div>\r\n                        <nav class=\"level\">\r\n                            <div class=\"level-left\"><h1 class=\"title is-5\">Resultados: <b>{{ total }}</b></h1></div>\r\n                            <div class=\"level-right\">\r\n                                <div class=\"block\">\r\n                                <button class=\"button \" *ngIf=\"jurisdiccionesSeleccionadas.length>0 || proveedoresSeleccionados.length>0 || clues != ''\" (click)=\"clues = ''; jurisdiccionesSeleccionadas = []; proveedoresSeleccionados = []; js.value = -1; proveedoresSelect.value= -1 \"><span class=\"icon\"><i class=\"fa fa-times\"></i></span> <span>Limpiar filtro</span></button>\r\n                                <button class=\"button is-primary is-inverted\" (click)=\"listar(1)\"><span class=\"icon\"><i class=\"fa fa-filter\"></i></span> <span>Filtrar</span></button>\r\n                                </div>\r\n                            </div>\r\n                        </nav>\r\n                    \r\n                        \r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class=\"is-fullwidth has-text-centered\" *ngIf=\"cargando\">\r\n                <br>\r\n                <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n            \r\n            <table class=\"table\" *ngIf=\"!cargando\">\r\n                <thead>\r\n                    <tr>\r\n                    <th>Proveedor</th>\r\n                    <th>Clues</th>\r\n                    <th>Nombre</th>\r\n                    <th style=\"cursor:pointer\" (click)=\"toggleCauses()\"><span><abbr title=\"Causes\">CA</abbr></span><span class=\"icon is-small\"><i class=\"fa\" [ngClass]=\"{ 'fa-sort': ordenarCauses == '', 'fa-sort-asc': ordenarCauses == 'ASC', 'fa-sort-desc': ordenarCauses == 'DESC' }\"></i></span></th>\r\n                    <th style=\"cursor:pointer\" (click)=\"toggleNoCauses()\"><abbr title=\"No causes\">NCA</abbr><span class=\"icon is-small\"><i class=\"fa\" [ngClass]=\"{ 'fa-sort': ordenarNoCauses == '', 'fa-sort-asc': ordenarNoCauses == 'ASC', 'fa-sort-desc': ordenarNoCauses == 'DESC' }\"></i></span></th>\r\n                    <th style=\"cursor:pointer\" (click)=\"toggleMaterialCuracion()\"><abbr title=\"Material de curación\">MC</abbr><span class=\"icon is-small\"><i class=\"fa\" [ngClass]=\"{ 'fa-sort': ordenarMaterialCuracion == '', 'fa-sort-asc': ordenarMaterialCuracion == 'ASC', 'fa-sort-desc': ordenarMaterialCuracion == 'DESC' }\"></i></span></th>\r\n                    </tr>\r\n                </thead>\r\n                \r\n                <tbody>\r\n                    <tr *ngFor=\"let item of lista; let i=index\">                        \r\n                        <td style=\"vertical-align: middle;\">{{ item.proveedor }}</td>\r\n                        <td style=\"vertical-align: middle;\">{{ item.clues }}</td>\r\n                        <td style=\"vertical-align: middle;\">{{ item.unidad_medica }}</td>\r\n                        <td style=\"vertical-align: middle;\">{{ item.porcentaje_causes }}</td>\r\n                        <td style=\"vertical-align: middle;\">{{ item.porcentaje_no_causes }}</td>\r\n                        <td style=\"vertical-align: middle;\">{{ item.porcentaje_material_curacion }}</td>\r\n                    </tr>\r\n                    <tr *ngIf=\"lista.length == 0\">\r\n                        <td colspan=\"5\" style=\"vertical-align: middle; color:#888;\">Esta lista está vacía.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <!-- Paginación para la lista  -->\r\n            \r\n            <paginacion \r\n                [total]=\"total\" \r\n                [paginasTotales]=\"paginasTotales\" \r\n                [resultadosPorPagina]=\"resultadosPorPagina\" \r\n                [paginaActual]=\"paginaActual\" \r\n                [indicePaginas]=\"indicePaginas\"\r\n                (onSiguiente)=\"paginaSiguiente()\" \r\n                (onAnterior)=\"paginaAnterior()\" \r\n                (onListar)=\"listar($event)\" \r\n                *ngIf=\"total>0 && total > resultadosPorPagina\"></paginacion>\r\n           \r\n            \r\n        </div>\r\n        \r\n    </div>\r\n</div>\r\n\r\n<div class=\"notification is-danger\" style=\"position:fixed; left:1em;  bottom:1em;\" *ngIf=\"mensajeError.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeError.mostrar = false\"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style=\"text-align:center\" ><a  class=\"button is-danger is-inverted\" (click)=\"ultimaPeticion(); mensajeError.mostrar = false\"> <span class=\"icon\"><i class=\"fa fa-refresh\"></i></span> <span>Volver a intentar</span></a></p>        \r\n</div>\r\n\r\n<div class=\"notification is-success\" style=\"position:fixed; left:1em;  bottom:1em; width: auto\" *ngIf=\"mensajeExito.mostrar\">       \r\n    <button class=\"delete\" (click)=\"mensajeExito.mostrar = false\"></button>\r\n    <p><span class=\"icon\" style=\"margin-right: 0.5em;\"><i class=\"fa fa-check-circle\"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style=\"text-align: center;\"><small >Este mensaje desaparecerá en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n"

/***/ }),

/***/ "../../../../../src/app/administrador-central/abasto/abasto.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__environments_environment__ = __webpack_require__("../../../../../src/environments/environment.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__mensaje__ = __webpack_require__("../../../../../src/app/mensaje.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__administrador_central_service__ = __webpack_require__("../../../../../src/app/administrador-central/administrador-central.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AbastoComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var AbastoComponent = (function () {
    // # FIN SECCION
    function AbastoComponent(title, apiService) {
        this.title = title;
        this.apiService = apiService;
        this.cargando = false;
        // # SECCION: Esta sección es para mostrar mensajes
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_3__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_3__mensaje__["a" /* Mensaje */]();
        // # FIN SECCION
        // # SECCION: Filtro
        this.clues = "";
        this.jurisdicciones = [];
        this.proveedores = [];
        this.jurisdiccionesSeleccionadas = [];
        this.proveedoresSeleccionados = [];
        this.ordenarCauses = '';
        this.ordenarNoCauses = '';
        this.ordenarMaterialCuracion = '';
        // # FIN SECCION
        // # SECCION: Lista
        this.lista = [];
        this.paginaActual = 1;
        this.resultadosPorPagina = 25;
        this.total = 0;
        this.paginasTotales = 0;
        this.indicePaginas = [];
    }
    AbastoComponent.prototype.ngOnInit = function () {
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_3__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_3__mensaje__["a" /* Mensaje */]();
        this.title.setTitle("Abasto / Administrador central");
        this.listar(1);
        this.cargarJurisdicciones();
        this.cargarProveedores();
    };
    AbastoComponent.prototype.cargarJurisdicciones = function () {
        var _this = this;
        this.apiService.jurisdicciones().subscribe(function (respuesta) {
            _this.jurisdicciones = respuesta;
        }, function (error) {
        });
    };
    AbastoComponent.prototype.cargarProveedores = function () {
        var _this = this;
        this.apiService.proveedores().subscribe(function (respuesta) {
            console.log(respuesta);
            _this.proveedores = respuesta;
            console.log(_this.proveedores);
        }, function (error) {
        });
    };
    AbastoComponent.prototype.cambioSeleccionJurisdiccion = function (id) {
        if (id == -1) {
            this.jurisdiccionesSeleccionadas = [];
        }
        this.agregarJurisdiccion(id);
    };
    AbastoComponent.prototype.cambioSeleccionProveedor = function (id) {
        if (id == -1) {
            this.proveedoresSeleccionados = [];
        }
        this.agregarProveedor(id);
    };
    AbastoComponent.prototype.agregarProveedor = function (id) {
        if (id == -1) {
            return;
        }
        // Si existe en el filtro no la agregamos
        for (var i in this.proveedoresSeleccionados) {
            if (this.proveedoresSeleccionados[i].id == id) {
                return;
            }
        }
        for (var i in this.proveedores) {
            if (this.proveedores[i].id == id) {
                this.proveedoresSeleccionados.push(this.proveedores[i]);
                break;
            }
        }
    };
    AbastoComponent.prototype.agregarJurisdiccion = function (id) {
        if (id == -1) {
            return;
        }
        // Si existe en el filtro no la agregamos
        for (var i in this.jurisdiccionesSeleccionadas) {
            if (this.jurisdiccionesSeleccionadas[i].id == id) {
                return;
            }
        }
        for (var i in this.jurisdicciones) {
            if (this.jurisdicciones[i].id == id) {
                this.jurisdiccionesSeleccionadas.push(this.jurisdicciones[i]);
                break;
            }
        }
    };
    AbastoComponent.prototype.quitarProveedor = function (index) {
        this.proveedoresSeleccionados.splice(index, 1);
    };
    AbastoComponent.prototype.quitarJurisdiccion = function (index) {
        this.jurisdiccionesSeleccionadas.splice(index, 1);
    };
    AbastoComponent.prototype.filtrarClues = function (e) {
        if (e.keyCode == 13) {
            this.listar(1);
        }
    };
    AbastoComponent.prototype.toggleCauses = function () {
        switch (this.ordenarCauses) {
            case '':
                this.ordenarCauses = 'ASC';
                break;
            case 'ASC':
                this.ordenarCauses = 'DESC';
                break;
            case 'DESC':
                this.ordenarCauses = '';
                break;
            default: this.ordenarCauses = '';
        }
        this.ordenarNoCauses = '';
        this.ordenarMaterialCuracion = '';
        this.listar(1);
    };
    AbastoComponent.prototype.toggleNoCauses = function () {
        switch (this.ordenarNoCauses) {
            case '':
                this.ordenarNoCauses = 'ASC';
                break;
            case 'ASC':
                this.ordenarNoCauses = 'DESC';
                break;
            case 'DESC':
                this.ordenarNoCauses = '';
                break;
            default: this.ordenarNoCauses = '';
        }
        this.ordenarCauses = '';
        this.ordenarMaterialCuracion = '';
        this.listar(1);
    };
    AbastoComponent.prototype.toggleMaterialCuracion = function () {
        switch (this.ordenarMaterialCuracion) {
            case '':
                this.ordenarMaterialCuracion = 'ASC';
                break;
            case 'ASC':
                this.ordenarMaterialCuracion = 'DESC';
                break;
            case 'DESC':
                this.ordenarMaterialCuracion = '';
                break;
            default: this.ordenarMaterialCuracion = '';
        }
        this.ordenarCauses = '';
        this.ordenarNoCauses = '';
        this.listar(1);
    };
    AbastoComponent.prototype.listar = function (pagina) {
        var _this = this;
        this.cargando = true;
        this.paginaActual = pagina;
        var proveedoresIds = [];
        for (var i in this.proveedoresSeleccionados) {
            proveedoresIds.push(this.proveedoresSeleccionados[i].id);
        }
        var jurisdiccionesIds = [];
        for (var i in this.jurisdiccionesSeleccionadas) {
            jurisdiccionesIds.push(this.jurisdiccionesSeleccionadas[i].id);
        }
        var parametros = {
            clues: this.clues,
            proveedores: proveedoresIds,
            jurisdicciones: jurisdiccionesIds,
            page: this.paginaActual,
            per_page: this.resultadosPorPagina,
            ordenar_causes: this.ordenarCauses,
            ordenar_no_causes: this.ordenarNoCauses,
            ordenar_material_curacion: this.ordenarMaterialCuracion
        };
        //var parametros = JSON.stringify(parametrosObj);
        this.apiService.abasto(parametros).subscribe(function (respuesta) {
            _this.cargando = false;
            _this.lista = respuesta.data;
            _this.total = respuesta.total | 0;
            _this.paginasTotales = Math.ceil(_this.total / _this.resultadosPorPagina);
            _this.indicePaginas = [];
            for (var i_1 = 0; i_1 < _this.paginasTotales; i_1++) {
                _this.indicePaginas.push(i_1 + 1);
            }
            console.log("Items cargados.");
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError.mostrar = true;
            _this.ultimaPeticion = _this.listar;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    AbastoComponent.prototype.exportar = function () {
        var query = "token=" + localStorage.getItem('token') + "&ordenar_causes=" + this.ordenarCauses + "&ordenar_no_causes=" + this.ordenarNoCauses + "&ordenar_material_curacion=" + this.ordenarMaterialCuracion;
        if (this.clues != "") {
            query += "&clues=" + this.clues;
        }
        var lista_proveedores = "";
        for (var i in this.proveedoresSeleccionados) {
            if (lista_proveedores != "") {
                lista_proveedores += ",";
            }
            lista_proveedores += "" + this.proveedoresSeleccionados[i].id;
        }
        if (lista_proveedores != "") {
            query += "&proveedores=" + lista_proveedores;
        }
        var lista_jurisdicciones = "";
        for (var i in this.jurisdiccionesSeleccionadas) {
            if (lista_jurisdicciones != "") {
                lista_jurisdicciones += ",";
            }
            lista_jurisdicciones += "" + this.jurisdiccionesSeleccionadas[i].id;
        }
        if (lista_jurisdicciones != "") {
            query += "&jurisdicciones=" + lista_jurisdicciones;
        }
        window.open(__WEBPACK_IMPORTED_MODULE_2__environments_environment__["a" /* environment */].API_URL + "/abasto-excel?" + query);
    };
    // # SECCION: Paginación
    AbastoComponent.prototype.paginaSiguiente = function () {
        this.listar(this.paginaActual + 1);
    };
    AbastoComponent.prototype.paginaAnterior = function () {
        this.listar(this.paginaActual - 1);
    };
    return AbastoComponent;
}());
AbastoComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-abasto',
        template: __webpack_require__("../../../../../src/app/administrador-central/abasto/abasto.component.html"),
        styles: [__webpack_require__("../../../../../src/app/administrador-central/abasto/abasto.component.css")],
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_4__administrador_central_service__["a" /* AdministradorCentralService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__administrador_central_service__["a" /* AdministradorCentralService */]) === "function" && _b || Object])
], AbastoComponent);

var _a, _b;
//# sourceMappingURL=C:/wamp/www/x3-C/src/abasto.component.js.map

/***/ }),

/***/ "../../../../../src/app/administrador-central/administrador-central-routing.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__abasto_abasto_component__ = __webpack_require__("../../../../../src/app/administrador-central/abasto/abasto.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__pedidos_pedidos_component__ = __webpack_require__("../../../../../src/app/administrador-central/pedidos/pedidos.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__transferencias_recursos_transferencias_recursos_component__ = __webpack_require__("../../../../../src/app/administrador-central/transferencias-recursos/transferencias-recursos.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__entregas_mes_entregas_mes_component__ = __webpack_require__("../../../../../src/app/administrador-central/entregas-mes/entregas-mes.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__auth_guard_service__ = __webpack_require__("../../../../../src/app/auth-guard.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__permisos_guard__ = __webpack_require__("../../../../../src/app/permisos.guard.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AdministradorCentralRoutingModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};








var routes = [
    { path: 'administrador-central', redirectTo: '/administrador-central/pedidos', pathMatch: 'full' },
    {
        path: 'administrador-central',
        children: [
            { path: 'pedidos', component: __WEBPACK_IMPORTED_MODULE_3__pedidos_pedidos_component__["a" /* PedidosComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_7__permisos_guard__["a" /* PermisosGuard */]], data: { key: 'bsIbPL3qv6XevcAyrRm1GxJufDbzLOax' } },
            { path: 'abasto', component: __WEBPACK_IMPORTED_MODULE_2__abasto_abasto_component__["a" /* AbastoComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_7__permisos_guard__["a" /* PermisosGuard */]], data: { key: 'bwWWUufmEBRFpw9HbUJQUP8EFnagynQv' } },
            { path: 'transferencias-recursos', component: __WEBPACK_IMPORTED_MODULE_4__transferencias_recursos_transferencias_recursos_component__["a" /* TransferenciasRecursosComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_7__permisos_guard__["a" /* PermisosGuard */]], data: { key: 's8kSv2Gj9DZwRvClVRmZohp92Rtvi26i' } },
            { path: 'entregas-mes', component: __WEBPACK_IMPORTED_MODULE_5__entregas_mes_entregas_mes_component__["a" /* EntregasMesComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_7__permisos_guard__["a" /* PermisosGuard */]], data: { key: 'fWA5oDswZ2Ra4O8YaCy6nEY8OeCOxg9C' } },
        ],
        canActivate: [__WEBPACK_IMPORTED_MODULE_6__auth_guard_service__["a" /* AuthGuard */]]
    }
];
var AdministradorCentralRoutingModule = (function () {
    function AdministradorCentralRoutingModule() {
    }
    return AdministradorCentralRoutingModule;
}());
AdministradorCentralRoutingModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */].forChild(routes)],
        exports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */]]
    })
], AdministradorCentralRoutingModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/administrador-central-routing.module.js.map

/***/ }),

/***/ "../../../../../src/app/administrador-central/administrador-central.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_angular2_highcharts__ = __webpack_require__("../../../../angular2-highcharts/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_angular2_highcharts___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_angular2_highcharts__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__hub_hub_module__ = __webpack_require__("../../../../../src/app/hub/hub.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__perfil_perfil_module__ = __webpack_require__("../../../../../src/app/perfil/perfil.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__bloquear_pantalla_bloquear_pantalla_module__ = __webpack_require__("../../../../../src/app/bloquear-pantalla/bloquear-pantalla.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__paginacion_paginacion_module__ = __webpack_require__("../../../../../src/app/paginacion/paginacion.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__administrador_central_routing_module__ = __webpack_require__("../../../../../src/app/administrador-central/administrador-central-routing.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__pedidos_pedidos_component__ = __webpack_require__("../../../../../src/app/administrador-central/pedidos/pedidos.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__abasto_abasto_component__ = __webpack_require__("../../../../../src/app/administrador-central/abasto/abasto.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__transferencias_recursos_transferencias_recursos_component__ = __webpack_require__("../../../../../src/app/administrador-central/transferencias-recursos/transferencias-recursos.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__menu_menu_component__ = __webpack_require__("../../../../../src/app/administrador-central/menu/menu.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__menu_lateral_menu_lateral_component__ = __webpack_require__("../../../../../src/app/administrador-central/menu-lateral/menu-lateral.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__administrador_central_service__ = __webpack_require__("../../../../../src/app/administrador-central/administrador-central.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__entregas_mes_entregas_mes_component__ = __webpack_require__("../../../../../src/app/administrador-central/entregas-mes/entregas-mes.component.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AdministradorCentralModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

















var AdministradorCentralModule = (function () {
    function AdministradorCentralModule() {
    }
    return AdministradorCentralModule;
}());
AdministradorCentralModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [
            __WEBPACK_IMPORTED_MODULE_1__angular_common__["CommonModule"],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* RouterModule */],
            __WEBPACK_IMPORTED_MODULE_3__angular_forms__["FormsModule"],
            __WEBPACK_IMPORTED_MODULE_5__hub_hub_module__["a" /* HubModule */],
            __WEBPACK_IMPORTED_MODULE_6__perfil_perfil_module__["a" /* PerfilModule */],
            __WEBPACK_IMPORTED_MODULE_7__bloquear_pantalla_bloquear_pantalla_module__["a" /* BloquearPantallaModule */],
            __WEBPACK_IMPORTED_MODULE_8__paginacion_paginacion_module__["a" /* PaginacionModule */],
            __WEBPACK_IMPORTED_MODULE_9__administrador_central_routing_module__["a" /* AdministradorCentralRoutingModule */],
            __WEBPACK_IMPORTED_MODULE_4_angular2_highcharts__["ChartModule"]
        ],
        declarations: [__WEBPACK_IMPORTED_MODULE_10__pedidos_pedidos_component__["a" /* PedidosComponent */], __WEBPACK_IMPORTED_MODULE_11__abasto_abasto_component__["a" /* AbastoComponent */], __WEBPACK_IMPORTED_MODULE_12__transferencias_recursos_transferencias_recursos_component__["a" /* TransferenciasRecursosComponent */], __WEBPACK_IMPORTED_MODULE_13__menu_menu_component__["a" /* MenuComponent */], __WEBPACK_IMPORTED_MODULE_14__menu_lateral_menu_lateral_component__["a" /* MenuLateralComponent */], __WEBPACK_IMPORTED_MODULE_16__entregas_mes_entregas_mes_component__["a" /* EntregasMesComponent */]],
        providers: [__WEBPACK_IMPORTED_MODULE_15__administrador_central_service__["a" /* AdministradorCentralService */]]
    })
], AdministradorCentralModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/administrador-central.module.js.map

/***/ }),

/***/ "../../../../../src/app/administrador-central/administrador-central.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/@angular/http.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__ = __webpack_require__("../../../../../src/app/jwt-request.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AdministradorCentralService; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var AdministradorCentralService = (function () {
    function AdministradorCentralService(http, jwtRequest) {
        this.http = http;
        this.jwtRequest = jwtRequest;
    }
    AdministradorCentralService.prototype.jurisdicciones = function () {
        return this.jwtRequest.get("jurisdicciones").map(function (response) { return response.json().data; });
    };
    AdministradorCentralService.prototype.proveedores = function () {
        return this.jwtRequest.get("proveedores").map(function (response) { return response.json().data; });
    };
    AdministradorCentralService.prototype.abasto = function (parametros) {
        if (parametros === void 0) { parametros = {}; }
        return this.jwtRequest.get("administrador-central/abasto", null, parametros).map(function (response) { return response.json().data; });
    };
    AdministradorCentralService.prototype.pedidos = function (parametros) {
        if (parametros === void 0) { parametros = {}; }
        return this.jwtRequest.get("administrador-central/pedidos", null, parametros).map(function (response) { return response.json().data; });
    };
    AdministradorCentralService.prototype.presupuesto = function (parametros) {
        return this.jwtRequest.get("administrador-central/presupuesto-pedidos", null, parametros).map(function (response) { return response.json(); });
    };
    AdministradorCentralService.prototype.unidadesMedicasConPresupuesto = function (parametros) {
        if (parametros === void 0) { parametros = {}; }
        return this.jwtRequest.get("administrador-central/unidades-medicas-con-presupuesto", null, parametros).map(function (response) { return response.json().data; });
    };
    AdministradorCentralService.prototype.mesesPresupuestoActual = function () {
        return this.jwtRequest.get("administrador-central/meses-presupuesto-actual", null, null).map(function (response) { return response.json().data; });
    };
    AdministradorCentralService.prototype.aniosPresupuestoActual = function () {
        return this.jwtRequest.get("administrador-central/anios-presupuesto-actual", null, null).map(function (response) { return response.json().data; });
    };
    AdministradorCentralService.prototype.presupuestoUnidadMedica = function (parametros) {
        if (parametros === void 0) { parametros = {}; }
        return this.jwtRequest.get("administrador-central/presupuesto-unidad-medica", null, parametros).map(function (response) { return response.json().data; });
    };
    AdministradorCentralService.prototype.transferenciasLista = function (parametros) {
        if (parametros === void 0) { parametros = {}; }
        return this.jwtRequest.get("administrador-central/transferencias-presupuestos", null, parametros).map(function (response) { return response.json().data; });
    };
    AdministradorCentralService.prototype.transferirPresupuesto = function (parametros) {
        if (parametros === void 0) { parametros = {}; }
        return this.jwtRequest.post("administrador-central/transferencias-presupuestos", parametros).map(function (response) { return response.json().data; });
    };
    AdministradorCentralService.prototype.mesesAniosAnteriorFechaActual = function () {
        return this.jwtRequest.get("administrador-central/meses-anios-presupuesto-actual-anterior-fecha-actual", null, null).map(function (response) { return response.json().data; });
    };
    AdministradorCentralService.prototype.transferirSaldosAlMesActual = function (parametros) {
        if (parametros === void 0) { parametros = {}; }
        return this.jwtRequest.post("administrador-central/transferencias-saldos-mes-actual", parametros).map(function (response) { return response.json().data; });
    };
    AdministradorCentralService.prototype.mesesAniosPedidos = function () {
        return this.jwtRequest.get("administrador-central/meses-anios-pedidos", null, null).map(function (response) { return response.json().data; });
    };
    AdministradorCentralService.prototype.entregasPedidosStatsMesesAnios = function (payload) {
        if (payload === void 0) { payload = {}; }
        return this.jwtRequest.get("administrador-central/entregas-pedidos-stats-mes-anio", null, payload).map(function (response) { return response.json().data; });
    };
    AdministradorCentralService.prototype.entregasPedidosStatsDiarias = function (payload) {
        if (payload === void 0) { payload = {}; }
        return this.jwtRequest.get("administrador-central/entregas-pedidos-stats-diarias", null, payload).map(function (response) { return response.json().data; });
    };
    AdministradorCentralService.prototype.pedidosCluesMesAnio = function (payload) {
        if (payload === void 0) { payload = {}; }
        return this.jwtRequest.get("administrador-central/pedidos-clues-mes-anio", null, payload).map(function (response) { return response.json().data; });
    };
    return AdministradorCentralService;
}());
AdministradorCentralService = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__["a" /* JwtRequestService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__["a" /* JwtRequestService */]) === "function" && _b || Object])
], AdministradorCentralService);

var _a, _b;
//# sourceMappingURL=C:/wamp/www/x3-C/src/administrador-central.service.js.map

/***/ }),

/***/ "../../../../../src/app/administrador-central/entregas-mes/entregas-mes.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/administrador-central/entregas-mes/entregas-mes.component.html":
/***/ (function(module, exports) {

module.exports = "<administrador-central-menu></administrador-central-menu>\r\n<div style=\"height:50px;\"></div>\r\n<div class=\"contenedor columns \" style=\"height:100%; \">\r\n    <div class=\"column is-one-quarter is-hidden-mobile\">\r\n        <administrador-central-menu-lateral></administrador-central-menu-lateral>\r\n    </div>\r\n    <div class=\"column\">\r\n        <br>\r\n        <nav class=\"level\">\r\n            <div class=\"level-left\">\r\n                <div class=\"level-item\">\r\n                    <h1 class=\"title\">\r\n                        <span class=\"icon is-medium\"><i class=\"fa fa-bar-chart\"></i></span> Entregas por mes\r\n                    </h1>\r\n                </div>\r\n            </div>\r\n            <div class=\"level-right\">\r\n                <div class=\"level-item\">\r\n                     <h1 class=\"subtitle\">Pedidos de </h1>\r\n                </div>\r\n                <div class=\"level-item\">\r\n                    <p class=\"control \"  [ngClass]=\"{'is-loading': cargandoFechas, 'is-disabled': cargandoFechas}\">\r\n                        <span class=\"select is-fullwidth\">\r\n                            <select  (change)=\"generarStats()\"  [(ngModel)]=\"fecha\">\r\n                                <option value=\"-1\" *ngIf=\"cargandoFechas\">Cargando...</option>\r\n                                <option value=\"-1\" *ngIf=\"listaMesesAnios.length > 0\">No hay meses</option>\r\n                                <option *ngFor=\"let item of listaMesesAnios\" [value]=\"item.fecha\">{{ item.mes_nombre }}/{{ item.anio }}</option>\r\n                            </select>\r\n                        </span>\r\n                    </p> \r\n                </div>\r\n            </div>\r\n\r\n        </nav>\r\n        <div class=\"is-fullwidth has-text-centered\" *ngIf=\"cargandoEstadisticasGlobales\">\r\n            <div class=\"notification is-white\">\r\n                <span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando estadisticas globales...</span>\r\n            </div>\r\n        </div>\r\n        <div class=\"columns is-multiline \"  *ngIf=\"!cargandoEstadisticasGlobales\">\r\n            <div class=\"column is-4\" *ngFor=\"let item of estadisticasGlobales\">\r\n                <div class=\"notification is-white\">\r\n                    <h1 class=\"title\" style=\"font-size:1.2em;  margin-bottom:0.2em;color:#00d1b2\">${{ item.total_monto_solicitado | number:'1.2-2' }}</h1>\r\n                    <h1 class=\"title\" style=\"font-size:0.8em; margin-bottom:0.2em;\">{{ item.proveedor }}</h1>\r\n                    <hr style=\"margin: 0.2em 0\">\r\n                    <nav class=\"level\"><div class=\"level-left\"><small>Entregado</small></div><div class=\"level-right\"><small>{{ item.porcentaje_entregado | number:'1.2-2' }}%</small></div></nav>\r\n                   \r\n                   \r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"columns is-multiline\"  *ngIf=\"!cargandoEstadisticasGlobales\">\r\n            <div class=\"column is-12\" *ngFor=\"let item of listaEntregasEstadisticaDiaria; let  i = index\">\r\n                <div style=\"display:block; background:white; border-radius:0.2em; padding: 0.5em 0;\" *ngIf=\"!item.cargando && item.options\">\r\n                    <nav class=\"level\" style=\"margin:1em;\">\r\n                        <div class=\"level-left\">\r\n                            <p><b>ENTREGAS {{ item.proveedor }}</b> <small style=\"color:gray;\">Estadística diaria</small></p>\r\n                        </div>\r\n                        <div class=\"level-right\">\r\n                            <div>\r\n                                <span class=\"tag \" style=\"cursor:pointer\" [ngClass]=\"{ 'is-primary': item.tipoDatos == 'claves' }\" (click)=\"item.tipoDatos = 'claves'; renderGrafica(i)\">Claves</span> \r\n                                <span class=\"tag \" style=\"cursor:pointer\" [ngClass]=\"{ 'is-primary': item.tipoDatos == 'insumos' }\" (click)=\"item.tipoDatos = 'insumos'; renderGrafica(i)\">Insumos</span> \r\n                                <span class=\"tag \" style=\"cursor:pointer\" [ngClass]=\"{ 'is-primary': item.tipoDatos == 'monto' }\" (click)=\"item.tipoDatos = 'monto'; renderGrafica(i)\">$ Monto</span>\r\n                            </div>\r\n                            \r\n                        </div>\r\n                    </nav>\r\n                    <hr style=\"margin:0\">\r\n                    <chart [options]=\"item.options\" style=\"display:block;\"></chart>\r\n                </div>\r\n\r\n                <div class=\"is-fullwidth has-text-centered\"  *ngIf=\"item.cargando \">\r\n                    <div class=\"notification is-white\">\r\n                        <span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando estadísticas diarias de: <b>{{item.proveedor}}</b>...</span>\r\n                    </div>\r\n                </div>\r\n                \r\n            </div>\r\n        </div>\r\n\r\n\r\n        <div class=\"columns is-multiline\"  *ngIf=\"!cargandoEstadisticasGlobales\">\r\n            <div class=\"column is-12\" *ngFor=\"let item of listaPedidosClues; let  i = index\">\r\n                <div style=\"display:block; background:white; border-radius:0.2em; padding: 0.5em 0;\" *ngIf=\"!item.cargando\">\r\n                    <nav class=\"level\" style=\"margin:1em;\">\r\n                        <div class=\"level-left\">\r\n                            <p><b>ENTREGAS DEL MES DE {{ item.proveedor }}</b> <small style=\"color:gray;\">Expresado en piezas</small></p>\r\n                        </div>\r\n                    </nav>\r\n                    <hr style=\"margin:0\">\r\n                    <table class=\"table\" style=\"font-size:0.8em;\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>NUM.</th>\r\n                                <th>UNIDAD MÉDICA</th>\r\n                                <th colspan=\"2\">CAUSES</th>\r\n                                <th colspan=\"2\">NO CAUSES</th>\r\n                                <th colspan=\"2\">MATERIAL DE CURACIÓN</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor=\"let um of item.data; let j = index\">\r\n                                <td>{{ j + 1 }}</td>\r\n                                <td><a (click)=\"generarExcel(um.clues,item.proveedor_id)\">{{ um.unidad_medica }}</a></td>\r\n                                <td *ngIf=\"um.causes_cantidad_solicitada > 0\">{{ um.causes_cantidad_recibida | number: '1.0-0' }}/{{ um.causes_cantidad_solicitada | number: '1.0-0' }}</td>                                \r\n                                <th *ngIf=\"um.causes_cantidad_solicitada > 0\">{{ parseNaN((um.causes_cantidad_recibida * 100 / um.causes_cantidad_solicitada)) | number: '1.2-2' }}%</th>\r\n                                <td colspan=\"2\" *ngIf=\"um.causes_cantidad_solicitada == 0\"></td>\r\n\r\n                                <td *ngIf=\"um.no_causes_cantidad_solicitada > 0\">{{ um.no_causes_cantidad_recibida | number: '1.0-0' }}/{{ um.no_causes_cantidad_solicitada | number: '1.0-0' }}</td>\r\n                                <th *ngIf=\"um.no_causes_cantidad_solicitada > 0\">{{ parseNaN((um.no_causes_cantidad_recibida * 100 / um.no_causes_cantidad_solicitada)) | number: '1.2-2' }}%</th>\r\n                                <td colspan=\"2\" *ngIf=\"um.no_causes_cantidad_solicitada == 0\"></td>\r\n\r\n                                <td *ngIf=\"um.material_curacion_cantidad_solicitada > 0\">{{ um.material_curacion_cantidad_recibida | number: '1.0-0' }}/{{ um.material_curacion_cantidad_solicitada | number: '1.0-0' }}</td>\r\n                                <th *ngIf=\"um.material_curacion_cantidad_solicitada > 0\">{{ parseNaN((um.material_curacion_cantidad_recibida * 100 / um.material_curacion_cantidad_solicitada)) | number: '1.2-2' }}%</th>\r\n                                <td colspan=\"2\" *ngIf=\"um.material_curacion_cantidad_solicitada == 0\"></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n\r\n                <div class=\"is-fullwidth has-text-centered\"  *ngIf=\"item.cargando \">\r\n                    <div class=\"notification is-white\">\r\n                        <span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando entregas del mes de: <b>{{item.proveedor}}</b>...</span>\r\n                    </div>\r\n                </div>\r\n                \r\n            </div>\r\n        </div>\r\n        \r\n    </div>\r\n</div>\r\n\r\n<div class=\"notification is-danger\" style=\"position:fixed; left:1em;  bottom:1em;\" *ngIf=\"mensajeError.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeError.mostrar = false\"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style=\"text-align:center\" ><a  class=\"button is-danger is-inverted\" (click)=\"ultimaPeticion(); mensajeError.mostrar = false\"> <span class=\"icon\"><i class=\"fa fa-refresh\"></i></span> <span>Volver a intentar</span></a></p>        \r\n</div>\r\n\r\n<div class=\"notification is-success\" style=\"position:fixed; left:1em;  bottom:1em; width: auto\" *ngIf=\"mensajeExito.mostrar\">       \r\n    <button class=\"delete\" (click)=\"mensajeExito.mostrar = false\"></button>\r\n    <p><span class=\"icon\" style=\"margin-right: 0.5em;\"><i class=\"fa fa-check-circle\"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style=\"text-align: center;\"><small >Este mensaje desaparecerá en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n"

/***/ }),

/***/ "../../../../../src/app/administrador-central/entregas-mes/entregas-mes.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__environments_environment__ = __webpack_require__("../../../../../src/environments/environment.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__mensaje__ = __webpack_require__("../../../../../src/app/mensaje.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__administrador_central_service__ = __webpack_require__("../../../../../src/app/administrador-central/administrador-central.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EntregasMesComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var EntregasMesComponent = (function () {
    function EntregasMesComponent(title, apiService) {
        this.title = title;
        this.apiService = apiService;
        this.cargando = false;
        // # SECCION: Esta sección es para mostrar mensajes
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_3__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_3__mensaje__["a" /* Mensaje */]();
        // # FIN SECCION
        this.listaMesesAnios = [];
        this.fecha = -1;
        this.estadisticasGlobales = [];
        this.listaEntregasEstadisticaDiaria = [];
        this.listaPedidosClues = [];
        this.cargandoFechas = false;
        this.cargandoEstadisticasGlobales = false;
    }
    EntregasMesComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_3__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_3__mensaje__["a" /* Mensaje */]();
        this.title.setTitle("Entregas del mes / Administrador central");
        this.cargandoFechas = true;
        this.apiService.mesesAniosPedidos().subscribe(function (respuesta) {
            _this.cargandoFechas = false;
            _this.listaMesesAnios = respuesta;
            if (_this.listaMesesAnios.length > 0) {
                _this.fecha = _this.listaMesesAnios[0].fecha;
                _this.generarStats();
            }
        }, function (error) {
            _this.cargandoFechas = false;
            console.log(error);
        });
    };
    EntregasMesComponent.prototype.generarStats = function () {
        var _this = this;
        if (this.listaMesesAnios.length <= 0) {
            return;
        }
        var fecha_seleccionada = this.fecha.split("/");
        if (fecha_seleccionada.length != 2) {
            return;
        }
        var entregasPedidosStatsPayload = {
            mes: fecha_seleccionada[0],
            anio: fecha_seleccionada[1]
        };
        this.cargandoEstadisticasGlobales = true;
        this.apiService.entregasPedidosStatsMesesAnios(entregasPedidosStatsPayload).subscribe(function (respuesta) {
            _this.cargandoEstadisticasGlobales = false;
            _this.estadisticasGlobales = respuesta;
            _this.listaEntregasEstadisticaDiaria = [];
            _this.listaPedidosClues = [];
            for (var i in _this.estadisticasGlobales) {
                _this.listaEntregasEstadisticaDiaria.push({
                    proveedor_id: _this.estadisticasGlobales[i].proveedor_id,
                    proveedor: _this.estadisticasGlobales[i].proveedor,
                    cargando: true,
                    tipoDatos: 'claves',
                    data: []
                });
                _this.listaPedidosClues.push({
                    proveedor_id: _this.estadisticasGlobales[i].proveedor_id,
                    proveedor: _this.estadisticasGlobales[i].proveedor_nombre_completo,
                    cargando: true,
                    data: []
                });
                _this.mostrarPedidosCluesProveedor(_this.listaPedidosClues.length - 1);
                _this.generarStatsDiariasProveedor(_this.listaEntregasEstadisticaDiaria.length - 1);
            }
        }, function (error) {
            _this.cargandoEstadisticasGlobales = false;
            console.log(error);
        });
    };
    EntregasMesComponent.prototype.mostrarPedidosCluesProveedor = function (index) {
        var _this = this;
        var fecha_seleccionada = this.fecha.split("/");
        if (fecha_seleccionada.length != 2) {
            return;
        }
        var payload = {
            mes: fecha_seleccionada[0],
            anio: fecha_seleccionada[1],
            proveedor_id: this.listaPedidosClues[index].proveedor_id
        };
        this.listaPedidosClues[index].cargando = true;
        this.apiService.pedidosCluesMesAnio(payload).subscribe(function (respuesta) {
            _this.listaPedidosClues[index].cargando = false;
            _this.listaPedidosClues[index].data = respuesta;
        }, function (error) {
            console.log(error);
            _this.listaPedidosClues[index].cargando = false;
        });
    };
    EntregasMesComponent.prototype.generarStatsDiariasProveedor = function (index) {
        var _this = this;
        var fecha_seleccionada = this.fecha.split("/");
        if (fecha_seleccionada.length != 2) {
            return;
        }
        var payload = {
            mes: fecha_seleccionada[0],
            anio: fecha_seleccionada[1],
            proveedor_id: this.listaEntregasEstadisticaDiaria[index].proveedor_id
        };
        this.listaEntregasEstadisticaDiaria[index].cargando = true;
        this.apiService.entregasPedidosStatsDiarias(payload).subscribe(function (respuesta) {
            _this.listaEntregasEstadisticaDiaria[index].cargando = false;
            _this.listaEntregasEstadisticaDiaria[index].data = respuesta;
            _this.renderGrafica(index);
        }, function (error) {
            console.log(error);
            _this.listaEntregasEstadisticaDiaria[index].cargando = false;
        });
    };
    EntregasMesComponent.prototype.renderGrafica = function (index) {
        var categorias = [];
        var causes = [];
        var no_causes = [];
        var material_curacion = [];
        for (var i in this.listaEntregasEstadisticaDiaria[index].data) {
            categorias.push(this.listaEntregasEstadisticaDiaria[index].data[i].dia + " " + this.listaEntregasEstadisticaDiaria[index].data[i].mes_nombre);
            if (this.listaEntregasEstadisticaDiaria[index].tipoDatos == 'claves') {
                causes.push(this.listaEntregasEstadisticaDiaria[index].data[i].causes_claves || 0);
                no_causes.push(this.listaEntregasEstadisticaDiaria[index].data[i].no_causes_claves || 0);
                material_curacion.push(this.listaEntregasEstadisticaDiaria[index].data[i].material_curacion_claves || 0);
            }
            if (this.listaEntregasEstadisticaDiaria[index].tipoDatos == 'insumos') {
                causes.push(this.listaEntregasEstadisticaDiaria[index].data[i].causes_cantidad || 0);
                no_causes.push(this.listaEntregasEstadisticaDiaria[index].data[i].no_causes_cantidad || 0);
                material_curacion.push(this.listaEntregasEstadisticaDiaria[index].data[i].material_curacion_cantidad || 0);
            }
            if (this.listaEntregasEstadisticaDiaria[index].tipoDatos == 'monto') {
                causes.push(Number(this.listaEntregasEstadisticaDiaria[index].data[i].causes_monto) || 0.00);
                no_causes.push(Number(this.listaEntregasEstadisticaDiaria[index].data[i].no_causes_monto) || 0.00);
                material_curacion.push(Number(this.listaEntregasEstadisticaDiaria[index].data[i].material_curacion_monto) || 0.00);
            }
        }
        var yAxis = {};
        if (this.listaEntregasEstadisticaDiaria[index].tipoDatos == 'claves') {
            yAxis = {
                min: 0,
                title: {
                    text: 'Total claves'
                },
                stackLabels: {
                    enabled: true,
                    style: {
                        fontWeight: 'bold',
                        color: 'gray'
                    }
                }
            };
        }
        if (this.listaEntregasEstadisticaDiaria[index].tipoDatos == 'insumos') {
            yAxis = {
                min: 0,
                title: {
                    text: 'Total insumos'
                },
                stackLabels: {
                    enabled: true,
                    style: {
                        fontWeight: 'bold',
                        color: 'gray'
                    }
                }
            };
        }
        if (this.listaEntregasEstadisticaDiaria[index].tipoDatos == 'monto') {
            yAxis = {
                min: 0,
                title: {
                    text: 'Total en monto'
                },
                stackLabels: {
                    enabled: true,
                    style: {
                        fontWeight: 'bold',
                        color: 'gray'
                    }
                }
            };
        }
        this.listaEntregasEstadisticaDiaria[index].options = {
            chart: { type: 'column' },
            xAxis: {
                categories: categorias
            },
            yAxis: yAxis,
            legend: {
                align: 'right',
                x: -30,
                verticalAlign: 'top',
                y: 25,
                floating: true,
                backgroundColor: 'white',
                borderColor: '#CCC',
                borderWidth: 1,
                shadow: false
            },
            plotOptions: {
                column: {
                    stacking: 'normal',
                    dataLabels: {
                        enabled: true,
                    }
                }
            },
            title: { text: 'Entrega de insumos' },
            series: [{
                    name: 'Causes',
                    data: causes,
                },
                {
                    name: 'No Causes',
                    data: no_causes,
                },
                {
                    name: 'Material Curacion',
                    data: material_curacion,
                }]
        };
    };
    EntregasMesComponent.prototype.generarExcel = function (clues, proveedor_id) {
        var fecha_seleccionada = this.fecha.split("/");
        if (fecha_seleccionada.length != 2) {
            return;
        }
        console.log(fecha_seleccionada[0]);
        var mes = ('' + fecha_seleccionada[0]).length < 2 ? '0' + fecha_seleccionada[0] : fecha_seleccionada[0];
        var fecha_desde = new Date(fecha_seleccionada[1], fecha_seleccionada[0] - 1, 1);
        var fecha_hasta = new Date(fecha_seleccionada[1], fecha_seleccionada[0], 0);
        var cadena_fecha_desde = fecha_seleccionada[1] + "-" + mes + "-01";
        var cadena_fecha_hasta = fecha_seleccionada[1] + "-" + mes + "-" + fecha_hasta.getDate();
        var query = "token=" + localStorage.getItem('token') + "&q=" + clues + "&proveedores=" + proveedor_id + "&status=TR,PS,FI,EF,EX&fecha_desde=" + cadena_fecha_desde + "&fecha_hasta=" + cadena_fecha_hasta;
        window.open(__WEBPACK_IMPORTED_MODULE_2__environments_environment__["a" /* environment */].API_URL + "/administrador-central/pedidos-excel?" + query);
    };
    EntregasMesComponent.prototype.parseNaN = function (val) {
        if (isNaN(val)) {
            return 0;
        }
        return val;
    };
    return EntregasMesComponent;
}());
EntregasMesComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-entregas-mes',
        template: __webpack_require__("../../../../../src/app/administrador-central/entregas-mes/entregas-mes.component.html"),
        styles: [__webpack_require__("../../../../../src/app/administrador-central/entregas-mes/entregas-mes.component.css")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_4__administrador_central_service__["a" /* AdministradorCentralService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__administrador_central_service__["a" /* AdministradorCentralService */]) === "function" && _b || Object])
], EntregasMesComponent);

var _a, _b;
//# sourceMappingURL=C:/wamp/www/x3-C/src/entregas-mes.component.js.map

/***/ }),

/***/ "../../../../../src/app/administrador-central/menu-lateral/menu-lateral.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/administrador-central/menu-lateral/menu-lateral.component.html":
/***/ (function(module, exports) {

module.exports = "<aside class=\"menu\" style=\"padding: 1em;\">\r\n    <div *ngFor=\"let item of menuAutorizado\">\r\n        <p class=\"menu-label\">{{ item.titulo }}</p>\r\n        <ul class=\"menu-list\">\r\n            <li *ngFor=\"let modulo of item.modulos\">\r\n                <a routerLink=\"{{ modulo.url }}\" routerLinkActive=\"is-active\">\r\n                    <span class=\"icon\" ><i class=\"fa {{ modulo.icono }}\"></i></span>&nbsp;&nbsp;<span>{{ modulo.titulo }}</span>\r\n                </a>\r\n            </li>    \r\n        </ul>\r\n    </div>\r\n        \r\n</aside>"

/***/ }),

/***/ "../../../../../src/app/administrador-central/menu-lateral/menu-lateral.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MenuLateralComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var MenuLateralComponent = (function () {
    function MenuLateralComponent() {
        this.usuario = {};
        this.menu = [];
        this.menuAutorizado = [];
    }
    MenuLateralComponent.prototype.ngOnInit = function () {
        this.menu = [
            {
                titulo: 'Reportes',
                modulos: [
                    { permiso: 'bsIbPL3qv6XevcAyrRm1GxJufDbzLOax', icono: 'fa-file-text', titulo: "Pedidos", url: "/administrador-central/pedidos" },
                    { permiso: 'bwWWUufmEBRFpw9HbUJQUP8EFnagynQv', icono: 'fa-line-chart', titulo: "Abasto", url: "/administrador-central/abasto" },
                    { permiso: 'fWA5oDswZ2Ra4O8YaCy6nEY8OeCOxg9C', icono: 'fa-bar-chart', titulo: "Entregas por mes", url: "/administrador-central/entregas-mes" },
                ]
            },
            {
                titulo: 'Operaciones',
                modulos: [
                    { permiso: 's8kSv2Gj9DZwRvClVRmZohp92Rtvi26i', icono: 'fa-exchange', titulo: "Transferencias de recursos", url: "/administrador-central/transferencias-recursos" },
                ]
            },
        ],
            this.menuAutorizado = [];
        var usuario = JSON.parse(localStorage.getItem("usuario"));
        var permisos = usuario.permisos.split("|");
        if (permisos.length > 0) {
            for (var i in this.menu) {
                for (var j in this.menu[i].modulos) {
                    siguienteItemProtegido: for (var k in permisos) {
                        if (permisos[k] == this.menu[i].modulos[j].permiso) {
                            var item = this.initMenuAutorizadoPorItem(this.menu[i].titulo);
                            item.modulos.push(this.menu[i].modulos[j]);
                            break siguienteItemProtegido;
                        }
                    }
                }
            }
        }
    };
    MenuLateralComponent.prototype.initMenuAutorizadoPorItem = function (titulo) {
        for (var i in this.menuAutorizado) {
            if (titulo == this.menuAutorizado[i].titulo) {
                return this.menuAutorizado[i];
            }
        }
        this.menuAutorizado.push({ titulo: titulo, modulos: [] });
        return this.menuAutorizado[this.menuAutorizado.length - 1];
    };
    return MenuLateralComponent;
}());
MenuLateralComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'administrador-central-menu-lateral',
        template: __webpack_require__("../../../../../src/app/administrador-central/menu-lateral/menu-lateral.component.html"),
        styles: [__webpack_require__("../../../../../src/app/administrador-central/menu-lateral/menu-lateral.component.css")]
    }),
    __metadata("design:paramtypes", [])
], MenuLateralComponent);

//# sourceMappingURL=C:/wamp/www/x3-C/src/menu-lateral.component.js.map

/***/ }),

/***/ "../../../../../src/app/administrador-central/menu/menu.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/administrador-central/menu/menu.component.html":
/***/ (function(module, exports) {

module.exports = "<section class=\"hero is-dark\" style=\"position: fixed; width: 100%;top:0px; z-index:99\">\r\n    <div class=\"hero-head\">\r\n        <div class=\"container is-fluid\">\r\n            <nav class=\"nav is-primary\">\r\n                <!--<a title=\"Almacen\" class=\"nav-item pull-left nav-hub-active\"  routerLink=\"/almacen\">\r\n            \r\n                  <img src=\"assets/hub-farmacia.svg\" alt=\"icono\">\r\n              \r\n                </a>-->\r\n                <div class=\"nav-left\">\r\n                    <a class=\"nav-item is-brand\" routerLink=\"/panel-control\" routerLinkActive=\"active\">\r\n                      <!--<img src=\"http://bulma.io/images/bulma-type.png\" alt=\"Bulma logo\">-->\r\n                      <!--<span class=\"icon\">\r\n                          <i class=\"fa fa-cog\"></i>\r\n                      </span>--> \r\n                      <img src=\"assets/hub-administrador-central.svg\" alt=\"icono\">\r\n                      <h1 class=\"title\">&nbsp;Administrador central</h1>\r\n                    </a>\r\n                </div>\r\n                <a class=\"nav-item is-hidden-tablet\" (click)=\"toggleMenuLateral()\">\r\n                    <span class=\"icon\">\r\n                        <i class=\"fa fa-navicon\"></i>\r\n                    </span>\r\n                </a>\r\n                <a class=\"nav-item\"  (click)=\"hub.toggle()\">\r\n                    <span class=\"icon\">\r\n                        <i class=\"fa fa-th\"></i>\r\n                    </span>\r\n                </a>\r\n\r\n                <a class=\"nav-item is-hidden-mobile\" (click)=\"perfil.toggle()\">\r\n                    \r\n                    <figure class=\"image\" style=\"width:26px;\"><img src=\"assets/{{ usuario.avatar || 'avatar-unknow' }}.svg\" alt=\"avatar\"></figure>\r\n                    &nbsp;\r\n                    <span>{{ usuario.nombre }} {{ usuario.apellidos }}</span>\r\n                </a>\r\n                <a class=\"nav-item is-hidden-tablet\" (click)=\"perfil.toggle()\">\r\n                    \r\n                    <figure class=\"image\" style=\"width:26px;\"><img src=\"assets/{{ usuario.avatar || 'avatar-unknow' }}.svg\" alt=\"avatar\"></figure>\r\n                </a>\r\n               \r\n                \r\n            </nav>\r\n        </div>\r\n    </div>\r\n</section>\r\n\r\n<app-hub #hub></app-hub>\r\n<app-perfil #perfil></app-perfil>\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active': mostrarMenuLateral}\">\r\n  <div class=\"modal-background\" (click)=\"toggleMenuLateral()\"></div>\r\n  <div class=\"modal-content\">\r\n    <div class=\"card\" style=\"width: 100%\">\r\n        <div class=\"card-content\">\r\n            <administrador-central-menu-lateral></administrador-central-menu-lateral>\r\n        </div>\r\n    </div>\r\n  </div>\r\n  <button class=\"modal-close\" (click)=\"toggleMenuLateral()\"></button>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/administrador-central/menu/menu.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MenuComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var MenuComponent = (function () {
    function MenuComponent() {
        this.mostrarMenuLateral = false;
        this.usuario = {};
    }
    MenuComponent.prototype.ngOnInit = function () {
        this.usuario = JSON.parse(localStorage.getItem("usuario"));
    };
    MenuComponent.prototype.toggleMenuLateral = function () {
        this.mostrarMenuLateral = !this.mostrarMenuLateral;
    };
    return MenuComponent;
}());
MenuComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'administrador-central-menu',
        template: __webpack_require__("../../../../../src/app/administrador-central/menu/menu.component.html"),
        styles: [__webpack_require__("../../../../../src/app/administrador-central/menu/menu.component.css")]
    }),
    __metadata("design:paramtypes", [])
], MenuComponent);

//# sourceMappingURL=C:/wamp/www/x3-C/src/menu.component.js.map

/***/ }),

/***/ "../../../../../src/app/administrador-central/pedidos/pedidos.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "td.causes {\r\n    background-color: #cdff8c;\r\n}\r\n\r\ntd.no-causes {\r\n    background-color: #ffa838;\r\n}\r\n\r\ntd.material-curacion {\r\n    background-color: #ffff7c;\r\n}\r\n\r\n.borrador{\r\n    color:#aaaaaa;\r\n}\r\n\r\n.farmacia{\r\n    color:#a8c0ff;\r\n}\r\n\r\n.sin-surtir{\r\n    color:#dddddd;\r\n}\r\n\r\n.surtiendo{\r\n    color:#e8dd14;\r\n}\r\n\r\n.surtido{\r\n    color:#4aba53;\r\n}\r\n\r\n.expirado{\r\n    color:red;\r\n}", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/administrador-central/pedidos/pedidos.component.html":
/***/ (function(module, exports) {

module.exports = "<administrador-central-menu></administrador-central-menu>\r\n\r\n<div class=\"contenedor columns \" style=\"height:100%; \">\r\n    <div class=\"column is-one-quarter is-hidden-mobile\">\r\n        <div style=\"height:50px;\"></div>\r\n        <administrador-central-menu-lateral></administrador-central-menu-lateral>\r\n    </div>\r\n    <div class=\"column\" style=\"position:relative; overflow-x:hidden;\">\r\n        <div style=\"height:60px;\"></div>\r\n        <div style=\"background: #FFF; overflow:hidden; border-radius:1em; width:100%;margin-bottom:1em;\">\r\n            <table class=\"table\" *ngIf=\"!cargando\" style=\"min-width:100%; font-size:0.8em; margin-bottom:0.2em;margin-top:0.2em;\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Presupuesto anual</th>\r\n                        <th style=\"text-align:center\">Autorizado</th>\r\n                        <th style=\"text-align:center\">Comprometido</th>\r\n                        <th style=\"text-align:center\">Devengado</th>\r\n                        <th style=\"text-align:center\">Disponible</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr>\r\n                        <th>Causes</th>\r\n                        <td style=\"text-align:center\"><span class=\"tag is-primary\">$ {{ presupuesto.causes_modificado | number:'1.2-2' }}</span></td>\r\n                        <td style=\"text-align:center\"><span class=\"tag is-warning\"> $ {{ presupuesto.causes_comprometido | number:'1.2-2' }}</span></td>\r\n                        <td style=\"text-align:center\"><span class=\"tag is-danger\">$ {{ presupuesto.causes_devengado | number:'1.2-2' }}</span></td>\r\n                        <td style=\"text-align:center\"><span class=\"tag is-success\">$ {{ presupuesto.causes_disponible | number:'1.2-2' }}</span></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>No causes</th>\r\n                        <td style=\"text-align:center\"><span class=\"tag is-primary\">$ {{ presupuesto.no_causes_modificado | number:'1.2-2' }}</span></td>\r\n                        <td style=\"text-align:center\"><span class=\"tag is-warning\"> $ {{ presupuesto.no_causes_comprometido | number:'1.2-2' }}</span></td>\r\n                        <td style=\"text-align:center\"><span class=\"tag is-danger\">$ {{ presupuesto.no_causes_devengado | number:'1.2-2' }}</span></td>\r\n                        <td style=\"text-align:center\"><span class=\"tag is-success\">$ {{ presupuesto.no_causes_disponible | number:'1.2-2' }}</span></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>Material de curación</th>\r\n                        <td style=\"text-align:center\"><span class=\"tag is-primary\">$ {{ presupuesto.material_curacion_modificado | number:'1.2-2' }}</span></td>\r\n                        <td style=\"text-align:center\"><span class=\"tag is-warning\"> $ {{ presupuesto.material_curacion_comprometido | number:'1.2-2' }}</span></td>\r\n                        <td style=\"text-align:center\"><span class=\"tag is-danger\">$ {{ presupuesto.material_curacion_devengado | number:'1.2-2' }}</span></td>\r\n                        <td style=\"text-align:center\"><span class=\"tag is-success\">$ {{ presupuesto.material_curacion_disponible | number:'1.2-2' }}</span></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>Total</th>\r\n                        <td style=\"text-align:center\"><span class=\"tag is-primary\">$ {{ presupuesto.total_modificado | number:'1.2-2' }}</span></td>\r\n                        <td style=\"text-align:center\"><span class=\"tag is-warning\"> $ {{ presupuesto.total_comprometido | number:'1.2-2' }}</span></td>\r\n                        <td style=\"text-align:center\"><span class=\"tag is-danger\">$ {{ presupuesto.total_devengado | number:'1.2-2' }}</span></td>\r\n                        <td style=\"text-align:center\"><span class=\"tag is-success\">$ {{ presupuesto.total_disponible | number:'1.2-2' }}</span></td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n         </div>\r\n            \r\n        <section class=\"hero is-primary\"  style=\"  border-radius:  1em  1em 0  0;\" >\r\n            \r\n            <div class=\"hero-body\" style=\"position:relative;\">                    \r\n                \r\n                <a class=\"button  is-primary\" *ngIf=\"!cargando\" style=\"position:absolute; top:1em; right:1em;\" (click)=\"exportar()\"><span class=\"icon \"><i class=\"fa fa-file-excel-o\"></i></span> <span>Exportar</span></a>\r\n                <div class=\"container is-fluid\">\r\n                    \r\n                    <h1 class=\"title\">\r\n                        <span class=\"icon is-medium\"><i class=\"fa fa-file-text\"></i></span> Pedidos\r\n                    </h1>\r\n                    \r\n                    <div class=\"control is-grouped\">\r\n                    <p class=\"control is-expanded\">\r\n                        <input class=\"input is-medium\" type=\"text\" placeholder=\"Buscar por CLUES ó Folio ó Nombre del pedido\" [(ngModel)] = \"q\" (keyup)=\"filtrarQuery($event)\">\r\n                    </p>\r\n                    </div>\r\n                    <div class=\"columns\">                            \r\n                        <div class=\"column\">\r\n                            <label>Proveedores:</label>\r\n                    \r\n                            <p class=\"control is-expanded\">\r\n                                <span class=\"select is-fullwidth\">\r\n                                <select #proveedoresSelect (change)=\"cambioSeleccionProveedor(proveedoresSelect.value)\">\r\n                                    <option value=\"-1\">Todos</option>\r\n                                    <option *ngFor=\"let item of proveedores\" value=\"{{item.id}}\">{{ item.nombre }}</option>\r\n                                </select>\r\n                                </span>\r\n                            </p>                   \r\n                        \r\n                        </div>\r\n                        <div class=\"column\">\r\n                            <label>Jurisdicciones:</label>\r\n                            \r\n                            <p class=\"control is-expanded\">\r\n                                <span class=\"select is-fullwidth\">\r\n                                <select #js id=\"jurisdicciones\"  (change)=\"cambioSeleccionJurisdiccion(js.value)\">\r\n                                    <option value=\"-1\">Todas</option>\r\n                                    <option *ngFor=\"let item of jurisdicciones\" value=\"{{item.id}}\">JS {{ item.numero }} - {{ item.nombre }}</option>\r\n                                </select>\r\n                                </span>\r\n                            </p>\r\n                                                    \r\n                            \r\n                        </div>\r\n                    </div>\r\n                    <div class=\"columns\">                            \r\n                        <div class=\"column\">\r\n                            <label>Status:</label>\r\n                            <p class=\"control is-expanded\">\r\n                                <span class=\"select is-fullwidth\">\r\n                                <select #statusSelect (change)=\"cambioSeleccionStatus(statusSelect.value)\">\r\n                                    <option value=\"-1\">Todos</option>\r\n                                    <option *ngFor=\"let item of status\" value=\"{{item.id}}\">{{ item.descripcion }}</option>\r\n                                </select>\r\n                                </span>\r\n                            </p>                   \r\n                        \r\n                        </div>\r\n                        <div class=\"column\">\r\n                            <label for=\"jurisdicciones\">Desde:</label>                             \r\n                            <p class=\"control is-expanded\">\r\n                                <input class=\"input \" type=\"date\"  [(ngModel)] = \"fecha_desde\" >\r\n                            </p>\r\n                        </div>\r\n                        <div class=\"column\">\r\n                            <label for=\"jurisdicciones\">Hasta:</label>                             \r\n                            <p class=\"control is-expanded\">\r\n                                <input class=\"input \" type=\"date\"  [(ngModel)] = \"fecha_hasta\" >\r\n                            </p>\r\n                        </div>\r\n                        <!--div class=\"column\">\r\n                            <label>Sin Pedidos</label>\r\n                            <div class=\"control\">\r\n                                <button class=\"button is-primary\" (click)=\"sin_pedidos = !sin_pedidos\"><span class=\"icon\"><i class=\"fa\" [ngClass]=\"{'fa-check-square-o': sin_pedidos, 'fa-square-o':!sin_pedidos }\"></i></span></button>\r\n                            </div>\r\n                        </div-->\r\n                    </div>\r\n\r\n                    <div *ngIf=\"jurisdiccionesSeleccionadas.length>0 || proveedoresSeleccionados.length>0 || statusSeleccionados.length>0\">\r\n                        <h1 class=\"title is-6\">Filtro aplicado:</h1>\r\n                        <span class=\"tag is-dark is-medium\" style=\"margin-bottom:0.5em; margin-right:0.2em;\" *ngFor=\"let item of proveedoresSeleccionados; let i = index\">{{ item.nombre_corto }}<button class=\"delete is-small\" (click)=\"quitarProveedor(i)\"></button></span>\r\n                        <span class=\"tag is-white is-medium\" style=\"margin-bottom:0.5em; margin-right:0.2em;\" *ngFor=\"let item of jurisdiccionesSeleccionadas;  let i = index\">JS {{ item.numero }}<button class=\"delete is-small\" (click)=\"quitarJurisdiccion(i)\"></button></span>\r\n                        <span class=\"tag is-warning is-medium\" style=\"margin-bottom:0.5em; margin-right:0.2em;\" *ngFor=\"let item of statusSeleccionados;  let i = index\">{{ item.descripcion }}<button class=\"delete is-small\" (click)=\"quitarStatus(i)\"></button></span>\r\n                        \r\n                    </div>\r\n                    <nav class=\"level\">\r\n                        <div class=\"level-left\">\r\n                            <h1 class=\"title is-5\">Resultados: <b>{{ total }}</b></h1>\r\n                        </div>\r\n                        <div class=\"level-right\">\r\n                            <div class=\"block\">\r\n                            <button class=\"button \" *ngIf=\"jurisdiccionesSeleccionadas.length>0 || proveedoresSeleccionados.length>0  || statusSeleccionados.length>0 || q != '' || fecha_desde != null  || fecha_hasta != null \" (click)=\"q = ''; jurisdiccionesSeleccionadas = []; proveedoresSeleccionados = []; statusSeleccionados =[]; js.value = -1; proveedoresSelect.value= -1; statusSelect.value = -1; fecha_desde = null; fecha_hasta = null; \"><span class=\"icon\"><i class=\"fa fa-times\"></i></span> <span>Limpiar filtro</span></button>\r\n                            <button class=\"button is-primary is-inverted\" (click)=\"listar(1)\"><span class=\"icon\"><i class=\"fa fa-filter\"></i></span> <span>Filtrar</span></button>\r\n                            </div>\r\n                        </div>\r\n                    </nav>\r\n                \r\n                    \r\n                </div>\r\n            </div>\r\n        </section>\r\n        \r\n        <div  style=\"background: #FFF; overflow-x:auto; \">\r\n            <div class=\"is-fullwidth has-text-centered\" *ngIf=\"cargando\">\r\n                <br>\r\n                <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n            <table class=\"table\" *ngIf=\"!cargando\" style=\"min-width:100%; font-size:0.8em;\">\r\n                <thead>\r\n                    <tr>\r\n                        <th colspan=\"5\">\r\n                             Status: \r\n                            <span class=\"icon is-small borrador\"><i class=\"fa fa-pencil\"></i></span> Borrador | \r\n                            <span class=\"icon is-small sin-surtir\"><i class=\"fa fa-circle\"></i></span> Sin Surtir | \r\n                            <span class=\"icon is-small surtiendo\"><i class=\"fa fa-minus-circle\"></i></span> Surtiendo | \r\n                            <span class=\"icon is-small surtido\"><i class=\"fa fa-check-circle\"></i></span> Finalizado | \r\n                            <span class=\"icon is-small farmacia\"><i class=\"fa fa-cubes\"></i></span> Farmacia |\r\n                            <span class=\"icon is-small expirado\"><i class=\"fa fa-times-circle\"></i></span> Expirado\r\n                        </th>\r\n                        <th colspan=\"2\">Total</th>\r\n                        <th colspan=\"2\">Causes</th>\r\n                        <th colspan=\"2\">No causes</th>\r\n                        <th colspan=\"2\">Mat. de curación</th>\r\n                        <th colspan=\"3\"></th>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>Proveedor</th>\r\n                        <th>Folio</th>\r\n                        <th>Nombre</th>\r\n                        <th>Unidad médica</th>\r\n                        <th>Fecha</th>\r\n                        <th>Claves</th>\r\n                        <th>Monto</th>\r\n                        <th>Claves</th>\r\n                        <th>Monto</th>\r\n                        <th>Claves</th>\r\n                        <th>Monto</th>\r\n                        <th>Claves</th>\r\n                        <th>Monto</th>\r\n                        <th>Status</th>  \r\n                        <th>Exportar</th>\r\n                        <th>Remisiones</th>                        \r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor=\"let item of lista; let i=index\">                        \r\n                        <td style=\"vertical-align: middle;\">{{ item.proveedor }}</td>\r\n                        <td style=\"vertical-align: middle;\">{{ (item.folio)?item.folio:'S/F' }}</td>\r\n                        <td style=\"vertical-align: middle;\">{{ item.descripcion }}</td>\r\n                        <td style=\"vertical-align: middle;\">{{ item.unidad_medica }}</td>\r\n                        <td style=\"vertical-align: middle;\">{{ item.fecha }}</td>\r\n\r\n                        <td style=\"text-align:center; vertical-align: middle; white-space: nowrap;\">{{ item.total_claves_recibidas }} / {{ item.total_claves_solicitadas }} <br> <strong>({{(item.total_claves_recibidas/item.total_claves_solicitadas)*100 | number:'1.0-2'}} %)</strong></td>\r\n                        <td style=\"text-align:center; vertical-align: middle;\">${{ item.total_monto_recibido | number:'1.2-2' }} / ${{ item.total_monto_solicitado | number:'1.2-2' }} <br> <strong>({{((item.total_monto_recibido/item.total_monto_solicitado)*100) | number:'1.0-2'}} %)</strong></td>\r\n\r\n                        <td class=\"causes\"  style=\"text-align:center; vertical-align: middle; white-space: nowrap;\">\r\n                            <span *ngIf=\"item.total_claves_causes\">{{ item.total_claves_causes_recibidas }} / {{ item.total_claves_causes }} <br> <strong>({{((item.total_claves_causes_recibidas/item.total_claves_causes)*100) | number:'1.0-2'}} %)</strong></span>\r\n                            <span *ngIf=\"!item.total_claves_causes\"> --- </span>\r\n                        </td>\r\n                        <td class=\"causes\"  style=\"text-align:center; vertical-align: middle;\">\r\n                            <span *ngIf=\"(+item.total_monto_causes*1)\">${{ item.total_monto_causes_recibido  | number:'1.2-2'}} / ${{ item.total_monto_causes  | number:'1.2-2'}} <br> <strong>({{((item.total_monto_causes_recibido/item.total_monto_causes)*100) | number:'1.0-2'}} %)</strong></span>\r\n                            <span *ngIf=\"!(+item.total_monto_causes*1)\"> --- </span>\r\n                        </td>\r\n\r\n                        <td class=\"no-causes\" style=\"text-align:center; vertical-align: middle; white-space: nowrap;\">\r\n                            <span *ngIf=\"item.total_claves_no_causes\">{{ item.total_claves_no_causes_recibidas }} / {{ item.total_claves_no_causes }} <br> <strong>({{((item.total_claves_no_causes_recibidas/item.total_claves_no_causes)*100) | number:'1.0-2'}} %)</strong></span>\r\n                            <span *ngIf=\"!item.total_claves_no_causes\"> --- </span>\r\n                        </td>\r\n                        <td class=\"no-causes\" style=\"text-align:center; vertical-align: middle;\">\r\n                            <span *ngIf=\"(+item.total_monto_no_causes*1)\">${{ item.total_monto_no_causes_recibido  | number:'1.2-2'}} / ${{ item.total_monto_no_causes  | number:'1.2-2'}} <br> <strong>({{((item.total_monto_no_causes_recibido/item.total_monto_no_causes)*100) | number:'1.0-2'}} %)</strong></span>\r\n                            <span *ngIf=\"!(+item.total_monto_no_causes*1)\"> --- </span>\r\n                        </td>\r\n\r\n                        <td class=\"material-curacion\" style=\"text-align:center; vertical-align: middle; white-space: nowrap;\">\r\n                            <span *ngIf=\"item.total_claves_material_curacion\">{{ item.total_claves_material_curacion_recibidas }} / {{ item.total_claves_material_curacion }} <br> <strong>({{((item.total_claves_material_curacion_recibidas/item.total_claves_material_curacion)*100) | number:'1.0-2'}} %)</strong></span>\r\n                            <span *ngIf=\"!item.total_claves_material_curacion\"> --- </span>\r\n                        </td>\r\n                        <td class=\"material-curacion\" style=\"text-align:center; vertical-align: middle;\">\r\n                            <span *ngIf=\"(+item.total_monto_material_curacion*1)\">${{ item.total_monto_material_curacion_recibido | number:'1.2-2' }} / ${{ item.total_monto_material_curacion | number:'1.2-2' }} <br> <strong>({{((item.total_monto_material_curacion_recibido/item.total_monto_material_curacion)*100) | number:'1.0-2'}} %)</strong></span>\r\n                            <span *ngIf=\"!(+item.total_monto_material_curacion*1)\"> --- </span>\r\n                        </td>\r\n\r\n                        <td [ngClass]=\"{'borrador':item.status=='BR','surtido':item.status=='FI','expirado':item.status=='EX','sin-surtir':(item.total_cantidad_recibida==0 && item.status=='PS'),'surtiendo':(item.total_cantidad_recibida>0 && item.status=='PS'),'farmacia':item.status=='EF'}\" style=\"text-align:center; vertical-align: middle;\"><span class=\"icon\"><i class=\"fa\" [ngClass]=\"{'fa-pencil':item.status=='BR','fa-check-circle':item.status=='FI','fa-times-circle':item.status=='EX','fa-circle':(item.total_cantidad_recibida==0 && item.status == 'PS'),'fa-minus-circle':(item.total_cantidad_recibida>0 && item.status == 'PS'),'fa-cubes':item.status=='EF'}\"></i></span></td>\r\n                        <!--td style=\"vertical-align: middle;\">{{ item.status == 'BR' ? 'Borrador': item.status == 'TR' ? 'En transito': item.status == 'PS' ? 'Por surtir': item.status == 'FI' ? 'Finalizado': item.status == 'EX' ? 'Expirado': 'Otro' }}</td-->\r\n\r\n                        <td style=\"vertical-align: middle;\">\r\n                            <a (click)=\"imprimirExcelItem(item.pedido_id)\"><span class=\"icon\"><i class=\"fa fa-file-excel-o\"></i></span></a> \r\n                            <!--a><span class=\"icon\"><i class=\"fa fa-file-pdf-o\"></i></span></a-->\r\n                        </td>\r\n                        <td></td>\r\n                    </tr>\r\n                    <tr *ngIf=\"lista.length == 0\">\r\n                        <td colspan=\"5\" style=\"vertical-align: middle; color:#888;\">Esta lista está vacía.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n        <div style=\"background: #FFF; border-radius: 0  0 1em  1em; width:100%;\">\r\n        \r\n            <paginacion \r\n                [total]=\"total\" \r\n                [paginasTotales]=\"paginasTotales\" \r\n                [resultadosPorPagina]=\"resultadosPorPagina\" \r\n                [paginaActual]=\"paginaActual\" \r\n                [indicePaginas]=\"indicePaginas\"\r\n                (onSiguiente)=\"paginaSiguiente()\" \r\n                (onAnterior)=\"paginaAnterior()\" \r\n                (onListar)=\"listar($event)\" \r\n                *ngIf=\"total>0 && total > resultadosPorPagina\"></paginacion>\r\n        </div>\r\n     \r\n        \r\n        \r\n          \r\n           \r\n            \r\n           \r\n        \r\n    </div>\r\n</div>\r\n\r\n<div class=\"notification is-danger\" style=\"position:fixed; left:1em;  bottom:1em;\" *ngIf=\"mensajeError.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeError.mostrar = false\"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style=\"text-align:center\" ><a  class=\"button is-danger is-inverted\" (click)=\"ultimaPeticion(); mensajeError.mostrar = false\"> <span class=\"icon\"><i class=\"fa fa-refresh\"></i></span> <span>Volver a intentar</span></a></p>        \r\n</div>\r\n\r\n<div class=\"notification is-success\" style=\"position:fixed; left:1em;  bottom:1em; width: auto\" *ngIf=\"mensajeExito.mostrar\">       \r\n    <button class=\"delete\" (click)=\"mensajeExito.mostrar = false\"></button>\r\n    <p><span class=\"icon\" style=\"margin-right: 0.5em;\"><i class=\"fa fa-check-circle\"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style=\"text-align: center;\"><small >Este mensaje desaparecerá en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n"

/***/ }),

/***/ "../../../../../src/app/administrador-central/pedidos/pedidos.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__environments_environment__ = __webpack_require__("../../../../../src/environments/environment.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__mensaje__ = __webpack_require__("../../../../../src/app/mensaje.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__administrador_central_service__ = __webpack_require__("../../../../../src/app/administrador-central/administrador-central.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PedidosComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var PedidosComponent = (function () {
    // # FIN SECCION
    function PedidosComponent(title, apiService) {
        this.title = title;
        this.apiService = apiService;
        this.cargando = false;
        this.cargandoPresupuestos = false;
        // # SECCION: Esta sección es para mostrar mensajes
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_3__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_3__mensaje__["a" /* Mensaje */]();
        // # FIN SECCION
        // # SECCION: Filtro
        this.q = "";
        this.status = [];
        this.jurisdicciones = [];
        this.proveedores = [];
        this.statusSeleccionados = [];
        this.jurisdiccionesSeleccionadas = [];
        this.proveedoresSeleccionados = [];
        this.fecha_desde = null;
        this.fecha_hasta = null;
        this.sin_pedidos = false;
        this.ordenarCauses = '';
        this.ordenarNoCauses = '';
        this.ordenarMaterialCuracion = '';
        // # FIN SECCION
        // # SECCION: Resumen presupuesto
        this.presupuesto = {};
        // # FIN SECCION
        // # SECCION: Lista
        this.lista = [];
        this.paginaActual = 1;
        this.resultadosPorPagina = 10;
        this.total = 0;
        this.paginasTotales = 0;
        this.indicePaginas = [];
    }
    PedidosComponent.prototype.ngOnInit = function () {
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_3__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_3__mensaje__["a" /* Mensaje */]();
        this.title.setTitle("Pedidos / Administrador central");
        this.listar(1);
        this.cargarJurisdicciones();
        this.cargarProveedores();
        this.status = [
            { id: 'BR', descripcion: 'Borradores' },
            { id: 'TR', descripcion: 'En Tránsito' },
            { id: 'PS', descripcion: 'Por surtir' },
            { id: 'FI', descripcion: 'Finalizados' },
            { id: 'EF', descripcion: 'En Farmacia' },
            { id: 'EX', descripcion: 'Expirados' }
        ];
    };
    PedidosComponent.prototype.cargarJurisdicciones = function () {
        var _this = this;
        this.apiService.jurisdicciones().subscribe(function (respuesta) {
            _this.jurisdicciones = respuesta;
        }, function (error) {
        });
    };
    PedidosComponent.prototype.cargarProveedores = function () {
        var _this = this;
        this.apiService.proveedores().subscribe(function (respuesta) {
            console.log(respuesta);
            _this.proveedores = respuesta;
            console.log(_this.proveedores);
        }, function (error) {
        });
    };
    PedidosComponent.prototype.cambioSeleccionJurisdiccion = function (id) {
        if (id == -1) {
            this.jurisdiccionesSeleccionadas = [];
        }
        this.agregarJurisdiccion(id);
    };
    PedidosComponent.prototype.cambioSeleccionProveedor = function (id) {
        if (id == -1) {
            this.proveedoresSeleccionados = [];
        }
        this.agregarProveedor(id);
    };
    PedidosComponent.prototype.cambioSeleccionStatus = function (id) {
        if (id == -1) {
            this.statusSeleccionados = [];
        }
        this.agregarStatus(id);
    };
    PedidosComponent.prototype.agregarProveedor = function (id) {
        if (id == -1) {
            return;
        }
        // Si existe en el filtro no la agregamos
        for (var i in this.proveedoresSeleccionados) {
            if (this.proveedoresSeleccionados[i].id == id) {
                return;
            }
        }
        for (var i in this.proveedores) {
            if (this.proveedores[i].id == id) {
                this.proveedoresSeleccionados.push(this.proveedores[i]);
                break;
            }
        }
    };
    PedidosComponent.prototype.agregarJurisdiccion = function (id) {
        if (id == -1) {
            return;
        }
        // Si existe en el filtro no la agregamos
        for (var i in this.jurisdiccionesSeleccionadas) {
            if (this.jurisdiccionesSeleccionadas[i].id == id) {
                return;
            }
        }
        for (var i in this.jurisdicciones) {
            if (this.jurisdicciones[i].id == id) {
                this.jurisdiccionesSeleccionadas.push(this.jurisdicciones[i]);
                break;
            }
        }
    };
    PedidosComponent.prototype.agregarStatus = function (id) {
        if (id == -1) {
            return;
        }
        // Si existe en el filtro no la agregamos
        for (var i in this.statusSeleccionados) {
            if (this.statusSeleccionados[i].id == id) {
                return;
            }
        }
        for (var i in this.status) {
            if (this.status[i].id == id) {
                this.statusSeleccionados.push(this.status[i]);
                break;
            }
        }
    };
    PedidosComponent.prototype.quitarProveedor = function (index) {
        this.proveedoresSeleccionados.splice(index, 1);
    };
    PedidosComponent.prototype.quitarJurisdiccion = function (index) {
        this.jurisdiccionesSeleccionadas.splice(index, 1);
    };
    PedidosComponent.prototype.quitarStatus = function (index) {
        this.statusSeleccionados.splice(index, 1);
    };
    PedidosComponent.prototype.filtrarQuery = function (e) {
        if (e.keyCode == 13) {
            this.listar(1);
        }
    };
    PedidosComponent.prototype.toggleCauses = function () {
        switch (this.ordenarCauses) {
            case '':
                this.ordenarCauses = 'ASC';
                break;
            case 'ASC':
                this.ordenarCauses = 'DESC';
                break;
            case 'DESC':
                this.ordenarCauses = '';
                break;
            default: this.ordenarCauses = '';
        }
        this.ordenarNoCauses = '';
        this.ordenarMaterialCuracion = '';
        this.listar(1);
    };
    PedidosComponent.prototype.toggleNoCauses = function () {
        switch (this.ordenarNoCauses) {
            case '':
                this.ordenarNoCauses = 'ASC';
                break;
            case 'ASC':
                this.ordenarNoCauses = 'DESC';
                break;
            case 'DESC':
                this.ordenarNoCauses = '';
                break;
            default: this.ordenarNoCauses = '';
        }
        this.ordenarCauses = '';
        this.ordenarMaterialCuracion = '';
        this.listar(1);
    };
    PedidosComponent.prototype.toggleMaterialCuracion = function () {
        switch (this.ordenarMaterialCuracion) {
            case '':
                this.ordenarMaterialCuracion = 'ASC';
                break;
            case 'ASC':
                this.ordenarMaterialCuracion = 'DESC';
                break;
            case 'DESC':
                this.ordenarMaterialCuracion = '';
                break;
            default: this.ordenarMaterialCuracion = '';
        }
        this.ordenarCauses = '';
        this.ordenarNoCauses = '';
        this.listar(1);
    };
    PedidosComponent.prototype.listar = function (pagina) {
        var _this = this;
        this.cargando = true;
        this.paginaActual = pagina;
        var proveedoresIds = [];
        for (var i in this.proveedoresSeleccionados) {
            proveedoresIds.push(this.proveedoresSeleccionados[i].id);
        }
        var jurisdiccionesIds = [];
        for (var i in this.jurisdiccionesSeleccionadas) {
            jurisdiccionesIds.push(this.jurisdiccionesSeleccionadas[i].id);
        }
        var statusIds = [];
        for (var i in this.statusSeleccionados) {
            statusIds.push(this.statusSeleccionados[i].id);
        }
        var parametros = {
            q: this.q,
            proveedores: proveedoresIds,
            jurisdicciones: jurisdiccionesIds,
            status: statusIds,
            page: this.paginaActual,
            per_page: this.resultadosPorPagina,
            ordenar_causes: this.ordenarCauses,
            ordenar_no_causes: this.ordenarNoCauses,
            ordenar_material_curacion: this.ordenarMaterialCuracion,
            fecha_desde: this.fecha_desde,
            fecha_hasta: this.fecha_hasta
        };
        this.cargandoPresupuestos = true;
        this.apiService.presupuesto(parametros).subscribe(function (response) {
            _this.cargandoPresupuestos = false;
            _this.presupuesto = response.data;
            _this.presupuesto.total_modificado = (+response.data.causes_modificado) + (+response.data.no_causes_modificado) + (+response.data.material_curacion_modificado);
            _this.presupuesto.total_comprometido = (+response.data.causes_comprometido) + (+response.data.no_causes_comprometido) + (+response.data.material_curacion_comprometido);
            _this.presupuesto.total_devengado = (+response.data.causes_devengado) + (+response.data.no_causes_devengado) + (+response.data.material_curacion_devengado);
            _this.presupuesto.total_disponible = (+response.data.causes_disponible) + (+response.data.no_causes_disponible) + (+response.data.material_curacion_disponible);
        }, function (error) {
            _this.cargandoPresupuestos = false;
            console.log(error);
        });
        this.apiService.pedidos(parametros).subscribe(function (respuesta) {
            _this.cargando = false;
            _this.lista = respuesta.data;
            _this.total = respuesta.total | 0;
            _this.paginasTotales = Math.ceil(_this.total / _this.resultadosPorPagina);
            _this.indicePaginas = [];
            for (var i_1 = 0; i_1 < _this.paginasTotales; i_1++) {
                _this.indicePaginas.push(i_1 + 1);
            }
            console.log("Items cargados.");
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError.mostrar = true;
            _this.ultimaPeticion = _this.listar;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    PedidosComponent.prototype.exportar = function () {
        var query = "token=" + localStorage.getItem('token') + "&ordenar_causes=" + this.ordenarCauses + "&ordenar_no_causes=" + this.ordenarNoCauses + "&ordenar_material_curacion=" + this.ordenarMaterialCuracion;
        if (this.q != "") {
            query += "&q=" + this.q;
        }
        var lista_proveedores = "";
        for (var i in this.proveedoresSeleccionados) {
            if (lista_proveedores != "") {
                lista_proveedores += ",";
            }
            lista_proveedores += "" + this.proveedoresSeleccionados[i].id;
        }
        if (lista_proveedores != "") {
            query += "&proveedores=" + lista_proveedores;
        }
        var lista_jurisdicciones = "";
        for (var i in this.jurisdiccionesSeleccionadas) {
            if (lista_jurisdicciones != "") {
                lista_jurisdicciones += ",";
            }
            lista_jurisdicciones += "" + this.jurisdiccionesSeleccionadas[i].id;
        }
        if (lista_jurisdicciones != "") {
            query += "&jurisdicciones=" + lista_jurisdicciones;
        }
        var lista_status = "";
        for (var i in this.statusSeleccionados) {
            if (lista_status != "") {
                lista_status += ",";
            }
            lista_status += "" + this.statusSeleccionados[i].id;
        }
        if (lista_status != "") {
            query += "&status=" + lista_status;
        }
        if (this.fecha_desde != null) {
            query += "&fecha_desde=" + this.fecha_desde;
        }
        if (this.fecha_hasta != null) {
            query += "&fecha_hasta=" + this.fecha_hasta;
        }
        window.open(__WEBPACK_IMPORTED_MODULE_2__environments_environment__["a" /* environment */].API_URL + "/administrador-central/pedidos-excel?" + query);
    };
    PedidosComponent.prototype.imprimirExcelItem = function (id) {
        var query = "token=" + localStorage.getItem('token');
        window.open(__WEBPACK_IMPORTED_MODULE_2__environments_environment__["a" /* environment */].API_URL + "/generar-excel-pedido/" + id + "?" + query);
    };
    // # SECCION: Paginación
    PedidosComponent.prototype.paginaSiguiente = function () {
        this.listar(this.paginaActual + 1);
    };
    PedidosComponent.prototype.paginaAnterior = function () {
        this.listar(this.paginaActual - 1);
    };
    return PedidosComponent;
}());
PedidosComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-pedidos',
        template: __webpack_require__("../../../../../src/app/administrador-central/pedidos/pedidos.component.html"),
        styles: [__webpack_require__("../../../../../src/app/administrador-central/pedidos/pedidos.component.css")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_4__administrador_central_service__["a" /* AdministradorCentralService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__administrador_central_service__["a" /* AdministradorCentralService */]) === "function" && _b || Object])
], PedidosComponent);

var _a, _b;
//# sourceMappingURL=C:/wamp/www/x3-C/src/pedidos.component.js.map

/***/ }),

/***/ "../../../../../src/app/administrador-central/transferencias-recursos/transferencias-recursos.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/administrador-central/transferencias-recursos/transferencias-recursos.component.html":
/***/ (function(module, exports) {

module.exports = "<administrador-central-menu></administrador-central-menu>\r\n<div style=\"height:50px;\"></div>\r\n<div class=\"contenedor columns \" style=\"height:100%; \">\r\n    <div class=\"column is-one-quarter is-hidden-mobile\">\r\n        <administrador-central-menu-lateral></administrador-central-menu-lateral>\r\n    </div>\r\n    <div class=\"column\">\r\n      \r\n        <div style=\"background: #FFF; border-radius: 1em; overflow: hidden; margin:1em;\" >\r\n            <section class=\"hero is-primary\"  >\r\n                \r\n                <div class=\"hero-body\" style=\"position:relative;\">                    \r\n                    \r\n                    \r\n                    <div class=\"container is-fluid\">\r\n                        <nav class=\"level\">\r\n                            <div class=\"level-left\">\r\n                              <h1 class=\"title\">\r\n                                  <span class=\"icon is-medium\"><i class=\"fa fa-exchange\"></i></span> $ Transferencias\r\n                              </h1>\r\n                            </div>\r\n                            <div class=\"level-right\">\r\n                                <div class=\"block\">                               \r\n                                  <button class=\"button is-primary is-inverted\" (click)=\"nuevaTransferenciaArrastrarSaldos()\"><span class=\"icon\"><i class=\"fa fa-arrow-circle-up\"></i></span> <span>Arrastrar saldos</span></button>\r\n                                  <button class=\"button is-primary is-inverted\" (click)=\"nuevaTransferencia()\"><span class=\"icon\"><i class=\"fa fa-plus\"></i></span> <span>Nueva transferencia</span></button>\r\n                                </div>\r\n                            </div>\r\n                        </nav>                        \r\n                        <div class=\"columns\">                            \r\n                            <div class=\"column\">\r\n                                <label for=\"jurisdicciones\">Origen:</label>                       \r\n                                <p class=\"control is-expanded\">\r\n                                    <input class=\"input \" type=\"text\" placeholder=\"CLUES / Nombre\" [(ngModel)] = \"filtro_clues_origen\" >\r\n                                </p>                 \r\n                          \r\n                            </div>\r\n                            <div class=\"column\">\r\n                                <label for=\"jurisdicciones\">Destino:</label>                             \r\n                                <p class=\"control is-expanded\">\r\n                                    <input class=\"input \" type=\"text\" placeholder=\"CLUES / Nombre\" [(ngModel)] = \"filtro_clues_destino\">\r\n                                </p>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"columns\">   \r\n                            <div class=\"column\">\r\n                                <div class=\"columns\">\r\n                                    <div class=\"column\">\r\n                                        <label>Mes:</label>                       \r\n                                        <p class=\"control is-expanded\">\r\n                                            <span class=\"select is-fullwidth\">\r\n                                            <select [(ngModel)]=\"filtro_mes_origen\">\r\n                                                <option value=\"-1\">Todos</option>\r\n                                                <option *ngFor=\"let item of listaMeses\" [value]=\"item.mes\">{{ item.nombre }}</option>\r\n                                            </select>\r\n                                            </span>\r\n                                        </p> \r\n                                    </div>\r\n                                    <div class=\"column\">\r\n                                        <label >Año:</label>                       \r\n                                        <p class=\"control is-expanded\">\r\n                                            <span class=\"select is-fullwidth\">\r\n                                            <select  [(ngModel)]=\"filtro_anio_origen\">\r\n                                                <option value=\"-1\" >Todos</option>\r\n                                                <option *ngFor=\"let item of listaAnios\" [value]=\"item.anio\">{{ item.anio }}</option>\r\n                                            </select>\r\n                                            </span>\r\n                                        </p> \r\n                                    </div>\r\n                                </div>                                \r\n                            </div>\r\n                            <div class=\"column\">\r\n                                <div class=\"columns\">\r\n                                    <div class=\"column\">\r\n                                        <label>Mes:</label>                       \r\n                                        <p class=\"control is-expanded\">\r\n                                            <span class=\"select is-fullwidth\">\r\n                                            <select [(ngModel)]=\"filtro_mes_destino\">\r\n                                                <option value=\"-1\">Todos</option>\r\n                                                <option *ngFor=\"let item of listaMeses\" [value]=\"item.mes\">{{ item.nombre }}</option>\r\n                                            </select>\r\n                                            </span>\r\n                                        </p> \r\n                                    </div>\r\n                                    <div class=\"column\">\r\n                                        <label >Año:</label>                       \r\n                                        <p class=\"control is-expanded\">\r\n                                            <span class=\"select is-fullwidth\">\r\n                                            <select  [(ngModel)]=\"filtro_anio_destino\">\r\n                                                <option value=\"-1\" >Todos</option>\r\n                                                <option *ngFor=\"let item of listaAnios\" [value]=\"item.anio\">{{ item.anio }}</option>\r\n                                            </select>\r\n                                            </span>\r\n                                        </p> \r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <nav class=\"level\">\r\n                            <div class=\"level-left\"></div>\r\n                            <div class=\"level-right\">\r\n                                <div class=\"block\">\r\n                                <button *ngIf=\" filtro_clues_origen != ''|| filtro_clues_destino != ''  || filtro_mes_origen != -1 || filtro_anio_origen != -1 || filtro_mes_destino != -1 || filtro_anio_destino  != -1 \" class=\"button is-primary\" (click)=\"filtro_clues_origen = ''; filtro_clues_destino = ''; filtro_mes_origen = -1; filtro_anio_origen = -1; filtro_mes_destino = -1; filtro_anio_destino = -1;\"><span class=\"icon\"><i class=\"fa fa-times\"></i></span> <span>Limpiar búsqueda</span></button>\r\n                                <button class=\"button is-primary is-inverted\" (click)=\"listar(1)\"><span class=\"icon\"><i class=\"fa fa-search\"></i></span> <span>Buscar</span></button>\r\n                                </div>\r\n                            </div>\r\n                        </nav>\r\n                    \r\n                        \r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class=\"is-fullwidth has-text-centered\" *ngIf=\"cargando\">\r\n                <br>\r\n                <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n            \r\n            <table class=\"table is-bordered is-striped has-text-centered\" style=\"font-size:0.7em;\" *ngIf=\"!cargando\">\r\n                <thead>\r\n                    <tr>\r\n                        <th colspan=\"3\" style=\"text-align: center;\">Origen</th>\r\n                        <th colspan=\"3\" style=\"text-align: center;\">Destino</th>\r\n                        <th colspan=\"3\" style=\"text-align: center;\">Presupuesto transferido</th>\r\n                        <th colspan=\"2\"></th>\r\n                    </tr>\r\n                    <tr>\r\n                        <th style=\"text-align: center;\">Clues</th>\r\n                        <th style=\"text-align: center;\">Mes</th>\r\n                        <th style=\"text-align: center;\">Año</th>\r\n                        <th style=\"text-align: center;\">Clues</th>\r\n                        <th style=\"text-align: center;\">Mes</th>\r\n                        <th style=\"text-align: center;\">Año</th>\r\n                        <th style=\"text-align: center;\"><abbr title=\"Causes\">CA</abbr></th>\r\n                        <th style=\"text-align: center;\"><abbr title=\"No causes\">NCA</abbr></th>\r\n                        <th style=\"text-align: center;\"><abbr title=\"Material de curación\">MC</abbr></th>                        \r\n                        <th style=\"text-align: center;\">Usuario</th>\r\n                        <th style=\"text-align: center;\">Fecha</th>                    \r\n                    </tr>\r\n                </thead>\r\n                \r\n                <tbody>\r\n                    <tr *ngFor=\"let item of lista; let i=index\">                        \r\n                        <td style=\"vertical-align: middle; text-align: center;\"><abbr title=\"{{ item.unidad_medica_origen }}\">{{ item.clues_origen }}</abbr></td>\r\n                        <td style=\"vertical-align: middle; text-align: center;\">{{ item.mes_origen }}</td>\r\n                        <td style=\"vertical-align: middle; text-align: center;\">{{ item.anio_origen }}</td>\r\n                        <td style=\"vertical-align: middle; text-align: center;\"><abbr title=\"{{ item.unidad_medica_destino }}\">{{ item.clues_destino }}</abbr></td>\r\n                        <td style=\"vertical-align: middle; text-align: center;\">{{ item.mes_destino }}</td>\r\n                        <td style=\"vertical-align: middle; text-align: center;\">{{ item.anio_destino }}</td>\r\n                        <td style=\"vertical-align: middle; text-align: right;\">{{ item.causes  | currency:'USD':true:'1.2-2' }}</td>\r\n                        <td style=\"vertical-align: middle; text-align: right;\">{{ item.no_causes  | currency:'USD':true:'1.2-2'}}</td>\r\n                        <td style=\"vertical-align: middle; text-align: right;\">{{ item.material_curacion | currency:'USD':true:'1.2-2' }}</td>\r\n                        <td style=\"vertical-align: middle; text-align: center;\">{{ item.usuario_id }}</td>\r\n                        <td style=\"vertical-align: middle; text-align: center;\">{{ item.created_at }}</td>\r\n                    </tr>\r\n                    <tr *ngIf=\"lista.length == 0\">\r\n                        <td colspan=\"11\" style=\"vertical-align: middle; color:#888;\">Esta lista está vacía.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <!-- Paginación para la lista  -->\r\n            \r\n            <paginacion \r\n                [total]=\"total\" \r\n                [paginasTotales]=\"paginasTotales\" \r\n                [resultadosPorPagina]=\"resultadosPorPagina\" \r\n                [paginaActual]=\"paginaActual\" \r\n                [indicePaginas]=\"indicePaginas\"\r\n                (onSiguiente)=\"paginaSiguiente()\" \r\n                (onAnterior)=\"paginaAnterior()\" \r\n                (onListar)=\"listar($event)\" \r\n                *ngIf=\"total>0 && total > resultadosPorPagina\"></paginacion>         \r\n        </div>\r\n        \r\n    </div>\r\n</div>\r\n\r\n<div class=\"notification is-danger\" style=\"position:fixed; left:1em;  bottom:1em;\" *ngIf=\"mensajeError.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeError.mostrar = false\"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style=\"text-align:center\" ><a  class=\"button is-danger is-inverted\" (click)=\"ultimaPeticion(); mensajeError.mostrar = false\"> <span class=\"icon\"><i class=\"fa fa-refresh\"></i></span> <span>Volver a intentar</span></a></p>        \r\n</div>\r\n\r\n<div class=\"notification is-success\" style=\"position:fixed; left:1em;  bottom:1em; width: auto\" *ngIf=\"mensajeExito.mostrar\">       \r\n    <button class=\"delete\" (click)=\"mensajeExito.mostrar = false\"></button>\r\n    <p><span class=\"icon\" style=\"margin-right: 0.5em;\"><i class=\"fa fa-check-circle\"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style=\"text-align: center;\"><small >Este mensaje desaparecerá en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n<!-- Nueva Transferencia -->\r\n<div class=\"modal\" [ngClass]=\"{ 'is-active': mostrarVentanaNuevaTransferencia }\">\r\n  <div class=\"modal-background\" (click)=\"mostrarVentanaNuevaTransferencia = false\"></div>\r\n  <div class=\"modal-card\" style=\"width:95%; height: 100%;\">\r\n    <header class=\"modal-card-head\">\r\n      <p class=\"modal-card-title\"><span class=\"icon\"><i class=\"fa fa-exchange\"></i></span> Nueva transferencia</p>\r\n      <button class=\"delete\" (click)=\"mostrarVentanaNuevaTransferencia = false\"></button>\r\n    </header>\r\n    <section class=\"modal-card-body\">\r\n        <div class=\"columns\">\r\n            <div class=\"column\">\r\n                <label><b>Origen:</b></label>                       \r\n                <p class=\"control is-expanded\">\r\n                    <span class=\"select is-fullwidth\">\r\n                    <select #cluesOrigen  (change)=\"obtenerPresupuestoOrigen()\"  [(ngModel)]=\"transaccion_clues_origen\">\r\n                        <option value=\"\">Elija una unidad médica</option>\r\n                        <option *ngFor=\"let item of listaClues\" [value]=\"item.clues\">{{ item.clues }} - {{ item.unidad_medica.nombre }}</option>\r\n                    </select>\r\n                    </span>\r\n                </p> \r\n\r\n                <div class=\"columns\">\r\n                    <div class=\"column\">\r\n                        <label>Mes:</label>                       \r\n                        <p class=\"control is-expanded\">\r\n                            <span class=\"select is-fullwidth\">\r\n                            <select #mesOrigen  (change)=\"obtenerPresupuestoOrigen()\"  [(ngModel)]=\"transaccion_mes_origen\">\r\n                                <option value=\"-1\">Elija un mes</option>\r\n                                <option *ngFor=\"let item of listaMeses\" [value]=\"item.mes\">{{ item.nombre }}</option>\r\n                            </select>\r\n                            </span>\r\n                        </p> \r\n                    </div>\r\n                    <div class=\"column\">\r\n                        <label >Año:</label>                       \r\n                        <p class=\"control is-expanded\">\r\n                            <span class=\"select is-fullwidth\">\r\n                            <select #anioOrigen (change)=\"obtenerPresupuestoOrigen()\"  [(ngModel)]=\"transaccion_anio_origen\">\r\n                                <option value=\"-1\" *ngIf=\"listaAnios.length>1\">Elija un año</option>\r\n                                <option *ngFor=\"let item of listaAnios\" [value]=\"item.anio\">{{ item.anio }}</option>\r\n                            </select>\r\n                            </span>\r\n                        </p> \r\n                    </div>\r\n                </div>\r\n                <table class=\"table\" *ngIf=\"datosOrigenValidos\">\r\n                    <thead>\r\n                        <tr><th colspan=\"2\">Presupuesto origen disponible:</th></tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        <tr><th>Causes</th><td>{{ presupuestoOrigen.causes | currency:'USD':true:'1.2-2' }}</td></tr>\r\n                        <tr><th>No causes</th><td>{{ presupuestoOrigen.no_causes | currency:'USD':true:'1.2-2' }}</td></tr>\r\n                        <tr><th>Material de curación</th><td>{{ presupuestoOrigen.material_curacion | currency:'USD':true:'1.2-2' }}</td></tr>\r\n                    </tbody>                    \r\n                </table>\r\n            </div>\r\n            <div class=\"column\">\r\n                <label ><b>Destino:</b></label>                       \r\n                <p class=\"control is-expanded\">\r\n                    <span class=\"select is-fullwidth\">\r\n                    <select #cluesDestino (change)=\"obtenerPresupuestoDestino()\" [(ngModel)]=\"transaccion_clues_destino\">\r\n                        <option value=\"\">Elija una unidad médica</option>\r\n                        <option *ngFor=\"let item of listaClues\" [value]=\"item.clues\">{{ item.clues }} - {{ item.unidad_medica.nombre }}</option>\r\n                    </select>\r\n                    </span>\r\n                </p>\r\n                <div class=\"columns\">\r\n                    <div class=\"column\">\r\n                        <label >Mes:</label>                       \r\n                        <p class=\"control is-expanded\">\r\n                            <span class=\"select is-fullwidth\">\r\n                            <select #mesDestino (change)=\"obtenerPresupuestoDestino()\" [(ngModel)]=\"transaccion_mes_destino\">\r\n                                <option value=\"-1\">Elija un mes</option>\r\n                                <option *ngFor=\"let item of listaMeses\" [value]=\"item.mes\">{{ item.nombre }}</option>\r\n                            </select>\r\n                            </span>\r\n                        </p> \r\n                    </div>\r\n                    <div class=\"column\">\r\n                        <label>Año:</label>                       \r\n                        <p class=\"control is-expanded\">\r\n                            <span class=\"select is-fullwidth\">\r\n                            <select #anioDestino  (change)=\"obtenerPresupuestoDestino()\" [(ngModel)]=\"transaccion_anio_destino\">\r\n                                <option value=\"-1\" *ngIf=\"listaAnios.length>1\">Elija un año</option>\r\n                                <option *ngFor=\"let item of listaAnios\" value=\"{{item.anio}}\">{{ item.anio }}</option>\r\n                            </select>\r\n                            </span>\r\n                        </p> \r\n                    </div>\r\n                </div>\r\n                <table class=\"table\" *ngIf=\"datosDestinoValidos\">\r\n                    <thead>\r\n                        <tr><th colspan=\"2\">Presupuesto destino actual (disponible):</th></tr>\r\n                    </thead>\r\n                     <tbody>\r\n                        <tr><th>Causes</th><td>{{ presupuestoDestino.causes | currency:'USD':true:'1.2-2' }}</td></tr>\r\n                        <tr><th>No causes</th><td>{{ presupuestoDestino.no_causes | currency:'USD':true:'1.2-2' }}</td></tr>\r\n                        <tr><th>Material de curación</th><td>{{ presupuestoDestino.material_curacion | currency:'USD':true:'1.2-2' }}</td></tr>\r\n                    </tbody>                    \r\n                </table>\r\n            </div>\r\n        </div>\r\n        <div *ngIf=\"datosDestinoValidos && datosOrigenValidos\">\r\n            <h1 class=\"title is-4\">Presupuesto a transferir:</h1>\r\n            <div class=\"columns\">\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label for=\"monto\">Causes:</label>\r\n                        <p class=\"control is-expanded\">\r\n                            <input class=\"input is-medium\" type=\"text\" placeholder=\"$ 0.00\" [(ngModel)] = \"monto_transferir_causes\" [ngClass]=\"{ 'is-danger': errores_transferencia.causes != '' }\" >\r\n                        </p>\r\n                        <p class=\"help is-danger\" *ngIf=\"errores_transferencia.causes != ''\">{{ errores_transferencia.causes }}</p>\r\n                    </div>        \r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label for=\"monto\">No Causes:</label>\r\n                        <p class=\"control is-expanded\">\r\n                            <input class=\"input is-medium\" type=\"text\" placeholder=\"$ 0.00\" [(ngModel)] = \"monto_transferir_no_causes\" [ngClass]=\"{ 'is-danger': errores_transferencia.no_causes != '' }\" >\r\n                        </p> \r\n                        <p class=\"help is-danger\" *ngIf=\"errores_transferencia.no_causes != ''\">{{ errores_transferencia.no_causes }}</p>\r\n                    </div>        \r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field\">\r\n                        <label for=\"monto\">Material de curación:</label>\r\n                        <p class=\"control is-expanded\">\r\n                            <input class=\"input is-medium\" type=\"text\" placeholder=\"$ 0.00\" [(ngModel)] = \"monto_transferir_material_curacion\" [ngClass]=\"{ 'is-danger': errores_transferencia.material_curacion != '' }\" >\r\n                        </p> \r\n                        <p class=\"help is-danger\" *ngIf=\"errores_transferencia.material_curacion != ''\">{{ errores_transferencia.material_curacion }}</p>\r\n                    </div>        \r\n                </div>\r\n            </div>\r\n        </div>\r\n      \r\n      \r\n    </section>\r\n    <footer class=\"modal-card-foot\">\r\n      <a class=\"button is-danger\" (click)=\"realizarTransferencia()\" [ngClass]=\" { 'is-loading': enviando_transferencia, 'is-disabled': !datosDestinoValidos || !datosOrigenValidos || ( (monto_transferir_causes == 0 || !monto_transferir_causes) && (monto_transferir_no_causes == 0 || !monto_transferir_no_causes) && (monto_transferir_material_curacion == 0 || !monto_transferir_material_curacion)  ) }\"><span class=\"icon\"><i class=\"fa fa-exchange\"></i></span> <span>Realizar transferencia</span></a>\r\n      <a class=\"button\" (click)=\"mostrarVentanaNuevaTransferencia = false\">Cerrar</a>\r\n    </footer>\r\n  </div>\r\n</div>\r\n\r\n\r\n<!-- Arrastrar Saldos -->\r\n<div class=\"modal\" [ngClass]=\"{ 'is-active': mostrarVentanaArrastrarSaldos }\">\r\n  <div class=\"modal-background\" (click)=\"mostrarVentanaArrastrarSaldos = false\"></div>\r\n  <div class=\"modal-card\" style=\"width:95%; height: 100%;\">\r\n    <header class=\"modal-card-head\">\r\n      <p class=\"modal-card-title\"><span class=\"icon\"><i class=\"fa fa-arrow-circle-up\"></i></span> Transferir saldos al mes actual</p>\r\n      <button class=\"delete\" (click)=\"mostrarVentanaArrastrarSaldos = false\"></button>\r\n    </header>\r\n    <section class=\"modal-card-body\">\r\n        <div class=\"field\">\r\n            <label>Mes/Año:</label>                       \r\n            <p class=\"control is-expanded\">\r\n                <span class=\"select is-fullwidth\">\r\n                <select   (change)=\"obtenerCluesConSaldo()\"  [(ngModel)]=\"fecha_arrastrar_saldos\">\r\n                    <option value=\"-1\">Elija una fecha:</option>\r\n                    <option *ngFor=\"let item of listaMesesAniosAnteriorFechaActual\" [value]=\"item.fecha\">{{ item.mes_nombre }}/{{ item.anio }}</option>\r\n                </select>\r\n                </span>\r\n            </p> \r\n        </div>\r\n        <div class=\"is-fullwidth has-text-centered\" *ngIf=\"cargando_clues_con_saldo\">\r\n            <br>\r\n            <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando...</span></span>\r\n            <br>\r\n            <br>\r\n        </div>\r\n        <table class=\"table\" style=\"font-size:0.8em;\" *ngIf=\"fecha_arrastrar_saldos != -1 && !cargando_clues_con_saldo\">\r\n            <thead>\r\n                <tr>\r\n                    <td style=\"width:42px; cursor:pointer;\" (click)=\"seleccionarTodasCluesConSaldo()\">\r\n                      <span class=\"icon\" style=\"color:#00d1b2\"><i class=\"fa\" [ngClass]=\"{ 'fa-square-o': !todas_clues_con_saldo_seleccionadas, 'fa-check-square': todas_clues_con_saldo_seleccionadas }\"></i></span>\r\n                    </td>\r\n                    <th style=\"text-align: center;\">Clues</th>\r\n                    <th >Nombre</th>\r\n                    <th style=\"text-align: center;\"><abbr title=\"Causes\">CA</abbr></th>\r\n                    <th style=\"text-align: center;\"><abbr title=\"No causes\">NCA</abbr></th>\r\n                    <th style=\"text-align: center;\"><abbr title=\"Material de curación\">MC</abbr></th>   \r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr *ngFor=\"let item of listaCluesConSaldo\" (click)=\"item.seleccionada = !item.seleccionada\" style=\"cursor:pointer\">\r\n                    <td><span class=\"icon\"><i class=\"fa\" [ngClass]=\"{ 'fa-square-o': !item.seleccionada, 'fa-check-square': item.seleccionada }\"></i></span></td>\r\n                    <td style=\"text-align: center;\">{{ item.clues }}</td>\r\n                    <td>{{ item.unidad_medica.nombre }}</td>\r\n                    <td style=\"text-align: right;\">{{ item.causes_disponible | currency:'USD':true:'1.2-2' }}</td>\r\n                    <td style=\"text-align: right;\">{{ item.no_causes_disponible | currency:'USD':true:'1.2-2' }}</td>\r\n                    <td style=\"text-align: right;\">{{ item.material_curacion_disponible | currency:'USD':true:'1.2-2' }}</td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n      \r\n    </section>\r\n    <footer class=\"modal-card-foot\">\r\n      <a class=\"button is-danger\" (click)=\"transferirSaldosAlMesActual()\" [ngClass]=\" { 'is-disabled': fecha_arrastrar_saldos == -1, 'is-loading': enviando_transferencia_saldos_mes_actual  }\"><span class=\"icon\"><i class=\"fa fa-exchange\"></i></span> <span> Transferir saldos al mes actual</span></a>\r\n      <a class=\"button\" (click)=\"mostrarVentanaArrastrarSaldos = false\">Cerrar</a>\r\n    </footer>\r\n  </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/administrador-central/transferencias-recursos/transferencias-recursos.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__mensaje__ = __webpack_require__("../../../../../src/app/mensaje.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__administrador_central_service__ = __webpack_require__("../../../../../src/app/administrador-central/administrador-central.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TransferenciasRecursosComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var TransferenciasRecursosComponent = (function () {
    // # FIN SECCION
    function TransferenciasRecursosComponent(title, apiService) {
        this.title = title;
        this.apiService = apiService;
        this.cargando = false;
        // # SECCION: Esta sección es para mostrar mensajes
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_2__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_2__mensaje__["a" /* Mensaje */]();
        // # FIN SECCION
        // # SECCION: Filtro
        this.filtro_clues_origen = '';
        this.filtro_clues_destino = '';
        this.filtro_mes_origen = -1;
        this.filtro_anio_origen = -1;
        this.filtro_mes_destino = -1;
        this.filtro_anio_destino = -1;
        // # FIN SECCION
        // # SECCION TRANSFERENCIA
        this.listaClues = [];
        this.listaMeses = [];
        this.listaAnios = [];
        // # FIN SECCION
        // # SECCION ARRASTRAR SALDOS
        this.listaCluesConSaldo = [];
        this.listaMesesAniosAnteriorFechaActual = [];
        // # FIN SECCION
        // # SECCION: Lista
        this.lista = [];
        this.paginaActual = 1;
        this.resultadosPorPagina = 25;
        this.total = 0;
        this.paginasTotales = 0;
        this.indicePaginas = [];
        // # SECCION: Realizar transaccion
        this.mostrarVentanaNuevaTransferencia = false;
        this.monto_transferir_causes = null;
        this.monto_transferir_no_causes = null;
        this.monto_transferir_material_curacion = null;
        this.transaccion_clues_origen = '';
        this.transaccion_clues_destino = '';
        this.transaccion_mes_origen = -1;
        this.transaccion_mes_destino = -1;
        this.transaccion_anio_origen = -1;
        this.transaccion_anio_destino = -1;
        this.datosOrigenValidos = false;
        this.datosDestinoValidos = false;
        this.presupuestoOrigen = {
            causes: 0,
            no_causes: 0,
            material_curacion: 0
        };
        this.presupuestoDestino = {
            causes: 0,
            no_causes: 0,
            material_curacion: 0
        };
        this.errores_transferencia = {
            causes: '',
            no_causes: '',
            material_curacion: ''
        };
        this.enviando_transferencia = false;
        // # SECCION: Realizar arrastre de saldo
        this.mostrarVentanaArrastrarSaldos = false;
        this.fecha_arrastrar_saldos = -1;
        this.todas_clues_con_saldo_seleccionadas = false;
        this.cargando_clues_con_saldo = false;
        this.enviando_transferencia_saldos_mes_actual = false;
    }
    TransferenciasRecursosComponent.prototype.ngOnInit = function () {
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_2__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_2__mensaje__["a" /* Mensaje */]();
        this.title.setTitle("Transferencias / Administrador central");
        this.listar(1);
        this.cargarUnidadesMedicas();
        this.cargarMeses();
        this.cargarAnios();
        this.cargarMesesAniosAnteriorMesActual();
    };
    TransferenciasRecursosComponent.prototype.cargarUnidadesMedicas = function () {
        var _this = this;
        this.apiService.unidadesMedicasConPresupuesto().subscribe(function (respuesta) {
            _this.listaClues = respuesta;
        }, function (error) {
            console.log(error);
        });
    };
    TransferenciasRecursosComponent.prototype.cargarMeses = function () {
        var _this = this;
        this.apiService.mesesPresupuestoActual().subscribe(function (respuesta) {
            _this.listaMeses = respuesta;
        }, function (error) {
            console.log(error);
        });
    };
    TransferenciasRecursosComponent.prototype.cargarAnios = function () {
        var _this = this;
        this.apiService.aniosPresupuestoActual().subscribe(function (respuesta) {
            if (respuesta.length == 1) {
                _this.transaccion_anio_origen = respuesta[0].anio;
                _this.transaccion_anio_destino = respuesta[0].anio;
            }
            _this.listaAnios = respuesta;
        }, function (error) {
            console.log(error);
        });
    };
    TransferenciasRecursosComponent.prototype.cargarMesesAniosAnteriorMesActual = function () {
        var _this = this;
        this.apiService.mesesAniosAnteriorFechaActual().subscribe(function (respuesta) {
            _this.listaMesesAniosAnteriorFechaActual = respuesta;
        }, function (error) {
            console.log(error);
        });
    };
    TransferenciasRecursosComponent.prototype.listar = function (pagina) {
        var _this = this;
        this.cargando = true;
        this.paginaActual = pagina;
        var parametros = {
            clues_origen: this.filtro_clues_origen,
            mes_origen: this.filtro_mes_origen,
            anio_origen: this.filtro_anio_origen,
            clues_destino: this.filtro_clues_destino,
            mes_destino: this.filtro_mes_destino,
            anio_destino: this.filtro_anio_destino,
            page: this.paginaActual,
            per_page: this.resultadosPorPagina
        };
        //var parametros = JSON.stringify(parametrosObj);
        this.apiService.transferenciasLista(parametros).subscribe(function (respuesta) {
            _this.cargando = false;
            _this.lista = respuesta.data;
            _this.total = respuesta.total | 0;
            _this.paginasTotales = Math.ceil(_this.total / _this.resultadosPorPagina);
            _this.indicePaginas = [];
            for (var i = 0; i < _this.paginasTotales; i++) {
                _this.indicePaginas.push(i + 1);
            }
            console.log("Items cargados.");
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError.mostrar = true;
            _this.ultimaPeticion = _this.listar;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    // # SECCION: Paginación
    TransferenciasRecursosComponent.prototype.paginaSiguiente = function () {
        this.listar(this.paginaActual + 1);
    };
    TransferenciasRecursosComponent.prototype.paginaAnterior = function () {
        this.listar(this.paginaActual - 1);
    };
    TransferenciasRecursosComponent.prototype.nuevaTransferencia = function () {
        this.monto_transferir_causes = null;
        this.monto_transferir_no_causes = null;
        this.monto_transferir_material_curacion = null;
        this.transaccion_clues_origen = "";
        this.datosOrigenValidos = false;
        this.transaccion_clues_destino = "";
        this.datosDestinoValidos = false;
        this.transaccion_mes_origen = -1;
        this.transaccion_mes_destino = -1;
        this.errores_transferencia = {
            causes: '',
            no_causes: '',
            material_curacion: ''
        };
        this.mostrarVentanaNuevaTransferencia = true;
    };
    TransferenciasRecursosComponent.prototype.realizarTransferencia = function () {
        var _this = this;
        if (this.transaccion_clues_origen == this.transaccion_clues_destino && this.transaccion_anio_origen == this.transaccion_anio_destino && this.transaccion_mes_origen == this.transaccion_mes_destino) {
            alert("No se puede realizar la transferencia. Los datos de origen y destino son los mismos.");
            return;
        }
        this.errores_transferencia = {
            causes: '',
            no_causes: '',
            material_curacion: ''
        };
        if (this.monto_transferir_causes != null) {
            if (isNaN(Number(this.monto_transferir_causes))) {
                this.errores_transferencia.causes = "El monto debe ser un número válido (sólo numeros decimales sin coma).";
            }
            if (this.monto_transferir_causes > this.presupuestoOrigen.causes) {
                console.log(this.monto_transferir_causes + ":" + this.presupuestoOrigen.causes);
                this.errores_transferencia.causes = "El monto no puede ser mayor al presupuesto disponible del origen.";
            }
            if (this.monto_transferir_causes < 0) {
                this.errores_transferencia.causes = "El monto no puede ser menor a 0.";
            }
        }
        if (this.monto_transferir_no_causes != null) {
            if (isNaN(Number(this.monto_transferir_no_causes))) {
                this.errores_transferencia.no_causes = "El monto debe ser un número válido (sólo numeros decimales sin coma).";
            }
            if (this.monto_transferir_no_causes > this.presupuestoOrigen.no_causes) {
                this.errores_transferencia.no_causes = "El monto no puede ser mayor al presupuesto disponible del origen.";
            }
            if (this.monto_transferir_no_causes < 0) {
                this.errores_transferencia.no_causes = "El monto no puede ser menor a 0.";
            }
        }
        if (this.monto_transferir_material_curacion != null) {
            if (isNaN(Number(this.monto_transferir_material_curacion))) {
                this.errores_transferencia.material_curacion = "El monto debe ser un número válido (sólo numeros decimales sin coma).";
            }
            if (this.monto_transferir_material_curacion > this.presupuestoOrigen.material_curacion) {
                this.errores_transferencia.material_curacion = "El monto no puede ser mayor al presupuesto disponible del origen.";
            }
            if (this.monto_transferir_material_curacion < 0) {
                this.errores_transferencia.material_curacion = "El monto no puede ser menor a 0.";
            }
        }
        if (this.errores_transferencia.causes != "" || this.errores_transferencia.no_causes != "" || this.errores_transferencia.material_curacion != "") {
            return;
        }
        var payload = {
            clues_origen: this.transaccion_clues_origen,
            clues_destino: this.transaccion_clues_destino,
            mes_origen: this.transaccion_mes_origen,
            mes_destino: this.transaccion_mes_destino,
            anio_origen: this.transaccion_anio_origen,
            anio_destino: this.transaccion_anio_destino,
            causes: this.monto_transferir_causes,
            no_causes: this.monto_transferir_no_causes,
            material_curacion: this.monto_transferir_material_curacion
        };
        // Quizás haya que hacer una pausa para darle tiempo refrescar a la pantalla antes de sacar el modal y borrar los mensajes de error
        var validacion_palabra = prompt("Para confirmar esta transacción, por favor escriba: TRANSFERIR");
        if (validacion_palabra == 'TRANSFERIR') {
            this.enviando_transferencia = true;
            this.apiService.transferirPresupuesto(payload).subscribe(function (respuesta) {
                _this.transaccion_clues_origen = "";
                _this.datosOrigenValidos = false;
                _this.listar(1);
                _this.obtenerPresupuestoDestino();
                _this.enviando_transferencia = false;
                // Akira: Quizás aquí deberia limpiar el filtro pa ver el registro.
            }, function (error) {
                console.log(error);
                _this.enviando_transferencia = false;
            });
        }
    };
    TransferenciasRecursosComponent.prototype.obtenerPresupuestoOrigen = function () {
        this.datosOrigenValidos = false;
        if (this.transaccion_mes_origen != -1 && this.transaccion_anio_origen != -1 && this.transaccion_clues_origen != '') {
            this.cargarPresupuestoUnidadMedica(true, false, this.transaccion_clues_origen, this.transaccion_mes_origen, this.transaccion_anio_origen);
        }
    };
    TransferenciasRecursosComponent.prototype.obtenerPresupuestoDestino = function () {
        this.datosDestinoValidos = false;
        if (this.transaccion_mes_destino != -1 && this.transaccion_anio_destino != -1 && this.transaccion_clues_destino != '') {
            this.cargarPresupuestoUnidadMedica(false, true, this.transaccion_clues_destino, this.transaccion_mes_destino, this.transaccion_anio_destino);
        }
    };
    TransferenciasRecursosComponent.prototype.cargarPresupuestoUnidadMedica = function (origen, destino, clues, mes, anio) {
        var _this = this;
        var payload = {
            clues: clues,
            mes: mes,
            anio: anio
        };
        this.apiService.presupuestoUnidadMedica(payload).subscribe(function (respuesta) {
            if (origen) {
                _this.datosOrigenValidos = true;
                _this.presupuestoOrigen.causes = Number(respuesta.causes_disponible);
                _this.presupuestoOrigen.no_causes = Number(respuesta.no_causes_disponible);
                _this.presupuestoOrigen.material_curacion = Number(respuesta.material_curacion_disponible);
            }
            if (destino) {
                _this.datosDestinoValidos = true;
                _this.presupuestoDestino.causes = Number(respuesta.causes_disponible);
                _this.presupuestoDestino.no_causes = Number(respuesta.no_causes_disponible);
                _this.presupuestoDestino.material_curacion = Number(respuesta.material_curacion_disponible);
            }
        }, function (error) {
            console.log(error);
        });
    };
    TransferenciasRecursosComponent.prototype.nuevaTransferenciaArrastrarSaldos = function () {
        this.mostrarVentanaArrastrarSaldos = true;
    };
    TransferenciasRecursosComponent.prototype.seleccionarTodasCluesConSaldo = function () {
        this.todas_clues_con_saldo_seleccionadas = !this.todas_clues_con_saldo_seleccionadas;
        for (var i in this.listaCluesConSaldo) {
            this.listaCluesConSaldo[i].seleccionada = this.todas_clues_con_saldo_seleccionadas;
        }
    };
    TransferenciasRecursosComponent.prototype.obtenerCluesConSaldo = function () {
        var _this = this;
        if (this.fecha_arrastrar_saldos == -1) {
            return;
        }
        var fecha = this.fecha_arrastrar_saldos.split("/");
        if (fecha.length != 2) {
            return;
        }
        var payload = {
            mes: fecha[0],
            anio: fecha[1],
            clues_con_saldo: true
        };
        this.cargando_clues_con_saldo = true;
        this.listaCluesConSaldo = [];
        this.apiService.unidadesMedicasConPresupuesto(payload).subscribe(function (respuesta) {
            _this.cargando_clues_con_saldo = false;
            _this.listaCluesConSaldo = respuesta;
        }, function (error) {
            console.log(error);
            _this.cargando_clues_con_saldo = false;
        });
    };
    TransferenciasRecursosComponent.prototype.transferirSaldosAlMesActual = function () {
        var _this = this;
        if (this.fecha_arrastrar_saldos == -1) {
            return;
        }
        var fecha = this.fecha_arrastrar_saldos.split("/");
        if (fecha.length != 2) {
            return;
        }
        var payload = {
            mes: fecha[0],
            anio: fecha[1],
            lista_clues: []
        };
        var seSelecciono1Almenos = false;
        for (var i in this.listaCluesConSaldo) {
            if (this.listaCluesConSaldo[i].seleccionada) {
                seSelecciono1Almenos = true;
                payload.lista_clues.push(this.listaCluesConSaldo[i].clues);
            }
        }
        if (!seSelecciono1Almenos) {
            return;
        }
        // Quizás haya que hacer una pausa para darle tiempo refrescar a la pantalla antes de sacar el modal y borrar los mensajes de error
        var validacion_palabra = prompt("Para confirmar esta transacción, por favor escriba: TRANSFERIR");
        if (validacion_palabra == 'TRANSFERIR') {
            this.enviando_transferencia_saldos_mes_actual = true;
            this.apiService.transferirSaldosAlMesActual(payload).subscribe(function (respuesta) {
                _this.listar(1);
                _this.mostrarVentanaArrastrarSaldos = false;
                _this.fecha_arrastrar_saldos = -1;
                _this.todas_clues_con_saldo_seleccionadas = false;
                _this.listaCluesConSaldo = [];
                _this.enviando_transferencia_saldos_mes_actual = false;
            }, function (error) {
                console.log(error);
                _this.enviando_transferencia_saldos_mes_actual = false;
            });
        }
    };
    return TransferenciasRecursosComponent;
}());
TransferenciasRecursosComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-transferencias-recursos',
        template: __webpack_require__("../../../../../src/app/administrador-central/transferencias-recursos/transferencias-recursos.component.html"),
        styles: [__webpack_require__("../../../../../src/app/administrador-central/transferencias-recursos/transferencias-recursos.component.css")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_3__administrador_central_service__["a" /* AdministradorCentralService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__administrador_central_service__["a" /* AdministradorCentralService */]) === "function" && _b || Object])
], TransferenciasRecursosComponent);

var _a, _b;
//# sourceMappingURL=C:/wamp/www/x3-C/src/transferencias-recursos.component.js.map

/***/ }),

/***/ "../../../../../src/app/administrador-proveedores/administrador-proveedores-routing.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__auth_guard_service__ = __webpack_require__("../../../../../src/app/auth-guard.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__permisos_guard__ = __webpack_require__("../../../../../src/app/permisos.guard.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__pedidos_pedidos_component__ = __webpack_require__("../../../../../src/app/administrador-proveedores/pedidos/pedidos.component.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AdministradorProveedoresRoutingModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





var routes = [
    { path: 'administrador-proveedores', redirectTo: '/administrador-proveedores/pedidos', pathMatch: 'full' },
    {
        path: 'administrador-proveedores',
        children: [
            { path: 'pedidos', component: __WEBPACK_IMPORTED_MODULE_4__pedidos_pedidos_component__["a" /* PedidosComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_3__permisos_guard__["a" /* PermisosGuard */]], data: { key: 'MrL06vIO12iNhchP14h57Puvg71eUmYb' } }
        ],
        canActivate: [__WEBPACK_IMPORTED_MODULE_2__auth_guard_service__["a" /* AuthGuard */]]
    }
];
var AdministradorProveedoresRoutingModule = (function () {
    function AdministradorProveedoresRoutingModule() {
    }
    return AdministradorProveedoresRoutingModule;
}());
AdministradorProveedoresRoutingModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */].forChild(routes)],
        exports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */]]
    })
], AdministradorProveedoresRoutingModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/administrador-proveedores-routing.module.js.map

/***/ }),

/***/ "../../../../../src/app/administrador-proveedores/administrador-proveedores.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__hub_hub_module__ = __webpack_require__("../../../../../src/app/hub/hub.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__perfil_perfil_module__ = __webpack_require__("../../../../../src/app/perfil/perfil.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__bloquear_pantalla_bloquear_pantalla_module__ = __webpack_require__("../../../../../src/app/bloquear-pantalla/bloquear-pantalla.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__paginacion_paginacion_module__ = __webpack_require__("../../../../../src/app/paginacion/paginacion.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__administrador_proveedores_routing_module__ = __webpack_require__("../../../../../src/app/administrador-proveedores/administrador-proveedores-routing.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__administrador_proveedores_service__ = __webpack_require__("../../../../../src/app/administrador-proveedores/administrador-proveedores.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__pedidos_pedidos_component__ = __webpack_require__("../../../../../src/app/administrador-proveedores/pedidos/pedidos.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__menu_menu_component__ = __webpack_require__("../../../../../src/app/administrador-proveedores/menu/menu.component.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AdministradorProveedoresModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};








//import { MenuComponent } from './menu/menu.component';
//import { MenuLateralComponent } from './menu-lateral/menu-lateral.component';




var AdministradorProveedoresModule = (function () {
    function AdministradorProveedoresModule() {
    }
    return AdministradorProveedoresModule;
}());
AdministradorProveedoresModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [
            __WEBPACK_IMPORTED_MODULE_1__angular_common__["CommonModule"],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* RouterModule */],
            __WEBPACK_IMPORTED_MODULE_3__angular_forms__["FormsModule"],
            __WEBPACK_IMPORTED_MODULE_4__hub_hub_module__["a" /* HubModule */],
            __WEBPACK_IMPORTED_MODULE_5__perfil_perfil_module__["a" /* PerfilModule */],
            __WEBPACK_IMPORTED_MODULE_6__bloquear_pantalla_bloquear_pantalla_module__["a" /* BloquearPantallaModule */],
            __WEBPACK_IMPORTED_MODULE_7__paginacion_paginacion_module__["a" /* PaginacionModule */],
            __WEBPACK_IMPORTED_MODULE_8__administrador_proveedores_routing_module__["a" /* AdministradorProveedoresRoutingModule */]
        ],
        declarations: [__WEBPACK_IMPORTED_MODULE_10__pedidos_pedidos_component__["a" /* PedidosComponent */], __WEBPACK_IMPORTED_MODULE_11__menu_menu_component__["a" /* MenuComponent */]],
        providers: [__WEBPACK_IMPORTED_MODULE_9__administrador_proveedores_service__["a" /* AdministradorProveedoresService */]]
    })
], AdministradorProveedoresModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/administrador-proveedores.module.js.map

/***/ }),

/***/ "../../../../../src/app/administrador-proveedores/administrador-proveedores.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/@angular/http.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__ = __webpack_require__("../../../../../src/app/jwt-request.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AdministradorProveedoresService; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var AdministradorProveedoresService = (function () {
    function AdministradorProveedoresService(http, jwtRequest) {
        this.http = http;
        this.jwtRequest = jwtRequest;
    }
    AdministradorProveedoresService.prototype.jurisdicciones = function () {
        return this.jwtRequest.get("jurisdicciones").map(function (response) { return response.json().data; });
    };
    AdministradorProveedoresService.prototype.abasto = function (parametros) {
        if (parametros === void 0) { parametros = {}; }
        return this.jwtRequest.get("abasto", null, parametros).map(function (response) { return response.json().data; });
    };
    AdministradorProveedoresService.prototype.pedidos = function (parametros) {
        if (parametros === void 0) { parametros = {}; }
        return this.jwtRequest.get("pedidos-administrador-proveedores", null, parametros).map(function (response) { return response.json().data; });
    };
    AdministradorProveedoresService.prototype.verPedido = function (id) {
        return this.jwtRequest.get('pedidos-administrador-proveedores-pedido', id, {}).map(function (response) {
            var jsonData = response.json().data;
            var pedido = jsonData;
            //usuario.roles = roles;
            return pedido;
        });
    };
    AdministradorProveedoresService.prototype.presupuesto = function (parametros) {
        return this.jwtRequest.get("presupuesto-pedidos-administrador-proveedores", null, parametros).map(function (response) { return response.json(); });
    };
    return AdministradorProveedoresService;
}());
AdministradorProveedoresService = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__["a" /* JwtRequestService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__["a" /* JwtRequestService */]) === "function" && _b || Object])
], AdministradorProveedoresService);

var _a, _b;
//# sourceMappingURL=C:/wamp/www/x3-C/src/administrador-proveedores.service.js.map

/***/ }),

/***/ "../../../../../src/app/administrador-proveedores/menu/menu.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/administrador-proveedores/menu/menu.component.html":
/***/ (function(module, exports) {

module.exports = "<section class=\"hero is-dark\" style=\"position: fixed; width: 100%;top:0px; z-index:99\">\r\n    <div class=\"hero-head\">\r\n        <div class=\"container is-fluid\">\r\n            <nav class=\"nav is-primary\">\r\n                <div class=\"nav-left\">\r\n                    <a class=\"nav-item is-brand\" routerLink=\"/administrador-proveedores\" routerLinkActive=\"active\">\r\n                      <img src=\"assets/hub-administrador-proveedores.svg\" alt=\"icono\">\r\n                      <h1 class=\"title\">&nbsp;Administrador Proveedores</h1>\r\n                    </a>\r\n                </div>\r\n                \r\n                <a class=\"nav-item\"  (click)=\"hub.toggle()\">\r\n                    <span class=\"icon\">\r\n                        <i class=\"fa fa-th\"></i>\r\n                    </span>\r\n                </a>\r\n\r\n                <a class=\"nav-item is-hidden-mobile\" (click)=\"perfil.toggle()\">\r\n                    \r\n                    <figure class=\"image\" style=\"width:26px;\"><img src=\"assets/{{ usuario.avatar || 'avatar-unknow' }}.svg\" alt=\"avatar\"></figure>\r\n                    &nbsp;\r\n                    <span>{{ usuario.nombre }} {{ usuario.apellidos }}</span>\r\n                </a>\r\n                <a class=\"nav-item is-hidden-tablet\" (click)=\"perfil.toggle()\">\r\n                    \r\n                    <figure class=\"image\" style=\"width:26px;\"><img src=\"assets/{{ usuario.avatar || 'avatar-unknow' }}.svg\" alt=\"avatar\"></figure>\r\n                </a>\r\n               \r\n                \r\n            </nav>\r\n        </div>\r\n    </div>\r\n</section>\r\n\r\n<app-hub #hub></app-hub>\r\n<app-perfil #perfil></app-perfil>"

/***/ }),

/***/ "../../../../../src/app/administrador-proveedores/menu/menu.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MenuComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var MenuComponent = (function () {
    function MenuComponent() {
        this.usuario = {};
    }
    MenuComponent.prototype.ngOnInit = function () {
        this.usuario = JSON.parse(localStorage.getItem("usuario"));
    };
    return MenuComponent;
}());
MenuComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'administrador-proveedores-menu',
        template: __webpack_require__("../../../../../src/app/administrador-proveedores/menu/menu.component.html"),
        styles: [__webpack_require__("../../../../../src/app/administrador-proveedores/menu/menu.component.css")]
    }),
    __metadata("design:paramtypes", [])
], MenuComponent);

//# sourceMappingURL=C:/wamp/www/x3-C/src/menu.component.js.map

/***/ }),

/***/ "../../../../../src/app/administrador-proveedores/pedidos/pedidos.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "td.causes {\r\n    background-color: #cdff8c;\r\n}\r\n\r\ntd.no-causes {\r\n    background-color: #ffa838;\r\n}\r\n\r\ntd.material-curacion {\r\n    background-color: #ffff7c;\r\n}\r\n\r\n.farmacia{\r\n    color:#a8c0ff;\r\n}\r\n\r\n.sin-surtir{\r\n    color:#dddddd;\r\n}\r\n\r\n.surtiendo{\r\n    color:#e8dd14;\r\n}\r\n\r\n.surtido{\r\n    color:#4aba53;\r\n}\r\n\r\n.expirado{\r\n    color:red;\r\n}", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/administrador-proveedores/pedidos/pedidos.component.html":
/***/ (function(module, exports) {

module.exports = "<administrador-proveedores-menu></administrador-proveedores-menu>\r\n\r\n<div class=\"contenedor columns \" style=\"height:100%; \">\r\n    <div class=\"column\" style=\"position:relative; overflow-x:hidden;\">\r\n        <div style=\"height:60px;\"></div>\r\n        <div style=\"background: #FFF; overflow:hidden; border-radius:1em; width:100%;margin-bottom:1em;\">\r\n            <table class=\"table\" *ngIf=\"!cargando\" style=\"min-width:100%; font-size:0.8em; margin-bottom:0.2em;margin-top:0.2em;\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Presupuesto</th>\r\n                        <th style=\"text-align:center\">Causes</th>\r\n                        <th style=\"text-align:center\">No causes</th>\r\n                        <th style=\"text-align:center\">Material de curación</th>\r\n                        <th style=\"text-align:center\">Total</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr>\r\n                        <td>Comprometido</td>\r\n                        <td style=\"text-align:center\"><span class=\"tag is-warning\"> $ {{ presupuesto.causes_comprometido | number:'1.2-2' }}</span></td>\r\n                        <td style=\"text-align:center\"><span class=\"tag is-warning\"> $ {{ presupuesto.no_causes_comprometido | number:'1.2-2' }}</span></td>\r\n                        <td style=\"text-align:center\"><span class=\"tag is-warning\"> $ {{ presupuesto.material_curacion_comprometido | number:'1.2-2' }}</span></td>\r\n                        <td style=\"text-align:center\"><span class=\"tag is-warning\"> $ {{ presupuesto.total_comprometido | number:'1.2-2' }}</span></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <td>Devengado</td>\r\n                        <td style=\"text-align:center\"><span class=\"tag is-danger\">$ {{ presupuesto.causes_devengado | number:'1.2-2' }}</span></td>\r\n                        <td style=\"text-align:center\"><span class=\"tag is-danger\">$ {{ presupuesto.no_causes_devengado | number:'1.2-2' }}</span></td>\r\n                        <td style=\"text-align:center\"><span class=\"tag is-danger\">$ {{ presupuesto.material_curacion_devengado | number:'1.2-2' }}</span></td>\r\n                        <td style=\"text-align:center\"><span class=\"tag is-danger\">$ {{ presupuesto.total_devengado | number:'1.2-2' }}</span></td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <!--table class=\"table\" *ngIf=\"!cargando\" style=\"min-width:100%; font-size:0.8em; margin-bottom:0.2em;margin-top:0.2em;\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Presupuesto</th>\r\n                        <th style=\"text-align:center\">Autorizado</th>\r\n                        <th style=\"text-align:center\">Comprometido</th>\r\n                        <th style=\"text-align:center\">Devengado</th>\r\n                        <th style=\"text-align:center\">Disponible</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr>\r\n                        <th>Causes</th>\r\n                        <td style=\"text-align:center\"><span class=\"tag is-primary\">$ {{ presupuesto.causes_modificado | number:'1.2-2' }}</span></td>\r\n                        <td style=\"text-align:center\"><span class=\"tag is-warning\"> $ {{ presupuesto.causes_comprometido | number:'1.2-2' }}</span></td>\r\n                        <td style=\"text-align:center\"><span class=\"tag is-danger\">$ {{ presupuesto.causes_devengado | number:'1.2-2' }}</span></td>\r\n                        <td style=\"text-align:center\"><span class=\"tag is-success\">$ {{ presupuesto.causes_disponible | number:'1.2-2' }}</span></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>No causes</th>\r\n                        <td style=\"text-align:center\"><span class=\"tag is-primary\">$ {{ presupuesto.no_causes_modificado | number:'1.2-2' }}</span></td>\r\n                        <td style=\"text-align:center\"><span class=\"tag is-warning\"> $ {{ presupuesto.no_causes_comprometido | number:'1.2-2' }}</span></td>\r\n                        <td style=\"text-align:center\"><span class=\"tag is-danger\">$ {{ presupuesto.no_causes_devengado | number:'1.2-2' }}</span></td>\r\n                        <td style=\"text-align:center\"><span class=\"tag is-success\">$ {{ presupuesto.no_causes_disponible | number:'1.2-2' }}</span></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>Material de curación</th>\r\n                        <td style=\"text-align:center\"><span class=\"tag is-primary\">$ {{ presupuesto.material_curacion_modificado | number:'1.2-2' }}</span></td>\r\n                        <td style=\"text-align:center\"><span class=\"tag is-warning\"> $ {{ presupuesto.material_curacion_comprometido | number:'1.2-2' }}</span></td>\r\n                        <td style=\"text-align:center\"><span class=\"tag is-danger\">$ {{ presupuesto.material_curacion_devengado | number:'1.2-2' }}</span></td>\r\n                        <td style=\"text-align:center\"><span class=\"tag is-success\">$ {{ presupuesto.material_curacion_disponible | number:'1.2-2' }}</span></td>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>Total</th>\r\n                        <td style=\"text-align:center\"><span class=\"tag is-primary\">$ {{ presupuesto.total_modificado | number:'1.2-2' }}</span></td>\r\n                        <td style=\"text-align:center\"><span class=\"tag is-warning\"> $ {{ presupuesto.total_comprometido | number:'1.2-2' }}</span></td>\r\n                        <td style=\"text-align:center\"><span class=\"tag is-danger\">$ {{ presupuesto.total_devengado | number:'1.2-2' }}</span></td>\r\n                        <td style=\"text-align:center\"><span class=\"tag is-success\">$ {{ presupuesto.total_disponible | number:'1.2-2' }}</span></td>\r\n                    </tr>\r\n                </tbody>\r\n            </table-->\r\n         </div>\r\n            \r\n        <section class=\"hero is-primary\"  style=\"  border-radius:  1em  1em 0  0;\" >\r\n            \r\n            <div class=\"hero-body\" style=\"position:relative;\">                    \r\n                \r\n                <a class=\"button  is-primary\" *ngIf=\"!cargando\" style=\"position:absolute; top:1em; right:1em;\" (click)=\"exportar()\"><span class=\"icon \"><i class=\"fa fa-file-excel-o\"></i></span> <span>Exportar</span></a>\r\n                <div class=\"container is-fluid\">\r\n                    \r\n                    <h1 class=\"title\">\r\n                        <span class=\"icon is-medium\"><i class=\"fa fa-file-text\"></i></span> Pedidos\r\n                    </h1>\r\n                    \r\n                    <div class=\"control is-grouped\">\r\n                        <p class=\"control is-expanded\">\r\n                            <input class=\"input is-medium\" type=\"text\" placeholder=\"Buscar por CLUES ó Folio ó Nombre del pedido\" [(ngModel)] = \"q\" (keyup)=\"filtrarQuery($event)\">\r\n                        </p>\r\n                        <!--div class=\"control\">\r\n                            <button class=\"button is-primary\" (click)=\"sin_pedidos = !sin_pedidos\"><span class=\"icon\"><i class=\"fa\" [ngClass]=\"{'fa-check-square-o': sin_pedidos, 'fa-square-o':!sin_pedidos }\"></i></span> &nbsp;&nbsp;Sin pedidos</button>\r\n                        </div-->\r\n                    </div>\r\n                    <div class=\"columns\">\r\n                        <div class=\"column\">\r\n                            <label>Status:</label>\r\n                            <p class=\"control is-expanded\">\r\n                                <span class=\"select is-fullwidth\">\r\n                                <select #statusSelect (change)=\"cambioSeleccionStatus(statusSelect.value)\">\r\n                                    <option value=\"-1\">Todos</option>\r\n                                    <option *ngFor=\"let item of status\" value=\"{{item.id}}\">{{ item.descripcion }}</option>\r\n                                </select>\r\n                                </span>\r\n                            </p>                   \r\n                        </div>\r\n                        <div class=\"column\">\r\n                            <label>Jurisdicciones:</label>\r\n                            <p class=\"control is-expanded\">\r\n                                <span class=\"select is-fullwidth\">\r\n                                <select #js id=\"jurisdicciones\"  (change)=\"cambioSeleccionJurisdiccion(js.value)\">\r\n                                    <option value=\"-1\">Todas</option>\r\n                                    <option *ngFor=\"let item of jurisdicciones\" value=\"{{item.id}}\">JS {{ item.numero }} - {{ item.nombre }}</option>\r\n                                </select>\r\n                                </span>\r\n                            </p>\r\n                        </div>\r\n                        <div class=\"column\">\r\n                            <label for=\"mes\">Mes:</label>\r\n                            <p class=\"control is-expanded\">\r\n                                <span class=\"select is-fullwidth\">\r\n                                    <select [(ngModel)]=\"mes\" name=\"mes\">\r\n                                        <option *ngFor=\"let item of meses\" [value]=\"item.id\">{{ item.nombre }}</option>\r\n                                    </select>\r\n                                </span>\r\n                            </p>\r\n                        </div>\r\n                        <div class=\"column\">\r\n                            <label for=\"mes\">Año:</label>\r\n                            <p class=\"control is-expanded\">\r\n                                <input class=\"input\" type=\"number\" placeholder=\"2017\" [(ngModel)] = \"anio\" (keyup)=\"filtrarQuery($event)\">\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <div *ngIf=\"jurisdiccionesSeleccionadas.length>0 || statusSeleccionados.length>0\">\r\n                        <h1 class=\"title is-6\">Filtro aplicado:</h1>\r\n                        <span class=\"tag is-white is-medium\" style=\"margin-bottom:0.5em; margin-right:0.2em;\" *ngFor=\"let item of jurisdiccionesSeleccionadas;  let i = index\">JS {{ item.numero }}<button class=\"delete is-small\" (click)=\"quitarJurisdiccion(i)\"></button></span>\r\n                        <span class=\"tag is-warning is-medium\" style=\"margin-bottom:0.5em; margin-right:0.2em;\" *ngFor=\"let item of statusSeleccionados;  let i = index\">{{ item.descripcion }}<button class=\"delete is-small\" (click)=\"quitarStatus(i)\"></button></span>\r\n                    </div>\r\n                    <nav class=\"level\">\r\n                        <div class=\"level-left\">\r\n                            <h1 class=\"title is-5\">Resultados: <b>{{ total }}</b></h1>\r\n                        </div>\r\n                        <div class=\"level-right\">\r\n                            <div class=\"block\">\r\n                            <button class=\"button \" *ngIf=\"jurisdiccionesSeleccionadas.length>0 || statusSeleccionados.length>0 || q != '' \" (click)=\"q = ''; jurisdiccionesSeleccionadas = []; proveedoresSeleccionados = []; statusSeleccionados =[]; js.value = -1; statusSelect.value = -1;\"><span class=\"icon\"><i class=\"fa fa-times\"></i></span> <span>Limpiar filtro</span></button>\r\n                            <button class=\"button is-primary is-inverted\" (click)=\"listar(1)\"><span class=\"icon\"><i class=\"fa fa-filter\"></i></span> <span>Filtrar</span></button>\r\n                            </div>\r\n                        </div>\r\n                    </nav>\r\n                \r\n                    \r\n                </div>\r\n            </div>\r\n        </section>\r\n        \r\n        <div  style=\"background: #FFF; overflow-x:auto; \">\r\n            <div class=\"is-fullwidth has-text-centered\" *ngIf=\"cargando\">\r\n                <br>\r\n                <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n            <table class=\"table\" *ngIf=\"!cargando\" style=\"min-width:100%; font-size:0.8em;\">\r\n                <thead>\r\n                    <tr>\r\n                        <th colspan=\"3\">\r\n                            Status: \r\n                            <span class=\"icon is-small sin-surtir\"><i class=\"fa fa-circle\"></i></span> Sin Surtir | \r\n                            <span class=\"icon is-small surtiendo\"><i class=\"fa fa-minus-circle\"></i></span> Surtiendo | \r\n                            <span class=\"icon is-small surtido\"><i class=\"fa fa-check-circle\"></i></span> Surtido | \r\n                            <span class=\"icon is-small farmacia\"><i class=\"fa fa-cubes\"></i></span> Farmacia |\r\n                            <span class=\"icon is-small expirado\"><i class=\"fa fa-times-circle\"></i></span> Expirado\r\n                        </th>\r\n                        <th colspan=\"2\" style=\"text-align:center;\">Total</th>\r\n                        <th class=\"causes\" colspan=\"2\" style=\"text-align:center;\">Causes</th>\r\n                        <th class=\"no-causes\" colspan=\"2\" style=\"text-align:center;\">No causes</th>\r\n                        <th class=\"material-curacion\" colspan=\"2\" style=\"text-align:center;\">Mat. de curación</th>\r\n                        <th></th>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>Folio/Nombre del Pedido/Unidad Medica</th>\r\n                        <!--th>Nombre</th>\r\n                        <th>Unidad médica</th-->\r\n                        <th style=\"text-align:center;\">Fecha</th>\r\n                        <th style=\"text-align:center;\">Status</th>\r\n                        <th style=\"text-align:center;\">Claves</th>\r\n                        <th style=\"text-align:center;\">Monto</th>\r\n\r\n                        <th class=\"causes\" style=\"text-align:center;\">Claves</th>\r\n                        <th class=\"causes\" style=\"text-align:center;\">Monto</th>\r\n\r\n                        <th class=\"no-causes\" style=\"text-align:center;\">Claves</th>\r\n                        <th class=\"no-causes\" style=\"text-align:center;\">Monto</th>\r\n\r\n                        <th class=\"material-curacion\" style=\"text-align:center;\">Claves</th>\r\n                        <th class=\"material-curacion\" style=\"text-align:center;\">Monto</th>\r\n\r\n                        <th style=\"text-align:center;\">Archivos</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor=\"let item of lista; let i=index\"> \r\n                        <td style=\"vertical-align: middle;\"><strong>{{ item.folio }}</strong><br>{{item.unidad_medica}}<br>{{item.descripcion}}</td>\r\n                        <!--td style=\"vertical-align: middle;\">{{ item.descripcion }}</td>\r\n                        <td style=\"vertical-align: middle;\">{{ item.unidad_medica }}</td-->\r\n                        <td style=\"text-align:center; vertical-align: middle;\">{{ item.fecha }}</td>\r\n                        <td [ngClass]=\"{'surtido':item.status=='FI','expirado':item.status=='EX','sin-surtir':(item.total_cantidad_recibida==0 && item.status=='PS'),'surtiendo':(item.total_cantidad_recibida>0 && item.status=='PS'),'farmacia':item.status=='EF'}\" style=\"text-align:center; vertical-align: middle;\"><span class=\"icon\"><i class=\"fa\" [ngClass]=\"{'fa-check-circle':item.status=='FI','fa-times-circle':item.status=='EX','fa-circle':(item.total_cantidad_recibida==0 && item.status == 'PS'),'fa-minus-circle':(item.total_cantidad_recibida>0 && item.status == 'PS'),'fa-cubes':item.status=='EF'}\"></i></span></td>\r\n                        \r\n                        <td style=\"text-align:center; vertical-align: middle; white-space: nowrap;\">{{ item.total_claves_recibidas }} / {{ item.total_claves_solicitadas }} <br> <strong>({{(item.total_claves_recibidas/item.total_claves_solicitadas)*100 | number:'1.0-2'}} %)</strong></td>\r\n                        <td style=\"text-align:center; vertical-align: middle;\">$ {{ item.total_monto_recibido | number:'1.2-2' }} / $ {{ item.total_monto_solicitado | number:'1.2-2' }} <br> <strong>({{((item.total_monto_recibido/item.total_monto_solicitado)*100) | number:'1.0-2'}} %)</strong></td>\r\n\r\n                        <td class=\"causes\"  style=\"text-align:center; vertical-align: middle; white-space: nowrap;\">\r\n                            <span *ngIf=\"item.total_claves_causes\">{{ item.total_claves_causes_recibidas }} / {{ item.total_claves_causes }} <br> <strong>({{((item.total_claves_causes_recibidas/item.total_claves_causes)*100) | number:'1.0-2'}} %)</strong></span>\r\n                            <span *ngIf=\"!item.total_claves_causes\"> --- </span>\r\n                        </td>\r\n                        <td class=\"causes\"  style=\"text-align:center; vertical-align: middle;\">\r\n                            <span *ngIf=\"(+item.total_monto_causes*1)\">${{ item.total_monto_causes_recibido  | number:'1.2-2'}} / ${{ item.total_monto_causes  | number:'1.2-2'}} <br> <strong>({{((item.total_monto_causes_recibido/item.total_monto_causes)*100) | number:'1.0-2'}} %)</strong></span>\r\n                            <span *ngIf=\"!(+item.total_monto_causes*1)\"> --- </span>\r\n                        </td>\r\n\r\n                        <td class=\"no-causes\" style=\"text-align:center; vertical-align: middle; white-space: nowrap;\">\r\n                            <span *ngIf=\"item.total_claves_no_causes\">{{ item.total_claves_no_causes_recibidas }} / {{ item.total_claves_no_causes }} <br> <strong>({{((item.total_claves_no_causes_recibidas/item.total_claves_no_causes)*100) | number:'1.0-2'}} %)</strong></span>\r\n                            <span *ngIf=\"!item.total_claves_no_causes\"> --- </span>\r\n                        </td>\r\n                        <td class=\"no-causes\" style=\"text-align:center; vertical-align: middle;\">\r\n                            <span *ngIf=\"(+item.total_monto_no_causes*1)\">${{ item.total_monto_no_causes_recibido  | number:'1.2-2'}} / ${{ item.total_monto_no_causes  | number:'1.2-2'}} <br> <strong>({{((item.total_monto_no_causes_recibido/item.total_monto_no_causes)*100) | number:'1.0-2'}} %)</strong></span>\r\n                            <span *ngIf=\"!(+item.total_monto_no_causes*1)\"> --- </span>\r\n                        </td>\r\n\r\n                        <td class=\"material-curacion\" style=\"text-align:center; vertical-align: middle; white-space: nowrap;\">\r\n                            <span *ngIf=\"item.total_claves_material_curacion\">{{ item.total_claves_material_curacion_recibidas }} / {{ item.total_claves_material_curacion }} <br> <strong>({{((item.total_claves_material_curacion_recibidas/item.total_claves_material_curacion)*100) | number:'1.0-2'}} %)</strong></span>\r\n                            <span *ngIf=\"!item.total_claves_material_curacion\"> --- </span>\r\n                        </td>\r\n                        <td class=\"material-curacion\" style=\"text-align:center; vertical-align: middle;\">\r\n                            <span *ngIf=\"(+item.total_monto_material_curacion*1)\">${{ item.total_monto_material_curacion_recibido | number:'1.2-2' }} / ${{ item.total_monto_material_curacion | number:'1.2-2' }} <br> <strong>({{((item.total_monto_material_curacion_recibido/item.total_monto_material_curacion)*100) | number:'1.0-2'}} %)</strong></span>\r\n                            <span *ngIf=\"!(+item.total_monto_material_curacion*1)\"> --- </span>\r\n                        </td>\r\n\r\n                        <td style=\"text-align:center; vertical-align: middle;\">\r\n                            <a  (click)=\"mostrarDialogoPedidos(item.pedido_id)\"><span class=\"icon\"><i class=\"fa fa-archive\"></i></span></a>\r\n                            <!--a (click)=\"imprimirExcelItem(item.pedido_id)\"><span class=\"icon\"><i class=\"fa fa-file-excel-o\"></i></span></a> <a><span class=\"icon\"><i class=\"fa fa-file-pdf-o\"></i></span></a-->\r\n                        </td>\r\n                    </tr>\r\n                    <tr *ngIf=\"lista.length == 0\">\r\n                        <td colspan=\"12\" style=\"vertical-align: middle; color:#888;\">Esta lista está vacía.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n        <div style=\"background: #FFF; border-radius: 0  0 1em  1em; width:100%;\">\r\n        \r\n            <paginacion \r\n                [total]=\"total\" \r\n                [paginasTotales]=\"paginasTotales\" \r\n                [resultadosPorPagina]=\"resultadosPorPagina\" \r\n                [paginaActual]=\"paginaActual\" \r\n                [indicePaginas]=\"indicePaginas\"\r\n                (onSiguiente)=\"paginaSiguiente()\" \r\n                (onAnterior)=\"paginaAnterior()\" \r\n                (onListar)=\"listar($event)\" \r\n                *ngIf=\"total>0 && total > resultadosPorPagina\"></paginacion>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"notification is-danger\" style=\"position:fixed; left:1em;  bottom:1em;\" *ngIf=\"mensajeError.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeError.mostrar = false\"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style=\"text-align:center\" ><a  class=\"button is-danger is-inverted\" (click)=\"ultimaPeticion(); mensajeError.mostrar = false\"> <span class=\"icon\"><i class=\"fa fa-refresh\"></i></span> <span>Volver a intentar</span></a></p>        \r\n</div>\r\n\r\n<div class=\"notification is-success\" style=\"position:fixed; left:1em;  bottom:1em; width: auto\" *ngIf=\"mensajeExito.mostrar\">       \r\n    <button class=\"delete\" (click)=\"mensajeExito.mostrar = false\"></button>\r\n    <p><span class=\"icon\" style=\"margin-right: 0.5em;\"><i class=\"fa fa-check-circle\"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style=\"text-align: center;\"><small >Este mensaje desaparecerá en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n<div class=\"modal is-active\" [ngClass]=\"{'is-active': verDialogoPedido}\">\r\n  <div class=\"modal-background\" (click)=\"cerrarDialogoPedidos()\"></div>\r\n  <div class=\"modal-card\" style=\"width:95%; height: auto;\">\r\n    <header class=\"modal-card-head\" style=\"background: #00d1b2;\">\r\n      <div class=\"container is-fluid\"  style=\"width:100%;\">\r\n          <h1 class=\"title\" style=\"color:#FFF;\">\r\n            <span class=\"icon is-medium\"><i class=\"fa fa-file\"></i></span> {{datosPedido.folio}} \r\n          </h1>\r\n      </div>            \r\n      <a class=\"button  is-primary\" style=\"position:absolute; top:1em; right:1em;\" (click)=\"cerrarDialogoPedidos()\"><span class=\"icon \"><i class=\"fa fa-close\"></i></span></a>\r\n    </header>\r\n    <section class=\"modal-card-body\" style=\"padding:0px;\" >\r\n      <div style=\"padding: 1em;\">\r\n        <div class=\"is-fullwidth has-text-centered\" *ngIf=\"cargandoDatosPedido\">\r\n            <br>\r\n            <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando datos del pedido...</span></span>\r\n            <br>\r\n            <br>\r\n        </div>\r\n        <div class=\"columns\" *ngIf=\"!cargandoDatosPedido\">\r\n          <div class=\"column is-one-quarter\" *ngFor=\"let tipo of tiposSubPedidos\">\r\n            <div class=\"card\">\r\n              <header class=\"card-header\">\r\n                <p class=\"card-header-title\">\r\n                  {{subPedidos[tipo].titulo}}\r\n                </p>\r\n              </header>\r\n              <div class=\"card-content\">\r\n                <div class=\"content\">\r\n                  <strong>Total claves</strong>: {{subPedidos[tipo].claves | number}} <br>\r\n                  <strong>Total unidades</strong>: {{subPedidos[tipo].cantidad | number}} <br>\r\n                  <strong>Total monto</strong>: $ {{subPedidos[tipo].monto + ((subPedidos[tipo].tiene_iva)?+subPedidos[tipo].monto*16/100:0) | number:'1.2-2'}}\r\n                </div>\r\n              </div>\r\n              <footer class=\"card-footer\">\r\n                <a class=\"card-footer-item\" (click)=\"imprimirPedido(tipo)\" [ngClass]=\"{ 'is-loading': cargandoPdf, 'is-inverted': !cargandoPdf }\">\r\n                  <span class=\"icon is-medium\"><i class=\"fa fa-file-pdf-o\"></i></span>&nbsp;<span>Descargar/Imprimir</span>\r\n                </a>\r\n              </footer>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n    <footer class=\"\" style=\"position:relative; padding:1em;background: #FFF; border-top:1px solid #EEE; border-radius:0 0 0.8em 0.8em \" >\r\n        <p class=\"control\" *ngIf=\"!cargandoDatosPedido\">\r\n            <button class=\"button is-medium is-primary \" (click)=\"imprimirExcelPedido()\" >\r\n            <span class=\"icon\"><i class=\"fa fa-file-excel-o\"></i></span><span>Excel del Pedido</span>\r\n            </button>\r\n        </p>\r\n    </footer>\r\n  </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/administrador-proveedores/pedidos/pedidos.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__environments_environment__ = __webpack_require__("../../../../../src/environments/environment.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__mensaje__ = __webpack_require__("../../../../../src/app/mensaje.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_file_saver__ = __webpack_require__("../../../../file-saver/FileSaver.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_file_saver___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_file_saver__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__administrador_proveedores_service__ = __webpack_require__("../../../../../src/app/administrador-proveedores/administrador-proveedores.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PedidosComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var PedidosComponent = (function () {
    // # FIN SECCION
    function PedidosComponent(title, apiService, _ngZone) {
        this.title = title;
        this.apiService = apiService;
        this._ngZone = _ngZone;
        this.cargando = false;
        this.cargandoPresupuestos = false;
        // # SECCION: Esta sección es para mostrar mensajes
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_3__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_3__mensaje__["a" /* Mensaje */]();
        // # FIN SECCION
        // # SECCION: Filtro
        this.q = "";
        this.status = [];
        this.meses = [];
        this.jurisdicciones = [];
        this.statusSeleccionados = [];
        this.jurisdiccionesSeleccionadas = [];
        this.mes = null;
        this.anio = null;
        this.sin_pedidos = false;
        this.ordenarCauses = '';
        this.ordenarNoCauses = '';
        this.ordenarMaterialCuracion = '';
        // # FIN SECCION
        // # SECCION: Resumen presupuesto
        this.presupuesto = {};
        // # FIN SECCION
        // # SECCION: Para Imprimir Pedidos
        this.datosPedido = {};
        this.verDialogoPedido = false;
        this.tiposSubPedidos = [];
        this.subPedidos = {};
        this.cargandoDatosPedido = false;
        // # FIN SECCION
        // # SECCION: Lista
        this.lista = [];
        this.paginaActual = 1;
        this.resultadosPorPagina = 30;
        this.total = 0;
        this.paginasTotales = 0;
        this.indicePaginas = [];
        this.cargandoPdf = false;
    }
    PedidosComponent.prototype.ngOnInit = function () {
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_3__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_3__mensaje__["a" /* Mensaje */]();
        this.title.setTitle("Pedidos / Administrador Proveedores");
        // Inicializamos el objeto para los reportes con web Webworkers
        this.pdfworker = new Worker("web-workers/farmacia/pedidos/pedido-proveedor.js");
        // Este es un hack para poder usar variables del componente dentro de una funcion del worker
        var self = this;
        var $ngZone = this._ngZone;
        this.pdfworker.onmessage = function (evt) {
            // Esto es un hack porque estamos fuera de contexto dentro del worker
            // Y se usa esto para actualizar alginas variables
            $ngZone.run(function () {
                self.cargandoPdf = false;
            });
            __WEBPACK_IMPORTED_MODULE_4_file_saver__["saveAs"](self.base64ToBlob(evt.data.base64, 'application/pdf'), evt.data.fileName);
            //open( 'data:application/pdf;base64,' + evt.data.base64 ); // Popup PDF
        };
        this.pdfworker.onerror = function (e) {
            $ngZone.run(function () {
                self.cargandoPdf = false;
            });
            console.log(e);
        };
        var fecha_actual = new Date();
        this.anio = fecha_actual.getFullYear();
        this.mes = fecha_actual.getMonth() + 1;
        this.listar(1);
        this.cargarJurisdicciones();
        this.status = [
            { id: 'PS', descripcion: 'Por surtir' },
            { id: 'FI', descripcion: 'Surtido' },
            { id: 'EF', descripcion: 'En Farmacia' },
            { id: 'EX', descripcion: 'Expirados' }
        ];
        this.meses = [
            { id: 1, nombre: 'Enero' },
            { id: 2, nombre: 'Febrero' },
            { id: 3, nombre: 'Marzo' },
            { id: 4, nombre: 'Abril' },
            { id: 5, nombre: 'Mayo' },
            { id: 6, nombre: 'Junio' },
            { id: 7, nombre: 'Julio' },
            { id: 8, nombre: 'Agosto' },
            { id: 9, nombre: 'Septiembre' },
            { id: 10, nombre: 'Octubre' },
            { id: 11, nombre: 'Noviembre' },
            { id: 12, nombre: 'Diciembre' }
        ];
    };
    PedidosComponent.prototype.cargarJurisdicciones = function () {
        var _this = this;
        this.apiService.jurisdicciones().subscribe(function (respuesta) {
            _this.jurisdicciones = respuesta;
        }, function (error) {
        });
    };
    PedidosComponent.prototype.cambioSeleccionJurisdiccion = function (id) {
        if (id == -1) {
            this.jurisdiccionesSeleccionadas = [];
        }
        this.agregarJurisdiccion(id);
    };
    PedidosComponent.prototype.cambioSeleccionStatus = function (id) {
        if (id == -1) {
            this.statusSeleccionados = [];
        }
        this.agregarStatus(id);
    };
    PedidosComponent.prototype.agregarJurisdiccion = function (id) {
        if (id == -1) {
            return;
        }
        // Si existe en el filtro no la agregamos
        for (var i in this.jurisdiccionesSeleccionadas) {
            if (this.jurisdiccionesSeleccionadas[i].id == id) {
                return;
            }
        }
        for (var i in this.jurisdicciones) {
            if (this.jurisdicciones[i].id == id) {
                this.jurisdiccionesSeleccionadas.push(this.jurisdicciones[i]);
                break;
            }
        }
    };
    PedidosComponent.prototype.agregarStatus = function (id) {
        if (id == -1) {
            return;
        }
        // Si existe en el filtro no la agregamos
        for (var i in this.statusSeleccionados) {
            if (this.statusSeleccionados[i].id == id) {
                return;
            }
        }
        for (var i in this.status) {
            if (this.status[i].id == id) {
                this.statusSeleccionados.push(this.status[i]);
                break;
            }
        }
    };
    PedidosComponent.prototype.quitarJurisdiccion = function (index) {
        this.jurisdiccionesSeleccionadas.splice(index, 1);
    };
    PedidosComponent.prototype.quitarStatus = function (index) {
        this.statusSeleccionados.splice(index, 1);
    };
    PedidosComponent.prototype.filtrarQuery = function (e) {
        if (e.keyCode == 13) {
            this.listar(1);
        }
    };
    PedidosComponent.prototype.toggleCauses = function () {
        switch (this.ordenarCauses) {
            case '':
                this.ordenarCauses = 'ASC';
                break;
            case 'ASC':
                this.ordenarCauses = 'DESC';
                break;
            case 'DESC':
                this.ordenarCauses = '';
                break;
            default: this.ordenarCauses = '';
        }
        this.ordenarNoCauses = '';
        this.ordenarMaterialCuracion = '';
        this.listar(1);
    };
    PedidosComponent.prototype.toggleNoCauses = function () {
        switch (this.ordenarNoCauses) {
            case '':
                this.ordenarNoCauses = 'ASC';
                break;
            case 'ASC':
                this.ordenarNoCauses = 'DESC';
                break;
            case 'DESC':
                this.ordenarNoCauses = '';
                break;
            default: this.ordenarNoCauses = '';
        }
        this.ordenarCauses = '';
        this.ordenarMaterialCuracion = '';
        this.listar(1);
    };
    PedidosComponent.prototype.toggleMaterialCuracion = function () {
        switch (this.ordenarMaterialCuracion) {
            case '':
                this.ordenarMaterialCuracion = 'ASC';
                break;
            case 'ASC':
                this.ordenarMaterialCuracion = 'DESC';
                break;
            case 'DESC':
                this.ordenarMaterialCuracion = '';
                break;
            default: this.ordenarMaterialCuracion = '';
        }
        this.ordenarCauses = '';
        this.ordenarNoCauses = '';
        this.listar(1);
    };
    PedidosComponent.prototype.listar = function (pagina) {
        var _this = this;
        this.cargando = true;
        this.paginaActual = pagina;
        var jurisdiccionesIds = [];
        for (var i in this.jurisdiccionesSeleccionadas) {
            jurisdiccionesIds.push(this.jurisdiccionesSeleccionadas[i].id);
        }
        var statusIds = [];
        for (var i in this.statusSeleccionados) {
            statusIds.push(this.statusSeleccionados[i].id);
        }
        var parametros = {
            q: this.q,
            mes: this.mes,
            anio: this.anio,
            jurisdicciones: jurisdiccionesIds,
            status: statusIds,
            page: this.paginaActual,
            per_page: this.resultadosPorPagina,
            ordenar_causes: this.ordenarCauses,
            ordenar_no_causes: this.ordenarNoCauses,
            ordenar_material_curacion: this.ordenarMaterialCuracion
        };
        console.log(parametros);
        this.cargandoPresupuestos = true;
        this.apiService.presupuesto(parametros).subscribe(function (response) {
            _this.cargandoPresupuestos = false;
            _this.presupuesto = response.data;
            //this.presupuesto.total_modificado = (+response.data.causes_modificado) + (+response.data.no_causes_modificado) + (+response.data.material_curacion_modificado);
            _this.presupuesto.total_comprometido = (+response.data.causes_comprometido) + (+response.data.no_causes_comprometido) + (+response.data.material_curacion_comprometido);
            _this.presupuesto.total_devengado = (+response.data.causes_devengado) + (+response.data.no_causes_devengado) + (+response.data.material_curacion_devengado);
            //this.presupuesto.total_disponible = (+response.data.causes_disponible) + (+response.data.no_causes_disponible) + (+response.data.material_curacion_disponible);
        }, function (error) {
            _this.cargandoPresupuestos = false;
            console.log(error);
        });
        this.apiService.pedidos(parametros).subscribe(function (respuesta) {
            _this.cargando = false;
            _this.lista = respuesta.data;
            _this.total = respuesta.total | 0;
            _this.paginasTotales = Math.ceil(_this.total / _this.resultadosPorPagina);
            _this.indicePaginas = [];
            for (var i_1 = 0; i_1 < _this.paginasTotales; i_1++) {
                _this.indicePaginas.push(i_1 + 1);
            }
            console.log("Items cargados.");
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError.mostrar = true;
            _this.ultimaPeticion = _this.listar;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
                else {
                    _this.mensajeError.texto = e.error;
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    PedidosComponent.prototype.exportar = function () {
        var query = "token=" + localStorage.getItem('token') + "&ordenar_causes=" + this.ordenarCauses + "&ordenar_no_causes=" + this.ordenarNoCauses + "&ordenar_material_curacion=" + this.ordenarMaterialCuracion;
        if (this.q != "") {
            query += "&q=" + this.q;
        }
        var lista_jurisdicciones = "";
        for (var i in this.jurisdiccionesSeleccionadas) {
            if (lista_jurisdicciones != "") {
                lista_jurisdicciones += ",";
            }
            lista_jurisdicciones += "" + this.jurisdiccionesSeleccionadas[i].id;
        }
        if (lista_jurisdicciones != "") {
            query += "&jurisdicciones=" + lista_jurisdicciones;
        }
        var lista_status = "";
        for (var i in this.statusSeleccionados) {
            if (lista_status != "") {
                lista_status += ",";
            }
            lista_status += "" + this.statusSeleccionados[i].id;
        }
        if (lista_status != "") {
            query += "&status=" + lista_status;
        }
        if (this.mes != null) {
            query += "&mes=" + this.mes;
        }
        if (this.anio != null) {
            query += "&anio=" + this.anio;
        }
        window.open(__WEBPACK_IMPORTED_MODULE_2__environments_environment__["a" /* environment */].API_URL + "/pedidos-administrador-proveedores-excel?" + query);
    };
    PedidosComponent.prototype.mostrarDialogoPedidos = function (id) {
        var _this = this;
        this.cargandoDatosPedido = true;
        this.datosPedido = { folio: id };
        this.tiposSubPedidos = [];
        this.subPedidos = {};
        this.apiService.verPedido(id).subscribe(function (pedido) {
            _this.datosPedido = pedido;
            for (var i in pedido.insumos) {
                var dato = pedido.insumos[i];
                var insumo = dato.insumos_con_descripcion;
                insumo.cantidad = +dato.cantidad_solicitada;
                insumo.monto = +dato.monto_solicitado;
                insumo.precio = +dato.precio_unitario;
                var tiene_iva = false;
                var clave_tipo_insumo = 'SC';
                clave_tipo_insumo = dato.tipo_insumo.clave;
                if (dato.tipo_insumo.clave == 'MC') {
                    tiene_iva = true;
                }
                if (!_this.subPedidos[clave_tipo_insumo]) {
                    _this.tiposSubPedidos.push(clave_tipo_insumo);
                    _this.subPedidos[clave_tipo_insumo] = {
                        'titulo': dato.tipo_insumo.nombre,
                        'clave_folio': clave_tipo_insumo,
                        'claves': 0,
                        'cantidad': 0,
                        'monto': 0,
                        'iva': 0,
                        'tiene_iva': tiene_iva,
                        'lista': []
                    };
                }
                insumo.lote = _this.subPedidos[clave_tipo_insumo].lista.length + 1;
                _this.subPedidos[clave_tipo_insumo].claves++;
                _this.subPedidos[clave_tipo_insumo].cantidad += insumo.cantidad;
                _this.subPedidos[clave_tipo_insumo].monto += insumo.monto;
                _this.subPedidos[clave_tipo_insumo].lista.push(insumo);
            }
            pedido.insumos = undefined;
            _this.cargandoDatosPedido = false;
        }, function (error) {
            _this.cargandoDatosPedido = false;
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_3__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError.mostrar;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
                else {
                    _this.mensajeError.texto = e.error;
                }
            }
            catch (e) {
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
        this.verDialogoPedido = true;
    };
    PedidosComponent.prototype.imprimirExcelPedido = function () {
        var query = "token=" + localStorage.getItem('token');
        window.open(__WEBPACK_IMPORTED_MODULE_2__environments_environment__["a" /* environment */].API_URL + "/generar-excel-pedido/" + this.datosPedido.id + "?" + query);
    };
    PedidosComponent.prototype.imprimirPedido = function (tipo) {
        if (tipo === void 0) { tipo = ''; }
        try {
            this.cargandoPdf = true;
            var pedidos_imprimir = {
                datos: this.datosPedido,
                insumos: this.subPedidos[tipo]
            };
            this.pdfworker.postMessage(JSON.stringify(pedidos_imprimir));
        }
        catch (e) {
            this.cargandoPdf = false;
            console.log(e);
        }
    };
    PedidosComponent.prototype.cerrarDialogoPedidos = function () {
        this.verDialogoPedido = false;
    };
    // # SECCION: Paginación
    PedidosComponent.prototype.paginaSiguiente = function () {
        this.listar(this.paginaActual + 1);
    };
    PedidosComponent.prototype.paginaAnterior = function () {
        this.listar(this.paginaActual - 1);
    };
    PedidosComponent.prototype.base64ToBlob = function (base64, type) {
        var bytes = atob(base64), len = bytes.length;
        var buffer = new ArrayBuffer(len), view = new Uint8Array(buffer);
        for (var i = 0; i < len; i++)
            view[i] = bytes.charCodeAt(i) & 0xff;
        return new Blob([buffer], { type: type });
    };
    return PedidosComponent;
}());
PedidosComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-pedidos',
        template: __webpack_require__("../../../../../src/app/administrador-proveedores/pedidos/pedidos.component.html"),
        styles: [__webpack_require__("../../../../../src/app/administrador-proveedores/pedidos/pedidos.component.css")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_5__administrador_proveedores_service__["a" /* AdministradorProveedoresService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_5__administrador_proveedores_service__["a" /* AdministradorProveedoresService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"]) === "function" && _c || Object])
], PedidosComponent);

var _a, _b, _c;
//# sourceMappingURL=C:/wamp/www/x3-C/src/pedidos.component.js.map

/***/ }),

/***/ "../../../../../src/app/admision/egreso/egreso-routing.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lista_lista_component__ = __webpack_require__("../../../../../src/app/admision/egreso/lista/lista.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__egreso_egreso_component__ = __webpack_require__("../../../../../src/app/admision/egreso/egreso/egreso.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ingreso_ingreso_component__ = __webpack_require__("../../../../../src/app/admision/egreso/ingreso/ingreso.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__verificacion_verificacion_component__ = __webpack_require__("../../../../../src/app/admision/egreso/verificacion/verificacion.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__auth_guard_service__ = __webpack_require__("../../../../../src/app/auth-guard.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__permisos_guard__ = __webpack_require__("../../../../../src/app/permisos.guard.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EgresoRoutingModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};








var routes = [
    {
        path: 'pacientes/modulo',
        children: [
            { path: 'egreso', component: __WEBPACK_IMPORTED_MODULE_2__lista_lista_component__["a" /* ListaComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_7__permisos_guard__["a" /* PermisosGuard */]], data: { key: 'CKXlt7sNZCiWBhvk33xqWEVTnv2lP022' } },
            { path: 'egreso/:id', component: __WEBPACK_IMPORTED_MODULE_3__egreso_egreso_component__["a" /* EgresoComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_7__permisos_guard__["a" /* PermisosGuard */]], data: { key: 'CKXlt7sNZCiWBhvk33xqWEVTnv2lP022' } },
            { path: 'ingreso/:id', component: __WEBPACK_IMPORTED_MODULE_4__ingreso_ingreso_component__["a" /* IngresoComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_7__permisos_guard__["a" /* PermisosGuard */]], data: { key: 'eS7qbng49qtMSs88wsflDnzMBVUfVMlc' } },
            { path: 'verificacion', component: __WEBPACK_IMPORTED_MODULE_5__verificacion_verificacion_component__["a" /* VerificacionComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_7__permisos_guard__["a" /* PermisosGuard */]], data: { key: 'eS7qbng49qtMSs88wsflDnzMBVUfVMlc' } },
        ],
        canActivate: [__WEBPACK_IMPORTED_MODULE_6__auth_guard_service__["a" /* AuthGuard */]]
    }
];
var EgresoRoutingModule = (function () {
    function EgresoRoutingModule() {
    }
    return EgresoRoutingModule;
}());
EgresoRoutingModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */].forChild(routes)],
        exports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */]]
    })
], EgresoRoutingModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/egreso-routing.module.js.map

/***/ }),

/***/ "../../../../../src/app/admision/egreso/egreso.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__paginacion_paginacion_module__ = __webpack_require__("../../../../../src/app/paginacion/paginacion.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__auth_service__ = __webpack_require__("../../../../../src/app/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__menu_menu_module__ = __webpack_require__("../../../../../src/app/admision/menu/menu.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__menu_lateral_menu_lateral_module__ = __webpack_require__("../../../../../src/app/admision/menu-lateral/menu-lateral.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__egreso_routing_module__ = __webpack_require__("../../../../../src/app/admision/egreso/egreso-routing.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__lista_lista_component__ = __webpack_require__("../../../../../src/app/admision/egreso/lista/lista.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__paciente_egreso_service__ = __webpack_require__("../../../../../src/app/admision/egreso/paciente-egreso.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__egreso_service__ = __webpack_require__("../../../../../src/app/admision/egreso/egreso.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__egreso_egreso_component__ = __webpack_require__("../../../../../src/app/admision/egreso/egreso/egreso.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__ingreso_ingreso_component__ = __webpack_require__("../../../../../src/app/admision/egreso/ingreso/ingreso.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__verificacion_verificacion_component__ = __webpack_require__("../../../../../src/app/admision/egreso/verificacion/verificacion.component.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EgresoModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};














var EgresoModule = (function () {
    function EgresoModule() {
    }
    return EgresoModule;
}());
EgresoModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [
            __WEBPACK_IMPORTED_MODULE_1__angular_common__["CommonModule"],
            __WEBPACK_IMPORTED_MODULE_7__egreso_routing_module__["a" /* EgresoRoutingModule */],
            __WEBPACK_IMPORTED_MODULE_5__menu_menu_module__["a" /* MenuModule */],
            __WEBPACK_IMPORTED_MODULE_6__menu_lateral_menu_lateral_module__["a" /* MenuLateralModule */],
            __WEBPACK_IMPORTED_MODULE_3__paginacion_paginacion_module__["a" /* PaginacionModule */],
            __WEBPACK_IMPORTED_MODULE_2__angular_forms__["ReactiveFormsModule"]
        ],
        declarations: [__WEBPACK_IMPORTED_MODULE_8__lista_lista_component__["a" /* ListaComponent */], __WEBPACK_IMPORTED_MODULE_11__egreso_egreso_component__["a" /* EgresoComponent */], __WEBPACK_IMPORTED_MODULE_12__ingreso_ingreso_component__["a" /* IngresoComponent */], __WEBPACK_IMPORTED_MODULE_13__verificacion_verificacion_component__["a" /* VerificacionComponent */]],
        providers: [__WEBPACK_IMPORTED_MODULE_4__auth_service__["a" /* AuthService */], __WEBPACK_IMPORTED_MODULE_9__paciente_egreso_service__["a" /* PacienteEgresoService */], __WEBPACK_IMPORTED_MODULE_10__egreso_service__["a" /* EgresoService */]],
    })
], EgresoModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/egreso.module.js.map

/***/ }),

/***/ "../../../../../src/app/admision/egreso/egreso.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/@angular/http.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__ = __webpack_require__("../../../../../src/app/jwt-request.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EgresoService; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var EgresoService = EgresoService_1 = (function () {
    function EgresoService(http, jwtRequest) {
        this.http = http;
        this.jwtRequest = jwtRequest;
    }
    EgresoService.prototype.buscar = function (term, pagina, resultados_por_pagina) {
        if (pagina === void 0) { pagina = 1; }
        if (resultados_por_pagina === void 0) { resultados_por_pagina = 20; }
        return this.jwtRequest.get(EgresoService_1.URL, null, { q: term, page: pagina, per_page: resultados_por_pagina }).map(function (response) { return response.json().data; });
    };
    EgresoService.prototype.lista = function (pagina, resultados_por_pagina) {
        if (pagina === void 0) { pagina = 1; }
        if (resultados_por_pagina === void 0) { resultados_por_pagina = 20; }
        return this.jwtRequest.get(EgresoService_1.URL, null, { page: pagina, per_page: resultados_por_pagina }).map(function (response) { return response.json().data; });
    };
    EgresoService.prototype.listaCompleta = function (pagina, resultados_por_pagina) {
        if (pagina === void 0) { pagina = 1; }
        if (resultados_por_pagina === void 0) { resultados_por_pagina = 20; }
        return this.jwtRequest.get("admision/paciente-egreso", null, { page: pagina, per_page: resultados_por_pagina }).map(function (response) { return response.json().data; });
    };
    EgresoService.prototype.buscarCompleta = function (term, pagina, resultados_por_pagina) {
        if (pagina === void 0) { pagina = 1; }
        if (resultados_por_pagina === void 0) { resultados_por_pagina = 20; }
        return this.jwtRequest.get("admision/paciente-egreso", null, { q: term, page: pagina, per_page: resultados_por_pagina }).map(function (response) { return response.json().data; });
    };
    EgresoService.prototype.listaMunicipios = function (municipio) {
        return this.jwtRequest.get("admision/municipio", municipio, null).map(function (response) { return response.json().data; });
    };
    EgresoService.prototype.listaLocalidades = function (municipio, localidad) {
        return this.jwtRequest.get("admision/localidad", localidad, { municipio_id: municipio }).map(function (response) { return response.json().data; });
    };
    EgresoService.prototype.listaMotivoEgreso = function () {
        return this.jwtRequest.get("admision/motivo-egreso", null, null).map(function (response) { return response.json().data; });
    };
    EgresoService.prototype.listaTriage = function (id) {
        return this.jwtRequest.get("admision/triage", null, { triage_id: id }).map(function (response) { return response.json().data; });
    };
    EgresoService.prototype.listaGradoLesion = function (id) {
        return this.jwtRequest.get("admision/grado-lesion", null, { grado_lesion_id: id }).map(function (response) { return response.json().data; });
    };
    EgresoService.prototype.listaUnidades = function (lista, id) {
        return this.jwtRequest.get("unidades-medicas", null, { lista: lista, clues: id }).map(function (response) { return response.json().data; });
    };
    EgresoService.prototype.ver = function (id) {
        return this.jwtRequest.get(EgresoService_1.URL, id, {}).map(function (response) {
            console.log(response.json().data);
            var jsonData = response.json().data;
            var pacienteEgreso = jsonData;
            return pacienteEgreso;
        });
    };
    EgresoService.prototype.editar = function (id, pacienteEgreso) {
        return this.jwtRequest.put(EgresoService_1.URL, id, pacienteEgreso).map(function (response) { return response.json().data; });
    };
    EgresoService.prototype.ingreso = function (id, pacienteEgreso) {
        return this.jwtRequest.put("admision/admision", id, pacienteEgreso).map(function (response) { return response.json().data; });
    };
    EgresoService.prototype.crear = function (pacienteEgreso) {
        return this.jwtRequest.post("admision/paciente-egreso", pacienteEgreso).map(function (response) { return response.json().data; });
    };
    return EgresoService;
}());
EgresoService.URL = "admision/paciente-egreso";
EgresoService = EgresoService_1 = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__["a" /* JwtRequestService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__["a" /* JwtRequestService */]) === "function" && _b || Object])
], EgresoService);

var EgresoService_1, _a, _b;
//# sourceMappingURL=C:/wamp/www/x3-C/src/egreso.service.js.map

/***/ }),

/***/ "../../../../../src/app/admision/egreso/egreso/egreso.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/admision/egreso/egreso/egreso.component.html":
/***/ (function(module, exports) {

module.exports = "<admision-menu></admision-menu>\r\n<div style=\"height:50px;\"></div>\r\n<div class=\"contenedor columns \" style=\"height:100%; \">\r\n    <div class=\"column is-one-quarter is-hidden-mobile\">\r\n        <admision-menu-lateral></admision-menu-lateral>\r\n    </div>\r\n    <div class=\"column\" style=\"padding:2em;\">\r\n        <div style=\"background: #FFF; border-radius: 1em; overflow: hidden;\">\r\n            <section class=\"hero\" [ngClass] = \" 'is-primary' \" >\r\n                \r\n                <div class=\"hero-body\" style=\"position:relative;\">\r\n                    \r\n                    <div class=\"container is-fluid\">\r\n                        \r\n                        <h1 class=\"title\">\r\n                            <span class=\"icon is-medium\"><i class=\"fa fa-user\"></i></span> Alta Paciente\r\n                        </h1>\r\n                        \r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class=\"is-fullwidth has-text-centered\" *ngIf=\"cargando\">\r\n                <br>\r\n                <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n             <section class=\"section\">\r\n                <form name=\"form\" novalidate [formGroup]=\"pacienteEgreso\"  (ngSubmit)=\"enviar()\">     \r\n                \r\n                  <section class=\"section\" style=\"background-color: #00d1b2;\">\r\n                    <div class=\"container\">\r\n                      <div class=\"heading\">\r\n                        <h1 class=\"title\" style=\"color: #FFF\">Datos del Paciente</h1>\r\n                        <h2 class=\"subtitle\" style=\"color: #FFF\">\r\n                          ID: {{ id_paciente }}<BR>\r\n                          NOMBRE: {{ nombre_paciente }} <BR>\r\n                          LOCALIDAD: {{ localidad_paciente }}<BR>\r\n                          FECHA DE INGRESO: {{ fecha_ingreso}}<br>\r\n                          AREA: {{ area_ingreso}}\r\n\r\n                        </h2>\r\n                      </div>\r\n                    </div>\r\n                  </section>\r\n\r\n                  <br>\r\n                  <div class=\"control is-grouped\">  \r\n                    \r\n                    <p class=\"control is-expanded has-icon has-icon-right\">\r\n                      <label class=\"label\">Motivo Egreso</label> \r\n                      <span class=\"select is-fullwidth\">\r\n                            <select  formControlName=\"motivo_egreso_id\" name=\"motivo_egreso_id\"  >\r\n                                <option *ngFor=\"let item of MotivoEgreso\" value=\"{{item.id}}\">{{ item.descripcion }} </option>\r\n                            </select>\r\n                            \r\n                        </span> \r\n                        <span class=\"icon is-small\" *ngIf=\"pacienteEgreso.get('motivo_egreso_id').hasError('required') && pacienteEgreso.get('motivo_egreso_id').touched\">\r\n                            <i class=\"fa fa-warning\"></i>\r\n                        </span>\r\n                        <span class=\"help is-danger\" *ngIf=\"pacienteEgreso.get('motivo_egreso_id').hasError('required') && pacienteEgreso.get('motivo_egreso_id').touched\">Este campo es requerido.</span>\r\n                    </p>\r\n                    <p class=\"control is-expanded has-icon has-icon-right\">\r\n                      <label class=\"label\">Fecha de egreso</label>    \r\n                        <input class=\"input\" type=\"text\" placeholder=\"aaaa-mm-dd\" formControlName=\"fecha_egreso\"  readonly=\"readonly\"> \r\n                        <span class=\"icon is-small\" *ngIf=\"pacienteEgreso.get('fecha_egreso').hasError('required') && pacienteEgreso.get('fecha_egreso').touched\">\r\n                            <i class=\"fa fa-warning\"></i>\r\n                          </span>\r\n                          <span class=\"help is-danger\" *ngIf=\"pacienteEgreso.get('fecha_egreso').hasError('required') && pacienteEgreso.get('fecha_egreso').touched\">Este campo es requerido.</span>               \r\n                    </p>\r\n                    <p class=\"control is-expanded has-icon has-icon-right\">\r\n                      <label class=\"label\">hora de egreso</label>    \r\n                        <input class=\"input\" type=\"text\" placeholder=\"00:00\" formControlName=\"hora_egreso\" readonly=\"readonly\">\r\n                        <span class=\"icon is-small\" *ngIf=\"pacienteEgreso.get('hora_egreso').hasError('required') && pacienteEgreso.get('hora_egreso').touched\">\r\n                            <i class=\"fa fa-warning\"></i>\r\n                          </span>\r\n                          <span class=\"help is-danger\" *ngIf=\"pacienteEgreso.get('hora_egreso').hasError('required') && pacienteEgreso.get('hora_egreso').touched\">Este campo es requerido.</span>\r\n                    </p>\r\n                  </div>\r\n                  <div class=\"control is-grouped\">  \r\n                    \r\n                    <p class=\"control is-expanded has-icon has-icon-right\">\r\n                      <label class=\"label\">Contrareferencia</label> \r\n                      <span class=\"select is-fullwidth\">\r\n                            <select  formControlName=\"contrareferencia\" name=\"contrareferencia\" #contrareferencia (change)=\"referido(contrareferencia.value)\">\r\n                                <option value=\"1\" selected=\"selected\">SI</option>\r\n                                <option value=\"2\">NO</option>\r\n                            </select>\r\n                            \r\n                        </span> \r\n                        <span class=\"icon is-small\" *ngIf=\"pacienteEgreso.get('contrareferencia').hasError('required') && pacienteEgreso.get('contrareferencia').touched\">\r\n                            <i class=\"fa fa-warning\"></i>\r\n                        </span>\r\n                        <span class=\"help is-danger\" *ngIf=\"pacienteEgreso.get('contrareferencia').hasError('required') && pacienteEgreso.get('contrareferencia').touched\">Este campo es requerido.</span>\r\n                    </p>\r\n                    <p class=\"control is-expanded has-icon has-icon-right\">\r\n                      <label class=\"label\">Unidad Contrareferencia</label> \r\n                      <span class=\"select is-fullwidth\">\r\n                            <select  formControlName=\"unidad_referencia\" name=\"unidad_referencia\" >\r\n                                <option *ngFor=\"let item of UnidadesMedicas\" value=\"{{item.clues}}\">{{ item.nombre }} - {{ item.clues }}</option>\r\n                            </select>\r\n                            \r\n                        </span> \r\n                        <span class=\"icon is-small\" *ngIf=\"pacienteEgreso.get('unidad_referencia').hasError('required') && pacienteEgreso.get('unidad_referencia').touched\">\r\n                            <i class=\"fa fa-warning\"></i>\r\n                        </span>\r\n                        <span class=\"help is-danger\" *ngIf=\"pacienteEgreso.get('unidad_referencia').hasError('required') && pacienteEgreso.get('unidad_referencia').touched\">Este campo es requerido.</span>\r\n                    </p>\r\n                    \r\n                  </div>\r\n                  <br><br>\r\n                  <div class=\"control is-grouped\">\r\n                    <p class=\"control\">\r\n                      <button class=\"button is-primary\" type=\"submit\" [ngClass]=\"{'is-loading': cargando}\" [disabled]=\"pacienteEgreso.invalid\">Guardar</button>\r\n                    </p>\r\n                    \r\n                    <p class=\"control\">\r\n                      <a class=\"button is-white\" (click)=\"regresar()\" >Regresar</a>\r\n                    </p>\r\n                  </div>\r\n\r\n              </form>\r\n            </section>  \r\n        </div>\r\n    </div>    \r\n</div>\r\n\r\n<div class=\"notification is-danger\" style=\"position:fixed; left:1em;  bottom:1em;\" *ngIf=\"mensajeError.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeError.mostrar = false\"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style=\"text-align:center\" ><a  class=\"button is-danger is-inverted\" (click)=\"ultimaPeticion(); mensajeError.mostrar = false\"> <span class=\"icon\"><i class=\"fa fa-refresh\"></i></span> <span>Volver a intentar</span></a></p>        \r\n</div>\r\n\r\n<div class=\"notification is-success\" style=\"position:fixed; left:1em;  bottom:1em; width: auto\" *ngIf=\"mensajeExito.mostrar\">       \r\n    <button class=\"delete\" (click)=\"mensajeExito.mostrar = false\"></button>\r\n    <p><span class=\"icon\" style=\"margin-right: 0.5em;\"><i class=\"fa fa-check-circle\"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style=\"text-align: center;\"><small >Este mensaje desaparecerá en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n"

/***/ }),

/***/ "../../../../../src/app/admision/egreso/egreso/egreso.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__auth_service__ = __webpack_require__("../../../../../src/app/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__mensaje__ = __webpack_require__("../../../../../src/app/mensaje.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__paciente_egreso_service__ = __webpack_require__("../../../../../src/app/admision/egreso/paciente-egreso.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EgresoComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var EgresoComponent = (function () {
    function EgresoComponent(router, title, authService, route, location, pacienteEgresoService, fb) {
        this.router = router;
        this.title = title;
        this.authService = authService;
        this.route = route;
        this.location = location;
        this.pacienteEgresoService = pacienteEgresoService;
        this.fb = fb;
        this.cargando = false;
        this.cargandoMunicipios = false;
        this.cargandoLocalidades = false;
        this.cargandoMotivoEgreso = false;
        this.cargandoUnidadesMedicas = false;
        // # SECCION: Esta sección es para mostrar mensajes
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_6__mensaje__["a" /* Mensaje */]();
        this.mensajeAdvertencia = new __WEBPACK_IMPORTED_MODULE_6__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_6__mensaje__["a" /* Mensaje */]();
        this.Municipios = [];
        this.Localidades = [];
        this.MotivoEgreso = [];
        this.UnidadesMedicas = [];
    }
    EgresoComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.title.setTitle("Alta Paciente / Admisión");
        this.pacienteEgreso = this.fb.group({
            fecha_egreso: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            hora_egreso: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            contrareferencia: ['2', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            unidad_referencia: ['CSSS', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            motivo_egreso_id: ['1', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
        });
        this.route.params.subscribe(function (params) {
            _this.id = params['id']; // Se puede agregar un simbolo + antes de la variable params para volverlo number
        });
        this.cargarDatos();
    };
    EgresoComponent.prototype.cargarMunicipios = function (municipio) {
        var _this = this;
        this.cargandoMunicipios = true;
        this.pacienteEgresoService.listaMunicipios(municipio).subscribe(function (municipio) {
            _this.Municipios = municipio;
            _this.cargandoMunicipios = false;
            console.log("Municipios cargados");
        }, function (error) {
            _this.cargandoMunicipios = false;
        });
    };
    EgresoComponent.prototype.cargarLocalidades = function (municipio, localidad) {
        var _this = this;
        this.cargandoLocalidades = true;
        this.pacienteEgresoService.listaLocalidades(municipio, localidad).subscribe(function (localidad) {
            _this.Localidades = localidad;
            _this.cargandoLocalidades = false;
            console.log("Localidades cargados");
        }, function (error) {
            _this.cargandoLocalidades = false;
        });
    };
    EgresoComponent.prototype.cargarMotivoEgreso = function () {
        var _this = this;
        this.cargandoLocalidades = true;
        this.pacienteEgresoService.listaMotivoEgreso().subscribe(function (MotivoEgreso) {
            _this.MotivoEgreso = MotivoEgreso;
            _this.cargandoMotivoEgreso = false;
            console.log(MotivoEgreso);
        }, function (error) {
            _this.cargandoMotivoEgreso = false;
        });
    };
    EgresoComponent.prototype.CargarUnidadesMedicas = function (lista_completa, id) {
        var _this = this;
        if (id === void 0) { id = null; }
        this.cargandoLocalidades = true;
        this.pacienteEgresoService.listaUnidades(lista_completa, id).subscribe(function (UnidadesMedicas) {
            _this.UnidadesMedicas = UnidadesMedicas;
            _this.cargandoUnidadesMedicas = false;
        }, function (error) {
            _this.cargandoMotivoEgreso = false;
        });
    };
    EgresoComponent.prototype.cargarDatos = function () {
        var _this = this;
        this.cargando = true;
        console.log("Cargando usuario.");
        this.pacienteEgresoService.ver(this.id).subscribe(function (pacienteEgreso) {
            _this.cargando = false;
            _this.datosCargados = true;
            _this.pacienteEgreso.patchValue(pacienteEgreso);
            var date;
            var hora;
            var minutos;
            _this.id_paciente = pacienteEgreso.id;
            _this.nombre_paciente = pacienteEgreso.nombre;
            if (pacienteEgreso.localidad)
                _this.localidad_paciente = pacienteEgreso.localidad['nombre'] + " ( " + pacienteEgreso.localidad['municipio']['nombre'] + " )";
            else
                _this.localidad_paciente = "DESCONOCIDO";
            _this.fecha_ingreso = pacienteEgreso['ingresoactivos'][0]['fecha_hora_ingreso'];
            _this.area_ingreso = pacienteEgreso['ingresoactivos'][0]['estado_triage']['descripcion'];
            date = new Date();
            hora = date.getHours();
            minutos = date.getMinutes();
            _this.pacienteEgreso.patchValue({ fecha_egreso: date.toJSON().slice(0, 10), hora_egreso: hora + ":" + minutos });
            _this.cargarMotivoEgreso();
            _this.CargarUnidadesMedicas(1);
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_6__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_6__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError.mostrar;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    EgresoComponent.prototype.referido = function (valor) {
        if (valor == 1)
            this.pacienteEgreso.patchValue({ unidad_referencia: "" });
        else
            this.pacienteEgreso.patchValue({ unidad_referencia: "CSSS" });
    };
    EgresoComponent.prototype.enviar = function () {
        var _this = this;
        this.cargando = true;
        this.pacienteEgresoService.editar(this.id, this.pacienteEgreso.value).subscribe(function (paciente) {
            _this.cargando = false;
            _this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_6__mensaje__["a" /* Mensaje */](true);
            _this.mensajeExito.texto = "Se han guardado los cambios.";
            _this.mensajeExito.mostrar = true;
            _this.router.navigate(['/pacientes/modulo/egreso']);
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_6__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError.texto = "No especificado.";
            _this.mensajeError.mostrar = true;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
                // Problema de validación
                if (error.status == 409) {
                    _this.mensajeError.texto = "Por favor verfique los campos marcados en rojo.";
                }
            }
            catch (e) {
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    EgresoComponent.prototype.regresar = function () {
        this.location.back();
    };
    return EgresoComponent;
}());
EgresoComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-egreso',
        template: __webpack_require__("../../../../../src/app/admision/egreso/egreso/egreso.component.html"),
        styles: [__webpack_require__("../../../../../src/app/admision/egreso/egreso/egreso.component.css")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* Router */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_4__angular_platform_browser__["b" /* Title */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__angular_platform_browser__["b" /* Title */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_5__auth_service__["a" /* AuthService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_5__auth_service__["a" /* AuthService */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* ActivatedRoute */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* ActivatedRoute */]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_1__angular_common__["Location"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_common__["Location"]) === "function" && _e || Object, typeof (_f = typeof __WEBPACK_IMPORTED_MODULE_7__paciente_egreso_service__["a" /* PacienteEgresoService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_7__paciente_egreso_service__["a" /* PacienteEgresoService */]) === "function" && _f || Object, typeof (_g = typeof __WEBPACK_IMPORTED_MODULE_3__angular_forms__["FormBuilder"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__angular_forms__["FormBuilder"]) === "function" && _g || Object])
], EgresoComponent);

var _a, _b, _c, _d, _e, _f, _g;
//# sourceMappingURL=C:/wamp/www/x3-C/src/egreso.component.js.map

/***/ }),

/***/ "../../../../../src/app/admision/egreso/ingreso/ingreso.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/admision/egreso/ingreso/ingreso.component.html":
/***/ (function(module, exports) {

module.exports = "<admision-menu></admision-menu>\r\n<div style=\"height:50px;\"></div>\r\n<div class=\"contenedor columns \" style=\"height:100%; \">\r\n    <div class=\"column is-one-quarter is-hidden-mobile\">\r\n        <admision-menu-lateral></admision-menu-lateral>\r\n    </div>\r\n    <div class=\"column\" style=\"padding:2em;\">\r\n        <div style=\"background: #FFF; border-radius: 1em; overflow: hidden;\">\r\n            <section class=\"hero\" [ngClass] = \" 'is-primary' \" >\r\n                \r\n                <div class=\"hero-body\" style=\"position:relative;\">\r\n                    \r\n                    <div class=\"container is-fluid\">\r\n                        \r\n                        <h1 class=\"title\">\r\n                            <span class=\"icon is-medium\"><i class=\"fa fa-user\"></i></span> Ingreso Paciente\r\n                        </h1>\r\n                        \r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class=\"is-fullwidth has-text-centered\" *ngIf=\"cargando\">\r\n                <br>\r\n                <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n             <section class=\"section\">\r\n                <form name=\"form\" novalidate [formGroup]=\"pacienteIngreso\"  (ngSubmit)=\"enviar()\">     \r\n                  <section class=\"section\" style=\"background-color: #00d1b2;\">\r\n                    <div class=\"container\">\r\n                      <div class=\"heading\">\r\n                        <h1 class=\"title\" style=\"color: #FFF\">Datos del Paciente</h1>\r\n                        <h2 class=\"subtitle\" style=\"color: #FFF\">\r\n                          ID: {{ id_paciente }}<BR>\r\n                          NOMBRE: {{ nombre_paciente }} <BR>\r\n                          LOCALIDAD: {{ localidad_paciente }}<BR>\r\n\r\n                        </h2>\r\n                      </div>\r\n                    </div>\r\n                  </section>\r\n                   <br>    \r\n                  <div class=\"control is-grouped\">\r\n                    <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                        <label class=\"label\">Referido</label>\r\n                      \t<span class=\"select is-fullwidth\">\r\n    \t\t                \t<select  formControlName=\"referido\" name=\"referido\" #referido (change)=\"valida_referido(referido.value)\">\r\n    \t\t                \t\t<option value=\"1\" selected=\"selected\">SI</option>\r\n    \t\t                \t\t<option value=\"2\">NO</option>\r\n    \t\t                \t</select>\r\n\t\t                    </span>\t\r\n\r\n\t                 \t<span class=\"icon is-small\" *ngIf=\"pacienteIngreso.get('referido').hasError('required') && pacienteIngreso.get('referido').touched\">\r\n\t                     \t<i class=\"fa fa-warning\"></i>\r\n\t                    </span>\r\n\t                    <span class=\"help is-danger\" *ngIf=\"pacienteIngreso.get('referido').hasError('required') && pacienteIngreso.get('referido').touched\">Este campo es requerido.</span>                     \r\n                    </p>\r\n                    <p class=\"control is-expanded  has-icon has-icon-right\"  [hidden]=\"!nombre_conocido\">\r\n                        <label class=\"label\">Unidad Referida</label>\r\n                      \t<span class=\"select is-fullwidth\">\r\n                          <select  formControlName=\"unidad_referido\" name=\"unidad_referido\">\r\n                              <option *ngFor=\"let item of UnidadesMedicas\" value=\"{{item.clues}}\">{{ item.nombre }} - {{ item.clues }}</option>\r\n                          </select>\r\n                        </span>\r\n    \t                  <span class=\"icon is-small\" *ngIf=\"pacienteIngreso.get('unidad_referido').hasError('required') && pacienteIngreso.get('unidad_referido').touched\">\r\n    \t                    <i class=\"fa fa-warning\"></i>\r\n    \t                  </span>\r\n    \t                  <span class=\"help is-danger\" *ngIf=\"pacienteIngreso.get('unidad_referido').hasError('required') && pacienteIngreso.get('unidad_referido').touched\">Este campo es requerido.</span>\r\n                    </p>    \r\n\t                </div>\r\n\r\n                  <div class=\"control is-grouped\">\r\n                    <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                        <label class=\"label\">Urgencia Calificada</label>\r\n                        <span class=\"select is-fullwidth\">\r\n                          <select  formControlName=\"urgencia_calificada\" name=\"urgencia_calificada\" (change)=\"bloquea_formulario()\" >\r\n                            <option value=\"1\" selected=\"selected\">SI</option>\r\n                            <option value=\"2\">NO</option>\r\n                          </select>\r\n                        </span> \r\n                    <span class=\"icon is-small\" *ngIf=\"pacienteIngreso.get('urgencia_calificada').hasError('required') && pacienteIngreso.get('urgencia_calificada').touched\">\r\n                        <i class=\"fa fa-warning\"></i>\r\n                      </span>\r\n                      <span class=\"help is-danger\" *ngIf=\"pacienteIngreso.get('urgencia_calificada').hasError('required') && pacienteIngreso.get('urgencia_calificada').touched\">Este campo es requerido.</span>                     \r\n                    </p>\r\n\r\n                    <p class=\"control is-expanded  has-icon has-icon-right\" [hidden]=\"verForm\">\r\n                        <label class=\"label\">Triage Obstetrico</label>\r\n                        <span class=\"select is-fullwidth\">\r\n                          <select  formControlName=\"registro_triage\" name=\"registro_triage\" #registro_triage >\r\n                            <option value=\"1\" selected=\"selected\">SI</option>\r\n                            <option value=\"2\">NO</option>\r\n                          </select>\r\n                        </span> \r\n                    <span class=\"icon is-small\" *ngIf=\"pacienteIngreso.get('registro_triage').hasError('required') && pacienteIngreso.get('registro_triage').touched\">\r\n                        <i class=\"fa fa-warning\"></i>\r\n                      </span>\r\n                      <span class=\"help is-danger\" *ngIf=\"pacienteIngreso.get('registro_triage').hasError('required') && pacienteIngreso.get('registro_triage').touched\">Este campo es requerido.</span>                     \r\n                    </p>\r\n                    <p class=\"control is-expanded  has-icon has-icon-right\" [hidden]=\"verForm\">\r\n                        <label class=\"label\">Lugar donde se encuentra</label>\r\n                        <span class=\"select is-fullwidth\">\r\n                          <select  formControlName=\"estado_triage_id\" name=\"estado_triage_id\">\r\n                            <option *ngFor=\"let item of Triage\" value=\"{{item.id}}\">{{ item.id }} {{ item.descripcion }}</option>\r\n                          </select>\r\n                        </span> \r\n                    <span class=\"icon is-small\" *ngIf=\"pacienteIngreso.get('estado_triage_id').hasError('required') && pacienteIngreso.get('estado_triage_id').touched\">\r\n                        <i class=\"fa fa-warning\"></i>\r\n                      </span>\r\n                      <span class=\"help is-danger\" *ngIf=\"pacienteIngreso.get('estado_triage_id').hasError('required') && pacienteIngreso.get('estado_triage_id').touched\">Este campo es requerido.</span>                     \r\n                    </p>\r\n                     <p class=\"control is-expanded  has-icon has-icon-right\" [hidden]=\"verForm\">\r\n                        <label class=\"label\">Grado de Lesión</label>\r\n                        <span class=\"select is-fullwidth\">\r\n                          <select  formControlName=\"grado_lesion_id\" name=\"grado_lesion_id\" >\r\n                              <option *ngFor=\"let item of GradoLesion\" value=\"{{item.id}}\">{{ item.descripcion }}</option>\r\n                          </select>\r\n                        </span> \r\n                    <span class=\"icon is-small\" *ngIf=\"pacienteIngreso.get('grado_lesion_id').hasError('required') && pacienteIngreso.get('grado_lesion_id').touched\">\r\n                        <i class=\"fa fa-warning\"></i>\r\n                      </span>\r\n                      <span class=\"help is-danger\" *ngIf=\"pacienteIngreso.get('grado_lesion_id').hasError('required') && pacienteIngreso.get('grado_lesion_id').touched\">Este campo es requerido.</span>                     \r\n                    </p>\r\n                    <p class=\"control is-expanded  has-icon has-icon-right\" [hidden]=\"verForm\">\r\n                        <label class=\"label\">Fecha de ingreso</label>\r\n                        <input class=\"input\"  type=\"text\" name=\"fecha_ingreso\" formControlName=\"fecha_ingreso\" placeholder=\"aaaa-mm-dd\" readonly=\"readonly\">\r\n                          <span class=\"icon is-small\" *ngIf=\"pacienteIngreso.get('fecha_ingreso').hasError('required') && pacienteIngreso.get('fecha_ingreso').touched\">\r\n                            <i class=\"fa fa-warning\"></i>\r\n                          </span>\r\n                          <span class=\"help is-danger\" *ngIf=\"pacienteIngreso.get('fecha_ingreso').hasError('required') && pacienteIngreso.get('fecha_ingreso').touched\">Este campo es requerido.</span>\r\n                         \r\n                    </p>\r\n                    <p class=\"control is-expanded  has-icon has-icon-right\" [hidden]=\"verForm\">\r\n                        <label class=\"label\">Hora de ingreso</label>\r\n                        <input class=\"input\"  type=\"text\" name=\"hora_ingreso\" formControlName=\"hora_ingreso\" placeholder=\"HH:mm\" readonly=\"readonly\">\r\n                          <span class=\"icon is-small\" *ngIf=\"pacienteIngreso.get('hora_ingreso').hasError('required') && pacienteIngreso.get('hora_ingreso').touched\">\r\n                            <i class=\"fa fa-warning\"></i>\r\n                          </span>\r\n                          <span class=\"help is-danger\" *ngIf=\"pacienteIngreso.get('hora_ingreso').hasError('required') && pacienteIngreso.get('hora_ingreso').touched\">Este campo es requerido.</span>\r\n                         \r\n                    </p>\r\n                  </div>\r\n                  <br><br>\r\n                  <div class=\"control is-grouped\">\r\n                    <p class=\"control\" *ngIf=\"permiso_guardar\">\r\n                      <button class=\"button is-primary\" type=\"submit\" [ngClass]=\"{'is-loading': cargando}\" [disabled]=\"pacienteIngreso.invalid\">Guardar</button>\r\n                    </p>\r\n                    \r\n                    <p class=\"control\">\r\n                      <a class=\"button is-white\" (click)=\"regresar()\" >Regresar</a>\r\n                    </p>\r\n                  </div>\r\n\r\n              </form>\r\n            </section>  \r\n        </div>\r\n    </div>    \r\n</div>\r\n\r\n<div class=\"notification is-danger\" style=\"position:fixed; left:1em;  bottom:1em;\" *ngIf=\"mensajeError.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeError.mostrar = false\"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style=\"text-align:center\" ><a  class=\"button is-danger is-inverted\" (click)=\"ultimaPeticion(); mensajeError.mostrar = false\"> <span class=\"icon\"><i class=\"fa fa-refresh\"></i></span> <span>Volver a intentar</span></a></p>        \r\n</div>\r\n\r\n<div class=\"notification is-success\" style=\"position:fixed; left:1em;  bottom:1em; width: auto\" *ngIf=\"mensajeExito.mostrar\">       \r\n    <button class=\"delete\" (click)=\"mensajeExito.mostrar = false\"></button>\r\n    <p><span class=\"icon\" style=\"margin-right: 0.5em;\"><i class=\"fa fa-check-circle\"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style=\"text-align: center;\"><small >Este mensaje desaparecerá en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n"

/***/ }),

/***/ "../../../../../src/app/admision/egreso/ingreso/ingreso.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__auth_service__ = __webpack_require__("../../../../../src/app/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__mensaje__ = __webpack_require__("../../../../../src/app/mensaje.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__paciente_egreso_service__ = __webpack_require__("../../../../../src/app/admision/egreso/paciente-egreso.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return IngresoComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var IngresoComponent = (function () {
    function IngresoComponent(router, title, authService, route, location, pacienteEgresoService, fb) {
        this.router = router;
        this.title = title;
        this.authService = authService;
        this.route = route;
        this.location = location;
        this.pacienteEgresoService = pacienteEgresoService;
        this.fb = fb;
        this.cargando = false;
        this.cargandoUnidadesMedicas = false;
        this.cargandotriage = false;
        this.cargandoGradoLesion = false;
        this.permiso_guardar = true;
        this.verForm = false;
        // # SECCION: Esta sección es para mostrar mensajes
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_6__mensaje__["a" /* Mensaje */]();
        this.mensajeAdvertencia = new __WEBPACK_IMPORTED_MODULE_6__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_6__mensaje__["a" /* Mensaje */]();
        this.UnidadesMedicas = [];
        this.Triage = [];
        this.GradoLesion = [];
    }
    IngresoComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.title.setTitle("Ingreso Paciente / Admisión");
        this.pacienteIngreso = this.fb.group({
            referido: ['2', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            unidad_referido: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            urgencia_calificada: ['1', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            registro_triage: ['1', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            estado_triage_id: ['1', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            grado_lesion_id: ['1', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            fecha_ingreso: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            hora_ingreso: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
        });
        this.route.params.subscribe(function (params) {
            _this.id = params['id']; // Se puede agregar un simbolo + antes de la variable params para volverlo number
        });
        this.cargarDatos();
    };
    IngresoComponent.prototype.bloquea_formulario = function () {
        this.verForm = !this.verForm;
        if (this.verForm) {
            this.pacienteIngreso.patchValue({ registro_triage: 2, estado_triage_id: 1, grado_lesion_id: 0 });
        }
        else {
            this.pacienteIngreso.patchValue({ registro_triage: 2, estado_triage_id: 1, grado_lesion_id: 1 });
        }
    };
    IngresoComponent.prototype.valida_referido = function (valor) {
        if (valor == 1) {
            this.nombre_conocido = true;
            this.pacienteIngreso.patchValue({ unidad_referido: "" });
        }
        else {
            this.pacienteIngreso.patchValue({ unidad_referido: "CSSS" });
            this.nombre_conocido = false;
        }
    };
    IngresoComponent.prototype.CargarUnidadesMedicas = function (lista_completa, id) {
        var _this = this;
        this.cargandoUnidadesMedicas = true;
        console.log(lista_completa + " - " + id);
        this.pacienteEgresoService.listaUnidades(lista_completa, id).subscribe(function (UnidadesMedicas) {
            _this.UnidadesMedicas = UnidadesMedicas;
            _this.cargandoUnidadesMedicas = false;
        }, function (error) {
            _this.cargandoUnidadesMedicas = false;
        });
    };
    IngresoComponent.prototype.CargarGradoLesion = function (id) {
        var _this = this;
        this.cargandoGradoLesion = true;
        this.pacienteEgresoService.listaGradoLesion(id).subscribe(function (GradoLesion) {
            _this.pacienteIngreso.patchValue({ grado_lesion_id: GradoLesion[0].id });
            _this.GradoLesion = GradoLesion;
            _this.cargandoGradoLesion = false;
        }, function (error) {
            _this.cargandoGradoLesion = false;
        });
    };
    IngresoComponent.prototype.CargarLugarTriage = function (id) {
        var _this = this;
        this.cargandotriage = true;
        this.pacienteEgresoService.listaTriage(id).subscribe(function (Triage) {
            _this.Triage = Triage;
            _this.pacienteIngreso.patchValue({ estado_triage_id: Triage[0].id });
            _this.cargandotriage = false;
        }, function (error) {
            _this.cargandotriage = false;
        });
    };
    IngresoComponent.prototype.cargarDatos = function () {
        var _this = this;
        this.cargando = true;
        this.pacienteEgresoService.ver(this.id).subscribe(function (pacienteIngreso) {
            _this.cargando = false;
            _this.datosCargados = true;
            var unidad;
            var triage;
            var lesion;
            var identificador;
            var nombre_paciente;
            var localidad_paciente;
            var date;
            var hora;
            var minutos;
            if (pacienteIngreso['ingresoactivos'].length > 0) {
                pacienteIngreso['referido'] = pacienteIngreso['ingresoactivos'][0].referido;
                pacienteIngreso['urgencia_calificada'] = pacienteIngreso['ingresoactivos'][0].urgencia_calificada;
                pacienteIngreso['registro_triage'] = pacienteIngreso['ingresoactivos'][0].registro_triage;
                pacienteIngreso['fecha_ingreso'] = pacienteIngreso['ingresoactivos'][0].fecha_hora_ingreso.substr(0, 10);
                pacienteIngreso['hora_ingreso'] = pacienteIngreso['ingresoactivos'][0].fecha_hora_ingreso.substr(10, 6);
                if (pacienteIngreso['ingresoactivos'][0].referido == 1) {
                    pacienteIngreso['unidad_referido'] = pacienteIngreso['ingresoactivos'][0].unidad_referido;
                    _this.nombre_conocido = true;
                }
                else
                    pacienteIngreso['unidad_referido'] = "css";
                unidad = pacienteIngreso['ingresoactivos'][0].clues;
                triage = pacienteIngreso['ingresoactivos'][0].estado_triage_id;
                lesion = pacienteIngreso['ingresoactivos'][0].grado_lesion_id;
                _this.pacienteIngreso.patchValue(pacienteIngreso);
                identificador = pacienteIngreso['id'];
                nombre_paciente = pacienteIngreso['nombre'];
                if (pacienteIngreso['localidad'])
                    localidad_paciente = pacienteIngreso['localidad']['nombre'] + " (" + pacienteIngreso['localidad']['municipio']['nombre'] + ")";
                else
                    localidad_paciente = "DESCONOCIDO";
                _this.permiso_guardar = false;
            }
            else {
                date = new Date();
                hora = date.getHours();
                minutos = date.getMinutes();
                identificador = pacienteIngreso['id'];
                nombre_paciente = pacienteIngreso['nombre'];
                if (pacienteIngreso['localidad'])
                    localidad_paciente = pacienteIngreso['localidad']['nombre'] + " (" + pacienteIngreso['localidad']['municipio']['nombre'] + ")";
                else
                    localidad_paciente = "DESCONOCIDO";
                _this.pacienteIngreso.patchValue({ fecha_ingreso: date.toJSON().slice(0, 10), hora_ingreso: hora + ":" + minutos });
                _this.pacienteIngreso.patchValue({ unidad_referido: "CSSS" });
            }
            _this.CargarUnidadesMedicas(1, unidad);
            _this.CargarLugarTriage(triage);
            _this.CargarGradoLesion(lesion);
            _this.id_paciente = identificador;
            _this.nombre_paciente = nombre_paciente;
            _this.localidad_paciente = localidad_paciente;
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_6__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_6__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError.mostrar;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    IngresoComponent.prototype.enviar = function () {
        var _this = this;
        this.cargando = true;
        this.pacienteEgresoService.ingreso(this.id, this.pacienteIngreso.value).subscribe(function (paciente) {
            _this.cargando = false;
            console.log("Paciente editado.");
            _this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_6__mensaje__["a" /* Mensaje */](true);
            _this.mensajeExito.texto = "Se han guardado los cambios.";
            _this.mensajeExito.mostrar = true;
            _this.location.back();
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_6__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError.texto = "No especificado.";
            _this.mensajeError.mostrar = true;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
                // Problema de validación
                if (error.status == 409) {
                    _this.mensajeError.texto = "Por favor verfique los campos marcados en rojo.";
                }
            }
            catch (e) {
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    IngresoComponent.prototype.regresar = function () {
        this.location.back();
    };
    return IngresoComponent;
}());
IngresoComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-ingreso',
        template: __webpack_require__("../../../../../src/app/admision/egreso/ingreso/ingreso.component.html"),
        styles: [__webpack_require__("../../../../../src/app/admision/egreso/ingreso/ingreso.component.css")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* Router */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_4__angular_platform_browser__["b" /* Title */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__angular_platform_browser__["b" /* Title */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_5__auth_service__["a" /* AuthService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_5__auth_service__["a" /* AuthService */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* ActivatedRoute */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* ActivatedRoute */]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_1__angular_common__["Location"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_common__["Location"]) === "function" && _e || Object, typeof (_f = typeof __WEBPACK_IMPORTED_MODULE_7__paciente_egreso_service__["a" /* PacienteEgresoService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_7__paciente_egreso_service__["a" /* PacienteEgresoService */]) === "function" && _f || Object, typeof (_g = typeof __WEBPACK_IMPORTED_MODULE_3__angular_forms__["FormBuilder"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__angular_forms__["FormBuilder"]) === "function" && _g || Object])
], IngresoComponent);

var _a, _b, _c, _d, _e, _f, _g;
//# sourceMappingURL=C:/wamp/www/x3-C/src/ingreso.component.js.map

/***/ }),

/***/ "../../../../../src/app/admision/egreso/lista/lista.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/admision/egreso/lista/lista.component.html":
/***/ (function(module, exports) {

module.exports = "<admision-menu></admision-menu>\r\n<div style=\"height:50px;\"></div>\r\n<div class=\"contenedor columns \" style=\"height:100%; \">\r\n    <div class=\"column is-one-quarter is-hidden-mobile\">\r\n        <admision-menu-lateral></admision-menu-lateral>\r\n    </div>\r\n    <div class=\"column\" style=\"padding:2em;\">\r\n        <div style=\"background: #FFF; border-radius: 1em; overflow: hidden;\">\r\n            <section class=\"hero\" [ngClass] = \" {'is-dark': busquedaActivada, 'is-primary': !busquedaActivada } \" >\r\n                \r\n                <div class=\"hero-body\" style=\"position:relative;\">\r\n                    <a class=\"button  is-dark\" *ngIf=\"busquedaActivada\" style=\"position:absolute; top:1em; right:1em;\" (click)=\"busquedaActivada=false;searchBox.value='';resultadosBusqueda=[]\"><span class=\"icon \"><i class=\"fa fa-close\"></i></span></a>\r\n                    <a class=\"button  is-dark\" *ngIf=\"busquedaActivada\" style=\"position:absolute; top:1em; right:3.5em;\" (click)=\"listarBusqueda(searchBox.value,1)\"><span class=\"icon \"><i class=\"fa fa-refresh\"></i></span></a>\r\n                    <a class=\"button  is-primary\" *ngIf=\"!busquedaActivada\" style=\"position:absolute; top:1em; right:1em;\" (click)=\"listar(1)\"><span class=\"icon \"><i class=\"fa fa-refresh\"></i></span></a>\r\n                    <div class=\"container is-fluid\">\r\n                        \r\n                        <h1 class=\"title\" *ngIf=\"!busquedaActivada\">\r\n                            <span class=\"icon is-medium\"><i class=\"fa fa-user\"></i></span> Lista de Pacientes Ingresados\r\n                        </h1>\r\n                        <h1 class=\"title\" *ngIf=\"busquedaActivada\">\r\n                            <span class=\"icon is-medium\"><i class=\"fa fa-search\"></i></span> Búsqueda \r\n                        </h1>\r\n                        <div class=\"control is-grouped\">\r\n                        <p class=\"control is-expanded\">\r\n                            <input class=\"input is-medium\" type=\"text\" placeholder=\"Buscar\" #searchBox id=\"search-box\" (keyup)=\"buscar(searchBox.value)\">\r\n                        </p>\r\n                        \r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class=\"is-fullwidth has-text-centered\" *ngIf=\"cargando\">\r\n                <br>\r\n                <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n        \r\n            <table class=\"table\" *ngIf=\"!cargando\">\r\n                <thead>\r\n                    <tr>\r\n                    <th></th>\r\n                    <th><abbr title=\"Paciente ID\">ID</abbr></th>\r\n                    <th>Nombre</th>\r\n                    <th>Fecha Nacimiento</th>\r\n                    <th>Localidad (Municipio)</th>\r\n                    <th>Fecha Ingreso</th>\r\n                    <th style=\"text-align:center;\">Opciones</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody  *ngIf=\"!busquedaActivada\">\r\n                    <tr *ngFor=\"let item of pacientesEgreso; let i=index\">\r\n                        <th><a routerLink=\"/pacientes/modulo/ingreso/{{item.id}}\"><img style=\"min-width: 1.5em; width:2em;\" src=\"assets/{{ item.avatar || 'avatar-unknow' }}.svg\" alt=\"avatar\"></a></th>\r\n                        <th style=\"vertical-align: middle;\"><a routerLink=\"/pacientes/modulo/egreso/{{item.id}}\">{{ item.id }}</a></th>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/pacientes/modulo/egreso/{{item.id}}\">{{ item.nombre }}</a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/pacientes/modulo/egreso/{{item.id}}\">{{ item.fecha_nacimiento }}</a></td>\r\n                        <td style=\"vertical-align: middle;\" *ngIf=\"item.localidad\"><a routerLink=\"/pacientes/modulo/egreso/{{item.id}}\">{{item.localidad.nombre }} ( {{item.localidad.municipio.nombre }} ) </a></td>\r\n                        <td style=\"vertical-align: middle;\" *ngIf=\"!item.localidad\"><a routerLink=\"/pacientes/modulo/egreso/{{item.id}}\">DESCONOCIDO</a></td>\r\n\r\n                        <td style=\"vertical-align: middle;\" *ngIf=\"item.ingresoactivos.length == 1\"><a routerLink=\"/pacientes/modulo/egreso/{{item.id}}\">{{item.ingresoactivos[0].fecha_hora_ingreso}} </a></td>\r\n                        <td style=\"vertical-align: middle;\" *ngIf=\"item.ingresoactivos.length == 0\"><a routerLink=\"/pacientes/modulo/egreso/{{item.id}}\"> </a></td>\r\n                        \r\n                        <td style=\"vertical-align: middle;\" class=\"has-text-centered\"><span class=\"icon \" *ngIf=\"item.cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span><a *ngIf=\"!item.cargando\" class=\"is-primary\" routerLink=\"/pacientes/modulo/egreso/{{item.id}}\"><span class=\"icon\"><i class=\"fa fa-hospital-o\"></i></span></a></td>\r\n                        \r\n                    </tr>\r\n                    <tr *ngIf=\"pacientesEgreso.length == 0\">\r\n                        <td colspan=\"5\" style=\"vertical-align: middle; color:#888;\">Esta lista está vacía.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n                <tbody *ngIf=\"busquedaActivada\">\r\n                    <tr *ngFor=\"let item of resultadosBusqueda; let i=index\">\r\n                    <th><a routerLink=\"/pacientes/modulo/ingreso/{{item.id}}\"><img style=\"min-width: 1.5em; width:2em;\" src=\"assets/{{ item.avatar || 'avatar-unknow' }}.svg\" alt=\"avatar\"></a></th>\r\n                        <th style=\"vertical-align: middle;\"><a routerLink=\"/pacientes/modulo/ingreso/{{item.id}}\">{{ item.id }}</a></th>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/pacientes/modulo/ingreso/{{item.id}}\">{{ item.nombre }}</a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/pacientes/modulo/ingreso/{{item.id}}\">{{ item.fecha_nacimiento }}</a></td>\r\n                        <td style=\"vertical-align: middle;\" *ngIf=\"item.localidad\"><a routerLink=\"/pacientes/modulo/ingreso/{{item.id}}\">{{item.localidad.nombre }} ( {{item.localidad.municipio.nombre }} ) </a></td>\r\n                        <td style=\"vertical-align: middle;\" *ngIf=\"item.ingresoactivos.length == 1\"><a routerLink=\"/pacientes/modulo/ingreso/{{item.id}}\">{{item.ingresoactivos[0].fecha_hora_ingreso}} </a></td>\r\n\r\n                        \r\n                        <td style=\"vertical-align: middle;\" *ngIf=\"!item.localidad\"><a routerLink=\"/pacientes/modulo/ingreso/{{item.id}}\">DESCONOCIDO</a></td>\r\n                        <td style=\"vertical-align: middle;\" *ngIf=\"item.ingresoactivos.length == 0\"><a routerLink=\"/pacientes/modulo/ingreso/{{item.id}}\"> </a></td>\r\n                        <td style=\"vertical-align: middle;\" class=\"has-text-centered\"><span class=\"icon \" *ngIf=\"item.cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span><a *ngIf=\"!item.cargando\" class=\"is-primary\" routerLink=\"/pacientes/modulo/ingreso/{{item.id}}\"><span class=\"icon\"><i class=\"fa fa-hospital-o\"></i></span></a></td>\r\n                        \r\n                    \r\n                    </tr>\r\n\r\n                    <tr *ngIf=\"resultadosBusqueda.length == 0 && busquedaActivada\">\r\n                        <td colspan=\"5\" style=\"vertical-align: middle; color:#888;\">No se encontraron resultados.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            \r\n            <paginacion \r\n                [total]=\"total\" \r\n                [paginasTotales]=\"paginasTotales\" \r\n                [resultadosPorPagina]=\"resultadosPorPagina\" \r\n                [paginaActual]=\"paginaActual\" \r\n                [indicePaginas]=\"indicePaginas\"\r\n                (onSiguiente)=\"paginaSiguiente()\" \r\n                (onAnterior)=\"paginaAnterior()\" \r\n                (onListar)=\"listar($event)\" \r\n                *ngIf=\"total>0 && total > resultadosPorPagina && !busquedaActivada\"></paginacion>\r\n            <paginacion \r\n                [total]=\"totalBusqueda\" \r\n                [paginasTotales]=\"paginasTotalesBusqueda\" \r\n                [resultadosPorPagina]=\"resultadosPorPaginaBusqueda\" \r\n                [paginaActual]=\"paginaActualBusqueda\" \r\n                [indicePaginas]=\"indicePaginasBusqueda\"\r\n                (onSiguiente)=\"paginaSiguienteBusqueda(searchBox.value)\" \r\n                (onAnterior)=\"paginaAnteriorBusqueda(searchBox.value)\" \r\n                (onListar)=\"listarBusqueda(searchBox.value,$event)\" \r\n                *ngIf=\"totalBusqueda > 0 && totalBusqueda > resultadosPorPaginaBusqueda && busquedaActivada\"></paginacion>\r\n           \r\n           \r\n            \r\n        </div>\r\n    </div>        \r\n   \r\n</div>\r\n\r\n<div class=\"notification is-danger\" style=\"position:fixed; left:1em;  bottom:1em;\" *ngIf=\"mensajeError.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeError.mostrar = false\"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style=\"text-align:center\" ><a  class=\"button is-danger is-inverted\" (click)=\"ultimaPeticion(); mensajeError.mostrar = false\"> <span class=\"icon\"><i class=\"fa fa-refresh\"></i></span> <span>Volver a intentar</span></a></p>        \r\n</div>\r\n\r\n<div class=\"notification is-success\" style=\"position:fixed; left:1em;  bottom:1em; width: auto\" *ngIf=\"mensajeExito.mostrar\">       \r\n    <button class=\"delete\" (click)=\"mensajeExito.mostrar = false\"></button>\r\n    <p><span class=\"icon\" style=\"margin-right: 0.5em;\"><i class=\"fa fa-check-circle\"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style=\"text-align: center;\"><small >Este mensaje desaparecerá en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n"

/***/ }),

/***/ "../../../../../src/app/admision/egreso/lista/lista.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__ = __webpack_require__("../../../../rxjs/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__ = __webpack_require__("../../../../rxjs/Subject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_observable_of__ = __webpack_require__("../../../../rxjs/add/observable/of.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_observable_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_rxjs_add_observable_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw__ = __webpack_require__("../../../../rxjs/add/observable/throw.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_debounceTime__ = __webpack_require__("../../../../rxjs/add/operator/debounceTime.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_debounceTime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_debounceTime__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_distinctUntilChanged__ = __webpack_require__("../../../../rxjs/add/operator/distinctUntilChanged.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_distinctUntilChanged___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_distinctUntilChanged__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_map__ = __webpack_require__("../../../../rxjs/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_map__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_switchMap__ = __webpack_require__("../../../../rxjs/add/operator/switchMap.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_switchMap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_switchMap__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_catch__ = __webpack_require__("../../../../rxjs/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_catch___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_catch__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__mensaje__ = __webpack_require__("../../../../../src/app/mensaje.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__egreso_service__ = __webpack_require__("../../../../../src/app/admision/egreso/egreso.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ListaComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};













var ListaComponent = (function () {
    function ListaComponent(title, egresoService) {
        this.title = title;
        this.egresoService = egresoService;
        this.cargando = false;
        // # SECCION: Esta sección es para mostrar mensajes
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_11__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_11__mensaje__["a" /* Mensaje */]();
        // # FIN SECCION
        // # SECCION: Lista de pacinetes
        this.pacientesEgreso = [];
        this.paginaActual = 1;
        this.resultadosPorPagina = 25;
        this.total = 0;
        this.paginasTotales = 0;
        this.indicePaginas = [];
        // # FIN SECCION
        // # SECCION: Resultados de búsqueda
        this.ultimoTerminoBuscado = "";
        this.terminosBusqueda = new __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__["Subject"]();
        this.resultadosBusqueda = [];
        this.busquedaActivada = false;
        this.paginaActualBusqueda = 1;
        this.resultadosPorPaginaBusqueda = 25;
        this.totalBusqueda = 0;
        this.paginasTotalesBusqueda = 0;
        this.indicePaginasBusqueda = [];
    }
    ListaComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.title.setTitle("Pacientes / Admisión");
        this.listar(1);
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_11__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_11__mensaje__["a" /* Mensaje */]();
        var self = this;
        var busquedaSubject = this.terminosBusqueda
            .debounceTime(300) // Esperamos 300 ms pausando eventos
            .distinctUntilChanged() // Ignorar si la busqueda es la misma que la ultima
            .switchMap(function (term) {
            console.log("Cargando búsqueda." + term);
            _this.busquedaActivada = term != "" ? true : false;
            _this.ultimoTerminoBuscado = term;
            _this.paginaActualBusqueda = 1;
            _this.cargando = true;
            return term ? _this.egresoService.buscar(term, _this.paginaActualBusqueda, _this.resultadosPorPaginaBusqueda) : __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__["Observable"].of({ data: [] });
        }).catch(function handleError(error) {
            self.cargando = false;
            self.mensajeError.mostrar = true;
            self.ultimaPeticion = function () { self.listarBusqueda(self.ultimoTerminoBuscado, self.paginaActualBusqueda); }; //OJO
            try {
                var e = error.json();
                if (error.status == 401) {
                    self.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    self.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    self.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
            // Devolvemos el subject porque si no se detiene el funcionamiento del stream 
            return busquedaSubject;
        });
        busquedaSubject.subscribe(function (resultado) {
            _this.cargando = false;
            _this.resultadosBusqueda = resultado.data;
            _this.totalBusqueda = resultado.total | 0;
            _this.paginasTotalesBusqueda = Math.ceil(_this.totalBusqueda / _this.resultadosPorPaginaBusqueda);
            _this.indicePaginasBusqueda = [];
            for (var i = 0; i < _this.paginasTotalesBusqueda; i++) {
                _this.indicePaginasBusqueda.push(i + 1);
            }
            console.log("Búsqueda cargada.");
        });
    };
    ListaComponent.prototype.buscar = function (term) {
        this.terminosBusqueda.next(term);
    };
    ListaComponent.prototype.listarBusqueda = function (term, pagina) {
        var _this = this;
        this.paginaActualBusqueda = pagina;
        console.log("Cargando búsqueda.");
        this.cargando = true;
        this.egresoService.buscar(term, pagina, this.resultadosPorPaginaBusqueda).subscribe(function (resultado) {
            _this.cargando = false;
            _this.resultadosBusqueda = resultado.data;
            _this.totalBusqueda = resultado.total | 0;
            _this.paginasTotalesBusqueda = Math.ceil(_this.totalBusqueda / _this.resultadosPorPaginaBusqueda);
            _this.indicePaginasBusqueda = [];
            for (var i = 0; i < _this.paginasTotalesBusqueda; i++) {
                _this.indicePaginasBusqueda.push(i + 1);
            }
            console.log("------");
            console.log(resultado);
            console.log("Búsqueda cargada.");
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError.mostrar = true;
            _this.ultimaPeticion = function () { this.listarBusqueda(term, pagina); };
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    ListaComponent.prototype.listar = function (pagina) {
        var _this = this;
        this.paginaActual = pagina;
        this.cargando = true;
        this.egresoService.lista(pagina, this.resultadosPorPagina).subscribe(function (resultado) {
            _this.cargando = false;
            _this.pacientesEgreso = resultado.data;
            _this.total = resultado.total | 0;
            _this.paginasTotales = Math.ceil(_this.total / _this.resultadosPorPagina);
            _this.indicePaginas = [];
            for (var i = 0; i < _this.paginasTotales; i++) {
                _this.indicePaginas.push(i + 1);
            }
            console.log("pacientes cargados.");
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError.mostrar = true;
            _this.ultimaPeticion = _this.listar;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    ListaComponent.prototype.paginaSiguiente = function () {
        this.listar(this.paginaActual + 1);
    };
    ListaComponent.prototype.paginaAnterior = function () {
        this.listar(this.paginaActual - 1);
    };
    ListaComponent.prototype.paginaSiguienteBusqueda = function (term) {
        this.listarBusqueda(term, this.paginaActualBusqueda + 1);
    };
    ListaComponent.prototype.paginaAnteriorBusqueda = function (term) {
        this.listarBusqueda(term, this.paginaActualBusqueda - 1);
    };
    return ListaComponent;
}());
ListaComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-lista',
        template: __webpack_require__("../../../../../src/app/admision/egreso/lista/lista.component.html"),
        styles: [__webpack_require__("../../../../../src/app/admision/egreso/lista/lista.component.css")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_12__egreso_service__["a" /* EgresoService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_12__egreso_service__["a" /* EgresoService */]) === "function" && _b || Object])
], ListaComponent);

var _a, _b;
//# sourceMappingURL=C:/wamp/www/x3-C/src/lista.component.js.map

/***/ }),

/***/ "../../../../../src/app/admision/egreso/paciente-egreso.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/@angular/http.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__ = __webpack_require__("../../../../../src/app/jwt-request.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PacienteEgresoService; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var PacienteEgresoService = PacienteEgresoService_1 = (function () {
    function PacienteEgresoService(http, jwtRequest) {
        this.http = http;
        this.jwtRequest = jwtRequest;
    }
    PacienteEgresoService.prototype.buscar = function (term, pagina, resultados_por_pagina) {
        if (pagina === void 0) { pagina = 1; }
        if (resultados_por_pagina === void 0) { resultados_por_pagina = 20; }
        return this.jwtRequest.get(PacienteEgresoService_1.URL, null, { q: term, page: pagina, per_page: resultados_por_pagina }).map(function (response) { return response.json().data; });
    };
    PacienteEgresoService.prototype.lista = function (pagina, resultados_por_pagina) {
        if (pagina === void 0) { pagina = 1; }
        if (resultados_por_pagina === void 0) { resultados_por_pagina = 20; }
        return this.jwtRequest.get(PacienteEgresoService_1.URL, null, { page: pagina, per_page: resultados_por_pagina }).map(function (response) { return response.json().data; });
    };
    PacienteEgresoService.prototype.listaCompleta = function (pagina, resultados_por_pagina) {
        if (pagina === void 0) { pagina = 1; }
        if (resultados_por_pagina === void 0) { resultados_por_pagina = 20; }
        return this.jwtRequest.get("admision/paciente", null, { page: pagina, per_page: resultados_por_pagina }).map(function (response) { return response.json().data; });
    };
    PacienteEgresoService.prototype.buscarCompleta = function (term, pagina, resultados_por_pagina) {
        if (pagina === void 0) { pagina = 1; }
        if (resultados_por_pagina === void 0) { resultados_por_pagina = 20; }
        return this.jwtRequest.get("admision/paciente", null, { q: term, page: pagina, per_page: resultados_por_pagina }).map(function (response) { return response.json().data; });
    };
    PacienteEgresoService.prototype.listaMunicipios = function (municipio) {
        if (municipio === void 0) { municipio = null; }
        return this.jwtRequest.get("admision/municipio", municipio, null).map(function (response) { return response.json().data; });
    };
    PacienteEgresoService.prototype.listaLocalidades = function (municipio, localidad) {
        if (municipio === void 0) { municipio = null; }
        if (localidad === void 0) { localidad = null; }
        return this.jwtRequest.get("admision/localidad", localidad, { municipio_id: municipio }).map(function (response) { return response.json().data; });
    };
    PacienteEgresoService.prototype.listaMotivoEgreso = function () {
        return this.jwtRequest.get("admision/motivo-egreso", null, null).map(function (response) { return response.json().data; });
    };
    PacienteEgresoService.prototype.listaTriage = function (id) {
        return this.jwtRequest.get("admision/triage", null, { triage_id: id }).map(function (response) { return response.json().data; });
    };
    PacienteEgresoService.prototype.listaGradoLesion = function (id) {
        return this.jwtRequest.get("admision/grado-lesion", null, { grado_lesion_id: id }).map(function (response) { return response.json().data; });
    };
    PacienteEgresoService.prototype.listaUnidades = function (lista, id) {
        return this.jwtRequest.get("unidades-medicas", null, { lista: lista, clues: id }).map(function (response) { return response.json().data; });
    };
    PacienteEgresoService.prototype.ver = function (id) {
        return this.jwtRequest.get(PacienteEgresoService_1.URL, id, {}).map(function (response) {
            console.log(response.json().data);
            var jsonData = response.json().data;
            var pacienteEgreso = jsonData;
            return pacienteEgreso;
        });
    };
    PacienteEgresoService.prototype.editar = function (id, pacienteEgreso) {
        return this.jwtRequest.put("admision/paciente-egreso", id, pacienteEgreso).map(function (response) { return response.json().data; });
    };
    PacienteEgresoService.prototype.ingreso = function (id, pacienteEgreso) {
        return this.jwtRequest.put("admision/admision", id, pacienteEgreso).map(function (response) { return response.json().data; });
    };
    PacienteEgresoService.prototype.crear = function (pacienteEgreso) {
        return this.jwtRequest.post("admision/paciente", pacienteEgreso).map(function (response) { return response.json().data; });
    };
    return PacienteEgresoService;
}());
PacienteEgresoService.URL = "admision/admision";
PacienteEgresoService = PacienteEgresoService_1 = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__["a" /* JwtRequestService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__["a" /* JwtRequestService */]) === "function" && _b || Object])
], PacienteEgresoService);

var PacienteEgresoService_1, _a, _b;
//# sourceMappingURL=C:/wamp/www/x3-C/src/paciente-egreso.service.js.map

/***/ }),

/***/ "../../../../../src/app/admision/egreso/verificacion/verificacion.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/admision/egreso/verificacion/verificacion.component.html":
/***/ (function(module, exports) {

module.exports = "<admision-menu></admision-menu>\r\n<div style=\"height:50px;\"></div>\r\n<div class=\"contenedor columns \" style=\"height:100%; \">\r\n    <div class=\"column is-one-quarter is-hidden-mobile\">\r\n        <admision-menu-lateral></admision-menu-lateral>\r\n    </div>\r\n    <div class=\"column\" style=\"padding:2em;\">\r\n        <div style=\"background: #FFF; border-radius: 1em; overflow: hidden;\">\r\n            <section class=\"hero\" [ngClass] = \" {'is-dark': busquedaActivada, 'is-primary': !busquedaActivada } \" >\r\n                \r\n                <div class=\"hero-body\" style=\"position:relative;\">\r\n                    <a class=\"button  is-dark\" *ngIf=\"busquedaActivada\" style=\"position:absolute; top:1em; right:1em;\" (click)=\"busquedaActivada=false;searchBox.value='';resultadosBusqueda=[]\"><span class=\"icon \"><i class=\"fa fa-close\"></i></span></a>\r\n                    <a class=\"button  is-dark\" *ngIf=\"busquedaActivada\" style=\"position:absolute; top:1em; right:3.5em;\" (click)=\"listarBusqueda(searchBox.value,1)\"><span class=\"icon \"><i class=\"fa fa-refresh\"></i></span></a>\r\n                    <a class=\"button  is-primary\" *ngIf=\"!busquedaActivada\" style=\"position:absolute; top:1em; right:1em;\" (click)=\"listar(1)\"><span class=\"icon \"><i class=\"fa fa-refresh\"></i></span></a>\r\n                    <div class=\"container is-fluid\">\r\n                        \r\n                        <h1 class=\"title\" *ngIf=\"!busquedaActivada\">\r\n                            <span class=\"icon is-medium\"><i class=\"fa fa-user\"></i></span> Lista de Pacientes\r\n                        </h1>\r\n                        <h1 class=\"title\" *ngIf=\"busquedaActivada\">\r\n                            <span class=\"icon is-medium\"><i class=\"fa fa-search\"></i></span> Búsqueda \r\n                        </h1>\r\n                        <div class=\"control is-grouped\">\r\n                        <p class=\"control is-expanded\">\r\n                            <input class=\"input is-medium\" type=\"text\" placeholder=\"Buscar\" #searchBox id=\"search-box\" (keyup)=\"buscar(searchBox.value)\">\r\n                        </p>\r\n                        <p class=\"control\">\r\n                            <a class=\"button is-medium is-primary is-inverted \"  (click)=\"showDialog = !showDialog\">\r\n                            <span class=\"icon\" ><i class=\"fa fa-plus\"></i></span><span>Nuevo Paciente</span>\r\n                            </a>\r\n                        </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class=\"is-fullwidth has-text-centered\" *ngIf=\"cargando\">\r\n                <br>\r\n                <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n        \r\n            <table class=\"table\" *ngIf=\"!cargando\">\r\n                <thead>\r\n                    <tr>\r\n                    <th></th>\r\n                    <th><abbr title=\"Paciente ID\">ID</abbr></th>\r\n                    <th>Nombre</th>\r\n                    <th>Fecha Nacimiento</th>\r\n                    <th>Localidad (Municipio)</th>\r\n                    <th>Fecha Ingreso</th>\r\n                    <th>Ingresado</th>\r\n                    <th>Unidad</th>\r\n                    <th style=\"text-align:center;\">Opciones</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody  *ngIf=\"!busquedaActivada\">\r\n                    <tr *ngFor=\"let item of pacientes; let i=index\">\r\n                        <th><a routerLink=\"/pacientes/modulo/ingreso/{{item.id}}\"><img style=\"min-width: 1.5em; width:2em;\" src=\"assets/{{ item.avatar || 'avatar-unknow' }}.svg\" alt=\"avatar\"></a></th>\r\n                        <th style=\"vertical-align: middle;\"><a routerLink=\"/pacientes/modulo/ingreso/{{item.id}}\">{{ item.id }}</a></th>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/pacientes/modulo/ingreso/{{item.id}}\">{{ item.nombre }}</a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/pacientes/modulo/ingreso/{{item.id}}\">{{ item.fecha_nacimiento }}</a></td>\r\n                        <td style=\"vertical-align: middle;\" *ngIf=\"item.localidad\"><a routerLink=\"/pacientes/modulo/ingreso/{{item.id}}\">{{item.localidad.nombre }} ( {{item.localidad.municipio.nombre }} ) </a></td>\r\n                        <td style=\"vertical-align: middle;\" *ngIf=\"!item.localidad\"><a routerLink=\"/pacientes/modulo/ingreso/{{item.id}}\">DESCONOCIDO</a></td>\r\n                        \r\n                        <td style=\"vertical-align: middle;\" *ngIf=\"item.ingresoactivos.length == 1\"><a routerLink=\"/pacientes/modulo/ingreso/{{item.id}}\">{{item.ingresoactivos[0].fecha_hora_ingreso}} </a></td>\r\n                         <td style=\"vertical-align: middle;\" *ngIf=\"item.ingresoactivos.length == 0\"><a routerLink=\"/pacientes/modulo/ingreso/{{item.id}}\"></a></td>\r\n\r\n                        <td style=\"vertical-align: middle;\" *ngIf=\"item.ingresoactivos.length == 1\"><a routerLink=\"/pacientes/modulo/ingreso/{{item.id}}\">SI </a></td>\r\n                        <td style=\"vertical-align: middle;\" *ngIf=\"item.ingresoactivos.length == 0\"><a routerLink=\"/pacientes/modulo/ingreso/{{item.id}}\">NO </a></td>\r\n                        <td style=\"vertical-align: middle;\" *ngIf=\"item.ingresoactivos.length == 1\"><a routerLink=\"/pacientes/modulo/ingreso/{{item.id}}\">{{ item.ingresoactivos[0].unidad.nombre}} </a></td>\r\n                       \r\n                        \r\n                        <td style=\"vertical-align: middle;\" *ngIf=\"item.ingresoactivos.length == 0\"><a routerLink=\"/pacientes/modulo/ingreso/{{item.id}}\"> </a></td>\r\n                        <td style=\"vertical-align: middle;\" class=\"has-text-centered\"><span class=\"icon \" *ngIf=\"item.cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span><a *ngIf=\"!item.cargando\" class=\"is-primary\" routerLink=\"/pacientes/modulo/ingreso/{{item.id}}\"><span class=\"icon\"><i class=\"fa fa-hospital-o\"></i></span></a></td>\r\n                        \r\n                    </tr>\r\n                    <tr *ngIf=\"pacientes.length == 0\">\r\n                        <td colspan=\"5\" style=\"vertical-align: middle; color:#888;\">Esta lista está vacía.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n                <tbody *ngIf=\"busquedaActivada\">\r\n                    <tr *ngFor=\"let item of resultadosBusqueda; let i=index\">\r\n                    <th><a routerLink=\"/pacientes/modulo/ingreso/{{item.id}}\"><img style=\"min-width: 1.5em; width:2em;\" src=\"assets/{{ item.avatar || 'avatar-unknow' }}.svg\" alt=\"avatar\"></a></th>\r\n                        <th style=\"vertical-align: middle;\"><a routerLink=\"/pacientes/modulo/ingreso/{{item.id}}\">{{ item.id }}</a></th>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/pacientes/modulo/ingreso/{{item.id}}\">{{ item.nombre }}</a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/pacientes/modulo/ingreso/{{item.id}}\">{{ item.fecha_nacimiento }}</a></td>\r\n                        <td style=\"vertical-align: middle;\" *ngIf=\"item.localidad\"><a routerLink=\"/pacientes/modulo/ingreso/{{item.id}}\">{{item.localidad.nombre }} ( {{item.localidad.municipio.nombre }} ) </a></td>\r\n                        <td style=\"vertical-align: middle;\" *ngIf=\"!item.localidad\"><a routerLink=\"/pacientes/modulo/ingreso/{{item.id}}\">DESCONOCIDO</a></td>\r\n                        \r\n                        <td style=\"vertical-align: middle;\" *ngIf=\"item.ingresoactivos.length == 1\"><a routerLink=\"/pacientes/modulo/ingreso/{{item.id}}\">{{item.ingresoactivos[0].fecha_hora_ingreso}} </a></td>\r\n                         <td style=\"vertical-align: middle;\" *ngIf=\"item.ingresoactivos.length == 0\"><a routerLink=\"/pacientes/modulo/ingreso/{{item.id}}\"></a></td>\r\n\r\n                        <td style=\"vertical-align: middle;\" *ngIf=\"item.ingresoactivos.length == 1\"><a routerLink=\"/pacientes/modulo/ingreso/{{item.id}}\">SI </a></td>\r\n                        <td style=\"vertical-align: middle;\" *ngIf=\"item.ingresoactivos.length == 0\"><a routerLink=\"/pacientes/modulo/ingreso/{{item.id}}\">NO </a></td>\r\n                        <td style=\"vertical-align: middle;\" *ngIf=\"item.ingresoactivos.length == 1\"><a routerLink=\"/pacientes/modulo/ingreso/{{item.id}}\">{{ item.ingresoactivos[0].unidad.nombre}} </a></td>\r\n                       \r\n                        \r\n                        <td style=\"vertical-align: middle;\" *ngIf=\"item.ingresoactivos.length == 0\"><a routerLink=\"/pacientes/modulo/ingreso/{{item.id}}\"> </a></td>\r\n                        <td style=\"vertical-align: middle;\" class=\"has-text-centered\"><span class=\"icon \" *ngIf=\"item.cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span><a *ngIf=\"!item.cargando\" class=\"is-primary\" routerLink=\"/pacientes/modulo/ingreso/{{item.id}}\"><span class=\"icon\"><i class=\"fa fa-hospital-o\"></i></span></a></td>\r\n                    \r\n                    </tr>\r\n\r\n                    <tr *ngIf=\"resultadosBusqueda.length == 0 && busquedaActivada\">\r\n                        <td colspan=\"5\" style=\"vertical-align: middle; color:#888;\">No se encontraron resultados.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            \r\n            <paginacion \r\n                [total]=\"total\" \r\n                [paginasTotales]=\"paginasTotales\" \r\n                [resultadosPorPagina]=\"resultadosPorPagina\" \r\n                [paginaActual]=\"paginaActual\" \r\n                [indicePaginas]=\"indicePaginas\"\r\n                (onSiguiente)=\"paginaSiguiente()\" \r\n                (onAnterior)=\"paginaAnterior()\" \r\n                (onListar)=\"listar($event)\" \r\n                *ngIf=\"total>0 && total > resultadosPorPagina && !busquedaActivada\"></paginacion>\r\n            <paginacion \r\n                [total]=\"totalBusqueda\" \r\n                [paginasTotales]=\"paginasTotalesBusqueda\" \r\n                [resultadosPorPagina]=\"resultadosPorPaginaBusqueda\" \r\n                [paginaActual]=\"paginaActualBusqueda\" \r\n                [indicePaginas]=\"indicePaginasBusqueda\"\r\n                (onSiguiente)=\"paginaSiguienteBusqueda(searchBox.value)\" \r\n                (onAnterior)=\"paginaAnteriorBusqueda(searchBox.value)\" \r\n                (onListar)=\"listarBusqueda(searchBox.value,$event)\" \r\n                *ngIf=\"totalBusqueda > 0 && totalBusqueda > resultadosPorPaginaBusqueda && busquedaActivada\"></paginacion>\r\n           \r\n           \r\n            \r\n        </div>\r\n    </div>        \r\n   \r\n</div>\r\n\r\n<div id=\"modal-paciente\" class=\"modal is-active\" [ngClass]=\"{'is-active': showDialog}\">\r\n  <div class=\"modal-background\"  (click)=\"showDialog = !showDialog\"></div>\r\n  <div class=\"modal-card\" style=\"width:60%; height: auto;\">\r\n    <header class=\"modal-card-head\" style=\"background-color: #3273dc\" >\r\n      <div class=\"container is-fluid\"  style=\"width:100%;\">\r\n          <h1 class=\"title\" style=\"color:#FFF;\">\r\n            <span class=\"icon is-medium\"><i class=\"fa fa-user\"></i></span> Agregar Paciente\r\n          </h1>\r\n      </div>            \r\n      <a class=\"button  is-primary\" style=\"position:absolute; top:1em; right:1em;\" (click)=\"showDialog = !showDialog\"><span class=\"icon \"><i class=\"fa fa-close\"></i></span></a>\r\n    </header>\r\n    <section class=\"section\">\r\n                <form name=\"form\" [formGroup]=\"paciente\"   (ngSubmit)=\"enviar()\" >     \r\n                  \r\n                  <div class=\"control is-grouped\">\r\n                    <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                        <label class=\"label\">Paciente Conocido</label>\r\n                        <span class=\"select is-fullwidth\">\r\n                            <select formControlName=\"conocido\" name=\"conocido\" (change)=\"paciente_conocido()\">\r\n                                <option value=\"1\">SI</option>\r\n                                <option value=\"2\">NO</option>\r\n                            </select>\r\n\r\n                        </span> \r\n                    </p>\r\n\r\n                    <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                        <label class=\"label\">Resposable Conocido</label>\r\n                        <span class=\"select is-fullwidth\">\r\n                            <select formControlName=\"responsableconocido\" name=\"responsableconocido\" (change)=\"responsable()\">\r\n                                <option value=\"1\">SI</option>\r\n                                <option value=\"2\">NO</option>\r\n                            </select>\r\n\r\n                        </span> \r\n                    </p>\r\n                    \r\n                  </div>\r\n\r\n                  \r\n                   <div [hidden]=\"verForm\">\r\n                        \r\n                    <section class=\"section\" style=\"padding: 1rem 1.5rem; background-color: #EFEFEF\">\r\n                        <div class=\"container\">\r\n                          <div class=\"heading\">\r\n                            <h1 class=\"title\">Datos del Paciente</h1>\r\n                          </div>\r\n                        </div>\r\n                    </section> \r\n                      <div class=\"control is-grouped\">\r\n                        <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                            <label class=\"label\">Nombre</label>\r\n                          <input class=\"input\" autofocus type=\"text\"  placeholder=\"Nombre\" formControlName=\"nombre\">\r\n                          <span class=\"icon is-small\" *ngIf=\"paciente.get('nombre').hasError('required') && paciente.get('nombre').touched\">\r\n                            <i class=\"fa fa-warning\"></i>\r\n                          </span>\r\n                          <span class=\"help is-danger\" *ngIf=\"paciente.get('nombre').hasError('required') && paciente.get('nombre').touched\">Este campo es requerido.</span>\r\n                        </p>\r\n                        \r\n                      </div>\r\n                      <div class=\"control is-grouped\">\r\n                        <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                            <label class=\"label\">Sexo</label>\r\n                            <span class=\"select is-fullwidth\">\r\n                                <select formControlName=\"sexo\" name=\"sexo\">\r\n                                    <option value=\"1\">MASCULINO</option>\r\n                                    <option value=\"2\">FAMENINO</option>\r\n                                </select>\r\n\r\n                            </span> \r\n                            <span class=\"icon is-small\" *ngIf=\"paciente.get('sexo').hasError('required') && paciente.get('sexo').touched\">\r\n                                    <i class=\"fa fa-warning\"></i>\r\n                                </span>\r\n                                <span class=\"help is-danger\" *ngIf=\"paciente.get('sexo').hasError('required') && paciente.get('sexo').touched\">Este campo es requerido.</span>\r\n                        </p>\r\n                        <p class=\"control is-expanded has-icon has-icon-right\">\r\n                            <label class=\"label\">Teléfono</label>\r\n                          <input class=\"input\" type=\"text\" placeholder=\"Telefono\" formControlName=\"telefono\">\r\n                          <span class=\"icon is-small\" *ngIf=\"paciente.get('telefono').hasError('required') && paciente.get('telefono').touched\">\r\n                            <i class=\"fa fa-warning\"></i>\r\n                          </span>\r\n                          <span class=\"help is-danger\" *ngIf=\"paciente.get('telefono').hasError('required') && paciente.get('telefono').touched\">Este campo es requerido.</span>\r\n                        </p>\r\n                        <p class=\"control is-expanded has-icon has-icon-right\">\r\n                        <label class=\"label\">Fecha Nacimiento</label>\r\n                          <input class=\"input\" type=\"text\" placeholder=\"aaaa-mm-dd\" formControlName=\"fecha_nacimiento\">\r\n                          <span class=\"icon is-small\" *ngIf=\"paciente.get('fecha_nacimiento').hasError('required') && paciente.get('fecha_nacimiento').touched\">\r\n                            <i class=\"fa fa-warning\"></i>\r\n                          </span>\r\n                          <span class=\"help is-danger\" *ngIf=\"paciente.get('fecha_nacimiento').hasError('required') && paciente.get('fecha_nacimiento').touched\">Este campo es requerido.</span>\r\n                        </p>\r\n                        <p class=\"control is-expanded has-icon has-icon-right\">\r\n                            <label class=\"label\">Hora Nacimiento (si aplica)</label>\r\n                          <input class=\"input\" type=\"text\" placeholder=\"HH:mm\" formControlName=\"hora_nacimiento\">\r\n                          \r\n                        </p>\r\n                      </div>\r\n                      <div class=\"control is-grouped\">\r\n                        \r\n                        <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                            <label class=\"label\">Domicilio</label>\r\n                            <input class=\"input\" type=\"text\" placeholder=\"Domicilio\" formControlName=\"domicilio\">\r\n                            <span class=\"icon is-small\" *ngIf=\"paciente.get('domicilio').hasError('required') && paciente.get('domicilio').touched\">\r\n                                <i class=\"fa fa-warning\"></i>\r\n                            </span>\r\n                            <span class=\"help is-danger\" *ngIf=\"paciente.get('domicilio').hasError('required') && paciente.get('domicilio').touched\">Este campo es requerido.</span>\r\n                         \r\n                        </p>\r\n                        <p class=\"control is-expanded has-icon has-icon-right\">\r\n                        <label class=\"label\">Colonia</label>\r\n                          <input class=\"input\" type=\"text\" placeholder=\"Colonia\" formControlName=\"colonia\">\r\n                          <span class=\"icon is-small\" *ngIf=\"paciente.get('colonia').hasError('required') && paciente.get('colonia').touched\">\r\n                            <i class=\"fa fa-warning\"></i>\r\n                          </span>\r\n                          <span class=\"help is-danger\" *ngIf=\"paciente.get('colonia').hasError('required') && paciente.get('colonia').touched\">Este campo es requerido.</span>\r\n                        </p>\r\n                     </div>\r\n                     <div class=\"control is-grouped\">  \r\n                        \r\n                        <p class=\"control is-expanded has-icon has-icon-right\">\r\n                          <label class=\"label\">Municipio</label> \r\n                          <span class=\"select is-fullwidth\">\r\n                                <select  formControlName=\"municipio_id\" name=\"municipio_id\" #municipio (change)=\"cargarLocalidades(municipio.value)\">\r\n                                    <option *ngFor=\"let item of Municipios\" value=\"{{item.id}}\">{{ item.nombre }} </option>\r\n                                </select>\r\n                                \r\n                            </span> \r\n                            <span class=\"icon is-small\" *ngIf=\"paciente.get('municipio_id').hasError('required') && paciente.get('municipio_id').touched\">\r\n                                <i class=\"fa fa-warning\"></i>\r\n                            </span>\r\n                            <span class=\"help is-danger\" *ngIf=\"paciente.get('municipio_id').hasError('required') && paciente.get('municipio_id').touched\">Este campo es requerido.</span>\r\n                        </p>\r\n                        <p class=\"control is-expanded has-icon has-icon-right\">\r\n                          <label class=\"label\">Localidad</label>    \r\n                          <span class=\"select is-fullwidth\">\r\n                                <select formControlName=\"localidad_id\" name=\"localidad_id\">\r\n                                    <option *ngFor=\"let item of Localidades\" value=\"{{item.id}}\">{{ item.nombre }} </option>\r\n                                </select>\r\n                                \r\n                            </span> \r\n                            <span class=\"icon is-small\" *ngIf=\"paciente.get('localidad_id').hasError('required') && paciente.get('localidad_id').touched\">\r\n                                    <i class=\"fa fa-warning\"></i>\r\n                                </span>\r\n                            <span class=\"help is-danger\" *ngIf=\"paciente.get('localidad_id').hasError('required') && paciente.get('localidad_id').touched\">Este campo es requerido.</span>\r\n                        </p>\r\n                         <p class=\"control is-expanded has-icon has-icon-right\">\r\n                            <label class=\"label\">No Expediente</label>\r\n                            <input class=\"input\" type=\"text\" placeholder=\"No Expediente\" formControlName=\"no_expediente\">\r\n                            <span class=\"icon is-small\" *ngIf=\"paciente.get('no_expediente').hasError('required') && paciente.get('no_expediente').touched\">\r\n                                <i class=\"fa fa-warning\"></i>\r\n                            </span>\r\n                            <span class=\"help is-danger\" *ngIf=\"paciente.get('no_expediente').hasError('required') && paciente.get('no_expediente').touched\">Este campo es requerido.</span>\r\n                            \r\n                        </p>\r\n                        <p class=\"control is-expanded has-icon has-icon-right\">\r\n                            <label class=\"label\">No Afililación</label>\r\n                            <input class=\"input\" type=\"text\" placeholder=\"No Afiliación\" formControlName=\"no_afiliacion\">\r\n                            <span class=\"icon is-small\" *ngIf=\"paciente.get('no_afiliacion').hasError('required') && paciente.get('no_afiliacion').touched\">\r\n                                <i class=\"fa fa-warning\"></i>\r\n                            </span>\r\n                            <span class=\"help is-danger\" *ngIf=\"paciente.get('no_afiliacion').hasError('required') && paciente.get('no_afiliacion').touched\">Este campo es requerido.</span>\r\n                            \r\n                        </p>\r\n                      </div>\r\n                    </div> \r\n                    <div [hidden]=\"verFormResponsable\">\r\n                      <section class=\"section\" style=\"padding: 1rem 1.5rem; background-color: #EFEFEF\">\r\n                        <div class=\"container\">\r\n                          <div class=\"heading\">\r\n                            <h1 class=\"title\">Datos del Responsable</h1>\r\n                          </div>\r\n                        </div>\r\n                      </section>  \r\n                      <div class=\"control is-grouped\">\r\n                        <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                            <label class=\"label\">Nombre</label>\r\n                          <input class=\"input\" autofocus type=\"text\"  placeholder=\"Nombre Responsable\" formControlName=\"nombre_responsable\">\r\n                          <span class=\"icon is-small\" *ngIf=\"paciente.get('nombre_responsable').hasError('required') && paciente.get('nombre_responsable').touched\">\r\n                            <i class=\"fa fa-warning\"></i>\r\n                          </span>\r\n                          <span class=\"help is-danger\" *ngIf=\"paciente.get('nombre_responsable').hasError('required') && paciente.get('nombre_responsable').touched\">Este campo es requerido.</span>\r\n                        </p>\r\n                        \r\n                      </div>\r\n                      <div class=\"control is-grouped\">\r\n                        <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                            <label class=\"label\">Patentesco</label>\r\n                               <input class=\"input\" autofocus type=\"text\"  placeholder=\"Parentesco\" formControlName=\"parentesco\">\r\n                              <span class=\"icon is-small\" *ngIf=\"paciente.get('parentesco').hasError('required') && paciente.get('parentesco').touched\">\r\n                                <i class=\"fa fa-warning\"></i>\r\n                              </span>\r\n                              <span class=\"help is-danger\" *ngIf=\"paciente.get('parentesco').hasError('required') && paciente.get('parentesco').touched\">Este campo es requerido.</span>\r\n\r\n                        </p>\r\n                         <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                            <label class=\"label\">Domicilio</label>\r\n                            <input class=\"input\" type=\"text\" placeholder=\"Domicilio Responsable\" formControlName=\"domicilio_responsable\">\r\n                            <span class=\"icon is-small\" *ngIf=\"paciente.get('domicilio_responsable').hasError('required') && paciente.get('domicilio_responsable').touched\">\r\n                                <i class=\"fa fa-warning\"></i>\r\n                            </span>\r\n                            <span class=\"help is-danger\" *ngIf=\"paciente.get('domicilio_responsable').hasError('required') && paciente.get('domicilio_responsable').touched\">Este campo es requerido.</span>\r\n                         \r\n                        </p>\r\n                        <p class=\"control is-expanded has-icon has-icon-right\">\r\n                            <label class=\"label\">Teléfono</label>\r\n                          <input class=\"input\" type=\"text\" placeholder=\"Telefono Responsable\" formControlName=\"telefono_responsable\">\r\n                          <span class=\"icon is-small\" *ngIf=\"paciente.get('telefono_responsable').hasError('required') && paciente.get('telefono_responsable').touched\">\r\n                            <i class=\"fa fa-warning\"></i>\r\n                          </span>\r\n                          <span class=\"help is-danger\" *ngIf=\"paciente.get('telefono_responsable').hasError('required') && paciente.get('telefono_responsable').touched\">Este campo es requerido.</span>\r\n                        </p>\r\n                        \r\n                      </div>\r\n                     \r\n                    </div>    \r\n                   \r\n                    <div [hidden]=\"verFormArea\">\r\n                        <section class=\"section\" style=\"padding: 1rem 1.5rem; background-color: #EFEFEF\">\r\n                            <div class=\"container\">\r\n                              <div class=\"heading\">\r\n                                <h1 class=\"title\">Area de Seguimiento</h1>\r\n                              </div>\r\n                            </div>\r\n                        </section> \r\n                        <div class=\"control is-grouped\">\r\n                            <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                                <br>\r\n                                <input type=\"hidden\" name='area' formControlName=\"area\">\r\n                                <label class=\"checkbox\">\r\n                                    <input type=\"checkbox\" name='trabajo_social' formControlName=\"trabajo_social\" (change)=\"verifica_area()\" value=\"1\">\r\n                                        Trabajo Social\r\n                                </label>\r\n                                <br>\r\n                                <label class=\"checkbox\" >\r\n                                    <input type=\"checkbox\" name='juridico' formControlName=\"juridico\"  (change)=\"verifica_area()\" value=\"1\">\r\n                                        Asuntos Jurídicos\r\n                                </label>\r\n                                <br>\r\n                                <label class=\"checkbox\">\r\n                                    <input type=\"checkbox\" name='ministerio' formControlName=\"ministerio\"  (change)=\"verifica_area()\" value=\"1\">\r\n                                        Ministerio Público\r\n                                </label>\r\n                                \r\n                                \r\n                            </p>\r\n\r\n                        </div>\r\n                      \r\n                    </div>  \r\n                  <br>\r\n                  <div class=\"control is-grouped\">\r\n                    <p class=\"control\">\r\n                      <button class=\"button is-primary\" type=\"submit\" [ngClass]=\"{'is-loading': cargando}\" [disabled]=\"paciente.invalid\">Guardar</button>\r\n                    </p>\r\n                  </div>\r\n              </form>\r\n            </section>\r\n    <footer class=\"\" style=\"position:relative; padding:1em;background: #FFF; border-top:1px solid #EEE; border-radius:0 0 0.8em 0.8em \" >\r\n    </footer>\r\n  </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n<div class=\"notification is-danger\" style=\"position:fixed; left:1em;  bottom:1em;\" *ngIf=\"mensajeError.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeError.mostrar = false\"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style=\"text-align:center\" ><a  class=\"button is-danger is-inverted\" (click)=\"ultimaPeticion(); mensajeError.mostrar = false\"> <span class=\"icon\"><i class=\"fa fa-refresh\"></i></span> <span>Volver a intentar</span></a></p>        \r\n</div>\r\n\r\n<div class=\"notification is-success\" style=\"position:fixed; left:1em;  bottom:1em; width: auto\" *ngIf=\"mensajeExito.mostrar\">       \r\n    <button class=\"delete\" (click)=\"mensajeExito.mostrar = false\"></button>\r\n    <p><span class=\"icon\" style=\"margin-right: 0.5em;\"><i class=\"fa fa-check-circle\"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style=\"text-align: center;\"><small >Este mensaje desaparecerá en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n"

/***/ }),

/***/ "../../../../../src/app/admision/egreso/verificacion/verificacion.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__ = __webpack_require__("../../../../rxjs/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__ = __webpack_require__("../../../../rxjs/Subject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_observable_of__ = __webpack_require__("../../../../rxjs/add/observable/of.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_observable_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_rxjs_add_observable_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_observable_throw__ = __webpack_require__("../../../../rxjs/add/observable/throw.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_observable_throw___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_rxjs_add_observable_throw__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_debounceTime__ = __webpack_require__("../../../../rxjs/add/operator/debounceTime.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_debounceTime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_debounceTime__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_distinctUntilChanged__ = __webpack_require__("../../../../rxjs/add/operator/distinctUntilChanged.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_distinctUntilChanged___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_distinctUntilChanged__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_rxjs_add_operator_map__ = __webpack_require__("../../../../rxjs/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_rxjs_add_operator_map__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_rxjs_add_operator_switchMap__ = __webpack_require__("../../../../rxjs/add/operator/switchMap.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_rxjs_add_operator_switchMap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_12_rxjs_add_operator_switchMap__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_rxjs_add_operator_catch__ = __webpack_require__("../../../../rxjs/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_rxjs_add_operator_catch___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_13_rxjs_add_operator_catch__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__mensaje__ = __webpack_require__("../../../../../src/app/mensaje.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__paciente_egreso_service__ = __webpack_require__("../../../../../src/app/admision/egreso/paciente-egreso.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return VerificacionComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
















var VerificacionComponent = (function () {
    // # FIN SECCION
    function VerificacionComponent(title, PacienteEgresoService, route, router, location, fb) {
        this.title = title;
        this.PacienteEgresoService = PacienteEgresoService;
        this.route = route;
        this.router = router;
        this.location = location;
        this.fb = fb;
        this.cargando = false;
        this.showDialog = false;
        this.verForm = false;
        this.verFormResponsable = false;
        this.verFormArea = true;
        // # SECCION: Esta sección es para mostrar mensajes
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */]();
        this.cargandoMunicipios = false;
        this.cargandoLocalidades = false;
        //roles: Rol[] = [];
        this.Municipios = [];
        this.Localidades = [];
        // # FIN SECCION
        // # SECCION: Lista de pacinetes
        this.pacientes = [];
        this.paginaActual = 1;
        this.resultadosPorPagina = 25;
        this.total = 0;
        this.paginasTotales = 0;
        this.indicePaginas = [];
        // # FIN SECCION
        // # SECCION: Resultados de búsqueda
        this.ultimoTerminoBuscado = "";
        this.terminosBusqueda = new __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__["Subject"]();
        this.resultadosBusqueda = [];
        this.busquedaActivada = false;
        this.paginaActualBusqueda = 1;
        this.resultadosPorPaginaBusqueda = 25;
        this.totalBusqueda = 0;
        this.paginasTotalesBusqueda = 0;
        this.indicePaginasBusqueda = [];
    }
    VerificacionComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.paciente = this.fb.group({
            conocido: ['1', [__WEBPACK_IMPORTED_MODULE_6__angular_forms__["Validators"].required]],
            responsableconocido: ['1', [__WEBPACK_IMPORTED_MODULE_6__angular_forms__["Validators"].required]],
            nombre: ['', [__WEBPACK_IMPORTED_MODULE_6__angular_forms__["Validators"].required]],
            fecha_nacimiento: ['', [__WEBPACK_IMPORTED_MODULE_6__angular_forms__["Validators"].required]],
            hora_nacimiento: ['', []],
            domicilio: ['', [__WEBPACK_IMPORTED_MODULE_6__angular_forms__["Validators"].required]],
            colonia: ['', [__WEBPACK_IMPORTED_MODULE_6__angular_forms__["Validators"].required]],
            telefono: ['', [__WEBPACK_IMPORTED_MODULE_6__angular_forms__["Validators"].required]],
            no_expediente: ['', [__WEBPACK_IMPORTED_MODULE_6__angular_forms__["Validators"].required]],
            no_afiliacion: ['', [__WEBPACK_IMPORTED_MODULE_6__angular_forms__["Validators"].required]],
            municipio_id: ['', [__WEBPACK_IMPORTED_MODULE_6__angular_forms__["Validators"].required]],
            localidad_id: ['', [__WEBPACK_IMPORTED_MODULE_6__angular_forms__["Validators"].required]],
            sexo: ['', [__WEBPACK_IMPORTED_MODULE_6__angular_forms__["Validators"].required]],
            nombre_responsable: ['', [__WEBPACK_IMPORTED_MODULE_6__angular_forms__["Validators"].required]],
            parentesco: ['', [__WEBPACK_IMPORTED_MODULE_6__angular_forms__["Validators"].required]],
            domicilio_responsable: ['', [__WEBPACK_IMPORTED_MODULE_6__angular_forms__["Validators"].required]],
            telefono_responsable: ['', [__WEBPACK_IMPORTED_MODULE_6__angular_forms__["Validators"].required]],
            area: ['', [__WEBPACK_IMPORTED_MODULE_6__angular_forms__["Validators"].required]],
            trabajo_social: ['', []],
            juridico: ['', []],
            ministerio: ['', []],
        });
        this.title.setTitle("Verificación / Admisión");
        this.listar(1);
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */]();
        var self = this;
        var busquedaSubject = this.terminosBusqueda
            .debounceTime(300) // Esperamos 300 ms pausando eventos
            .distinctUntilChanged() // Ignorar si la busqueda es la misma que la ultima
            .switchMap(function (term) {
            console.log("Cargando búsqueda." + term);
            _this.busquedaActivada = term != "" ? true : false;
            _this.ultimoTerminoBuscado = term;
            _this.paginaActualBusqueda = 1;
            _this.cargando = true;
            return term ? _this.PacienteEgresoService.buscarCompleta(term, _this.paginaActualBusqueda, _this.resultadosPorPaginaBusqueda) : __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__["Observable"].of({ data: [] });
        }).catch(function handleError(error) {
            self.cargando = false;
            self.mensajeError.mostrar = true;
            self.ultimaPeticion = function () { self.listarBusqueda(self.ultimoTerminoBuscado, self.paginaActualBusqueda); }; //OJO
            try {
                var e = error.json();
                if (error.status == 401) {
                    self.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    self.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    self.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
            // Devolvemos el subject porque si no se detiene el funcionamiento del stream 
            return busquedaSubject;
        });
        busquedaSubject.subscribe(function (resultado) {
            _this.cargando = false;
            _this.resultadosBusqueda = resultado.data;
            _this.totalBusqueda = resultado.total | 0;
            _this.paginasTotalesBusqueda = Math.ceil(_this.totalBusqueda / _this.resultadosPorPaginaBusqueda);
            _this.indicePaginasBusqueda = [];
            for (var i = 0; i < _this.paginasTotalesBusqueda; i++) {
                _this.indicePaginasBusqueda.push(i + 1);
            }
            console.log("Búsqueda cargada.");
        });
        this.cargarMunicipios();
    };
    VerificacionComponent.prototype.cargarMunicipios = function () {
        var _this = this;
        this.cargandoMunicipios = true;
        this.PacienteEgresoService.listaMunicipios().subscribe(function (municipio) {
            _this.Municipios = municipio;
            _this.cargandoMunicipios = false;
            console.log("Municipios cargados");
        }, function (error) {
            _this.cargandoMunicipios = false;
        });
    };
    VerificacionComponent.prototype.cargarLocalidades = function (value) {
        var _this = this;
        this.cargandoLocalidades = true;
        this.PacienteEgresoService.listaLocalidades(value).subscribe(function (localidad) {
            _this.Localidades = localidad;
            _this.cargandoLocalidades = false;
            console.log("Localidades cargados");
        }, function (error) {
            _this.cargandoLocalidades = false;
        });
    };
    VerificacionComponent.prototype.buscar = function (term) {
        this.terminosBusqueda.next(term);
    };
    VerificacionComponent.prototype.listarBusqueda = function (term, pagina) {
        var _this = this;
        this.paginaActualBusqueda = pagina;
        console.log("Cargando búsqueda.");
        this.cargando = true;
        this.PacienteEgresoService.buscarCompleta(term, pagina, this.resultadosPorPaginaBusqueda).subscribe(function (resultado) {
            _this.cargando = false;
            _this.resultadosBusqueda = resultado.data;
            _this.totalBusqueda = resultado.total | 0;
            _this.paginasTotalesBusqueda = Math.ceil(_this.totalBusqueda / _this.resultadosPorPaginaBusqueda);
            _this.indicePaginasBusqueda = [];
            for (var i = 0; i < _this.paginasTotalesBusqueda; i++) {
                _this.indicePaginasBusqueda.push(i + 1);
            }
            console.log("------");
            console.log(resultado);
            console.log("Búsqueda cargada.");
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError.mostrar = true;
            _this.ultimaPeticion = function () { this.listarBusqueda(term, pagina); };
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    VerificacionComponent.prototype.listar = function (pagina) {
        var _this = this;
        this.paginaActual = pagina;
        this.cargando = true;
        this.PacienteEgresoService.listaCompleta(pagina, this.resultadosPorPagina).subscribe(function (resultado) {
            _this.cargando = false;
            _this.pacientes = resultado.data;
            _this.total = resultado.total | 0;
            _this.paginasTotales = Math.ceil(_this.total / _this.resultadosPorPagina);
            _this.indicePaginas = [];
            for (var i = 0; i < _this.paginasTotales; i++) {
                _this.indicePaginas.push(i + 1);
            }
            console.log("pacientes cargados.");
            console.log(_this.pacientes);
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError.mostrar = true;
            _this.ultimaPeticion = _this.listar;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    VerificacionComponent.prototype.paciente_conocido = function () {
        this.verForm = !this.verForm;
        if (this.verForm) {
            this.paciente.patchValue({
                nombre: 1,
                fecha_nacimiento: "1987-01-01",
                domicilio: "conocido",
                colonia: "conocido",
                telefono: "conocido",
                no_expediente: "conocido",
                no_afiliacion: "conocido",
                municipio_id: 1,
                localidad_id: 1,
                sexo: 1
            });
        }
        else {
            this.paciente.patchValue({
                nombre: "",
                fecha_nacimiento: "",
                domicilio: "",
                colonia: "",
                telefono: "",
                no_expediente: "",
                no_afiliacion: "",
                municipio_id: 0,
                localidad_id: 0,
                sexo: 1
            });
        }
        if (this.verFormResponsable && this.verForm) {
            this.verFormArea = false;
            this.paciente.patchValue({ area: "" });
        }
        else {
            this.verFormArea = true;
            this.paciente.patchValue({ area: 1 });
        }
    };
    VerificacionComponent.prototype.responsable = function () {
        this.verFormResponsable = !this.verFormResponsable;
        if (this.verFormResponsable) {
            this.paciente.patchValue({
                nombre_responsable: 1,
                parentesco: "1987-01-01",
                domicilio_responsable: "conocido",
                telefono_responsable: "conocido",
            });
        }
        else {
            this.paciente.patchValue({
                nombre_responsable: "",
                parentesco: "",
                domicilio_responsable: "",
                telefono_responsable: "",
            });
        }
        if (this.verFormResponsable && this.verForm) {
            this.verFormArea = false;
            this.paciente.patchValue({ area: "" });
        }
        else {
            this.verFormArea = true;
            this.paciente.patchValue({ area: 1 });
        }
    };
    VerificacionComponent.prototype.verifica_area = function () {
        var trabajo_social;
        var juridico;
        var ministerio;
        trabajo_social = this.paciente.controls.trabajo_social.value;
        juridico = this.paciente.controls.juridico.value;
        ministerio = this.paciente.controls.ministerio.value;
        if (trabajo_social || juridico || ministerio) {
            this.paciente.patchValue({ area: 1 });
        }
        else {
            this.paciente.patchValue({ area: "" });
            console.log("no entro area");
        }
    };
    VerificacionComponent.prototype.enviar = function () {
        var _this = this;
        var bandera;
        bandera = 0;
        if (this.paciente.controls.conocido.value != 1 && this.paciente.controls.responsableconocido.value != 1) {
            var trabajo_social = void 0;
            var juridico = void 0;
            var ministerio = void 0;
            trabajo_social = this.paciente.controls.trabajo_social.value;
            juridico = this.paciente.controls.juridico.value;
            ministerio = this.paciente.controls.ministerio.value;
            if (trabajo_social || juridico || ministerio) {
                bandera = 1;
            }
        }
        else {
            bandera = 1;
        }
        if (bandera == 1) {
            this.PacienteEgresoService.crear(this.paciente.value).subscribe(function (paciente) {
                _this.cargando = false;
                //this.location.go('/pacientes/modulo/alta/'+paciente.id);
                _this.router.navigate(['/pacientes/modulo/ingreso/' + paciente.id]);
                /*console.log("Paciente editado.");

                this.mensajeExito = new Mensaje(true);
                this.mensajeExito.texto = "Se han guardado los cambios.";
                this.mensajeExito.mostrar = true;*/
            }, function (error) {
                _this.cargando = false;
                _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */](true);
                _this.mensajeError.texto = "No especificado.";
                _this.mensajeError.mostrar = true;
                try {
                    var e = error.json();
                    if (error.status == 401) {
                        _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                    }
                    // Problema de validación
                    if (error.status == 409) {
                        _this.mensajeError.texto = "Por favor verfique los campos marcados en rojo.";
                    }
                }
                catch (e) {
                    if (error.status == 500) {
                        _this.mensajeError.texto = "500 (Error interno del servidor)";
                    }
                    else {
                        _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                    }
                }
            });
        }
    };
    VerificacionComponent.prototype.paginaSiguiente = function () {
        this.listar(this.paginaActual + 1);
    };
    VerificacionComponent.prototype.paginaAnterior = function () {
        this.listar(this.paginaActual - 1);
    };
    VerificacionComponent.prototype.paginaSiguienteBusqueda = function (term) {
        this.listarBusqueda(term, this.paginaActualBusqueda + 1);
    };
    VerificacionComponent.prototype.paginaAnteriorBusqueda = function (term) {
        this.listarBusqueda(term, this.paginaActualBusqueda - 1);
    };
    return VerificacionComponent;
}());
VerificacionComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-verificacion',
        template: __webpack_require__("../../../../../src/app/admision/egreso/verificacion/verificacion.component.html"),
        styles: [__webpack_require__("../../../../../src/app/admision/egreso/verificacion/verificacion.component.css")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_15__paciente_egreso_service__["a" /* PacienteEgresoService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_15__paciente_egreso_service__["a" /* PacienteEgresoService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_5__angular_router__["c" /* ActivatedRoute */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_5__angular_router__["c" /* ActivatedRoute */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_5__angular_router__["a" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_5__angular_router__["a" /* Router */]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_4__angular_common__["Location"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__angular_common__["Location"]) === "function" && _e || Object, typeof (_f = typeof __WEBPACK_IMPORTED_MODULE_6__angular_forms__["FormBuilder"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_6__angular_forms__["FormBuilder"]) === "function" && _f || Object])
], VerificacionComponent);

var _a, _b, _c, _d, _e, _f;
//# sourceMappingURL=C:/wamp/www/x3-C/src/verificacion.component.js.map

/***/ }),

/***/ "../../../../../src/app/admision/menu-lateral/menu-lateral.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/admision/menu-lateral/menu-lateral.component.html":
/***/ (function(module, exports) {

module.exports = "<aside class=\"menu\" style=\"padding: 1em;\">\r\n    <p class=\"menu-label\">\r\n        Admisión\r\n    </p>\r\n    \r\n    <a routerLink=\"/pacientes/modulo/verificacion\" routerLinkActive=\"is-active\" class=\"button is-primary is-inverted is-medium is-fullwidth\" ><span class=\"icon\"  ><i class=\"fa fa-plus\"></i></span> <span>Nuevo Ingreso</span></a>\r\n    <br>\r\n\r\n    <ul class=\"menu-list\">  \r\n        <li>\r\n            <a routerLinkActive=\"is-active\" routerLink=\"/paciente/\">\r\n                <span class=\"icon\" ><i class=\"fa fa-user\"></i></span> Pacientes\r\n                <span class=\"icon is-pulled-right\" *ngIf=\"cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span>\r\n                \r\n            </a>\r\n        </li>        \r\n        <li>\r\n            <a routerLinkActive=\"is-active\" routerLink=\"/pacientes/modulo/verificacion\">\r\n                <span class=\"icon\" ><i class=\"fa fa-hospital-o\"></i></span> Ingresos\r\n                <span class=\"icon is-pulled-right\" *ngIf=\"cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span>\r\n               \r\n            </a>\r\n        </li>        \r\n        <li>\r\n            <a  routerLinkActive=\"is-active\" routerLink=\"/pacientes/modulo/egreso\">\r\n                <span class=\"icon\"  ><i class=\"fa fa-arrow-right\"></i></span> Egresos \r\n                <span class=\"icon is-pulled-right\" *ngIf=\"cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span>\r\n            </a>\r\n        </li>\r\n    </ul>        \r\n</aside>"

/***/ }),

/***/ "../../../../../src/app/admision/menu-lateral/menu-lateral.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MenuLateralComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var MenuLateralComponent = (function () {
    function MenuLateralComponent() {
    }
    MenuLateralComponent.prototype.ngOnInit = function () {
    };
    return MenuLateralComponent;
}());
MenuLateralComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'admision-menu-lateral',
        template: __webpack_require__("../../../../../src/app/admision/menu-lateral/menu-lateral.component.html"),
        styles: [__webpack_require__("../../../../../src/app/admision/menu-lateral/menu-lateral.component.css")]
    }),
    __metadata("design:paramtypes", [])
], MenuLateralComponent);

//# sourceMappingURL=C:/wamp/www/x3-C/src/menu-lateral.component.js.map

/***/ }),

/***/ "../../../../../src/app/admision/menu-lateral/menu-lateral.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__menu_lateral_component__ = __webpack_require__("../../../../../src/app/admision/menu-lateral/menu-lateral.component.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MenuLateralModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




var MenuLateralModule = (function () {
    function MenuLateralModule() {
    }
    return MenuLateralModule;
}());
MenuLateralModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [
            __WEBPACK_IMPORTED_MODULE_1__angular_common__["CommonModule"],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* RouterModule */]
        ],
        declarations: [__WEBPACK_IMPORTED_MODULE_3__menu_lateral_component__["a" /* MenuLateralComponent */]],
        exports: [__WEBPACK_IMPORTED_MODULE_3__menu_lateral_component__["a" /* MenuLateralComponent */]]
    })
], MenuLateralModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/menu-lateral.module.js.map

/***/ }),

/***/ "../../../../../src/app/admision/menu/menu-aside/menu-aside.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/admision/menu/menu-aside/menu-aside.component.html":
/***/ (function(module, exports) {

module.exports = "<aside class=\"menu\" style=\"padding: 1em;\">\r\n    <div *ngFor=\"let item of menuAutorizado\">\r\n        <p class=\"menu-label\">{{ item.titulo }}</p>\r\n        <ul class=\"menu-list\">\r\n            <li *ngFor=\"let modulo of item.modulos\">\r\n                <a routerLink=\"{{ modulo.url }}\" routerLinkActive=\"is-active\">\r\n                    <span class=\"icon\" ><i class=\"fa {{ modulo.icono }}\"></i></span>&nbsp;&nbsp;<span>{{ modulo.titulo }}</span>\r\n                </a>\r\n            </li>    \r\n        </ul>\r\n    </div>\r\n        \r\n</aside>"

/***/ }),

/***/ "../../../../../src/app/admision/menu/menu-aside/menu-aside.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MenuAsideComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var MenuAsideComponent = (function () {
    function MenuAsideComponent() {
        this.usuario = {};
        this.menu = [];
        this.menuAutorizado = [];
    }
    MenuAsideComponent.prototype.ngOnInit = function () {
        this.menu = [
            {
                titulo: 'Sincronización con servidor principal',
                modulos: [
                    { permiso: '2EA8UKzKrNFzxQxBBSjQ2fHggyrScu9f', icono: 'fa-cloud-upload', titulo: "Sincronización manual", url: "/panel-control/sync/manual" },
                ]
            },
            {
                titulo: 'Usuarios y privilegios',
                modulos: [
                    { permiso: 'mGKikN0aJaeF2XrHwwYK3XNw0f9CSZDe', icono: 'fa-user', titulo: "Usuarios", url: "/panel-control/usuarios" },
                    { permiso: 'ICmOKw3HxhgRna4a78OP0QmKrIX0bNsp', icono: 'fa-users', titulo: "Roles", url: "/panel-control/roles" },
                    { permiso: 'DYwQAxJbpHWw07zT09scEogUeFKFdGSu', icono: 'fa-shield', titulo: "Permisos", url: "/panel-control/permisos" },
                ]
            },
        ],
            this.menuAutorizado = [
                {
                    titulo: 'Sincronización con servidor principal',
                    modulos: [
                        { icono: 'fa-server', titulo: "Estatus de sincronización", url: "/panel-control/sync/estatus" },
                    ]
                },
            ];
        var usuario = JSON.parse(localStorage.getItem("usuario"));
        var permisos = usuario.permisos.split("|");
        if (permisos.length > 0) {
            for (var i in this.menu) {
                for (var j in this.menu[i].modulos) {
                    siguienteItemProtegido: for (var k in permisos) {
                        if (permisos[k] == this.menu[i].modulos[j].permiso) {
                            var item = this.initMenuAutorizadoPorItem(this.menu[i].titulo);
                            item.modulos.push(this.menu[i].modulos[j]);
                            break siguienteItemProtegido;
                        }
                    }
                }
            }
        }
    };
    MenuAsideComponent.prototype.initMenuAutorizadoPorItem = function (titulo) {
        for (var i in this.menuAutorizado) {
            if (titulo == this.menuAutorizado[i].titulo) {
                return this.menuAutorizado[i];
            }
        }
        this.menuAutorizado.push({ titulo: titulo, modulos: [] });
        return this.menuAutorizado[this.menuAutorizado.length - 1];
    };
    return MenuAsideComponent;
}());
MenuAsideComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'admision-menu-aside',
        template: __webpack_require__("../../../../../src/app/admision/menu/menu-aside/menu-aside.component.html"),
        styles: [__webpack_require__("../../../../../src/app/admision/menu/menu-aside/menu-aside.component.css")]
    }),
    __metadata("design:paramtypes", [])
], MenuAsideComponent);

//# sourceMappingURL=C:/wamp/www/x3-C/src/menu-aside.component.js.map

/***/ }),

/***/ "../../../../../src/app/admision/menu/menu.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/admision/menu/menu.component.html":
/***/ (function(module, exports) {

module.exports = "<section class=\"hero is-primary\" style=\"position: fixed; width: 100%;top:0px; z-index:99\">\r\n    <div class=\"hero-head\">\r\n        <div class=\"container is-fluid\">\r\n            <nav class=\"nav is-primary\">\r\n                <div class=\"nav-left\">\r\n                    <a class=\"nav-item is-brand\" routerLink=\"/admision\" routerLinkActive=\"active\">\r\n                    <!--<img src=\"http://bulma.io/images/bulma-type.png\" alt=\"Bulma logo\">-->\r\n                     <span class=\"icon\">\r\n                        <i class=\"fa fa-user\"></i>\r\n                    </span> \r\n                     <h1 class=\"title\">&nbsp;Pacientes de <span style=\"font-size: 16pt\"> ({{ DatoUnidad.unidades_medicas[0].clues }}) {{ DatoUnidad.unidades_medicas[0].nombre }}</span></h1> \r\n                    </a>\r\n                </div>\r\n                <a class=\"nav-item is-hidden-tablet\" (click)=\"toggleMenuAside()\">\r\n                    <span class=\"icon\">\r\n                        <i class=\"fa fa-navicon\"></i>\r\n                    </span>\r\n                </a>\r\n                <a class=\"nav-item\"  (click)=\"hub.toggle()\">\r\n                    <span class=\"icon\">\r\n                        <i class=\"fa fa-th\"></i>\r\n                    </span>\r\n                </a>\r\n\r\n                <a class=\"nav-item is-hidden-mobile\" (click)=\"perfil.toggle()\">\r\n                    \r\n                    <figure class=\"image\" style=\"width:26px;\"><img src=\"assets/{{ usuario.avatar || 'avatar-unknow' }}.svg\" alt=\"avatar\"></figure>\r\n                    &nbsp;\r\n                    <span>{{ usuario.nombre }} {{ usuario.apellidos }}</span>\r\n                </a>\r\n                <a class=\"nav-item is-hidden-tablet\" (click)=\"perfil.toggle()\">\r\n                    \r\n                    <figure class=\"image\" style=\"width:26px;\"><img src=\"assets/{{ usuario.avatar || 'avatar-unknow' }}.svg\" alt=\"avatar\"></figure>\r\n                </a>\r\n               \r\n                \r\n            </nav>\r\n        </div>\r\n    </div>\r\n</section>\r\n\r\n<app-hub #hub></app-hub>\r\n<app-perfil #perfil></app-perfil>\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active': mostrarMenuAside}\">\r\n  <div class=\"modal-background\" (click)=\"toggleMenuAside()\"></div>\r\n  <div class=\"modal-content\">\r\n    <div class=\"card\" style=\"width: 100%\">\r\n        <div class=\"card-content\">\r\n            <admision-menu-aside></admision-menu-aside>\r\n        </div>\r\n    </div>\r\n  </div>\r\n  <button class=\"modal-close\" (click)=\"toggleMenuAside()\"></button>\r\n</div>\r\n"

/***/ }),

/***/ "../../../../../src/app/admision/menu/menu.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MenuComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var MenuComponent = (function () {
    function MenuComponent() {
        this.mostrarMenuAside = false;
        this.usuario = {};
    }
    MenuComponent.prototype.ngOnInit = function () {
        this.DatoUnidad = JSON.parse(localStorage.getItem("usuario"));
        this.usuario = JSON.parse(localStorage.getItem("usuario"));
    };
    MenuComponent.prototype.toggleMenuAside = function () {
        this.mostrarMenuAside = !this.mostrarMenuAside;
    };
    return MenuComponent;
}());
MenuComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'admision-menu',
        template: __webpack_require__("../../../../../src/app/admision/menu/menu.component.html"),
        styles: [__webpack_require__("../../../../../src/app/admision/menu/menu.component.css")]
    }),
    __metadata("design:paramtypes", [])
], MenuComponent);

//# sourceMappingURL=C:/wamp/www/x3-C/src/menu.component.js.map

/***/ }),

/***/ "../../../../../src/app/admision/menu/menu.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__hub_hub_module__ = __webpack_require__("../../../../../src/app/hub/hub.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__perfil_perfil_module__ = __webpack_require__("../../../../../src/app/perfil/perfil.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__bloquear_pantalla_bloquear_pantalla_module__ = __webpack_require__("../../../../../src/app/bloquear-pantalla/bloquear-pantalla.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__menu_component__ = __webpack_require__("../../../../../src/app/admision/menu/menu.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__menu_aside_menu_aside_component__ = __webpack_require__("../../../../../src/app/admision/menu/menu-aside/menu-aside.component.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MenuModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};








var MenuModule = (function () {
    function MenuModule() {
    }
    return MenuModule;
}());
MenuModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [
            __WEBPACK_IMPORTED_MODULE_1__angular_common__["CommonModule"],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* RouterModule */],
            __WEBPACK_IMPORTED_MODULE_3__hub_hub_module__["a" /* HubModule */],
            __WEBPACK_IMPORTED_MODULE_4__perfil_perfil_module__["a" /* PerfilModule */],
            __WEBPACK_IMPORTED_MODULE_5__bloquear_pantalla_bloquear_pantalla_module__["a" /* BloquearPantallaModule */],
        ],
        declarations: [__WEBPACK_IMPORTED_MODULE_6__menu_component__["a" /* MenuComponent */], __WEBPACK_IMPORTED_MODULE_7__menu_aside_menu_aside_component__["a" /* MenuAsideComponent */]],
        exports: [__WEBPACK_IMPORTED_MODULE_6__menu_component__["a" /* MenuComponent */], __WEBPACK_IMPORTED_MODULE_7__menu_aside_menu_aside_component__["a" /* MenuAsideComponent */]]
    })
], MenuModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/menu.module.js.map

/***/ }),

/***/ "../../../../../src/app/admision/paciente/editar/editar.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/admision/paciente/editar/editar.component.html":
/***/ (function(module, exports) {

module.exports = "<admision-menu></admision-menu>\r\n<div style=\"height:50px;\"></div>\r\n<div class=\"contenedor columns \" style=\"height:100%; \">\r\n    <div class=\"column is-one-quarter is-hidden-mobile\">\r\n        <admision-menu-lateral></admision-menu-lateral>\r\n    </div>\r\n    <div class=\"column\" style=\"padding:2em;\">\r\n        <div style=\"background: #FFF; border-radius: 1em; overflow: hidden;\">\r\n            <section class=\"hero\" [ngClass] = \" 'is-primary' \" >\r\n                \r\n                <div class=\"hero-body\" style=\"position:relative;\">\r\n                    \r\n                    <div class=\"container is-fluid\">\r\n                        \r\n                        <h1 class=\"title\">\r\n                            <span class=\"icon is-medium\"><i class=\"fa fa-user\"></i></span> Editar Paciente\r\n                        </h1>\r\n                        \r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class=\"is-fullwidth has-text-centered\" *ngIf=\"cargando\">\r\n                <br>\r\n                <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n            <!-- Form Nuevo -->\r\n            <section class=\"section\">\r\n\t            <form name=\"form\" novalidate [formGroup]=\"paciente\"  (ngSubmit)=\"enviar()\">     \r\n\t            \r\n\t              <div class=\"control is-grouped\">\r\n\t                <p class=\"control is-expanded  has-icon has-icon-right\">\r\n\t                \t<label class=\"label\">Nombre</label>\r\n\t                  <input class=\"input\" autofocus type=\"text\"  placeholder=\"Nombre\" formControlName=\"nombre\">\r\n\t                  <span class=\"icon is-small\" *ngIf=\"paciente.get('nombre').hasError('required') && paciente.get('nombre').touched\">\r\n\t                    <i class=\"fa fa-warning\"></i>\r\n\t                  </span>\r\n\t                  <span class=\"help is-danger\" *ngIf=\"paciente.get('nombre').hasError('required') && paciente.get('nombre').touched\">Este campo es requerido.</span>\r\n\t                </p>\r\n\t                \r\n\t              </div>\r\n\t              <div class=\"control is-grouped\">\r\n\t                <p class=\"control is-expanded  has-icon has-icon-right\">\r\n\t                \t<label class=\"label\">Sexo</label>\r\n\t                \t<span class=\"select is-fullwidth\">\r\n\t\t                \t<select  formControlName=\"sexo\"  name=\"sexo\">\r\n\t\t                \t\t<option value=\"1\" selected=\"selected\">MASCULINO</option>\r\n\t\t                \t\t<option value=\"2\">FAMENINO</option>\r\n\t\t                \t</select>\r\n\r\n\t\t                </span>\t\r\n\t                 \t<span class=\"icon is-small\" *ngIf=\"paciente.get('sexo').hasError('required') && paciente.get('sexo').touched\">\r\n\t\t                     \t<i class=\"fa fa-warning\"></i>\r\n\t\t                    </span>\r\n\t\t                    <span class=\"help is-danger\" *ngIf=\"paciente.get('sexo').hasError('required') && paciente.get('sexo').touched\">Este campo es requerido.</span>\r\n\t                </p>\r\n\t                <p class=\"control is-expanded has-icon has-icon-right\">\r\n\t                \t<label class=\"label\">Teléfono</label>\r\n\t                  <input class=\"input\" type=\"text\" placeholder=\"Telefono\" formControlName=\"telefono\">\r\n\t                  <span class=\"icon is-small\" *ngIf=\"paciente.get('telefono').hasError('required') && paciente.get('telefono').touched\">\r\n\t                    <i class=\"fa fa-warning\"></i>\r\n\t                  </span>\r\n\t                  <span class=\"help is-danger\" *ngIf=\"paciente.get('telefono').hasError('required') && paciente.get('telefono').touched\">Este campo es requerido.</span>\r\n\t                </p>\r\n\t                <p class=\"control is-expanded has-icon has-icon-right\">\r\n\t                <label class=\"label\">Fecha Nacimiento</label>\r\n\t                  <input class=\"input\" type=\"text\" placeholder=\"AAAA/mm/dd\" formControlName=\"fecha_nacimiento\">\r\n\t                  <span class=\"icon is-small\" *ngIf=\"paciente.get('fecha_nacimiento').hasError('required') && paciente.get('fecha_nacimiento').touched\">\r\n\t                    <i class=\"fa fa-warning\"></i>\r\n\t                  </span>\r\n\t                  <span class=\"help is-danger\" *ngIf=\"paciente.get('fecha_nacimiento').hasError('required') && paciente.get('fecha_nacimiento').touched\">Este campo es requerido.</span>\r\n\t                </p>\r\n\t                <p class=\"control is-expanded has-icon has-icon-right\">\r\n\t                \t<label class=\"label\">Hora Nacimiento (si aplica)</label>\r\n\t                  <input class=\"input\" type=\"text\" placeholder=\"HH:mm\" formControlName=\"hora_nacimiento\">\r\n\t                 \r\n\t                </p>\r\n\t              </div>\r\n\t              <div class=\"control is-grouped\">\r\n\t              \t\r\n\t                <p class=\"control is-expanded  has-icon has-icon-right\">\r\n\t                \t<label class=\"label\">Domicilio</label>\r\n\t                \t<input class=\"input\" type=\"text\" placeholder=\"Domicilio\" formControlName=\"domicilio\">\r\n\t                \t<span class=\"icon is-small\" *ngIf=\"paciente.get('domicilio').hasError('required') && paciente.get('domicilio').touched\">\r\n\t\t                    <i class=\"fa fa-warning\"></i>\r\n\t\t                </span>\r\n\t\t                <span class=\"help is-danger\" *ngIf=\"paciente.get('domicilio').hasError('required') && paciente.get('domicilio').touched\">Este campo es requerido.</span>\r\n\t                 \r\n\t                </p>\r\n\t                <p class=\"control is-expanded has-icon has-icon-right\">\r\n\t                <label class=\"label\">Colonia</label>\r\n\t                  <input class=\"input\" type=\"text\" placeholder=\"Colonia\" formControlName=\"colonia\">\r\n\t                  <span class=\"icon is-small\" *ngIf=\"paciente.get('colonia').hasError('required') && paciente.get('colonia').touched\">\r\n\t                    <i class=\"fa fa-warning\"></i>\r\n\t                  </span>\r\n\t                  <span class=\"help is-danger\" *ngIf=\"paciente.get('colonia').hasError('required') && paciente.get('colonia').touched\">Este campo es requerido.</span>\r\n\t                </p>\r\n\t             </div>\r\n\t             <div class=\"control is-grouped\">  \r\n\t             \t\r\n\t                <p class=\"control is-expanded has-icon has-icon-right\">\r\n\t                  <label class=\"label\">Municipio</label> \r\n\t                  <span class=\"select is-fullwidth\">\r\n\t\t                \t<select  formControlName=\"municipio_id\" name=\"municipio_id\" #municipio (change)=\"cargarLocalidades(municipio.value)\">\r\n\t\t                \t\t<option *ngFor=\"let item of Municipios\" value=\"{{item.id}}\">{{ item.nombre }} </option>\r\n\t\t                \t</select>\r\n\t\t                \t\r\n\t\t                </span>\t\r\n\t\t                <span class=\"icon is-small\" *ngIf=\"paciente.get('municipio_id').hasError('required') && paciente.get('municipio_id').touched\">\r\n\t                     \t<i class=\"fa fa-warning\"></i>\r\n\t                    </span>\r\n\t                    <span class=\"help is-danger\" *ngIf=\"paciente.get('municipio_id').hasError('required') && paciente.get('municipio_id').touched\">Este campo es requerido.</span>\r\n\t                </p>\r\n\t                <p class=\"control is-expanded has-icon has-icon-right\">\r\n\t                  <label class=\"label\">Localidad</label>\t\r\n\t                  <span class=\"select is-fullwidth\">\r\n\t\t                \t<select formControlName=\"localidad_id\" name=\"localidad_id\">\r\n\t\t                \t\t<option *ngFor=\"let item of Localidades\" value=\"{{item.id}}\">{{ item.nombre }} </option>\r\n\t\t                \t</select>\r\n\t\t                \t\r\n\t\t                </span>\t\r\n\t\t                <span class=\"icon is-small\" *ngIf=\"paciente.get('localidad_id').hasError('required') && paciente.get('localidad_id').touched\">\r\n\t\t                     \t<i class=\"fa fa-warning\"></i>\r\n\t\t                    </span>\r\n\t\t                <span class=\"help is-danger\" *ngIf=\"paciente.get('localidad_id').hasError('required') && paciente.get('localidad_id').touched\">Este campo es requerido.</span>\r\n\t                </p>\r\n\t              </div>\r\n\t              <div class=\"control is-grouped\">   \r\n\t                \r\n\t                <p class=\"control is-expanded has-icon has-icon-right\">\r\n\t                  \t<label class=\"label\">No Expediente</label>\r\n\t\t                <input class=\"input\" type=\"text\" placeholder=\"No Expediente\" formControlName=\"no_expediente\">\r\n\t                    <span class=\"icon is-small\" *ngIf=\"paciente.get('no_expediente').hasError('required') && paciente.get('no_expediente').touched\">\r\n\t                     \t<i class=\"fa fa-warning\"></i>\r\n\t                    </span>\r\n\t                    <span class=\"help is-danger\" *ngIf=\"paciente.get('no_expediente').hasError('required') && paciente.get('no_expediente').touched\">Este campo es requerido.</span>\r\n\t\t                \r\n\t                </p>\r\n\t                <p class=\"control is-expanded has-icon has-icon-right\">\r\n\t                  \t<label class=\"label\">No Afililación</label>\r\n\t\t                <input class=\"input\" type=\"text\" placeholder=\"No Afiliación\" formControlName=\"no_afiliacion\">\r\n\t                    <span class=\"icon is-small\" *ngIf=\"paciente.get('no_afiliacion').hasError('required') && paciente.get('no_afiliacion').touched\">\r\n\t                     \t<i class=\"fa fa-warning\"></i>\r\n\t                    </span>\r\n\t                    <span class=\"help is-danger\" *ngIf=\"paciente.get('no_afiliacion').hasError('required') && paciente.get('no_afiliacion').touched\">Este campo es requerido.</span>\r\n\t\t                \r\n\t                </p>\r\n\t              </div>\r\n\r\n\t              <div class=\"control is-grouped\">\r\n                    <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                        <label class=\"label\">Resposable Conocido</label>\r\n                        <span class=\"select is-fullwidth\">\r\n                            <select formControlName=\"responsableconocido\" name=\"responsableconocido\" (change)=\"responsable()\">\r\n                                <option value=\"1\">SI</option>\r\n                                <option value=\"2\">NO</option>\r\n                            </select>\r\n\r\n                        </span> \r\n                    </p>\r\n                  </div>\r\n                  <div [hidden]=\"verFormResponsable\">\r\n                      <section class=\"section\" style=\"padding: 1rem 1.5rem; background-color: #EFEFEF\">\r\n                            <div class=\"container\">\r\n                              <div class=\"heading\">\r\n                                <h1 class=\"title\">Datos del Responsable</h1>\r\n                              </div>\r\n                            </div>\r\n                        </section>  \r\n                      <div class=\"control is-grouped\">\r\n                        <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                            <label class=\"label\">Nombre</label>\r\n                          <input class=\"input\" autofocus type=\"text\"  placeholder=\"Nombre Responsable\" formControlName=\"nombre_responsable\">\r\n                          <span class=\"icon is-small\" *ngIf=\"paciente.get('nombre_responsable').hasError('required') && paciente.get('nombre_responsable').touched\">\r\n                            <i class=\"fa fa-warning\"></i>\r\n                          </span>\r\n                          <span class=\"help is-danger\" *ngIf=\"paciente.get('nombre_responsable').hasError('required') && paciente.get('nombre_responsable').touched\">Este campo es requerido.</span>\r\n                        </p>\r\n                        \r\n                      </div>\r\n                      <div class=\"control is-grouped\">\r\n                        <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                            <label class=\"label\">Patentesco</label>\r\n                               <input class=\"input\" autofocus type=\"text\"  placeholder=\"Parentesco\" formControlName=\"parentesco\">\r\n                              <span class=\"icon is-small\" *ngIf=\"paciente.get('parentesco').hasError('required') && paciente.get('parentesco').touched\">\r\n                                <i class=\"fa fa-warning\"></i>\r\n                              </span>\r\n                              <span class=\"help is-danger\" *ngIf=\"paciente.get('parentesco').hasError('required') && paciente.get('parentesco').touched\">Este campo es requerido.</span>\r\n\r\n                        </p>\r\n                         <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                            <label class=\"label\">Domicilio</label>\r\n                            <input class=\"input\" type=\"text\" placeholder=\"Domicilio Responsable\" formControlName=\"domicilio_responsable\">\r\n                            <span class=\"icon is-small\" *ngIf=\"paciente.get('domicilio_responsable').hasError('required') && paciente.get('domicilio_responsable').touched\">\r\n                                <i class=\"fa fa-warning\"></i>\r\n                            </span>\r\n                            <span class=\"help is-danger\" *ngIf=\"paciente.get('domicilio_responsable').hasError('required') && paciente.get('domicilio_responsable').touched\">Este campo es requerido.</span>\r\n                         \r\n                        </p>\r\n                        <p class=\"control is-expanded has-icon has-icon-right\">\r\n                            <label class=\"label\">Teléfono</label>\r\n                          <input class=\"input\" type=\"text\" placeholder=\"Telefono Responsable\" formControlName=\"telefono_responsable\">\r\n                          <span class=\"icon is-small\" *ngIf=\"paciente.get('telefono_responsable').hasError('required') && paciente.get('telefono_responsable').touched\">\r\n                            <i class=\"fa fa-warning\"></i>\r\n                          </span>\r\n                          <span class=\"help is-danger\" *ngIf=\"paciente.get('telefono_responsable').hasError('required') && paciente.get('telefono_responsable').touched\">Este campo es requerido.</span>\r\n                        </p>\r\n                        \r\n                      </div>\r\n                     \r\n                    </div> \r\n\t              <br><br>\r\n\t              <div class=\"control is-grouped\">\r\n\t                <p class=\"control\">\r\n\t                  <button class=\"button is-primary\" type=\"submit\" [ngClass]=\"{'is-loading': cargando}\" [disabled]=\"paciente.invalid\">Guardar</button>\r\n\t                </p>\r\n\t                \r\n\t                <p class=\"control\">\r\n\t                  <a class=\"button is-white\" (click)=\"regresar()\" >Regresar</a>\r\n\t                </p>\r\n\t              </div>\r\n\t          </form>\r\n\t        </section>  \r\n            <!--  Fin Nuevo  -->\r\n        </div>\r\n    </div>\r\n</div>    \r\n\r\n<div class=\"notification is-danger\" style=\"position:fixed; left:1em;  bottom:1em;\" *ngIf=\"mensajeError.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeError.mostrar = false\"></button>        \r\n    <p><b>Error:</b> {{ mensajeError.texto }}<br></p>\r\n    <p style=\"text-align: center;\"><small >Este mensaje desaparecerá en {{ mensajeError.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n<div class=\"notification is-warning\" style=\"position:fixed; left:1em;  bottom:1em;\" *ngIf=\"mensajeAdvertencia.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeAdvertencia.mostrar = false\"></button>        \r\n    <p><span class=\"icon\" style=\"margin-right: 0.5em;\"><i class=\"fa fa-warning\"></i></span> <span>{{ mensajeAdvertencia.texto }}</span></p>\r\n    \r\n    <br>\r\n    <p style=\"text-align: center;\"><small >Este mensaje desaparecerá en {{ mensajeAdvertencia.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n<div class=\"notification is-success\" style=\"position:fixed; left:1em;  bottom:1em; width: auto\" *ngIf=\"mensajeExito.mostrar\">       \r\n    <button class=\"delete\" (click)=\"mensajeExito.mostrar = false\"></button>\r\n    <p><span class=\"icon\" style=\"margin-right: 0.5em;\"><i class=\"fa fa-check-circle\"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style=\"text-align: center;\"><small >Este mensaje desaparecerá en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>    "

/***/ }),

/***/ "../../../../../src/app/admision/paciente/editar/editar.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__auth_service__ = __webpack_require__("../../../../../src/app/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__mensaje__ = __webpack_require__("../../../../../src/app/mensaje.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__paciente_service__ = __webpack_require__("../../../../../src/app/admision/paciente/paciente.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EditarComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var EditarComponent = (function () {
    function EditarComponent(router, title, authService, route, location, pacienteService, fb) {
        this.router = router;
        this.title = title;
        this.authService = authService;
        this.route = route;
        this.location = location;
        this.pacienteService = pacienteService;
        this.fb = fb;
        this.cargando = false;
        this.cargandoMunicipios = false;
        this.cargandoLocalidades = false;
        this.verFormResponsable = false;
        // # SECCION: Esta sección es para mostrar mensajes
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_6__mensaje__["a" /* Mensaje */]();
        this.mensajeAdvertencia = new __WEBPACK_IMPORTED_MODULE_6__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_6__mensaje__["a" /* Mensaje */]();
        this.Municipios = [];
        this.Localidades = [];
    }
    EditarComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.title.setTitle("Editar Paciente / Admisión");
        this.paciente = this.fb.group({
            nombre: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            fecha_nacimiento: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            hora_nacimiento: ['', []],
            domicilio: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            colonia: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            telefono: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            no_expediente: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            no_afiliacion: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            municipio_id: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            localidad_id: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            sexo: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            responsableconocido: ['1', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            nombre_responsable: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            parentesco: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            domicilio_responsable: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            telefono_responsable: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
        });
        this.route.params.subscribe(function (params) {
            _this.id = params['id']; // Se puede agregar un simbolo + antes de la variable params para volverlo number
            //this.cargarDatos();
        });
        console.log(this.id);
        this.cargarDatos();
    };
    EditarComponent.prototype.cargarMunicipios = function () {
        var _this = this;
        this.cargandoMunicipios = true;
        this.pacienteService.listaMunicipios().subscribe(function (municipio) {
            _this.Municipios = municipio;
            _this.cargandoMunicipios = false;
            console.log("Municipios cargados");
        }, function (error) {
            _this.cargandoMunicipios = false;
        });
    };
    EditarComponent.prototype.cargarLocalidades = function (value) {
        var _this = this;
        this.cargandoLocalidades = true;
        this.pacienteService.listaLocalidades(value).subscribe(function (localidad) {
            _this.Localidades = localidad;
            _this.cargandoLocalidades = false;
            console.log("Localidades cargados");
        }, function (error) {
            _this.cargandoLocalidades = false;
        });
    };
    EditarComponent.prototype.cargarDatos = function () {
        var _this = this;
        this.cargando = true;
        console.log("Cargando usuario.");
        this.pacienteService.ver(this.id).subscribe(function (paciente) {
            _this.cargando = false;
            _this.datosCargados = true;
            if (paciente['responsable']) {
                _this.paciente.patchValue({ nombre_responsable: paciente['responsable'].nombre,
                    parentesco: paciente['responsable'].parentesco,
                    domicilio_responsable: paciente['responsable'].domicilio,
                    telefono_responsable: paciente['responsable'].telefono });
            }
            else {
                _this.verFormResponsable = true;
                _this.paciente.patchValue({ responsableconocido: 2,
                    nombre_responsable: 1,
                    parentesco: "desconocido",
                    domicilio_responsable: "conocido",
                    telefono_responsable: "conocido"
                });
            }
            _this.paciente.patchValue(paciente);
            _this.cargarMunicipios();
            _this.cargarLocalidades(paciente['municipio_id']);
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_6__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_6__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError.mostrar;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    EditarComponent.prototype.regresar = function () {
        this.location.back();
    };
    EditarComponent.prototype.responsable = function () {
        this.verFormResponsable = !this.verFormResponsable;
        if (this.verFormResponsable) {
            this.paciente.patchValue({
                nombre_responsable: 1,
                parentesco: "desconocido",
                domicilio_responsable: "conocido",
                telefono_responsable: "conocido",
            });
        }
        else {
            this.paciente.patchValue({
                nombre_responsable: "",
                parentesco: "",
                domicilio_responsable: "",
                telefono_responsable: "",
            });
        }
    };
    EditarComponent.prototype.enviar = function () {
        var _this = this;
        this.cargando = true;
        this.pacienteService.editar(this.id, this.paciente.value).subscribe(function (paciente) {
            _this.cargando = false;
            console.log("Paciente editado.");
            _this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_6__mensaje__["a" /* Mensaje */](true);
            _this.mensajeExito.texto = "Se han guardado los cambios.";
            _this.mensajeExito.mostrar = true;
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_6__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError.texto = "No especificado.";
            _this.mensajeError.mostrar = true;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
                // Problema de validación
                if (error.status == 409) {
                    _this.mensajeError.texto = "Por favor verfique los campos marcados en rojo.";
                }
            }
            catch (e) {
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    return EditarComponent;
}());
EditarComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-editar',
        template: __webpack_require__("../../../../../src/app/admision/paciente/editar/editar.component.html"),
        styles: [__webpack_require__("../../../../../src/app/admision/paciente/editar/editar.component.css")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* Router */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_4__angular_platform_browser__["b" /* Title */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__angular_platform_browser__["b" /* Title */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_5__auth_service__["a" /* AuthService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_5__auth_service__["a" /* AuthService */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* ActivatedRoute */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* ActivatedRoute */]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_1__angular_common__["Location"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_common__["Location"]) === "function" && _e || Object, typeof (_f = typeof __WEBPACK_IMPORTED_MODULE_7__paciente_service__["a" /* PacienteService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_7__paciente_service__["a" /* PacienteService */]) === "function" && _f || Object, typeof (_g = typeof __WEBPACK_IMPORTED_MODULE_3__angular_forms__["FormBuilder"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__angular_forms__["FormBuilder"]) === "function" && _g || Object])
], EditarComponent);

var _a, _b, _c, _d, _e, _f, _g;
//# sourceMappingURL=C:/wamp/www/x3-C/src/editar.component.js.map

/***/ }),

/***/ "../../../../../src/app/admision/paciente/historial/historial.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/admision/paciente/historial/historial.component.html":
/***/ (function(module, exports) {

module.exports = "<admision-menu></admision-menu>\r\n<div style=\"height:50px;\"></div>\r\n<div class=\"contenedor columns \" style=\"height:100%; \">\r\n    <div class=\"column is-one-quarter is-hidden-mobile\">\r\n        <admision-menu-lateral></admision-menu-lateral>\r\n    </div>\r\n    <div class=\"column\" style=\"padding:2em;\">\r\n        <div style=\"background: #FFF; border-radius: 1em; overflow: hidden;\">\r\n            <section class=\"hero is-primary\" >\r\n                \r\n                <div class=\"hero-body\" style=\"position:relative;\">\r\n                    <a class=\"button  is-primary\" *ngIf=\"!busquedaActivada\" style=\"position:absolute; top:1em; right:1em;\" (click)=\"listar(1)\"><span class=\"icon \"><i class=\"fa fa-refresh\"></i></span></a>\r\n                    <div class=\"container is-fluid\">\r\n                        \r\n                        <h1 class=\"title\">\r\n                            <span class=\"icon is-medium\"><i class=\"fa fa-user\"></i></span> Historial del Paciente\r\n                        </h1>\r\n                        <div class=\"control is-grouped\">\r\n                        <p class=\"control\">\r\n                            <a class=\"button is-medium is-primary is-inverted \"  (click)=\"regresar()\">\r\n                            <span>Regresar</span>\r\n                            </a>\r\n                        </p>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <br>\r\n            <section class=\"section\" style=\"background-color: #3273dc;\">\r\n                    <div class=\"container\">\r\n                      <div class=\"heading\">\r\n                        <h1 class=\"title\" style=\"color: #FFF\">Datos del Paciente</h1>\r\n                        <h2 class=\"subtitle\" style=\"color: #FFF\">\r\n                          ID: {{ id_paciente }}<BR>\r\n                          NOMBRE: {{ nombre_paciente }} <BR>\r\n                          LOCALIDAD: {{ localidad_paciente }}<BR>\r\n\r\n\r\n                        </h2>\r\n                      </div>\r\n                    </div>\r\n                  </section>\r\n            \r\n            <table class=\"table\" *ngIf=\"!cargando\">\r\n                <thead>\r\n                    <tr>\r\n                    <th></th>\r\n                    <th><abbr title=\"Paciente ID\">ID</abbr></th>\r\n                    <th>Fecha Ingreso</th>\r\n                    <th>Area Ingreso</th>\r\n                    <th>Fecha Egreso</th>\r\n                    <th>Motivo Egreso</th>\r\n                    <th>Unidad</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody  >\r\n                    <tr *ngFor=\"let item of pacientes; let i=index\">\r\n                        <th><img style=\"min-width: 1.5em; width:2em;\" src=\"assets/{{ item.avatar || 'avatar-unknow' }}.svg\" alt=\"avatar\"></th>\r\n                        <th style=\"vertical-align: middle;\">{{ item.id }}</th>\r\n                        <th style=\"vertical-align: middle;\">{{ item.fecha_hora_ingreso }}</th>\r\n                        <th style=\"vertical-align: middle;\">{{ item['estado_triage']['descripcion'] }}</th>\r\n                        <td style=\"vertical-align: middle;\" *ngIf=\"item.fecha_hora_egreso\">{{item.fecha_hora_egreso }}</td>\r\n                        <th style=\"vertical-align: middle;\" *ngIf=\"!item.fecha_hora_egreso\">--</th>\r\n\r\n                        <td style=\"vertical-align: middle;\" *ngIf=\"item['motivo_egreso']\">{{item['motivo_egreso']['descripcion'] }}</td>\r\n                        <th style=\"vertical-align: middle;\" *ngIf=\"!item['motivo_egreso']\">--</th>\r\n\r\n                        <td style=\"vertical-align: middle;\" *ngIf=\"item['unidad']\">{{item['unidad']['nombre'] }}</td>\r\n                        <th style=\"vertical-align: middle;\" *ngIf=\"!item['unidad']\">--</th>\r\n                        \r\n                        \r\n                        \r\n                    </tr>\r\n                    <tr *ngIf=\"pacientes.length == 0\">\r\n                        <td colspan=\"5\" style=\"vertical-align: middle; color:#888;\">Esta lista está vacía.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n               \r\n            </table>\r\n            \r\n            \r\n        </div>\r\n    </div>        \r\n   \r\n</div>\r\n\r\n"

/***/ }),

/***/ "../../../../../src/app/admision/paciente/historial/historial.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_of__ = __webpack_require__("../../../../rxjs/add/observable/of.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_observable_throw__ = __webpack_require__("../../../../rxjs/add/observable/throw.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_observable_throw___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_rxjs_add_observable_throw__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_debounceTime__ = __webpack_require__("../../../../rxjs/add/operator/debounceTime.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_debounceTime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_debounceTime__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_distinctUntilChanged__ = __webpack_require__("../../../../rxjs/add/operator/distinctUntilChanged.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_distinctUntilChanged___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_distinctUntilChanged__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_map__ = __webpack_require__("../../../../rxjs/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_map__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_switchMap__ = __webpack_require__("../../../../rxjs/add/operator/switchMap.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_switchMap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_switchMap__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_rxjs_add_operator_catch__ = __webpack_require__("../../../../rxjs/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_rxjs_add_operator_catch___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_rxjs_add_operator_catch__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__mensaje__ = __webpack_require__("../../../../../src/app/mensaje.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__paciente_service__ = __webpack_require__("../../../../../src/app/admision/paciente/paciente.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return HistorialComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};















var HistorialComponent = (function () {
    function HistorialComponent(title, pacienteService, router, route, fb, location) {
        this.title = title;
        this.pacienteService = pacienteService;
        this.router = router;
        this.route = route;
        this.fb = fb;
        this.location = location;
        this.cargando = false;
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_12__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_12__mensaje__["a" /* Mensaje */]();
        // # FIN SECCION
        // # SECCION: Lista de pacinetes
        this.pacientes = [];
        this.paginaActual = 1;
        this.resultadosPorPagina = 25;
        this.total = 0;
        this.paginasTotales = 0;
        this.indicePaginas = [];
    }
    HistorialComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.title.setTitle("Historial Paciente / Admisión");
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_12__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_12__mensaje__["a" /* Mensaje */]();
        var self = this;
        this.route.params.subscribe(function (params) {
            _this.id = params['id']; // Se puede agregar un simbolo + antes de la variable params para volverlo number
            //this.cargarDatos();
        });
        this.listar(1);
    };
    HistorialComponent.prototype.listar = function (pagina) {
        var _this = this;
        this.paginaActual = pagina;
        this.cargando = true;
        this.pacienteService.historial(this.id, null).subscribe(function (resultado) {
            _this.cargando = false;
            _this.pacientes = resultado['ingreso'];
            console.log(resultado['id']);
            _this.id_paciente = resultado['id'];
            _this.nombre_paciente = resultado['nombre'];
            _this.localidad_paciente = resultado['localidad']['nombre'] + " ( " + resultado['localidad']['municipio']['nombre'] + " )";
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError.mostrar = true;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    HistorialComponent.prototype.regresar = function () {
        this.location.back();
    };
    return HistorialComponent;
}());
HistorialComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-historial',
        template: __webpack_require__("../../../../../src/app/admision/paciente/historial/historial.component.html"),
        styles: [__webpack_require__("../../../../../src/app/admision/paciente/historial/historial.component.css")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_13__paciente_service__["a" /* PacienteService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_13__paciente_service__["a" /* PacienteService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* Router */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* ActivatedRoute */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* ActivatedRoute */]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_4__angular_forms__["FormBuilder"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__angular_forms__["FormBuilder"]) === "function" && _e || Object, typeof (_f = typeof __WEBPACK_IMPORTED_MODULE_3__angular_common__["Location"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__angular_common__["Location"]) === "function" && _f || Object])
], HistorialComponent);

var _a, _b, _c, _d, _e, _f;
//# sourceMappingURL=C:/wamp/www/x3-C/src/historial.component.js.map

/***/ }),

/***/ "../../../../../src/app/admision/paciente/lista/lista.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/admision/paciente/lista/lista.component.html":
/***/ (function(module, exports) {

module.exports = "<admision-menu></admision-menu>\r\n<div style=\"height:50px;\"></div>\r\n<div class=\"contenedor columns \" style=\"height:100%; \">\r\n    <div class=\"column is-one-quarter is-hidden-mobile\">\r\n        <admision-menu-lateral></admision-menu-lateral>\r\n    </div>\r\n    <div class=\"column\" style=\"padding:2em;\">\r\n        <div style=\"background: #FFF; border-radius: 1em; overflow: hidden;\">\r\n            <section class=\"hero\" [ngClass] = \" {'is-dark': busquedaActivada, 'is-primary': !busquedaActivada } \" >\r\n                \r\n                <div class=\"hero-body\" style=\"position:relative;\">\r\n                    <a class=\"button  is-dark\" *ngIf=\"busquedaActivada\" style=\"position:absolute; top:1em; right:1em;\" (click)=\"busquedaActivada=false;searchBox.value='';resultadosBusqueda=[]\"><span class=\"icon \"><i class=\"fa fa-close\"></i></span></a>\r\n                    <a class=\"button  is-dark\" *ngIf=\"busquedaActivada\" style=\"position:absolute; top:1em; right:3.5em;\" (click)=\"listarBusqueda(searchBox.value,1)\"><span class=\"icon \"><i class=\"fa fa-refresh\"></i></span></a>\r\n                    <a class=\"button  is-primary\" *ngIf=\"!busquedaActivada\" style=\"position:absolute; top:1em; right:1em;\" (click)=\"listar(1)\"><span class=\"icon \"><i class=\"fa fa-refresh\"></i></span></a>\r\n                    <div class=\"container is-fluid\">\r\n                        \r\n                        <h1 class=\"title\" *ngIf=\"!busquedaActivada\">\r\n                            <span class=\"icon is-medium\"><i class=\"fa fa-user\"></i></span> Lista de Pacientes {{ Unidad }}\r\n                        </h1>\r\n                        <h1 class=\"title\" *ngIf=\"busquedaActivada\">\r\n                            <span class=\"icon is-medium\"><i class=\"fa fa-search\"></i></span> Búsqueda \r\n                        </h1>\r\n                        <div class=\"control is-grouped\">\r\n                        <p class=\"control is-expanded\">\r\n                            <input class=\"input is-medium\" type=\"text\" placeholder=\"Buscar\" #searchBox id=\"search-box\" (keyup)=\"buscar(searchBox.value)\">\r\n                        </p>\r\n                        <p class=\"control\">\r\n                            <a class=\"button is-medium is-primary is-inverted \" routerLink=\"/paciente/nuevo\">\r\n                            <span class=\"icon\"><i class=\"fa fa-plus\"></i></span><span>Nuevo</span>\r\n                            </a>\r\n                        </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class=\"is-fullwidth has-text-centered\" *ngIf=\"cargando\">\r\n                <br>\r\n                <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n        \r\n            <table class=\"table\" *ngIf=\"!cargando\">\r\n                <thead>\r\n                    <tr>\r\n                    <th></th>\r\n                    <th><abbr title=\"Paciente ID\">ID</abbr></th>\r\n                    <th>Nombre</th>\r\n                    <th>Fecha Nacimiento</th>\r\n                    <th>Localidad (Municipio)</th>\r\n                    <th style=\"text-align:center;\">Opciones</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody  *ngIf=\"!busquedaActivada\">\r\n                    <tr *ngFor=\"let item of pacientes; let i=index\">\r\n                        <th><a routerLink=\"/paciente/editar/{{item.id}}\"><img style=\"min-width: 1.5em; width:2em;\" src=\"assets/{{ item.avatar || 'avatar-unknow' }}.svg\" alt=\"avatar\"></a></th>\r\n                        <th style=\"vertical-align: middle;\"><a routerLink=\"/paciente/editar/{{item.id}}\">{{ item.id }}</a></th>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/paciente/editar/{{item.id}}\">{{ item.nombre }}</a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/paciente/editar/{{item.id}}\">{{ item.fecha_nacimiento }}</a></td>\r\n                        <td style=\"vertical-align: middle;\" *ngIf=\"item.localidad\"><a routerLink=\"/paciente/editar/{{item.id}}\">{{item.localidad.nombre }} ( {{item.localidad.municipio.nombre }} ) </a></td>\r\n                        <td style=\"vertical-align: middle;\" *ngIf=\"!item.localidad\"><a routerLink=\"/paciente/editar/{{item.id}}\">DESCONOCIDO</a></td>\r\n                        \r\n                        <td style=\"vertical-align: middle;\" class=\"has-text-centered\">\r\n                            <span class=\"icon \" *ngIf=\"item.cargando\">\r\n                                <i class=\"fa fa-circle-o-notch fa-spin\"></i>\r\n                            </span>\r\n                            <a *ngIf=\"!item.cargando\" class=\"is-primary\" routerLink=\"/paciente/editar/{{item.id}}\">\r\n                                <span class=\"icon\"><i class=\"fa fa-edit\"></i></span>\r\n                            </a>\r\n\r\n                            <span class=\"icon \" *ngIf=\"item.cargando\">\r\n                                <i class=\"fa fa-circle-o-notch fa-spin\"></i>\r\n                            </span>\r\n                            <a *ngIf=\"!item.cargando\" class=\"is-primary\" routerLink=\"/paciente/historial/{{item.id}}\">\r\n                                <span class=\"icon\"><i class=\"fa fa-history\"></i></span>\r\n                            </a>\r\n                        </td>\r\n                        \r\n                    </tr>\r\n                    <tr *ngIf=\"pacientes.length == 0\">\r\n                        <td colspan=\"5\" style=\"vertical-align: middle; color:#888;\">Esta lista está vacía.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n                <tbody *ngIf=\"busquedaActivada\">\r\n                    <tr *ngFor=\"let item of resultadosBusqueda; let i=index\">\r\n                    <th><a routerLink=\"/paciente/editar/{{item.id}}\"><img style=\"min-width: 1.5em; width:2em;\" src=\"assets/{{ item.avatar || 'avatar-unknow' }}.svg\" alt=\"avatar\"></a></th>\r\n                    <th style=\"vertical-align: middle;\"><a routerLink=\"/paciente/editar/{{item.id}}\">{{ item.id }}</a></th>\r\n                    <td style=\"vertical-align: middle;\"><a routerLink=\"/paciente/editar/{{item.id}}\">{{ item.nombre }}</a></td>\r\n                    <td style=\"vertical-align: middle;\"><a routerLink=\"/paciente/editar/{{item.id}}\">{{ item.fecha_nacimiento }} </a></td>\r\n                    <td style=\"vertical-align: middle;\"><a routerLink=\"/paciente/editar/{{item.id}}\">{{ item.localidad.nombre }} ({{ item.localidad.municipio.nombre }})</a></td>\r\n                   <td style=\"vertical-align: middle;\" class=\"has-text-centered\">\r\n                        <span class=\"icon \" *ngIf=\"item.cargando\">\r\n                            <i class=\"fa fa-circle-o-notch fa-spin\"></i>\r\n                        </span>\r\n                        <a *ngIf=\"!item.cargando\" class=\"is-primary\" routerLink=\"/paciente/editar/{{item.id}}\">\r\n                            <span class=\"icon\"><i class=\"fa fa-edit\"></i></span>\r\n                        </a>\r\n\r\n                        <span class=\"icon \" *ngIf=\"item.cargando\">\r\n                            <i class=\"fa fa-circle-o-notch fa-spin\"></i>\r\n                        </span>\r\n                        <a *ngIf=\"!item.cargando\" class=\"is-primary\" routerLink=\"/paciente/historial/{{item.id}}\">\r\n                            <span class=\"icon\"><i class=\"fa fa-history\"></i></span>\r\n                        </a>    \r\n                        </td>\r\n                    \r\n                    </tr>\r\n\r\n                    <tr *ngIf=\"resultadosBusqueda.length == 0 && busquedaActivada\">\r\n                        <td colspan=\"5\" style=\"vertical-align: middle; color:#888;\">No se encontraron resultados.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            \r\n            <paginacion \r\n                [total]=\"total\" \r\n                [paginasTotales]=\"paginasTotales\" \r\n                [resultadosPorPagina]=\"resultadosPorPagina\" \r\n                [paginaActual]=\"paginaActual\" \r\n                [indicePaginas]=\"indicePaginas\"\r\n                (onSiguiente)=\"paginaSiguiente()\" \r\n                (onAnterior)=\"paginaAnterior()\" \r\n                (onListar)=\"listar($event)\" \r\n                *ngIf=\"total>0 && total > resultadosPorPagina && !busquedaActivada\"></paginacion>\r\n            <paginacion \r\n                [total]=\"totalBusqueda\" \r\n                [paginasTotales]=\"paginasTotalesBusqueda\" \r\n                [resultadosPorPagina]=\"resultadosPorPaginaBusqueda\" \r\n                [paginaActual]=\"paginaActualBusqueda\" \r\n                [indicePaginas]=\"indicePaginasBusqueda\"\r\n                (onSiguiente)=\"paginaSiguienteBusqueda(searchBox.value)\" \r\n                (onAnterior)=\"paginaAnteriorBusqueda(searchBox.value)\" \r\n                (onListar)=\"listarBusqueda(searchBox.value,$event)\" \r\n                *ngIf=\"totalBusqueda > 0 && totalBusqueda > resultadosPorPaginaBusqueda && busquedaActivada\"></paginacion>\r\n           \r\n           \r\n            \r\n        </div>\r\n    </div>        \r\n   \r\n</div>\r\n\r\n<div class=\"notification is-danger\" style=\"position:fixed; left:1em;  bottom:1em;\" *ngIf=\"mensajeError.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeError.mostrar = false\"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style=\"text-align:center\" ><a  class=\"button is-danger is-inverted\" (click)=\"ultimaPeticion(); mensajeError.mostrar = false\"> <span class=\"icon\"><i class=\"fa fa-refresh\"></i></span> <span>Volver a intentar</span></a></p>        \r\n</div>\r\n\r\n<div class=\"notification is-success\" style=\"position:fixed; left:1em;  bottom:1em; width: auto\" *ngIf=\"mensajeExito.mostrar\">       \r\n    <button class=\"delete\" (click)=\"mensajeExito.mostrar = false\"></button>\r\n    <p><span class=\"icon\" style=\"margin-right: 0.5em;\"><i class=\"fa fa-check-circle\"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style=\"text-align: center;\"><small >Este mensaje desaparecerá en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n"

/***/ }),

/***/ "../../../../../src/app/admision/paciente/lista/lista.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__ = __webpack_require__("../../../../rxjs/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__ = __webpack_require__("../../../../rxjs/Subject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_observable_of__ = __webpack_require__("../../../../rxjs/add/observable/of.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_observable_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_rxjs_add_observable_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw__ = __webpack_require__("../../../../rxjs/add/observable/throw.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_debounceTime__ = __webpack_require__("../../../../rxjs/add/operator/debounceTime.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_debounceTime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_debounceTime__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_distinctUntilChanged__ = __webpack_require__("../../../../rxjs/add/operator/distinctUntilChanged.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_distinctUntilChanged___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_distinctUntilChanged__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_map__ = __webpack_require__("../../../../rxjs/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_map__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_switchMap__ = __webpack_require__("../../../../rxjs/add/operator/switchMap.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_switchMap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_switchMap__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_catch__ = __webpack_require__("../../../../rxjs/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_catch___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_catch__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__mensaje__ = __webpack_require__("../../../../../src/app/mensaje.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__paciente_service__ = __webpack_require__("../../../../../src/app/admision/paciente/paciente.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ListaComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};













var ListaComponent = (function () {
    // # FIN SECCION
    function ListaComponent(title, pacienteService) {
        this.title = title;
        this.pacienteService = pacienteService;
        this.cargando = false;
        // # SECCION: Esta sección es para mostrar mensajes
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_11__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_11__mensaje__["a" /* Mensaje */]();
        // # FIN SECCION
        // # SECCION: Lista de pacinetes
        this.pacientes = [];
        this.paginaActual = 1;
        this.resultadosPorPagina = 25;
        this.total = 0;
        this.paginasTotales = 0;
        this.indicePaginas = [];
        // # FIN SECCION
        // # SECCION: Resultados de búsqueda
        this.ultimoTerminoBuscado = "";
        this.terminosBusqueda = new __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__["Subject"]();
        this.resultadosBusqueda = [];
        this.busquedaActivada = false;
        this.paginaActualBusqueda = 1;
        this.resultadosPorPaginaBusqueda = 25;
        this.totalBusqueda = 0;
        this.paginasTotalesBusqueda = 0;
        this.indicePaginasBusqueda = [];
    }
    ListaComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.title.setTitle("Pacientes / Admisión");
        this.listar(1);
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_11__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_11__mensaje__["a" /* Mensaje */]();
        var self = this;
        var busquedaSubject = this.terminosBusqueda
            .debounceTime(300) // Esperamos 300 ms pausando eventos
            .distinctUntilChanged() // Ignorar si la busqueda es la misma que la ultima
            .switchMap(function (term) {
            console.log("Cargando búsqueda." + term);
            _this.busquedaActivada = term != "" ? true : false;
            _this.ultimoTerminoBuscado = term;
            _this.paginaActualBusqueda = 1;
            _this.cargando = true;
            return term ? _this.pacienteService.buscar(term, _this.paginaActualBusqueda, _this.resultadosPorPaginaBusqueda) : __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__["Observable"].of({ data: [] });
        }).catch(function handleError(error) {
            self.cargando = false;
            self.mensajeError.mostrar = true;
            self.ultimaPeticion = function () { self.listarBusqueda(self.ultimoTerminoBuscado, self.paginaActualBusqueda); }; //OJO
            try {
                var e = error.json();
                if (error.status == 401) {
                    self.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    self.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    self.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
            // Devolvemos el subject porque si no se detiene el funcionamiento del stream 
            return busquedaSubject;
        });
        busquedaSubject.subscribe(function (resultado) {
            _this.cargando = false;
            _this.resultadosBusqueda = resultado.data;
            _this.totalBusqueda = resultado.total | 0;
            _this.paginasTotalesBusqueda = Math.ceil(_this.totalBusqueda / _this.resultadosPorPaginaBusqueda);
            _this.indicePaginasBusqueda = [];
            for (var i = 0; i < _this.paginasTotalesBusqueda; i++) {
                _this.indicePaginasBusqueda.push(i + 1);
            }
            console.log("Búsqueda cargada.");
        });
    };
    ListaComponent.prototype.buscar = function (term) {
        this.terminosBusqueda.next(term);
    };
    ListaComponent.prototype.listarBusqueda = function (term, pagina) {
        var _this = this;
        this.paginaActualBusqueda = pagina;
        console.log("Cargando búsqueda.");
        this.cargando = true;
        this.pacienteService.buscar(term, pagina, this.resultadosPorPaginaBusqueda).subscribe(function (resultado) {
            _this.cargando = false;
            _this.resultadosBusqueda = resultado.data;
            _this.totalBusqueda = resultado.total | 0;
            _this.paginasTotalesBusqueda = Math.ceil(_this.totalBusqueda / _this.resultadosPorPaginaBusqueda);
            _this.indicePaginasBusqueda = [];
            for (var i = 0; i < _this.paginasTotalesBusqueda; i++) {
                _this.indicePaginasBusqueda.push(i + 1);
            }
            console.log("------");
            console.log(resultado);
            console.log("Búsqueda cargada.");
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError.mostrar = true;
            _this.ultimaPeticion = function () { this.listarBusqueda(term, pagina); };
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    ListaComponent.prototype.listar = function (pagina) {
        var _this = this;
        this.paginaActual = pagina;
        this.cargando = true;
        this.pacienteService.lista(pagina, this.resultadosPorPagina).subscribe(function (resultado) {
            _this.cargando = false;
            _this.pacientes = resultado.data;
            _this.total = resultado.total | 0;
            _this.paginasTotales = Math.ceil(_this.total / _this.resultadosPorPagina);
            _this.indicePaginas = [];
            for (var i = 0; i < _this.paginasTotales; i++) {
                _this.indicePaginas.push(i + 1);
            }
            console.log("pacientes cargados.");
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError.mostrar = true;
            _this.ultimaPeticion = _this.listar;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    ListaComponent.prototype.paginaSiguiente = function () {
        this.listar(this.paginaActual + 1);
    };
    ListaComponent.prototype.paginaAnterior = function () {
        this.listar(this.paginaActual - 1);
    };
    ListaComponent.prototype.paginaSiguienteBusqueda = function (term) {
        this.listarBusqueda(term, this.paginaActualBusqueda + 1);
    };
    ListaComponent.prototype.paginaAnteriorBusqueda = function (term) {
        this.listarBusqueda(term, this.paginaActualBusqueda - 1);
    };
    return ListaComponent;
}());
ListaComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-lista',
        template: __webpack_require__("../../../../../src/app/admision/paciente/lista/lista.component.html"),
        styles: [__webpack_require__("../../../../../src/app/admision/paciente/lista/lista.component.css")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_12__paciente_service__["a" /* PacienteService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_12__paciente_service__["a" /* PacienteService */]) === "function" && _b || Object])
], ListaComponent);

var _a, _b;
//# sourceMappingURL=C:/wamp/www/x3-C/src/lista.component.js.map

/***/ }),

/***/ "../../../../../src/app/admision/paciente/nuevo/nuevo.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/admision/paciente/nuevo/nuevo.component.html":
/***/ (function(module, exports) {

module.exports = "<admision-menu></admision-menu>\r\n<div style=\"height:50px;\"></div>\r\n<div class=\"contenedor columns \" style=\"height:100%; \">\r\n    <div class=\"column is-one-quarter is-hidden-mobile\">\r\n        <admision-menu-lateral></admision-menu-lateral>\r\n    </div>\r\n    <div class=\"column\" style=\"padding:2em;\">\r\n        <div style=\"background: #FFF; border-radius: 1em; overflow: hidden;\">\r\n            <section class=\"hero\" [ngClass] = \" 'is-primary' \" >\r\n                \r\n                <div class=\"hero-body\" style=\"position:relative;\">\r\n                    <!--<a class=\"button  is-dark\" *ngIf=\"busquedaActivada\" style=\"position:absolute; top:1em; right:1em;\" (click)=\"busquedaActivada=false;searchBox.value='';resultadosBusqueda=[]\"><span class=\"icon \"><i class=\"fa fa-close\"></i></span></a>\r\n                    <a class=\"button  is-dark\" *ngIf=\"busquedaActivada\" style=\"position:absolute; top:1em; right:3.5em;\" (click)=\"listarBusqueda(searchBox.value,1)\"><span class=\"icon \"><i class=\"fa fa-refresh\"></i></span></a>\r\n                    <a class=\"button  is-primary\" *ngIf=\"!busquedaActivada\" style=\"position:absolute; top:1em; right:1em;\" (click)=\"listar(1)\"><span class=\"icon \"><i class=\"fa fa-refresh\"></i></span></a>-->\r\n                    <div class=\"container is-fluid\">\r\n                        \r\n                        <h1 class=\"title\">\r\n                            <span class=\"icon is-medium\"><i class=\"fa fa-user\"></i></span> Nuevo Paciente\r\n                        </h1>\r\n                        \r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class=\"is-fullwidth has-text-centered\" *ngIf=\"cargando\">\r\n                <br>\r\n                <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n            <!-- Form Nuevo -->\r\n            <section class=\"section\">\r\n\t            <form name=\"form\" novalidate [formGroup]=\"paciente\"  (ngSubmit)=\"enviar()\">     \r\n\t            \t<section class=\"section\" style=\"padding: 1rem 1.5rem; background-color: #EFEFEF\">\r\n                        <div class=\"container\">\r\n                          <div class=\"heading\">\r\n                            <h1 class=\"title\">Datos del Paciente</h1>\r\n                          </div>\r\n                        </div>\r\n                      </section>\r\n\t              <div class=\"control is-grouped\">\r\n\t                <p class=\"control is-expanded  has-icon has-icon-right\">\r\n\t                \t<label class=\"label\">Nombre</label>\r\n\t                  <input class=\"input\" autofocus type=\"text\"  placeholder=\"Nombre\" formControlName=\"nombre\">\r\n\t                  <span class=\"icon is-small\" *ngIf=\"paciente.get('nombre').hasError('required') && paciente.get('nombre').touched\">\r\n\t                    <i class=\"fa fa-warning\"></i>\r\n\t                  </span>\r\n\t                  <span class=\"help is-danger\" *ngIf=\"paciente.get('nombre').hasError('required') && paciente.get('nombre').touched\">Este campo es requerido.</span>\r\n\t                </p>\r\n\t                \r\n\t              </div>\r\n\t              <div class=\"control is-grouped\">\r\n\t                <p class=\"control is-expanded  has-icon has-icon-right\">\r\n\t                \t<label class=\"label\">Sexo</label>\r\n\t                \t<span class=\"select is-fullwidth\">\r\n\t\t                \t<select  formControlName=\"sexo\"  name=\"sexo\">\r\n\t\t                \t\t<option value=\"1\" selected=\"selected\">MASCULINO</option>\r\n\t\t                \t\t<option value=\"2\">FAMENINO</option>\r\n\t\t                \t</select>\r\n\r\n\t\t                </span>\t\r\n\t                 \t<span class=\"icon is-small\" *ngIf=\"paciente.get('sexo').hasError('required') && paciente.get('sexo').touched\">\r\n\t\t                     \t<i class=\"fa fa-warning\"></i>\r\n\t\t                    </span>\r\n\t\t                    <span class=\"help is-danger\" *ngIf=\"paciente.get('sexo').hasError('required') && paciente.get('sexo').touched\">Este campo es requerido.</span>\r\n\t                </p>\r\n\t                <p class=\"control is-expanded has-icon has-icon-right\">\r\n\t                \t<label class=\"label\">Teléfono</label>\r\n\t                  <input class=\"input\" type=\"text\" placeholder=\"Telefono\" formControlName=\"telefono\">\r\n\t                  <span class=\"icon is-small\" *ngIf=\"paciente.get('telefono').hasError('required') && paciente.get('telefono').touched\">\r\n\t                    <i class=\"fa fa-warning\"></i>\r\n\t                  </span>\r\n\t                  <span class=\"help is-danger\" *ngIf=\"paciente.get('telefono').hasError('required') && paciente.get('telefono').touched\">Este campo es requerido.</span>\r\n\t                </p>\r\n\t                <p class=\"control is-expanded has-icon has-icon-right\">\r\n\t                <label class=\"label\">Fecha Nacimiento</label>\r\n\t                  <input class=\"input\" type=\"text\" placeholder=\"aaaa-mm-dd\" formControlName=\"fecha_nacimiento\">\r\n\t                  <span class=\"icon is-small\" *ngIf=\"paciente.get('fecha_nacimiento').hasError('required') && paciente.get('fecha_nacimiento').touched\">\r\n\t                    <i class=\"fa fa-warning\"></i>\r\n\t                  </span>\r\n\t                  <span class=\"help is-danger\" *ngIf=\"paciente.get('fecha_nacimiento').hasError('required') && paciente.get('fecha_nacimiento').touched\">Este campo es requerido.</span>\r\n\t                </p>\r\n\t                <p class=\"control is-expanded has-icon has-icon-right\">\r\n\t                \t<label class=\"label\">Hora Nacimiento (si aplica)</label>\r\n\t                  <input class=\"input\" type=\"text\" placeholder=\"HH:mm\" formControlName=\"hora_nacimiento\">\r\n\t                  \r\n\t                </p>\r\n\t              </div>\r\n\t              <div class=\"control is-grouped\">\r\n\t              \t\r\n\t                <p class=\"control is-expanded  has-icon has-icon-right\">\r\n\t                \t<label class=\"label\">Domicilio</label>\r\n\t                \t<input class=\"input\" type=\"text\" placeholder=\"Domicilio\" formControlName=\"domicilio\">\r\n\t                \t<span class=\"icon is-small\" *ngIf=\"paciente.get('domicilio').hasError('required') && paciente.get('domicilio').touched\">\r\n\t\t                    <i class=\"fa fa-warning\"></i>\r\n\t\t                </span>\r\n\t\t                <span class=\"help is-danger\" *ngIf=\"paciente.get('domicilio').hasError('required') && paciente.get('domicilio').touched\">Este campo es requerido.</span>\r\n\t                 \r\n\t                </p>\r\n\t                <p class=\"control is-expanded has-icon has-icon-right\">\r\n\t                <label class=\"label\">Colonia</label>\r\n\t                  <input class=\"input\" type=\"text\" placeholder=\"Colonia\" formControlName=\"colonia\">\r\n\t                  <span class=\"icon is-small\" *ngIf=\"paciente.get('colonia').hasError('required') && paciente.get('colonia').touched\">\r\n\t                    <i class=\"fa fa-warning\"></i>\r\n\t                  </span>\r\n\t                  <span class=\"help is-danger\" *ngIf=\"paciente.get('colonia').hasError('required') && paciente.get('colonia').touched\">Este campo es requerido.</span>\r\n\t                </p>\r\n\t             </div>\r\n\t             <div class=\"control is-grouped\">  \r\n\t             \t\r\n\t                <p class=\"control is-expanded has-icon has-icon-right\">\r\n\t                  <label class=\"label\">Municipio</label> \r\n\t                  <span class=\"select is-fullwidth\">\r\n\t\t                \t<select  formControlName=\"municipio_id\" name=\"municipio_id\" #municipio (change)=\"cargarLocalidades(municipio.value)\">\r\n\t\t                \t\t<option *ngFor=\"let item of Municipios\" value=\"{{item.id}}\">{{ item.nombre }} </option>\r\n\t\t                \t</select>\r\n\t\t                \t\r\n\t\t                </span>\t\r\n\t\t                <span class=\"icon is-small\" *ngIf=\"paciente.get('municipio_id').hasError('required') && paciente.get('municipio_id').touched\">\r\n\t                     \t<i class=\"fa fa-warning\"></i>\r\n\t                    </span>\r\n\t                    <span class=\"help is-danger\" *ngIf=\"paciente.get('municipio_id').hasError('required') && paciente.get('municipio_id').touched\">Este campo es requerido.</span>\r\n\t                </p>\r\n\t                <p class=\"control is-expanded has-icon has-icon-right\">\r\n\t                  <label class=\"label\">Localidad</label>\t\r\n\t                  <span class=\"select is-fullwidth\">\r\n\t\t                \t<select formControlName=\"localidad_id\" name=\"localidad_id\">\r\n\t\t                \t\t<option *ngFor=\"let item of Localidades\" value=\"{{item.id}}\">{{ item.nombre }} </option>\r\n\t\t                \t</select>\r\n\t\t                \t\r\n\t\t                </span>\t\r\n\t\t                <span class=\"icon is-small\" *ngIf=\"paciente.get('localidad_id').hasError('required') && paciente.get('localidad_id').touched\">\r\n\t\t                     \t<i class=\"fa fa-warning\"></i>\r\n\t\t                    </span>\r\n\t\t                <span class=\"help is-danger\" *ngIf=\"paciente.get('localidad_id').hasError('required') && paciente.get('localidad_id').touched\">Este campo es requerido.</span>\r\n\t                </p>\r\n\t                <p class=\"control is-expanded has-icon has-icon-right\">\r\n\t                  \t<label class=\"label\">No Expediente</label>\r\n\t\t                <input class=\"input\" type=\"text\" placeholder=\"No Expediente\" formControlName=\"no_expediente\">\r\n\t                    <span class=\"icon is-small\" *ngIf=\"paciente.get('no_expediente').hasError('required') && paciente.get('no_expediente').touched\">\r\n\t                     \t<i class=\"fa fa-warning\"></i>\r\n\t                    </span>\r\n\t                    <span class=\"help is-danger\" *ngIf=\"paciente.get('no_expediente').hasError('required') && paciente.get('no_expediente').touched\">Este campo es requerido.</span>\r\n\t\t                \r\n\t                </p>\r\n\t                <p class=\"control is-expanded has-icon has-icon-right\">\r\n\t                  \t<label class=\"label\">No Afililación</label>\r\n\t\t                <input class=\"input\" type=\"text\" placeholder=\"No Afiliación\" formControlName=\"no_afiliacion\">\r\n\t                    <span class=\"icon is-small\" *ngIf=\"paciente.get('no_afiliacion').hasError('required') && paciente.get('no_afiliacion').touched\">\r\n\t                     \t<i class=\"fa fa-warning\"></i>\r\n\t                    </span>\r\n\t                    <span class=\"help is-danger\" *ngIf=\"paciente.get('no_afiliacion').hasError('required') && paciente.get('no_afiliacion').touched\">Este campo es requerido.</span>\r\n\t\t                \r\n\t                </p>\r\n\t              </div>\r\n\t              <div class=\"control is-grouped\">\r\n                    <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                        <label class=\"label\">Resposable Conocido</label>\r\n                        <span class=\"select is-fullwidth\">\r\n                            <select formControlName=\"responsableconocido\" name=\"responsableconocido\" (change)=\"responsable()\">\r\n                                <option value=\"1\">SI</option>\r\n                                <option value=\"2\">NO</option>\r\n                            </select>\r\n\r\n                        </span> \r\n                    </p>\r\n                  </div>\r\n                  <div [hidden]=\"verFormResponsable\">\r\n                      <section class=\"section\" style=\"padding: 1rem 1.5rem; background-color: #EFEFEF\">\r\n                            <div class=\"container\">\r\n                              <div class=\"heading\">\r\n                                <h1 class=\"title\">Datos del Responsable</h1>\r\n                              </div>\r\n                            </div>\r\n                        </section>  \r\n                      <div class=\"control is-grouped\">\r\n                        <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                            <label class=\"label\">Nombre</label>\r\n                          <input class=\"input\" autofocus type=\"text\"  placeholder=\"Nombre Responsable\" formControlName=\"nombre_responsable\">\r\n                          <span class=\"icon is-small\" *ngIf=\"paciente.get('nombre_responsable').hasError('required') && paciente.get('nombre_responsable').touched\">\r\n                            <i class=\"fa fa-warning\"></i>\r\n                          </span>\r\n                          <span class=\"help is-danger\" *ngIf=\"paciente.get('nombre_responsable').hasError('required') && paciente.get('nombre_responsable').touched\">Este campo es requerido.</span>\r\n                        </p>\r\n                        \r\n                      </div>\r\n                      <div class=\"control is-grouped\">\r\n                        <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                            <label class=\"label\">Patentesco</label>\r\n                               <input class=\"input\" autofocus type=\"text\"  placeholder=\"Parentesco\" formControlName=\"parentesco\">\r\n                              <span class=\"icon is-small\" *ngIf=\"paciente.get('parentesco').hasError('required') && paciente.get('parentesco').touched\">\r\n                                <i class=\"fa fa-warning\"></i>\r\n                              </span>\r\n                              <span class=\"help is-danger\" *ngIf=\"paciente.get('parentesco').hasError('required') && paciente.get('parentesco').touched\">Este campo es requerido.</span>\r\n\r\n                        </p>\r\n                         <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                            <label class=\"label\">Domicilio</label>\r\n                            <input class=\"input\" type=\"text\" placeholder=\"Domicilio Responsable\" formControlName=\"domicilio_responsable\">\r\n                            <span class=\"icon is-small\" *ngIf=\"paciente.get('domicilio_responsable').hasError('required') && paciente.get('domicilio_responsable').touched\">\r\n                                <i class=\"fa fa-warning\"></i>\r\n                            </span>\r\n                            <span class=\"help is-danger\" *ngIf=\"paciente.get('domicilio_responsable').hasError('required') && paciente.get('domicilio_responsable').touched\">Este campo es requerido.</span>\r\n                         \r\n                        </p>\r\n                        <p class=\"control is-expanded has-icon has-icon-right\">\r\n                            <label class=\"label\">Teléfono</label>\r\n                          <input class=\"input\" type=\"text\" placeholder=\"Telefono Responsable\" formControlName=\"telefono_responsable\">\r\n                          <span class=\"icon is-small\" *ngIf=\"paciente.get('telefono_responsable').hasError('required') && paciente.get('telefono_responsable').touched\">\r\n                            <i class=\"fa fa-warning\"></i>\r\n                          </span>\r\n                          <span class=\"help is-danger\" *ngIf=\"paciente.get('telefono_responsable').hasError('required') && paciente.get('telefono_responsable').touched\">Este campo es requerido.</span>\r\n                        </p>\r\n                        \r\n                      </div>\r\n                     \r\n                    </div>    \r\n\t              <br><br>\r\n\t              <div class=\"control is-grouped\">\r\n\t                <p class=\"control\">\r\n\t                  <button class=\"button is-primary\" type=\"submit\" [ngClass]=\"{'is-loading': cargando}\" [disabled]=\"paciente.invalid\">Guardar</button>\r\n\t                </p>\r\n\t                \r\n\t                <p class=\"control\">\r\n\t                  <a class=\"button is-white\" (click)=\"regresar()\" >Regresar</a>\r\n\t                </p>\r\n\t              </div>\r\n\t          </form>\r\n\t        </section>  \r\n            <!--  Fin Nuevo  -->\r\n        </div>\r\n    </div>\r\n</div>        \r\n\r\n<div class=\"notification is-danger\" style=\"position:fixed; left:1em;  bottom:1em;\" *ngIf=\"mensajeError.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeError.mostrar = false\"></button>        \r\n    <p><b>Error:</b> {{ mensajeError.texto }}<br></p>\r\n    <p style=\"text-align: center;\"><small >Este mensaje desaparecerá en {{ mensajeError.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n<div class=\"notification is-warning\" style=\"position:fixed; left:1em;  bottom:1em;\" *ngIf=\"mensajeAdvertencia.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeAdvertencia.mostrar = false\"></button>        \r\n    <p><span class=\"icon\" style=\"margin-right: 0.5em;\"><i class=\"fa fa-warning\"></i></span> <span>{{ mensajeAdvertencia.texto }}</span></p>\r\n    \r\n    <br>\r\n    <p style=\"text-align: center;\"><small >Este mensaje desaparecerá en {{ mensajeAdvertencia.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n<div class=\"notification is-success\" style=\"position:fixed; left:1em;  bottom:1em; width: auto\" *ngIf=\"mensajeExito.mostrar\">       \r\n    <button class=\"delete\" (click)=\"mensajeExito.mostrar = false\"></button>\r\n    <p><span class=\"icon\" style=\"margin-right: 0.5em;\"><i class=\"fa fa-check-circle\"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style=\"text-align: center;\"><small >Este mensaje desaparecerá en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div> "

/***/ }),

/***/ "../../../../../src/app/admision/paciente/nuevo/nuevo.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__auth_service__ = __webpack_require__("../../../../../src/app/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__mensaje__ = __webpack_require__("../../../../../src/app/mensaje.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__paciente_service__ = __webpack_require__("../../../../../src/app/admision/paciente/paciente.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NuevoComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var NuevoComponent = (function () {
    function NuevoComponent(router, title, authService, route, location, pacienteService, fb) {
        this.router = router;
        this.title = title;
        this.authService = authService;
        this.route = route;
        this.location = location;
        this.pacienteService = pacienteService;
        this.fb = fb;
        this.cargando = false;
        this.cargandoMunicipios = false;
        this.cargandoLocalidades = false;
        this.verFormResponsable = false;
        //roles: Rol[] = [];
        this.Municipios = [];
        this.Localidades = [];
        // # SECCION: Esta sección es para mostrar mensajes
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_6__mensaje__["a" /* Mensaje */]();
        this.mensajeAdvertencia = new __WEBPACK_IMPORTED_MODULE_6__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_6__mensaje__["a" /* Mensaje */]();
    }
    NuevoComponent.prototype.ngOnInit = function () {
        this.title.setTitle("Nuevo Paciente / Admisión");
        this.paciente = this.fb.group({
            nombre: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            fecha_nacimiento: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            hora_nacimiento: ['', []],
            domicilio: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            colonia: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            telefono: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            no_expediente: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            no_afiliacion: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            municipio_id: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            localidad_id: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            sexo: ['1', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            responsableconocido: ['1', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            nombre_responsable: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            parentesco: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            domicilio_responsable: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            telefono_responsable: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
        });
        this.cargarMunicipios();
    };
    NuevoComponent.prototype.enviar = function () {
        var _this = this;
        this.cargando = true;
        this.pacienteService.crear(this.paciente.value).subscribe(function (paciente) {
            _this.cargando = false;
            console.log("Usuario creado.");
            _this.location.back();
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_6__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError.texto = "No especificado.";
            _this.mensajeError.mostrar = true;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
                // Problema de validación
                if (error.status == 409) {
                    _this.mensajeError.texto = "Por favor verfique los campos marcados en rojo.";
                    for (var input in e.error) {
                        // Iteramos todos los errores
                        for (var i in e.error[input]) {
                            /*if(input == 'id' && e.error[input][i] == 'unique'){
                              this.usuarioRepetido = true;
                            }
                            if(input == 'id' && e.error[input][i] == 'email'){
                              this.usuarioInvalido = true;
                            }*/
                        }
                    }
                }
            }
            catch (e) {
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    NuevoComponent.prototype.cargarMunicipios = function () {
        var _this = this;
        this.cargandoMunicipios = true;
        this.pacienteService.listaMunicipios().subscribe(function (municipio) {
            _this.Municipios = municipio;
            _this.cargandoMunicipios = false;
            console.log("Municipios cargados");
        }, function (error) {
            _this.cargandoMunicipios = false;
        });
    };
    NuevoComponent.prototype.cargarLocalidades = function (value) {
        var _this = this;
        this.cargandoLocalidades = true;
        this.pacienteService.listaLocalidades(value).subscribe(function (localidad) {
            _this.Localidades = localidad;
            _this.cargandoLocalidades = false;
            console.log("Localidades cargados");
        }, function (error) {
            _this.cargandoLocalidades = false;
        });
    };
    NuevoComponent.prototype.regresar = function () {
        this.location.back();
    };
    NuevoComponent.prototype.responsable = function () {
        this.verFormResponsable = !this.verFormResponsable;
        if (this.verFormResponsable) {
            this.paciente.patchValue({
                nombre_responsable: 1,
                parentesco: "1987-01-01",
                domicilio_responsable: "conocido",
                telefono_responsable: "conocido",
            });
        }
        else {
            this.paciente.patchValue({
                nombre_responsable: "",
                parentesco: "",
                domicilio_responsable: "",
                telefono_responsable: "",
            });
        }
    };
    return NuevoComponent;
}());
NuevoComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-nuevo',
        template: __webpack_require__("../../../../../src/app/admision/paciente/nuevo/nuevo.component.html"),
        styles: [__webpack_require__("../../../../../src/app/admision/paciente/nuevo/nuevo.component.css")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* Router */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_4__angular_platform_browser__["b" /* Title */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__angular_platform_browser__["b" /* Title */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_5__auth_service__["a" /* AuthService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_5__auth_service__["a" /* AuthService */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* ActivatedRoute */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* ActivatedRoute */]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_1__angular_common__["Location"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_common__["Location"]) === "function" && _e || Object, typeof (_f = typeof __WEBPACK_IMPORTED_MODULE_7__paciente_service__["a" /* PacienteService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_7__paciente_service__["a" /* PacienteService */]) === "function" && _f || Object, typeof (_g = typeof __WEBPACK_IMPORTED_MODULE_3__angular_forms__["FormBuilder"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__angular_forms__["FormBuilder"]) === "function" && _g || Object])
], NuevoComponent);

var _a, _b, _c, _d, _e, _f, _g;
//# sourceMappingURL=C:/wamp/www/x3-C/src/nuevo.component.js.map

/***/ }),

/***/ "../../../../../src/app/admision/paciente/paciente-routing.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lista_lista_component__ = __webpack_require__("../../../../../src/app/admision/paciente/lista/lista.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__nuevo_nuevo_component__ = __webpack_require__("../../../../../src/app/admision/paciente/nuevo/nuevo.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__editar_editar_component__ = __webpack_require__("../../../../../src/app/admision/paciente/editar/editar.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__historial_historial_component__ = __webpack_require__("../../../../../src/app/admision/paciente/historial/historial.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__auth_guard_service__ = __webpack_require__("../../../../../src/app/auth-guard.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__permisos_guard__ = __webpack_require__("../../../../../src/app/permisos.guard.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PacienteRoutingModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};








var routes = [
    {
        path: 'paciente',
        children: [
            { path: '', component: __WEBPACK_IMPORTED_MODULE_2__lista_lista_component__["a" /* ListaComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_7__permisos_guard__["a" /* PermisosGuard */]], data: { key: 'XE1pZJV6ZprLc0vP45Pkkpm2UlOJEBqV' } },
            { path: 'nuevo', component: __WEBPACK_IMPORTED_MODULE_3__nuevo_nuevo_component__["a" /* NuevoComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_7__permisos_guard__["a" /* PermisosGuard */]], data: { key: 'XE1pZJV6ZprLc0vP45Pkkpm2UlOJEBqV' } },
            { path: 'editar/:id', component: __WEBPACK_IMPORTED_MODULE_4__editar_editar_component__["a" /* EditarComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_7__permisos_guard__["a" /* PermisosGuard */]], data: { key: 'XE1pZJV6ZprLc0vP45Pkkpm2UlOJEBqV' } },
            { path: 'historial/:id', component: __WEBPACK_IMPORTED_MODULE_5__historial_historial_component__["a" /* HistorialComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_7__permisos_guard__["a" /* PermisosGuard */]], data: { key: 'XE1pZJV6ZprLc0vP45Pkkpm2UlOJEBqV' } },
        ],
        canActivate: [__WEBPACK_IMPORTED_MODULE_6__auth_guard_service__["a" /* AuthGuard */]]
    }
];
var PacienteRoutingModule = (function () {
    function PacienteRoutingModule() {
    }
    return PacienteRoutingModule;
}());
PacienteRoutingModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */].forChild(routes)],
        exports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */]]
    })
], PacienteRoutingModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/paciente-routing.module.js.map

/***/ }),

/***/ "../../../../../src/app/admision/paciente/paciente.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__paginacion_paginacion_module__ = __webpack_require__("../../../../../src/app/paginacion/paginacion.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__auth_service__ = __webpack_require__("../../../../../src/app/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__menu_menu_module__ = __webpack_require__("../../../../../src/app/admision/menu/menu.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__menu_lateral_menu_lateral_module__ = __webpack_require__("../../../../../src/app/admision/menu-lateral/menu-lateral.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__paciente_routing_module__ = __webpack_require__("../../../../../src/app/admision/paciente/paciente-routing.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__lista_lista_component__ = __webpack_require__("../../../../../src/app/admision/paciente/lista/lista.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__paciente_service__ = __webpack_require__("../../../../../src/app/admision/paciente/paciente.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__nuevo_nuevo_component__ = __webpack_require__("../../../../../src/app/admision/paciente/nuevo/nuevo.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__editar_editar_component__ = __webpack_require__("../../../../../src/app/admision/paciente/editar/editar.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__historial_historial_component__ = __webpack_require__("../../../../../src/app/admision/paciente/historial/historial.component.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PacienteModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};













var PacienteModule = (function () {
    function PacienteModule() {
    }
    return PacienteModule;
}());
PacienteModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [
            __WEBPACK_IMPORTED_MODULE_1__angular_common__["CommonModule"],
            __WEBPACK_IMPORTED_MODULE_7__paciente_routing_module__["a" /* PacienteRoutingModule */],
            __WEBPACK_IMPORTED_MODULE_2__angular_forms__["ReactiveFormsModule"],
            __WEBPACK_IMPORTED_MODULE_3__paginacion_paginacion_module__["a" /* PaginacionModule */],
            __WEBPACK_IMPORTED_MODULE_5__menu_menu_module__["a" /* MenuModule */],
            __WEBPACK_IMPORTED_MODULE_6__menu_lateral_menu_lateral_module__["a" /* MenuLateralModule */]
        ],
        declarations: [__WEBPACK_IMPORTED_MODULE_8__lista_lista_component__["a" /* ListaComponent */], __WEBPACK_IMPORTED_MODULE_10__nuevo_nuevo_component__["a" /* NuevoComponent */], __WEBPACK_IMPORTED_MODULE_11__editar_editar_component__["a" /* EditarComponent */], __WEBPACK_IMPORTED_MODULE_12__historial_historial_component__["a" /* HistorialComponent */]],
        providers: [__WEBPACK_IMPORTED_MODULE_4__auth_service__["a" /* AuthService */], __WEBPACK_IMPORTED_MODULE_9__paciente_service__["a" /* PacienteService */]],
    })
], PacienteModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/paciente.module.js.map

/***/ }),

/***/ "../../../../../src/app/admision/paciente/paciente.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/@angular/http.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__ = __webpack_require__("../../../../../src/app/jwt-request.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PacienteService; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var PacienteService = PacienteService_1 = (function () {
    function PacienteService(http, jwtRequest) {
        this.http = http;
        this.jwtRequest = jwtRequest;
    }
    PacienteService.prototype.buscar = function (term, pagina, resultados_por_pagina) {
        if (pagina === void 0) { pagina = 1; }
        if (resultados_por_pagina === void 0) { resultados_por_pagina = 20; }
        return this.jwtRequest.get(PacienteService_1.URL, null, { q: term, page: pagina, per_page: resultados_por_pagina }).map(function (response) { return response.json().data; });
    };
    PacienteService.prototype.lista = function (pagina, resultados_por_pagina) {
        if (pagina === void 0) { pagina = 1; }
        if (resultados_por_pagina === void 0) { resultados_por_pagina = 20; }
        return this.jwtRequest.get(PacienteService_1.URL, null, { page: pagina, per_page: resultados_por_pagina }).map(function (response) { return response.json().data; });
    };
    PacienteService.prototype.crear = function (paciente) {
        return this.jwtRequest.post(PacienteService_1.URL, paciente).map(function (response) { return response.json().data; });
    };
    PacienteService.prototype.listaMunicipios = function () {
        return this.jwtRequest.get("admision/municipio", null, null).map(function (response) { return response.json().data; });
    };
    PacienteService.prototype.listaLocalidades = function (municipio) {
        return this.jwtRequest.get("admision/localidad", null, { municipio_id: municipio }).map(function (response) { return response.json().data; });
    };
    PacienteService.prototype.ver = function (id) {
        return this.jwtRequest.get(PacienteService_1.URL, id, {}).map(function (response) {
            var jsonData = response.json().data;
            var paciente = jsonData;
            return paciente;
        });
    };
    PacienteService.prototype.editar = function (id, paciente) {
        return this.jwtRequest.put(PacienteService_1.URL, id, paciente).map(function (response) { return response.json().data; });
    };
    PacienteService.prototype.historial = function (id, paciente) {
        return this.jwtRequest.get("admision/historial", id, null).map(function (response) { return response.json().data; });
    };
    return PacienteService;
}());
PacienteService.URL = "admision/paciente";
PacienteService = PacienteService_1 = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__["a" /* JwtRequestService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__["a" /* JwtRequestService */]) === "function" && _b || Object])
], PacienteService);

var PacienteService_1, _a, _b;
//# sourceMappingURL=C:/wamp/www/x3-C/src/paciente.service.js.map

/***/ }),

/***/ "../../../../../src/app/app-routing.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__dashboard_dashboard_component__ = __webpack_require__("../../../../../src/app/dashboard/dashboard.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__login_login_component__ = __webpack_require__("../../../../../src/app/login/login.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__auth_guard_service__ = __webpack_require__("../../../../../src/app/auth-guard.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppRoutingModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





var routes = [
    { path: '', redirectTo: '/dashboard', pathMatch: 'full' },
    { path: 'login', component: __WEBPACK_IMPORTED_MODULE_3__login_login_component__["a" /* LoginComponent */] },
    { path: 'dashboard', component: __WEBPACK_IMPORTED_MODULE_2__dashboard_dashboard_component__["a" /* DashboardComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_4__auth_guard_service__["a" /* AuthGuard */]] },
];
var AppRoutingModule = (function () {
    function AppRoutingModule() {
    }
    return AppRoutingModule;
}());
AppRoutingModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */].forRoot(routes)
        ],
        exports: [
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */]
        ]
    })
], AppRoutingModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/app-routing.module.js.map

/***/ }),

/***/ "../../../../../src/app/app.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/app.component.html":
/***/ (function(module, exports) {

module.exports = "<router-outlet style=\"height:100% !important;\"></router-outlet>\r\n<app-bloquear-pantalla></app-bloquear-pantalla>"

/***/ }),

/***/ "../../../../../src/app/app.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var AppComponent = (function () {
    function AppComponent() {
    }
    return AppComponent;
}());
AppComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-root',
        template: __webpack_require__("../../../../../src/app/app.component.html"),
        styles: [__webpack_require__("../../../../../src/app/app.component.css")]
    }),
    __metadata("design:paramtypes", [])
], AppComponent);

//# sourceMappingURL=C:/wamp/www/x3-C/src/app.component.js.map

/***/ }),

/***/ "../../../../../src/app/app.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_http__ = __webpack_require__("../../../http/@angular/http.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_angular2_highcharts__ = __webpack_require__("../../../../angular2-highcharts/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_angular2_highcharts___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_angular2_highcharts__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_angular2_highcharts_dist_HighchartsService__ = __webpack_require__("../../../../angular2-highcharts/dist/HighchartsService.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_angular2_highcharts_dist_HighchartsService___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_angular2_highcharts_dist_HighchartsService__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__app_component__ = __webpack_require__("../../../../../src/app/app.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__login_login_component__ = __webpack_require__("../../../../../src/app/login/login.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__dashboard_dashboard_component__ = __webpack_require__("../../../../../src/app/dashboard/dashboard.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__not_found_not_found_component__ = __webpack_require__("../../../../../src/app/not-found/not-found.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__auth_guard_service__ = __webpack_require__("../../../../../src/app/auth-guard.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__permisos_guard__ = __webpack_require__("../../../../../src/app/permisos.guard.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__auth_service__ = __webpack_require__("../../../../../src/app/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__jwt_request_service__ = __webpack_require__("../../../../../src/app/jwt-request.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_angular2_jwt__ = __webpack_require__("../../../../angular2-jwt/angular2-jwt.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_angular2_jwt___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_14_angular2_jwt__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__app_routing_module__ = __webpack_require__("../../../../../src/app/app-routing.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__wildcard_routing_module__ = __webpack_require__("../../../../../src/app/wildcard-routing.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__hub_hub_module__ = __webpack_require__("../../../../../src/app/hub/hub.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__perfil_perfil_module__ = __webpack_require__("../../../../../src/app/perfil/perfil.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__bloquear_pantalla_bloquear_pantalla_module__ = __webpack_require__("../../../../../src/app/bloquear-pantalla/bloquear-pantalla.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_20__pipes_pipes_module__ = __webpack_require__("../../../../../src/app/pipes/pipes.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_21__administrador_central_administrador_central_module__ = __webpack_require__("../../../../../src/app/administrador-central/administrador-central.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_22__administrador_proveedores_administrador_proveedores_module__ = __webpack_require__("../../../../../src/app/administrador-proveedores/administrador-proveedores.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_23__panel_control_usuarios_usuarios_module__ = __webpack_require__("../../../../../src/app/panel-control/usuarios/usuarios.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_24__panel_control_roles_roles_module__ = __webpack_require__("../../../../../src/app/panel-control/roles/roles.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_25__panel_control_sync_sync_module__ = __webpack_require__("../../../../../src/app/panel-control/sync/sync.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_26__panel_control_almacenes_almacenes_module__ = __webpack_require__("../../../../../src/app/panel-control/almacenes/almacenes.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_27__panel_control_servicios_servicios_module__ = __webpack_require__("../../../../../src/app/panel-control/servicios/servicios.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_28__panel_control_turnos_turnos_module__ = __webpack_require__("../../../../../src/app/panel-control/turnos/turnos.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_29__panel_control_claves_claves_module__ = __webpack_require__("../../../../../src/app/panel-control/claves/claves.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_30__farmacia_index_farmacia_index_farmacia_module__ = __webpack_require__("../../../../../src/app/farmacia/index-farmacia/index-farmacia.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_31__farmacia_pedidos_pedidos_module__ = __webpack_require__("../../../../../src/app/farmacia/pedidos/pedidos.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_32__farmacia_entregas_entregas_module__ = __webpack_require__("../../../../../src/app/farmacia/entregas/entregas.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_33__farmacia_entradas_estandar_entradas_estandar_module__ = __webpack_require__("../../../../../src/app/farmacia/entradas-estandar/entradas-estandar.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_34__farmacia_salidas_recetas_salidas_recetas_module__ = __webpack_require__("../../../../../src/app/farmacia/salidas-recetas/salidas-recetas.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_35__farmacia_salidas_estandar_salidas_estandar_module__ = __webpack_require__("../../../../../src/app/farmacia/salidas-estandar/salidas-estandar.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_36__farmacia_movimientos_entradas_movimientos_entradas_module__ = __webpack_require__("../../../../../src/app/farmacia/movimientos-entradas/movimientos-entradas.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_37__farmacia_movimientos_salidas_movimientos_salidas_module__ = __webpack_require__("../../../../../src/app/farmacia/movimientos-salidas/movimientos-salidas.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_38__farmacia_dashboard_salidas_dashboard_salidas_module__ = __webpack_require__("../../../../../src/app/farmacia/dashboard-salidas/dashboard-salidas.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_39__farmacia_claves_basicas_claves_basicas_module__ = __webpack_require__("../../../../../src/app/farmacia/claves-basicas/claves-basicas.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_40__admision_egreso_egreso_module__ = __webpack_require__("../../../../../src/app/admision/egreso/egreso.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_41__admision_paciente_paciente_module__ = __webpack_require__("../../../../../src/app/admision/paciente/paciente.module.ts");
/* unused harmony export highchartsFactory */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AppModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





















// # Administrador central

// # Administrador proveedores

// # Hub Panel de control







// # Hub Farmacia










// #modulo de admisión de pacientes


//import { CrudModule } from './crud/crud.module';
function highchartsFactory() {
    var hc = __webpack_require__("../../../../highcharts/highcharts.js");
    var dd = __webpack_require__("../../../../highcharts/modules/exporting.js");
    dd(hc);
    //return require('highcharts'),require('highcharts/modules/exporting');
    return hc;
}
// Asegurarase que en imports "WildcardRoutingModule" vaya al ÚLTIMO
// Esto nos sirve para redireccionar a una página 404 en lugar de que se genere un error
var AppModule = (function () {
    function AppModule() {
    }
    return AppModule;
}());
AppModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__["NgModule"])({
        declarations: [
            __WEBPACK_IMPORTED_MODULE_6__app_component__["a" /* AppComponent */],
            __WEBPACK_IMPORTED_MODULE_7__login_login_component__["a" /* LoginComponent */],
            __WEBPACK_IMPORTED_MODULE_8__dashboard_dashboard_component__["a" /* DashboardComponent */],
            __WEBPACK_IMPORTED_MODULE_9__not_found_not_found_component__["a" /* NotFoundComponent */]
        ],
        imports: [
            __WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__["a" /* BrowserModule */],
            __WEBPACK_IMPORTED_MODULE_2__angular_forms__["FormsModule"],
            __WEBPACK_IMPORTED_MODULE_3__angular_http__["HttpModule"],
            __WEBPACK_IMPORTED_MODULE_4_angular2_highcharts__["ChartModule"],
            __WEBPACK_IMPORTED_MODULE_15__app_routing_module__["a" /* AppRoutingModule */],
            __WEBPACK_IMPORTED_MODULE_17__hub_hub_module__["a" /* HubModule */],
            __WEBPACK_IMPORTED_MODULE_18__perfil_perfil_module__["a" /* PerfilModule */],
            __WEBPACK_IMPORTED_MODULE_19__bloquear_pantalla_bloquear_pantalla_module__["a" /* BloquearPantallaModule */],
            __WEBPACK_IMPORTED_MODULE_20__pipes_pipes_module__["a" /* PipesModule */],
            __WEBPACK_IMPORTED_MODULE_25__panel_control_sync_sync_module__["a" /* SyncModule */],
            __WEBPACK_IMPORTED_MODULE_24__panel_control_roles_roles_module__["a" /* RolesModule */],
            __WEBPACK_IMPORTED_MODULE_23__panel_control_usuarios_usuarios_module__["a" /* UsuariosModule */],
            __WEBPACK_IMPORTED_MODULE_26__panel_control_almacenes_almacenes_module__["a" /* MisAlmacenesModule */],
            __WEBPACK_IMPORTED_MODULE_27__panel_control_servicios_servicios_module__["a" /* MisServiciosModule */],
            __WEBPACK_IMPORTED_MODULE_28__panel_control_turnos_turnos_module__["a" /* MisTurnosModule */],
            __WEBPACK_IMPORTED_MODULE_29__panel_control_claves_claves_module__["a" /* MisClavesModule */],
            __WEBPACK_IMPORTED_MODULE_21__administrador_central_administrador_central_module__["a" /* AdministradorCentralModule */],
            __WEBPACK_IMPORTED_MODULE_22__administrador_proveedores_administrador_proveedores_module__["a" /* AdministradorProveedoresModule */],
            __WEBPACK_IMPORTED_MODULE_30__farmacia_index_farmacia_index_farmacia_module__["a" /* IndexFarmaciaModule */],
            __WEBPACK_IMPORTED_MODULE_31__farmacia_pedidos_pedidos_module__["a" /* PedidosModule */],
            __WEBPACK_IMPORTED_MODULE_32__farmacia_entregas_entregas_module__["a" /* EntregasModule */],
            __WEBPACK_IMPORTED_MODULE_33__farmacia_entradas_estandar_entradas_estandar_module__["a" /* EntradasEstandarModule */],
            __WEBPACK_IMPORTED_MODULE_35__farmacia_salidas_estandar_salidas_estandar_module__["a" /* SalidasEstandarModule */],
            __WEBPACK_IMPORTED_MODULE_34__farmacia_salidas_recetas_salidas_recetas_module__["a" /* SalidasRecetasModule */],
            __WEBPACK_IMPORTED_MODULE_36__farmacia_movimientos_entradas_movimientos_entradas_module__["a" /* MovimientosEntradasModule */],
            __WEBPACK_IMPORTED_MODULE_37__farmacia_movimientos_salidas_movimientos_salidas_module__["a" /* MovimientosSalidasModule */],
            __WEBPACK_IMPORTED_MODULE_38__farmacia_dashboard_salidas_dashboard_salidas_module__["a" /* DashboardSalidasModule */],
            __WEBPACK_IMPORTED_MODULE_39__farmacia_claves_basicas_claves_basicas_module__["a" /* ClavesBasicasModule */],
            //CrudModule,
            __WEBPACK_IMPORTED_MODULE_41__admision_paciente_paciente_module__["a" /* PacienteModule */],
            __WEBPACK_IMPORTED_MODULE_40__admision_egreso_egreso_module__["a" /* EgresoModule */],
            __WEBPACK_IMPORTED_MODULE_16__wildcard_routing_module__["a" /* WildcardRoutingModule */],
        ],
        providers: [__WEBPACK_IMPORTED_MODULE_0__angular_platform_browser__["b" /* Title */], __WEBPACK_IMPORTED_MODULE_10__auth_guard_service__["a" /* AuthGuard */], __WEBPACK_IMPORTED_MODULE_11__permisos_guard__["a" /* PermisosGuard */], __WEBPACK_IMPORTED_MODULE_12__auth_service__["a" /* AuthService */], __WEBPACK_IMPORTED_MODULE_14_angular2_jwt__["JwtHelper"], __WEBPACK_IMPORTED_MODULE_13__jwt_request_service__["a" /* JwtRequestService */], { provide: __WEBPACK_IMPORTED_MODULE_5_angular2_highcharts_dist_HighchartsService__["HighchartsStatic"], useFactory: highchartsFactory }],
        bootstrap: [__WEBPACK_IMPORTED_MODULE_6__app_component__["a" /* AppComponent */]]
    })
], AppModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/app.module.js.map

/***/ }),

/***/ "../../../../../src/app/auth-guard.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AuthGuard; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var AuthGuard = (function () {
    function AuthGuard(router) {
        this.router = router;
    }
    AuthGuard.prototype.canActivate = function (route, state) {
        if (localStorage.getItem('token')) {
            return true;
        }
        // Si llega a este punto no está loggeado lo mandamos a login pero con el url ingresado
        this.router.navigate(['login'], { queryParams: { returnUrl: state.url } });
        return false;
    };
    return AuthGuard;
}());
AuthGuard = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* Router */]) === "function" && _a || Object])
], AuthGuard);

var _a;
//# sourceMappingURL=C:/wamp/www/x3-C/src/auth-guard.service.js.map

/***/ }),

/***/ "../../../../../src/app/auth.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/@angular/http.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_map__ = __webpack_require__("../../../../rxjs/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_add_operator_map__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__environments_environment__ = __webpack_require__("../../../../../src/environments/environment.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AuthService; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var AuthService = (function () {
    function AuthService(http, router) {
        this.http = http;
        this.router = router;
        this.headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"]({ 'Content-Type': 'application/json' });
    }
    AuthService.prototype.login = function (id, password) {
        var url = 'obtener-token';
        return this.http.post(__WEBPACK_IMPORTED_MODULE_4__environments_environment__["a" /* environment */].API_URL + "/" + url, JSON.stringify({ id: id, password: password }), { headers: this.headers }).map(function (response) {
            var json = response.json();
            if (json.token) {
                console.log("Token obtenido.");
                // Obtenemos el perfil del usuario antes iniciar sesión, para saber que configuración tenía en caso de que sea el mismo usuario
                var usuarioAnterior = JSON.parse(localStorage.getItem("usuario"));
                localStorage.removeItem('token');
                localStorage.removeItem('usuario');
                localStorage.removeItem('server_info');
                // Tratamos de obtener la unidad medica seleccionada por default
                // y si habia bloqueado pantalla obtenemos la que tenia seleccionada
                json.usuario.clues_activa = null;
                json.usuario.almacen_activo = null;
                if (json.usuario.unidades_medicas.length > 0) {
                    if (usuarioAnterior && usuarioAnterior.id == json.usuario.id) {
                        var bandera = false;
                        if (usuarioAnterior.clues_activa) {
                            for (var i in json.usuario.unidades_medicas) {
                                if (usuarioAnterior.clues_activa.clues == json.usuario.unidades_medicas[i].clues) {
                                    json.usuario.clues_activa = json.usuario.unidades_medicas[i];
                                    bandera = true;
                                }
                            }
                        }
                        if (!bandera) {
                            json.usuario.clues_activa = json.usuario.unidades_medicas[0];
                        }
                    }
                    else {
                        console.log("OOO aqui.");
                        json.usuario.clues_activa = json.usuario.unidades_medicas[0];
                    }
                    if (json.usuario.clues_activa.almacenes.length > 0) {
                        if (usuarioAnterior && usuarioAnterior.id == json.usuario.id) {
                            var bandera = false;
                            if (usuarioAnterior.almacen_activo) {
                                for (var i in json.usuario.clues_activa.almacenes) {
                                    if (usuarioAnterior.almacen_activo.id == json.usuario.clues_activa.almacenes[i].id) {
                                        json.usuario.almacen_activo = json.usuario.clues_activa.almacenes[i];
                                        bandera = true;
                                    }
                                }
                            }
                            if (!bandera) {
                                json.usuario.almacen_activo = json.usuario.clues_activa.almacenes[0];
                            }
                        }
                        else {
                            json.usuario.almacen_activo = json.usuario.clues_activa.almacenes[0];
                        }
                    }
                    else {
                        json.usuario.almacen_activo = null;
                    }
                }
                else {
                    json.usuario.clues_activa = null;
                    json.usuario.almacen_activo = null;
                }
                localStorage.setItem('token', json.token);
                localStorage.setItem('usuario', JSON.stringify(json.usuario));
                localStorage.setItem('server_info', JSON.stringify(json.server_info));
            }
        });
    };
    AuthService.prototype.refreshToken = function () {
        var url = 'refresh-token?token=' + localStorage.getItem('token');
        return this.http.post(__WEBPACK_IMPORTED_MODULE_4__environments_environment__["a" /* environment */].API_URL + "/" + url, {}, { headers: this.headers }).map(function (response) {
            var json = response.json();
            if (json.token) {
                console.log("Token renovado.");
                localStorage.removeItem('token');
                localStorage.removeItem('server_info');
                localStorage.setItem('token', json.token);
                localStorage.setItem('server_info', JSON.stringify(json.server_info));
            }
        });
    };
    AuthService.prototype.logout = function (url) {
        if (url === void 0) { url = null; }
        localStorage.removeItem('token');
        localStorage.removeItem('usuario');
        localStorage.removeItem('server_info');
        if (url != null) {
            this.router.navigate(['login'], { queryParams: { returnUrl: decodeURIComponent(url.replace(/\+/g, " ")) } });
        }
        else {
            this.router.navigate(['login']);
        }
    };
    return AuthService;
}());
AuthService = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* Router */]) === "function" && _b || Object])
], AuthService);

var _a, _b;
//# sourceMappingURL=C:/wamp/www/x3-C/src/auth.service.js.map

/***/ }),

/***/ "../../../../../src/app/bloquear-pantalla/bloquear-pantalla.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/bloquear-pantalla/bloquear-pantalla.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"modal\" [ngClass]=\"{'is-active': mostrar}\">\r\n  <div class=\"modal-background\" style=\"background:rgba(0,0,0,0.9)!important;\"></div>\r\n  <div class=\"modal-content\">\r\n    <div class=\"card\" style=\" border-radius:1em; overflow: hidden\">\r\n      <div class=\"card-image\" >\r\n          <figure class=\"image \" style=\"border-radius: 1em 1em 0em 0em; overflow: hidden;\">\r\n              <img src=\"assets/bg-lockscreen_salud.svg\" alt=\"Image\">\r\n          </figure>\r\n          \r\n          <button class=\"button is-primary is-inverted\"  (click)=\"logout()\" style=\"position:absolute; top:1em; right:1em;\"><span class=\"icon\"><i class=\"fa fa-sign-out\"></i></span> <span>Salir</span></button>\r\n      </div>\r\n      <div class=\"card-content has-text-centered\">\r\n          <form name=\"form\" (ngSubmit)=\"!loading && login()\">\r\n            <div class=\"notification is-danger\" *ngIf=\"mostrarMensaje\">\r\n                <a class=\"delete\" (click)=\"mostrarMensaje = false\"></a>\r\n                <b>Error:</b> {{ mensaje }}\r\n            </div>\r\n            <nav class=\"level\">\r\n              <div class=\"level-item has-text-centered\">\r\n                <figure class=\"image is-128x128\" >\r\n                  <img src=\"assets/{{ usuario.avatar || 'avatar-unknow' }}.svg\" alt=\"avatar\">\r\n                  <span class=\"icon is-large\" style=\"position: absolute; top: 0px; right:0px;\"><i class=\"fa fa-lock\"></i></span>\r\n                </figure>\r\n              </div>\r\n            </nav>\r\n            <h1 class=\"title\">{{ usuario.nombre }} {{ usuario.apellidos }}</h1>\r\n            <h2 class=\"subtitle\"><span class=\"icon\"><i class=\"fa fa-user-circle\"></i></span> {{usuario.id}}</h2>\r\n            <p class=\"control has-icon\">\r\n                <input class=\"input is-medium\" [ngClass]=\"{'is-danger': mensaje}\" type=\"password\" name=\"password\" id=\"password\" placeholder=\"Contraseña\" [(ngModel)]=\"credenciales.password\">\r\n                <span class=\"icon is-small\">\r\n                <i class=\"fa fa-lock\"></i>\r\n                </span>\r\n            </p>\r\n            <button class=\"button is-primary is-medium is-fullwidth\" [ngClass]=\"{'is-loading': loading}\"><span class=\"icon\"><i class=\"fa fa-unlock\"></i></span><span>Desbloquear</span></button>\r\n          </form>\r\n      </div>\r\n      \r\n    </div>\r\n    \r\n  </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/bloquear-pantalla/bloquear-pantalla.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_app_auth_service__ = __webpack_require__("../../../../../src/app/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__bloquear_pantalla_service__ = __webpack_require__("../../../../../src/app/bloquear-pantalla/bloquear-pantalla.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BloquearPantallaComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var BloquearPantallaComponent = (function () {
    function BloquearPantallaComponent(router, authService, bloquearPantallaService) {
        var _this = this;
        this.router = router;
        this.authService = authService;
        this.bloquearPantallaService = bloquearPantallaService;
        this.usuario = {};
        this.credenciales = {};
        this.loading = false;
        this.mensaje = "";
        this.mostrarMensaje = false;
        this.bloquearPantallaSuscription = bloquearPantallaService.pantallaBloqueada$.subscribe(function (bloquear) {
            // Borramos el token porque de todos modos se va a sustituir
            // y así impedimos que intenten borrar elementos en el navegador para acceder
            if (bloquear) {
                localStorage.removeItem('token');
                _this.cargarCredenciales();
                _this.mostrar = true;
            }
        });
    }
    BloquearPantallaComponent.prototype.ngOnInit = function () {
        var bloquear = localStorage.getItem("bloquear_pantalla");
        if (bloquear != null) {
            this.cargarCredenciales();
            this.mostrar = true;
        }
    };
    BloquearPantallaComponent.prototype.cargarCredenciales = function () {
        this.usuario = JSON.parse(localStorage.getItem("usuario"));
        if (this.usuario != null && this.usuario.id != null) {
            this.credenciales.id = this.usuario.id;
        }
    };
    BloquearPantallaComponent.prototype.login = function () {
        var _this = this;
        this.loading = true;
        this.mostrarMensaje = false;
        this.authService.login(this.credenciales.id, this.credenciales.password)
            .subscribe(function (data) {
            _this.loading = false;
            _this.mostrar = false;
            _this.credenciales.password = "";
            _this.bloquearPantallaService.desbloquearPantalla();
        }, function (error) {
            _this.loading = false;
            _this.mostrarMensaje = true;
            _this.mensaje = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensaje = "Lo sentimos el usuario y/o contraseña no son válidos.";
                }
                if (error.status == 0) {
                    _this.mensaje = "Conexión rechazada.";
                }
                if (error.status == 500) {
                    _this.mensaje = "500 (Error interno del servidor)";
                }
            }
            catch (e) {
                if (error.status == 500) {
                    _this.mensaje = "500 (Error interno del servidor)";
                }
            }
        });
    };
    BloquearPantallaComponent.prototype.logout = function () {
        this.mostrar = false;
        localStorage.removeItem('bloquear_pantalla');
        this.authService.logout();
    };
    return BloquearPantallaComponent;
}());
BloquearPantallaComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-bloquear-pantalla',
        template: __webpack_require__("../../../../../src/app/bloquear-pantalla/bloquear-pantalla.component.html"),
        styles: [__webpack_require__("../../../../../src/app/bloquear-pantalla/bloquear-pantalla.component.css")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* Router */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2_app_auth_service__["a" /* AuthService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2_app_auth_service__["a" /* AuthService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_3__bloquear_pantalla_service__["a" /* BloquearPantallaService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__bloquear_pantalla_service__["a" /* BloquearPantallaService */]) === "function" && _c || Object])
], BloquearPantallaComponent);

var _a, _b, _c;
//# sourceMappingURL=C:/wamp/www/x3-C/src/bloquear-pantalla.component.js.map

/***/ }),

/***/ "../../../../../src/app/bloquear-pantalla/bloquear-pantalla.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__bloquear_pantalla_component__ = __webpack_require__("../../../../../src/app/bloquear-pantalla/bloquear-pantalla.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__bloquear_pantalla_service__ = __webpack_require__("../../../../../src/app/bloquear-pantalla/bloquear-pantalla.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BloquearPantallaModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





var BloquearPantallaModule = (function () {
    function BloquearPantallaModule() {
    }
    return BloquearPantallaModule;
}());
BloquearPantallaModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [
            __WEBPACK_IMPORTED_MODULE_1__angular_common__["CommonModule"], __WEBPACK_IMPORTED_MODULE_2__angular_forms__["FormsModule"]
        ],
        exports: [
            __WEBPACK_IMPORTED_MODULE_3__bloquear_pantalla_component__["a" /* BloquearPantallaComponent */]
        ],
        providers: [__WEBPACK_IMPORTED_MODULE_4__bloquear_pantalla_service__["a" /* BloquearPantallaService */]],
        declarations: [__WEBPACK_IMPORTED_MODULE_3__bloquear_pantalla_component__["a" /* BloquearPantallaComponent */]]
    })
], BloquearPantallaModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/bloquear-pantalla.module.js.map

/***/ }),

/***/ "../../../../../src/app/bloquear-pantalla/bloquear-pantalla.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_Subject__ = __webpack_require__("../../../../rxjs/Subject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_Subject___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_rxjs_Subject__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BloquearPantallaService; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var BloquearPantallaService = (function () {
    function BloquearPantallaService() {
        this.bloquearPantallaSource = new __WEBPACK_IMPORTED_MODULE_1_rxjs_Subject__["Subject"]();
        this.pantallaBloqueada$ = this.bloquearPantallaSource.asObservable();
    }
    BloquearPantallaService.prototype.bloquearPantalla = function () {
        localStorage.removeItem('bloquear_pantalla');
        localStorage.setItem('bloquear_pantalla', "true");
        this.bloquearPantallaSource.next(true);
    };
    BloquearPantallaService.prototype.desbloquearPantalla = function () {
        localStorage.removeItem('bloquear_pantalla');
        this.bloquearPantallaSource.next(false);
    };
    return BloquearPantallaService;
}());
BloquearPantallaService = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])()
], BloquearPantallaService);

//# sourceMappingURL=C:/wamp/www/x3-C/src/bloquear-pantalla.service.js.map

/***/ }),

/***/ "../../../../../src/app/catalogos/almacenes/almacenes.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/@angular/http.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__ = __webpack_require__("../../../../../src/app/jwt-request.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AlmacenesService; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var AlmacenesService = AlmacenesService_1 = (function () {
    function AlmacenesService(http, jwtRequest) {
        this.http = http;
        this.jwtRequest = jwtRequest;
    }
    AlmacenesService.prototype.buscar = function (term, pagina, resultados_por_pagina) {
        if (pagina === void 0) { pagina = 1; }
        if (resultados_por_pagina === void 0) { resultados_por_pagina = 20; }
        return this.jwtRequest.get(AlmacenesService_1.URL, null, { q: term, page: pagina, per_page: resultados_por_pagina }).map(function (response) { return response.json().data; });
    };
    AlmacenesService.prototype.lista = function (pagina, resultados_por_pagina) {
        if (pagina === void 0) { pagina = 1; }
        if (resultados_por_pagina === void 0) { resultados_por_pagina = 20; }
        return this.jwtRequest.get(AlmacenesService_1.URL, null, { page: pagina, per_page: resultados_por_pagina }).map(function (response) { return response.json().data; });
    };
    AlmacenesService.prototype.catalogo = function () {
        return this.jwtRequest.get(AlmacenesService_1.URL, null, { filtro_usuario: 1 }).map(function (response) { return response.json().data; });
    };
    AlmacenesService.prototype.ver = function (id) {
        return this.jwtRequest.get(AlmacenesService_1.URL, id, {}).map(function (response) {
            var jsonData = response.json().data;
            /* var roles:string[] = []
             jsonData.roles.map(item => {
               roles.push(""+item.id)
             })*/
            var almacen = jsonData;
            //usuario.roles = roles;
            return almacen;
        });
    };
    AlmacenesService.prototype.crear = function (almacen) {
        return this.jwtRequest.post(AlmacenesService_1.URL, almacen).map(function (response) { return response.json().data; });
    };
    AlmacenesService.prototype.editar = function (id, almacen) {
        return this.jwtRequest.put(AlmacenesService_1.URL, id, almacen).map(function (response) { return response.json().data; });
    };
    AlmacenesService.prototype.eliminar = function (id) {
        return this.jwtRequest.delete(AlmacenesService_1.URL, id).map(function (response) { return response.json().data; });
    };
    return AlmacenesService;
}());
AlmacenesService.URL = "almacenes";
AlmacenesService = AlmacenesService_1 = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__["a" /* JwtRequestService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__["a" /* JwtRequestService */]) === "function" && _b || Object])
], AlmacenesService);

var AlmacenesService_1, _a, _b;
//# sourceMappingURL=C:/wamp/www/x3-C/src/almacenes.service.js.map

/***/ }),

/***/ "../../../../../src/app/config.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export API_URL */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ESTA_SALUD_ID_DISPONIBLE; });
var API_URL = "http://sialapi.yoursoft.com.mx/public/index.php/";
//export const API_URL: string = "http://sialapi.yoursoft.com.mx/public"  // "http://localhost:8000"
var ESTA_SALUD_ID_DISPONIBLE = false;
//# sourceMappingURL=C:/wamp/www/x3-C/src/config.js.map

/***/ }),

/***/ "../../../../../src/app/crud/crud.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__listar_component__ = __webpack_require__("../../../../../src/app/crud/listar.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__formulario_component__ = __webpack_require__("../../../../../src/app/crud/formulario.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_angular2_notifications__ = __webpack_require__("../../../../angular2-notifications/dist/index.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CrudModule; });
/**
* <h1>Crud Module</h1>
*<p>
* El modulo crud se encarga de exportar las funciones que
* se encargan de listar, ver, modificar, agregar y eliminar
* para que esten disponibles en todos los modulos del sistema
* </p>
*
* @author  Eliecer Ramirez Esquinca
* @version 1.0
* @since   2017-05-08
*/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





var CrudModule = (function () {
    function CrudModule() {
    }
    return CrudModule;
}());
CrudModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [
            __WEBPACK_IMPORTED_MODULE_1__angular_common__["CommonModule"],
            __WEBPACK_IMPORTED_MODULE_4_angular2_notifications__["b" /* SimpleNotificationsModule */].forRoot()
        ],
        exports: [
            __WEBPACK_IMPORTED_MODULE_2__listar_component__["a" /* ListarComponent */],
            __WEBPACK_IMPORTED_MODULE_3__formulario_component__["a" /* FormularioComponent */]
        ],
        declarations: [
            __WEBPACK_IMPORTED_MODULE_2__listar_component__["a" /* ListarComponent */],
            __WEBPACK_IMPORTED_MODULE_3__formulario_component__["a" /* FormularioComponent */]
        ]
    })
], CrudModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/crud.module.js.map

/***/ }),

/***/ "../../../../../src/app/crud/crud.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/@angular/http.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__ = __webpack_require__("../../../../../src/app/jwt-request.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CrudService; });
/**
* <h1>Crud Service</h1>
*<p>
* El servicio crud se encarga de conectar las funciones que
* se encargan de listar, ver, modificar, agregar y eliminar
* con la api envia y obtiene valores para las vistas
* </p>
*
* @author  Eliecer Ramirez Esquinca
* @version 1.0
* @since   2017-05-08
*/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var CrudService = (function () {
    /**
     * Este método inicializa la carga de las dependencias
     * que se necesitan para el funcionamiento del modulo
     */
    function CrudService(http, jwtRequest) {
        this.http = http;
        this.jwtRequest = jwtRequest;
    }
    /**
     * Este método obtiene una lista de elementos de la
     * api con los filtros que se especifiquen en la vista
     * @param term contiene las palabras de busqueda
     * @param pagina  inicio de la página para mostrar resultados
     * @param resultados_por_pagina  número de resultados por página
     * @param URL  ruta de la api donde se obtiene los valores
     * @return Respuesta tipo object que obtiene de la api
     */
    CrudService.prototype.buscar = function (term, pagina, resultados_por_pagina, URL) {
        if (pagina === void 0) { pagina = 1; }
        if (resultados_por_pagina === void 0) { resultados_por_pagina = 20; }
        return this.jwtRequest.get(URL, null, { q: term, page: pagina, per_page: resultados_por_pagina }).map(function (response) { return response.json().data; });
    };
    /**
     * Este método obtiene una lista de elementos de la
     * api con los parametros que se especifiquen en la vista
     * @param pagina  inicio de la página para mostrar resultados
     * @param resultados_por_pagina  número de resultados por página
     * @param URL  ruta de la api donde se obtiene los valores
     * @return Respuesta tipo object que obtiene de la api
     */
    CrudService.prototype.lista = function (pagina, resultados_por_pagina, URL) {
        if (pagina === void 0) { pagina = 1; }
        if (resultados_por_pagina === void 0) { resultados_por_pagina = 20; }
        if (pagina > 0)
            return this.jwtRequest.get(URL, null, { page: pagina, per_page: resultados_por_pagina }).map(function (response) { return response.json().data; });
        else
            return this.jwtRequest.get(URL, null).map(function (response) { return response.json().data; });
    };
    /**
     * Este método obtiene el valor de un elementos de la
     * api con el id del elemento que se especifiquen en la vista
     * @param id  identificador del elemento
     * @param URL  ruta de la api donde se obtiene los valores
     * @return Respuesta tipo object que obtiene de la api
     */
    CrudService.prototype.ver = function (id, URL) {
        return this.jwtRequest.get(URL, id, {}).map(function (response) {
            var jsonData = response.json().data;
            var data = jsonData;
            return data;
        });
    };
    /**
     * Este método envia el valor para crear un elementos en la
     * api con los datos que se especifiquen en la vista
     * @param data  datos del formulario a guardar
     * @param URL  ruta de la api donde se guardan los valores
     * @return Respuesta tipo object que obtiene de la api
     */
    CrudService.prototype.crear = function (data, URL) {
        return this.jwtRequest.post(URL, data).map(function (response) { return response.json().data; });
    };
    /**
     * Este método actualiza la informacion de un elementos de la
     * api con el id y los datos del elemento que se especifiquen
     * en la vista
     * @param id  identificador del elemento
     * @param data  datos del formulario a guardar
     * @param URL  ruta de la api donde se obtiene los valores
     * @return Respuesta tipo object que obtiene de la api
     */
    CrudService.prototype.editar = function (id, data, URL) {
        return this.jwtRequest.put(URL, id, data).map(function (response) { return response.json().data; });
    };
    /**
     * Este método elimina el dato de un elementos de la
     * api con el id del elemento que se especifiquen en la vista
     * @param id  identificador del elemento
     * @param URL  ruta de la api donde se obtiene los valores
     * @return Respuesta tipo object que obtiene de la api
     */
    CrudService.prototype.eliminar = function (id, URL) {
        return this.jwtRequest.delete(URL, id).map(function (response) { return response.json().data; });
    };
    return CrudService;
}());
CrudService = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__["a" /* JwtRequestService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__["a" /* JwtRequestService */]) === "function" && _b || Object])
], CrudService);

var _a, _b;
//# sourceMappingURL=C:/wamp/www/x3-C/src/crud.service.js.map

/***/ }),

/***/ "../../../../../src/app/crud/formulario.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__auth_service__ = __webpack_require__("../../../../../src/app/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__crud_service__ = __webpack_require__("../../../../../src/app/crud/crud.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__mensaje__ = __webpack_require__("../../../../../src/app/mensaje.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_angular2_notifications__ = __webpack_require__("../../../../angular2-notifications/dist/index.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormularioComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var FormularioComponent = (function () {
    /**
     * Este método inicializa la carga de las dependencias
     * que se necesitan para el funcionamiento del modulo
     */
    function FormularioComponent(router, title, authService, route, location, crudService, fb, notificacion) {
        this.router = router;
        this.title = title;
        this.authService = authService;
        this.route = route;
        this.location = location;
        this.crudService = crudService;
        this.fb = fb;
        this.notificacion = notificacion;
        this.borrarCargando = false;
        this.datosCargados = true;
        this.cargando = false;
        this.cambiarPassword = false;
        this.derecha = [];
        this.izquierda = [];
        //Crear la variable que mustra las notificaciones
        this.mensajeResponse = new __WEBPACK_IMPORTED_MODULE_7__mensaje__["a" /* Mensaje */]();
        //abre una modal para confirmar la eliminacion
        this.borrarItem = "";
        /**
         * Este metodo se encarga de cargar los datos de un catalogo para crear un select, grupos de radios o check
         * @param item nombre del modelo donde se guardaron los resultados
         * @param url  ruta de la pai donde se obtienen los valores
         * @return void
         */
        this.cargarDatosCatalogo = false;
        this.catalogo = [];
        this.roles = [];
        /**
         * Este metodo se encarga de cargar los datos de un catalogo que depende de otro
         * @param url  ruta de la pai donde se obtienen los valores
         * @param item nombre del modelo donde se guardaron los resultados
         * @param id  id del catalogo del que depende
         * @return voidofModelo
         */
        this.catalogoDependiente = function (url, item, id) {
            var _this = this;
            this.cargarDatosCatalogo = true;
            this.crudService.lista(0, 0, url + "?id=" + id).subscribe(function (resultado) {
                _this[item] = resultado;
                if (resultado.length == 0) {
                    _this.mensajeResponse.titulo = item;
                    _this.mensajeResponse.texto = "Esta vacio, p\u00F3ngase en contacto con un administrador.";
                    _this.mensajeResponse.mostrar = true;
                    _this.mensajeResponse.clase = 'warning';
                    _this.mensaje(3);
                }
                _this.cargarDatosCatalogo = false;
            }, function (error) {
                _this.mensajeResponse = new __WEBPACK_IMPORTED_MODULE_7__mensaje__["a" /* Mensaje */](true);
                _this.mensajeResponse.texto = "No especificado.";
                _this.mensajeResponse.mostrar = true;
                try {
                    var e = error.json();
                    if (error.status == 401) {
                        _this.mensajeResponse.texto = "No tiene permiso para ver los roles.";
                    }
                    if (error.status == 500) {
                        _this.mensajeResponse.texto = "500 (Error interno del servidor). No se pudieron cargar los roles";
                    }
                }
                catch (e) {
                    if (error.status == 500) {
                        _this.mensajeResponse.texto = "500 (Error interno del servidor). No se pudieron cargar los roles";
                    }
                    else {
                        _this.mensajeResponse.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.  No se pudieron cargar los roles";
                    }
                }
                _this.cargarDatosCatalogo = false;
            });
        };
        /**
         * Este método agrega un id de un catalogo a un array
         * ejemplo <code>(click)="ctrl.addInFormArray(val.id, ctrl.dato.controls.permisos, true)"</code>
         * @param valor valor a agregar al array de datos
         * @param modelo  array de datos
         * @param key nombre de la clave para guardar temporal
         * @param esmodelo Bandera que determina si el modelo es un formGroup
         * @return void
         */
        this.modelo = [];
        this.todosSeleccionados = [];
        this.error_archivo = false;
        this.error_json = false;
        //mostrar notificaciones configuracion default, posicion abajo izquierda, tiempo 2 segundos
        this.options = {
            position: ["bottom", "left"],
            timeOut: 2000,
            lastOnBottom: true
        };
    }
    /**
     * Este método se dispara al iniciar la carga de la vista asociada
     * @return void
     */
    FormularioComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.title.setTitle(this.titulo);
        this.route.params.subscribe(function (params) {
            _this.id = params['id']; // Se puede agregar un simbolo + antes de la variable params para volverlo number
            if (_this.id)
                _this.cargarDatos();
        });
        this.moduloTitulo = this.id ? "Modificar" : "Nuevo";
    };
    /**
    * Este método envia es intermediario y determina si un elemento es nuevo
    * o solo se esta editando
    * @return void
    */
    FormularioComponent.prototype.enviar = function (regresar) {
        if (regresar === void 0) { regresar = true; }
        if (this.id)
            this.actualizarDatos();
        else
            this.guardarDatos(regresar);
    };
    /**
    * Este método envia los datos para agregar un elemento
    * @return void
    */
    FormularioComponent.prototype.guardarDatos = function (regresar) {
        var _this = this;
        this.cargando = true;
        var json = this.dato.getRawValue();
        this.crudService.crear(json, this.URL).subscribe(function (resultado) {
            _this.cargando = false;
            if (regresar)
                _this.location.back();
        }, function (error) {
            _this.cargando = false;
            _this.mensajeResponse.texto = "No especificado.";
            _this.mensajeResponse.mostrar = true;
            _this.mensajeResponse.clase = 'error';
            _this.mensaje(3);
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeResponse.texto = "No tiene permiso para hacer esta operación.";
                }
                // Problema de validación
                if (error.status == 409) {
                    _this.mensajeResponse.texto = "Por favor verfique los campos marcados en rojo.";
                    _this.mensajeResponse.clase = 'warning';
                    _this.mensaje(8);
                    for (var input in e.error) {
                        // Iteramos todos los errores
                        for (var i in e.error[input]) {
                            _this.mensajeResponse.titulo = input;
                            _this.mensajeResponse.texto = e.error[input][i];
                            _this.mensajeResponse.clase = "error";
                            _this.mensaje(3);
                        }
                    }
                }
            }
            catch (e) {
                if (error.status == 500) {
                    _this.mensajeResponse.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeResponse.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    /**
     * Este método envia los datos para actualizar un elemento con el id
     * que se envia por la url
     * @return void
     */
    FormularioComponent.prototype.actualizarDatos = function () {
        var _this = this;
        this.cargando = true;
        var dato = this.dato.value;
        if (!this.cambiarPassword) {
            delete dato.cambiarPassword;
        }
        this.crudService.editar(this.id, this.dato.value, this.URL).subscribe(function (resultado) {
            _this.cargando = false;
            _this.mensajeResponse.texto = "Se han guardado los cambios.";
            _this.mensajeResponse.mostrar = true;
            _this.mensajeResponse.clase = "success";
            _this.mensaje(2);
        }, function (error) {
            _this.cargando = false;
            _this.mensajeResponse.texto = "No especificado.";
            _this.mensajeResponse.mostrar = true;
            _this.mensajeResponse.clase = "alert";
            _this.mensaje(2);
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeResponse.texto = "No tiene permiso para hacer esta operación.";
                    _this.mensajeResponse.clase = "error";
                    _this.mensaje(2);
                }
                // Problema de validación
                if (error.status == 409) {
                    _this.mensajeResponse.texto = "Por favor verfique los campos marcados en rojo.";
                    _this.mensajeResponse.clase = "error";
                    _this.mensaje(8);
                    for (var input in e.error) {
                        // Iteramos todos los errores
                        for (var i in e.error[input]) {
                            _this.mensajeResponse.titulo = input;
                            _this.mensajeResponse.texto = e.error[input][i];
                            _this.mensajeResponse.clase = "error";
                            _this.mensaje(3);
                        }
                    }
                }
            }
            catch (e) {
                if (error.status == 500) {
                    _this.mensajeResponse.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeResponse.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
                _this.mensajeResponse.clase = "error";
                _this.mensaje(2);
            }
        });
    };
    /**
     * Este método es recursivo y recorre todo el formulario reactivo para crear los que son de tipo array y agregar su respectivo valor
     * @param resultado json con los datos del objecto resultado de la consulta a la base de datos
     * @param data formulario reactivo donde se guardaran los valores resultantes
     * @return void
     */
    FormularioComponent.prototype.cargarDatosRecursivo = function (resultado, data) {
        var _this = this;
        try {
            //validar si el resultado es un array para recorrer de manera unica
            if (Array.isArray(resultado)) {
                try {
                    var posicionx = 0;
                    var valoresx_1 = [];
                    resultado.forEach(function (ax) {
                        if (typeof ax === "object") {
                            var xx = {};
                            for (var key1x in ax) {
                                if (ax[key1x] || (key1x != 'created_at' && key1x != 'updated_at' && key1x != 'deleted_at')) {
                                    xx[key1x] = ax[key1x];
                                }
                            }
                            var xtx = [];
                            var tieneDatosx = false;
                            for (var key1x in xx) {
                                if (Array.isArray(xx[key1x])) {
                                    if (!xtx[key1x])
                                        xtx[key1x] = [];
                                    xtx[key1x].push(xx[key1x]);
                                    xx[key1x] = _this.fb.array([]);
                                    tieneDatosx = true;
                                }
                            }
                            //agregar todos los controles sin excepcion                            
                            data.push(_this.fb.group(xx));
                            //recorrer los controles en busca de los que son de tipo array
                            if (tieneDatosx) {
                                //obtener el control para agregar un nuevo control                            
                                var x2x = data.controls[posicionx];
                                for (var xrx in xtx) {
                                    for (var x1x in xtx[xrx]) {
                                        //crear el form array en caso de que el dato sea un array 
                                        x2x.controls[x1x] = new __WEBPACK_IMPORTED_MODULE_3__angular_forms__["FormArray"]([]);
                                        //obtener su control
                                        var x3x = x2x.controls[xrx];
                                        //llamar el metodo recursivo para llegar al ultimo array en la lista
                                        _this.cargarDatosRecursivo(xtx[xrx][x1x], x3x);
                                    }
                                }
                            }
                            else {
                                return;
                            }
                            ;
                        }
                        else {
                            valoresx_1.push(ax);
                        }
                        posicionx++;
                    });
                    if (valoresx_1.length > 0)
                        data.patchValue(valoresx_1);
                }
                catch (e) {
                    console.log(2, e);
                    return;
                }
            }
            else {
                try {
                    //recorrer los controles del formulario y agregar su respectivo valor
                    for (var key in resultado) {
                        //validar que exista en la declaracion del fromulario
                        if (data.controls[key]) {
                            //validar si es un array                        
                            if (Array.isArray(resultado[key])) {
                                var valores = [];
                                var control = data.controls[key];
                                var posicion1 = 0, posicion2 = 0;
                                //recorrer los items del array para validar si no hay mas array
                                try {
                                    for (var a1 in resultado[key]) {
                                        var a = resultado[key][a1];
                                        //si es un objeto crear un fromgroup o un nuevo array                            
                                        if (typeof a === "object") {
                                            var x = {};
                                            for (var key1 in a) {
                                                if (a[key1] || (key1 != 'created_at' && key1 != 'updated_at' && key1 != 'deleted_at')) {
                                                    x[key1] = a[key1];
                                                }
                                            }
                                            var xt = [];
                                            var tieneDatos = false;
                                            for (var key1 in x) {
                                                if (Array.isArray(x[key1])) {
                                                    if (!xt[key1])
                                                        xt[key1] = [];
                                                    xt[key1].push(x[key1]);
                                                    x[key1] = this.fb.array([]);
                                                    tieneDatos = true;
                                                }
                                            }
                                            //agregar todos los controles sin excepcion
                                            control.push(this.fb.group(x));
                                            //recorrer los controles en busca de los que son de tipo array
                                            try {
                                                if (tieneDatos) {
                                                    //obtener el control para agregar un nuevo control                            
                                                    var x2 = control.controls[posicion1];
                                                    for (var xr in xt) {
                                                        for (var x1 in xt[xr]) {
                                                            //crear el form array en caso de que el dato sea un array 
                                                            x2.controls[x1] = new __WEBPACK_IMPORTED_MODULE_3__angular_forms__["FormArray"]([]);
                                                            //obtener su control
                                                            var x3 = x2.controls[xr];
                                                            //llamar el metodo recursivo para llegar al ultimo array en la lista
                                                            this.cargarDatosRecursivo(xt[xr][x1], x3);
                                                        }
                                                    }
                                                }
                                            }
                                            catch (e) {
                                                console.log(5, e);
                                                return data;
                                            }
                                        }
                                        else {
                                            valores.push(a);
                                        }
                                        posicion1++;
                                    }
                                    if (valores.length > 0)
                                        control.patchValue(valores);
                                }
                                catch (e) {
                                    console.log(4, e);
                                    return;
                                }
                            }
                            else {
                                /*if (!resultado[key]) {
                                    resultado[key] = this.fb.group({});
                                }*/
                                data.controls[key].patchValue(resultado[key]);
                            }
                        }
                    }
                }
                catch (e) {
                    console.log(3, e);
                    return;
                }
            }
            return data;
        }
        catch (e) {
            console.log(1, e);
            return;
        }
    };
    FormularioComponent.prototype.reset_form = function () {
        this.dato.reset();
        for (var item in this.dato.controls) {
            var ctrl = this.dato.controls[item];
            if (ctrl.controls) {
                if (typeof ctrl.controls.length == 'number') {
                    while (ctrl.length) {
                        ctrl.removeAt(ctrl.length - 1);
                    }
                    ctrl.reset();
                }
            }
        }
        return true;
    };
    /**
     * Este método carga los datos de un elemento de la api con el id que se pase por la url
     * en la api, abre una ventana modal para confirmar la acción
     * @return void
     */
    FormularioComponent.prototype.cargarDatos = function () {
        var _this = this;
        if (this.reset_form()) {
            try {
                this.cargando = true;
                this.crudService.ver(this.id, this.URL).subscribe(function (resultado) {
                    _this.cargando = false;
                    _this.datosCargados = true;
                    //validar todos los key que tengan el array  
                    _this.dato.patchValue(_this.cargarDatosRecursivo(resultado, _this.dato));
                    _this.mensajeResponse.titulo = "Modificar";
                    _this.mensajeResponse.texto = "Los datos se cargaron";
                    _this.mensajeResponse.clase = "success";
                    _this.mensaje(2);
                }, function (error) {
                    _this.cargando = false;
                    _this.datosCargados = false;
                    _this.mensajeResponse = new __WEBPACK_IMPORTED_MODULE_7__mensaje__["a" /* Mensaje */](true);
                    _this.mensajeResponse = new __WEBPACK_IMPORTED_MODULE_7__mensaje__["a" /* Mensaje */](true);
                    _this.mensajeResponse.mostrar;
                    try {
                        var e = error.json();
                        if (error.status == 401) {
                            _this.mensajeResponse.texto = "No tiene permiso para hacer esta operación.";
                            _this.mensajeResponse.clase = "success";
                            _this.mensaje(2);
                        }
                    }
                    catch (e) {
                        if (error.status == 500) {
                            _this.mensajeResponse.texto = "500 (Error interno del servidor)";
                        }
                        else {
                            _this.mensajeResponse.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                        }
                        _this.mensajeResponse.clase = "error";
                        _this.mensaje(2);
                    }
                });
            }
            catch (e) {
                console.log(0, e);
            }
        }
    };
    /**
     * Este método es intermediario para la eliminación de un elemento
     * en la api, abre una ventana modal para confirmar la acción
     * @param item contiene el valor del elemento a eliminar
     * @param index  indica la posicion del elemento en la lista cargada
     * @return void
     */
    FormularioComponent.prototype.eliminar = function (item) {
        this.borrarItem = item;
        document.getElementById("confirmarEliminar").classList.add('is-active');
    };
    /**
     * Este método cierra el modal de la de confirmación de eleimnación
     * @return void
     */
    FormularioComponent.prototype.cancelarModal = function () {
        document.getElementById("confirmarEliminar").classList.remove('is-active');
    };
    /**
     * Este método se encarga de la eliminacion de un elemento
     * en la api
     * @param item contiene el valod del elemento a eliminar
     * @param index  indica la posicion del elemento en la lista cargada
     * @return void
     */
    FormularioComponent.prototype.borrar = function (item) {
        var _this = this;
        this.borrarCargando = true;
        this.crudService.eliminar(item, this.URL).subscribe(function (data) {
            _this.borrarCargando = false;
            _this.mensajeResponse.mostrar = true;
            _this.mensajeResponse.texto = "Se eliminó el elemento de la lista.";
            _this.mensajeResponse.clase = "success";
            _this.mensaje(2);
            _this.cancelarModal();
            _this.regresar();
        }, function (error) {
            _this.borrarCargando = false;
            _this.mensajeResponse.mostrar = true;
            _this.cancelarModal();
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeResponse.texto = "No tiene permiso para hacer esta operación.";
                    _this.mensajeResponse.clase = "danger";
                    _this.mensaje(2);
                }
            }
            catch (e) {
                if (error.status == 500) {
                    _this.mensajeResponse.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeResponse.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
                _this.mensajeResponse.clase = "danger";
                _this.mensaje(2);
            }
        });
    };
    FormularioComponent.prototype.cargarCatalogo = function (item, url) {
        var _this = this;
        this.cargando = true;
        this.cargarDatosCatalogo = true;
        this.crudService.lista(0, 0, url).subscribe(function (resultado) {
            _this[item] = resultado;
            _this.cargando = false;
            if (resultado.length == 0) {
                _this.mensajeResponse.titulo = item;
                _this.mensajeResponse.texto = "Esta vacio, p\u00F3ngase en contacto con un administrador.";
                _this.mensajeResponse.mostrar = true;
                _this.mensajeResponse.clase = 'warning';
                _this.mensaje(3);
            }
            _this.cargarDatosCatalogo = false;
        }, function (error) {
            _this.mensajeResponse = new __WEBPACK_IMPORTED_MODULE_7__mensaje__["a" /* Mensaje */](true);
            _this.mensajeResponse.texto = "No especificado.";
            _this.mensajeResponse.mostrar = true;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeResponse.texto = "No tiene permiso para ver los roles.";
                }
                if (error.status == 500) {
                    _this.mensajeResponse.texto = "500 (Error interno del servidor). No se pudieron cargar los roles";
                }
            }
            catch (e) {
                if (error.status == 500) {
                    _this.mensajeResponse.texto = "500 (Error interno del servidor). No se pudieron cargar los roles";
                }
                else {
                    _this.mensajeResponse.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.  No se pudieron cargar los roles";
                }
            }
            _this.cargarDatosCatalogo = false;
        });
    };
    /**
     * Este método regresa a una pagina anterior
     * @return void
     */
    FormularioComponent.prototype.regresar = function () {
        this.location.back();
    };
    FormularioComponent.prototype.addInFormArray = function (valor, modelo, key, esmodelo) {
        if (esmodelo === void 0) { esmodelo = false; }
        if (!this.modelo[key]) {
            this.modelo[key] = modelo.value;
        }
        var i = this.modelo[key].indexOf(valor);
        if (i > -1) {
            this.modelo[key].splice(i, 1);
        }
        else {
            this.modelo[key].push(valor);
        }
        if (!esmodelo)
            modelo = this.modelo[key];
        else
            modelo.patchValue(this.modelo[key]);
    };
    /**
     * Este método agrega los ids de un elemento al listado de un modelo
     * ejemplo <code>(click)="ctrl.seleccionarTodos('admin', arrayDatos, ctrl.dato.controls.permisos, true)"</code>
     * @param clave nombre para identificar en caso de que sean muchos
     * @param valores Valores a agregar en el modelo
     * @param modelo Nombre del modelo
     * @param esmodelo Bandera que determina si el modelo es un formGroup
     * @return void
     */
    FormularioComponent.prototype.seleccionarTodos = function (clave, valores, modelo, esmodelo) {
        if (esmodelo === void 0) { esmodelo = false; }
        if (!this.todosSeleccionados[clave])
            this.todosSeleccionados[clave] = false;
        this.todosSeleccionados[clave] = !this.todosSeleccionados[clave];
        var i = 0;
        if (!esmodelo)
            this.modelo[clave] = [];
        else
            this.modelo[clave] = modelo.value;
        if (esmodelo)
            var temp = modelo.value;
        for (var _i = 0, valores_1 = valores; _i < valores_1.length; _i++) {
            var item = valores_1[_i];
            if (this.todosSeleccionados[clave]) {
                this.modelo[clave].push(item.id);
            }
            else {
                if (esmodelo) {
                    temp.splice(modelo.value.indexOf(item.id), 1);
                }
                else {
                    modelo.splice(this.modelo[clave].indexOf(item.id), 1);
                }
            }
        }
        if (!esmodelo)
            modelo.push(this.modelo[clave]);
        else {
            if (this.todosSeleccionados[clave])
                modelo.patchValue(this.modelo[clave]);
            else
                modelo.patchValue(temp);
        }
    };
    /**
     * Este método genera un array de datos a mover de izquierda a derecha o viseversa en el control mover
     * ejemplo <code>(click)="ctrl.seleccionarTodosMover('derecha', ctrl.dato.controls.almacen_tipos_movimientos.controls)"</code>
     * @param clave  Posicion izquierda-derecha del movimiento de los datos
     * @param modelo  modelo de donde se va a seleccionar los elementos a mover
     * @return void
     */
    FormularioComponent.prototype.seleccionarTodosMover = function (clave, modelo) {
        if (!this.todosSeleccionados[clave])
            this.todosSeleccionados[clave] = false;
        this.todosSeleccionados[clave] = !this.todosSeleccionados[clave];
        for (var _i = 0, modelo_1 = modelo; _i < modelo_1.length; _i++) {
            var item = modelo_1[_i];
            if (this.todosSeleccionados[clave]) {
                this[clave].push(item);
            }
            else {
                this[clave].splice(this[clave].indexOf(item), 1);
            }
        }
    };
    /**
     * Este método agrega un objeto a un array de elementos para mover
     * ejemplo <code>(click)="ctrl.agregarMover('derecha', ctrl.dato.controls.almacen_tipos_movimientos.controls, item)"</code>
     * @param clave Posicion izquierda-derecha del movimiento de los datos
     * @param modelo  modelo que corresponde al array a agregar los elementos
     * @param valor valor a agregar al array
     * @return void
     */
    FormularioComponent.prototype.agregarMover = function (clave, modelo, valor) {
        var i = this[clave].indexOf(valor);
        if (i > -1) {
            this[clave].splice(i, 1);
        }
        else {
            this[clave].push(valor);
        }
    };
    /**
     * Este método verifica que el modelo de mover datos no aparezca en la lista de seleccion si existe quitarlo de izquierda
     * ejemplo
     * <code>(click)="ctrl.initMover(ctrl.dato.controls.almacen_tipos_movimientos.controls, ctrl.tipos_movimientos)"</code>
     * @param toModelo  modelo que corresponde al array a agregar los elementos
     * @param ofModelo modelo de donde se quitan los valores
     * @return void
     */
    FormularioComponent.prototype.initMover = function (toModelo, ofModelo) {
        for (var _i = 0, toModelo_1 = toModelo; _i < toModelo_1.length; _i++) {
            var item = toModelo_1[_i];
            var i = 0;
            for (var _a = 0, ofModelo_1 = ofModelo; _a < ofModelo_1.length; _a++) {
                var val = ofModelo_1[_a];
                if (item.value.id == val.id) {
                    ofModelo.splice(i, 1);
                }
                i++;
            }
        }
    };
    /**
     * Este método agrega un objeto a un array de elementos para mover
     * ejemplo
     * <code>(click)="ctrl.iniciarMover('derecha', ctrl.tipos_movimientos, ctrl.dato.controls.almacen_tipos_movimientos.controls, false)"</code>
     * <code>(click)="ctrl.iniciarMover('izquierda', ctrl.dato.controls.almacen_tipos_movimientos.controls, ctrl.tipos_movimientos, true)"</code>
     * @param clave Posicion izquierda-derecha del movimiento de los datos
     * @param toModelo  modelo que corresponde al array a agregar los elementos
     * @param ofModelo modelo de donde se quitan los valores
     * @param esmodelo Bandera que determina si el modelo es un formGroup
     * @return void
     */
    FormularioComponent.prototype.iniciarMover = function (clave, toModelo, ofModelo, esmodelo) {
        if (esmodelo === void 0) { esmodelo = false; }
        for (var _i = 0, _a = this[clave]; _i < _a.length; _i++) {
            var item = _a[_i];
            if (esmodelo) {
                toModelo.push(this.fb.group(item));
                var i = 0;
                for (var _b = 0, ofModelo_2 = ofModelo; _b < ofModelo_2.length; _b++) {
                    var val = ofModelo_2[_b];
                    if (item.id == val.id) {
                        ofModelo.splice(i, 1);
                    }
                    i++;
                }
            }
            else {
                toModelo.push(item.value);
                var i = 0;
                for (var _c = 0, ofModelo_3 = ofModelo; _c < ofModelo_3.length; _c++) {
                    var val = ofModelo_3[_c];
                    if (item.value.id == val.value.id) {
                        ofModelo.splice(i, 1);
                    }
                    i++;
                }
            }
        }
        this[clave] = [];
        if (this.todosSeleccionados[clave]) {
            ofModelo = [];
        }
        this.todosSeleccionados[clave] = false;
    };
    /**
     * Este método genera una cadena de longitud determinada y la agrega a un modelo
     * ejemplo <code>(click)="ctrl.generarCadenaRandom(ctrl.dato.controls.id, 32, true)"</code>
     * @param modelo  Nombre del modelo donde se guarda la cadena
     * @param tamano  longitud de la cadena
     * @param esmodelo Bandera que determina si el modelo es un formGroup
     * @return void
     */
    FormularioComponent.prototype.generarCadenaRandom = function (modelo, tamano, esmodelo) {
        if (esmodelo === void 0) { esmodelo = false; }
        var cadena = "";
        var random = Math.floor(Math.random() * ((9999 * tamano) - 1111)) + tamano;
        for (var i = 0; i < tamano; i++) {
            random += "" + Math.floor(Math.random() * ((9999 * tamano) - 1111)) + tamano;
        }
        var tiempo = Math.round(new Date().getTime() / 1000);
        cadena = "" + tiempo + random;
        cadena = btoa(cadena);
        cadena = cadena.substr(0, cadena.length - 3);
        cadena = cadena.substr(Math.floor(Math.random() * (100 - 10)) + 1, tamano);
        if (!esmodelo)
            modelo = cadena;
        else
            modelo.patchValue(cadena);
    };
    /**
     * Este método selecciona un item y lo pasa al modelo del autocomplete para no mandar el objeto si no se requiere y mandar unicamente el valor
     * ejemplo <code>(valueChanged)="ctrl.select_item_autocomplete(ctrl.dato.controls.clues, 'clues', $event, true)"</code>
     * @param modelo Nombre del modelo donde se guarda el dato obtenido
     * @param item nombre del item a extraer del objeto
     * @param datos objeto donde se busca el elemento para su extraccion
     * @param esmodelo Bandera que determina si el modelo es un formGroup
     * @return void
     */
    FormularioComponent.prototype.select_item_autocomplete = function (modelo, item, datos, esmodelo) {
        if (esmodelo === void 0) { esmodelo = false; }
        if (!esmodelo)
            modelo = datos[item];
        else
            modelo.patchValue(datos[item]);
    };
    /**
     * Este método agrega un formgrupo a un formarray, para crear un formulario dinamico
     * ejemplo <code>(click)="ctrl.agregar_form_array(ctrl.dato.controls.almacen_tipos_movimientos.controls, form_almacen_tipos_movimientos)"</code>
     * @param modelo Nombre del modelo donde se guarda el dato obtenido
     * @param formulario Nombre del modelo donde se guarda el dato obtenido
     * @return void
     */
    FormularioComponent.prototype.agregar_form_array = function (modelo, formulario) {
        modelo.push(this.fb.group(formulario));
    };
    /**
     * Este método quita un formgrupo a un formarray, para crear un formulario dinamico
     * ejemplo <code>(click)="ctrl.quitar_form_array(ctrl.dato.controls.almacen_tipos_movimientos, i)"</code>
     * @param modelo Nombre del modelo donde se guarda el dato obtenido
     * @param i Posicion del elemento a eliminar
     * @return void
     */
    FormularioComponent.prototype.quitar_form_array = function (modelo, i) {
        modelo.removeAt(i);
    };
    /**
     * Este método selecciona una imagen de un campo file <input type="file" (change)="seleccionarImagenBase64($event, 'modelo')">
     * @param evt Evento change del campo file
     * @param modelo Modelo donde guardaremos la cadena en base64 de la imagen
     * @param multiple bandera que determina si el campo es multiple
     * @return void
     */
    FormularioComponent.prototype.seleccionarImagenBase64 = function (evt, modelo, multiple) {
        if (multiple === void 0) { multiple = false; }
        var files = evt.target.files;
        var esto = this;
        esto.error_archivo = false;
        if (!multiple) {
            var file = files[0];
            if (files && file) {
                var reader = new FileReader();
                reader.readAsBinaryString(file);
                reader.onload = (function (theFile) {
                    return function (e) {
                        try {
                            modelo.patchValue(btoa(e.target.result));
                        }
                        catch (ex) {
                            esto.error_archivo = true;
                        }
                    };
                })(file);
            }
        }
        else {
            var objeto = [];
            for (var i = 0, f; f = files[i]; i++) {
                var reader = new FileReader();
                reader.readAsBinaryString(f);
                reader.onload = (function (theFile) {
                    return function (e) {
                        try {
                            objeto.push(btoa(e.target.result));
                        }
                        catch (ex) {
                            esto.error_archivo = true;
                        }
                    };
                })(f);
            }
            console.log(objeto);
            modelo.patchValue(objeto);
        }
    };
    /**
     * Este método selecciona un archivo txt con un json para subirlo <input type="file" (change)="seleccionarJson($event, 'modelo')">
     * @param evt Evento change del campo file
     * @param modelo Modelo donde guardaremos la cadena en base64 de la imagen
     * @return void
     */
    FormularioComponent.prototype.convertirJson = function (evt, modelo, mostrar) {
        modelo.patchValue('');
        this.error_json = false;
        var files = evt.target.files;
        var file = files[0];
        var esto = this;
        if (files && file) {
            var json = "";
            var reader = new FileReader();
            reader.readAsBinaryString(file);
            reader.onload = (function (theFile) {
                return function (e) {
                    try {
                        json = JSON.parse(e.target.result);
                        modelo.patchValue(json);
                    }
                    catch (ex) {
                        esto.error_json = true;
                    }
                };
            })(file);
        }
    };
    /**
     * Este método muestra los mensajes resultantes de los llamados de la api
     * @param cuentaAtras numero de segundo a esperar para que el mensaje desaparezca solo
     * @param posicion  array de posicion [vertical, horizontal]
     * @return void
     */
    FormularioComponent.prototype.mensaje = function (cuentaAtras, posicion) {
        if (cuentaAtras === void 0) { cuentaAtras = 6; }
        if (posicion === void 0) { posicion = ["bottom", "left"]; }
        var objeto = {
            showProgressBar: true,
            pauseOnHover: false,
            clickToClose: true,
            maxLength: this.mensajeResponse.texto.length
        };
        this.options = {
            position: posicion,
            timeOut: cuentaAtras * 1000,
            lastOnBottom: true
        };
        if (this.mensajeResponse.titulo == '')
            this.mensajeResponse.titulo = this.titulo;
        if (this.mensajeResponse.clase == 'alert')
            this.notificacion.alert(this.mensajeResponse.titulo, this.mensajeResponse.texto, objeto);
        if (this.mensajeResponse.clase == 'success')
            this.notificacion.success(this.mensajeResponse.titulo, this.mensajeResponse.texto, objeto);
        if (this.mensajeResponse.clase == 'info')
            this.notificacion.info(this.mensajeResponse.titulo, this.mensajeResponse.texto, objeto);
        if (this.mensajeResponse.clase == 'warning' || this.mensajeResponse.clase == 'warn')
            this.notificacion.warn(this.mensajeResponse.titulo, this.mensajeResponse.texto, objeto);
        if (this.mensajeResponse.clase == 'error' || this.mensajeResponse.clase == 'danger')
            this.notificacion.error(this.mensajeResponse.titulo, this.mensajeResponse.texto, objeto);
    };
    return FormularioComponent;
}());
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", String)
], FormularioComponent.prototype, "URL", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", String)
], FormularioComponent.prototype, "titulo", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_3__angular_forms__["FormGroup"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__angular_forms__["FormGroup"]) === "function" && _a || Object)
], FormularioComponent.prototype, "dato", void 0);
FormularioComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'formulario',
        template: "<simple-notifications [options]=\"options\"></simple-notifications>\n    <div class=\"modal\" id=\"confirmarEliminar\">\n        <div class=\"modal-background\"></div>\n        <div class=\"modal-card\">\n            <header class=\"modal-card-head\">\n            <p class=\"modal-card-title\"><i class=\"fa fa-warning\"></i> Alerta</p>\n            <button class=\"delete\" (click)=\"cancelarModal()\"></button>\n            </header>\n            <section class=\"modal-card-body\">\n                <div class=\"content\">\n                    <h1>\u00BFEsta seguro de eliminar el elemento?</h1>\n                    <p>Ya no se podra recuperar la informaci\u00F3n</p>\n                </div>\n            </section>\n            <footer class=\"modal-card-foot\">\n            <a class=\"button is-success\" (click)=\"borrar(borrarItem)\" [ngClass]=\"{'is-loading': borrarCargando}\">Continuar</a>\n            <a class=\"button\" (click)=\"cancelarModal()\">Cancelar</a>\n            </footer>\n        </div>\n    </div>\n    "
    }),
    __metadata("design:paramtypes", [typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* Router */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_4__angular_platform_browser__["b" /* Title */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__angular_platform_browser__["b" /* Title */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_5__auth_service__["a" /* AuthService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_5__auth_service__["a" /* AuthService */]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* ActivatedRoute */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* ActivatedRoute */]) === "function" && _e || Object, typeof (_f = typeof __WEBPACK_IMPORTED_MODULE_1__angular_common__["Location"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_common__["Location"]) === "function" && _f || Object, typeof (_g = typeof __WEBPACK_IMPORTED_MODULE_6__crud_service__["a" /* CrudService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_6__crud_service__["a" /* CrudService */]) === "function" && _g || Object, typeof (_h = typeof __WEBPACK_IMPORTED_MODULE_3__angular_forms__["FormBuilder"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__angular_forms__["FormBuilder"]) === "function" && _h || Object, typeof (_j = typeof __WEBPACK_IMPORTED_MODULE_8_angular2_notifications__["a" /* NotificationsService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_8_angular2_notifications__["a" /* NotificationsService */]) === "function" && _j || Object])
], FormularioComponent);

var _a, _b, _c, _d, _e, _f, _g, _h, _j;
//# sourceMappingURL=C:/wamp/www/x3-C/src/formulario.component.js.map

/***/ }),

/***/ "../../../../../src/app/crud/listar.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs__ = __webpack_require__("../../../../rxjs/Rx.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_rxjs__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__ = __webpack_require__("../../../../rxjs/Subject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_observable_of__ = __webpack_require__("../../../../rxjs/add/observable/of.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_observable_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_rxjs_add_observable_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw__ = __webpack_require__("../../../../rxjs/add/observable/throw.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_debounceTime__ = __webpack_require__("../../../../rxjs/add/operator/debounceTime.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_debounceTime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_debounceTime__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_distinctUntilChanged__ = __webpack_require__("../../../../rxjs/add/operator/distinctUntilChanged.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_distinctUntilChanged___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_distinctUntilChanged__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_map__ = __webpack_require__("../../../../rxjs/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_map__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_switchMap__ = __webpack_require__("../../../../rxjs/add/operator/switchMap.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_switchMap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_switchMap__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_catch__ = __webpack_require__("../../../../rxjs/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_catch___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_catch__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__auth_service__ = __webpack_require__("../../../../../src/app/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__crud_service__ = __webpack_require__("../../../../../src/app/crud/crud.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__mensaje__ = __webpack_require__("../../../../../src/app/mensaje.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14_angular2_notifications__ = __webpack_require__("../../../../angular2-notifications/dist/index.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ListarComponent; });
/**
* <h1>Listar Component</h1>
*<p>
* El componente listar se encarga obtener una lista de elementos
* de la api con los parametros y filtros que se especifiquen,
* interactua con el servicio crud
* </p>
*
* @author  Eliecer Ramirez Esquinca
* @version 1.0
* @since   2017-05-08
*/
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};















var ListarComponent = (function () {
    /**
     * Este método inicializa la carga de las dependencias
     * que se necesitan para el funcionamiento del modulo
     */
    function ListarComponent(title, crudService, authService, notificacion) {
        this.title = title;
        this.crudService = crudService;
        this.authService = authService;
        this.notificacion = notificacion;
        this.cargando = false;
        this.borrarCargando = false;
        // # FIN SECCION
        // # SECCION: Lista de dato
        //dato es el modelo general que contiene los datos del formulario
        this.dato = [];
        this.respuesta = [];
        this.mensajeResponse = new __WEBPACK_IMPORTED_MODULE_13__mensaje__["a" /* Mensaje */](true);
        this.paginaActual = 1;
        this.resultadosPorPagina = 20;
        this.total = 0;
        this.paginasTotales = 0;
        this.indicePaginas = [];
        // # FIN SECCION
        // # SECCION: Resultados de búsqueda
        this.ultimoTerminoBuscado = "";
        this.terminosBusqueda = new __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__["Subject"]();
        this.resultadosBusqueda = [];
        this.busquedaActivada = false;
        this.paginaActualBusqueda = 1;
        this.resultadosPorPaginaBusqueda = 20;
        this.totalBusqueda = 0;
        this.paginasTotalesBusqueda = 0;
        this.indicePaginasBusqueda = [];
        //abre una modal para confirmar la eliminacion
        this.borrarItem = "";
        this.borrarIndex = "";
        //mostrar notificaciones
        this.options = {
            position: ["bottom", "left"],
            timeOut: 2000,
            lastOnBottom: true
        };
    }
    /**
     * Este método se dispara al iniciar la carga de la vista asociada
     * en este caso se utiliza para cargar la lista inicial
     * @return void
     */
    ListarComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.listar(1);
        this.title.setTitle(this.titulo);
        var self = this;
        var busquedaSubject = this.terminosBusqueda
            .debounceTime(300) // Esperamos 300 ms pausando eventos
            .distinctUntilChanged() // Ignorar si la busqueda es la misma que la ultima
            .switchMap(function (term) {
            _this.busquedaActivada = term != "" ? true : false;
            _this.ultimoTerminoBuscado = term;
            _this.paginaActualBusqueda = 1;
            _this.cargando = true;
            return term ? _this.crudService.buscar(term, _this.paginaActualBusqueda, _this.resultadosPorPaginaBusqueda, _this.URL) : __WEBPACK_IMPORTED_MODULE_0_rxjs__["Observable"].of({ data: [] });
        }).catch(function handleError(error) {
            self.cargando = false;
            self.mensajeResponse.mostrar = true;
            self.ultimaPeticion = function () { self.listarBusqueda(self.ultimoTerminoBuscado, self.paginaActualBusqueda); }; //OJO
            try {
                var e = error.json();
                if (error.status == 401) {
                    self.mensajeResponse.texto = "No tiene permiso para hacer esta operación.";
                    self.mensajeResponse.clase = "danger";
                    this.mensaje(2);
                }
            }
            catch (e) {
                if (error.status == 500) {
                    self.mensajeResponse.texto = "500 (Error interno del servidor)";
                }
                else {
                    self.mensajeResponse.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
                self.mensajeResponse.clase = "danger";
                this.mensaje(2);
            }
            // Devolvemos el subject porque si no se detiene el funcionamiento del stream 
            return busquedaSubject;
        });
        busquedaSubject.subscribe(function (resultado) {
            _this.cargando = false;
            _this.resultadosBusqueda = resultado.data;
            _this.totalBusqueda = resultado.total | 0;
            _this.paginasTotalesBusqueda = Math.ceil(_this.totalBusqueda / _this.resultadosPorPaginaBusqueda);
            _this.indicePaginasBusqueda = [];
            for (var i = 0; i < _this.paginasTotalesBusqueda; i++) {
                _this.indicePaginasBusqueda.push(i + 1);
            }
        });
    };
    /**
     * Este método es un intermediario para realizar la busqueda en
     * api con los filtros que se especifiquen en la vista
     * @param term contiene las palabras de busqueda
     * @return void
     */
    ListarComponent.prototype.buscar = function (term) {
        this.terminosBusqueda.next(term);
    };
    /**
     * Este método obtiene una lista de elementos de la
     * api con los filtros que se especifiquen en la vista
     * @param term contiene las palabras de busqueda
     * @param pagina  inicio de la página para mostrar resultados
     * @return void
     */
    ListarComponent.prototype.listarBusqueda = function (term, pagina) {
        var _this = this;
        this.paginaActualBusqueda = pagina;
        this.cargando = true;
        this.crudService.buscar(term, pagina, this.resultadosPorPaginaBusqueda, this.URL).subscribe(function (resultado) {
            _this.cargando = false;
            _this.resultadosBusqueda = resultado.data;
            _this.totalBusqueda = resultado.total | 0;
            _this.paginasTotalesBusqueda = Math.ceil(_this.totalBusqueda / _this.resultadosPorPaginaBusqueda);
            _this.indicePaginasBusqueda = [];
            for (var i = 0; i < _this.paginasTotalesBusqueda; i++) {
                _this.indicePaginasBusqueda.push(i + 1);
            }
        }, function (error) {
            _this.cargando = false;
            _this.mensajeResponse.mostrar = true;
            _this.ultimaPeticion = function () { this.listarBusqueda(term, pagina); };
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeResponse.texto = "No tiene permiso para hacer esta operación.";
                    _this.mensajeResponse.clase = "danger";
                    _this.mensaje(2);
                }
            }
            catch (e) {
                if (error.status == 500) {
                    _this.mensajeResponse.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeResponse.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
                _this.mensajeResponse.clase = "danger";
                _this.mensaje(2);
            }
        });
    };
    /**
     * Este método obtiene una lista de elementos de la api
     * @param pagina  inicio de la página para mostrar resultados
     * @return void
     */
    ListarComponent.prototype.listar = function (pagina) {
        var _this = this;
        this.paginaActual = pagina;
        this.cargando = true;
        this.crudService.lista(pagina, this.resultadosPorPagina, this.URL).subscribe(function (resultado) {
            _this.cargando = false;
            _this.dato = resultado.data;
            _this.total = resultado.total | 0;
            _this.paginasTotales = Math.ceil(_this.total / _this.resultadosPorPagina);
            _this.indicePaginas = [];
            for (var i = 0; i < _this.paginasTotales; i++) {
                _this.indicePaginas.push(i + 1);
            }
            _this.mensajeResponse.mostrar = true;
            _this.mensajeResponse.texto = "lista cargada";
            _this.mensajeResponse.clase = "success";
            _this.mensaje(2);
        }, function (error) {
            _this.cargando = false;
            _this.mensajeResponse.mostrar = true;
            _this.ultimaPeticion = _this.listar;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeResponse.texto = "No tiene permiso para hacer esta operación.";
                    _this.mensajeResponse.clase = "danger";
                    _this.mensaje(2);
                }
            }
            catch (e) {
                if (error.status == 500) {
                    _this.mensajeResponse.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeResponse.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
                _this.mensajeResponse.clase = "danger";
                _this.mensaje(2);
            }
        });
    };
    /**
     * Este método es intermediario para la eliminación de un elemento
     * en la api, abre una ventana modal para confirmar la acción
     * @param item contiene el valod del elemento a eliminar
     * @param index  indica la posicion del elemento en la lista cargada
     * @return void
     */
    ListarComponent.prototype.eliminar = function (item, index) {
        this.borrarItem = item;
        this.borrarIndex = index;
        document.getElementById("confirmarEliminar").classList.add('is-active');
    };
    /**
     * Este método cierra el modal de la de confirmación de eleimnación
     * @return void
     */
    ListarComponent.prototype.cancelarModal = function () {
        document.getElementById("confirmarEliminar").classList.remove('is-active');
    };
    /**
     * Este método se encarga de la eliminacion de un elemento
     * en la api
     * @param item contiene el valod del elemento a eliminar
     * @param index  indica la posicion del elemento en la lista cargada
     * @return void
     */
    ListarComponent.prototype.borrar = function (item, index) {
        var _this = this;
        item.cargando = true;
        this.borrarCargando = true;
        this.crudService.eliminar(item.id, this.URL).subscribe(function (data) {
            item.cargando = false;
            _this.borrarCargando = false;
            _this.dato.splice(index, 1);
            _this.mensajeResponse.mostrar = true;
            _this.mensajeResponse.texto = "Se eliminó el elemento de la lista.";
            _this.mensajeResponse.clase = "success";
            _this.mensaje(2);
            _this.cancelarModal();
        }, function (error) {
            item.cargando = false;
            _this.borrarCargando = false;
            _this.mensajeResponse.mostrar = true;
            _this.ultimaPeticion = function () {
                this.eliminar(item, index);
            };
            _this.cancelarModal();
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeResponse.texto = "No tiene permiso para hacer esta operación.";
                    _this.mensajeResponse.clase = "danger";
                    _this.mensaje(2);
                }
            }
            catch (e) {
                if (error.status == 500) {
                    _this.mensajeResponse.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeResponse.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
                _this.mensajeResponse.clase = "danger";
                _this.mensaje(2);
            }
        });
    };
    // # SECCION: Paginación
    /**
     * Este método es intermediario para el listado incrementa en uno la paginación
     * @return void
     */
    ListarComponent.prototype.paginaSiguiente = function () {
        this.listar(this.paginaActual + 1);
    };
    /**
     * Este método es intermediario para el listado decrementa en uno la paginación
     * @return void
     */
    ListarComponent.prototype.paginaAnterior = function () {
        this.listar(this.paginaActual - 1);
    };
    /**
     * Este método es intermediario para el listado, con busqueda activa incrementa en uno la paginación
     * @return void
     */
    ListarComponent.prototype.paginaSiguienteBusqueda = function (term) {
        this.listarBusqueda(term, this.paginaActualBusqueda + 1);
    };
    /**
     * Este método es intermediario para el listado, con busqueda activa decrementa en uno la paginación
     * @return void
     */
    ListarComponent.prototype.paginaAnteriorBusqueda = function (term) {
        this.listarBusqueda(term, this.paginaActualBusqueda - 1);
    };
    /**
     * Este método muestra los mensajes resultantes de los llamados de la api
     * @param cuentaAtras numero de segundo a esperar para que el mensaje desaparezca solo
     * @param posicion  array de posicion [vertical, horizontal]
     * @return void
     */
    ListarComponent.prototype.mensaje = function (cuentaAtras, posicion) {
        if (cuentaAtras === void 0) { cuentaAtras = 6; }
        if (posicion === void 0) { posicion = ["bottom", "left"]; }
        var objeto = {
            showProgressBar: true,
            pauseOnHover: false,
            clickToClose: true,
            maxLength: this.mensajeResponse.texto.length
        };
        this.options = {
            position: posicion,
            timeOut: cuentaAtras * 1000,
            lastOnBottom: true
        };
        if (this.mensajeResponse.titulo == '')
            this.mensajeResponse.titulo = this.titulo;
        if (this.mensajeResponse.clase == 'alert')
            this.notificacion.alert(this.mensajeResponse.titulo, this.mensajeResponse.texto, objeto);
        if (this.mensajeResponse.clase == 'success')
            this.notificacion.success(this.mensajeResponse.titulo, this.mensajeResponse.texto, objeto);
        if (this.mensajeResponse.clase == 'info')
            this.notificacion.info(this.mensajeResponse.titulo, this.mensajeResponse.texto, objeto);
        if (this.mensajeResponse.clase == 'warning' || this.mensajeResponse.clase == 'warn')
            this.notificacion.warn(this.mensajeResponse.titulo, this.mensajeResponse.texto, objeto);
        if (this.mensajeResponse.clase == 'error' || this.mensajeResponse.clase == 'danger')
            this.notificacion.error(this.mensajeResponse.titulo, this.mensajeResponse.texto, objeto);
    };
    return ListarComponent;
}());
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"])(),
    __metadata("design:type", String)
], ListarComponent.prototype, "URL", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Input"])(),
    __metadata("design:type", String)
], ListarComponent.prototype, "titulo", void 0);
ListarComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__["Component"])({
        selector: 'listar',
        template: "<simple-notifications [options]=\"options\"></simple-notifications>\n    <div class=\"modal\" id=\"confirmarEliminar\">\n        <div class=\"modal-background\"></div>\n        <div class=\"modal-card\">\n            <header class=\"modal-card-head\">\n            <p class=\"modal-card-title\"><i class=\"fa fa-warning\"></i> Alerta</p>\n            <button class=\"delete\" (click)=\"cancelarModal()\"></button>\n            </header>\n            <section class=\"modal-card-body\">\n                <div class=\"content\">\n                    <h1>\u00BFEsta seguro de eliminar el elemento?</h1>\n                    <p>Ya no se podra recuperar la informaci\u00F3n</p>\n                </div>\n            </section>\n            <footer class=\"modal-card-foot\">\n            <a class=\"button is-success\" (click)=\"borrar(borrarItem, borrarIndex)\" [ngClass]=\"{'is-loading': borrarCargando}\">Continuar</a>\n            <a class=\"button\" (click)=\"cancelarModal()\">Cancelar</a>\n            </footer>\n        </div>\n    </div>"
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_2__angular_platform_browser__["b" /* Title */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_platform_browser__["b" /* Title */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_12__crud_service__["a" /* CrudService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_12__crud_service__["a" /* CrudService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_11__auth_service__["a" /* AuthService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_11__auth_service__["a" /* AuthService */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_14_angular2_notifications__["a" /* NotificationsService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_14_angular2_notifications__["a" /* NotificationsService */]) === "function" && _d || Object])
], ListarComponent);

var _a, _b, _c, _d;
//# sourceMappingURL=C:/wamp/www/x3-C/src/listar.component.js.map

/***/ }),

/***/ "../../../../../src/app/dashboard/dashboard.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/dashboard/dashboard.component.html":
/***/ (function(module, exports) {

module.exports = "<section class=\"hero is-primary\" style=\"position: fixed; width: 100%;top:0px; z-index:99\">\r\n    <div class=\"hero-head\">\r\n        <div class=\"container is-fluid\">\r\n            <nav class=\"nav is-primary\">\r\n                <div class=\"nav-left\">\r\n                    <a class=\"nav-item is-brand\" routerLink=\"/dashboard\" routerLinkActive=\"active\">\r\n                    <!--<img src=\"http://bulma.io/images/bulma-type.png\" alt=\"Bulma logo\">-->\r\n                    <span class=\"icon\">\r\n                        <i class=\"fa fa-tachometer\"></i>\r\n                    </span> \r\n                     <h1 class=\"title\">&nbsp;Dashboard</h1>\r\n                    </a>\r\n                </div>\r\n\r\n                <a class=\"nav-item\"  (click)=\"hub.toggle()\">\r\n                    <span class=\"icon\">\r\n                        <i class=\"fa fa-th\"></i>\r\n                    </span>\r\n                </a>\r\n\r\n                <a class=\"nav-item is-hidden-mobile\" (click)=\"perfil.toggle()\">                    \r\n                    <figure class=\"image\" style=\"width:26px;\"><img src=\"assets/{{ usuario.avatar || 'avatar-unknow' }}.svg\" alt=\"avatar\"></figure>\r\n                    &nbsp;\r\n                    <span>{{ usuario.nombre }} {{ usuario.apellidos }}</span>\r\n                </a>\r\n                <a class=\"nav-item is-hidden-tablet\" (click)=\"perfil.toggle()\">\r\n                    \r\n                    <figure class=\"image\" style=\"width:26px;\"><img src=\"assets/{{ usuario.avatar || 'avatar-unknow' }}.svg\" alt=\"avatar\"></figure>\r\n                </a>\r\n               \r\n                \r\n            </nav>\r\n        </div>\r\n    </div>\r\n</section>\r\n\r\n<app-hub #hub></app-hub>\r\n<app-perfil #perfil></app-perfil>"

/***/ }),

/***/ "../../../../../src/app/dashboard/dashboard.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DashboardComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var DashboardComponent = (function () {
    function DashboardComponent(title) {
        this.title = title;
        this.usuario = {};
    }
    DashboardComponent.prototype.ngOnInit = function () {
        this.title.setTitle("Dashboard");
        this.usuario = JSON.parse(localStorage.getItem("usuario"));
    };
    return DashboardComponent;
}());
DashboardComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-dashboard',
        template: __webpack_require__("../../../../../src/app/dashboard/dashboard.component.html"),
        styles: [__webpack_require__("../../../../../src/app/dashboard/dashboard.component.css")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */]) === "function" && _a || Object])
], DashboardComponent);

var _a;
//# sourceMappingURL=C:/wamp/www/x3-C/src/dashboard.component.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/buscar-insumos-movimientos/buscar-insumos-movimientos.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".mensaje-agregar {\r\n    position:absolute; width: auto;  bottom:0em; right:1em;\r\n    opacity: 0;\r\n    animation: mostrar 0.2s forwards ease-out;\r\n    -webkit-animation: mostrar 0.2s forwards ease-out;\r\n}\r\n\r\n\r\n@-webkit-keyframes mostrar {\r\n    0%   {  bottom:0em; opacity:0.0; }\r\n    100% {  bottom:3em; opacity:1.0; }\r\n}\r\n\r\n\r\n@keyframes mostrar {\r\n    0%   {  bottom:0em; opacity:0.0; }\r\n    100% {  bottom:3em; opacity:1.0; }\r\n}\r\n\r\n.item-seleccionado {\r\n    background: #F5F5F5 !important; font-weight: bold !important;\r\n}\r\n\r\n.is-disabled{\r\n    color: #DDDDDD;\r\n}", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/farmacia/buscar-insumos-movimientos/buscar-insumos-movimientos.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"modal is-active\">\r\n    <div class=\"modal-background\" (click)=\"cerrar()\"></div>\r\n    <div class=\"modal-card\" style=\"width:95%; height: 100%;\">\r\n\r\n        <header class=\"modal-card-head\" style=\"background: #00d1b2;\">\r\n\r\n\r\n            <div class=\"container is-fluid\" style=\"width:100%;\">\r\n                <h1 class=\"title\" style=\"color:#FFF;\">\r\n                    <span class=\"icon is-medium\"><i class=\"fa fa-search\"></i></span> Insumos médicos\r\n                </h1>\r\n\r\n                <!--<p class=\"control\">\r\n                <a class=\"button is-medium is-primary\" (click)=\"elegirLote()\" [ngClass]=\"{'is-success': lote, 'is-danger': !lote}\">\r\n                  <span>Elegir lote</span>\r\n                </a>\r\n              </p>\r\n\r\n              <div class=\"field\">\r\n                <p class=\"control\" *ngIf=\"salida\">\r\n                  <label class=\"checkbox\" style=\"color:#FFF;\">\r\n                    <input type=\"checkbox\" class=\"is-medium\" (click)=\"elegirLote()\"  >\r\n                      Elegir lote {{lote}}\r\n                  </label>\r\n                </p>\r\n              </div>-->\r\n\r\n                <p class=\"control is-expanded\">\r\n                    <input class=\"input \" type=\"text\" placeholder=\"Buscar insumo\" #searchBox id=\"search-box\" (keyup)=\"buscar(searchBox.value)\">\r\n                </p>\r\n            </div>\r\n            <a class=\"button  is-primary\" style=\"position:absolute; top:1em; right:1em;\" (click)=\"cerrar()\"><span class=\"icon \"><i class=\"fa fa-close\"></i></span></a>\r\n        </header>\r\n        <section class=\"modal-card-body\" style=\"padding:0px;\">\r\n\r\n            <div class=\"is-fullwidth has-text-centered\" *ngIf=\"cargando\">\r\n                <br>\r\n                <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n            <!-- TABLA -->\r\n            <table class=\"table is-striped\" *ngIf=\"!cargando\" style=\"font-size: 0.8em;\">\r\n                <thead>\r\n\r\n                    <tr>\r\n                        <th></th>\r\n                        <th class=\"is-hidden-mobile\">Clave</th>\r\n                        <th>Generico</th>\r\n                        <th class=\"is-hidden-mobile\">Descripción</th>\r\n                        <th style=\"text-align:center\" class=\"is-hidden-mobile\">Existencia</th>\r\n                        <th style=\"text-align:center\" class=\"is-hidden-mobile\">Grupo(s)</th>\r\n                        <th style=\"text-align:center\"><abbr title=\"Tipo de insumo\">Tipo</abbr></th>\r\n                        <th style=\"text-align:center\"><abbr title=\"Información\">Info</abbr></th>\r\n\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <!-- [ngClass]=\"{'item-seleccionado': item == insumoSeleccionado, 'is-disabled': (listaAgregados.indexOf(item.clave) >= 0)}\" -->\r\n                    <tr *ngFor=\"let item of insumos\" class=\"is-unselectable\" style=\"cursor: pointer\" (click)=\"seleccionar(item)\">\r\n                        <td valign=\"middle\">\r\n                            <span *ngIf=\"item != insumoSeleccionado\" class=\"icon is-small\" style=\"color:#999\"><i class=\"fa fa-circle-thin\"></i></span>\r\n                            <span *ngIf=\"item == insumoSeleccionado\" class=\"icon is-small\" style=\"color:#00d1b2\"><i class=\"fa fa-check-circle\"></i></span>\r\n                        </td>\r\n                        <td class=\"is-hidden-mobile\">{{ item.clave }}</td>\r\n                        <td>\r\n                            <small class=\"is-hidden-tablet\">{{ item.clave }} <br></small>\r\n                            <b>{{ item.generico_nombre }}</b> <br class=\"is-hidden-mobile\"><small *ngIf=\"item.tipo == 'ME'\"><b>{{ item.informacion.concentracion }}</b></small><br>\r\n\r\n                            <div class=\"is-hidden-tablet\" *ngIf=\"item.tipo == 'ME'\" style=\"line-height:1em;\">\r\n                                <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                                <small><i>{{ item.informacion.contenido }} </i></small>\r\n                            </div>\r\n                            <div class=\"is-hidden-tablet\" *ngIf=\"item.tipo != 'ME'\" style=\"line-height:1em;\">\r\n                                <small>{{ item.descripcion }}</small>\r\n                            </div>\r\n                            <div class=\"is-hidden-tablet\" style=\"padding: 0.5em 0 0.5em 0; \">\r\n                                <span *ngIf=\"item.es_causes\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">CAUSES</span>\r\n                                <span *ngIf=\"!item.es_causes\" class=\"tag is-danger\" style=\"font-size: 0.7em !important;\">NO CAUSES</span>\r\n                                <span *ngIf=\"item.es_cuadro_basico\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">Cuadro básico</span>\r\n\r\n                                <span *ngIf=\"item.tipo == 'ME'\">\r\n                        <span *ngIf=\"item.informacion.es_controlado\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Controlado</span>\r\n                                <span *ngIf=\"item.informacion.es_surfactante\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Surfactante</span>\r\n                                </span>\r\n\r\n                            </div>\r\n                        </td>\r\n\r\n                        <td class=\"is-hidden-mobile\">\r\n                            <div *ngIf=\"item.tipo == 'ME'\" style=\"line-height:1em;\">\r\n                                <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                                <small><i>{{ item.informacion.contenido }} </i></small>\r\n                            </div>\r\n                            <div *ngIf=\"item.tipo != 'ME'\" style=\"line-height:1em;\">\r\n                                <small>{{ item.descripcion }}</small>\r\n                            </div>\r\n                            <div style=\"padding: 0.5em 0 0.5em 0; \">\r\n                                <span *ngIf=\"item.es_causes\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">CAUSES</span>\r\n                                <span *ngIf=\"!item.es_causes\" class=\"tag is-danger\" style=\"font-size: 0.7em !important;\">NO CAUSES</span>\r\n                                <span *ngIf=\"item.es_cuadro_basico\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">Cuadro básico</span>\r\n                                <span *ngIf=\"item.tipo == 'ME'\">\r\n                        <span *ngIf=\"item.informacion.es_controlado\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Controlado</span>\r\n                                <span *ngIf=\"item.informacion.es_surfactante\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Surfactante</span>\r\n                                </span>\r\n\r\n                            </div>\r\n                        </td>\r\n                        <td style=\"text-align:center;\" class=\"is-hidden-mobile\">\r\n                            <div style=\"line-height:1em;\">\r\n                                <small>{{ item.stockExistencia.existencia }}</small>\r\n                            </div>\r\n                        </td>\r\n                        <td style=\"text-align:center;\" class=\"is-hidden-mobile\">\r\n                            <span *ngFor=\"let grupo of item.generico.grupos\">{{grupo.nombre}}<br></span>\r\n                        </td>\r\n                        <td style=\"text-align:center;\">\r\n                            <b>\r\n                      <abbr *ngIf=\"item.tipo == 'ME'\" title=\"Medicamento\">ME</abbr>\r\n                      <abbr *ngIf=\"item.tipo == 'MC'\" title=\"Material de curación\">MC</abbr>\r\n                      <abbr *ngIf=\"item.tipo == 'AD'\" title=\"Auxiliar de diagnóstico\">AD</abbr>\r\n                    </b>\r\n                        </td>\r\n                        <td style=\"text-align:center\">\r\n                            <!-- (click)=\"mostrarFichaInformativa($event,item.clave)\" -->\r\n                            <a><span class=\"icon\"><i class=\"fa fa-info-circle\"></i></span></a>\r\n                        </td>\r\n\r\n                    </tr>\r\n                    <tr *ngIf=\"insumos.length == 0 && searchBox.value != ''\">\r\n                        <td colspan=\"7\" style=\"vertical-align: middle; color:#888;\">No se encontraron resultados.</td>\r\n                    </tr>\r\n                    <tr *ngIf=\"insumos.length == 0 && searchBox.value == '' \">\r\n                        <td colspan=\"7\" style=\"vertical-align: middle; color:#888;\">Por favor escriba en el campo de búsqueda para encontrar insumos.</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <br>\r\n\r\n        </section>\r\n        <footer class=\"\" style=\"position:relative; padding:1em;background: #FFF; border-top:1px solid #EEE; border-radius:0 0 0.8em 0.8em \">\r\n\r\n            <paginacion [total]=\"total\" [paginasTotales]=\"paginasTotales\" [resultadosPorPagina]=\"resultadosPorPagina\" [paginaActual]=\"paginaActual\" [indicePaginas]=\"indicePaginas\" (onSiguiente)=\"paginaSiguiente(searchBox.value)\" (onAnterior)=\"paginaAnterior(searchBox.value)\"\r\n                (onListar)=\"listar(searchBox.value,$event)\" *ngIf=\"total > 0 && total > resultadosPorPagina \"></paginacion>\r\n\r\n\r\n\r\n            <div class=\"notification is-dark is-unselectable mensaje-agregar\" [ngClass]=\"{ 'mostrar': mensajeAgregado.mostrar}\" *ngIf=\"mensajeAgregado.mostrar\" (click)=\"mensajeAgregado.mostrar=false\">\r\n                <span class=\"icon\"><i class=\"fa fa-check-circle\"></i></span> <span>Agregado</span>\r\n            </div>\r\n\r\n            <!-- FORMULARIO del insumo-->\r\n            <form *ngIf=\"!salida\" (submit)=\"enviar($event)\">\r\n                <div class=\"control is-grouped is-pulled-right \">\r\n                    <p class=\"control is-expanded has-icon\">\r\n                        <input class=\"input is-medium\" [disabled]=\"insumoSeleccionado == null\" type=\"number\" placeholder=\"Cantidad\" #cantidadBox id=\"cantidad\" (keyup)=\"comprobarCantidad(cantidadBox.value)\" [ngClass]=\"{'is-danger': !cantidadAPI}\">\r\n                        <span class=\"icon is-small\" *ngIf=\"!cantidadAPI\">\r\n                          <i class=\"fa fa-warning\"></i>\r\n                        </span>\r\n                        <span class=\"help is-danger\" *ngIf=\"!cantidadAPI\">No hay esa cantidad en existencia.</span>\r\n                    </p>\r\n                    <!--\r\n            <p class=\"control is-expanded \">\r\n              <input class=\"input\" autofocus type=\"text\" [ngClass]=\"{'is-danger': insumoForm.controls('lote').hasError('required') && insumoForm.controls.lote.touched}\"  placeholder=\"Folio de pedido\" formControlName=\"folio_pedido\">\r\n              <span class=\"icon is-small\" *ngIf=\"insumoForm.controls.lote.hasError('required') && insumoForm.controls.lote.touched\">\r\n                <i class=\"fa fa-warning\"></i>\r\n              </span>\r\n              <span class=\"help is-danger\" *ngIf=\"insumoForm.controls.lote.hasError('required') && insumoForm.controls.lote.touched\">Este campo es requerido.</span>\r\n            </p> -->\r\n                    <p class=\"control is-expanded\" *ngIf=\"!salida\">\r\n                        <input class=\"input is-medium\" [disabled]=\"insumoSeleccionado == null\" type=\"text\" placeholder=\"Lote\" #loteBox id=\"lote\" name=\"lote\">\r\n                    </p>\r\n                    <p class=\"control is-expanded\" *ngIf=\"!salida\">\r\n                         <input class=\"input is-medium\" [disabled]=\"insumoSeleccionado == null\" type=\"date\" placeholder=\"Fecha de caducidad\" #fechaBox id=\"fecha_caducidad\" name=\"fecha_caducidad\"> \r\n                        <!--<input\r\n                            class=\"input is-medium\"\r\n                            ngui-datetime-picker\r\n                            date-format=\"yyyy-MM-dd\"\r\n                            date-only=\"true\"\r\n                            id=\"fecha_caducidad\"\r\n                            [disabled]=\"insumoSeleccionado == null\"\r\n                            placeholder=\"Fecha de caducidad\"\r\n                            #fechaBox\r\n                            name=\"fecha_caducidad\"/> -->\r\n                    </p>\r\n                    <p class=\"control is-expanded\" *ngIf=\"!salida\">\r\n                        <input class=\"input is-medium\" required [disabled]=\"insumoSeleccionado == null\" type=\"text\" placeholder=\"Codigo de barras\" #codigoBarrasBox id=\"codigo_barras\" name=\"codigo_barras\">\r\n\r\n                    </p>\r\n                    <p *ngIf=\"!salida\" class=\"control\">\r\n                        <a *ngIf=\"salida\" class=\"button is-medium is-primary\" (click)=\"agregar(cantidadBox.value)\" [ngClass]=\"{'is-disabled': !cantidadValida}\"><span class=\"icon\"><i class=\"fa fa-plus\"></i></span><span>Agregar</span></a>\r\n                        <button *ngIf=\"!salida\" [disabled]=\"!cantidadValida\" class=\"button is-medium is-primary \">\r\n                          <span class=\"icon\"><i class=\"fa fa-plus\"></i></span><span>Agregar</span>\r\n                        </button>\r\n                    </p>\r\n                </div>\r\n            </form>\r\n\r\n\r\n        </footer>\r\n\r\n        <div class=\"notification is-danger\" style=\"position:fixed; left:1em;  bottom:1em;\" *ngIf=\"mensajeError.mostrar\">\r\n            <button class=\"delete\" (click)=\"mensajeError.mostrar = false\"></button>\r\n            <b>Error:</b> {{ mensajeError.texto }}\r\n        </div>\r\n    </div>\r\n</div>\r\n<div class=\"modal is-active\" *ngIf=\"mostrarModalLote\">\r\n    <div class=\"modal-background\" (click)=\"toggleModalLote(dato)\"></div>\r\n    <div class=\"modal-card\">\r\n        <header class=\"modal-card-head\">\r\n            <p class=\"modal-card-title\"> <b>Nombre: </b> {{insumoSeleccionado.generico_nombre}}</p>\r\n            <br/>\r\n            <p class=\"modal-card-title\"> <b>Clave: </b> {{insumoSeleccionado.clave}}</p>\r\n            <button class=\"delete\" (click)=\"toggleModalLote(dato)\"></button>\r\n        </header>\r\n        <section class=\"modal-card-body\">\r\n            <table class=\"table is-narrow is-striped\" style=\"font-size: 1em; align-content: center\">\r\n                <thead>\r\n                    <tr class=\"has-text-centered\">\r\n                        <th>Lote</th>\r\n                        <th>Caducidad</th>\r\n                        <th>Codigo de barras</th>\r\n                        <th>Existencia</th>\r\n                        <th>Cantidad</th>\r\n\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor=\"let item of lotes_insumo;  let i = index;\">\r\n                        <td *ngIf=\"!item.nuevo\">{{item.lote}}</td>\r\n                        <td *ngIf=\"item.nuevo\"><input class=\"input has-text-centered is-small\" type=\"text\" placeholder=\"Lote\" [(ngModel)]=\"item.lote\"></td>\r\n                        <td *ngIf=\"!item.nuevo\">{{item.fecha_caducidad}}</td>\r\n                        <td *ngIf=\"item.nuevo\"><input class=\"input has-text-centered is-small\" type=\"date\" placeholder=\"Fecha de caducidad\" [(ngModel)]=\"item.fecha_caducidad\"></td>\r\n                        <td *ngIf=\"!item.nuevo\">{{item.codigo_barras}}</td>\r\n                        <td *ngIf=\"item.nuevo\"><input class=\"input has-text-centered is-small\" type=\"text\" placeholder=\"Codigo de barras\" [(ngModel)]=\"item.codigo_barras\"></td>\r\n                        <td *ngIf=\"!item.nuevo\">{{item.existencia}}</td>\r\n                        <td *ngIf=\"item.nuevo\">\r\n                            <!-- <input [ngClass]=\"{'is-show': !item.nuevo}\" class=\"input has-text-centered is-small\" type=\"number\" placeholder=\"Existencia\" [(ngModel)]=\"item.existencia\"> -->\r\n                        </td>\r\n                        <td>\r\n                            <input class=\"input has-text-centered is-small\" type=\"number\" placeholder=\"Cantidad\" [(ngModel)]=\"item.cantidad\" (keyup)=\"comprobarExistencia(item.cantidad, item.existencia, item.nuevo)\" [ngClass]=\"{'is-danger': !existencia}\">\r\n                        </td>\r\n                        <td *ngIf=\"item.nuevo\">\r\n                            <a class=\"delete\" (click)=eliminarLote(i)></a>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n                <tfoot>\r\n                    <tr>\r\n                        <th colspan=\"5\">\r\n                            <p class=\"control\">\r\n                                <a class=\"button is-dark\" (click)=\"agregarNuevoLote()\">Agregar nuevo lote</a>\r\n                            </p>\r\n                        </th>\r\n                    </tr>\r\n                </tfoot>\r\n            </table>\r\n\r\n\r\n        </section>\r\n        <footer class=\"modal-card-foot\">\r\n            <p class=\"control\">\r\n                <a class=\"button is-primary\" [ngClass]=\"{'is-disabled': !existencia}\" (click)=\"enviarSalida(); mostrarModalLote=false\">Aceptar</a>\r\n            </p>\r\n            <p class=\"control\">\r\n                <a class=\"button is-link\" (click)=\"toggleModalLote(dato)\">Cancelar</a>\r\n            </p>\r\n        </footer>\r\n    </div>\r\n    <button class=\"modal-close\" (click)=\"toggleModalLote(dato)\"></button>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/farmacia/buscar-insumos-movimientos/buscar-insumos-movimientos.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_Observable__ = __webpack_require__("../../../../rxjs/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_Observable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_rxjs_Observable__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__ = __webpack_require__("../../../../rxjs/Subject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_observable_of__ = __webpack_require__("../../../../rxjs/add/observable/of.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_observable_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_add_observable_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_observable_throw__ = __webpack_require__("../../../../rxjs/add/observable/throw.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_observable_throw___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_rxjs_add_observable_throw__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_debounceTime__ = __webpack_require__("../../../../rxjs/add/operator/debounceTime.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_debounceTime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_debounceTime__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_distinctUntilChanged__ = __webpack_require__("../../../../rxjs/add/operator/distinctUntilChanged.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_distinctUntilChanged___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_distinctUntilChanged__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_map__ = __webpack_require__("../../../../rxjs/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_map__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_switchMap__ = __webpack_require__("../../../../rxjs/add/operator/switchMap.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_switchMap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_switchMap__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_catch__ = __webpack_require__("../../../../rxjs/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_catch___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_catch__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__mensaje__ = __webpack_require__("../../../../../src/app/mensaje.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__buscar_insumos_movimientos_service__ = __webpack_require__("../../../../../src/app/farmacia/buscar-insumos-movimientos/buscar-insumos-movimientos.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BuscarInsumosComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












var BuscarInsumosComponent = (function () {
    function BuscarInsumosComponent(buscarInsumosService) {
        this.buscarInsumosService = buscarInsumosService;
        this.onCerrar = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onEnviar = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.cantidadAPI = true;
        this.lote = true;
        this.mostrarModalLote = false;
        this.lotes_insumo = [];
        this.existencia = true;
        this.cargando = false;
        // # SECCION: Lista de insumos
        this.insumos = [];
        //insumosMovs: InsumoMedico[] = [];
        this.ultimoTerminoBuscado = "";
        this.terminosBusqueda = new __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__["Subject"]();
        this.paginaActual = 1;
        this.resultadosPorPagina = 25;
        this.total = 0;
        this.paginasTotales = 0;
        this.indicePaginas = [];
        this.insumo_stock = [];
        // # FIN SECCION
        // # SECCION: Esta sección es para mostrar mensajes
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_10__mensaje__["a" /* Mensaje */]();
        // mensajeExito: Mensaje = new Mensaje();
        this.mensajeAgregado = new __WEBPACK_IMPORTED_MODULE_10__mensaje__["a" /* Mensaje */]();
        // # FIN SECCION
        this.cantidadValida = false;
        this.usuario = {};
    }
    BuscarInsumosComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.usuario = JSON.parse(localStorage.getItem("usuario"));
        var self = this;
        var busquedaSubject = this.terminosBusqueda
            .debounceTime(300) // Esperamos 300 ms pausando eventos
            .distinctUntilChanged() // Ignorar si la busqueda es la misma que la ultima
            .switchMap(function (term) {
            console.log("Cargando búsqueda.");
            //this.busquedaActivada = term != "" ? true: false;
            _this.ultimoTerminoBuscado = term;
            _this.paginaActual = 1;
            _this.cargando = true;
            return term ? _this.buscarInsumosService.buscar(term, _this.paginaActual, _this.resultadosPorPagina) : __WEBPACK_IMPORTED_MODULE_1_rxjs_Observable__["Observable"].of({ data: [] });
        }).catch(function handleError(error) {
            self.cargando = false;
            self.mensajeError = new __WEBPACK_IMPORTED_MODULE_10__mensaje__["a" /* Mensaje */]();
            self.mensajeError.mostrar = true;
            self.ultimaPeticion = function () { self.listar(self.ultimoTerminoBuscado, self.paginaActual); }; //OJO
            try {
                var e = error.json();
                if (error.status == 401) {
                    self.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
                if (error.status == 0) {
                    self.mensajeError.texto = "El servidor no responde.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    self.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    self.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
            // Devolvemos el subject porque si no se detiene el funcionamiento del stream 
            return busquedaSubject;
        });
        busquedaSubject.subscribe(function (resultado) {
            _this.cargando = false;
            _this.resetItemSeleccionado();
            _this.insumos = resultado.data;
            _this.total = resultado.total | 0;
            _this.paginasTotales = Math.ceil(_this.total / _this.resultadosPorPagina);
            _this.indicePaginas = [];
            for (var i = 0; i < _this.paginasTotales; i++) {
                _this.indicePaginas.push(i + 1);
            }
            console.log("Búsqueda cargada.");
        });
    };
    BuscarInsumosComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        try {
            // Por alguna razón si no implemento un setTimeout me lanza error
            // investigar porque ocurre esto
            // Poner el focus en la barra de busqueda
            setTimeout(function () { _this.searchBoxViewChildren.first.nativeElement.focus(); });
        }
        catch (e) {
            console.log(e);
        }
    };
    BuscarInsumosComponent.prototype.cerrar = function () {
        this.searchBoxViewChildren.first.nativeElement.value = "";
        this.onCerrar.emit();
    };
    BuscarInsumosComponent.prototype.resetItemSeleccionado = function () {
        if (!this.salida) {
            this.codigoBarrasViewChildren.first.nativeElement.value = "";
            this.fechaViewChildren.first.nativeElement.value = "";
            this.loteViewChildren.first.nativeElement.value = "";
            this.cantidadBoxViewChildren.first.nativeElement.value = "";
        }
        this.insumoSeleccionado = null;
        this.cantidadValida = false;
    };
    BuscarInsumosComponent.prototype.seleccionar = function (item) {
        var _this = this;
        if (!this.salida) {
            this.lote = false;
        }
        if (this.lote) {
            this.buscarInsumosService.comprobarStock(this.usuario.almacen_activo.id, item.clave).subscribe(function (resultado) {
                _this.insumo_stock = resultado;
                _this.lotes_insumo = resultado.data;
                _this.toggleModalLote(item);
            });
        }
        else {
            this.insumoSeleccionado = item;
            if (!this.salida) {
                this.cantidadBoxViewChildren.first.nativeElement.disabled = false;
                this.cantidadBoxViewChildren.first.nativeElement.focus();
                this.codigoBarrasViewChildren.first.nativeElement.disabled = false;
                this.fechaViewChildren.first.nativeElement.disabled = false;
                this.loteViewChildren.first.nativeElement.disabled = false;
            }
        }
        //this.codigoBarrasViewChildren.first.nativeElement.focus();
    };
    BuscarInsumosComponent.prototype.comprobarStock = function (existencia, cantidadBox) {
        if (cantidadBox > existencia) {
            console.log("false");
            return false;
        }
        else {
            console.log("true");
            return true;
        }
    };
    BuscarInsumosComponent.prototype.elegirLote = function () {
        this.lote = !this.lote;
        this.resetItemSeleccionado();
    };
    BuscarInsumosComponent.prototype.toggleModalLote = function (item) {
        this.mostrarModalLote = !this.mostrarModalLote;
        this.insumoSeleccionado = item;
    };
    BuscarInsumosComponent.prototype.agregarNuevoLote = function () {
        this.lotes_insumo.push({ id: "" + Math.floor(Math.random() * (999)) + 1, clave_insumo_medico: this.insumoSeleccionado.clave, codigo_barras: "", lote: "", fecha_caducidad: "", existencia: 0, cantidad: 1, nuevo: 1 });
    };
    BuscarInsumosComponent.prototype.eliminarLote = function (index) {
        this.lotes_insumo.splice(index, 1);
    };
    BuscarInsumosComponent.prototype.comprobarCantidad = function (value) {
        if (value.replace(/ /g, '') == "") {
            this.cantidadValida = false;
            return false;
        }
        if (isNaN(value)) {
            this.cantidadValida = false;
            return false;
        }
        var x = value % 1;
        if (x != 0) {
            this.cantidadValida = false;
            return false;
        }
        this.cantidadValida = true;
        return true;
    };
    BuscarInsumosComponent.prototype.comprobarExistencia = function (cantidad, existencia, nuevo) {
        var disabledCant = 0;
        for (var _i = 0, _a = this.lotes_insumo; _i < _a.length; _i++) {
            var lote = _a[_i];
            if (lote.nuevo) {
                lote.existencia = lote.cantidad;
            }
            if (!lote.cantidad || lote.cantidad < 0) {
                lote.cantidad = 0;
            }
            if (lote.cantidad <= lote.existencia) {
                //console.log(disabledCant);
            }
            else {
                disabledCant++;
            }
        }
        if (disabledCant > 0) {
            this.existencia = false;
        }
        else {
            this.existencia = true;
        }
    };
    BuscarInsumosComponent.prototype.agregar = function (value) {
        var _this = this;
        console.log("BOTON AGREGAR");
        this.buscarInsumosService.comprobarStock(this.usuario.almacen_activo.id, this.insumoSeleccionado.clave).subscribe(function (resultado) {
            _this.insumo_stock = resultado;
            var existencia = resultado.existencia;
            _this.cantidadValida = _this.comprobarStock(existencia, +value);
            _this.cantidadAPI = _this.cantidadValida;
            if (_this.cantidadAPI) {
                _this.enviarSalida();
            }
            return _this.cantidadValida;
        });
    };
    BuscarInsumosComponent.prototype.toItemIndexes = function (a) {
        return a.map(function (lote, i) { return ({ lote: lote, i: i }); });
    };
    BuscarInsumosComponent.prototype.enviarSalida = function () {
        var i = 0;
        var lotesNOvalidos = [];
        var lotesValidos = [];
        for (var _i = 0, _a = this.lotes_insumo; _i < _a.length; _i++) {
            var lote = _a[_i];
            if (lote.nuevo) {
                if (lote.lote == '') {
                    lotesNOvalidos.push(lote);
                }
                else {
                    lotesValidos.push(lote);
                }
            }
            else {
                if (!lote.cantidad) {
                    lotesNOvalidos.push(lote);
                }
                else {
                    if (lote.cantidad <= 0 || lote.cantidad == '') {
                        lotesNOvalidos.push(lote);
                    }
                    else {
                        lotesValidos.push(lote);
                    }
                }
            }
        }
        /*console.log(lotesNOvalidos);
        console.log(lotesValidos);
        console.log(`LOTES_INSUMO ${this.lotes_insumo}`);
  */
        this.insumoSeleccionado.lotes = lotesValidos;
        this.mensajeAgregado = new __WEBPACK_IMPORTED_MODULE_10__mensaje__["a" /* Mensaje */](true, 2);
        this.onEnviar.emit(this.insumoSeleccionado);
        this.searchBoxViewChildren.first.nativeElement.focus();
        //Harima: Agregamos la clave al arreglo de items agregados
    };
    BuscarInsumosComponent.prototype.enviar = function (e) {
        this.mensajeAgregado = new __WEBPACK_IMPORTED_MODULE_10__mensaje__["a" /* Mensaje */](true, 2);
        this.mensajeAgregado.mostrar = true;
        this.insumoSeleccionado.cantidad = this.cantidadBoxViewChildren.first.nativeElement.value;
        this.insumoSeleccionado.codigo_barras = this.codigoBarrasViewChildren.first.nativeElement.value;
        this.insumoSeleccionado.fecha_caducidad = this.fechaViewChildren.first.nativeElement.value;
        this.insumoSeleccionado.lote_entrada = this.loteViewChildren.first.nativeElement.value;
        //console.log(this.insumoSeleccionado);
        this.onEnviar.emit(this.insumoSeleccionado);
        this.searchBoxViewChildren.first.nativeElement.focus();
        //Harima: Agregamos la clave al arreglo de items agregados
        this.listaAgregados.push(this.insumoSeleccionado.clave);
        this.resetItemSeleccionado();
    };
    BuscarInsumosComponent.prototype.buscar = function (term) {
        this.terminosBusqueda.next(term);
        this.mensajeError.mostrar = false;
    };
    BuscarInsumosComponent.prototype.listar = function (term, pagina) {
        var _this = this;
        this.paginaActual = pagina;
        this.resetItemSeleccionado();
        console.log("Cargando insumos.");
        this.cargando = true;
        this.buscarInsumosService.buscar(term, pagina, this.resultadosPorPagina).subscribe(function (resultado) {
            _this.cargando = false;
            _this.insumos = resultado.data;
            _this.total = resultado.total | 0;
            _this.paginasTotales = Math.ceil(_this.total / _this.resultadosPorPagina);
            _this.indicePaginas = [];
            for (var i = 0; i < _this.paginasTotales; i++) {
                _this.indicePaginas.push(i + 1);
            }
            console.log("Insumos cargados.");
            console.log(_this.insumos);
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError.mostrar = true;
            _this.ultimaPeticion = _this.listar;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    BuscarInsumosComponent.prototype.mostrarFichaInformativa = function (e, clave) {
        e.preventDefault();
        e.stopPropagation();
        // Mostrar el componente de Ficha Informativa
        // Falta hacerlo sumamiiiii :)
        alert(clave);
        console.log(clave);
    };
    // # SECCION: Paginación
    BuscarInsumosComponent.prototype.paginaSiguiente = function (term) {
        if (this.paginaActual == this.paginasTotales) {
            return;
        }
        this.resetItemSeleccionado();
        this.listar(term, this.paginaActual + 1);
    };
    BuscarInsumosComponent.prototype.paginaAnterior = function (term) {
        if (this.paginaActual == 1) {
            return;
        }
        this.resetItemSeleccionado();
        this.listar(term, this.paginaActual - 1);
    };
    BuscarInsumosComponent.prototype.keyboardInput = function (e) {
        if (e.keyCode == 27) {
            event.preventDefault();
            event.stopPropagation();
            this.cerrar();
        }
        // Cambiar página hacia adelante ctrl + shift + ->
        if (e.keyCode == 39 && ((e.ctrlKey && e.shiftKey) || e.ctrlKey)) {
            event.preventDefault();
            event.stopPropagation();
            this.paginaSiguiente(this.searchBoxViewChildren.first.nativeElement.value);
        }
        // Cambiar página hacia adelante ctrl + shift + <-
        if (e.keyCode == 37 && ((e.ctrlKey && e.shiftKey) || e.ctrlKey)) {
            event.preventDefault();
            event.stopPropagation();
            this.paginaAnterior(this.searchBoxViewChildren.first.nativeElement.value);
        }
    };
    return BuscarInsumosComponent;
}());
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChildren"])('searchBox'),
    __metadata("design:type", Object)
], BuscarInsumosComponent.prototype, "searchBoxViewChildren", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChildren"])('cantidadBox'),
    __metadata("design:type", Object)
], BuscarInsumosComponent.prototype, "cantidadBoxViewChildren", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChildren"])('codigoBarrasBox'),
    __metadata("design:type", Object)
], BuscarInsumosComponent.prototype, "codigoBarrasViewChildren", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChildren"])('fechaBox'),
    __metadata("design:type", Object)
], BuscarInsumosComponent.prototype, "fechaViewChildren", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChildren"])('loteBox'),
    __metadata("design:type", Object)
], BuscarInsumosComponent.prototype, "loteViewChildren", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
    __metadata("design:type", Object)
], BuscarInsumosComponent.prototype, "onCerrar", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
    __metadata("design:type", Object)
], BuscarInsumosComponent.prototype, "onEnviar", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Object)
], BuscarInsumosComponent.prototype, "listaAgregados", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Boolean)
], BuscarInsumosComponent.prototype, "salida", void 0);
BuscarInsumosComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'buscar-insumos-movimientos',
        template: __webpack_require__("../../../../../src/app/farmacia/buscar-insumos-movimientos/buscar-insumos-movimientos.component.html"),
        styles: [__webpack_require__("../../../../../src/app/farmacia/buscar-insumos-movimientos/buscar-insumos-movimientos.component.css")],
        host: { '(document:keydown)': 'keyboardInput($event)' }
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_11__buscar_insumos_movimientos_service__["a" /* BuscarInsumosService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_11__buscar_insumos_movimientos_service__["a" /* BuscarInsumosService */]) === "function" && _a || Object])
], BuscarInsumosComponent);

var _a;
//# sourceMappingURL=C:/wamp/www/x3-C/src/buscar-insumos-movimientos.component.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/buscar-insumos-movimientos/buscar-insumos-movimientos.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__paginacion_paginacion_module__ = __webpack_require__("../../../../../src/app/paginacion/paginacion.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ngui_datetime_picker__ = __webpack_require__("../../../../@ngui/datetime-picker/dist/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ngui_datetime_picker___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__ngui_datetime_picker__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__buscar_insumos_movimientos_component__ = __webpack_require__("../../../../../src/app/farmacia/buscar-insumos-movimientos/buscar-insumos-movimientos.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__buscar_insumos_movimientos_service__ = __webpack_require__("../../../../../src/app/farmacia/buscar-insumos-movimientos/buscar-insumos-movimientos.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BuscarInsumosMovimientosModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};







var BuscarInsumosMovimientosModule = (function () {
    function BuscarInsumosMovimientosModule() {
    }
    return BuscarInsumosMovimientosModule;
}());
BuscarInsumosMovimientosModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [
            __WEBPACK_IMPORTED_MODULE_1__angular_common__["CommonModule"],
            __WEBPACK_IMPORTED_MODULE_2__paginacion_paginacion_module__["a" /* PaginacionModule */],
            __WEBPACK_IMPORTED_MODULE_3__angular_forms__["FormsModule"],
            __WEBPACK_IMPORTED_MODULE_4__ngui_datetime_picker__["NguiDatetimePickerModule"],
            __WEBPACK_IMPORTED_MODULE_3__angular_forms__["ReactiveFormsModule"]
        ],
        exports: [
            __WEBPACK_IMPORTED_MODULE_5__buscar_insumos_movimientos_component__["a" /* BuscarInsumosComponent */]
        ],
        declarations: [__WEBPACK_IMPORTED_MODULE_5__buscar_insumos_movimientos_component__["a" /* BuscarInsumosComponent */]],
        providers: [__WEBPACK_IMPORTED_MODULE_6__buscar_insumos_movimientos_service__["a" /* BuscarInsumosService */]]
    })
], BuscarInsumosMovimientosModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/buscar-insumos-movimientos.module.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/buscar-insumos-movimientos/buscar-insumos-movimientos.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/@angular/http.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__ = __webpack_require__("../../../../../src/app/jwt-request.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BuscarInsumosService; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var BuscarInsumosService = BuscarInsumosService_1 = (function () {
    function BuscarInsumosService(http, jwtRequest) {
        this.http = http;
        this.jwtRequest = jwtRequest;
    }
    BuscarInsumosService.prototype.lista = function (pagina, resultados_por_pagina) {
        if (pagina === void 0) { pagina = 1; }
        if (resultados_por_pagina === void 0) { resultados_por_pagina = 25; }
        return this.jwtRequest.get(BuscarInsumosService_1.URL, null, { page: pagina, per_page: resultados_por_pagina }).map(function (response) { return response.json().data; });
    };
    BuscarInsumosService.prototype.buscar = function (term, pagina, resultados_por_pagina) {
        if (pagina === void 0) { pagina = 1; }
        if (resultados_por_pagina === void 0) { resultados_por_pagina = 25; }
        return this.jwtRequest.get(BuscarInsumosService_1.URL, null, { q: term, page: pagina, per_page: resultados_por_pagina }).map(function (response) { return response.json().data; });
    };
    BuscarInsumosService.prototype.comprobarStock = function (almacen, clave) {
        if (almacen === void 0) { almacen = "00021"; }
        return this.jwtRequest.get(BuscarInsumosService_1.stockURL, null, { almacen: almacen, clave: clave }).map(function (response) { return response.json(); });
    };
    return BuscarInsumosService;
}());
BuscarInsumosService.URL = "catalogo-insumos";
BuscarInsumosService.stockURL = "comprobar-stock";
BuscarInsumosService = BuscarInsumosService_1 = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__["a" /* JwtRequestService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__["a" /* JwtRequestService */]) === "function" && _b || Object])
], BuscarInsumosService);

var BuscarInsumosService_1, _a, _b;
//# sourceMappingURL=C:/wamp/www/x3-C/src/buscar-insumos-movimientos.service.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/buscar-insumos/buscar-insumos.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".mensaje-agregar {\r\n    position:absolute; width: auto;  bottom:0em; right:1em;\r\n    opacity: 0;\r\n    animation: mostrar 0.2s forwards ease-out;\r\n    -webkit-animation: mostrar 0.2s forwards ease-out;\r\n}\r\n\r\n\r\n@-webkit-keyframes mostrar {\r\n    0%   {  bottom:0em; opacity:0.0; }\r\n    100% {  bottom:3em; opacity:1.0; }\r\n}\r\n\r\n\r\n@keyframes mostrar {\r\n    0%   {  bottom:0em; opacity:0.0; }\r\n    100% {  bottom:3em; opacity:1.0; }\r\n}\r\n\r\n.item-seleccionado {\r\n    background: #F5F5F5 !important; font-weight: bold !important;\r\n}\r\n\r\n.is-disabled{\r\n    color: #DDDDDD;\r\n}", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/farmacia/buscar-insumos/buscar-insumos.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"modal is-active\" >\r\n  <div class=\"modal-background\" (click)=\"cerrar()\"></div>\r\n  <div class=\"modal-card\" style=\"width:95%; height: 100%;\">\r\n   \r\n    <header class=\"modal-card-head\" style=\"background: #00d1b2;\">\r\n      \r\n                    \r\n      <div class=\"container is-fluid\"  style=\"width:100%;\">\r\n          <h1 class=\"title\" style=\"color:#FFF;\">\r\n            <span class=\"icon is-medium\"><i class=\"fa fa-search\"></i></span> Insumos médicos \r\n          </h1>\r\n          <p class=\"control is-expanded\">\r\n              <input class=\"input \"  type=\"text\" placeholder=\"Buscar insumo\" #searchBox id=\"search-box\" (keyup)=\"buscar(searchBox.value)\">\r\n          </p>\r\n      </div>            \r\n      <a class=\"button  is-primary\" style=\"position:absolute; top:1em; right:1em;\" (click)=\"cerrar()\"><span class=\"icon \"><i class=\"fa fa-close\"></i></span></a>\r\n    </header>\r\n    <section class=\"modal-card-body\" style=\"padding:0px;\" >\r\n      \r\n      <div class=\"is-fullwidth has-text-centered\" *ngIf=\"cargando\">\r\n          <br>\r\n          <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando...</span></span>\r\n          <br>\r\n          <br>\r\n      </div>\r\n      <table class=\"table\" *ngIf=\"!cargando\" style=\"font-size: 0.8em;\" >\r\n        <thead>\r\n        \r\n            <tr>\r\n            <th></th>\r\n            <th class=\"is-hidden-mobile\">Clave</th>\r\n            <!--th>Generico</th-->\r\n            <!--th class=\"is-hidden-mobile\">Descripción</th-->\r\n            <th>Descripción</th>\r\n            <th style=\"text-align:center\" class=\"is-hidden-mobile\">Grupo(s)</th>\r\n            <th style=\"text-align:center\"><abbr title=\"Tipo de insumo\">Tipo</abbr></th>\r\n            <th style=\"text-align:left\" *ngIf=\"conPrecios\">Precio</th>\r\n            <!--th style=\"text-align:center\"><abbr title=\"Información\">Info</abbr></th-->\r\n            </tr>\r\n        </thead>\r\n        <tbody>\r\n            <tr *ngFor=\"let item of insumos\" class=\"is-unselectable\" [ngClass]=\"{'item-seleccionado': item == insumoSeleccionado, 'is-disabled': (listaAgregados.indexOf(item.clave) >= 0)}\" style=\"cursor: pointer\" (click)=\"seleccionar(item)\">\r\n              <td valign=\"middle\">\r\n                <span *ngIf=\"item != insumoSeleccionado\" class=\"icon is-small\" style=\"color:#999\"><i class=\"fa fa-circle-thin\"></i></span>\r\n                <span *ngIf=\"item == insumoSeleccionado\" class=\"icon is-small\" style=\"color:#00d1b2\"><i class=\"fa fa-check-circle\"></i></span>\r\n              </td>                      \r\n              <td class=\"is-hidden-mobile\">{{ item.clave }}</td>\r\n\r\n              <td>\r\n                <small class=\"is-hidden-tablet\">{{ item.clave }} <br></small>\r\n                <!--div *ngIf=\"item.tipo != 'ME'\" style=\"line-height:1em;\"-->\r\n                <div style=\"line-height:1em;\">\r\n                  <small>{{ item.descripcion }}</small>\r\n                </div>\r\n                <div style=\"padding: 0.5em 0 0.5em 0; \">\r\n                  <span *ngIf=\"(item.es_causes && item.tipo == 'ME')\" class=\"tag is-success\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">CAUSES</span>\r\n                  <span *ngIf=\"(!item.es_causes && item.tipo == 'ME')\" class=\"tag is-danger\" style=\"font-size: 0.7em !important;\">NO CAUSES</span>\r\n                  <span *ngIf=\"item.tipo == 'MC'\" class=\"tag is-warning\" style=\"font-size: 0.7em !important;\">MATERIAL CURACIÓN</span>\r\n                  <span *ngIf=\"item.es_cuadro_basico\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">Cuadro básico</span>\r\n                  <span *ngIf=\"(item.tipo == 'ME' && item.informacion)\">\r\n                    <span *ngIf=\"item.informacion.es_controlado\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Controlado</span>\r\n                    <span *ngIf=\"item.informacion.es_surfactante\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Surfactante</span>  \r\n                  </span>\r\n                </div>\r\n              </td>\r\n\r\n              <!--td >\r\n                <small class=\"is-hidden-tablet\">{{ item.clave }} <br></small>\r\n                <b>{{ item.generico_nombre }}</b> <br  class=\"is-hidden-mobile\"><small *ngIf=\"(item.tipo == 'ME' && item.informacion)\"><b>{{ item.informacion.concentracion }}</b></small><br>\r\n                \r\n                <div class=\"is-hidden-tablet\" *ngIf=\"(item.tipo == 'ME' && item.informacion)\" style=\"line-height:1em;\">\r\n                  <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                  <small><i>{{ item.informacion.contenido }} </i></small>\r\n                </div>\r\n                <div class=\"is-hidden-tablet\" *ngIf=\"item.tipo != 'ME'\" style=\"line-height:1em;\">\r\n                  <small>{{ item.descripcion }}</small>\r\n                </div>\r\n                <div class=\"is-hidden-tablet\" style=\"padding: 0.5em 0 0.5em 0; \">\r\n                  <span *ngIf=\"(item.es_causes && item.tipo == 'ME')\" class=\"tag is-success\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">CAUSES</span>\r\n                  <span *ngIf=\"(!item.es_causes && item.tipo == 'ME')\" class=\"tag is-danger\" style=\"font-size: 0.7em !important;\">NO CAUSES</span>\r\n                  <span *ngIf=\"item.tipo == 'MC'\" class=\"tag is-warning\" style=\"font-size: 0.7em !important;\">MATERIAL CURACIÓN</span>\r\n                  <span *ngIf=\"item.es_cuadro_basico\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">Cuadro básico</span>\r\n                  \r\n                  <span *ngIf=\"(item.tipo == 'ME' && item.informacion)\">\r\n                    <span *ngIf=\"item.informacion.es_controlado\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Controlado</span>\r\n                    <span *ngIf=\"item.informacion.es_surfactante\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Surfactante</span>  \r\n                  </span>\r\n                  \r\n                </div>\r\n              </td> \r\n\r\n              <td class=\"is-hidden-mobile\">\r\n                <div *ngIf=\"(item.tipo == 'ME' && item.informacion)\" style=\"line-height:1em;\">\r\n                  <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                  <small><i>{{ item.informacion.contenido }} </i></small>\r\n                </div>\r\n                <div *ngIf=\"item.tipo != 'ME'\" style=\"line-height:1em;\">\r\n                  <small>{{ item.descripcion }}</small>\r\n                </div>\r\n                <div style=\"padding: 0.5em 0 0.5em 0; \">\r\n                  <span *ngIf=\"(item.es_causes && item.tipo == 'ME')\" class=\"tag is-success\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">CAUSES</span>\r\n                  <span *ngIf=\"(!item.es_causes && item.tipo == 'ME')\" class=\"tag is-danger\" style=\"font-size: 0.7em !important;\">NO CAUSES</span>\r\n                  <span *ngIf=\"item.tipo == 'MC'\" class=\"tag is-warning\" style=\"font-size: 0.7em !important;\">MATERIAL CURACIÓN</span>\r\n                  <span *ngIf=\"item.es_cuadro_basico\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">Cuadro básico</span>\r\n                  <span *ngIf=\"(item.tipo == 'ME' && item.informacion)\">\r\n                    <span *ngIf=\"item.informacion.es_controlado\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Controlado</span>\r\n                    <span *ngIf=\"item.informacion.es_surfactante\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Surfactante</span>  \r\n                  </span>\r\n                </div>\r\n              </td-->\r\n\r\n              <td style=\"text-align:center;\" class=\"is-hidden-mobile\">\r\n                <div *ngIf=\"item.generico\">\r\n                  <span *ngFor=\"let grupo of item.generico.grupos\">{{grupo.nombre}}<br></span>\r\n                </div>\r\n              </td>\r\n              <td style=\"text-align:center;\">\r\n                <b>\r\n                  <abbr *ngIf=\"item.tipo == 'ME'\" title=\"Medicamento\">ME</abbr>\r\n                  <abbr *ngIf=\"item.tipo == 'MC'\" title=\"Material de curación\">MC</abbr>\r\n                  <abbr *ngIf=\"item.tipo == 'AD'\" title=\"Auxiliar de diagnóstico\">AD</abbr>\r\n                </b>\r\n              </td>\r\n              <td style=\"text-align:left;\" *ngIf=\"conPrecios\">\r\n                <b>\r\n                  <abbr>$ {{item.precio | number:'1.2-2'}}</abbr>\r\n                </b>\r\n              </td>\r\n              <!--td style=\"text-align:center\">\r\n                <a (click)=\"mostrarFichaInformativa($event,item.clave)\"><span class=\"icon\"><i class=\"fa fa-info-circle\"></i></span></a>\r\n              </td-->\r\n            </tr>  \r\n            <tr *ngIf=\"insumos.length == 0 && searchBox.value != ''\">\r\n                <td colspan=\"7\" style=\"vertical-align: middle; color:#888;\">No se encontraron resultados.</td>                    \r\n            </tr>\r\n            <tr *ngIf=\"insumos.length == 0 && searchBox.value == '' \">\r\n                <td colspan=\"7\" style=\"vertical-align: middle; color:#888;\">Por favor escriba en el campo de búsqueda para encontrar insumos.</td>                    \r\n            </tr>      \r\n        </tbody>  \r\n      </table>\r\n    <br>\r\n            \r\n    </section>\r\n    <footer class=\"\" style=\"position:relative; padding:1em;background: #FFF; border-top:1px solid #EEE; border-radius:0 0 0.8em 0.8em \" >\r\n      \r\n      <paginacion \r\n                [total]=\"total\" \r\n                [paginasTotales]=\"paginasTotales\" \r\n                [resultadosPorPagina]=\"resultadosPorPagina\" \r\n                [paginaActual]=\"paginaActual\" \r\n                [indicePaginas]=\"indicePaginas\"\r\n                (onSiguiente)=\"paginaSiguiente(searchBox.value)\" \r\n                (onAnterior)=\"paginaAnterior(searchBox.value)\" \r\n                (onListar)=\"listar(searchBox.value,$event)\" \r\n                *ngIf=\"total > 0 && total > resultadosPorPagina \"></paginacion>\r\n\r\n    \r\n        \r\n      <div class=\"notification is-dark is-unselectable mensaje-agregar\" [ngClass]=\"{ 'mostrar': mensajeAgregado.mostrar}\"    *ngIf=\"mensajeAgregado.mostrar\" (click)=\"mensajeAgregado.mostrar=false\">\r\n        <span class=\"icon\"><i class=\"fa fa-check-circle\"></i></span> <span>Agregado</span>\r\n      </div>\r\n  \r\n      <form (submit)=\"enviar($event)\" >\r\n        <div class=\"control is-grouped is-pulled-right \" >\r\n          <p class=\"control is-expanded\" [ngClass]=\" {'is-hidden': !conCantidad }\" >\r\n              <label>Consumo promedio mensual: 0</label>\r\n              <input class=\"input is-medium\" [disabled]=\"insumoSeleccionado == null\" type=\"text\" placeholder=\"Cantidad\" #cantidadBox id=\"cantidad\" (keyup)=\"comprobarCantidad(cantidadBox.value)\" >\r\n          </p>\r\n          <p class=\"control\">\r\n              <label>&nbsp;</label>\r\n              <button [disabled]=\"(!cantidadValida && conCantidad )|| insumoSeleccionado == null\" class=\"button is-medium is-primary \" >\r\n              <span class=\"icon\"><i class=\"fa fa-plus\"></i></span><span>Agregar</span>\r\n              </button>\r\n          </p>\r\n        </div>\r\n      </form>\r\n      \r\n\r\n    </footer>\r\n      \r\n    <div class=\"notification is-danger\" style=\"position:fixed; left:1em;  bottom:1em;\" *ngIf=\"mensajeError.mostrar\">\r\n        <button class=\"delete\" (click)=\"mensajeError.mostrar = false\"></button>        \r\n        <b>Error:</b> {{ mensajeError.texto }}\r\n    </div>\r\n  </div>\r\n</div>\r\n"

/***/ }),

/***/ "../../../../../src/app/farmacia/buscar-insumos/buscar-insumos.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_Observable__ = __webpack_require__("../../../../rxjs/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_Observable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_rxjs_Observable__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__ = __webpack_require__("../../../../rxjs/Subject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_observable_of__ = __webpack_require__("../../../../rxjs/add/observable/of.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_observable_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_add_observable_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_observable_throw__ = __webpack_require__("../../../../rxjs/add/observable/throw.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_observable_throw___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_rxjs_add_observable_throw__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_debounceTime__ = __webpack_require__("../../../../rxjs/add/operator/debounceTime.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_debounceTime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_debounceTime__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_distinctUntilChanged__ = __webpack_require__("../../../../rxjs/add/operator/distinctUntilChanged.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_distinctUntilChanged___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_distinctUntilChanged__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_map__ = __webpack_require__("../../../../rxjs/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_map__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_switchMap__ = __webpack_require__("../../../../rxjs/add/operator/switchMap.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_switchMap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_switchMap__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_catch__ = __webpack_require__("../../../../rxjs/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_catch___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_catch__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__mensaje__ = __webpack_require__("../../../../../src/app/mensaje.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__buscar_insumos_service__ = __webpack_require__("../../../../../src/app/farmacia/buscar-insumos/buscar-insumos.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BuscarInsumosComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};












var BuscarInsumosComponent = (function () {
    function BuscarInsumosComponent(buscarInsumosService) {
        this.buscarInsumosService = buscarInsumosService;
        this.onCerrar = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onEnviar = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.conPrecios = false;
        this.conCantidad = true;
        this.tipo = null;
        this.cargando = false;
        // # SECCION: Lista de insumos
        this.insumos = [];
        this.ultimoTerminoBuscado = "";
        this.terminosBusqueda = new __WEBPACK_IMPORTED_MODULE_2_rxjs_Subject__["Subject"]();
        this.paginaActual = 1;
        this.resultadosPorPagina = 25;
        this.total = 0;
        this.paginasTotales = 0;
        this.indicePaginas = [];
        // # FIN SECCION
        // # SECCION: Esta sección es para mostrar mensajes
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_10__mensaje__["a" /* Mensaje */]();
        // mensajeExito: Mensaje = new Mensaje();
        this.mensajeAgregado = new __WEBPACK_IMPORTED_MODULE_10__mensaje__["a" /* Mensaje */]();
        // # FIN SECCION
        this.cantidadValida = false;
    }
    BuscarInsumosComponent.prototype.ngOnInit = function () {
        var _this = this;
        var self = this;
        var busquedaSubject = this.terminosBusqueda
            .debounceTime(300) // Esperamos 300 ms pausando eventos
            .distinctUntilChanged() // Ignorar si la busqueda es la misma que la ultima
            .switchMap(function (term) {
            console.log("Cargando búsqueda.");
            //this.busquedaActivada = term != "" ? true: false;
            _this.ultimoTerminoBuscado = term;
            _this.paginaActual = 1;
            _this.cargando = true;
            return term ? _this.buscarInsumosService.buscar(term, _this.paginaActual, _this.resultadosPorPagina, _this.conPrecios, _this.tipo) : __WEBPACK_IMPORTED_MODULE_1_rxjs_Observable__["Observable"].of({ data: [] });
        }).catch(function handleError(error) {
            self.cargando = false;
            self.mensajeError = new __WEBPACK_IMPORTED_MODULE_10__mensaje__["a" /* Mensaje */]();
            self.mensajeError.mostrar = true;
            self.ultimaPeticion = function () { self.listar(self.ultimoTerminoBuscado, self.paginaActual); }; //OJO
            try {
                var e = error.json();
                if (error.status == 401) {
                    self.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
                if (error.status == 0) {
                    self.mensajeError.texto = "El servidor no responde.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    self.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    self.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
            // Devolvemos el subject porque si no se detiene el funcionamiento del stream 
            return busquedaSubject;
        });
        busquedaSubject.subscribe(function (resultado) {
            _this.cargando = false;
            _this.resetItemSeleccionado();
            _this.insumos = resultado.data;
            _this.total = resultado.total | 0;
            _this.paginasTotales = Math.ceil(_this.total / _this.resultadosPorPagina);
            _this.indicePaginas = [];
            for (var i = 0; i < _this.paginasTotales; i++) {
                _this.indicePaginas.push(i + 1);
            }
            console.log("Búsqueda cargada.");
        });
    };
    BuscarInsumosComponent.prototype.ngAfterViewInit = function () {
        var _this = this;
        try {
            // Por alguna razón si no implemento un setTimeout me lanza error
            // investigar porque ocurre esto
            // Poner el focus en la barra de busqueda
            setTimeout(function () { _this.searchBoxViewChildren.first.nativeElement.focus(); });
        }
        catch (e) {
            console.log(e);
        }
    };
    BuscarInsumosComponent.prototype.cerrar = function () {
        this.searchBoxViewChildren.first.nativeElement.value = "";
        this.onCerrar.emit();
    };
    BuscarInsumosComponent.prototype.resetItemSeleccionado = function () {
        this.cantidadBoxViewChildren.first.nativeElement.value = "";
        this.insumoSeleccionado = null;
        this.cantidadValida = false;
    };
    BuscarInsumosComponent.prototype.seleccionar = function (item) {
        this.insumoSeleccionado = item;
        this.cantidadBoxViewChildren.first.nativeElement.disabled = false;
        this.cantidadBoxViewChildren.first.nativeElement.focus();
    };
    BuscarInsumosComponent.prototype.comprobarCantidad = function (value) {
        if (value.replace(/ /g, '') == "") {
            this.cantidadValida = false;
            return false;
        }
        if (isNaN(value)) {
            this.cantidadValida = false;
            return false;
        }
        var x = value % 1;
        if (x != 0) {
            this.cantidadValida = false;
            return false;
        }
        this.cantidadValida = true;
        return true;
    };
    BuscarInsumosComponent.prototype.enviar = function (e) {
        e.preventDefault();
        //Harima: Checamos si el insumo que seleccionamos no se encuentra agregado
        if (this.listaAgregados.indexOf(this.insumoSeleccionado.clave) < 0) {
            this.mensajeAgregado = new __WEBPACK_IMPORTED_MODULE_10__mensaje__["a" /* Mensaje */](true, 2);
            this.mensajeAgregado.mostrar = true;
            this.insumoSeleccionado.cantidad = this.cantidadBoxViewChildren.first.nativeElement.value;
            this.onEnviar.emit(this.insumoSeleccionado);
            this.searchBoxViewChildren.first.nativeElement.focus();
            //Harima: Agregamos la clave al arreglo de items agregados
            this.listaAgregados.push(this.insumoSeleccionado.clave);
            this.resetItemSeleccionado();
        }
        else {
            //Harima: Mostramos un mensaje de error al intentar agregar un insumo ya presente en la lista
            this.mensajeError = new __WEBPACK_IMPORTED_MODULE_10__mensaje__["a" /* Mensaje */](true, 2);
            this.mensajeError.texto = "El insumo seleccionado ya se encuentra en la lista";
            this.mensajeError.mostrar = true;
        }
    };
    BuscarInsumosComponent.prototype.buscar = function (term) {
        this.terminosBusqueda.next(term);
        this.mensajeError.mostrar = false;
    };
    BuscarInsumosComponent.prototype.listar = function (term, pagina) {
        var _this = this;
        this.paginaActual = pagina;
        this.resetItemSeleccionado();
        console.log("Cargando insumos.");
        this.cargando = true;
        this.buscarInsumosService.buscar(term, pagina, this.resultadosPorPagina, this.conPrecios, this.tipo).subscribe(function (resultado) {
            _this.cargando = false;
            _this.insumos = resultado.data;
            _this.total = resultado.total | 0;
            _this.paginasTotales = Math.ceil(_this.total / _this.resultadosPorPagina);
            _this.indicePaginas = [];
            for (var i = 0; i < _this.paginasTotales; i++) {
                _this.indicePaginas.push(i + 1);
            }
            console.log("Insumos cargados.");
            console.log(_this.insumos);
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError.mostrar = true;
            _this.ultimaPeticion = _this.listar;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    BuscarInsumosComponent.prototype.mostrarFichaInformativa = function (e, clave) {
        e.preventDefault();
        e.stopPropagation();
        // Mostrar el componente de Ficha Informativa
        // Falta hacerlo sumamiiiii :)
        alert(clave);
        console.log(clave);
    };
    // # SECCION: Paginación
    BuscarInsumosComponent.prototype.paginaSiguiente = function (term) {
        if (this.paginaActual == this.paginasTotales) {
            return;
        }
        this.resetItemSeleccionado();
        this.listar(term, this.paginaActual + 1);
    };
    BuscarInsumosComponent.prototype.paginaAnterior = function (term) {
        if (this.paginaActual == 1) {
            return;
        }
        this.resetItemSeleccionado();
        this.listar(term, this.paginaActual - 1);
    };
    BuscarInsumosComponent.prototype.keyboardInput = function (e) {
        if (e.keyCode == 27) {
            event.preventDefault();
            event.stopPropagation();
            this.cerrar();
        }
        // Cambiar página hacia adelante ctrl + shift + ->
        if (e.keyCode == 39 && ((e.ctrlKey && e.shiftKey) || e.ctrlKey)) {
            event.preventDefault();
            event.stopPropagation();
            this.paginaSiguiente(this.searchBoxViewChildren.first.nativeElement.value);
        }
        // Cambiar página hacia adelante ctrl + shift + <-
        if (e.keyCode == 37 && ((e.ctrlKey && e.shiftKey) || e.ctrlKey)) {
            event.preventDefault();
            event.stopPropagation();
            this.paginaAnterior(this.searchBoxViewChildren.first.nativeElement.value);
        }
    };
    return BuscarInsumosComponent;
}());
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChildren"])('searchBox'),
    __metadata("design:type", Object)
], BuscarInsumosComponent.prototype, "searchBoxViewChildren", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChildren"])('cantidadBox'),
    __metadata("design:type", Object)
], BuscarInsumosComponent.prototype, "cantidadBoxViewChildren", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
    __metadata("design:type", Object)
], BuscarInsumosComponent.prototype, "onCerrar", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
    __metadata("design:type", Object)
], BuscarInsumosComponent.prototype, "onEnviar", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Object)
], BuscarInsumosComponent.prototype, "listaAgregados", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Boolean)
], BuscarInsumosComponent.prototype, "conPrecios", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Boolean)
], BuscarInsumosComponent.prototype, "conCantidad", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", String)
], BuscarInsumosComponent.prototype, "tipo", void 0);
BuscarInsumosComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'buscar-insumos',
        template: __webpack_require__("../../../../../src/app/farmacia/buscar-insumos/buscar-insumos.component.html"),
        styles: [__webpack_require__("../../../../../src/app/farmacia/buscar-insumos/buscar-insumos.component.css")],
        host: { '(document:keydown)': 'keyboardInput($event)' }
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_11__buscar_insumos_service__["a" /* BuscarInsumosService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_11__buscar_insumos_service__["a" /* BuscarInsumosService */]) === "function" && _a || Object])
], BuscarInsumosComponent);

var _a;
//# sourceMappingURL=C:/wamp/www/x3-C/src/buscar-insumos.component.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/buscar-insumos/buscar-insumos.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__paginacion_paginacion_module__ = __webpack_require__("../../../../../src/app/paginacion/paginacion.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__buscar_insumos_component__ = __webpack_require__("../../../../../src/app/farmacia/buscar-insumos/buscar-insumos.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__buscar_insumos_service__ = __webpack_require__("../../../../../src/app/farmacia/buscar-insumos/buscar-insumos.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BuscarInsumosModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





var BuscarInsumosModule = (function () {
    function BuscarInsumosModule() {
    }
    return BuscarInsumosModule;
}());
BuscarInsumosModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [
            __WEBPACK_IMPORTED_MODULE_1__angular_common__["CommonModule"],
            __WEBPACK_IMPORTED_MODULE_2__paginacion_paginacion_module__["a" /* PaginacionModule */]
        ],
        exports: [
            __WEBPACK_IMPORTED_MODULE_3__buscar_insumos_component__["a" /* BuscarInsumosComponent */]
        ],
        declarations: [__WEBPACK_IMPORTED_MODULE_3__buscar_insumos_component__["a" /* BuscarInsumosComponent */]],
        providers: [__WEBPACK_IMPORTED_MODULE_4__buscar_insumos_service__["a" /* BuscarInsumosService */]]
    })
], BuscarInsumosModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/buscar-insumos.module.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/buscar-insumos/buscar-insumos.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/@angular/http.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__ = __webpack_require__("../../../../../src/app/jwt-request.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BuscarInsumosService; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var BuscarInsumosService = BuscarInsumosService_1 = (function () {
    function BuscarInsumosService(http, jwtRequest) {
        this.http = http;
        this.jwtRequest = jwtRequest;
    }
    BuscarInsumosService.prototype.lista = function (pagina, resultados_por_pagina, con_precios) {
        if (pagina === void 0) { pagina = 1; }
        if (resultados_por_pagina === void 0) { resultados_por_pagina = 25; }
        if (con_precios === void 0) { con_precios = false; }
        return this.jwtRequest.get(BuscarInsumosService_1.URL, null, { page: pagina, per_page: resultados_por_pagina, con_precios: con_precios }).map(function (response) { return response.json().data; });
    };
    BuscarInsumosService.prototype.buscar = function (term, pagina, resultados_por_pagina, con_precios, tipo) {
        if (pagina === void 0) { pagina = 1; }
        if (resultados_por_pagina === void 0) { resultados_por_pagina = 25; }
        if (con_precios === void 0) { con_precios = false; }
        if (tipo === void 0) { tipo = null; }
        return this.jwtRequest.get(BuscarInsumosService_1.URL, null, { q: term, page: pagina, per_page: resultados_por_pagina, con_precios: con_precios, tipo: tipo }).map(function (response) { return response.json().data; });
    };
    return BuscarInsumosService;
}());
BuscarInsumosService.URL = "catalogo-insumos";
BuscarInsumosService = BuscarInsumosService_1 = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__["a" /* JwtRequestService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__["a" /* JwtRequestService */]) === "function" && _b || Object])
], BuscarInsumosService);

var BuscarInsumosService_1, _a, _b;
//# sourceMappingURL=C:/wamp/www/x3-C/src/buscar-insumos.service.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/claves-basicas/claves-basicas-routing.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lista_lista_component__ = __webpack_require__("../../../../../src/app/farmacia/claves-basicas/lista/lista.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__formulario_formulario_component__ = __webpack_require__("../../../../../src/app/farmacia/claves-basicas/formulario/formulario.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__auth_guard_service__ = __webpack_require__("../../../../../src/app/auth-guard.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__permisos_guard__ = __webpack_require__("../../../../../src/app/permisos.guard.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ClavesBasicasRoutingModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};






var routes = [
    {
        path: 'almacen/claves-basicas',
        children: [
            { path: '', component: __WEBPACK_IMPORTED_MODULE_2__lista_lista_component__["a" /* ListaComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_5__permisos_guard__["a" /* PermisosGuard */]], data: { key: 'r1RX6Yq7fc4CRRI2OJXIPxeBLW3lFP59' } },
            { path: 'crear', component: __WEBPACK_IMPORTED_MODULE_3__formulario_formulario_component__["a" /* FormularioComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_5__permisos_guard__["a" /* PermisosGuard */]], data: { key: 'N9tkWbLzXzdoAyBzcgLc85JPXqvRNvUh' } },
            { path: 'editar/:id', component: __WEBPACK_IMPORTED_MODULE_3__formulario_formulario_component__["a" /* FormularioComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_5__permisos_guard__["a" /* PermisosGuard */]], data: { key: 'ityO3IAU1jhIlXnr9WPhINvdr09pQJry' } },
        ],
        canActivate: [__WEBPACK_IMPORTED_MODULE_4__auth_guard_service__["a" /* AuthGuard */]]
    }
];
var ClavesBasicasRoutingModule = (function () {
    function ClavesBasicasRoutingModule() {
    }
    return ClavesBasicasRoutingModule;
}());
ClavesBasicasRoutingModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */].forChild(routes)],
        exports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */]]
    })
], ClavesBasicasRoutingModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/claves-basicas-routing.module.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/claves-basicas/claves-basicas.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__hub_hub_module__ = __webpack_require__("../../../../../src/app/hub/hub.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__perfil_perfil_module__ = __webpack_require__("../../../../../src/app/perfil/perfil.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__bloquear_pantalla_bloquear_pantalla_module__ = __webpack_require__("../../../../../src/app/bloquear-pantalla/bloquear-pantalla.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__paginacion_paginacion_module__ = __webpack_require__("../../../../../src/app/paginacion/paginacion.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__index_farmacia_index_farmacia_module__ = __webpack_require__("../../../../../src/app/farmacia/index-farmacia/index-farmacia.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__buscar_insumos_buscar_insumos_module__ = __webpack_require__("../../../../../src/app/farmacia/buscar-insumos/buscar-insumos.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__claves_basicas_routing_module__ = __webpack_require__("../../../../../src/app/farmacia/claves-basicas/claves-basicas-routing.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__lista_lista_component__ = __webpack_require__("../../../../../src/app/farmacia/claves-basicas/lista/lista.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__formulario_formulario_component__ = __webpack_require__("../../../../../src/app/farmacia/claves-basicas/formulario/formulario.component.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ClavesBasicasModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};












var ClavesBasicasModule = (function () {
    function ClavesBasicasModule() {
    }
    return ClavesBasicasModule;
}());
ClavesBasicasModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [
            __WEBPACK_IMPORTED_MODULE_1__angular_common__["CommonModule"],
            __WEBPACK_IMPORTED_MODULE_2__angular_forms__["FormsModule"],
            __WEBPACK_IMPORTED_MODULE_9__claves_basicas_routing_module__["a" /* ClavesBasicasRoutingModule */],
            __WEBPACK_IMPORTED_MODULE_3__hub_hub_module__["a" /* HubModule */],
            __WEBPACK_IMPORTED_MODULE_4__perfil_perfil_module__["a" /* PerfilModule */],
            __WEBPACK_IMPORTED_MODULE_5__bloquear_pantalla_bloquear_pantalla_module__["a" /* BloquearPantallaModule */],
            __WEBPACK_IMPORTED_MODULE_6__paginacion_paginacion_module__["a" /* PaginacionModule */],
            __WEBPACK_IMPORTED_MODULE_7__index_farmacia_index_farmacia_module__["a" /* IndexFarmaciaModule */],
            __WEBPACK_IMPORTED_MODULE_8__buscar_insumos_buscar_insumos_module__["a" /* BuscarInsumosModule */]
        ],
        declarations: [__WEBPACK_IMPORTED_MODULE_10__lista_lista_component__["a" /* ListaComponent */], __WEBPACK_IMPORTED_MODULE_11__formulario_formulario_component__["a" /* FormularioComponent */]]
    })
], ClavesBasicasModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/claves-basicas.module.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/claves-basicas/claves-basicas.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__jwt_request_service__ = __webpack_require__("../../../../../src/app/jwt-request.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ClavesBasicasService; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var ClavesBasicasService = ClavesBasicasService_1 = (function () {
    function ClavesBasicasService(jwtRequest) {
        this.jwtRequest = jwtRequest;
    }
    ClavesBasicasService.prototype.lista = function () {
        return this.jwtRequest.get(ClavesBasicasService_1.URL, null, null).map(function (response) { return response.json().data; });
    };
    ClavesBasicasService.prototype.ver = function (id) {
        return this.jwtRequest.get(ClavesBasicasService_1.URL, id, {}).map(function (response) {
            var jsonData = response.json().data;
            /* var roles:string[] = []
                jsonData.roles.map(item => {
                roles.push(""+item.id)
                })*/
            var pedido = jsonData;
            //usuario.roles = roles;
            return pedido;
        });
    };
    ClavesBasicasService.prototype.crear = function (lista) {
        return this.jwtRequest.post(ClavesBasicasService_1.URL, lista).map(function (response) { return response.json().data; });
    };
    ClavesBasicasService.prototype.editar = function (id, lista) {
        return this.jwtRequest.put(ClavesBasicasService_1.URL, id, lista).map(function (response) { return response.json().data; });
    };
    ClavesBasicasService.prototype.eliminar = function (id) {
        return this.jwtRequest.delete(ClavesBasicasService_1.URL, id).map(function (response) { return response.json().data; });
    };
    return ClavesBasicasService;
}());
ClavesBasicasService.URL = "claves-basicas";
ClavesBasicasService = ClavesBasicasService_1 = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__jwt_request_service__["a" /* JwtRequestService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__jwt_request_service__["a" /* JwtRequestService */]) === "function" && _a || Object])
], ClavesBasicasService);

var ClavesBasicasService_1, _a;
//# sourceMappingURL=C:/wamp/www/x3-C/src/claves-basicas.service.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/claves-basicas/formulario/formulario.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".top-bar {\r\n    padding: 1em ; \r\n    font-size: 1.2em; \r\n    background: #FFF;    \r\n    color: #333;\r\n}\r\n.contenedor-lista.con-tabs .top-bar {\r\n    padding: 0.5em ; \r\n    border-radius: 1em;\r\n}\r\n.top-bar.is-primary {\r\n    background: #00d1b2;\r\n    color:#FFF;\r\n}\r\n.top-bar.is-danger {\r\n    background: #ff3860;\r\n    color:#FFF;\r\n}\r\n.top-bar.is-dark {\r\n    background: #333;\r\n    color:#FFF\r\n}\r\n.contenedor-lista {\r\n    background: #FFF; border-radius: 1em; overflow: hidden;\r\n}\r\n\r\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/farmacia/claves-basicas/formulario/formulario.component.html":
/***/ (function(module, exports) {

module.exports = "<menu-farmacia [modulo]=\"'Claves básicas'\"  [icono]=\"'assets/icono-claves-basicas-alt.svg'\" [url]=\"'/almacen/claves-basicas'\"></menu-farmacia>\r\n<div style=\"position:relative; padding-top:70px; margin-left: 1.5%; display:block; width:97%; height:100% !important;\" *ngIf=\"lista\">    \r\n  <div class=\"tile is-ancestor is-vertical\" style=\"height:100% !important; max-height:100% !important;\">\r\n    <div class=\"tile\">\r\n      <div class=\"tile is-4 is-parent is-vertical \">\r\n        <div class=\"tile is-child\">\r\n            <div style=\"background: #FFF; border-radius: 1em; overflow: hidden;\">\r\n                <section class=\"hero is-primary\" >\r\n                <h1 class=\"title\" style=\"margin:0.5em;\" >\r\n                    <span class=\"icon is-medium\"><i class=\"fa fa-file-text\"></i></span> {{formularioTitulo}} \r\n                </h1>\r\n                </section>\r\n                <div class=\"is-fullwidth has-text-centered\" *ngIf=\"cargando\">\r\n                    <br>\r\n                    <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                    <br>\r\n                    <br>\r\n                </div>\r\n                <div style=\"padding: 1em;\" *ngIf=\"!cargando\">\r\n   \r\n                    <label class=\"label\">Nombre:</label>\r\n                    <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                        <input type=\"text\" class=\"input is-fullwidth\"  [ngClass]=\"{ 'is-danger': errores.nombre != null}\" [(ngModel)]=\"lista.nombre\"/>\r\n                        <span class=\"icon is-small\" *ngIf=\"false\">\r\n                            <i class=\"fa fa-warning\"></i>\r\n                        </span>\r\n                        <span class=\"help is-danger\" *ngIf=\"errores.nombre == 'required'\">Este campo es requerido.</span>\r\n                    </p>\r\n                    <label class=\"label\">Tipo:</label>\r\n                    <p class=\"control\">\r\n                        <span class=\"select is-fullwidth\" [ngClass]=\"{'is-danger': errores.tipo != null}\">\r\n                            <select name=\"almacen_solicitante\" [(ngModel)]=\"lista.tipo\" [ngClass]=\"{ 'is-disabled': lista.items.length > 0 }\">\r\n                                <option value=\"CA\">Causes</option>\r\n                                <option value=\"NCA\">No causes</option>\r\n                                <option value=\"MC\">Material de curación</option>\r\n                            </select>\r\n                        </span>\r\n                        <span class=\"help is-danger\" *ngIf=\"errores.tipo == 'unique'\">Ya existe una lista de este tipo.</span>\r\n                    </p>\r\n                    <br>\r\n                    <div class=\"control is-grouped\" style=\"padding-top:10px;\" *ngIf=\"!cargando\">\r\n\r\n                        <p class=\"control\">\r\n                            <a class=\"button is-primary \" (click)=\"guardar()\" [ngClass]=\"{'is-loading': guardando}\" >Guardar</a>\r\n                        </p>\r\n                        <p class=\"control\">\r\n                        <a class=\"button is-white\" [ngClass]=\"{'is-loading': guardando}\" routerLink=\"/almacen/claves-basicas\" >Regresar</a>\r\n                        </p>                \r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <br>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"tile is-parent is-vertical\">        \r\n        <div class=\"tile is-child\" >\r\n        \r\n            <div class=\"is-fullwidth has-text-centered\" *ngIf=\"cargando\">\r\n                <br>\r\n                <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n            <div class=\"contenedor-lista\" *ngIf=\"!cargando\">\r\n                <div class=\"top-bar\" [ngClass]=\"{'is-primary':!lista.filtro.activo,'is-dark': lista.filtro.activo, 'is-danger':  errores.items == 'required' && lista.items.length == 0 }\">\r\n                    <span *ngIf=\"!lista.filtro.activo\"> <b>Claves:</b> {{ lista.items.length | number }}</span>\r\n                    <span *ngIf=\"lista.filtro.activo\"><span class=\"icon\"><i class=\"fa fa-search\"></i></span> Resultados: {{ lista.filtro.items.length }}</span>\r\n                    <small *ngIf=\"errores.items == 'required'\"> Agregue al menos una clave</small>\r\n                <a class=\"button is-primary  is-pulled-right\" [ngClass]=\"{ 'is-inverted': lista.filtro.activo, 'is-danger': errores.items == 'required' && lista.items.length == 0 }\" style=\"margin-top:-0.25em;\" title=\"Ctrl + espacio\" (click)=\"toggleModalInsumos(); \">\r\n                    <span class=\"icon\"><i class=\"fa fa-plus\"></i></span><span>Agregar Clave</span>\r\n                    </a>\r\n                </div> \r\n\r\n                <div class=\"is-fullwidth has-text-centered\" *ngIf=\"guardando\">\r\n                    <br>\r\n                    <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-spinner fa-spin\"></i></span> &nbsp;<span>Guardando...</span></span>\r\n                    <br>\r\n                    <br>\r\n                </div>\r\n\r\n                \r\n\r\n                <table class=\"table is-unselectable\" *ngIf=\"!cargando && !guardando\" style=\"font-size: 0.8em;\">\r\n                    <thead>\r\n                        <tr  >\r\n                            <th style=\"width:41px;vertical-align: middle;\" class=\"has-text-centered\" >#</th>\r\n                            <th class=\"is-hidden-mobile\" style=\"width:118px;\">\r\n                            <p class=\"control is-expanded\" >\r\n                                <input type=\"hidden\" #searchBoxClavePrevia >                            \r\n                                <input class=\"input is-small\" type=\"text\" placeholder=\"Filtrar\" #searchBoxClave id=\"search-box-clave\" (keyup)=\"buscar($event,searchBoxClave,searchBoxClavePrevia,[{ input: searchBoxClave, campos: ['clave','descripcion']}])\">\r\n                            </p>\r\n                            </th>\r\n                            <th class=\"is-hidden-tablet\">\r\n                            <p class=\"control is-expanded\">\r\n                                <input type=\"hidden\" #searchBoxDescripcionClavePrevia >                            \r\n                                <input class=\"input is-small\" type=\"text\" placeholder=\"Clave o Genérico\" #searchBoxDescripcionClave id=\"search-box-descripcion-clave-{{indexPedido}}\" (keyup)=\"buscar($event,searchBoxDescripcionClave,searchBoxDescripcionClavePrevia,[{ input: searchBoxDescripcionClave, campos: ['clave','descripcion']}])\">\r\n                            </p>\r\n                            </th>  \r\n                            <th style=\"vertical-align: middle;\" class=\"is-hidden-mobile \" >Descripcion</th>                  \r\n                            <th  style=\"width:21px !important;\"></th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody *ngIf=\"!lista.filtro.activo\">\r\n                    <tr *ngIf=\"lista.paginacion.lista.length == 0\"><td colspan=\"3\">Lista vacía.</td></tr>\r\n                        <tr   *ngFor=\"let item of lista.paginacion.lista; let i = index;\">\r\n                        <td class=\"has-text-centered\">{{ i + 1 }}</td>\r\n                        <td class=\"has-text-centered is-hidden-mobile\"><a (click)=\"mostrarFichaInformativa($event, item.clave)\" style=\"cursor:help;\">{{ item.clave }}</a></td>            \r\n                        <td>\r\n                            <small class=\"is-hidden-tablet\">{{ item.clave }} <br></small>\r\n                            <div style=\"line-height:1em;\">\r\n                            <small>{{ item.descripcion }}</small>\r\n                            </div>\r\n                            <div style=\"padding: 0.5em 0 0.5em 0; \">                        \r\n                        <span *ngIf=\"item.es_cuadro_basico\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">Cuadro básico</span>\r\n                        <span *ngIf=\"(item.tipo == 'ME' && item.informacion)\">\r\n                            <span *ngIf=\"item.informacion.es_controlado\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Controlado</span>\r\n                            <span *ngIf=\"item.informacion.es_surfactante\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Surfactante</span>  \r\n                        </span>\r\n                            </div>\r\n                        </td>\r\n                        <td style=\"width:21px !important;\"><a (click)=\"eliminarInsumo(item,i)\"><span class=\"icon\"><i class=\"fa fa-trash\"></i></span></a></td>\r\n                        </tr>      \r\n                    </tbody>\r\n                    <tbody *ngIf=\"lista.filtro.activo\">\r\n                        <tr  *ngFor=\"let item of lista.filtro.paginacion.lista; let i = index;\">\r\n                        <td class=\"has-text-centered\">{{ item.lote }}</td>\r\n                        <td class=\"has-text-centered is-hidden-mobile\"><a (click)=\"mostrarFichaInformativa($event, item.clave)\" style=\"cursor:help;\">{{ item.clave }}</a></td>            \r\n                        \r\n                        <td>\r\n                            <small class=\"is-hidden-tablet\">{{ item.clave }} <br></small>\r\n                            <div style=\"line-height:1em;\">\r\n                            <small>{{ item.descripcion }}</small>\r\n                            </div>\r\n                            <div style=\"padding: 0.5em 0 0.5em 0; \">\r\n                            <span *ngIf=\"item.es_cuadro_basico\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">Cuadro básico</span>\r\n                            <span *ngIf=\"(item.tipo == 'ME' && item.informacion)\">\r\n                                <span *ngIf=\"item.informacion.es_controlado\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Controlado</span>\r\n                                <span *ngIf=\"item.informacion.es_surfactante\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Surfactante</span>  \r\n                            </span>\r\n                            </div>\r\n                        </td>\r\n                        <td style=\"width:21px !important;\"><a (click)=\"eliminarInsumo(item,i,true)\"><span class=\"icon\"><i class=\"fa fa-trash\"></i></span></a></td>\r\n                        </tr>\r\n                    </tbody>              \r\n                </table>\r\n                \r\n                <paginacion \r\n                        [total]=\"lista.items.length\" \r\n                        [paginasTotales]=\"lista.paginacion.totalPaginas\" \r\n                        [resultadosPorPagina]=\"lista.paginacion.resultadosPorPagina\" \r\n                        [paginaActual]=\"lista.paginacion.paginaActual\" \r\n                        [indicePaginas]=\"lista.paginacion.indice\"\r\n                        (onSiguiente)=\"lista.paginaSiguiente()\" \r\n                        (onAnterior)=\"lista.paginaAnterior()\" \r\n                        (onListar)=\"lista.listar($event)\" \r\n                        *ngIf=\"lista.items.length > 0 && lista.items.length > lista.paginacion.resultadosPorPagina && !lista.filtro.activo\"></paginacion>\r\n                \r\n                <paginacion \r\n                        [total]=\"lista.filtro.items.length\" \r\n                        [paginasTotales]=\"lista.filtro.paginacion.totalPaginas\" \r\n                        [resultadosPorPagina]=\"lista.filtro.paginacion.resultadosPorPagina\" \r\n                        [paginaActual]=\"lista.filtro.paginacion.paginaActual\" \r\n                        [indicePaginas]=\"lista.filtro.paginacion.indice\"\r\n                        (onSiguiente)=\"lista.filtro.paginaSiguiente()\" \r\n                        (onAnterior)=\"lista.filtro.paginaAnterior()\" \r\n                        (onListar)=\"lista.filtro.listar($event)\" \r\n                        *ngIf=\"lista.filtro.items.length > 0 && lista.filtro.items.length > lista.filtro.paginacion.resultadosPorPagina && lista.filtro.activo\"></paginacion>\r\n                \r\n                <br>\r\n            </div>\r\n          \r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div class=\"notification is-danger\" style=\"position:fixed; left:1em;  bottom:1em;\" *ngIf=\"mensajeError.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeError.mostrar = false\"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n</div>\r\n\r\n<div class=\"notification is-success\" style=\"position:fixed; left:1em;  bottom:1em; width: auto\" *ngIf=\"mensajeExito.mostrar\">       \r\n    <button class=\"delete\" (click)=\"mensajeExito.mostrar = false\"></button>\r\n    <p><span class=\"icon\" style=\"margin-right: 0.5em;\"><i class=\"fa fa-check-circle\"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <!--p style=\"text-align: center;\"><small >Este mensaje desaparecerá en {{ mensajeExito.cuentaAtras }} segundos.</small></p-->\r\n</div>\r\n<buscar-insumos *ngIf=\"mostrarModalInsumos\" (onCerrar)=\"mostrarModalInsumos = false\" (onEnviar)=\"agregarItem($event)\" [listaAgregados]=\"listaClaveAgregadas\" [conPrecios]=\"false\" [conCantidad]=\"false\" [tipo]=\"lista.tipo\" ></buscar-insumos>"

/***/ }),

/***/ "../../../../../src/app/farmacia/claves-basicas/formulario/formulario.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__claves_basicas_service__ = __webpack_require__("../../../../../src/app/farmacia/claves-basicas/claves-basicas.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__perfil_cambiar_entorno_service__ = __webpack_require__("../../../../../src/app/perfil/cambiar-entorno.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__mensaje__ = __webpack_require__("../../../../../src/app/mensaje.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__lista__ = __webpack_require__("../../../../../src/app/farmacia/claves-basicas/lista.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormularioComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var FormularioComponent = (function () {
    // # FIN SECCION
    function FormularioComponent(title, location, router, route, apiService, cambiarEntornoService) {
        this.title = title;
        this.location = location;
        this.router = router;
        this.route = route;
        this.apiService = apiService;
        this.cambiarEntornoService = cambiarEntornoService;
        this.cargando = false;
        this.guardando = false;
        this.esEditar = false;
        this.formularioTitulo = 'Nueva lista';
        this.errores = {
            nombre: null,
            tipo: null,
            items: null
        };
        // # SECCION: Esta sección es para mostrar mensajes
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_6__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_6__mensaje__["a" /* Mensaje */]();
        // # FIN SECCION
        // # SECCION: Modal Insumos
        this.mostrarModalInsumos = false;
        //Lista de claves agregadas al pedido, para checar duplicidad
        this.listaClaveAgregadas = [];
    }
    FormularioComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.lista = new __WEBPACK_IMPORTED_MODULE_7__lista__["a" /* Lista */](true);
        this.cambiarEntornoSuscription = this.cambiarEntornoService.entornoCambiado$.subscribe(function (evento) {
            if (_this.esEditar) {
                _this.cargarLista();
            }
        });
        this.route.params.subscribe(function (params) {
            if (params['id']) {
                _this.lista.id = params['id'];
                _this.cargarLista();
            }
            else {
                _this.title.setTitle('Nueva lista');
            }
        });
    };
    FormularioComponent.prototype.cargarLista = function () {
        var _this = this;
        this.cargando = true;
        //cargar datos del pedido
        this.esEditar = true;
        this.formularioTitulo = 'Editar';
        this.title.setTitle('Editar lista');
        this.apiService.ver(this.lista.id).subscribe(function (respuesta) {
            _this.cargando = false;
            console.log(respuesta);
            _this.lista.nombre = respuesta.nombre;
            _this.lista.tipo = respuesta.tipo;
            for (var i in respuesta.detalles) {
                var dato = respuesta.detalles[i];
                var insumo = dato.insumo_con_descripcion;
                _this.lista.items.push(insumo);
                _this.listaClaveAgregadas.push(insumo.clave);
            }
            _this.lista.indexar();
            _this.lista.listar(1);
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_6__mensaje__["a" /* Mensaje */](true);
            try {
                var e = error.json();
                if (error.status == 401 || error.status == 403) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                    _this.router.navigate(['/almacen/claves-basicas/']);
                }
            }
            catch (e) {
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
            _this.mensajeError.mostrar = true;
        });
    };
    FormularioComponent.prototype.toggleModalInsumos = function () {
        this.mostrarModalInsumos = !this.mostrarModalInsumos;
    };
    FormularioComponent.prototype.buscar = function (e, input, inputAnterior, parametros) {
        var term = input.value;
        // Quitamos la busqueda
        if (e.keyCode == 27) {
            e.preventDefault();
            e.stopPropagation();
            input.value = "";
            inputAnterior.value = "";
            this.lista.filtro.activo = false;
            this.lista.filtro.items = [];
            return;
        }
        //Verificamos que la busqueda no sea la misma que la anterior para no filtrar en vano
        if (inputAnterior.value == term) {
            return;
        }
        e.preventDefault();
        e.stopPropagation();
        inputAnterior.value = term;
        if (term != "") {
            this.lista.filtro.activo = true;
        }
        else {
            this.lista.filtro.activo = false;
            this.lista.filtro.items = [];
            return;
        }
        var arregloResultados = [];
        var _loop_1 = function (i) {
            var termino = parametros[i].input.value;
            if (termino == "") {
                return "continue";
            }
            var listaFiltrada = this_1.lista.items.filter(function (item) {
                var cadena = "";
                var campos = parametros[i].campos;
                for (var l in campos) {
                    try {
                        // Esto es por si escribieron algo como "objeto.propiedad" en lugar de: "propiedad"
                        var prop = campos[l].split(".");
                        if (prop.length > 1) {
                            cadena += " " + item[prop[0]][prop[1]].toLowerCase();
                        }
                        else {
                            cadena += " " + item[campos[l]].toLowerCase();
                        }
                    }
                    catch (e) { }
                }
                return cadena.includes(termino.toLowerCase());
            });
            arregloResultados.push(listaFiltrada);
        };
        var this_1 = this;
        for (var i in parametros) {
            _loop_1(i);
        }
        if (arregloResultados.length > 1) {
            // Ordenamos Ascendente
            arregloResultados = arregloResultados.sort(function (a, b) { return a.length - b.length; });
            var filtro = arregloResultados[0];
            var match = [];
            for (var k = 1; k < arregloResultados.length; k++) {
                for (var i in arregloResultados[k]) {
                    for (var j in filtro) {
                        if (arregloResultados[k][i] === filtro[j]) {
                            match.push(filtro[j]);
                        }
                    }
                }
                ;
            }
            this.lista.filtro.items = match;
        }
        else {
            this.lista.filtro.items = arregloResultados[0];
        }
        this.lista.filtro.indexar(false);
        this.lista.filtro.paginacion.paginaActual = 1;
        this.lista.filtro.listar(1);
    };
    //Harima: necesitamos eliminar también de la lista de claves agregadas
    FormularioComponent.prototype.eliminarInsumo = function (item, index, filtro) {
        if (filtro === void 0) { filtro = false; }
        //Harima: eliminar el elemento en la lista de claves agregadas, para poder agregarla de nuevo si se desea
        var i = this.listaClaveAgregadas.indexOf(item.clave);
        this.listaClaveAgregadas.splice(i, 1);
        //Harima: si no es el filtro(busqueda), borrar de la lista principal de insumos
        if (!filtro) {
            this.lista.eliminarItem(item, index);
        }
        else {
            this.lista.filtro.eliminarItem(item, index);
        }
    };
    FormularioComponent.prototype.agregarItem = function (item) {
        if (item === void 0) { item = {}; }
        var auxPaginasTotales = this.lista.paginacion.totalPaginas;
        this.lista.items.push(item);
        this.lista.indexar();
        if (this.lista.paginacion.lista.length == this.lista.paginacion.resultadosPorPagina
            && this.lista.paginacion.paginaActual == auxPaginasTotales
            && !this.lista.filtro.activo) {
            this.lista.listar(this.lista.paginacion.paginaActual + 1);
        }
        else {
            this.lista.listar(this.lista.paginacion.paginaActual);
        }
    };
    FormularioComponent.prototype.guardar = function () {
        var _this = this;
        this.guardando = true;
        var payload = {
            nombre: this.lista.nombre,
            tipo: this.lista.tipo,
            items: []
        };
        for (var i in this.lista.items) {
            payload.items.push(this.lista.items[i].clave);
        }
        this.errores = {
            nombre: null,
            tipo: null,
            items: null
        };
        if (this.esEditar) {
            this.apiService.editar(this.lista.id, payload).subscribe(function (respuesta) {
                _this.guardando = false;
            }, function (error) {
                _this.guardando = false;
                try {
                    var e = error.json();
                    _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_6__mensaje__["a" /* Mensaje */](true);
                    switch (error.status) {
                        case 401:
                            _this.mensajeError.texto = "No tiee permiso para realizar esta acción.";
                            break;
                        case 409:
                            _this.mensajeError.texto = "Verifique la información marcada de color rojo";
                            for (var input in e.error) {
                                // Iteramos todos los errores
                                for (var i in e.error[input]) {
                                    _this.errores[input] = e.error[input][i];
                                }
                            }
                            break;
                        case 500:
                            _this.mensajeError.texto = "500 (Error interno del servidor)";
                            break;
                        default:
                            _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                    }
                }
                catch (e) {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
                _this.mensajeError.mostrar = true;
            });
        }
        else {
            this.apiService.crear(payload).subscribe(function (respuesta) {
                _this.guardando = false;
                _this.router.navigate(['/almacen/claves-basicas/editar/' + respuesta.id]);
            }, function (error) {
                _this.guardando = false;
                try {
                    var e = error.json();
                    _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_6__mensaje__["a" /* Mensaje */](true);
                    switch (error.status) {
                        case 401:
                            _this.mensajeError.texto = "No tiee permiso para realizar esta acción.";
                            break;
                        case 409:
                            _this.mensajeError.texto = "Verifique la información marcada de color rojo";
                            for (var input in e.error) {
                                // Iteramos todos los errores
                                for (var i in e.error[input]) {
                                    _this.errores[input] = e.error[input][i];
                                }
                            }
                            break;
                        case 500:
                            _this.mensajeError.texto = "500 (Error interno del servidor)";
                            break;
                        default:
                            _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                    }
                }
                catch (e) {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
                _this.mensajeError.mostrar = true;
            });
        }
    };
    return FormularioComponent;
}());
FormularioComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-formulario',
        template: __webpack_require__("../../../../../src/app/farmacia/claves-basicas/formulario/formulario.component.html"),
        styles: [__webpack_require__("../../../../../src/app/farmacia/claves-basicas/formulario/formulario.component.css")],
        providers: [__WEBPACK_IMPORTED_MODULE_4__claves_basicas_service__["a" /* ClavesBasicasService */]]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_3__angular_router__["a" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__angular_router__["a" /* Router */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_3__angular_router__["c" /* ActivatedRoute */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__angular_router__["c" /* ActivatedRoute */]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_4__claves_basicas_service__["a" /* ClavesBasicasService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__claves_basicas_service__["a" /* ClavesBasicasService */]) === "function" && _e || Object, typeof (_f = typeof __WEBPACK_IMPORTED_MODULE_5__perfil_cambiar_entorno_service__["a" /* CambiarEntornoService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_5__perfil_cambiar_entorno_service__["a" /* CambiarEntornoService */]) === "function" && _f || Object])
], FormularioComponent);

var _a, _b, _c, _d, _e, _f;
//# sourceMappingURL=C:/wamp/www/x3-C/src/formulario.component.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/claves-basicas/lista.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__paginacion_paginacion__ = __webpack_require__("../../../../../src/app/paginacion/paginacion.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Lista; });

var ListaFiltro = (function () {
    function ListaFiltro() {
    }
    return ListaFiltro;
}());
var Lista = (function () {
    function Lista(conFiltro) {
        if (conFiltro === void 0) { conFiltro = false; }
        this.items = [];
        this.paginacion = new __WEBPACK_IMPORTED_MODULE_0__paginacion_paginacion__["a" /* Paginacion */]();
        this.activo = false;
        this.cargando = false;
        this.tieneError = function (atributo, error) {
            return (this.datos.get(atributo).hasError(error) && this.datos.get(atributo).touched);
        };
        this.inicializarDatos = function (datos) {
            if (datos === void 0) { datos = {}; }
            var today = datos.fecha;
            var almacen_solicitante = '';
            if (!datos.fecha) {
                //Harima:obtenemos la fecha actual
                var now = new Date();
                var day = ("0" + now.getDate()).slice(-2);
                var month = ("0" + (now.getMonth() + 1)).slice(-2);
                today = now.getFullYear() + "-" + (month) + "-" + (day);
            }
            if (datos.almacen_solicitante) {
                almacen_solicitante = datos.almacen_solicitante;
            }
            this.datos.setValue({ almacen_solicitante: almacen_solicitante, descripcion: '', observaciones: '', fecha: today });
        };
        this.indexar = function (conLote) {
            if (conLote === void 0) { conLote = true; }
            this.paginacion.totalPaginas = Math.ceil(this.items.length / this.paginacion.resultadosPorPagina);
            this.paginacion.indice = [];
            for (var i = 0; i < this.paginacion.totalPaginas; i++) {
                this.paginacion.indice.push(i + 1);
            }
        };
        this.listar = function (pagina) {
            if (pagina === void 0) { pagina = 1; }
            this.paginacion.paginaActual = pagina;
            var inicio = (this.paginacion.paginaActual - 1) * this.paginacion.resultadosPorPagina;
            var fin = inicio + this.paginacion.resultadosPorPagina;
            try {
                this.paginacion.lista = this.items.slice(inicio, fin);
            }
            catch (e) {
                this.paginacion.lista = [];
            }
        };
        this.eliminarItem = function (item, index) {
            var contador = 0;
            for (var i in this.items) {
                if (this.items[i] === item) {
                    this.paginacion.lista.splice(index, 1);
                    this.items.splice(contador, 1);
                    this.indexar();
                    //Harima: con esto calculamos el siguiente indice, de la items total de elementos, a agregar al final de la página
                    var proximoIndice = (contador + (this.paginacion.resultadosPorPagina - index)) - 1;
                    //Harima:  si ese indice existe, lo agregamos al final de la pagina
                    if (this.items[proximoIndice]) {
                        this.paginacion.lista.push(this.items[proximoIndice]);
                    }
                    //Harima: Si la pagina quedo vacía, itemsmos la pagina anterior, en caso de que la página actual sea mayor a 1
                    if (this.paginacion.lista.length == 0) {
                        if (this.paginacion.paginaActual > 1) {
                            this.listar(this.paginacion.paginaActual - 1);
                        }
                        else {
                            this.listar(1);
                        }
                    }
                    //Harima: si el objeto padre esta inicializado, significa que se esta eliminando desde una busqueda, por tanto hay que eliminar también en el objeto padre
                    if (this.padre) {
                        //Harima: se obtiene el indice y la pagina del item eliminado
                        var indice = this.padre.items.indexOf(item);
                        var pagina = Math.ceil(indice / this.padre.paginacion.resultadosPorPagina);
                        //Harima: se calcula el indice que tiene el item en la pagina en la que se encuentra
                        var ajusteIndices = (pagina - 1) * this.padre.paginacion.resultadosPorPagina;
                        var indiceEnPagina = indice - ajusteIndices;
                        //Harima: eliminamos el elemento del padre, de ser necesario cambiamos de pagina
                        if (this.padre.paginacion.paginaActual == pagina) {
                            this.padre.eliminarItem(item, indiceEnPagina);
                        }
                        else {
                            var respaldoPagina = this.padre.paginacion.paginaActual;
                            this.padre.listar(pagina);
                            this.padre.eliminarItem(item, indiceEnPagina);
                            this.padre.listar(respaldoPagina);
                            //Harima: tenemos que checar si en la pagina actual del padre aun hay elementos, de lo contrario itemsmos la pagina anterior, cuando sea posible
                            if (this.padre.paginacion.items.length == 0) {
                                if (this.padre.paginacion.paginaActual > 1) {
                                    this.padre.listar(this.padre.paginacion.paginaActual - 1);
                                }
                                else {
                                    this.padre.listar(1);
                                }
                            }
                        }
                    }
                    return;
                }
                contador++;
            }
        };
        if (conFiltro) {
            this.filtro = new Lista();
            //Harima: se asigna el pedido actual como padre del filtro
            this.filtro.padre = this;
            this.tipo = 'CA';
        }
        this.paginacion.resultadosPorPagina = 10;
    }
    Lista.prototype.paginaSiguiente = function () {
        if (this.paginacion.paginaActual == this.paginacion.totalPaginas) {
            return;
        }
        this.listar(this.paginacion.paginaActual + 1);
    };
    Lista.prototype.paginaAnterior = function () {
        if (this.paginacion.paginaActual == 1) {
            return;
        }
        this.listar(this.paginacion.paginaActual - 1);
    };
    return Lista;
}());

//# sourceMappingURL=C:/wamp/www/x3-C/src/lista.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/claves-basicas/lista/lista.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/farmacia/claves-basicas/lista/lista.component.html":
/***/ (function(module, exports) {

module.exports = "<menu-farmacia  [icono]=\"'assets/icono-claves-basicas-alt.svg'\" [url]=\"'/almacen/claves-basicas'\"></menu-farmacia>\r\n<div style=\"height:50px;\"></div>\r\n<div class=\"contenedor columns \" style=\"height:100%; \">\r\n   <div class=\"column is-12\">\r\n\r\n        <div style=\"margin:1em; border-radius:0.5em; overflow:hidden; background:white;\">\r\n            <section class=\"hero is-primary\">                \r\n                <div class=\"hero-body\" style=\"position:relative; \">\r\n                    <div class=\"container is-fluid\">\r\n                        <nav class=\"level\">\r\n                            <div class=\"level-left\">\r\n                                <div class=\"level-item\">\r\n                                    \r\n                                    <h1 class=\"title\"> <img src=\"assets/icono-claves-basicas.svg\" style=\"width:1em;\" alt=\"\"> Claves básicas</h1>                            \r\n                              \r\n                                </div>\r\n                                \r\n                            </div>\r\n                            <div class=\"level-right\">\r\n                                <div class=\"level-item\" *ngIf=\"lista.length < 3 && !cargando\">\r\n                                    <a class=\"button is-medium is-primary is-inverted \" routerLink=\"/almacen/claves-basicas/crear\">\r\n                                    <span class=\"icon\"><i class=\"fa fa-plus\"></i></span><span>Crear lista</span>\r\n                                    </a>\r\n                                </div>\r\n                            </div>\r\n                        </nav>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class=\"is-fullwidth has-text-centered\" *ngIf=\"cargando\">\r\n                <br>\r\n                <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n            <table class=\"table\" *ngIf=\"!cargando\" >\r\n                <thead>\r\n                    <tr>\r\n                        <th>Nombre</th>\r\n                        <th>Tipo</th>\r\n                        <th style=\"width:40px;\"></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor=\"let item of lista\">\r\n                        <td><a routerLink=\"/almacen/claves-basicas/editar/{{ item.id }}\">{{ item.nombre}}</a></td>\r\n                        <td><a routerLink=\"/almacen/claves-basicas/editar/{{ item.id }}\">{{ item.tipo == 'CA' ? 'CAUSES':  item.tipo == 'NCA' ? 'NO CAUSES' :  item.tipo == 'MC' ? 'MATERIAL DE CURACIÓN' : '-' }}</a></td>\r\n                        <td><a (click)=\"eliminar(item, i)\"><span class=\"icon\"><i class=\"fa fa-trash-o\"></i></span></a></td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n        </div>\r\n        \r\n   </div>\r\n</div>\r\n\r\n<div class=\"notification is-danger\" style=\"position:fixed; left:1em;  bottom:1em;\" *ngIf=\"mensajeError.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeError.mostrar = false\"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n</div>\r\n\r\n<div class=\"notification is-success\" style=\"position:fixed; left:1em;  bottom:1em; width: auto\" *ngIf=\"mensajeExito.mostrar\">       \r\n    <button class=\"delete\" (click)=\"mensajeExito.mostrar = false\"></button>\r\n    <p><span class=\"icon\" style=\"margin-right: 0.5em;\"><i class=\"fa fa-check-circle\"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <!--p style=\"text-align: center;\"><small >Este mensaje desaparecerá en {{ mensajeExito.cuentaAtras }} segundos.</small></p-->\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/farmacia/claves-basicas/lista/lista.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__claves_basicas_service__ = __webpack_require__("../../../../../src/app/farmacia/claves-basicas/claves-basicas.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__perfil_cambiar_entorno_service__ = __webpack_require__("../../../../../src/app/perfil/cambiar-entorno.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__mensaje__ = __webpack_require__("../../../../../src/app/mensaje.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ListaComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var ListaComponent = (function () {
    // # FIN SECCION
    function ListaComponent(title, apiService, cambiarEntornoService) {
        this.title = title;
        this.apiService = apiService;
        this.cambiarEntornoService = cambiarEntornoService;
        // # SECCION: Esta sección es para mostrar mensajes
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_4__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_4__mensaje__["a" /* Mensaje */]();
        // # FIN SECCION
        this.cargando = false;
        this.lista = [];
    }
    ListaComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.title.setTitle("Claves básicas / Almacén");
        this.listar();
        this.cambiarEntornoSuscription = this.cambiarEntornoService.entornoCambiado$.subscribe(function (evento) {
            _this.listar();
        });
    };
    ListaComponent.prototype.listar = function () {
        var _this = this;
        this.cargando = true;
        this.apiService.lista().subscribe(function (respuesta) {
            _this.lista = respuesta;
            _this.cargando = false;
        }, function (error) {
            _this.cargando = false;
        });
    };
    ListaComponent.prototype.eliminar = function (item, index) {
        var _this = this;
        item.cargando = true;
        this.apiService.eliminar(item.id).subscribe(function (data) {
            item.cargando = false;
            _this.lista.splice(index, 1);
            console.log("Se eliminó el elemento de la lista.");
            _this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_4__mensaje__["a" /* Mensaje */](true);
            _this.mensajeExito.mostrar = true;
            _this.mensajeExito.texto = "item eliminado";
        }, function (error) {
            item.cargando = false;
            _this.mensajeError.mostrar = true;
            _this.ultimaPeticion = function () {
                this.eliminar(item, index);
            };
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    return ListaComponent;
}());
ListaComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-lista',
        template: __webpack_require__("../../../../../src/app/farmacia/claves-basicas/lista/lista.component.html"),
        styles: [__webpack_require__("../../../../../src/app/farmacia/claves-basicas/lista/lista.component.css")],
        providers: [__WEBPACK_IMPORTED_MODULE_2__claves_basicas_service__["a" /* ClavesBasicasService */]]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__claves_basicas_service__["a" /* ClavesBasicasService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__claves_basicas_service__["a" /* ClavesBasicasService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_3__perfil_cambiar_entorno_service__["a" /* CambiarEntornoService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__perfil_cambiar_entorno_service__["a" /* CambiarEntornoService */]) === "function" && _c || Object])
], ListaComponent);

var _a, _b, _c;
//# sourceMappingURL=C:/wamp/www/x3-C/src/lista.component.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/dashboard-salidas/dashboard-salidas-routing.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__dashboard_salidas_component__ = __webpack_require__("../../../../../src/app/farmacia/dashboard-salidas/dashboard-salidas.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__auth_guard_service__ = __webpack_require__("../../../../../src/app/auth-guard.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DashboardSalidasRoutingModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




var routes = [
    {
        path: 'almacen/dashboard-salidas',
        children: [
            { path: '', component: __WEBPACK_IMPORTED_MODULE_2__dashboard_salidas_component__["a" /* DashboardSalidasComponent */] },
        ],
        canActivate: [__WEBPACK_IMPORTED_MODULE_3__auth_guard_service__["a" /* AuthGuard */]]
    }
];
var DashboardSalidasRoutingModule = (function () {
    function DashboardSalidasRoutingModule() {
    }
    return DashboardSalidasRoutingModule;
}());
DashboardSalidasRoutingModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */].forChild(routes)],
        exports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */]]
    })
], DashboardSalidasRoutingModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/dashboard-salidas-routing.module.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/dashboard-salidas/dashboard-salidas.component.html":
/***/ (function(module, exports) {

module.exports = "<app-graficas></app-graficas>"

/***/ }),

/***/ "../../../../../src/app/farmacia/dashboard-salidas/dashboard-salidas.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DashboardSalidasComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var DashboardSalidasComponent = (function () {
    function DashboardSalidasComponent() {
    }
    return DashboardSalidasComponent;
}());
DashboardSalidasComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-dashboard-salidas',
        template: __webpack_require__("../../../../../src/app/farmacia/dashboard-salidas/dashboard-salidas.component.html")
    }),
    __metadata("design:paramtypes", [])
], DashboardSalidasComponent);

//# sourceMappingURL=C:/wamp/www/x3-C/src/dashboard-salidas.component.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/dashboard-salidas/dashboard-salidas.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__graficas_graficas_module__ = __webpack_require__("../../../../../src/app/farmacia/dashboard-salidas/graficas/graficas.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__dashboard_salidas_routing_module__ = __webpack_require__("../../../../../src/app/farmacia/dashboard-salidas/dashboard-salidas-routing.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__dashboard_salidas_component__ = __webpack_require__("../../../../../src/app/farmacia/dashboard-salidas/dashboard-salidas.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__auth_service__ = __webpack_require__("../../../../../src/app/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__index_farmacia_index_farmacia_module__ = __webpack_require__("../../../../../src/app/farmacia/index-farmacia/index-farmacia.module.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return DashboardSalidasModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};







var DashboardSalidasModule = (function () {
    function DashboardSalidasModule() {
    }
    return DashboardSalidasModule;
}());
DashboardSalidasModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [
            __WEBPACK_IMPORTED_MODULE_1__angular_common__["CommonModule"],
            __WEBPACK_IMPORTED_MODULE_3__dashboard_salidas_routing_module__["a" /* DashboardSalidasRoutingModule */],
            __WEBPACK_IMPORTED_MODULE_2__graficas_graficas_module__["a" /* GraficasModule */],
            __WEBPACK_IMPORTED_MODULE_6__index_farmacia_index_farmacia_module__["a" /* IndexFarmaciaModule */]
        ],
        declarations: [
            __WEBPACK_IMPORTED_MODULE_4__dashboard_salidas_component__["a" /* DashboardSalidasComponent */]
        ],
        providers: [__WEBPACK_IMPORTED_MODULE_5__auth_service__["a" /* AuthService */]]
    })
], DashboardSalidasModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/dashboard-salidas.module.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/dashboard-salidas/graficas/graficas.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "chart {\r\n        display: block;\r\n      }\r\n      \r\ndiv.scroll {\r\n    background-color: #FFFFFF;\r\n    height: 400px;\r\n    overflow: auto;\r\n}      ", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/farmacia/dashboard-salidas/graficas/graficas.component.html":
/***/ (function(module, exports) {

module.exports = "<menu-farmacia [modulo]=\"'Dashboard salidas'\" [icono]=\"'assets/icono-dashboard.svg'\"\r\n  [url]=\"'/almacen/dashboard-salidas'\"></menu-farmacia>\r\n<div style=\"height:50px;\"></div>\r\n\r\n<div class=\"box\" style=\"margin: 20px;\">\r\n      <div class=\"columns\">\r\n        <div class=\"column is-three-quarters\">\r\n  <section class=\"section\">\r\n          <div class=\"heading\">\r\n            <h1 class=\"title\">{{usuario.almacen_activo.nombre}}</h1>\r\n            <h2 class=\"subtitle\">\r\n              {{usuario.clues_activa.clues}} <strong>{{usuario.clues_activa.nombre}}</strong>\r\n            </h2>\r\n          </div>\r\n  </section>\r\n        </div>\r\n        <div class=\"column\">\r\n          \r\n          <div class=\"field is-horizontal\">\r\n            <div class=\"field-label is-normal\">\r\n              <label class=\"label\">MES</label>\r\n            </div>\r\n            <div class=\"field-body\">\r\n              <div class=\"field is-narrow\">\r\n                <div class=\"control\">\r\n                  <div class=\"select is-fullwidth\">\r\n                    <select>\r\n                      <option>ABRIL</option>\r\n                      <option>MAYO</option>\r\n                      <option>JUNIO</option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n\r\n  <div class=\"card\" style=\"margin: 20px; padding-left: 30px; padding-right: 70px\">\r\n    <table class=\"table\" style=\"margin:5px;\">\r\n      <tbody>\r\n        <tr>\r\n          <th>Presupuesto Anual Causes:</th>\r\n          <th>\r\n            <div class=\"columns\">\r\n              <div class=\"column\">\r\n                <span class=\"tag is-primary is-medium\">Autorizado: $ {{ presupuesto.causes_modificado | number:'1.2-2' }}</span>\r\n              </div>\r\n              <div class=\"column\">\r\n                <span class=\"tag is-warning is-medium\">Comprometido: $ {{ presupuesto.causes_comprometido | number:'1.2-2' }}</span>\r\n              </div>\r\n              <div class=\"column\">\r\n                <span class=\"tag is-danger is-medium\">Devengado: $ {{ presupuesto.causes_devengado | number:'1.2-2' }}</span>\r\n              </div>\r\n              <div class=\"column\">\r\n                <span class=\"tag is-success is-medium\">Disponible: $ {{ presupuesto.causes_disponible | number:'1.2-2' }}</span>\r\n              </div>\r\n            </div>\r\n          </th>\r\n        </tr>\r\n        <tr>\r\n          <th>Presupuesto Anual No Causes:</th>\r\n          <th>\r\n            <div class=\"columns\">\r\n              <div class=\"column\">\r\n                <span class=\"tag is-primary is-medium\">Autorizado: $ {{ presupuesto.no_causes_modificado | number:'1.2-2' }}</span>\r\n              </div>\r\n              <div class=\"column\">\r\n                <span class=\"tag is-warning is-medium\">Comprometido: $ {{ presupuesto.no_causes_comprometido | number:'1.2-2' }}</span>\r\n              </div>\r\n              <div class=\"column\">\r\n                <span class=\"tag is-danger is-medium\">Devengado: $ {{ presupuesto.no_causes_devengado | number:'1.2-2' }}</span>\r\n              </div>\r\n              <div class=\"column\">\r\n                <span class=\"tag is-success is-medium\">Disponible: $ {{ presupuesto.no_causes_disponible | number:'1.2-2' }}</span>\r\n              </div>\r\n            </div>\r\n          </th>\r\n        </tr>\r\n        <tr>\r\n          <th>Presupuesto Anual Material de Curación:</th>\r\n          <th>\r\n            <div class=\"columns\">\r\n              <div class=\"column\">\r\n                <span class=\"tag is-primary is-medium\">Autorizado: $ {{ presupuesto.material_curacion_modificado | number:'1.2-2' }}</span>\r\n              </div>\r\n              <div class=\"column\">\r\n                <span class=\"tag is-warning is-medium\">Comprometido: $ {{ presupuesto.material_curacion_comprometido | number:'1.2-2' }}</span>\r\n              </div>\r\n              <div class=\"column\">\r\n                <span class=\"tag is-danger is-medium\">Devengado: $ {{ presupuesto.material_curacion_devengado | number:'1.2-2' }}</span>\r\n              </div>\r\n              <div class=\"column\">\r\n                <span class=\"tag is-success is-medium\">Disponible: $ {{ presupuesto.material_curacion_disponible | number:'1.2-2' }}</span>\r\n              </div>\r\n            </div>\r\n          </th>\r\n        </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n  \r\n  <!-- Primera parte -->\r\n  <div class=\"columns\">\r\n    <!-- Mes y total de recetas -->\r\n    <div class=\"column is-half\" style=\"margin: 10px; padding-left: 20px; padding-right: 60px\">\r\n      <div class=\"card\">\r\n        <div class=\"card-content\">\r\n          <div class=\"content\">\r\n            <div class=\"label\" style=\"text-align: center\">\r\n              Mes:\r\n            </div>\r\n            <div class=\"label\" style=\"text-align: center\">\r\n              Total de recetas:\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- % surtido -->\r\n    <div class=\"column is-half\" style=\"margin: 10px; padding-left: 20px; padding-right: 60px\">\r\n      <!-- % Surtido por claves -->\r\n      <div class=\"card\" [ngClass]=\"{'is-hidden': surtido == 2 || surtido == 3}\">\r\n        <header class=\"card-header is-primary\">\r\n          <p class=\"card-header-title\">\r\n            Porcentaje de surtimiento\r\n          </p>\r\n            <div class=\"level-right\">\r\n              <a (click)=\"cambiarSurtido(1)\">\r\n                <div class=\"tag is-primary\">Claves </div>\r\n              </a>\r\n              <a (click)=\"cambiarSurtido(2)\">\r\n                <div class=\"tag\">Insumos </div>\r\n              </a>\r\n              <a (click)=\"cambiarSurtido(3)\">\r\n                <div class=\"tag\">Monto </div>\r\n              </a>\r\n            </div>\r\n        </header>\r\n        <div class=\"card-content\">\r\n          <div class=\"content scroll\">\r\n            <table class=\"table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>No.</th>\r\n                  <th><abbr title=\"Cantidad solicitada\">Solicitado</abbr></th>\r\n                  <th><abbr title=\"Cantidad surtida\">Surtido</abbr></th>\r\n                  <th><abbr title=\"Porcentaje\">%</abbr></th>\r\n                </tr>\r\n              </thead>\r\n              <tfoot>\r\n                <tr>\r\n                  <th>No.</th>\r\n                  <th><abbr title=\"Cantidad solicitada\">Solicitado</abbr></th>\r\n                  <th><abbr title=\"Cantidad surtida\">Surtido</abbr></th>\r\n                  <th><abbr title=\"Porcentaje\">%</abbr></th>\r\n                </tr>\r\n              </tfoot>\r\n              <tbody>\r\n                <tr>\r\n                  <th>1</th>\r\n                  <td>500</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>2</th>\r\n                  <td>500</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>3</th>\r\n                  <td>500</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>4</th>\r\n                  <td>500</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>5</th>\r\n                  <td>500</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>6</th>\r\n                  <td>550</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>7</th>\r\n                  <td>450</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>8</th>\r\n                  <td>400</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>9</th>\r\n                  <td>350</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>10</th>\r\n                  <td>300</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>11</th>\r\n                  <td>250</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>12</th>\r\n                  <td>500</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>13</th>\r\n                  <td>500</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>14</th>\r\n                  <td>500</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>15</th>\r\n                  <td>500</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>16</th>\r\n                  <td>500</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>17</th>\r\n                  <td>500</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>18</th>\r\n                  <td>500</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>19</th>\r\n                  <td>500</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>20</th>\r\n                  <td>500</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- % Surtido por insumos -->\r\n      <div class=\"card\" [ngClass]=\"{'is-hidden': surtido == 1 || surtido == 3 }\">\r\n        <header class=\"card-header is-primary\">\r\n          <p class=\"card-header-title\">\r\n            Porcentaje de surtimiento\r\n          </p>\r\n          <div class=\"level-right\">\r\n              <a (click)=\"cambiarSurtido(1)\">\r\n                <div class=\"tag\">Claves</div>\r\n              </a>\r\n              <a (click)=\"cambiarSurtido(2)\">\r\n                <div class=\"tag is-primary\">Insumos</div>\r\n              </a>\r\n              <a (click)=\"cambiarSurtido(3)\">\r\n                <div class=\"tag\">Monto</div>\r\n              </a>\r\n            </div>\r\n        </header>\r\n        <div class=\"card-content\">\r\n          <div class=\"content scroll\">\r\n            <table class=\"table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>No.</th>\r\n                  <th><abbr title=\"Cantidad solicitada\">Solicitado</abbr></th>\r\n                  <th><abbr title=\"Cantidad surtida\">Surtido</abbr></th>\r\n                  <th><abbr title=\"Porcentaje\">%</abbr></th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr>\r\n                  <th>1</th>\r\n                  <td>500</td>\r\n                  <td>250</td>\r\n                  <td>50</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <!-- % Surtido por monto -->\r\n      <div class=\"card\" [ngClass]=\"{'is-hidden': surtido == 1 || surtido == 2}\">\r\n        <header class=\"card-header is-primary\">\r\n          <p class=\"card-header-title\">\r\n            Porcentaje de surtimiento\r\n          </p>\r\n        </header>\r\n        <div class=\"card-content\">\r\n          <div class=\"content\">\r\n            <div class=\"level-right\">\r\n              <a (click)=\"cambiarSurtido(1)\">\r\n                <div class=\"tag\">Claves</div>\r\n              </a>\r\n              <a (click)=\"cambiarSurtido(2)\">\r\n                <div class=\"tag\">Insumos</div>\r\n              </a>\r\n              <a (click)=\"cambiarSurtido(3)\">\r\n                <div class=\"tag is-primary\">Monto</div>\r\n              </a>\r\n            </div>\r\n            <table class=\"table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>No.</th>\r\n                  <th><abbr title=\"Cantidad solicitada\">Solicitado</abbr></th>\r\n                  <th><abbr title=\"Cantidad surtida\">Surtido</abbr></th>\r\n                  <th><abbr title=\"Porcentaje\">%</abbr></th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                <tr>\r\n                  <th>1</th>\r\n                  <td>$ 500.00</td>\r\n                  <td>$ 250.00</td>\r\n                  <td>50</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!--  -->\r\n  <div class=\"columns\">\r\n\r\n    <!-- Claves negadas -->\r\n    <div class=\"column is-half\" style=\"margin: 10px; padding-left: 20px; padding-right: 60px\">\r\n      <div class=\"card\">\r\n        <header class=\"card-header\">\r\n          <p class=\"card-header-title\">\r\n            TOP - Claves negadas\r\n          </p>\r\n        </header>\r\n        <div class=\"card-content\">\r\n          <div class=\"content scroll\">\r\n            <table class=\"table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>No.</th>\r\n                  <th><abbr title=\"Clave\">Clave</abbr></th>\r\n                  <th>Nombre</th>\r\n                  <th><abbr title=\"Cantidad\">Cant.</abbr></th>\r\n                  <th><abbr title=\"Existencia\">Exist.</abbr></th>\r\n                  <th><abbr title=\"Periodo de negacion\">Negacion</abbr></th>\r\n                </tr>\r\n              </thead>\r\n              <tfoot>\r\n                <tr>\r\n                  <th>No.</th>\r\n                  <th><abbr title=\"Clave\">Clave</abbr></th>\r\n                  <th>Nombre</th>\r\n                  <th><abbr title=\"Cantidad\">Cant.</abbr></th>\r\n                  <th><abbr title=\"Existencia\">Exist.</abbr></th>\r\n                  <th><abbr title=\"Periodo de negacion\">Negacion</abbr></th>\r\n                </tr>\r\n              </tfoot>\r\n              <tbody>\r\n                <tr>\r\n                  <th>1</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                  <td>2017-04-10</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>2</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                  <td>2017-04-10</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>3</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                  <td>2017-04-10</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>4</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                  <td>2017-04-10</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>5</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                  <td>2017-04-10</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>6</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                  <td>2017-04-10</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>8</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                  <td>2017-04-10</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>9</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                  <td>2017-04-10</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>10</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                  <td>2017-04-10</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>11</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                  <td>2017-04-10</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>12</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                  <td>2017-04-10</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>13</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                  <td>2017-04-10</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>14</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                  <td>2017-04-10</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>15</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                  <td>2017-04-10</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <!-- Claves de mayor movimiento -->\r\n    <div class=\"column is-half\" style=\"margin: 10px; padding-left: 20px; padding-right: 60px\">\r\n      <div class=\"card\">\r\n        <header class=\"card-header is-primary\">\r\n          <p class=\"card-header-title\">\r\n            TOP - Claves de mayor movimiento\r\n          </p>\r\n        </header>\r\n        <div class=\"card-content\">\r\n          <div class=\"content scroll\">\r\n            <table class=\"table\">\r\n              <thead>\r\n                <tr>\r\n                  <th>No.</th>\r\n                  <th><abbr title=\"Clave\">Clave</abbr></th>\r\n                  <th>Nombre</th>\r\n                  <th><abbr title=\"Consumo promedio mensual\">CPM</abbr></th>\r\n                  <th><abbr title=\"Existencia actual\">Exist.</abbr></th>\r\n                </tr>\r\n              </thead>\r\n              <tfoot>\r\n                <tr>\r\n                  <th>No.</th>\r\n                  <th><abbr title=\"Clave\">Clave</abbr></th>\r\n                  <th>Nombre</th>\r\n                  <th><abbr title=\"Consumo promedio mensual\">CPM</abbr></th>\r\n                  <th><abbr title=\"Existencia actual\">Exist.</abbr></th>\r\n                </tr>\r\n              </tfoot>\r\n              <tbody>\r\n                <tr>\r\n                  <th>1</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>2</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>3</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>4</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>5</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>6</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>7</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>8</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>9</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>10</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>11</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>12</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>13</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>14</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                </tr>\r\n                <tr>\r\n                  <th>15</th>\r\n                  <td>010.000.0104.00</td>\r\n                  <td>PARACETAMOL</td>\r\n                  <td>100</td>\r\n                  <td>50</td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n\r\n  <!-- Gráficas \r\n    <div class=\"columns\">\r\n        <div class=\"column is-half\" style=\"margin: 10px; padding-left: 20px; padding-right: 60px\">\r\n        </div>\r\n        <div class=\"column is-half\" style=\"margin: 10px; padding-left: 20px; padding-right: 70px\">\r\n            <div class=\"card\" style=\"align-items: center; align-content: center; align-self: center\">\r\n                        <chart [options]=\"grafica_opciones\"></chart>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    -->\r\n    \r\n  <!-- Claves -->\r\n  <div class=\"card\" [ngClass]=\"{'is-hidden': grafica == 2 || grafica == 3}\">\r\n    <div class=\"card-content\">\r\n      <div class=\"content\">\r\n        <div class=\"level-right\">\r\n          <a (click)=\"cambiarGrafica(1)\">\r\n            <div class=\"tag is-primary\">Claves</div>\r\n          </a>\r\n          <a (click)=\"cambiarGrafica(2)\">\r\n            <div class=\"tag\">Insumos</div>\r\n          </a>\r\n          <a (click)=\"cambiarGrafica(3)\">\r\n            <div class=\"tag\">Monto</div>\r\n          </a>\r\n        </div>\r\n        <!-- Gráfica CLAVES -->\r\n        <div class=\"panel\">\r\n          <chart [options]=\"claves\"></chart>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <!-- Insumos -->\r\n  <div class=\"card\" [ngClass]=\"{'is-hidden': grafica == 1 || grafica == 3}\">\r\n    <div class=\"card-content\">\r\n      <div class=\"content\">\r\n        <div class=\"level-right\">\r\n          <a (click)=\"cambiarGrafica(1)\">\r\n            <div class=\"tag\">Claves</div>\r\n          </a>\r\n          <a (click)=\"cambiarGrafica(2)\">\r\n            <div class=\"tag is-primary\">Insumos</div>\r\n          </a>\r\n          <a (click)=\"cambiarGrafica(3)\">\r\n            <div class=\"tag\">Monto</div>\r\n          </a>\r\n        </div>\r\n        <!-- Gráfica INSUMOS -->\r\n        <div class=\"panel\">\r\n          <chart [options]=\"insumos\"></chart>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n  <!-- Monto -->\r\n  <div class=\"card\" [ngClass]=\"{'is-hidden': grafica == 1 || grafica == 2}\">\r\n    <div class=\"card-content\">\r\n      <div class=\"content\">\r\n        <div class=\"level-right\">\r\n          <a (click)=\"cambiarGrafica(1)\">\r\n            <div class=\"tag\">Claves</div>\r\n          </a>\r\n          <a (click)=\"cambiarGrafica(2)\">\r\n            <div class=\"tag\">Insumos</div>\r\n          </a>\r\n          <a (click)=\"cambiarGrafica(3)\">\r\n            <div class=\"tag is-primary\">Monto</div>\r\n          </a>\r\n        </div>\r\n        <!-- Gráfica MONTO -->\r\n        <div class=\"panel\">\r\n          <chart [options]=\"monto\"></chart>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/farmacia/dashboard-salidas/graficas/graficas.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/@angular/http.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__crud_crud_service__ = __webpack_require__("../../../../../src/app/crud/crud.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__farmacia_pedidos_pedidos_service__ = __webpack_require__("../../../../../src/app/farmacia/pedidos/pedidos.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GraficasComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};




var GraficasComponent = (function () {
    function GraficasComponent(http, crudService, pedidosService) {
        var _this = this;
        this.http = http;
        this.crudService = crudService;
        this.pedidosService = pedidosService;
        this.surtido = 1;
        this.grafica = 1;
        this.presupuesto = {};
        this.claves_categorias = {};
        this.claves_causes = {};
        this.claves_no_causes = {};
        this.claves_mc = {};
        this.grafica_categorias = [];
        this.grafica_causes = [];
        this.grafica_no_causes = [];
        this.grafica_mc = [];
        this.grafica_opciones = {
            chart: {
                type: 'column'
            },
            xAxis: {
                categories: this.grafica_categorias
            },
            yAxis: {
                min: 0,
                title: {
                    text: 'Total claves'
                },
                stackLabels: {
                    enabled: true,
                    style: {
                        fontWeight: 'bold',
                        color: 'gray'
                    }
                }
            },
            title: { text: 'Entrega por insumos' },
            legend: {
                align: 'right',
                x: -30,
                verticalAlign: 'top',
                y: 25,
                floating: true,
                //backgroundColor: (Highcharts.theme && Highcharts.theme.background2) || 'white',
                borderColor: '#CCC',
                borderWidth: 1,
                shadow: false
            },
            plotOptions: {
                column: {
                    stacking: 'normal',
                    dataLabels: {
                        enabled: true,
                        color: 'white'
                    }
                }
            },
            series: [
                {
                    name: 'Causes',
                    data: this.grafica_causes
                },
                {
                    name: 'No Causes',
                    data: this.grafica_no_causes
                },
                {
                    name: 'Material Curación',
                    data: this.grafica_mc
                }
            ]
        };
        /*GRAFICA DE CLAVES*/
        this.claves = {
            chart: {
                type: 'column'
            },
            xAxis: {
                categories: this.grafica_categorias
            },
            yAxis: {
                min: 0,
                title: {
                    text: 'Total claves'
                },
                stackLabels: {
                    enabled: true,
                    style: {
                        fontWeight: 'bold',
                        color: 'gray'
                    }
                }
            },
            title: { text: 'Entrega por claves' },
            legend: {
                align: 'right',
                x: -30,
                verticalAlign: 'top',
                y: 25,
                floating: true,
                //backgroundColor: (Highcharts.theme && Highcharts.theme.background2) || 'white',
                borderColor: '#CCC',
                borderWidth: 1,
                shadow: false
            },
            plotOptions: {
                column: {
                    stacking: 'normal',
                    dataLabels: {
                        enabled: true,
                        color: 'white'
                    }
                }
            },
            series: [
                {
                    name: 'Causes',
                    data: this.grafica_causes
                },
                {
                    name: 'No Causes',
                    data: this.grafica_no_causes
                },
                {
                    name: 'Material Curación',
                    data: this.grafica_mc
                }
            ]
        };
        /*GRAFICA DE INSUMOS*/
        this.insumos = {
            chart: {
                type: 'column'
            },
            xAxis: {
                categories: ['2017-04-10', '2017-04-15', '2017-04-20', '2017-04-25', '2017-04-28', '2017-04-30', '2017-04-30', '2017-04-30']
            },
            yAxis: {
                min: 0,
                title: {
                    text: 'Total insumos'
                },
                stackLabels: {
                    enabled: true,
                    style: {
                        fontWeight: 'bold',
                        color: 'gray'
                    }
                }
            },
            title: { text: 'Entrega por insumos' },
            legend: {
                align: 'right',
                x: -30,
                verticalAlign: 'top',
                y: 25,
                floating: true,
                //backgroundColor: (Highcharts.theme && Highcharts.theme.background2) || 'white',
                borderColor: '#CCC',
                borderWidth: 1,
                shadow: false
            },
            plotOptions: {
                column: {
                    stacking: 'normal',
                    dataLabels: {
                        enabled: true,
                        color: 'white'
                    }
                }
            },
            series: [
                {
                    name: 'Causes',
                    data: [5, 3, 4, 7, 2, 7, 2, 7]
                },
                {
                    name: 'No Causes',
                    data: [2, 2, 3, 2, 1, 0, 2, 7]
                },
                {
                    name: 'Material Curación',
                    data: [3, 4, 4, 2, 5, 3, 2, 7]
                }
            ]
        };
        /*GRAFICA DE MONTO*/
        this.monto = {
            chart: {
                type: 'column'
            },
            xAxis: {
                categories: ['2017-04-10', '2017-04-15', '2017-04-20', '2017-04-25', '2017-04-28', '2017-04-30', '2017-04-30', '2017-04-30']
            },
            yAxis: {
                min: 0,
                title: {
                    text: 'Total monto'
                },
                stackLabels: {
                    enabled: true,
                    style: {
                        fontWeight: 'bold',
                        color: 'gray'
                    }
                }
            },
            title: { text: 'Entrega por monto' },
            legend: {
                align: 'right',
                x: -30,
                verticalAlign: 'top',
                y: 25,
                floating: true,
                //backgroundColor: (Highcharts.theme && Highcharts.theme.background2) || 'white',
                borderColor: '#CCC',
                borderWidth: 1,
                shadow: false
            },
            plotOptions: {
                column: {
                    stacking: 'normal',
                    dataLabels: {
                        enabled: true,
                        color: 'white'
                    }
                }
            },
            series: [
                {
                    name: 'Causes',
                    data: [5, 3, 4, 7, 2, 7, 2, 7]
                },
                {
                    name: 'No Causes',
                    data: [2, 2, 3, 2, 1, 0, 2, 7]
                },
                {
                    name: 'Material Curación',
                    data: [3, 4, 4, 2, 5, 3, 2, 7]
                }
            ]
        };
        http.get('https://cdn.rawgit.com/gevgeny/angular2-highcharts/99c6324d/examples/aapl.json').subscribe(function (res) {
            _this.datos = {
                title: { text: 'AAPL Stock Price' },
                series: [{
                        name: 'AAPL',
                        data: res.json(),
                        tooltip: {
                            valueDecimals: 2
                        }
                    }]
            };
        });
        /*this.datos = {
            title : { text : 'Datos' },
            series: [{
                data: [5, 25.5, 106.4, 129.2],
            }]
        };*/
    }
    GraficasComponent.prototype.ngOnInit = function () {
        var _this = this;
        //obtener los datos del usiario logueado almacen y clues
        this.usuario = JSON.parse(localStorage.getItem("usuario"));
        //console.log(this.usuario);
        this.pedidosService.presupuesto().subscribe(function (response) {
            _this.presupuesto = response.data;
        }, function (error) {
            console.log(error);
        });
        this.jsonPrueba = {
            claves: [
                {
                    fecha: "2017-04-10",
                    causes: 150,
                    no_causes: 200,
                    mat_curacion: 50,
                    total: 320
                },
                {
                    fecha: "2017-04-11",
                    causes: 500,
                    no_causes: 300,
                    mat_curacion: 800,
                    total: 320
                },
                {
                    fecha: "2017-04-12",
                    causes: 900,
                    no_causes: 500,
                    mat_curacion: 1300,
                    total: 320
                }
            ]
        };
        console.log(this.jsonPrueba);
        var i;
        for (i = 0; i < this.jsonPrueba.claves.length; i++) {
            this.grafica_categorias.push(this.jsonPrueba.claves[i].fecha);
            this.grafica_causes.push(this.jsonPrueba.claves[i].causes);
            this.grafica_no_causes.push(this.jsonPrueba.claves[i].no_causes);
            this.grafica_mc.push(this.jsonPrueba.claves[i].mat_curacion);
        }
    };
    GraficasComponent.prototype.cambiarSurtido = function (surtido) {
        this.surtido = surtido;
    };
    GraficasComponent.prototype.cambiarGrafica = function (grafica) {
        this.grafica = grafica;
    };
    return GraficasComponent;
}());
GraficasComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-graficas',
        template: __webpack_require__("../../../../../src/app/farmacia/dashboard-salidas/graficas/graficas.component.html"),
        styles: [__webpack_require__("../../../../../src/app/farmacia/dashboard-salidas/graficas/graficas.component.css")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__crud_crud_service__["a" /* CrudService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__crud_crud_service__["a" /* CrudService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_3__farmacia_pedidos_pedidos_service__["a" /* PedidosService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__farmacia_pedidos_pedidos_service__["a" /* PedidosService */]) === "function" && _c || Object])
], GraficasComponent);

var _a, _b, _c;
//# sourceMappingURL=C:/wamp/www/x3-C/src/graficas.component.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/dashboard-salidas/graficas/graficas.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__index_farmacia_index_farmacia_module__ = __webpack_require__("../../../../../src/app/farmacia/index-farmacia/index-farmacia.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_angular2_highcharts__ = __webpack_require__("../../../../angular2-highcharts/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_angular2_highcharts___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_angular2_highcharts__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_angular2_highcharts_dist_HighchartsService__ = __webpack_require__("../../../../angular2-highcharts/dist/HighchartsService.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_angular2_highcharts_dist_HighchartsService___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_angular2_highcharts_dist_HighchartsService__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__graficas_graficas_component__ = __webpack_require__("../../../../../src/app/farmacia/dashboard-salidas/graficas/graficas.component.ts");
/* unused harmony export highchartsFactory */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GraficasModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



/**
 * Se debe agregar el ChartModule y HighchartsStatic para poder usar la gráfica
 * INICIO
 */



function highchartsFactory() {
    return __webpack_require__("../../../../highcharts/highcharts.js");
} /**FIN*/
var GraficasModule = (function () {
    function GraficasModule() {
    }
    return GraficasModule;
}());
GraficasModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [
            __WEBPACK_IMPORTED_MODULE_1__angular_common__["CommonModule"],
            __WEBPACK_IMPORTED_MODULE_3_angular2_highcharts__["ChartModule"],
            __WEBPACK_IMPORTED_MODULE_2__index_farmacia_index_farmacia_module__["a" /* IndexFarmaciaModule */]
        ],
        providers: [
            {
                provide: __WEBPACK_IMPORTED_MODULE_4_angular2_highcharts_dist_HighchartsService__["HighchartsStatic"],
                useFactory: highchartsFactory
            }
        ],
        declarations: [
            __WEBPACK_IMPORTED_MODULE_5__graficas_graficas_component__["a" /* GraficasComponent */]
        ],
        exports: [
            __WEBPACK_IMPORTED_MODULE_5__graficas_graficas_component__["a" /* GraficasComponent */]
        ]
    })
], GraficasModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/graficas.module.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/entradas-estandar/entradas-estandar-routing.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lista_lista_component__ = __webpack_require__("../../../../../src/app/farmacia/entradas-estandar/lista/lista.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__formulario_formulario_component__ = __webpack_require__("../../../../../src/app/farmacia/entradas-estandar/formulario/formulario.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__auth_guard_service__ = __webpack_require__("../../../../../src/app/auth-guard.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EntradasEstandarRoutingModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





var routes = [
    {
        path: 'almacen/entradas-estandar',
        children: [
            { path: '', component: __WEBPACK_IMPORTED_MODULE_2__lista_lista_component__["a" /* ListaComponent */] },
            { path: 'nuevo', component: __WEBPACK_IMPORTED_MODULE_3__formulario_formulario_component__["a" /* FormularioComponent */] },
            { path: 'editar/:id', component: __WEBPACK_IMPORTED_MODULE_3__formulario_formulario_component__["a" /* FormularioComponent */] },
        ],
        canActivate: [__WEBPACK_IMPORTED_MODULE_4__auth_guard_service__["a" /* AuthGuard */]]
    }
];
var EntradasEstandarRoutingModule = (function () {
    function EntradasEstandarRoutingModule() {
    }
    return EntradasEstandarRoutingModule;
}());
EntradasEstandarRoutingModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */].forChild(routes)],
        exports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */]],
        providers: []
    })
], EntradasEstandarRoutingModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/entradas-estandar-routing.module.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/entradas-estandar/entradas-estandar.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__hub_hub_module__ = __webpack_require__("../../../../../src/app/hub/hub.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__perfil_perfil_module__ = __webpack_require__("../../../../../src/app/perfil/perfil.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__bloquear_pantalla_bloquear_pantalla_module__ = __webpack_require__("../../../../../src/app/bloquear-pantalla/bloquear-pantalla.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__entradas_estandar_routing_module__ = __webpack_require__("../../../../../src/app/farmacia/entradas-estandar/entradas-estandar-routing.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__paginacion_paginacion_module__ = __webpack_require__("../../../../../src/app/paginacion/paginacion.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__pipes_pipes_module__ = __webpack_require__("../../../../../src/app/pipes/pipes.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__lista_lista_component__ = __webpack_require__("../../../../../src/app/farmacia/entradas-estandar/lista/lista.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__formulario_formulario_component__ = __webpack_require__("../../../../../src/app/farmacia/entradas-estandar/formulario/formulario.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__auth_service__ = __webpack_require__("../../../../../src/app/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__index_farmacia_index_farmacia_module__ = __webpack_require__("../../../../../src/app/farmacia/index-farmacia/index-farmacia.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__crud_crud_service__ = __webpack_require__("../../../../../src/app/crud/crud.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__crud_crud_module__ = __webpack_require__("../../../../../src/app/crud/crud.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__ngui_auto_complete__ = __webpack_require__("../../../../@ngui/auto-complete/dist/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__ngui_auto_complete___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_15__ngui_auto_complete__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__ngui_datetime_picker__ = __webpack_require__("../../../../@ngui/datetime-picker/dist/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__ngui_datetime_picker___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_16__ngui_datetime_picker__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EntradasEstandarModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};













//crud


//fin crud


var EntradasEstandarModule = (function () {
    function EntradasEstandarModule() {
    }
    return EntradasEstandarModule;
}());
EntradasEstandarModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [
            __WEBPACK_IMPORTED_MODULE_1__angular_common__["CommonModule"],
            __WEBPACK_IMPORTED_MODULE_2__angular_forms__["FormsModule"],
            __WEBPACK_IMPORTED_MODULE_2__angular_forms__["ReactiveFormsModule"],
            __WEBPACK_IMPORTED_MODULE_6__entradas_estandar_routing_module__["a" /* EntradasEstandarRoutingModule */],
            __WEBPACK_IMPORTED_MODULE_3__hub_hub_module__["a" /* HubModule */],
            __WEBPACK_IMPORTED_MODULE_4__perfil_perfil_module__["a" /* PerfilModule */],
            __WEBPACK_IMPORTED_MODULE_5__bloquear_pantalla_bloquear_pantalla_module__["a" /* BloquearPantallaModule */],
            __WEBPACK_IMPORTED_MODULE_7__paginacion_paginacion_module__["a" /* PaginacionModule */],
            __WEBPACK_IMPORTED_MODULE_8__pipes_pipes_module__["a" /* PipesModule */],
            __WEBPACK_IMPORTED_MODULE_12__index_farmacia_index_farmacia_module__["a" /* IndexFarmaciaModule */],
            __WEBPACK_IMPORTED_MODULE_14__crud_crud_module__["a" /* CrudModule */],
            __WEBPACK_IMPORTED_MODULE_15__ngui_auto_complete__["NguiAutoCompleteModule"],
            __WEBPACK_IMPORTED_MODULE_16__ngui_datetime_picker__["NguiDatetimePickerModule"]
        ],
        declarations: [
            __WEBPACK_IMPORTED_MODULE_9__lista_lista_component__["a" /* ListaComponent */],
            __WEBPACK_IMPORTED_MODULE_10__formulario_formulario_component__["a" /* FormularioComponent */]
        ],
        providers: [__WEBPACK_IMPORTED_MODULE_11__auth_service__["a" /* AuthService */], __WEBPACK_IMPORTED_MODULE_13__crud_crud_service__["a" /* CrudService */]]
    })
], EntradasEstandarModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/entradas-estandar.module.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/entradas-estandar/formulario/formulario.component.html":
/***/ (function(module, exports) {

module.exports = "<formulario #ctrl URL=\"movimientos\" titulo=\"Entrada Estandar\" [dato]=\"dato\"></formulario>\r\n<menu-farmacia [modulo]=\"'Entrada estandar'\" [icono]=\"'assets/icono-entradas.svg'\" [url]=\"'/almacen/entradas-estandar'\"></menu-farmacia>\r\n<div style=\"height:50px;\"></div>\r\n<form name=\"form\" novalidate [formGroup]=\"dato\" (ngSubmit)=\"ctrl.enviar()\">\r\n    <div class=\"contenedor columns \" style=\"height:100%\">\r\n        <div class=\"column is-one-third\" style=\"padding:1em;\">\r\n            <div style=\"background: #FFF; border-radius: 1em; \">\r\n                <section class=\"hero is-primary\">\r\n                    <h1 *ngIf=\"!tieneid\" class=\"title\" style=\"margin:0.5em; \">\r\n                        <span class=\"icon is-medium\">\r\n                            <i class=\"fa fa-file-text\"></i>\r\n                        </span> {{ctrl.moduloTitulo}}\r\n                    </h1>\r\n                    <h1 *ngIf=\"tieneid\" class=\"title\" style=\"margin:0.5em; \">\r\n                        <span class=\"icon is-medium\">\r\n                            <i class=\"fa fa-file-text\"></i>\r\n                        </span> Entrada {{ctrl.id}}\r\n                    </h1>\r\n\r\n\r\n                </section>\r\n                <div style=\"padding: 1em;\">\r\n                    <nav class=\"nav\">\r\n                        <div class=\"nav-right nav-menu\">\r\n                            <div class=\"nav-item\">\r\n                                <div class=\"field is-grouped\">\r\n                                    <p class=\"control\" *ngIf=\"!tieneid\" style=\"float:left\">\r\n                                        <button class=\"button is-primary\" type=\"submit\" [ngClass]=\"{'is-loading': ctrl.cargando}\" [disabled]=\"ctrl.dato.invalid\">Guardar</button>\r\n                                    </p>\r\n                                    <p class=\"control\" style=\"float:left\">\r\n                                        <a *ngIf=\"tieneid\" class=\"button is-primary is-inverted\" (click)=\"imprimir()\">\r\n                                            <span class=\"icon\"><i class=\"fa fa-print\"></i></span>\r\n                                        </a>\r\n                                        <a class=\"button\" (click)=\"ctrl.regresar()\">\r\n                                            Regresar\r\n                                        </a>\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </nav>\r\n\r\n                    <h3 class=\"title\">\r\n                        <i class=\"fa fa-file\"></i>\r\n                         Datos del movimiento\r\n                    </h3>\r\n                    <div >\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Fecha del movimiento:</label>\r\n                            <p class=\"control is-expanded  has-icon has-icon-right\">\r\n\r\n\r\n                                <input class=\"input\" [value]=\"fecha_actual\" [(ngModel)]='fecha_movimiento' formControlName=\"fecha_movimiento\" ngui-datetime-picker\r\n                                    [min-date]=\"MinDate\" [max-date]=\"MaxDate\" date-only=\"true\" [ngClass]=\"{'is-danger': ctrl.dato.get('fecha_movimiento').hasError('required') && ctrl.dato.get('fecha_movimiento').touched}\"\r\n                                    placeholder=\"YYYY-MM-DD\" />\r\n\r\n                                <span class=\"icon is-small\" *ngIf=\"ctrl.dato.get('fecha_movimiento').hasError('required') && ctrl.dato.get('fecha_movimiento').touched\">\r\n                                    <i class=\"fa fa-warning\"></i>\r\n                                </span>\r\n                                <span class=\"help is-danger\" *ngIf=\"ctrl.dato.get('fecha_movimiento').hasError('required') && ctrl.dato.get('fecha_movimiento').touched\">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Observaciones:</label>\r\n                            <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                                <textarea class=\"textarea\" autofocus type=\"text\" [ngClass]=\"{'is-danger': ctrl.dato.get('observaciones').hasError('required') && ctrl.dato.get('observaciones').touched}\"\r\n                                    placeholder=\"Observaciones\" formControlName=\"observaciones\"></textarea>\r\n                                <span class=\"icon is-small\" *ngIf=\"ctrl.dato.get('observaciones').hasError('required') && ctrl.dato.get('observaciones').touched\">\r\n                                    <i class=\"fa fa-warning\"></i>\r\n                                </span>\r\n                                <span class=\"help is-danger\" *ngIf=\"ctrl.dato.get('observaciones').hasError('required') && ctrl.dato.get('observaciones').touched\">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div class=\"control\" *ngIf=\"mostrarCancelado\">\r\n                            <!-- *ngIf -->\r\n                            <div class=\"field\">\r\n                                <div class=\"b-checkbox control is-expanded  has-icon has-icon-right\">\r\n\r\n                                    <input type=\"checkbox\" id=\"cancelado\" class=\"styled\" [checked]=\"ctrl.dato.get('cancelado').value == '1' ? true : false\" (change)=\"ctrl.dato.get('cancelado').patchValue(ctrl.dato.get('cancelado').value == '1' ? '0' : '1')\">\r\n                                    <label for=\"cancelado\">  Cancelado\r\n                                    </label>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"field\">\r\n                                <label class=\"label\">Observaciones de cancelación:</label>\r\n                                <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                                    <textarea class=\"textarea\" autofocus type=\"text\" [ngClass]=\"{'is-danger': ctrl.dato.get('observaciones_cancelacion').hasError('required') && ctrl.dato.get('observaciones_cancelacion').touched}\"\r\n                                        placeholder=\"Observaciones de cancelacion\" formControlName=\"observaciones_cancelacion\"></textarea>\r\n                                    <span class=\"icon is-small\" *ngIf=\"ctrl.dato.get('observaciones_cancelacion').hasError('required') && ctrl.dato.get('observaciones_cancelacion').touched\">\r\n                                        <i class=\"fa fa-warning\"></i>\r\n                                    </span>\r\n                                    <span class=\"help is-danger\" *ngIf=\"ctrl.dato.get('observaciones_cancelacion').hasError('required') && ctrl.dato.get('observaciones_cancelacion').touched\">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                   <!-- <hr id=\"catalogos\" (click)=\"ctrl.cargarCatalogo('servicios', 'servicios'); \"> -->\r\n\r\n                    <div >\r\n                        <nav class=\"panel\" formGroupName=\"movimiento_metadato\">\r\n\r\n                            <div class=\"field\">\r\n                                <label class=\"label\">Persona que recibe:</label>\r\n                                <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                                    <input class=\"input\" type=\"text\" [ngClass]=\"{'is-danger': ctrl.dato.get('movimiento_metadato').get('persona_recibe').hasError('required') && ctrl.dato.get('movimiento_metadato').get('persona_recibe').touched}\"\r\n                                        placeholder=\"Persona que recibe\" formControlName=\"persona_recibe\">\r\n                                    <span class=\"icon is-small\" *ngIf=\"ctrl.dato.get('movimiento_metadato').get('persona_recibe').hasError('required') && ctrl.dato.get('movimiento_metadato').get('persona_recibe').touched\">\r\n                                        <i class=\"fa fa-warning\"></i>\r\n                                    </span>\r\n                                    <span class=\"help is-danger\" *ngIf=\"ctrl.dato.get('movimiento_metadato').get('persona_recibe').hasError('required') && ctrl.dato.get('movimiento_metadato').get('persona_recibe').touched\">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n\r\n                        </nav>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!-- apartado de insumos -->\r\n        <div class=\"column\" style=\"padding:1em;\">\r\n            <div style=\"background: #FFF; border-radius: 1em; \">\r\n                <section class=\"hero is-primary\">\r\n                    <div class=\"hero-body\">\r\n                        <a class=\"button  is-primary\" style=\"position:absolute; top:6em; right:3em;\" (click)=\"ctrl.cargarDatos();  \"><span class=\"icon \"><i class=\"fa fa-refresh\"></i></span></a>\r\n                        <div class=\"container is-fluid\">\r\n                            <h1 class=\"title\">\r\n                                <span *ngIf=\"!ctrl.cargando || !cargando\" class=\"icon is-medium\"><i class=\"fa fa-edit\"></i></span>\r\n                                <span *ngIf=\"ctrl.cargando || cargando\" class=\"icon is-medium\"><i class=\"fa fa-refresh fa-spin\"></i></span>                                Insumos\r\n                            </h1>\r\n\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <div class=\"is-fullwidth has-text-centered\" *ngIf=\"!ctrl.datosCargados\">\r\n                    <br>\r\n                    <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span>                    &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n                <section class=\"section\">\r\n\r\n                    <div class=\"field has-addons has-addons-centered\" *ngIf=\"!tieneid\">\r\n\r\n                        <p class=\"control\">\r\n                            <input ngui-auto-complete [source]=\"insumos_term\" [list-formatter]=\"autocompleListFormatter\" id=\"buscarInsumo\" value-property-name=\"clave\"\r\n                                display-property-name=\"nombre\" path-to-data=\"\" loading-text=\"Cargando...\" no-match-found-text=\"No hay resultados.\"\r\n                                (valueChanged)=\"select_insumo_autocomplete($event)\" min-chars=\"1\" class=\"input is-success is-medium\"\r\n                                type=\"text\" placeholder=\"Escanea el codigo de barra, o empieza escribir el nombre del producto\" >\r\n\r\n                        </p>\r\n\r\n                        <hr>\r\n                    </div>\r\n\r\n                    <div formArrayName=\"insumos\">\r\n                        <div class=\"box\" *ngFor=\"let item of ctrl.dato.controls.insumos.controls; let i=index\" [ngStyle]=\"{'background': i%2 == 0 ? 'rgba(230, 230, 232, 0.44)' : ''}\">\r\n                            <article class=\"media\" [formGroupName]=\"i\">\r\n                                <div class=\"media-content\">\r\n                                    <div class=\"content\">\r\n                                        <a *ngIf=\"!tieneid\" class=\"is-danger\" title=\"Quitar este elemento de la lista\" style=\"float:right\" (click)=\"ctrl.quitar_form_array('insumos', i)\"><span class=\"icon\"><i class=\"fa fa-trash-o\"></i></span></a>\r\n                                        <p>\r\n                                            <strong>\r\n                                                <span style=\"color:cornflowerblue\">\r\n                                                    Clave: {{ ctrl.dato.controls.insumos.controls[i].controls.clave.value }} \r\n                                                </span>\r\n                                                Nombre: {{ctrl.dato.controls.insumos.controls[i].controls.nombre.value}}\r\n                                            \r\n                                                <label class=\"tag is-success\" *ngIf=\"ctrl.dato.controls.insumos.controls[i].controls.es_causes.value\"><strong>Cause </strong></label>\r\n                                                <label class=\"tag is-success\" *ngIf=\"!ctrl.dato.controls.insumos.controls[i].controls.es_causes.value\"><strong>No Cause </strong> </label>                                           \r\n                                                                                            \r\n                                                <label class=\"tag is-warning\" *ngIf=\"ctrl.dato.controls.insumos.controls[i].controls.es_unidosis.value\"><strong>Unidosis</strong> </label>\r\n                                            </strong>\r\n                                            <br> {{ctrl.dato.controls.insumos.controls[i].controls.descripcion.value}}\r\n                                        </p>\r\n                                    </div>\r\n                                   <section >\r\n                                        <table *ngIf=\"tieneid\" class=\"table is-narrow is-bordered is-striped\">\r\n                                            <thead>\r\n                                                <tr>\r\n                                                    <th>Lote</th>\r\n                                                    <th>Caducidad</th>\r\n                                                    <th>Codigo de barras</th>\r\n                                                    <th *ngIf=\"!tieneid\">Existencia</th>\r\n                                                    <th>Cantidad</th>\r\n                                                    <th *ngIf=\"!tieneid\"></th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody formArrayName=\"lotes\">\r\n                                                <tr *ngFor=\"let val of ctrl.dato.controls.insumos.controls[i].controls.lotes.controls;  let i2 = index;\">\r\n                                                    <td>{{val.value.lote}}</td>\r\n                                                    <td>{{val.value.fecha_caducidad}}</td>\r\n                                                    <td>{{val.value.codigo_barras}}</td>\r\n                                                    <td *ngIf=\"!tieneid\">{{val.value.existencia}}</td>\r\n                                                    <td [formGroupName]=\"i2\">\r\n                                                        {{val.value.cantidad}}\r\n                                                    </td>\r\n                                                    <td *ngIf=\"!tieneid\">\r\n                                                        <a class=\"is-danger\" title=\"Quitar este lote\" (click)=\"quitar_lote_insumo(i, val.value, i2)\">\r\n                                                            <span class=\"icon\">\r\n                                                                <i class=\"fa fa-trash-o\"></i>\r\n                                                            </span>\r\n                                                        </a>\r\n                                                    </td>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </table>\r\n                                    </section>\r\n                                    <nav *ngIf=\"!tieneid\" class=\"level is-mobile\">\r\n                                        <div class=\"level-left\">\r\n                                            <a class=\"level-item\">\r\n                                                <div class=\"field\">\r\n                                                    <label class=\"label\">Lote:</label>\r\n                                                    <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                                                        <input type=\"text\" class=\"input\" formControlName=\"lote\" [ngClass]=\"{'is-danger': ctrl.dato.controls.insumos.controls[i].controls.lote.hasError('required') && ctrl.dato.controls.insumos.controls[i].controls.lote.touched}\">\r\n                                                    </p>\r\n                                                </div>\r\n                                            </a>\r\n                                            <a class=\"level-item\">\r\n                                                <div class=\"field\">\r\n                                                    <label class=\"label\">Caducidad:</label>\r\n                                                    <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                                                        <input type=\"date\" class=\"input\" formControlName=\"fecha_caducidad\" [ngClass]=\"{'is-danger': ctrl.dato.controls.insumos.controls[i].controls.fecha_caducidad.hasError('required') && ctrl.dato.controls.insumos.controls[i].controls.fecha_caducidad.touched}\">\r\n                                                    </p>\r\n                                                </div>\r\n                                            </a>\r\n                                            <a class=\"level-item\">\r\n                                                <div class=\"field\">\r\n                                                    <label class=\"label\">Codigo de barras:</label>\r\n                                                    <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                                                        <input type=\"text\" class=\"input\" formControlName=\"codigo_barras\" [ngClass]=\"{'is-danger': ctrl.dato.controls.insumos.controls[i].controls.codigo_barras.hasError('required') && ctrl.dato.controls.insumos.controls[i].controls.codigo_barras.touched}\">\r\n                                                    </p>\r\n                                                </div>\r\n                                            </a>\r\n                                            <a class=\"level-item\">\r\n                                                <div class=\"field\">\r\n                                                    <label class=\"label\">Cantidad:</label>\r\n                                                    <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                                                        <input type=\"number\" class=\"input\" formControlName=\"cantidad\" [ngClass]=\"{'is-danger': ctrl.dato.controls.insumos.controls[i].controls.cantidad.hasError('required') && ctrl.dato.controls.insumos.controls[i].controls.cantidad.touched}\">\r\n                                                    </p>\r\n                                                </div>\r\n                                            </a>\r\n                                        </div>\r\n                                    </nav>\r\n                                </div>\r\n                            </article>\r\n                        </div>\r\n                    </div>\r\n\r\n                </section>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</form>\r\n\r\n"

/***/ }),

/***/ "../../../../../src/app/farmacia/entradas-estandar/formulario/formulario.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__environments_environment__ = __webpack_require__("../../../../../src/environments/environment.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__crud_crud_service__ = __webpack_require__("../../../../../src/app/crud/crud.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_angular2_notifications__ = __webpack_require__("../../../../angular2-notifications/dist/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_file_saver__ = __webpack_require__("../../../../file-saver/FileSaver.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_file_saver___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_file_saver__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormularioComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var FormularioComponent = (function () {
    function FormularioComponent(fb, crudService, route, _sanitizer, notificacion, _ngZone) {
        var _this = this;
        this.fb = fb;
        this.crudService = crudService;
        this.route = route;
        this._sanitizer = _sanitizer;
        this.notificacion = notificacion;
        this._ngZone = _ngZone;
        this.tab = 1;
        this.cargando = false;
        this.insumos_term = __WEBPACK_IMPORTED_MODULE_4__environments_environment__["a" /* environment */].API_URL + "/insumos-auto?term=:keyword";
        this.MinDate = new Date();
        this.MaxDate = new Date();
        this.tieneid = false;
        this.cargandoPdf = false;
        /**
           * Este método formatea los resultados de la busqueda en el autocomplte
           * @param data resultados de la busqueda
           * @return void
           */
        this.autocompleListFormatter = function (data) {
            var html = "\n    <div class=\"card\">\n      <div class=\"card-content\">\n        <div class=\"media\">          \n          <div class=\"media-content\">\n            <p class=\"title is-4\">" + data.nombre + " <small>" + data.descripcion + "</small></p>\n            <p class=\"subtitle is-6\">\n              <strong>Clave: </strong> " + data.clave + ") \n              ";
            if (data.es_causes)
                html += "<label class=\"tag is-success\" ><strong>Cause </strong></label>";
            if (!data.es_causes)
                html += "<label class=\"tag is-success\" ><strong>No Cause </strong> </label>";
            if (data.es_unidosis)
                html += "<label class=\"tag is-warning\" ><strong>Unidosis</strong> </label>";
            html += "\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>";
            return _this._sanitizer.bypassSecurityTrustHtml(html);
        };
        this.es_unidosis = false;
        this.options = {
            position: ["top", "right"],
            timeOut: 5000,
            lastOnBottom: true
        };
        this.mostrar_lote = [];
    }
    // # FIN SECCION
    FormularioComponent.prototype.ngOnInit = function () {
        var _this = this;
        //obtener los datos del usiario logueado almacen y clues
        var usuario = JSON.parse(localStorage.getItem("usuario"));
        if (usuario.clues_activa) {
            this.insumos_term += "&clues=" + usuario.clues_activa.clues;
        }
        if (usuario.almacen_activo) {
            this.insumos_term += "&almacen=" + usuario.almacen_activo.id;
        }
        // Inicializamos el objeto para los reportes con web Webworkers
        this.pdfworker = new Worker("web-workers/farmacia/movimientos/imprimir-entrada.js");
        // Este es un hack para poder usar variables del componente dentro de una funcion del worker
        var self = this;
        var $ngZone = this._ngZone;
        this.pdfworker.onmessage = function (evt) {
            // Esto es un hack porque estamos fuera de contexto dentro del worker
            // Y se usa esto para actualizar alginas variables
            $ngZone.run(function () {
                self.cargandoPdf = false;
            });
            __WEBPACK_IMPORTED_MODULE_7_file_saver__["saveAs"](self.base64ToBlob(evt.data.base64, 'application/pdf'), evt.data.fileName);
            //open( 'data:application/pdf;base64,' + evt.data.base64 ); // Popup PDF
        };
        //inicializar el formulario reactivo
        this.dato = this.fb.group({
            id: [''],
            tipo_movimiento_id: ['1', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["Validators"].required]],
            status: ['FI'],
            fecha_movimiento: ['', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["Validators"].required]],
            observaciones: [''],
            cancelado: [''],
            observaciones_cancelacion: [''],
            movimiento_metadato: this.fb.group({
                persona_recibe: ['', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["Validators"].required]],
                servicio_id: [null],
                turno_id: [null],
            }),
            insumos: this.fb.array([])
        });
        this.route.params.subscribe(function (params) {
            if (params['id']) {
                _this.tieneid = true;
            }
        });
        //variable para crear el array del formulario reactivo
        this.form_insumos = {
            tipo_movimiento_id: ['', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["Validators"].required]]
        };
        //inicializar el data picker minimo y maximo
        var date = new Date();
        this.MinDate = new Date(date.getFullYear() - 1, 0, 1);
        this.MaxDate = new Date(date.getFullYear(), date.getMonth(), date.getDate());
        //si es nuevo poner la fecha actual si no poner la fecha con que se guardo
        if (!this.dato.get('fecha_movimiento').value) {
            this.fecha_actual = date.getFullYear() + '-' + ('00' + (date.getMonth() + 1)).slice(-2) + '-' + date.getDate();
            this.dato.get('fecha_movimiento').patchValue(this.fecha_actual);
        }
        else {
            this.fecha_actual = this.dato.get('fecha_movimiento').value;
        }
        //Solo si se va a cargar catalogos poner un <a id="catalogos" (click)="ctl.cargarCatalogo('modelo','ruta')">refresh</a>
        //document.getElementById("catalogos").click();  
    };
    /**
       * Este método abre una modal
       * @param id identificador del elemento de la modal
       * @return void
       */
    FormularioComponent.prototype.abrirModal = function (id) {
        document.getElementById(id).classList.add('is-active');
    };
    /**
       * Este método cierra una modal
       * @param id identificador del elemento de la modal
       * @return void
       */
    FormularioComponent.prototype.cancelarModal = function (id) {
        document.getElementById(id).classList.remove('is-active');
    };
    /**
       * Este método carga los datos de un elemento de la api con el id que se pase por la url
       * @param data json con los datos del objetop seleccionado del autocomplete
       * @return void
       */
    FormularioComponent.prototype.select_insumo_autocomplete = function (data) {
        var usuario = JSON.parse(localStorage.getItem("usuario"));
        this.cargando = true;
        this.insumo = data;
        this.agregarLoteIsumo();
        document.getElementById('buscarInsumo').value = '';
        this.es_unidosis = data.es_unidosis;
        this.cargando = false;
        //cargar los datos de los lotes del insumo seleccionado en el autocomplete
        /*this.crudService.lista(0, 1000, 'comprobar-stock?almacen=' + usuario.almacen_activo.id + '&clave=' + data.clave).subscribe(
          resultado => {
    
            this.lotes_insumo = resultado;
            this.insumo = data;
    
            //limpiar el autocomplete
            (<HTMLInputElement>document.getElementById('buscarInsumo')).value = '';
    
            //poner el titulo a la modal
            document.getElementById('tituloModal').innerHTML = ` ${data.nombre} <br><p aling="justify" style="font-size:12px">${data.descripcion}</p> `;
            this.es_unidosis = data.es_unidosis;
            this.cargando = false;
            this.abrirModal('verLotes');
          },
          error => {
            this.cargando = false;
          }
        );*/
    };
    /**
       * Este método agrega los lostes del modal a el modelo que se envia a la api
       * @return void
       */
    FormularioComponent.prototype.agregarLoteIsumo = function () {
        //obtener el formulario reactivo para agregar los elementos
        var control = this.dato.controls['insumos'];
        //comprobar que el isumo no este en la lista cargada
        var existe = false;
        /*comentamos esta comprobacion porque se pueden agregar más de un insumo con la misma clave
        for (let item of control.value) {
          if (item.clave == this.insumo.clave) {
            existe = true;
            break;
          }
        }*/
        //crear el json que se pasara al formulario reactivo tipo insumos
        var temporal_cantidad_x_envase;
        if (this.insumo.cantidad_x_envase == null) {
            temporal_cantidad_x_envase = 1;
        }
        else {
            temporal_cantidad_x_envase = this.insumo.cantidad_x_envase;
        }
        var lotes = {
            "clave": this.insumo.clave,
            "nombre": this.insumo.nombre,
            "descripcion": this.insumo.descripcion,
            "es_causes": this.insumo.es_causes,
            "es_unidosis": this.insumo.es_unidosis,
            "lote": ['', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["Validators"].required]],
            "codigo_barras": ['', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["Validators"].required]],
            "fecha_caducidad": ['', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["Validators"].required]],
            "cantidad": ['', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["Validators"].required]],
            "cantidad_x_envase": parseInt(temporal_cantidad_x_envase),
            "cantidad_surtida": 1,
        };
        //si no esta en la lista agregarlo
        if (!existe)
            control.push(this.fb.group(lotes));
    };
    /**
       * Este método agrega una nueva fila para los lotes nuevos
       * @param posicion Posicion a mostrar el detalle de lotes
       * @return void
       */
    FormularioComponent.prototype.ver_lotes_asignados = function (posicion) {
        this.mostrar_lote[posicion] = !this.mostrar_lote[posicion];
    };
    /**
       * Este método agrega una nueva fila para los lotes nuevos
       * @return void
       */
    FormularioComponent.prototype.agregarNuevoLote = function () {
        this.lotes_insumo.push({ id: "" + Math.floor(Math.random() * (999)) + 1, codigo_barras: "", lote: "", fecha_caducidad: "", existencia: '', cantidad: '', nuevo: 1, existencia_unidosis: '', cantidad_unidosis: '' });
    };
    /**
       * Este método elimina los lotes nuevos que se agregaron a la lista de lotes
       * @return void
       */
    FormularioComponent.prototype.eliminarLote = function (index) {
        this.lotes_insumo.splice(index, 1);
    };
    /**
       * Este método quita un lote del la lista de insumos
       * @param i Posicion del insumo en la lista
       * @param val Object con los datos del lote
       * @param i2 Posicion del lote en la lista de lotes
       * @return void
       */
    FormularioComponent.prototype.quitar_lote_insumo = function (i, val, i2) {
        var control = this.dato.controls['insumos'];
        var ctrlLotes = control.controls[i];
        var ctrlLotesLote = ctrlLotes.controls['lotes'];
        ctrlLotesLote.removeAt(i2);
        var cantidad = ctrlLotes.controls['cantidad_surtida'].value - val.cantidad;
        ctrlLotes.controls['cantidad_surtida'].patchValue(cantidad);
    };
    FormularioComponent.prototype.imprimir = function () {
        var usuario = JSON.parse(localStorage.getItem("usuario"));
        try {
            this.cargandoPdf = true;
            var entrada_imprimir = {
                datos: this.dato.value,
                lista: this.dato.value.insumos,
                usuario: usuario
            };
            this.pdfworker.postMessage(JSON.stringify(entrada_imprimir));
        }
        catch (e) {
            this.cargandoPdf = false;
        }
    };
    FormularioComponent.prototype.base64ToBlob = function (base64, type) {
        var bytes = atob(base64), len = bytes.length;
        var buffer = new ArrayBuffer(len), view = new Uint8Array(buffer);
        for (var i = 0; i < len; i++)
            view[i] = bytes.charCodeAt(i) & 0xff;
        return new Blob([buffer], { type: type });
    };
    return FormularioComponent;
}());
FormularioComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'salidas-estandar-formulario',
        template: __webpack_require__("../../../../../src/app/farmacia/entradas-estandar/formulario/formulario.component.html"),
        styles: ['ngui-auto-complete {z-index: 999999 !important}']
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_forms__["FormBuilder"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_forms__["FormBuilder"]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_5__crud_crud_service__["a" /* CrudService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_5__crud_crud_service__["a" /* CrudService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_3__angular_router__["c" /* ActivatedRoute */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__angular_router__["c" /* ActivatedRoute */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_2__angular_platform_browser__["d" /* DomSanitizer */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_platform_browser__["d" /* DomSanitizer */]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_6_angular2_notifications__["a" /* NotificationsService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_6_angular2_notifications__["a" /* NotificationsService */]) === "function" && _e || Object, typeof (_f = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"]) === "function" && _f || Object])
], FormularioComponent);

var _a, _b, _c, _d, _e, _f;
//# sourceMappingURL=C:/wamp/www/x3-C/src/formulario.component.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/entradas-estandar/lista/lista.component.html":
/***/ (function(module, exports) {

module.exports = "<listar #ctrl URL=\"movimientos?tipo=1\" titulo=\"Entrada Estandar\"></listar>\r\n<menu-farmacia [modulo]=\"'Entradas estandar'\" [icono]=\"'assets/icono-entradas.svg'\" [url]=\"'/almacen/entradas-estandar'\"></menu-farmacia>\r\n<div style=\"height:50px;\"></div>\r\n<div class=\"contenedor columns \" style=\"height:100%; \">\r\n     <div class=\"column is-one-quarter is-hidden-mobile\">\r\n        <!-- <menu-lateral (onEnviarTipo)=enviarTipo($event);></menu-lateral>  -->\r\n        <aside class=\"menu\" style=\"padding: 1em;\">\r\n            <a routerLink=\"/almacen/entradas-estandar/nuevo\" routerLinkActive=\"is-active\" class=\"button is-primary is-inverted is-medium is-fullwidth\"><span class=\"icon\"  ><i class=\"fa fa-plus\"></i></span> <span>Nueva Entrada</span></a>\r\n            <br>\r\n            <ul class=\"menu-list\">\r\n                <li>\r\n                    <a routerLink=\"/almacen/entradas-estandar\" #estandar routerLinkActive=\"is-active\">\r\n                        <span class=\"icon\"><i class=\"fa fa-file\"></i></span> Entrada estandar\r\n                        <span class=\"icon is-pulled-right\" *ngIf=\"cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span>\r\n                        <!-- <span class=\"tag is-pulled-right\" [ngClass]=\"{ 'is-white': estandar.className == 'is-active', 'is-primary': estandar.className != 'is-active' }\"></span> -->\r\n                    </a>\r\n                </li>\r\n            </ul>\r\n\r\n        </aside>\r\n    </div>\r\n    <div class=\"column\" style=\"padding:2em;\">\r\n        <div style=\"background: #FFF; border-radius: 1em; overflow: hidden;\">\r\n            <section class=\"hero\" [ngClass]=\" {'is-dark': ctrl.busquedaActivada, 'is-primary': !ctrl.busquedaActivada } \">\r\n\r\n                <div class=\"hero-body\" style=\"position:relative;\">\r\n                    <a class=\"button  is-dark\" *ngIf=\"ctrl.busquedaActivada\" style=\"position:absolute; top:1em; right:1em;\" (click)=\"ctrl.busquedaActivada=false;searchBox.value=''; ctrl.resultadosBusqueda=[]\"><span class=\"icon \"><i class=\"fa fa-close\"></i></span></a>\r\n                    <a class=\"button  is-dark\" *ngIf=\"ctrl.busquedaActivada\" style=\"position:absolute; top:1em; right:3.5em;\" (click)=\"ctrl.listarBusqueda(searchBox.value,1)\"><span class=\"icon \"><i class=\"fa fa-refresh\"></i></span></a>\r\n                    <a class=\"button  is-primary\" *ngIf=\"!ctrl.busquedaActivada\" style=\"position:absolute; top:1em; right:1em;\" (click)=\"ctrl.listar(1)\"><span class=\"icon \"><i class=\"fa fa-refresh\"></i></span></a>\r\n                    <div class=\"container is-fluid\">\r\n\r\n                        <h1 class=\"title\" *ngIf=\"!ctrl.busquedaActivada\">\r\n                            <span class=\"icon is-medium\"><i class=\"fa fa-user\"></i></span> entradas estandar\r\n                        </h1>\r\n                        <h1 class=\"title\" *ngIf=\"ctrl.busquedaActivada\">\r\n                            <span class=\"icon is-medium\"><i class=\"fa fa-search\"></i></span> Búsqueda\r\n                        </h1>\r\n                        <div class=\"control is-grouped\">\r\n                            <p class=\"control is-expanded\">\r\n                                <input class=\"input is-medium\" type=\"text\" placeholder=\"Buscar\" #searchBox id=\"search-box\" (keyup)=\"ctrl.buscar(searchBox.value)\">\r\n                            </p>\r\n                            <p class=\"control\">\r\n                                <a class=\"button is-medium is-primary is-inverted \" routerLink=\"/almacen/entradas-estandar/nuevo\">\r\n                                    <span class=\"icon\"><i class=\"fa fa-plus\"></i></span><span>Nuevo</span>\r\n                                </a>\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class=\"is-fullwidth has-text-centered\" *ngIf=\"ctrl.cargando\">\r\n                <br>\r\n                <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n\r\n            <table class=\"table\" *ngIf=\"!ctrl.cargando\">\r\n                <thead>\r\n                    <tr>\r\n                        <th><abbr title=\"Usuario ID\">ID</abbr></th>\r\n                        <th>Almacén</th>\r\n                        <th>Fecha</th>\r\n                        <th>Estatus</th>\r\n                        <th style=\"text-align:center;\">Opciones</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody *ngIf=\"!ctrl.busquedaActivada\">\r\n                    <tr *ngFor=\"let item of ctrl.dato; let i=index\">\r\n                        <th style=\"vertical-align: middle;\"><a routerLink=\"/almacen/entradas-estandar/editar/{{item.id}}\">{{ item.id }}</a></th>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/entradas-estandar/editar/{{item.id}}\">{{ item.almacen_id }} </a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/entradas-estandar/editar/{{item.id}}\">{{ item.fecha_movimiento }} </a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/entradas-estandar/editar/{{item.id}}\">{{ item.status }} </a></td>\r\n                        <td style=\"vertical-align: middle;\" class=\"has-text-centered\"><span class=\"icon \" *ngIf=\"item.cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span><a *ngIf=\"!item.cargando\"\r\n                                class=\"is-danger\" (click)=\"ctrl.eliminar(item, i)\"><span class=\"icon\"><i class=\"fa fa-trash-o\"></i></span></a></td>\r\n\r\n                    </tr>\r\n                    <tr *ngIf=\"ctrl.dato.length == 0\">\r\n                        <td colspan=\"5\" style=\"vertical-align: middle; color:#888;\">Esta lista está vacía.</td>\r\n                    </tr>\r\n                </tbody>\r\n                <tbody *ngIf=\"ctrl.busquedaActivada\">\r\n                    <tr *ngFor=\"let item of ctrl.resultadosBusqueda; let i=index\">\r\n                        <th style=\"vertical-align: middle;\"><a routerLink=\"/almacen/entradas-estandar/editar/{{item.id}}\">{{ item.id }}</a></th>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/entradas-estandar/editar/{{item.id}}\">{{ item.almacen_id }} </a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/entradas-estandar/editar/{{item.id}}\">{{ item.fecha_movimiento }} </a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/entradas-estandar/editar/{{item.id}}\">{{ item.status }} </a></td>\r\n                        <td style=\"vertical-align: middle;\" class=\"has-text-centered\"><span class=\"icon \" *ngIf=\"item.cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span><a *ngIf=\"!item.cargando\"\r\n                                class=\"is-danger\" (click)=\"ctrl.eliminar(item, i)\"><span class=\"icon\"><i class=\"fa fa-trash-o\"></i></span></a></td>\r\n\r\n                    </tr>\r\n\r\n                    <tr *ngIf=\"ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada\">\r\n                        <td colspan=\"5\" style=\"vertical-align: middle; color:#888;\">No se encontraron resultados.</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <!-- Paginación para la lista  -->\r\n            <paginacion [total]=\"ctrl.total\" [paginasTotales]=\"ctrl.paginasTotales\" [resultadosPorPagina]=\"ctrl.resultadosPorPagina\"\r\n                [paginaActual]=\"ctrl.paginaActual\" [indicePaginas]=\"ctrl.indicePaginas\" (onSiguiente)=\"ctrl.paginaSiguiente()\"\r\n                (onAnterior)=\"ctrl.paginaAnterior()\" (onListar)=\"ctrl.listar($event)\" *ngIf=\"ctrl.total>0 && ctrl.total > ctrl.resultadosPorPagina && !ctrl.busquedaActivada\"></paginacion>\r\n            <!-- Paginación para la búsqueda  -->\r\n            <paginacion [total]=\"ctrl.totalBusqueda\" [paginasTotales]=\"ctrl.paginasTotalesBusqueda\" [resultadosPorPagina]=\"ctrl.resultadosPorPaginaBusqueda\"\r\n                [paginaActual]=\"ctrl.paginaActualBusqueda\" [indicePaginas]=\"ctrl.indicePaginasBusqueda\" (onSiguiente)=\"ctrl.paginaSiguienteBusqueda(searchBox.value)\"\r\n                (onAnterior)=\"ctrl.paginaAnteriorBusqueda(searchBox.value)\" (onListar)=\"ctrl.listarBusqueda(searchBox.value,$event)\"\r\n                *ngIf=\"ctrl.totalBusqueda > 0 && ctrl.totalBusqueda > ctrl.resultadosPorPaginaBusqueda && ctrl.busquedaActivada\"></paginacion>\r\n\r\n\r\n\r\n        </div>\r\n\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/farmacia/entradas-estandar/lista/lista.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ListaComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var ListaComponent = (function () {
    function ListaComponent() {
    }
    return ListaComponent;
}());
ListaComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'salidas-recetas-lista',
        template: __webpack_require__("../../../../../src/app/farmacia/entradas-estandar/lista/lista.component.html")
    })
], ListaComponent);

//# sourceMappingURL=C:/wamp/www/x3-C/src/lista.component.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/entregas/entregas-routing.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__auth_guard_service__ = __webpack_require__("../../../../../src/app/auth-guard.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__lista_lista_component__ = __webpack_require__("../../../../../src/app/farmacia/entregas/lista/lista.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__historial_historial_component__ = __webpack_require__("../../../../../src/app/farmacia/entregas/historial/historial.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__surtir_surtir_component__ = __webpack_require__("../../../../../src/app/farmacia/entregas/surtir/surtir.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__ver_ver_component__ = __webpack_require__("../../../../../src/app/farmacia/entregas/ver/ver.component.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EntregasRoutingModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};







var routes = [
    { path: 'almacen/entregas', redirectTo: '/almacen/entregas/por-surtir', pathMatch: 'full' },
    {
        path: 'almacen/entregas',
        children: [
            { path: 'por-surtir', component: __WEBPACK_IMPORTED_MODULE_3__lista_lista_component__["a" /* ListaComponent */] },
            { path: 'finalizadas', component: __WEBPACK_IMPORTED_MODULE_3__lista_lista_component__["a" /* ListaComponent */] },
            { path: 'finalizadas/completas', component: __WEBPACK_IMPORTED_MODULE_3__lista_lista_component__["a" /* ListaComponent */] },
            { path: 'finalizadas/incompletas', component: __WEBPACK_IMPORTED_MODULE_3__lista_lista_component__["a" /* ListaComponent */] },
            { path: 'finalizadas/canceladas', component: __WEBPACK_IMPORTED_MODULE_3__lista_lista_component__["a" /* ListaComponent */] },
            { path: 'historial', component: __WEBPACK_IMPORTED_MODULE_4__historial_historial_component__["a" /* HistorialComponent */] },
            { path: 'surtir/:id', component: __WEBPACK_IMPORTED_MODULE_5__surtir_surtir_component__["a" /* SurtirComponent */] },
            { path: 'ver/:id', component: __WEBPACK_IMPORTED_MODULE_6__ver_ver_component__["a" /* VerComponent */] },
        ],
        canActivate: [__WEBPACK_IMPORTED_MODULE_2__auth_guard_service__["a" /* AuthGuard */]]
    },
];
var EntregasRoutingModule = (function () {
    function EntregasRoutingModule() {
    }
    return EntregasRoutingModule;
}());
EntregasRoutingModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */].forChild(routes)],
        exports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */]]
    })
], EntregasRoutingModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/entregas-routing.module.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/entregas/entregas.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__hub_hub_module__ = __webpack_require__("../../../../../src/app/hub/hub.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__perfil_perfil_module__ = __webpack_require__("../../../../../src/app/perfil/perfil.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__bloquear_pantalla_bloquear_pantalla_module__ = __webpack_require__("../../../../../src/app/bloquear-pantalla/bloquear-pantalla.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__paginacion_paginacion_module__ = __webpack_require__("../../../../../src/app/paginacion/paginacion.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__buscar_insumos_buscar_insumos_module__ = __webpack_require__("../../../../../src/app/farmacia/buscar-insumos/buscar-insumos.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__index_farmacia_index_farmacia_module__ = __webpack_require__("../../../../../src/app/farmacia/index-farmacia/index-farmacia.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__entregas_routing_module__ = __webpack_require__("../../../../../src/app/farmacia/entregas/entregas-routing.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__menu_lateral_menu_lateral_component__ = __webpack_require__("../../../../../src/app/farmacia/entregas/menu-lateral/menu-lateral.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__lista_lista_component__ = __webpack_require__("../../../../../src/app/farmacia/entregas/lista/lista.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__surtir_surtir_component__ = __webpack_require__("../../../../../src/app/farmacia/entregas/surtir/surtir.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__ver_ver_component__ = __webpack_require__("../../../../../src/app/farmacia/entregas/ver/ver.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__historial_historial_component__ = __webpack_require__("../../../../../src/app/farmacia/entregas/historial/historial.component.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EntregasModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};















var EntregasModule = (function () {
    function EntregasModule() {
    }
    return EntregasModule;
}());
EntregasModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [
            __WEBPACK_IMPORTED_MODULE_1__angular_common__["CommonModule"],
            __WEBPACK_IMPORTED_MODULE_2__angular_forms__["FormsModule"],
            __WEBPACK_IMPORTED_MODULE_3__hub_hub_module__["a" /* HubModule */],
            __WEBPACK_IMPORTED_MODULE_4__perfil_perfil_module__["a" /* PerfilModule */],
            __WEBPACK_IMPORTED_MODULE_5__bloquear_pantalla_bloquear_pantalla_module__["a" /* BloquearPantallaModule */],
            __WEBPACK_IMPORTED_MODULE_6__paginacion_paginacion_module__["a" /* PaginacionModule */],
            __WEBPACK_IMPORTED_MODULE_7__buscar_insumos_buscar_insumos_module__["a" /* BuscarInsumosModule */],
            __WEBPACK_IMPORTED_MODULE_8__index_farmacia_index_farmacia_module__["a" /* IndexFarmaciaModule */],
            __WEBPACK_IMPORTED_MODULE_9__entregas_routing_module__["a" /* EntregasRoutingModule */]
        ],
        declarations: [__WEBPACK_IMPORTED_MODULE_11__lista_lista_component__["a" /* ListaComponent */], __WEBPACK_IMPORTED_MODULE_10__menu_lateral_menu_lateral_component__["a" /* MenuLateralComponent */], __WEBPACK_IMPORTED_MODULE_12__surtir_surtir_component__["a" /* SurtirComponent */], __WEBPACK_IMPORTED_MODULE_13__ver_ver_component__["a" /* VerComponent */], __WEBPACK_IMPORTED_MODULE_14__historial_historial_component__["a" /* HistorialComponent */]]
    })
], EntregasModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/entregas.module.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/entregas/entregas.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/@angular/http.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__ = __webpack_require__("../../../../../src/app/jwt-request.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EntregasService; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var EntregasService = EntregasService_1 = (function () {
    function EntregasService(http, jwtRequest) {
        this.http = http;
        this.jwtRequest = jwtRequest;
    }
    EntregasService.prototype.stats = function () {
        return this.jwtRequest.get(EntregasService_1.URL_STATS, null, null).map(function (response) { return response.json(); });
    };
    EntregasService.prototype.buscar = function (status, term, pagina, resultados_por_pagina) {
        if (pagina === void 0) { pagina = 1; }
        if (resultados_por_pagina === void 0) { resultados_por_pagina = 20; }
        return this.jwtRequest.get(EntregasService_1.URL, null, { status: status, q: term, page: pagina, per_page: resultados_por_pagina }).map(function (response) { return response.json().data; });
    };
    EntregasService.prototype.lista = function (status, pagina, resultados_por_pagina) {
        if (pagina === void 0) { pagina = 1; }
        if (resultados_por_pagina === void 0) { resultados_por_pagina = 20; }
        return this.jwtRequest.get(EntregasService_1.URL, null, { status: status, page: pagina, per_page: resultados_por_pagina }).map(function (response) { return response.json().data; });
    };
    EntregasService.prototype.ver = function (id) {
        return this.jwtRequest.get(EntregasService_1.URL, id, {}).map(function (response) { return response.json().data; });
    };
    EntregasService.prototype.surtir = function (lotes) {
        return this.jwtRequest.post(EntregasService_1.URL, lotes).map(function (response) { return response.json().data; });
    };
    return EntregasService;
}());
EntregasService.URL = "entregas";
EntregasService.URL_STATS = "entregas-stats";
EntregasService = EntregasService_1 = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__["a" /* JwtRequestService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__["a" /* JwtRequestService */]) === "function" && _b || Object])
], EntregasService);

var EntregasService_1, _a, _b;
//# sourceMappingURL=C:/wamp/www/x3-C/src/entregas.service.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/entregas/historial/historial.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/farmacia/entregas/historial/historial.component.html":
/***/ (function(module, exports) {

module.exports = "<menu-farmacia [modulo]=\"'Entregas'\" [icono]=\"'assets/icono-pedidos-alt.svg'\" [url]=\"'/almacen/entregas'\"></menu-farmacia>\r\n\r\n<div style=\"height:50px;\"></div>\r\n<div class=\"contenedor columns \" style=\"height:100%; \">\r\n    <div class=\"column is-one-quarter is-hidden-mobile\">\r\n      <menu-lateral></menu-lateral>\r\n    </div>\r\n    <div class=\"column\" style=\"padding:2em;\">\r\n        <div style=\"background: #FFF; border-radius: 1em; overflow: hidden;\">\r\n            <section class=\"hero\" [ngClass] = \" {'is-dark': busquedaActivada, 'is-primary': !busquedaActivada } \" >\r\n                \r\n                <div class=\"hero-body\" style=\"position:relative;\">\r\n                    <a class=\"button  is-dark\" *ngIf=\"busquedaActivada\" style=\"position:absolute; top:1em; right:1em;\" (click)=\"busquedaActivada=false;searchBox.value='';resultadosBusqueda=[]\"><span class=\"icon \"><i class=\"fa fa-close\"></i></span></a>\r\n                    <a class=\"button  is-dark\" *ngIf=\"busquedaActivada\" style=\"position:absolute; top:1em; right:3.5em;\" (click)=\"listarBusqueda(searchBox.value,1)\"><span class=\"icon \"><i class=\"fa fa-refresh\"></i></span></a>\r\n                    <a class=\"button  is-primary\" *ngIf=\"!busquedaActivada\" style=\"position:absolute; top:1em; right:1em;\" (click)=\"listar(1)\"><span class=\"icon \"><i class=\"fa fa-refresh\"></i></span></a>\r\n                    <div class=\"container is-fluid\">\r\n                        \r\n                        <h1 class=\"title\" *ngIf=\"!busquedaActivada\">\r\n                            <span class=\"icon is-medium\"><i class=\"fa fa-history\"></i></span> {{ titulo }}\r\n                        </h1>\r\n                        <h1 class=\"title\" *ngIf=\"busquedaActivada\">\r\n                            <span class=\"icon is-medium\"><i class=\"fa fa-search\"></i></span> Búsqueda \r\n                        </h1>\r\n                        <p class=\"control is-expanded\">\r\n                            <input class=\"input is-medium\" type=\"text\" placeholder=\"Buscar\" #searchBox id=\"search-box\" (keyup)=\"buscar(searchBox.value)\">\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class=\"is-fullwidth has-text-centered\" *ngIf=\"cargando\">\r\n                <br>\r\n                <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n        \r\n            <table class=\"table\" *ngIf=\"!cargando\">\r\n                <thead>\r\n                    <tr>\r\n                    <th>Folio</th>\r\n                    <th><abbr title=\"Número del pedido\">Pedido</abbr></th>\r\n                    <th>Almacen solicitante:</th>\r\n                    <th>Fecha</th>\r\n                    <th>Hora</th>\r\n                    <th style=\"text-align:center;\"></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody  *ngIf=\"!busquedaActivada\">\r\n                    <tr *ngFor=\"let item of pedidos; let i=index\">                       \r\n                        <th style=\"vertical-align: middle;\"><a routerLink=\"/almacen/entregas/ver/{{item.id}}\">{{ item.id }}</a></th>\r\n                        <th style=\"vertical-align: middle;\"><a routerLink=\"/almacen/entregas/ver/{{item.id}}\">{{ item.movimiento_pedido.pedido_id }}</a></th>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/entregas/ver/{{item.id}}\">{{ item.movimiento_pedido.pedido.almacen_solicitante.nombre}}</a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/entregas/ver/{{item.id}}\">{{ item.created_at | date:'dd/MM/y' }}</a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/entregas/ver/{{item.id}}\">{{ item.created_at | date: 'HH:mm'}}</a></td>\r\n                        <td></td>                        \r\n                    </tr>\r\n                    <tr *ngIf=\"pedidos.length == 0\">\r\n                        <td colspan=\"5\" style=\"vertical-align: middle; color:#888;\">Esta lista está vacía.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n                <tbody *ngIf=\"busquedaActivada\">\r\n                    <tr *ngFor=\"let item of resultadosBusqueda; let i=index\">\r\n                    <th style=\"vertical-align: middle;\"><a routerLink=\"/almacen/entregas/surtir/{{item.id}}\">{{ item.id }}</a></th>\r\n                        <th style=\"vertical-align: middle;\"><a routerLink=\"/almacen/entregas/ver/{{item.id}}\">{{ item.id }}</a></th>\r\n                        <th style=\"vertical-align: middle;\"><a routerLink=\"/almacen/entregas/ver/{{item.id}}\">{{ item.movimiento_pedido.pedido_id }}</a></th>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/entregas/ver/{{item.id}}\">{{ item.movimiento_pedido.pedido.almacen_solicitante.nombre}}</a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/entregas/ver/{{item.id}}\">{{ item.created_at | date:'dd/MM/y' }}</a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/entregas/ver/{{item.id}}\">{{ item.created_at | date: 'HH:mm'}}</a></td>\r\n                        <td></td>                   \r\n                    </tr>\r\n\r\n                    <tr *ngIf=\"resultadosBusqueda.length == 0 && busquedaActivada\">\r\n                        <td colspan=\"5\" style=\"vertical-align: middle; color:#888;\">No se encontraron resultados.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <!-- Paginación para la lista  -->\r\n            <paginacion \r\n                [total]=\"total\" \r\n                [paginasTotales]=\"paginasTotales\" \r\n                [resultadosPorPagina]=\"resultadosPorPagina\" \r\n                [paginaActual]=\"paginaActual\" \r\n                [indicePaginas]=\"indicePaginas\"\r\n                (onSiguiente)=\"paginaSiguiente()\" \r\n                (onAnterior)=\"paginaAnterior()\" \r\n                (onListar)=\"listar($event)\" \r\n                *ngIf=\"total>0 && total > resultadosPorPagina && !busquedaActivada\"></paginacion>\r\n            <!-- Paginación para la búsqueda  -->\r\n            <paginacion \r\n                [total]=\"totalBusqueda\" \r\n                [paginasTotales]=\"paginasTotalesBusqueda\" \r\n                [resultadosPorPagina]=\"resultadosPorPaginaBusqueda\" \r\n                [paginaActual]=\"paginaActualBusqueda\" \r\n                [indicePaginas]=\"indicePaginasBusqueda\"\r\n                (onSiguiente)=\"paginaSiguienteBusqueda(searchBox.value)\" \r\n                (onAnterior)=\"paginaAnteriorBusqueda(searchBox.value)\" \r\n                (onListar)=\"listarBusqueda(searchBox.value,$event)\" \r\n                *ngIf=\"totalBusqueda > 0 && totalBusqueda > resultadosPorPaginaBusqueda && busquedaActivada\"></paginacion>\r\n           \r\n          \r\n            \r\n        </div>\r\n        \r\n    </div>\r\n</div>\r\n\r\n<div class=\"notification is-danger\" style=\"position:fixed; left:1em;  bottom:1em;\" *ngIf=\"mensajeError.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeError.mostrar = false\"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style=\"text-align:center\" ><a  class=\"button is-danger is-inverted\" (click)=\"ultimaPeticion(); mensajeError.mostrar = false\"> <span class=\"icon\"><i class=\"fa fa-refresh\"></i></span> <span>Volver a intentar</span></a></p>        \r\n</div>\r\n\r\n<div class=\"notification is-success\" style=\"position:fixed; left:1em;  bottom:1em; width: auto\" *ngIf=\"mensajeExito.mostrar\">       \r\n    <button class=\"delete\" (click)=\"mensajeExito.mostrar = false\"></button>\r\n    <p><span class=\"icon\" style=\"margin-right: 0.5em;\"><i class=\"fa fa-check-circle\"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style=\"text-align: center;\"><small >Este mensaje desaparecerá en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>"

/***/ }),

/***/ "../../../../../src/app/farmacia/entregas/historial/historial.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__ = __webpack_require__("../../../../rxjs/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__ = __webpack_require__("../../../../rxjs/Subject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_of__ = __webpack_require__("../../../../rxjs/add/observable/of.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_observable_throw__ = __webpack_require__("../../../../rxjs/add/observable/throw.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_observable_throw___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_rxjs_add_observable_throw__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_debounceTime__ = __webpack_require__("../../../../rxjs/add/operator/debounceTime.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_debounceTime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_debounceTime__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_distinctUntilChanged__ = __webpack_require__("../../../../rxjs/add/operator/distinctUntilChanged.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_distinctUntilChanged___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_distinctUntilChanged__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_map__ = __webpack_require__("../../../../rxjs/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_map__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_switchMap__ = __webpack_require__("../../../../rxjs/add/operator/switchMap.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_switchMap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_switchMap__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_rxjs_add_operator_catch__ = __webpack_require__("../../../../rxjs/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_rxjs_add_operator_catch___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_rxjs_add_operator_catch__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__entregas_service__ = __webpack_require__("../../../../../src/app/farmacia/entregas/entregas.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__mensaje__ = __webpack_require__("../../../../../src/app/mensaje.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return HistorialComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};














var HistorialComponent = (function () {
    // # FIN SECCION
    function HistorialComponent(title, route, entregasService) {
        this.title = title;
        this.route = route;
        this.entregasService = entregasService;
        this.cargando = false;
        // # SECCION: Esta sección es para mostrar mensajes
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_13__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_13__mensaje__["a" /* Mensaje */]();
        // # FIN SECCION
        // # SECCION: Lista
        this.titulo = "Historial";
        this.icono = "f";
        this.pedidos = [];
        this.paginaActual = 1;
        this.resultadosPorPagina = 5;
        this.total = 0;
        this.paginasTotales = 0;
        this.indicePaginas = [];
        // # FIN SECCION
        // # SECCION: Resultados de búsqueda
        this.ultimoTerminoBuscado = "";
        this.terminosBusqueda = new __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__["Subject"]();
        this.resultadosBusqueda = [];
        this.busquedaActivada = false;
        this.paginaActualBusqueda = 1;
        this.resultadosPorPaginaBusqueda = 5;
        this.totalBusqueda = 0;
        this.paginasTotalesBusqueda = 0;
        this.indicePaginasBusqueda = [];
    }
    HistorialComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.title.setTitle("Historial de entregas / Farmacia");
        this.listar(1);
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_13__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_13__mensaje__["a" /* Mensaje */]();
        var self = this;
        var busquedaSubject = this.terminosBusqueda
            .debounceTime(300) // Esperamos 300 ms pausando eventos
            .distinctUntilChanged() // Ignorar si la busqueda es la misma que la ultima
            .switchMap(function (term) {
            console.log("Cargando búsqueda.");
            _this.busquedaActivada = term != "" ? true : false;
            _this.ultimoTerminoBuscado = term;
            _this.paginaActualBusqueda = 1;
            _this.cargando = true;
            return term ? _this.entregasService.buscar(null, term, _this.paginaActualBusqueda, _this.resultadosPorPaginaBusqueda) : __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__["Observable"].of({ data: [] });
        }).catch(function handleError(error) {
            self.cargando = false;
            self.mensajeError.mostrar = true;
            self.ultimaPeticion = function () { self.listarBusqueda(self.ultimoTerminoBuscado, self.paginaActualBusqueda); }; //OJO
            try {
                var e = error.json();
                if (error.status == 401) {
                    self.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    self.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    self.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
            // Devolvemos el subject porque si no se detiene el funcionamiento del stream 
            return busquedaSubject;
        });
        busquedaSubject.subscribe(function (resultado) {
            _this.cargando = false;
            _this.resultadosBusqueda = resultado.data;
            _this.totalBusqueda = resultado.total | 0;
            _this.paginasTotalesBusqueda = Math.ceil(_this.totalBusqueda / _this.resultadosPorPaginaBusqueda);
            _this.indicePaginasBusqueda = [];
            for (var i = 0; i < _this.paginasTotalesBusqueda; i++) {
                _this.indicePaginasBusqueda.push(i + 1);
            }
            console.log("Búsqueda cargada.");
        });
    };
    HistorialComponent.prototype.buscar = function (term) {
        this.terminosBusqueda.next(term);
    };
    HistorialComponent.prototype.listarBusqueda = function (term, pagina) {
        var _this = this;
        this.paginaActualBusqueda = pagina;
        console.log("Cargando búsqueda.");
        this.cargando = true;
        this.entregasService.buscar(null, term, pagina, this.resultadosPorPaginaBusqueda).subscribe(function (resultado) {
            _this.cargando = false;
            var parsed = resultado.data;
            for (var i in parsed) {
                parsed[i].created_at = parsed[i].created_at.replace(" ", "T");
            }
            _this.resultadosBusqueda = parsed;
            _this.totalBusqueda = resultado.total | 0;
            _this.paginasTotalesBusqueda = Math.ceil(_this.totalBusqueda / _this.resultadosPorPaginaBusqueda);
            _this.indicePaginasBusqueda = [];
            for (var i_1 = 0; i_1 < _this.paginasTotalesBusqueda; i_1++) {
                _this.indicePaginasBusqueda.push(i_1 + 1);
            }
            console.log("Búsqueda cargada.");
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError.mostrar = true;
            _this.ultimaPeticion = function () { this.listarBusqueda(term, pagina); };
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    HistorialComponent.prototype.listar = function (pagina) {
        var _this = this;
        this.paginaActual = pagina;
        console.log("Cargando items.");
        this.cargando = true;
        this.entregasService.lista(null, pagina, this.resultadosPorPagina).subscribe(function (resultado) {
            _this.cargando = false;
            var parsed = resultado.data;
            for (var i in parsed) {
                console.log(parsed[i].created_at.replace(" ", "T"));
                parsed[i].created_at = parsed[i].created_at.replace(" ", "T");
            }
            _this.pedidos = parsed;
            ;
            //this.pedidos = resultado.data as Pedido[];
            _this.total = resultado.total | 0;
            _this.paginasTotales = Math.ceil(_this.total / _this.resultadosPorPagina);
            _this.indicePaginas = [];
            for (var i_2 = 0; i_2 < _this.paginasTotales; i_2++) {
                _this.indicePaginas.push(i_2 + 1);
            }
            console.log("Pedidos cargados.");
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError.mostrar = true;
            _this.ultimaPeticion = _this.listar;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    // # SECCION: Paginación
    HistorialComponent.prototype.paginaSiguiente = function () {
        this.listar(this.paginaActual + 1);
    };
    HistorialComponent.prototype.paginaAnterior = function () {
        this.listar(this.paginaActual - 1);
    };
    HistorialComponent.prototype.paginaSiguienteBusqueda = function (term) {
        this.listarBusqueda(term, this.paginaActualBusqueda + 1);
    };
    HistorialComponent.prototype.paginaAnteriorBusqueda = function (term) {
        this.listarBusqueda(term, this.paginaActualBusqueda - 1);
    };
    return HistorialComponent;
}());
HistorialComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-historial',
        template: __webpack_require__("../../../../../src/app/farmacia/entregas/historial/historial.component.html"),
        styles: [__webpack_require__("../../../../../src/app/farmacia/entregas/historial/historial.component.css")],
        providers: [__WEBPACK_IMPORTED_MODULE_12__entregas_service__["a" /* EntregasService */]]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* ActivatedRoute */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* ActivatedRoute */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_12__entregas_service__["a" /* EntregasService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_12__entregas_service__["a" /* EntregasService */]) === "function" && _c || Object])
], HistorialComponent);

var _a, _b, _c;
//# sourceMappingURL=C:/wamp/www/x3-C/src/historial.component.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/entregas/lista/lista.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/farmacia/entregas/lista/lista.component.html":
/***/ (function(module, exports) {

module.exports = "<menu-farmacia [modulo]=\"'Entregas'\" [icono]=\"'assets/icono-pedidos-alt.svg'\" [url]=\"'/almacen/entregas'\"></menu-farmacia>\r\n\r\n<div style=\"height:50px;\"></div>\r\n<div class=\"contenedor columns \" style=\"height:100%; \">\r\n    <div class=\"column is-one-quarter is-hidden-mobile\">\r\n      <menu-lateral></menu-lateral>\r\n    </div>\r\n    <div class=\"column\" style=\"padding:2em;\">\r\n        <div style=\"background: #FFF; border-radius: 1em; overflow: hidden;\">\r\n            <section class=\"hero\" [ngClass] = \" {'is-dark': busquedaActivada, 'is-primary': !busquedaActivada } \" >\r\n                \r\n                <div class=\"hero-body\" style=\"position:relative;\">\r\n                    <a class=\"button  is-dark\" *ngIf=\"busquedaActivada\" style=\"position:absolute; top:1em; right:1em;\" (click)=\"busquedaActivada=false;searchBox.value='';resultadosBusqueda=[]\"><span class=\"icon \"><i class=\"fa fa-close\"></i></span></a>\r\n                    <a class=\"button  is-dark\" *ngIf=\"busquedaActivada\" style=\"position:absolute; top:1em; right:3.5em;\" (click)=\"listarBusqueda(searchBox.value,1)\"><span class=\"icon \"><i class=\"fa fa-refresh\"></i></span></a>\r\n                    <a class=\"button  is-primary\" *ngIf=\"!busquedaActivada\" style=\"position:absolute; top:1em; right:1em;\" (click)=\"listar(1)\"><span class=\"icon \"><i class=\"fa fa-refresh\"></i></span></a>\r\n                    <div class=\"container is-fluid\">\r\n                        \r\n                        <h1 class=\"title\" *ngIf=\"!busquedaActivada\">\r\n                            <span class=\"icon is-medium\"><i class=\"fa {{ icono }}\"></i></span> {{ titulo }}\r\n                        </h1>\r\n                        <h1 class=\"title\" *ngIf=\"busquedaActivada\">\r\n                            <span class=\"icon is-medium\"><i class=\"fa fa-search\"></i></span> Búsqueda \r\n                        </h1>\r\n                        <p class=\"control is-expanded\">\r\n                            <input class=\"input is-medium\" type=\"text\" placeholder=\"Buscar\" #searchBox id=\"search-box\" (keyup)=\"buscar(searchBox.value)\">\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class=\"is-fullwidth has-text-centered\" *ngIf=\"cargando\">\r\n                <br>\r\n                <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n        \r\n            <table class=\"table\" *ngIf=\"!cargando\">\r\n                <thead>\r\n                    <tr>\r\n                    <th><abbr title=\"Número del pedido\">Pedido</abbr></th>\r\n                    <th>Solicitado por</th>\r\n                    <th>Fecha</th>\r\n                    <th>Hora</th>\r\n                    <th style=\"text-align:center;\"></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody  *ngIf=\"!busquedaActivada\">\r\n                    <tr *ngFor=\"let item of pedidos; let i=index\">\r\n                       \r\n                        <th style=\"vertical-align: middle;\"><a routerLink=\"/almacen/entregas/surtir/{{item.id}}\">{{ item.id }}</a></th>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/entregas/surtir/{{item.id}}\">{{ item.almacen_solicitante.nombre }} {{ item.apellidos }}</a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/entregas/surtir/{{item.id}}\">{{ item.created_at | date:'dd/MM/y' }}</a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/entregas/surtir/{{item.id}}\">{{ item.created_at | date: 'HH:mm'}}</a></td>\r\n                        <td></td>\r\n                        \r\n                    </tr>\r\n                    <tr *ngIf=\"pedidos.length == 0\">\r\n                        <td colspan=\"5\" style=\"vertical-align: middle; color:#888;\">Esta lista está vacía.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n                <tbody *ngIf=\"busquedaActivada\">\r\n                    <tr *ngFor=\"let item of resultadosBusqueda; let i=index\">\r\n                    <th style=\"vertical-align: middle;\"><a routerLink=\"/almacen/entregas/surtir/{{item.id}}\">{{ item.id }}</a></th>\r\n                    <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/entregas/surtir/{{item.id}}\">{{ item.almacen_solicitante.nombre }} {{ item.apellidos }}</a></td>\r\n                    <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/entregas/surtir/{{item.id}}\">{{ item.created_at | date:'dd/MM/y' }}</a></td>\r\n                    <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/entregas/surtir/{{item.id}}\">{{ item.created_at | date: 'HH:mm'}}</a></td>\r\n                     \r\n                    </tr>\r\n\r\n                    <tr *ngIf=\"resultadosBusqueda.length == 0 && busquedaActivada\">\r\n                        <td colspan=\"5\" style=\"vertical-align: middle; color:#888;\">No se encontraron resultados.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <!-- Paginación para la lista  -->\r\n            <paginacion \r\n                [total]=\"total\" \r\n                [paginasTotales]=\"paginasTotales\" \r\n                [resultadosPorPagina]=\"resultadosPorPagina\" \r\n                [paginaActual]=\"paginaActual\" \r\n                [indicePaginas]=\"indicePaginas\"\r\n                (onSiguiente)=\"paginaSiguiente()\" \r\n                (onAnterior)=\"paginaAnterior()\" \r\n                (onListar)=\"listar($event)\" \r\n                *ngIf=\"total>0 && total > resultadosPorPagina && !busquedaActivada\"></paginacion>\r\n            <!-- Paginación para la búsqueda  -->\r\n            <paginacion \r\n                [total]=\"totalBusqueda\" \r\n                [paginasTotales]=\"paginasTotalesBusqueda\" \r\n                [resultadosPorPagina]=\"resultadosPorPaginaBusqueda\" \r\n                [paginaActual]=\"paginaActualBusqueda\" \r\n                [indicePaginas]=\"indicePaginasBusqueda\"\r\n                (onSiguiente)=\"paginaSiguienteBusqueda(searchBox.value)\" \r\n                (onAnterior)=\"paginaAnteriorBusqueda(searchBox.value)\" \r\n                (onListar)=\"listarBusqueda(searchBox.value,$event)\" \r\n                *ngIf=\"totalBusqueda > 0 && totalBusqueda > resultadosPorPaginaBusqueda && busquedaActivada\"></paginacion>\r\n           \r\n          \r\n            \r\n        </div>\r\n        \r\n    </div>\r\n</div>\r\n\r\n<div class=\"notification is-danger\" style=\"position:fixed; left:1em;  bottom:1em;\" *ngIf=\"mensajeError.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeError.mostrar = false\"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style=\"text-align:center\" ><a  class=\"button is-danger is-inverted\" (click)=\"ultimaPeticion(); mensajeError.mostrar = false\"> <span class=\"icon\"><i class=\"fa fa-refresh\"></i></span> <span>Volver a intentar</span></a></p>        \r\n</div>\r\n\r\n<div class=\"notification is-success\" style=\"position:fixed; left:1em;  bottom:1em; width: auto\" *ngIf=\"mensajeExito.mostrar\">       \r\n    <button class=\"delete\" (click)=\"mensajeExito.mostrar = false\"></button>\r\n    <p><span class=\"icon\" style=\"margin-right: 0.5em;\"><i class=\"fa fa-check-circle\"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style=\"text-align: center;\"><small >Este mensaje desaparecerá en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>"

/***/ }),

/***/ "../../../../../src/app/farmacia/entregas/lista/lista.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__ = __webpack_require__("../../../../rxjs/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__ = __webpack_require__("../../../../rxjs/Subject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_of__ = __webpack_require__("../../../../rxjs/add/observable/of.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_observable_throw__ = __webpack_require__("../../../../rxjs/add/observable/throw.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_observable_throw___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_rxjs_add_observable_throw__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_debounceTime__ = __webpack_require__("../../../../rxjs/add/operator/debounceTime.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_debounceTime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_debounceTime__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_distinctUntilChanged__ = __webpack_require__("../../../../rxjs/add/operator/distinctUntilChanged.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_distinctUntilChanged___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_distinctUntilChanged__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_map__ = __webpack_require__("../../../../rxjs/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_map__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_switchMap__ = __webpack_require__("../../../../rxjs/add/operator/switchMap.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_switchMap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_switchMap__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_rxjs_add_operator_catch__ = __webpack_require__("../../../../rxjs/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_rxjs_add_operator_catch___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_rxjs_add_operator_catch__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__entregas_service__ = __webpack_require__("../../../../../src/app/farmacia/entregas/entregas.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__perfil_cambiar_entorno_service__ = __webpack_require__("../../../../../src/app/perfil/cambiar-entorno.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__mensaje__ = __webpack_require__("../../../../../src/app/mensaje.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ListaComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};















var ListaComponent = (function () {
    // # FIN SECCION
    function ListaComponent(title, route, entregasService, cambiarEntornoService) {
        this.title = title;
        this.route = route;
        this.entregasService = entregasService;
        this.cambiarEntornoService = cambiarEntornoService;
        this.cargando = false;
        // # SECCION: Esta sección es para mostrar mensajes
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */]();
        // # FIN SECCION
        // # SECCION: Lista
        this.status = "PS";
        this.titulo = "";
        this.icono = "f";
        this.pedidos = [];
        this.paginaActual = 1;
        this.resultadosPorPagina = 5;
        this.total = 0;
        this.paginasTotales = 0;
        this.indicePaginas = [];
        // # FIN SECCION
        // # SECCION: Resultados de búsqueda
        this.ultimoTerminoBuscado = "";
        this.terminosBusqueda = new __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__["Subject"]();
        this.resultadosBusqueda = [];
        this.busquedaActivada = false;
        this.paginaActualBusqueda = 1;
        this.resultadosPorPaginaBusqueda = 5;
        this.totalBusqueda = 0;
        this.paginasTotalesBusqueda = 0;
        this.indicePaginasBusqueda = [];
    }
    ListaComponent.prototype.ngOnInit = function () {
        var _this = this;
        switch (this.route.snapshot.url[0].path) {
            case 'finalizadas':
                this.status = "FI";
                this.icono = "fa-check-circle";
                if (this.route.snapshot.url.length > 1) {
                    if (this.route.snapshot.url[1].path == "completas") {
                        this.titulo = "Finalizadas (completas)";
                    }
                    else if (this.route.snapshot.url[1].path == "incompletas") {
                        this.titulo = "Finalizadas (incompletas)";
                    }
                    else {
                        this.titulo = "Finalizadas";
                    }
                }
                else {
                    this.titulo = "Finalizadas";
                }
                break;
            default:
                this.status = "PS";
                this.titulo = "Por surtir";
                this.icono = "fa-inbox";
                break;
        }
        this.title.setTitle("Entregas / Farmacia");
        this.cambiarEntornoSuscription = this.cambiarEntornoService.entornoCambiado$.subscribe(function (evento) {
            _this.listar(_this.paginaActual);
        });
        this.listar(1);
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */]();
        var self = this;
        var busquedaSubject = this.terminosBusqueda
            .debounceTime(300) // Esperamos 300 ms pausando eventos
            .distinctUntilChanged() // Ignorar si la busqueda es la misma que la ultima
            .switchMap(function (term) {
            console.log("Cargando búsqueda.");
            _this.busquedaActivada = term != "" ? true : false;
            _this.ultimoTerminoBuscado = term;
            _this.paginaActualBusqueda = 1;
            _this.cargando = true;
            return term ? _this.entregasService.buscar(_this.status, term, _this.paginaActualBusqueda, _this.resultadosPorPaginaBusqueda) : __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__["Observable"].of({ data: [] });
        }).catch(function handleError(error) {
            self.cargando = false;
            self.mensajeError.mostrar = true;
            self.ultimaPeticion = function () { self.listarBusqueda(self.ultimoTerminoBuscado, self.paginaActualBusqueda); }; //OJO
            try {
                var e = error.json();
                if (error.status == 401) {
                    self.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    self.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    self.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
            // Devolvemos el subject porque si no se detiene el funcionamiento del stream 
            return busquedaSubject;
        });
        busquedaSubject.subscribe(function (resultado) {
            _this.cargando = false;
            _this.resultadosBusqueda = resultado.data;
            _this.totalBusqueda = resultado.total | 0;
            _this.paginasTotalesBusqueda = Math.ceil(_this.totalBusqueda / _this.resultadosPorPaginaBusqueda);
            _this.indicePaginasBusqueda = [];
            for (var i = 0; i < _this.paginasTotalesBusqueda; i++) {
                _this.indicePaginasBusqueda.push(i + 1);
            }
            console.log("Búsqueda cargada.");
        });
    };
    ListaComponent.prototype.buscar = function (term) {
        this.terminosBusqueda.next(term);
    };
    ListaComponent.prototype.listarBusqueda = function (term, pagina) {
        var _this = this;
        this.paginaActualBusqueda = pagina;
        console.log("Cargando búsqueda.");
        this.cargando = true;
        this.entregasService.buscar(this.status, term, pagina, this.resultadosPorPaginaBusqueda).subscribe(function (resultado) {
            _this.cargando = false;
            var parsed = resultado.data;
            for (var i in parsed) {
                parsed[i].created_at = parsed[i].created_at.replace(" ", "T");
            }
            _this.resultadosBusqueda = parsed;
            _this.totalBusqueda = resultado.total | 0;
            _this.paginasTotalesBusqueda = Math.ceil(_this.totalBusqueda / _this.resultadosPorPaginaBusqueda);
            _this.indicePaginasBusqueda = [];
            for (var i_1 = 0; i_1 < _this.paginasTotalesBusqueda; i_1++) {
                _this.indicePaginasBusqueda.push(i_1 + 1);
            }
            console.log("Búsqueda cargada.");
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError.mostrar = true;
            _this.ultimaPeticion = function () { this.listarBusqueda(term, pagina); };
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
                if (error.status == 403) {
                    _this.mensajeError.texto = e.error;
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    ListaComponent.prototype.listar = function (pagina) {
        var _this = this;
        this.paginaActual = pagina;
        console.log("Cargando items.");
        this.cargando = true;
        this.entregasService.lista(this.status, pagina, this.resultadosPorPagina).subscribe(function (resultado) {
            _this.cargando = false;
            var parsed = resultado.data;
            for (var i in parsed) {
                console.log(parsed[i].created_at.replace(" ", "T"));
                parsed[i].created_at = parsed[i].created_at.replace(" ", "T");
            }
            _this.pedidos = parsed;
            ;
            //this.pedidos = resultado.data as Pedido[];
            _this.total = resultado.total | 0;
            _this.paginasTotales = Math.ceil(_this.total / _this.resultadosPorPagina);
            _this.indicePaginas = [];
            for (var i_2 = 0; i_2 < _this.paginasTotales; i_2++) {
                _this.indicePaginas.push(i_2 + 1);
            }
            console.log("Pedidos cargados.");
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError.mostrar = true;
            _this.ultimaPeticion = _this.listar;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
                if (error.status == 403) {
                    _this.mensajeError.texto = e.error;
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    // # SECCION: Paginación
    ListaComponent.prototype.paginaSiguiente = function () {
        this.listar(this.paginaActual + 1);
    };
    ListaComponent.prototype.paginaAnterior = function () {
        this.listar(this.paginaActual - 1);
    };
    ListaComponent.prototype.paginaSiguienteBusqueda = function (term) {
        this.listarBusqueda(term, this.paginaActualBusqueda + 1);
    };
    ListaComponent.prototype.paginaAnteriorBusqueda = function (term) {
        this.listarBusqueda(term, this.paginaActualBusqueda - 1);
    };
    return ListaComponent;
}());
ListaComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'farmacia-entregas-lista',
        template: __webpack_require__("../../../../../src/app/farmacia/entregas/lista/lista.component.html"),
        styles: [__webpack_require__("../../../../../src/app/farmacia/entregas/lista/lista.component.css")],
        providers: [__WEBPACK_IMPORTED_MODULE_12__entregas_service__["a" /* EntregasService */]]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* ActivatedRoute */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* ActivatedRoute */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_12__entregas_service__["a" /* EntregasService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_12__entregas_service__["a" /* EntregasService */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_13__perfil_cambiar_entorno_service__["a" /* CambiarEntornoService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_13__perfil_cambiar_entorno_service__["a" /* CambiarEntornoService */]) === "function" && _d || Object])
], ListaComponent);

var _a, _b, _c, _d;
//# sourceMappingURL=C:/wamp/www/x3-C/src/lista.component.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/entregas/menu-lateral/menu-lateral.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/farmacia/entregas/menu-lateral/menu-lateral.component.html":
/***/ (function(module, exports) {

module.exports = "<aside class=\"menu\" style=\"padding: 1em;\">\r\n   <!-- <p class=\"menu-label\">Pedidos</p>-->\r\n    <ul class=\"menu-list\">        \r\n        <li>\r\n            <a routerLink=\"/almacen/entregas/por-surtir\" #nuevas routerLinkActive=\"is-active\">\r\n                <span class=\"icon\"><i class=\"fa fa-inbox\"></i></span> Por surtir\r\n                <span class=\"icon is-pulled-right\" *ngIf=\"cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span>\r\n                <span *ngIf=\"stats.por_surtir>0\" class=\"tag is-pulled-right\" [ngClass]=\"{ 'is-white': nuevas.className == 'is-active', 'is-danger': nuevas.className != 'is-active' }\" >{{  stats.por_surtir }}</span>\r\n            </a>            \r\n        </li>\r\n        <li>\r\n            <a routerLink=\"/almacen/entregas/finalizadas\" routerLinkActive=\"is-active\">\r\n                <span class=\"icon\"><i class=\"fa fa-check-circle\"></i></span> <span>Finalizadas</span>\r\n            </a>\r\n            <ul>\r\n                <li><a routerLink=\"/almacen/entregas/finalizadas/completas\" routerLinkActive=\"is-active\">Completas</a></li>\r\n                <li><a routerLink=\"/almacen/entregas/finalizadas/incompletas\" routerLinkActive=\"is-active\">Incompletas</a></li>\r\n                <li><a routerLink=\"/almacen/entregas/finalizadas/canceladas\" routerLinkActive=\"is-active\">Canceladas</a></li>\r\n            </ul>\r\n        </li>  \r\n    </ul>\r\n    <hr>\r\n    <ul class=\"menu-list\"> \r\n        <li>\r\n            <a routerLink=\"/almacen/entregas/historial\" routerLinkActive=\"is-active\"><span class=\"icon\"><i class=\"fa fa-history\"></i></span> <span>Historial</span></a>\r\n        </li>        \r\n    </ul>        \r\n</aside>"

/***/ }),

/***/ "../../../../../src/app/farmacia/entregas/menu-lateral/menu-lateral.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__entregas_service__ = __webpack_require__("../../../../../src/app/farmacia/entregas/entregas.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__perfil_cambiar_entorno_service__ = __webpack_require__("../../../../../src/app/perfil/cambiar-entorno.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MenuLateralComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var MenuLateralComponent = (function () {
    // # FIN SECCION
    function MenuLateralComponent(entregasService, cambiarEntornoService) {
        this.entregasService = entregasService;
        this.cambiarEntornoService = cambiarEntornoService;
        this.cargando = false;
        this.stats = {
            por_surtir: 0,
            finalizados: 0
        };
    }
    MenuLateralComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.cargarStats();
        this.cambiarEntornoSuscription = this.cambiarEntornoService.entornoCambiado$.subscribe(function (evento) {
            _this.cargarStats();
        });
    };
    MenuLateralComponent.prototype.cargarStats = function () {
        var _this = this;
        this.cargando = true;
        this.entregasService.stats().subscribe(function (response) {
            _this.cargando = false;
            _this.stats = response;
        }, function (error) {
            _this.cargando = false;
            console.log(error);
        });
    };
    return MenuLateralComponent;
}());
MenuLateralComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'menu-lateral',
        template: __webpack_require__("../../../../../src/app/farmacia/entregas/menu-lateral/menu-lateral.component.html"),
        styles: [__webpack_require__("../../../../../src/app/farmacia/entregas/menu-lateral/menu-lateral.component.css")],
        providers: [__WEBPACK_IMPORTED_MODULE_1__entregas_service__["a" /* EntregasService */]]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__entregas_service__["a" /* EntregasService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__entregas_service__["a" /* EntregasService */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__perfil_cambiar_entorno_service__["a" /* CambiarEntornoService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__perfil_cambiar_entorno_service__["a" /* CambiarEntornoService */]) === "function" && _b || Object])
], MenuLateralComponent);

var _a, _b;
//# sourceMappingURL=C:/wamp/www/x3-C/src/menu-lateral.component.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/entregas/surtir/surtir.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".item {\r\n    cursor: pointer;\r\n}\r\n.item.seleccionado {\r\n    background: #CCC;\r\n}\r\n.item.seleccionado .icon {\r\n    color:white !important;\r\n}\r\n.item.seleccionado .item-detalle {\r\n    display: inherit;\r\n}\r\n.item .item-detalle {\r\n    display: none;\r\n}\r\n\r\n.item.asignado {\r\n    background: #DDD;\r\n    color: #777;\r\n}\r\n\r\n\r\ntr.filtro td,\r\ntr.filtro th {\r\n    color:#FFF;\r\n    background: #4a4a4a !important;\r\n}\r\n\r\n.contenedor-tabla {\r\n    overflow: auto; width:100%; height:99% !important; display:block; position:absolute; left:0; top:0;\r\n}\r\n.contenedor-tabla table { border-radius: 3px; }\r\n@media screen and (max-width: 768px) {\r\n    .contenedor-tabla { position: relative; }\r\n\r\n    .tile.notification { padding:0px !important; }\r\n}", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/farmacia/entregas/surtir/surtir.component.html":
/***/ (function(module, exports) {

module.exports = "<menu-farmacia [modulo]=\"'Entregas'\" [icono]=\"'assets/icono-entregas.svg'\" [url]=\"'/almacen/entregas'\"></menu-farmacia>\r\n\r\n\r\n\r\n<div class=\"is-fullwidth has-text-centered\" style=\"padding-top:70px;\" *ngIf=\"cargando\">\r\n  <br>\r\n  <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando...</span></span>\r\n  <br>\r\n  <br>\r\n</div>\r\n\r\n<div style=\"position:relative; padding-top:70px; margin-left: 1.5%; display:block; width:97%; height:100% !important;\" *ngIf=\"pedido\">    \r\n  <div class=\"tile is-ancestor is-vertical\" style=\"height:100% !important; max-height:100% !important;\">\r\n    <div class=\"tile is-parent is-12 \">\r\n      <div class=\"tile is-child notification is-dark\">\r\n        \r\n        <div class=\"columns\">\r\n          <div class=\"column\" >\r\n            <div style=\"padding:1em;\">Pedido no. <strong style=\"color:#FFF;\">{{ id }}</strong> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Lotes: {{ lotesSurtidos.length  }} / {{ pedido.lista.length }}</div>\r\n          </div>\r\n          <div class=\"column is-4\" style=\"text-align:center; \">\r\n            <div style=\"margin:1em;\">\r\n            <a  class=\"button is-primary\" style=\"width:45%; margin-right:5%;\" (click)=\"surtir()\"> <span class=\"icon\"><i class=\"fa fa-check-circle\"></i></span> <span>Surtir</span></a>\r\n            <a  class=\"button is-white\"  style=\"width:45%\"  routerLink=\"/almacen/entregas/\"> Cancelar</a>\r\n            </div>\r\n          </div>\r\n        </div>       \r\n      </div>\r\n    </div>\r\n    <div class=\"tile\">\r\n      <div class=\"tile is-parent \">\r\n        <div class=\"tile is-child notification is-white\" >\r\n          <div class=\"contenedor-tabla\" >\r\n                      \r\n            <table class=\"table is-unselectable\" *ngIf=\"!cargando\" style=\"font-size: 0.8em; \">\r\n              <thead>\r\n                  <tr  [ngClass]=\"{ 'filtro': pedido.filtro.activo}\">\r\n                    <th style=\"width:41px;vertical-align: middle;\" class=\"has-text-centered\" >Lote</th>\r\n                    <th>\r\n                      <p class=\"control is-expanded\">\r\n                        <input type=\"hidden\" #searchBoxDescripcionClavePrevia >\r\n                        <input class=\"input is-small\" type=\"text\" placeholder=\"Clave o Genérico\" #searchBoxDescripcionClave id=\"search-box-descripcion-clave-{{indexPedido}}\" (keyup)=\"buscar($event,searchBoxDescripcionClave,searchBoxDescripcionClavePrevia,[{ input: searchBoxDescripcionClave, campos: ['clave','generico_nombre','informacion.concentracion','informacion.presentacion']}])\">\r\n                      </p>\r\n                    </th>  \r\n                    \r\n                    <th style=\"width:78px !important;text-align: center; vertical-align: middle;\"><abbr title=\"Cantidad\">Cant.</abbr></th>\r\n                    <th style=\"width:78px !important;text-align: center; vertical-align: middle;\"><abbr title=\"Surtido\">Surt.</abbr></th>\r\n                    <th  style=\"width:21px !important; text-align: center; vertical-align: middle;\">Surtido</th>\r\n                  </tr>\r\n              </thead>\r\n              <tbody *ngIf=\"!pedido.filtro.activo\">\r\n\r\n                <tr class=\"item\" *ngFor=\"let item of pedido.paginacion.lista; let i = index;\" (click)=\"seleccionarItem(item)\" [ngClass]=\"{ 'seleccionado': item == itemSeleccionado}\">\r\n                  <td class=\"has-text-centered\">{{ item.lote }}</td>\r\n                  <td >\r\n                    <small >{{ item.clave }} <br></small>\r\n                    <b>{{ item.generico_nombre }}</b> <small *ngIf=\"(item.tipo == 'ME' && item.informacion)\"><b>{{ item.informacion.concentracion }}</b></small><br>\r\n                    <div class=\"item-detalle\">\r\n                      <div   *ngIf=\"(item.tipo == 'ME' && item.informacion)\" style=\"line-height:1em;\">\r\n                        <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                        <small><i>{{ item.informacion.contenido }} </i></small>\r\n                      </div>\r\n                      <div   *ngIf=\"item.tipo != 'ME'\" style=\"line-height:1em;\">\r\n                        <small>{{ item.descripcion }}</small>\r\n                      </div>\r\n                    \r\n                      <div  style=\"padding: 0.5em 0 0.5em 0; \">\r\n                        <span *ngIf=\"item.es_causes\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">CAUSES</span>\r\n                        <span *ngIf=\"!item.es_causes\" class=\"tag is-danger\" style=\"font-size: 0.7em !important;\">NO CAUSES</span>\r\n                        <span *ngIf=\"item.es_cuadro_basico\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">Cuadro básico</span>\r\n                        \r\n                        <span *ngIf=\"(item.tipo == 'ME' && item.informacion)\">\r\n                          <span *ngIf=\"item.informacion.es_controlado\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Controlado</span>\r\n                          <span *ngIf=\"item.informacion.es_surfactante\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Surfactante</span>  \r\n                        </span>\r\n                        \r\n                      </div>\r\n                    </div>\r\n                  </td> \r\n                  <td style=\"width:78px !important; text-align:center;\">{{ item.cantidad }}</td>     \r\n                  <th style=\"width:78px !important; text-align:center;\">{{ item.totalStockAsignado || 0 }}</th>                                  \r\n                  <td style=\"width:21px !important; text-align:center;\">\r\n                    <span class=\"icon\" style=\"color:gray;\" *ngIf=\"item.totalStockAsignado == 0 || item.totalStockAsignado == null\"><i class=\"fa fa-circle-thin\"></i></span>\r\n                    <span class=\"icon\" style=\"color:orange;\" *ngIf=\"item.totalStockAsignado > 0 && item.totalStockAsignado < item.cantidad\"><i class=\"fa fa-minus-circle\"></i></span>\r\n                    <span class=\"icon\" style=\"color:green;\" *ngIf=\"item.totalStockAsignado == item.cantidad\"><i class=\"fa fa-check-circle\"></i></span>\r\n                  </td>\r\n                </tr>      \r\n              </tbody>\r\n              <tbody *ngIf=\"pedido.filtro.activo\">\r\n                <tr class=\"item\"  *ngFor=\"let item of pedido.filtro.paginacion.lista; let i = index;\" (click)=\"seleccionarItem(item)\" [ngClass]=\"{ 'seleccionado': item == itemSeleccionado}\">\r\n                  <td class=\"has-text-centered\">{{ item.lote }}</td>\r\n                  <td >\r\n                    <small >{{ item.clave }} <br></small>\r\n                    <b>{{ item.generico_nombre }}</b> <small *ngIf=\"(item.tipo == 'ME' && item.informacion)\"><b>{{ item.informacion.concentracion }}</b></small><br>\r\n                    <div class=\"item-detalle\">\r\n                      <div   *ngIf=\"(item.tipo == 'ME' && item.informacion)\" style=\"line-height:1em;\">\r\n                        <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                        <small><i>{{ item.informacion.contenido }} </i></small>\r\n                      </div>\r\n                      <div   *ngIf=\"item.tipo != 'ME'\" style=\"line-height:1em;\">\r\n                        <small>{{ item.descripcion }}</small>\r\n                      </div>\r\n                    \r\n                      <div  style=\"padding: 0.5em 0 0.5em 0; \">\r\n                        <span *ngIf=\"item.es_causes\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">CAUSES</span>\r\n                        <span *ngIf=\"!item.es_causes\" class=\"tag is-danger\" style=\"font-size: 0.7em !important;\">NO CAUSES</span>\r\n                        <span *ngIf=\"item.es_cuadro_basico\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">Cuadro básico</span>\r\n                        \r\n                        <span *ngIf=\"(item.tipo == 'ME' && item.informacion)\">\r\n                          <span *ngIf=\"item.informacion.es_controlado\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Controlado</span>\r\n                          <span *ngIf=\"item.informacion.es_surfactante\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Surfactante</span>  \r\n                        </span>\r\n                        \r\n                      </div>\r\n                    </div>\r\n                  </td> \r\n                  <td style=\"width:78px !important; text-align:center;\">{{ item.cantidad }}</td>     \r\n                  <th style=\"width:78px !important; text-align:center;\">0</th>                                  \r\n                  <td style=\"width:21px !important; text-align:center; color: gray\"><span class=\"icon\"><i class=\"fa fa-minus-circle\"></i></span></td>\r\n                </tr>   \r\n              </tbody>              \r\n            </table>\r\n            <paginacion style=\" width:100%; height:auto; bottom:0; left:0px; background:#FFF;\"\r\n                [total]=\"pedido.lista.length\" \r\n                [paginasTotales]=\"pedido.paginacion.totalPaginas\" \r\n                [resultadosPorPagina]=\"pedido.paginacion.resultadosPorPagina\" \r\n                [paginaActual]=\"pedido.paginacion.paginaActual\" \r\n                [indicePaginas]=\"pedido.paginacion.indice\"\r\n                (onSiguiente)=\"pedido.paginaSiguiente(); limpiarStock();\" \r\n                (onAnterior)=\"pedido.paginaAnterior(); limpiarStock();\" \r\n                (onListar)=\"pedido.listar($event);limpiarStock();\" \r\n                *ngIf=\"pedido.lista.length > 0 && pedido.lista.length > pedido.paginacion.resultadosPorPagina && !pedido.filtro.activo\"></paginacion>\r\n\r\n            <paginacion \r\n                [total]=\"pedido.filtro.lista.length\" \r\n                [paginasTotales]=\"pedido.filtro.paginacion.totalPaginas\" \r\n                [resultadosPorPagina]=\"pedido.filtro.paginacion.resultadosPorPagina\" \r\n                [paginaActual]=\"pedido.filtro.paginacion.paginaActual\" \r\n                [indicePaginas]=\"pedido.filtro.paginacion.indice\"\r\n                (onSiguiente)=\"pedido.filtro.paginaSiguiente(); limpiarStock();\" \r\n                (onAnterior)=\"pedido.filtro.paginaAnterior();  limpiarStock();\" \r\n                (onListar)=\"pedido.filtro.listar($event); limpiarStock();\" \r\n                *ngIf=\"pedido.filtro.lista.length > 0 && pedido.filtro.lista.length > pedido.filtro.paginacion.resultadosPorPagina && pedido.filtro.activo\"></paginacion>\r\n\r\n\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n      <div class=\"tile is-parent is-vertical \">\r\n        <div class=\"tile is-child notification\" style=\"background:#CCC;\">\r\n          <div class=\"contenedor-tabla\">\r\n            \r\n            <table class=\"table\" *ngIf=\"!cargando\" style=\"font-size: 0.8em;\" >\r\n              <thead>\r\n                <tr>\r\n                  <td colspan=\"5\">\r\n                    <h1 class=\"subtitle\"><span class=\"icon\"><i class=\"fa fa-archive\"></i></span> Existencias</h1>\r\n                  </td>\r\n\r\n                </tr>\r\n                <tr>\r\n                  <td colspan=\"5\">\r\n                    <p class=\"control\">\r\n                      <input class=\"input\" type=\"text\" placeholder=\"Código\" #searchBoxStock (keyup)=\"buscarStock($event, searchBoxStock , searchBoxStock.value)\" (focus)=\"searchBoxStock.select()\" >\r\n                    </p>\r\n                  </td>\r\n\r\n                </tr>\r\n              \r\n                <tr>\r\n                  <th>Código</th>\r\n                  <th>Marca</th>\r\n                  <th>Lote</th>\r\n                  <th>Caducidad</th>\r\n                  <th><abbr title=\"Cantidad\">Cant.</abbr></th>                \r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                  <tr  class=\"is-unselectable item\" *ngFor=\"let item of listaStock\" (click)=\"asignarStock(item)\" [ngClass]=\"{ 'asignado': item.asignado }\">\r\n                                      \r\n                    <td>{{ item.codigo_barras }}</td>\r\n                    <td>{{ item.marca.nombre }}</td>\r\n                    <td>{{ item.lote }}</td>\r\n                    <td>{{ item.fecha_caducidad | date:'dd/MM/y' }}</td>\r\n                    <td style=\"width:78px !important;\">{{ item.existencia }}</td>   \r\n                  </tr>  \r\n                  <tr *ngIf=\"claveNoSolicitada\">\r\n                    <td colspan=\"5\">La clave de este producto no fue solicitada en el pedido.</td>\r\n                  </tr> \r\n                  <tr *ngIf=\"listaStock == 0 && itemSeleccionado == null && !cargando && !claveNoSolicitada\">\r\n                    <td colspan=\"5\">Sin resultados.</td>\r\n                  </tr> \r\n                  <tr *ngIf=\"listaStock == 0 && itemSeleccionado != null && !cargando && !claveNoSolicitada\">\r\n                    <td colspan=\"5\">No hay stock.</td>\r\n                  </tr>                    \r\n              </tbody>  \r\n            </table>\r\n\r\n            <div class=\"is-fullwidth has-text-centered\" style=\"padding-top:0px;\" *ngIf=\"cargandoStock\">\r\n              <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando...</span></span>\r\n              <br>\r\n              <br>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div class=\"tile is-child  notification is-white\">\r\n          <div class=\"contenedor-tabla\">\r\n            <table class=\"table\" *ngIf=\"!cargando && itemSeleccionado != null\" style=\"font-size: 0.8em;\" >\r\n              <thead>\r\n                  <tr style=\"background: #00d1b2;\">\r\n                    <th style=\"color:#FFF !important;\">Código</th>\r\n                    <th style=\"color:#FFF !important;\">Marca</th>\r\n                    <th style=\"color:#FFF !important;\">Lote</th>\r\n                    <th style=\"color:#FFF !important;\">Caducidad</th>\r\n                    <th style=\"color:#FFF !important;\"><abbr title=\"Cantidad\">Cant.</abbr></th>  \r\n                    <th></th>              \r\n                  </tr>\r\n              </thead>\r\n              <tfoot>\r\n                <tr>\r\n                  <th colspan=\"4\" style=\"text-align:right\">\r\n                    <span *ngIf=\"itemSeleccionado.totalStockAsignado == itemSeleccionado.cantidad\"><span class=\"icon is-small\" ><i class=\"fa fa-check-circle\"></i></span> <span>Completo &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> Total </span>\r\n                  </th>\r\n                  <td style=\"text-align:center\">{{ itemSeleccionado.totalStockAsignado || 0 }} / {{ itemSeleccionado.cantidad }}</td>\r\n                </tr>\r\n              </tfoot>\r\n              <tbody>\r\n                  <tr  class=\"is-unselectable\" *ngFor=\"let item of itemSeleccionado.listaStockAsignado\">\r\n                                      \r\n                    <td>{{ item.codigo_barras}}</td>\r\n                    <td>{{ item.marca.nombre }}</td>\r\n                    <td>{{ item.lote }}</td>\r\n                    <td>{{ item.fecha_caducidad | date:'dd/MM/y' }}</td>\r\n                    <td style=\"width:78px !important;\">\r\n                        <p class=\"control is-expanded\">\r\n                        <input class=\"input is-small has-text-centered\"  type=\"number\" min=\"1\" max=\"{{item.existencia}}\" placeholder=\"Cant\" [(ngModel)]=\"item.cantidad\" (change)=\"validarItemStock(item, true)\" (keyup)=\"validarItemStock(item)\">\r\n                        </p>\r\n                    </td> \r\n                    <td style=\"vertical-align: middle;\" class=\"has-text-centered\"><a  class=\"is-danger\" (click)=\"eliminarStock(i)\"><span class=\"icon\"><i class=\"fa fa-trash-o\"></i></span></a></td>                    \r\n                  </tr>\r\n                  \r\n                      \r\n              </tbody>  \r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n  </div>\r\n</div>\r\n  \r\n\r\n\r\n<div class=\"notification is-danger\" style=\"position:fixed; left:1em;  bottom:1em;\" *ngIf=\"mensajeError.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeError.mostrar = false\"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style=\"text-align:center\" ><a  class=\"button is-danger is-inverted\" (click)=\"ultimaPeticion(); mensajeError.mostrar = false\"> <span class=\"icon\"><i class=\"fa fa-refresh\"></i></span> <span>Volver a intentar</span></a></p>        \r\n</div>\r\n\r\n<div class=\"notification is-success\" style=\"position:fixed; left:1em;  bottom:1em; width: auto\" *ngIf=\"mensajeExito.mostrar\">       \r\n    <button class=\"delete\" (click)=\"mensajeExito.mostrar = false\"></button>\r\n    <p><span class=\"icon\" style=\"margin-right: 0.5em;\"><i class=\"fa fa-check-circle\"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style=\"text-align: center;\"><small >Este mensaje desaparecerá en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n\r\n\r\n"

/***/ }),

/***/ "../../../../../src/app/farmacia/entregas/surtir/surtir.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_observable_of__ = __webpack_require__("../../../../rxjs/add/observable/of.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_observable_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_add_observable_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_observable_throw__ = __webpack_require__("../../../../rxjs/add/observable/throw.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_observable_throw___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_rxjs_add_observable_throw__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_debounceTime__ = __webpack_require__("../../../../rxjs/add/operator/debounceTime.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_debounceTime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_debounceTime__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_distinctUntilChanged__ = __webpack_require__("../../../../rxjs/add/operator/distinctUntilChanged.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_distinctUntilChanged___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_distinctUntilChanged__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_map__ = __webpack_require__("../../../../rxjs/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_map__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_switchMap__ = __webpack_require__("../../../../rxjs/add/operator/switchMap.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_switchMap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_switchMap__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_catch__ = __webpack_require__("../../../../rxjs/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_catch___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_catch__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__pedidos_pedidos_service__ = __webpack_require__("../../../../../src/app/farmacia/pedidos/pedidos.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__entregas_service__ = __webpack_require__("../../../../../src/app/farmacia/entregas/entregas.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__stock_stock_service__ = __webpack_require__("../../../../../src/app/farmacia/stock/stock.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__pedidos_pedido__ = __webpack_require__("../../../../../src/app/farmacia/pedidos/pedido.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__mensaje__ = __webpack_require__("../../../../../src/app/mensaje.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SurtirComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};















var SurtirComponent = (function () {
    function SurtirComponent(title, route, router, entregasService, pedidosService, stockService) {
        this.title = title;
        this.route = route;
        this.router = router;
        this.entregasService = entregasService;
        this.pedidosService = pedidosService;
        this.stockService = stockService;
        this.cargando = false;
        this.cargandoStock = false;
        // # SECCION: Esta sección es para mostrar mensajes
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */]();
        this.mensajeAdvertencia = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */]();
        this.lotesSurtidos = [];
        this.listaStock = [];
        this.claveInsumoSeleccionado = null;
        this.claveNoSolicitada = false;
        this.itemSeleccionado = null;
    }
    SurtirComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.title.setTitle('Surtir pedido / Farmacia');
        this.route.params.subscribe(function (params) {
            _this.id = params['id']; // Se puede agregar un simbolo + antes de la variable params para volverlo number
            //this.cargarDatos();
        });
        this.route.params.subscribe(function (params) {
            _this.id = params['id']; // Se puede agregar un simbolo + antes de la variable params para volverlo number      
        });
        this.cargando = true;
        this.pedidosService.ver(this.id).subscribe(function (pedido) {
            _this.cargando = false;
            _this.pedido = new __WEBPACK_IMPORTED_MODULE_13__pedidos_pedido__["a" /* Pedido */](true);
            _this.pedido.paginacion.resultadosPorPagina = 10;
            _this.pedido.filtro.paginacion.resultadosPorPagina = 10;
            for (var i in pedido.insumos) {
                var dato = pedido.insumos[i];
                var insumo = dato.insumos_con_descripcion;
                if (insumo != null) {
                    insumo.cantidad = +dato.cantidad_solicitada;
                    _this.pedido.lista.push(insumo);
                }
                else {
                    // OJO:
                    //¿Qué hacemos con las claves que no existan? y porque puedo agregar claves que no existen a un pedido
                    // No hay llave Foránea??
                }
            }
            pedido.insumos = undefined;
            _this.pedido.indexar();
            _this.pedido.listar(1);
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError.mostrar;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    SurtirComponent.prototype.seleccionarItem = function (item) {
        this.itemSeleccionado = item;
        this.buscarStockApi(null, item.clave);
    };
    SurtirComponent.prototype.buscar = function (e, input, inputAnterior, parametros) {
        var term = input.value;
        // Quitamos la busqueda
        if (e.keyCode == 27) {
            e.preventDefault();
            e.stopPropagation();
            input.value = "";
            inputAnterior.value = "";
            this.pedido.filtro.activo = false;
            this.pedido.filtro.lista = [];
            return;
        }
        //Verificamos que la busqueda no sea la misma que la anterior para no filtrar en vano
        if (inputAnterior.value == term) {
            return;
        }
        e.preventDefault();
        e.stopPropagation();
        inputAnterior.value = term;
        if (term != "") {
            this.pedido.filtro.activo = true;
        }
        else {
            this.pedido.filtro.activo = false;
            this.pedido.filtro.lista = [];
            return;
        }
        var arregloResultados = [];
        var _loop_1 = function (i) {
            var termino = parametros[i].input.value;
            if (termino == "") {
                return "continue";
            }
            var listaFiltrada = this_1.pedido.lista.filter(function (item) {
                var cadena = "";
                var campos = parametros[i].campos;
                for (var l in campos) {
                    try {
                        // Esto es por si escribieron algo como "objeto.propiedad" en lugar de: "propiedad"
                        var prop = campos[l].split(".");
                        if (prop.length > 1) {
                            cadena += " " + item[prop[0]][prop[1]].toLowerCase();
                        }
                        else {
                            cadena += " " + item[campos[l]].toLowerCase();
                        }
                    }
                    catch (e) { }
                }
                return cadena.includes(termino.toLowerCase());
            });
            arregloResultados.push(listaFiltrada);
        };
        var this_1 = this;
        for (var i in parametros) {
            _loop_1(i);
        }
        if (arregloResultados.length > 1) {
            // Ordenamos Ascendente
            arregloResultados = arregloResultados.sort(function (a, b) { return a.length - b.length; });
            var filtro = arregloResultados[0];
            var match = [];
            for (var k = 1; k < arregloResultados.length; k++) {
                for (var i in arregloResultados[k]) {
                    for (var j in filtro) {
                        if (arregloResultados[k][i] === filtro[j]) {
                            match.push(filtro[j]);
                        }
                    }
                }
                ;
            }
            this.pedido.filtro.lista = match;
        }
        else {
            this.pedido.filtro.lista = arregloResultados[0];
        }
        this.pedido.filtro.indexar(false);
        this.pedido.filtro.paginacion.paginaActual = 1;
        this.pedido.filtro.listar(1);
    };
    SurtirComponent.prototype.buscarStockApi = function (term, clave) {
        var _this = this;
        if (clave === void 0) { clave = null; }
        this.cargandoStock = true;
        this.stockService.buscar(term, clave).subscribe(function (resultado) {
            _this.cargandoStock = false;
            _this.claveNoSolicitada = false;
            _this.listaStock = resultado;
            if (resultado.length > 0) {
                _this.claveInsumoSeleccionado = resultado[0].clave_insumo_medico;
                var existeClaveEnPedido = false;
                for (var i = 0; i < _this.pedido.lista.length; i++) {
                    if (_this.pedido.lista[i].clave == _this.claveInsumoSeleccionado) {
                        // Calculamos la pagina
                        _this.pedido.filtro.activo = false;
                        var pag = Math.ceil((i + 1) / _this.pedido.paginacion.resultadosPorPagina);
                        _this.pedido.listar(pag);
                        _this.itemSeleccionado = _this.pedido.lista[i];
                        existeClaveEnPedido = true;
                    }
                }
                if (!existeClaveEnPedido) {
                    _this.claveNoSolicitada = true;
                    _this.listaStock = [];
                }
                else {
                    _this.verificarItemsAsignadosStockApi();
                }
            }
            else {
                if (_this.searchBoxStockViewChildren.first.nativeElement.value != "") {
                    _this.itemSeleccionado = null;
                }
            }
            console.log("Stock cargado.");
        }, function (error) {
            _this.cargandoStock = false;
            _this.mensajeError.mostrar = true;
            _this.ultimaPeticion = function () { };
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    SurtirComponent.prototype.surtir = function () {
        //alert("Preguntar quién recibe, observaciones, etc. Y si quiere imprimir de una vez.")
        var _this = this;
        var lista = [];
        for (var i in this.pedido.lista) {
            for (var j in this.pedido.lista[i].listaStockAsignado) {
                lista.push({
                    id: this.pedido.lista[i].listaStockAsignado[j].id,
                    cantidad: this.pedido.lista[i].listaStockAsignado[j].cantidad
                });
            }
        }
        var entrega = {
            pedido_id: this.id,
            entrega: "Juan pérez jolote",
            recibe: "John Salch",
            observaciones: "Esto es una observacion",
            lista: lista,
        };
        this.entregasService.surtir(entrega).subscribe(function (respuesta) {
            _this.cargando = false;
            _this.router.navigate(['/farmacia/entregas/ver/' + respuesta.id]);
        }, function (error) {
            _this.cargando = false;
            console.log(error);
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError.texto = 'No especificado';
            _this.mensajeError.mostrar = true;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
                // Problema de validación
                if (error.status == 409) {
                    _this.mensajeError.texto = "Por favor verfique los campos marcados en rojo.";
                    /*for (var input in e.error){
                      // Iteramos todos los errores
                      for (var i in e.error[input]){
    
                        if(input == 'id' && e.error[input][i] == 'unique'){
                          this.usuarioRepetido = true;
                        }
                        if(input == 'id' && e.error[input][i] == 'email'){
                          this.usuarioInvalido = true;
                        }
                      }
                    }*/
                }
            }
            catch (e) {
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    console.log(e);
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    SurtirComponent.prototype.buscarStock = function (e, input, term) {
        if (e.keyCode == 13) {
            e.preventDefault();
            e.stopPropagation();
            if (term == "") {
                return false;
            }
            this.buscarStockApi(term);
            input.select();
            return false;
        }
        return false;
    };
    SurtirComponent.prototype.limpiarStock = function () {
        this.listaStock = [];
        this.itemSeleccionado = null;
        this.searchBoxStockViewChildren.first.nativeElement.value = "";
    };
    SurtirComponent.prototype.eliminarStock = function (index) {
        this.itemSeleccionado.listaStockAsignado.splice(index, 1);
        this.calcularTotalStockItem();
        this.verificarItemsAsignadosStockApi();
    };
    SurtirComponent.prototype.asignarStock = function (item) {
        if (this.itemSeleccionado.listaStockAsignado == null) {
            this.itemSeleccionado.listaStockAsignado = [];
        }
        var acumulado = 0;
        for (var i in this.itemSeleccionado.listaStockAsignado) {
            if (item.id == this.itemSeleccionado.listaStockAsignado[i].id) {
                // No podemos asignar dos veces el mismo item
                return;
            }
            acumulado += this.itemSeleccionado.listaStockAsignado[i].cantidad;
        }
        if (acumulado < this.itemSeleccionado.cantidad) {
            var faltante = this.itemSeleccionado.cantidad - acumulado;
            if (item.existencia > faltante) {
                item.cantidad = faltante;
            }
            if (item.existencia <= faltante) {
                item.cantidad = item.existencia;
            }
            //this.itemSeleccionado.totalStockAsignado = acumulado + item.cantidad;
            this.itemSeleccionado.listaStockAsignado.push(item);
            this.calcularTotalStockItem();
            item.asignado = true;
        }
        else {
            //Ya no se puede asignar mas
        }
    };
    SurtirComponent.prototype.validarItemStock = function (item, setMaxVal) {
        if (setMaxVal === void 0) { setMaxVal = false; }
        if (item.cantidad == null) {
            if (setMaxVal) {
                this.asignarMaximoPosible(item);
            }
            this.calcularTotalStockItem();
            return;
        }
        var cantidad = parseInt(item.cantidad);
        if (isNaN(cantidad)) {
            this.asignarMaximoPosible(item);
            this.calcularTotalStockItem();
            return;
        }
        if (cantidad <= 0) {
            this.asignarMaximoPosible(item);
            this.calcularTotalStockItem();
            return;
        }
        if (cantidad > item.existencia) {
            item.cantidad = item.existencia;
        }
        if (!this.verificarTotalStockItem()) {
            this.asignarMaximoPosible(item);
        }
        this.calcularTotalStockItem();
    };
    SurtirComponent.prototype.asignarMaximoPosible = function (item) {
        var acumulado = 0;
        for (var i in this.itemSeleccionado.listaStockAsignado) {
            if (this.itemSeleccionado.listaStockAsignado[i] != item) {
                acumulado += this.itemSeleccionado.listaStockAsignado[i].cantidad;
            }
        }
        var faltante = this.itemSeleccionado.cantidad - acumulado;
        if (faltante >= item.existencia) {
            item.cantidad = item.existencia;
        }
        if (faltante < item.existencia) {
            item.cantidad = faltante;
        }
    };
    SurtirComponent.prototype.verificarItemsAsignadosStockApi = function () {
        for (var i in this.listaStock) {
            this.listaStock[i].asignado = false;
            for (var j in this.itemSeleccionado.listaStockAsignado) {
                if (this.itemSeleccionado.listaStockAsignado[j].id == this.listaStock[i].id) {
                    this.listaStock[i].asignado = true;
                    break;
                }
            }
        }
    };
    SurtirComponent.prototype.verificarTotalStockItem = function () {
        var acumulado = 0;
        for (var i in this.itemSeleccionado.listaStockAsignado) {
            acumulado += this.itemSeleccionado.listaStockAsignado[i].cantidad;
        }
        return this.itemSeleccionado.totalStockAsignado <= this.itemSeleccionado.cantidad;
    };
    SurtirComponent.prototype.calcularTotalStockItem = function () {
        var acumulado = 0;
        for (var i in this.itemSeleccionado.listaStockAsignado) {
            acumulado += this.itemSeleccionado.listaStockAsignado[i].cantidad;
        }
        if (acumulado == 0) {
            var indice = 0;
            for (var i in this.lotesSurtidos) {
                if (this.lotesSurtidos[i].clave == this.itemSeleccionado.clave) {
                    this.lotesSurtidos.splice(indice, 1);
                }
                indice++;
            }
        }
        else {
            var bandera = false;
            for (var i in this.lotesSurtidos) {
                if (this.lotesSurtidos[i].clave == this.itemSeleccionado.clave) {
                    bandera = true;
                    this.lotesSurtidos[i].cantidad = acumulado;
                }
            }
            if (!bandera) {
                this.lotesSurtidos.push({ clave: this.itemSeleccionado.clave, cantidad: acumulado });
            }
        }
        this.itemSeleccionado.totalStockAsignado = acumulado;
    };
    // # SECCION: Eventos del teclado
    SurtirComponent.prototype.keyboardInput = function (e) {
        if (e.keyCode == 32 && e.ctrlKey) {
            event.preventDefault();
            event.stopPropagation();
            this.searchBoxStockViewChildren.first.nativeElement.focus();
        }
    };
    return SurtirComponent;
}());
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChildren"])('searchBoxStock'),
    __metadata("design:type", Object)
], SurtirComponent.prototype, "searchBoxStockViewChildren", void 0);
SurtirComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-surtir',
        template: __webpack_require__("../../../../../src/app/farmacia/entregas/surtir/surtir.component.html"),
        styles: [__webpack_require__("../../../../../src/app/farmacia/entregas/surtir/surtir.component.css")],
        host: { '(window:keydown)': 'keyboardInput($event)' },
        providers: [__WEBPACK_IMPORTED_MODULE_12__stock_stock_service__["a" /* StockService */], __WEBPACK_IMPORTED_MODULE_11__entregas_service__["a" /* EntregasService */]]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* ActivatedRoute */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* ActivatedRoute */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* Router */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_11__entregas_service__["a" /* EntregasService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_11__entregas_service__["a" /* EntregasService */]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_10__pedidos_pedidos_service__["a" /* PedidosService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_10__pedidos_pedidos_service__["a" /* PedidosService */]) === "function" && _e || Object, typeof (_f = typeof __WEBPACK_IMPORTED_MODULE_12__stock_stock_service__["a" /* StockService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_12__stock_stock_service__["a" /* StockService */]) === "function" && _f || Object])
], SurtirComponent);

var _a, _b, _c, _d, _e, _f;
//# sourceMappingURL=C:/wamp/www/x3-C/src/surtir.component.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/entregas/ver/ver.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".item {\r\n    cursor: pointer;\r\n}\r\n.item.seleccionado {\r\n    background: #CCC;\r\n}\r\n.item.seleccionado .icon {\r\n    color:white !important;\r\n}\r\n.item.seleccionado .item-detalle {\r\n    display: inherit;\r\n}\r\n.item .item-detalle {\r\n    display: none;\r\n}\r\n\r\n.item.asignado {\r\n    background: #DDD;\r\n    color: #777;\r\n}\r\n\r\n\r\ntr.filtro td,\r\ntr.filtro th {\r\n    color:#FFF;\r\n    background: #4a4a4a !important;\r\n}\r\n\r\n.contenedor-tabla {\r\n    overflow: auto; width:100%; height:99% !important; display:block; position:absolute; left:0; top:0;\r\n}\r\n.contenedor-tabla table { border-radius: 3px; }\r\n@media screen and (max-width: 768px) {\r\n    .contenedor-tabla { position: relative; }\r\n\r\n    .tile.notification { padding:0px !important; }\r\n}", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/farmacia/entregas/ver/ver.component.html":
/***/ (function(module, exports) {

module.exports = "<menu-farmacia [modulo]=\"'Entregas'\" [icono]=\"'assets/icono-entregas.svg'\" [url]=\"'/almacen/entregas'\"></menu-farmacia>\r\n\r\n\r\n\r\n<div class=\"is-fullwidth has-text-centered\" style=\"padding-top:70px;\" *ngIf=\"cargando\">\r\n  <br>\r\n  <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando...</span></span>\r\n  <br>\r\n  <br>\r\n</div>\r\n\r\n<div style=\"position:relative; padding-top:70px; margin-left: 1.5%; display:block; width:97%; height:100% !important;\" *ngIf=\"pedido\">    \r\n  <div class=\"tile is-ancestor is-vertical\" style=\"height:100% !important; max-height:100% !important;\">\r\n    <div class=\"tile is-parent is-12 \">\r\n      <div class=\"tile is-child notification is-dark\">\r\n        \r\n        <div class=\"columns\">\r\n          <div class=\"column\" >\r\n            <div style=\"padding:1em;\">Pedido no. <strong style=\"color:#FFF;\">{{ id }}</strong> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Lotes: {{ lotesSurtidos.length  }} / {{ pedido.lista.length }}</div>\r\n          </div>\r\n          <div class=\"column is-4\" style=\"text-align:center; \">\r\n            <div style=\"margin:1em;\">\r\n            <a  class=\"button is-primary\" style=\"width:45%; margin-right:5%;\" (click)=\"imprimir()\"> <span class=\"icon\"><i class=\"fa fa-print\"></i></span> <span>Imprimir</span></a>\r\n            <a  class=\"button is-white\"  style=\"width:45%\"  routerLink=\"/almacen/entregas/\"> Regresar</a>\r\n            </div>\r\n          </div>\r\n        </div>       \r\n      </div>\r\n    </div>\r\n    <div class=\"tile\">\r\n      <div class=\"tile is-parent \">\r\n        <div class=\"tile is-child notification is-white\" >\r\n          <div class=\"contenedor-tabla\" >\r\n                      \r\n            <table class=\"table is-unselectable\" *ngIf=\"!cargando\" style=\"font-size: 0.8em; \">\r\n              <thead>\r\n                  <tr  [ngClass]=\"{ 'filtro': pedido.filtro.activo}\">\r\n                    <th style=\"width:41px;vertical-align: middle;\" class=\"has-text-centered\" >Lote</th>\r\n                    <th>\r\n                      <p class=\"control is-expanded\">\r\n                        <input type=\"hidden\" #searchBoxDescripcionClavePrevia >\r\n                        <input class=\"input is-small\" type=\"text\" placeholder=\"Clave o Genérico\" #searchBoxDescripcionClave id=\"search-box-descripcion-clave-{{indexPedido}}\" (keyup)=\"buscar($event,searchBoxDescripcionClave,searchBoxDescripcionClavePrevia,[{ input: searchBoxDescripcionClave, campos: ['clave','generico_nombre','informacion.concentracion','informacion.presentacion']}])\">\r\n                      </p>\r\n                    </th>  \r\n                    \r\n                    <th style=\"width:78px !important;text-align: center; vertical-align: middle;\"><abbr title=\"Cantidad\">Cant.</abbr></th>\r\n                    <th style=\"width:78px !important;text-align: center; vertical-align: middle;\"><abbr title=\"Surtido\">Surt.</abbr></th>\r\n                    <th  style=\"width:21px !important; text-align: center; vertical-align: middle;\">Surtido</th>\r\n                  </tr>\r\n              </thead>\r\n              <tbody *ngIf=\"!pedido.filtro.activo\">\r\n\r\n                <tr class=\"item\" *ngFor=\"let item of pedido.paginacion.lista; let i = index;\" (click)=\"seleccionarItem(item)\" [ngClass]=\"{ 'seleccionado': item == itemSeleccionado}\">\r\n                  <td class=\"has-text-centered\">{{ item.lote }}</td>\r\n                  <td >\r\n                    <small >{{ item.clave }} <br></small>\r\n                    <b>{{ item.generico_nombre }}</b> <small *ngIf=\"(item.tipo == 'ME' && item.informacion)\"><b>{{ item.informacion.concentracion }}</b></small><br>\r\n                    <div class=\"item-detalle\">\r\n                      <div   *ngIf=\"(item.tipo == 'ME' && item.informacion)\" style=\"line-height:1em;\">\r\n                        <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                        <small><i>{{ item.informacion.contenido }} </i></small>\r\n                      </div>\r\n                      <div   *ngIf=\"item.tipo != 'ME'\" style=\"line-height:1em;\">\r\n                        <small>{{ item.descripcion }}</small>\r\n                      </div>\r\n                    \r\n                      <div  style=\"padding: 0.5em 0 0.5em 0; \">\r\n                        <span *ngIf=\"item.es_causes\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">CAUSES</span>\r\n                        <span *ngIf=\"!item.es_causes\" class=\"tag is-danger\" style=\"font-size: 0.7em !important;\">NO CAUSES</span>\r\n                        <span *ngIf=\"item.es_cuadro_basico\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">Cuadro básico</span>\r\n                        \r\n                        <span *ngIf=\"(item.tipo == 'ME' && item.informacion)\">\r\n                          <span *ngIf=\"item.informacion.es_controlado\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Controlado</span>\r\n                          <span *ngIf=\"item.informacion.es_surfactante\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Surfactante</span>  \r\n                        </span>\r\n                        \r\n                      </div>\r\n                    </div>\r\n                  </td> \r\n                  <td style=\"width:78px !important; text-align:center;\">{{ item.cantidad }}</td>     \r\n                  <th style=\"width:78px !important; text-align:center;\">{{ item.totalStockAsignado || 0 }}</th>                                  \r\n                  <td style=\"width:21px !important; text-align:center;\">\r\n                    <span class=\"icon\" style=\"color:gray;\" *ngIf=\"item.totalStockAsignado == 0 || item.totalStockAsignado == null\"><i class=\"fa fa-circle-thin\"></i></span>\r\n                    <span class=\"icon\" style=\"color:orange;\" *ngIf=\"item.totalStockAsignado > 0 && item.totalStockAsignado < item.cantidad\"><i class=\"fa fa-minus-circle\"></i></span>\r\n                    <span class=\"icon\" style=\"color:green;\" *ngIf=\"item.totalStockAsignado == item.cantidad\"><i class=\"fa fa-check-circle\"></i></span>\r\n                  </td>\r\n                </tr>      \r\n              </tbody>\r\n              <tbody *ngIf=\"pedido.filtro.activo\">\r\n                <tr class=\"item\"  *ngFor=\"let item of pedido.filtro.paginacion.lista; let i = index;\" (click)=\"seleccionarItem(item)\" [ngClass]=\"{ 'seleccionado': item == itemSeleccionado}\">\r\n                  <td class=\"has-text-centered\">{{ item.lote }}</td>\r\n                  <td >\r\n                    <small >{{ item.clave }} <br></small>\r\n                    <b>{{ item.generico_nombre }}</b> <small *ngIf=\"(item.tipo == 'ME' && item.informacion)\"><b>{{ item.informacion.concentracion }}</b></small><br>\r\n                    <div class=\"item-detalle\">\r\n                      <div   *ngIf=\"(item.tipo == 'ME' && item.informacion)\" style=\"line-height:1em;\">\r\n                        <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                        <small><i>{{ item.informacion.contenido }} </i></small>\r\n                      </div>\r\n                      <div   *ngIf=\"item.tipo != 'ME'\" style=\"line-height:1em;\">\r\n                        <small>{{ item.descripcion }}</small>\r\n                      </div>\r\n                    \r\n                      <div  style=\"padding: 0.5em 0 0.5em 0; \">\r\n                        <span *ngIf=\"item.es_causes\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">CAUSES</span>\r\n                        <span *ngIf=\"!item.es_causes\" class=\"tag is-danger\" style=\"font-size: 0.7em !important;\">NO CAUSES</span>\r\n                        <span *ngIf=\"item.es_cuadro_basico\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">Cuadro básico</span>\r\n                        \r\n                        <span *ngIf=\"(item.tipo == 'ME' && item.informacion)\">\r\n                          <span *ngIf=\"item.informacion.es_controlado\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Controlado</span>\r\n                          <span *ngIf=\"item.informacion.es_surfactante\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Surfactante</span>  \r\n                        </span>\r\n                        \r\n                      </div>\r\n                    </div>\r\n                  </td> \r\n                  <td style=\"width:78px !important; text-align:center;\">{{ item.cantidad }}</td>     \r\n                  <th style=\"width:78px !important; text-align:center;\">0</th>                                  \r\n                  <td style=\"width:21px !important; text-align:center; color: gray\"><span class=\"icon\"><i class=\"fa fa-minus-circle\"></i></span></td>\r\n                </tr>   \r\n              </tbody>              \r\n            </table>\r\n            <paginacion style=\" width:100%; height:auto; bottom:0; left:0px; background:#FFF;\"\r\n                [total]=\"pedido.lista.length\" \r\n                [paginasTotales]=\"pedido.paginacion.totalPaginas\" \r\n                [resultadosPorPagina]=\"pedido.paginacion.resultadosPorPagina\" \r\n                [paginaActual]=\"pedido.paginacion.paginaActual\" \r\n                [indicePaginas]=\"pedido.paginacion.indice\"\r\n                (onSiguiente)=\"pedido.paginaSiguiente(); limpiarStock();\" \r\n                (onAnterior)=\"pedido.paginaAnterior(); limpiarStock();\" \r\n                (onListar)=\"pedido.listar($event);limpiarStock();\" \r\n                *ngIf=\"pedido.lista.length > 0 && pedido.lista.length > pedido.paginacion.resultadosPorPagina && !pedido.filtro.activo\"></paginacion>\r\n\r\n            <paginacion \r\n                [total]=\"pedido.filtro.lista.length\" \r\n                [paginasTotales]=\"pedido.filtro.paginacion.totalPaginas\" \r\n                [resultadosPorPagina]=\"pedido.filtro.paginacion.resultadosPorPagina\" \r\n                [paginaActual]=\"pedido.filtro.paginacion.paginaActual\" \r\n                [indicePaginas]=\"pedido.filtro.paginacion.indice\"\r\n                (onSiguiente)=\"pedido.filtro.paginaSiguiente(); limpiarStock();\" \r\n                (onAnterior)=\"pedido.filtro.paginaAnterior();  limpiarStock();\" \r\n                (onListar)=\"pedido.filtro.listar($event); limpiarStock();\" \r\n                *ngIf=\"pedido.filtro.lista.length > 0 && pedido.filtro.lista.length > pedido.filtro.paginacion.resultadosPorPagina && pedido.filtro.activo\"></paginacion>\r\n\r\n\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n      <div class=\"tile is-parent  \">\r\n        <div class=\"tile is-child  notification is-white\">\r\n          <div class=\"contenedor-tabla\">\r\n            <table class=\"table\" *ngIf=\"!cargando && itemSeleccionado != null\" style=\"font-size: 0.8em;\" >\r\n              <thead>\r\n                  <tr style=\"background: #00d1b2;\">\r\n                    <th style=\"color:#FFF !important;\">Código</th>\r\n                    <th style=\"color:#FFF !important;\">Marca</th>\r\n                    <th style=\"color:#FFF !important;\">Lote</th>\r\n                    <th style=\"color:#FFF !important;\">Caducidad</th>\r\n                    <th style=\"color:#FFF !important;\"><abbr title=\"Cantidad\">Cant.</abbr></th>  \r\n                    <th></th>              \r\n                  </tr>\r\n              </thead>\r\n              <tfoot *ngIf=\"itemSeleccionado.totalStockAsignado>0\">\r\n                <tr>\r\n                  <th colspan=\"4\" style=\"text-align:right\">\r\n                    <span *ngIf=\"itemSeleccionado.totalStockAsignado == itemSeleccionado.cantidad\"><span class=\"icon is-small\" ><i class=\"fa fa-check-circle\"></i></span> <span>Completo &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span> Total \r\n                  </th>\r\n                  <td style=\"text-align:center\">{{ itemSeleccionado.totalStockAsignado || 0 }} / {{ itemSeleccionado.cantidad }}</td>\r\n                </tr>\r\n              </tfoot>\r\n              <tbody>\r\n                  <tr  class=\"is-unselectable\" *ngFor=\"let item of itemSeleccionado.listaStockAsignado\">\r\n                                      \r\n                    <td>{{ item.codigo_barras}}</td>\r\n                    <td>{{ item.marca.nombre }}</td>\r\n                    <td>{{ item.lote }}</td>\r\n                    <td>{{ item.fecha_caducidad | date:'dd/MM/y' }}</td>\r\n                    <td>{{ item.cantidad }}</td>\r\n                    \r\n                  </tr>\r\n                  <tr *ngIf=\"itemSeleccionado.totalStockAsignado==0\">\r\n                    <td colspan=\"5\">No se entregó este insumo</td>\r\n                  </tr>\r\n                  \r\n                      \r\n              </tbody>  \r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n  </div>\r\n</div>\r\n  \r\n\r\n\r\n<div class=\"notification is-danger\" style=\"position:fixed; left:1em;  bottom:1em;\" *ngIf=\"mensajeError.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeError.mostrar = false\"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style=\"text-align:center\" ><a  class=\"button is-danger is-inverted\" (click)=\"ultimaPeticion(); mensajeError.mostrar = false\"> <span class=\"icon\"><i class=\"fa fa-refresh\"></i></span> <span>Volver a intentar</span></a></p>        \r\n</div>\r\n\r\n<div class=\"notification is-success\" style=\"position:fixed; left:1em;  bottom:1em; width: auto\" *ngIf=\"mensajeExito.mostrar\">       \r\n    <button class=\"delete\" (click)=\"mensajeExito.mostrar = false\"></button>\r\n    <p><span class=\"icon\" style=\"margin-right: 0.5em;\"><i class=\"fa fa-check-circle\"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style=\"text-align: center;\"><small >Este mensaje desaparecerá en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n\r\n\r\n"

/***/ }),

/***/ "../../../../../src/app/farmacia/entregas/ver/ver.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_observable_of__ = __webpack_require__("../../../../rxjs/add/observable/of.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_add_observable_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_add_observable_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_observable_throw__ = __webpack_require__("../../../../rxjs/add/observable/throw.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_observable_throw___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_rxjs_add_observable_throw__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_debounceTime__ = __webpack_require__("../../../../rxjs/add/operator/debounceTime.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_debounceTime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_rxjs_add_operator_debounceTime__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_distinctUntilChanged__ = __webpack_require__("../../../../rxjs/add/operator/distinctUntilChanged.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_distinctUntilChanged___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_distinctUntilChanged__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_map__ = __webpack_require__("../../../../rxjs/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_map__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_switchMap__ = __webpack_require__("../../../../rxjs/add/operator/switchMap.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_switchMap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_switchMap__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_catch__ = __webpack_require__("../../../../rxjs/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_catch___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_catch__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__pedidos_pedidos_service__ = __webpack_require__("../../../../../src/app/farmacia/pedidos/pedidos.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__entregas_service__ = __webpack_require__("../../../../../src/app/farmacia/entregas/entregas.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__stock_stock_service__ = __webpack_require__("../../../../../src/app/farmacia/stock/stock.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__pedidos_pedido__ = __webpack_require__("../../../../../src/app/farmacia/pedidos/pedido.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__mensaje__ = __webpack_require__("../../../../../src/app/mensaje.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return VerComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};















var VerComponent = (function () {
    function VerComponent(title, route, router, entregasService, pedidosService, stockService) {
        this.title = title;
        this.route = route;
        this.router = router;
        this.entregasService = entregasService;
        this.pedidosService = pedidosService;
        this.stockService = stockService;
        this.cargando = false;
        this.cargandoStock = false;
        // # SECCION: Esta sección es para mostrar mensajes
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */]();
        this.mensajeAdvertencia = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */]();
        this.lotesSurtidos = [];
        this.listaStock = [];
        this.claveInsumoSeleccionado = null;
        this.claveNoSolicitada = false;
        this.itemSeleccionado = null;
    }
    VerComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.title.setTitle('Ver entrega / Farmacia');
        this.route.params.subscribe(function (params) {
            _this.id = params['id']; // Se puede agregar un simbolo + antes de la variable params para volverlo number
            //this.cargarDatos();
        });
        this.route.params.subscribe(function (params) {
            _this.id = params['id']; // Se puede agregar un simbolo + antes de la variable params para volverlo number      
        });
        this.cargando = true;
        this.entregasService.ver(this.id).subscribe(function (entrega) {
            _this.cargando = false;
            _this.pedido = new __WEBPACK_IMPORTED_MODULE_13__pedidos_pedido__["a" /* Pedido */](true);
            _this.pedido.paginacion.resultadosPorPagina = 10;
            _this.pedido.filtro.paginacion.resultadosPorPagina = 10;
            console.log(entrega);
            for (var i in entrega.movimiento_pedido.pedido.insumos) {
                var dato = entrega.movimiento_pedido.pedido.insumos[i];
                var insumo = dato.insumos_con_descripcion;
                if (insumo.listaStockAsignado == null) {
                    insumo.listaStockAsignado = [];
                }
                if (insumo != null) {
                    insumo.cantidad = +dato.cantidad_solicitada;
                    var cantidad = 0;
                    for (var j in entrega.movimiento_insumos) {
                        if (entrega.movimiento_insumos[j].stock.clave_insumo_medico == insumo.clave) {
                            insumo.listaStockAsignado.push({
                                codigo_barras: entrega.movimiento_insumos[j].stock.codigo_barras,
                                marca: entrega.movimiento_insumos[j].stock.marca,
                                lote: entrega.movimiento_insumos[j].stock.lote,
                                fecha_caducidad: entrega.movimiento_insumos[j].stock.fecha_caducidad,
                                cantidad: Math.abs(entrega.movimiento_insumos[j].cantidad)
                            });
                            cantidad += Math.abs(entrega.movimiento_insumos[j].cantidad);
                        }
                    }
                    insumo.totalStockAsignado = cantidad;
                    _this.pedido.lista.push(insumo);
                }
            }
            console.log(_this.pedido.lista);
            _this.pedido.indexar();
            _this.pedido.listar(1);
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError.mostrar;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    VerComponent.prototype.seleccionarItem = function (item) {
        this.itemSeleccionado = item;
        //this.claveInsumoSeleccionado = item.clave_insumo_medico;
        //this.buscarStockApi(null,item.clave)
    };
    VerComponent.prototype.buscar = function (e, input, inputAnterior, parametros) {
        var term = input.value;
        // Quitamos la busqueda
        if (e.keyCode == 27) {
            e.preventDefault();
            e.stopPropagation();
            input.value = "";
            inputAnterior.value = "";
            this.pedido.filtro.activo = false;
            this.pedido.filtro.lista = [];
            return;
        }
        //Verificamos que la busqueda no sea la misma que la anterior para no filtrar en vano
        if (inputAnterior.value == term) {
            return;
        }
        e.preventDefault();
        e.stopPropagation();
        inputAnterior.value = term;
        if (term != "") {
            this.pedido.filtro.activo = true;
        }
        else {
            this.pedido.filtro.activo = false;
            this.pedido.filtro.lista = [];
            return;
        }
        var arregloResultados = [];
        var _loop_1 = function (i) {
            var termino = parametros[i].input.value;
            if (termino == "") {
                return "continue";
            }
            var listaFiltrada = this_1.pedido.lista.filter(function (item) {
                var cadena = "";
                var campos = parametros[i].campos;
                for (var l in campos) {
                    try {
                        // Esto es por si escribieron algo como "objeto.propiedad" en lugar de: "propiedad"
                        var prop = campos[l].split(".");
                        if (prop.length > 1) {
                            cadena += " " + item[prop[0]][prop[1]].toLowerCase();
                        }
                        else {
                            cadena += " " + item[campos[l]].toLowerCase();
                        }
                    }
                    catch (e) { }
                }
                return cadena.includes(termino.toLowerCase());
            });
            arregloResultados.push(listaFiltrada);
        };
        var this_1 = this;
        for (var i in parametros) {
            _loop_1(i);
        }
        if (arregloResultados.length > 1) {
            // Ordenamos Ascendente
            arregloResultados = arregloResultados.sort(function (a, b) { return a.length - b.length; });
            var filtro = arregloResultados[0];
            var match = [];
            for (var k = 1; k < arregloResultados.length; k++) {
                for (var i in arregloResultados[k]) {
                    for (var j in filtro) {
                        if (arregloResultados[k][i] === filtro[j]) {
                            match.push(filtro[j]);
                        }
                    }
                }
                ;
            }
            this.pedido.filtro.lista = match;
        }
        else {
            this.pedido.filtro.lista = arregloResultados[0];
        }
        this.pedido.filtro.indexar(false);
        this.pedido.filtro.paginacion.paginaActual = 1;
        this.pedido.filtro.listar(1);
    };
    return VerComponent;
}());
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChildren"])('searchBoxStock'),
    __metadata("design:type", Object)
], VerComponent.prototype, "searchBoxStockViewChildren", void 0);
VerComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-ver',
        template: __webpack_require__("../../../../../src/app/farmacia/entregas/ver/ver.component.html"),
        styles: [__webpack_require__("../../../../../src/app/farmacia/entregas/ver/ver.component.css")],
        providers: [__WEBPACK_IMPORTED_MODULE_12__stock_stock_service__["a" /* StockService */], __WEBPACK_IMPORTED_MODULE_11__entregas_service__["a" /* EntregasService */]]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* ActivatedRoute */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* ActivatedRoute */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* Router */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_11__entregas_service__["a" /* EntregasService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_11__entregas_service__["a" /* EntregasService */]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_10__pedidos_pedidos_service__["a" /* PedidosService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_10__pedidos_pedidos_service__["a" /* PedidosService */]) === "function" && _e || Object, typeof (_f = typeof __WEBPACK_IMPORTED_MODULE_12__stock_stock_service__["a" /* StockService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_12__stock_stock_service__["a" /* StockService */]) === "function" && _f || Object])
], VerComponent);

var _a, _b, _c, _d, _e, _f;
//# sourceMappingURL=C:/wamp/www/x3-C/src/ver.component.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/index-farmacia/index-farmacia-routing.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__index_farmacia_component__ = __webpack_require__("../../../../../src/app/farmacia/index-farmacia/index-farmacia.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__auth_guard_service__ = __webpack_require__("../../../../../src/app/auth-guard.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return IndexFarmaciaRoutingModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




var routes = [
    {
        path: 'almacen',
        component: __WEBPACK_IMPORTED_MODULE_2__index_farmacia_component__["a" /* IndexFarmaciaComponent */],
        canActivate: [__WEBPACK_IMPORTED_MODULE_3__auth_guard_service__["a" /* AuthGuard */]]
    }
];
var IndexFarmaciaRoutingModule = (function () {
    function IndexFarmaciaRoutingModule() {
    }
    return IndexFarmaciaRoutingModule;
}());
IndexFarmaciaRoutingModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */].forChild(routes)],
        exports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */]],
        providers: []
    })
], IndexFarmaciaRoutingModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/index-farmacia-routing.module.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/index-farmacia/index-farmacia.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".item{ width: 100%; text-align: center; display:block; font-size: 0.8em; }", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/farmacia/index-farmacia/index-farmacia.component.html":
/***/ (function(module, exports) {

module.exports = "<menu-farmacia></menu-farmacia>\r\n\r\n<div style=\"height:50px;\"></div>\r\n<section style=\"padding: 1em;\">\r\n  <div class=\"control is-grouped\">\r\n    <p class=\"control is-expanded\">\r\n        <input class=\"input is-medium\" type=\"text\" placeholder=\"Buscar\" [(ngModel)] = \"busqueda\" id=\"search-box\">\r\n    </p>\r\n    <p class=\"control\">\r\n        <a class=\"button is-medium is-primary is-inverted\" [ngClass]=\"{ 'is-disabled': busqueda==''}\" (click)=\"busqueda=''\">\r\n        <span class=\"icon\"><i class=\"fa fa-close\"></i></span>\r\n        </a>\r\n    </p>\r\n  </div>\r\n\r\n</section>\r\n<section style=\"padding: 1em;\">\r\n    <section class=\"contenedor columns is-multiline is-mobile\">\r\n        <div class=\"column is-1-desktop is-2-tablet is-3-mobile\" *ngFor=\"let item of accesosDirectosAutorizados | buscarModulo: busqueda\">\r\n            <a href=\"#\" title=\"{{ item.titulo}}\" class=\"item\" routerLink=\"{{item.url}}\"  routerLinkActive=\"active\">\r\n                <figure class=\"image \" style=\"height: auto; width: 100%; \">\r\n                    <img src=\"{{ item.icono }}\" alt=\"{{item.titulo}}\">                            \r\n                </figure>\r\n                <span class=\"is-hidden-mobile\">{{ item.titulo}}</span>\r\n                <span class=\"is-hidden-tablet is-hidden-desktop\"><small>{{ item.titulo}}</small></span>\r\n            </a>\r\n        </div>\r\n    </section>\r\n    <hr>\r\n    <section class=\"contenedor columns is-multiline is-mobile\">\r\n        <div class=\"column is-1-desktop is-2-tablet is-3-mobile\" *ngFor=\"let item of modulosAutorizados | buscarModulo: busqueda\">\r\n            <a href=\"#\" title=\"{{ item.titulo}}\" style=\"position: relative;\" class=\"item\" routerLink=\"{{item.url}}\" routerLinkActive=\"active\">\r\n                \r\n                <figure class=\"image \" style=\"height: auto; width: 100%; \">\r\n                    <img src=\"{{ item.icono }}\" alt=\"{{item.titulo}}\">                            \r\n                </figure>\r\n                <span class=\"is-hidden-mobile\">{{ item.titulo}}</span>\r\n                <span class=\"is-hidden-tablet is-hidden-desktop\"><small>{{ item.titulo}}</small></span>\r\n                <span *ngIf=\"item.badge>0\" class=\"tag is-danger\" style=\"position:absolute; top:0px; right:0px;\">{{ item.badge }}</span>\r\n            </a>\r\n        </div>\r\n    </section>\r\n</section>\r\n\r\n"

/***/ }),

/***/ "../../../../../src/app/farmacia/index-farmacia/index-farmacia.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return IndexFarmaciaComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var IndexFarmaciaComponent = (function () {
    function IndexFarmaciaComponent(title) {
        this.title = title;
        this.usuario = {};
        this.busqueda = "";
        this.modulos = [];
        this.modulosAutorizados = [];
        this.accesosDirectos = [];
        this.accesosDirectosAutorizados = [];
    }
    IndexFarmaciaComponent.prototype.ngOnInit = function () {
        this.title.setTitle("Farmacia");
        this.usuario = JSON.parse(localStorage.getItem("usuario"));
        this.modulos = [
            { permiso: 'z9MQHY1YAIlYWsPLPF9OZYN94HKjOuDk', icono: 'assets/icono-pagina-lista.svg', titulo: "Pedidos", url: "/almacen/pedidos" },
            { permiso: 'iSxK0TpoYpnzf8KIQTWOq9Web7WnSKhz', icono: 'assets/icono-pedidos-alt.svg', titulo: "Entregas de pedidos", url: "/almacen/entregas" },
            //{ permiso: '2nC6GUf6E737QwZSxuLORT6rZUDy5YUO', icono: 'assets/icono-recetas.svg', titulo:"Recetas", url:"/almacen/salidas-recetas" },
            { permiso: 'ZNrN0e8cQL8cIAcXHJfczGpFEC2Ap9QA', icono: 'assets/icono-salidas.svg', titulo: "Salida estandar", url: "/almacen/salidas-estandar" },
            { permiso: 'hAeTBeuyxHcAi2OerU7NsVpTA5isktJ7', icono: 'assets/icono-entradas.svg', titulo: "Entrada estandar", url: "/almacen/entradas-estandar" },
            //{ permiso: '', icono: 'assets/icono-salidas.svg', titulo:"Salidas", url:"/farmacia/salidas" },
            //{ permiso: '', icono: 'assets/hub-almacen.svg', titulo:"Inventario", url:"/farmacia/inventario" },
            //{ permiso: '', icono: 'assets/icono-ajustes-inventario.svg', titulo:"Ajustes de inventario", url:"/farmacia/inventario/ajustes" },
            //{ permiso: '', icono: 'assets/icono-recetas.svg', titulo:"Recetas", url:"/farmacia/recetas" },
            //{ permiso: '', icono: 'assets/icono-colectivo.svg', titulo:"Colectivos", url:"/farmacia/colectivos" },
            //{ permiso: '', icono: 'assets/icono-camion.svg', titulo:"Reabastecimiento", url:"/farmacia/pedidos-reabastecimiento" },
            //{ permiso: '', icono: 'assets/icono-pagina-lista.svg', titulo:"Actas por desabasto", url:"/farmacia/actas" },
            //{ permiso: '', icono: 'assets/icono-pagina-lista.svg', titulo:"Actas colectivas por desabasto", url:"/farmacia/actas-colectivas" },
            { permiso: 'r1RX6Yq7fc4CRRI2OJXIPxeBLW3lFP59', icono: 'assets/icono-claves-basicas.svg', titulo: "Claves básicas", url: "/almacen/claves-basicas" },
        ];
        this.accesosDirectos = [
            { permiso: '2nC6GUf6E737QwZSxuLORT6rZUDy5YUO', icono: 'assets/icono-pagina-lista.svg', titulo: "Nuevo pedido", url: "/almacen/pedidos/nuevo" },
            { permiso: 'q9ppCvhWdeCJI85YtCrKvtHLaoPipeaT', icono: 'assets/icono-pedidos-alt.svg', titulo: "Recibir pedido", url: "/almacen/pedidos/por-surtir" },
        ];
        var usuario = JSON.parse(localStorage.getItem("usuario"));
        var permisos = usuario.permisos.split("|");
        if (permisos.length > 0) {
            for (var i in this.modulos) {
                siguienteItemProtegido: for (var j in permisos) {
                    if (permisos[j] == this.modulos[i].permiso) {
                        this.modulosAutorizados.push(this.modulos[i]);
                        break siguienteItemProtegido;
                    }
                }
            }
            for (var i in this.accesosDirectos) {
                siguienteItemProtegido: for (var j in permisos) {
                    if (permisos[j] == this.accesosDirectos[i].permiso) {
                        this.accesosDirectosAutorizados.push(this.accesosDirectos[i]);
                        break siguienteItemProtegido;
                    }
                }
            }
        }
    };
    return IndexFarmaciaComponent;
}());
IndexFarmaciaComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-index-farmacia',
        template: __webpack_require__("../../../../../src/app/farmacia/index-farmacia/index-farmacia.component.html"),
        styles: [__webpack_require__("../../../../../src/app/farmacia/index-farmacia/index-farmacia.component.css")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */]) === "function" && _a || Object])
], IndexFarmaciaComponent);

var _a;
//# sourceMappingURL=C:/wamp/www/x3-C/src/index-farmacia.component.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/index-farmacia/index-farmacia.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__index_farmacia_routing_module__ = __webpack_require__("../../../../../src/app/farmacia/index-farmacia/index-farmacia-routing.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__hub_hub_module__ = __webpack_require__("../../../../../src/app/hub/hub.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__perfil_perfil_module__ = __webpack_require__("../../../../../src/app/perfil/perfil.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__bloquear_pantalla_bloquear_pantalla_module__ = __webpack_require__("../../../../../src/app/bloquear-pantalla/bloquear-pantalla.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__pipes_pipes_module__ = __webpack_require__("../../../../../src/app/pipes/pipes.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__index_farmacia_component__ = __webpack_require__("../../../../../src/app/farmacia/index-farmacia/index-farmacia.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__menu_farmacia_component__ = __webpack_require__("../../../../../src/app/farmacia/index-farmacia/menu-farmacia.component.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return IndexFarmaciaModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};










var IndexFarmaciaModule = (function () {
    function IndexFarmaciaModule() {
    }
    return IndexFarmaciaModule;
}());
IndexFarmaciaModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [
            __WEBPACK_IMPORTED_MODULE_1__angular_common__["CommonModule"],
            __WEBPACK_IMPORTED_MODULE_2__angular_forms__["FormsModule"],
            __WEBPACK_IMPORTED_MODULE_3__index_farmacia_routing_module__["a" /* IndexFarmaciaRoutingModule */],
            __WEBPACK_IMPORTED_MODULE_4__hub_hub_module__["a" /* HubModule */],
            __WEBPACK_IMPORTED_MODULE_5__perfil_perfil_module__["a" /* PerfilModule */],
            __WEBPACK_IMPORTED_MODULE_6__bloquear_pantalla_bloquear_pantalla_module__["a" /* BloquearPantallaModule */],
            __WEBPACK_IMPORTED_MODULE_7__pipes_pipes_module__["a" /* PipesModule */],
        ],
        exports: [
            __WEBPACK_IMPORTED_MODULE_9__menu_farmacia_component__["a" /* MenuFarmaciaComponent */]
        ],
        declarations: [__WEBPACK_IMPORTED_MODULE_8__index_farmacia_component__["a" /* IndexFarmaciaComponent */], __WEBPACK_IMPORTED_MODULE_9__menu_farmacia_component__["a" /* MenuFarmaciaComponent */]]
    })
], IndexFarmaciaModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/index-farmacia.module.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/index-farmacia/menu-farmacia.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".top-nav { position: fixed; width: 100%;top:0px; z-index:99; background: #00d1b2; }\r\n\r\n\r\nnav {\r\n    background-color:#00d1b2;\r\n    color: #FFF !important;\r\n}\r\na.nav-hub-active { background:rgba(0,0,0,0.05);}\r\na.nav-hub-active:hover { background:rgba(0,0,0,0.1);}\r\nnav a { color: #FFF ; color: rgba(255,255,255,0.9)  !important;}\r\nnav a:hover { color: #FFF !important;}\r\nnav .title  { color:#FFF;}\r\nnav a .title { color:#FFF; color: rgba(255,255,255,0.9)  !important;}\r\n\r\nnav a:hover .title { color:#FFF !important; }", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/farmacia/index-farmacia/menu-farmacia.component.html":
/***/ (function(module, exports) {

module.exports = "<section  class=\"top-nav\">\r\n            \r\n    <nav class=\"nav\">\r\n        <a title=\"Almacen\" class=\"nav-item pull-left nav-hub-active\"  routerLink=\"/almacen\">\r\n            \r\n            <img src=\"assets/hub-farmacia.svg\" alt=\"icono\">\r\n        \r\n        </a>\r\n        <div class=\"nav-left\">\r\n            \r\n            <span *ngIf=\"!modulo\" class=\"nav-item\" >\r\n                <h1 class=\"title\">&nbsp;Almacén</h1>\r\n            </span>\r\n            <a *ngIf=\"modulo\" class=\"nav-item\" routerLink=\"{{ url }}\" >\r\n            \r\n            <!-- <img src=\"{{ icono }}\" alt=\"icono\">-->\r\n                <h1 class=\"title\">&nbsp;{{ modulo }}</h1>                     \r\n            </a>\r\n        </div>\r\n\r\n        <a class=\"nav-item\"  (click)=\"hub.toggle()\">\r\n            <span class=\"icon\">\r\n                <i class=\"fa fa-th\"></i>\r\n            </span>\r\n        </a>\r\n\r\n        <a class=\"nav-item is-hidden-mobile\" (click)=\"perfil.toggle()\">                    \r\n            <figure class=\"image\" style=\"width:26px;\"><img src=\"assets/{{ usuario.avatar || 'avatar-unknow' }}.svg\" alt=\"avatar\"></figure>\r\n            &nbsp;\r\n            <span>{{ usuario.nombre }} {{ usuario.apellidos }}</span>\r\n        </a>\r\n        <a class=\"nav-item is-hidden-tablet\" (click)=\"perfil.toggle()\">\r\n            \r\n            <figure class=\"image\" style=\"width:26px;\"><img src=\"assets/{{ usuario.avatar || 'avatar-unknow' }}.svg\" alt=\"avatar\"></figure>\r\n        </a>\r\n        \r\n        \r\n    </nav>\r\n</section>\r\n\r\n<app-hub #hub></app-hub>\r\n<app-perfil #perfil></app-perfil>"

/***/ }),

/***/ "../../../../../src/app/farmacia/index-farmacia/menu-farmacia.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MenuFarmaciaComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var MenuFarmaciaComponent = (function () {
    function MenuFarmaciaComponent() {
        this.usuario = {};
    }
    MenuFarmaciaComponent.prototype.ngOnInit = function () {
        this.usuario = JSON.parse(localStorage.getItem("usuario"));
    };
    return MenuFarmaciaComponent;
}());
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", String)
], MenuFarmaciaComponent.prototype, "modulo", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", String)
], MenuFarmaciaComponent.prototype, "icono", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", String)
], MenuFarmaciaComponent.prototype, "url", void 0);
MenuFarmaciaComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'menu-farmacia',
        template: __webpack_require__("../../../../../src/app/farmacia/index-farmacia/menu-farmacia.component.html"),
        styles: [__webpack_require__("../../../../../src/app/farmacia/index-farmacia/menu-farmacia.component.css")]
    }),
    __metadata("design:paramtypes", [])
], MenuFarmaciaComponent);

//# sourceMappingURL=C:/wamp/www/x3-C/src/menu-farmacia.component.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-entradas/editar/editar.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-entradas/editar/editar.component.html":
/***/ (function(module, exports) {

module.exports = "<menu-farmacia [modulo]=\"'Entradas'\" [icono]=\"'assets/icono-entradas.svg'\" [url]=\"'/almacen/movimientos/entradas'\"></menu-farmacia>\r\n\r\n<div style=\"height:50px;\"></div>\r\n<!--\r\n    <entradas-form *ngIf=\"datosCargados\" [movimiento]=\"movimiento\" [insumosForm]=\"insumosNuevo\" [cargando]=\"cargando\" (onEnviar)=\"enviar($event)\"></entradas-form>\r\n-->\r\n\r\n\r\n\r\n<div class=\"contenedor columns \" style=\"height:100%; padding:1em;\">\r\n    <div class=\"column is-one-third\">\r\n        <div style=\"background: #FFF; border-radius: 1em; overflow: hidden;\">\r\n            <section class=\"hero is-primary\">\r\n                <h1 class=\"title\" style=\"margin:0.5em; \"><span class=\"icon is-medium\"><i class=\"fa fa-file-text\"></i></span>Folio  {{id}} </h1>\r\n            </section>\r\n            <div style=\"padding: 1em;\">\r\n                <div [formGroup]=\"movimiento\">\r\n\r\n                    <div class=\"control is-grouped\">\r\n                        <p class=\"control\">\r\n                            <label>Tipo de movimiento</label>\r\n                        </p>\r\n                        \r\n        <p class=\"box\">\r\n            <label> <strong> Entrada estandar </strong></label>\r\n        </p>\r\n                    </div>\r\n\r\n                    <div class=\"control is-grouped\">\r\n                        <p class=\"control\">\r\n                            <label>Fecha de movimiento</label>\r\n                        </p>\r\n                        <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                            <input class=\"input is-disabled\" placeholder=\"Fecha de movimiento\"  min=\"2017-05-01\" max=\"2017-05-20\" [value]=\"fecha_actual | date:'yyyy-MM-dd'\" formControlName=\"fecha_movimiento\" autofocus type=\"date\" [ngClass]=\"{'is-danger': movimiento.get('fecha_movimiento').hasError('required') && movimiento.get('fecha_movimiento').touched}\">\r\n                            <span class=\"icon is-small\" *ngIf=\"movimiento.get('fecha_movimiento').hasError('required') && movimiento.get('fecha_movimiento').touched\">\r\n                <i class=\"fa fa-warning\"></i>\r\n              </span>\r\n                            <span class=\"help is-danger\" *ngIf=\"movimiento.get('fecha_movimiento').hasError('required') && movimiento.get('fecha_movimiento').touched\">Este campo es requerido.</span>\r\n                        </p>\r\n                    </div>\r\n\r\n\r\n                    <div class=\"control\">\r\n                        <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                            <textarea class=\"textarea is-disabled\" autofocus type=\"text\" [ngClass]=\"{'is-danger': movimiento.get('observaciones').hasError('required') && movimiento.get('observaciones').touched}\" placeholder=\"Observaciones\" formControlName=\"observaciones\"></textarea>\r\n                            <span class=\"icon is-small\" *ngIf=\"movimiento.get('observaciones').hasError('required') && movimiento.get('observaciones').touched\">\r\n                <i class=\"fa fa-warning\"></i>\r\n              </span>\r\n                            <span class=\"help is-danger\" *ngIf=\"movimiento.get('observaciones').hasError('required') && movimiento.get('observaciones').touched\">Este campo es requerido.</span>\r\n                        </p>\r\n                    </div>\r\n                    <div formGroupName=\"movimiento_metadato\">\r\n\r\n\r\n        <div class=\"control\">\r\n            <p class=\"control has-icon has-icon-right\">\r\n                <input type=\"text\" class=\"input is-disabled\" autofocus placeholder=\"Persona que recibe\"  formControlName=\"persona_recibe\">\r\n                \r\n            </p>\r\n        </div>\r\n    </div>\r\n    \r\n                    <div class=\"control\" *ngIf=\"mostrarCancelado\">\r\n                        <!-- *ngIf -->\r\n                        <p class=\"control\">\r\n                            <label class=\"checkbox\">\r\n                <input type=\"checkbox\" formControlName=\"cancelado\">\r\n                Cancelado\r\n              </label>\r\n                        </p>\r\n                        <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                            <textarea class=\"textarea is-disabled\" autofocus type=\"text\" [ngClass]=\"{'is-danger': movimiento.get('observaciones_cancelacion').hasError('required') && movimiento.get('observaciones_cancelacion').touched}\" placeholder=\"Observaciones de cancelacion\" formControlName=\"observaciones_cancelacion\"></textarea>\r\n                            <span class=\"icon is-small\" *ngIf=\"movimiento.get('observaciones_cancelacion').hasError('required') && movimiento.get('observaciones_cancelacion').touched\">\r\n                <i class=\"fa fa-warning\"></i>\r\n              </span>\r\n                            <span class=\"help is-danger\" *ngIf=\"movimiento.get('observaciones_cancelacion').hasError('required') && movimiento.get('observaciones_cancelacion').touched\">Este campo es requerido.</span>\r\n                        </p>\r\n                    </div>\r\n\r\n                </div>\r\n                <div class=\"control is-grouped\">\r\n                </div>\r\n\r\n                <div class=\"control is-grouped\">\r\n                    <p class=\"control\">\r\n                        <!-- <a class=\"button is-primary \" routerLink=\"/almacen/movimientos/entradas/\" type=\"submit\" [ngClass]=\"{'is-loading': cargando}\">Finalizar</a> -->\r\n                        <a class=\"is is-danger\" (click)=\"imprimir(movimiento.value, id)\"><span class=\"icon\"><i class=\"fa fa-print\"></i></span></a>\r\n                    </p>\r\n                    <p class=\"control\">\r\n                        <a class=\"button is-white\" routerLink=\"/almacen/movimientos/entradas/\">Ir a la lista</a>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n    <div class=\"column\">\r\n        <div style=\"background: #FFF; border-radius: 1em; overflow: hidden;\">\r\n            <section class=\"hero is-primary\">\r\n                <h1 class=\"title\" style=\"margin:0.5em; \"><span class=\"icon is-medium\"><i class=\"fa fa-file-text\"></i></span> Insumos</h1>\r\n            </section>\r\n\r\n            <div style=\"padding: 1em;\">\r\n                <!-- TABLA de la lista de elementos\r\n                <table class=\"table\" *ngIf=\"!cargando\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th><abbr title=\"Folio de la salida\">Clave</abbr></th>\r\n                            <th>Lote</th>\r\n                            <th>Cantidad</th>\r\n                            <th>Existencia</th>\r\n                            <th><abbr title=\"Codigo de barras\">Cod. barras</abbr></th>\r\n                            <th><abbr title=\"Fecha de caducidad\">Caducidad</abbr></th>\r\n                            <th><abbr title=\"Fecha de movimiento\">Id stock</abbr></th>\r\n                            <th>Usuario</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody *ngIf=\"!busquedaActivada\">\r\n                        <tr *ngFor=\"let item of salidaMovimiento.insumos; let i=index\">\r\n                            <th style=\"vertical-align: middle;\"><a>{{ item.stock.clave_insumo_medico }}</a></th>\r\n                            <td style=\"vertical-align: middle;\">\r\n                                <a>{{ item.stock.lote }}</a>\r\n                            </td>\r\n                            <td style=\"vertical-align: middle;\"><a>{{ item.cantidad }}</a></td>\r\n                            <td style=\"vertical-align: middle;\"><a>{{ item.stock.existencia }}</a></td>\r\n                            <td style=\"vertical-align: middle;\"><a>{{ item.stock.codigo_barras }}</a></td>\r\n                            <td style=\"vertical-align: middle;\"><a>{{ item.stock.fecha_caducidad  | date }}</a></td>\r\n                            <td style=\"vertical-align: middle;\"><a>{{ item.stock_id}}</a></td>\r\n                            <td style=\"vertical-align: middle;\"><a>{{ item.usuario_id}}</a></td>\r\n                            <td style=\"vertical-align: middle;\" class=\"has-text-centered\">\r\n                        <span class=\"icon \" *ngIf=\"item.cargando\"><i class=\"fa fa-circle-o-notch fa-print\"></i></span><a class=\"is is-danger\" (click)=\"imprimir(item, i)\"><span class=\"icon\"><i class=\"fa fa-print\"></i></span></a>\r\n                        <span class=\"icon \" *ngIf=\"item.cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span><a *ngIf=\"!item.cargando && item.cancelado == 0\" class=\"is-danger\" (click)=\"toggleModalCancelado(item, i)\"><span class=\"icon\"><i class=\"fa fa-times\"></i></span></a>\r\n                        <span class=\"icon \" *ngIf=\"item.cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span><a *ngIf=\"!item.cargando\" class=\"is-danger\" (click)=\"eliminar(item, i)\"><span class=\"icon\"><i class=\"fa fa-trash-o\"></i></span></a> \r\n                    </td>\r\n                        </tr>\r\n                        <tr *ngIf=\"salidaMovimiento.insumos.length == 0\">\r\n                            <td colspan=\"5\" style=\"vertical-align: middle; color:#888;\">Esta lista está vacía.</td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table> -->\r\n\r\n                <!--\r\n\r\n                 -->\r\n\r\n                <table class=\"table is-unselectable is-striped\" *ngIf=\"!cargando\" style=\"font-size: 0.8em;\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th style=\"width:41px;vertical-align: middle;\" class=\"has-text-centered\"><abbr title=\"Numero progresivo\">NP</abbr></th>\r\n                            <th class=\"is-hidden-mobile\" style=\"width:118px;\">\r\n                                <p class=\"control is-expanded\">\r\n                                    Clave<!--<input type=\"hidden\" #searchBoxClavePrevia>\r\n                                    <input class=\"input is-small\" type=\"text\" placeholder=\"Clave\" #searchBoxClave id=\"search-box-clave-{{indexPedido}}\" (keyup)=\"buscar($event,searchBoxClave, searchBoxClavePrevia,[{ input: searchBoxDescripcion, campos: ['generico','informacion.concentracion','informacion.presentacion']}, { input: searchBoxClave, campos: ['clave']}])\">-->\r\n                                </p> \r\n                            </th>\r\n                            <th class=\"is-hidden-mobile\">\r\n                                <p class=\"control is-expanded\">\r\n                                    Nombre <!--\r\n                                    <input type=\"hidden\" #searchBoxDescripcionPrevia>\r\n                                    <input class=\"input is-small\" type=\"text\" placeholder=\"Genérico\" #searchBoxDescripcion id=\"search-box-descripcion-{{indexPedido}}\" (keyup)=\"buscar($event,searchBoxDescripcion,searchBoxDescripcionPrevia,[{ input: searchBoxDescripcion, campos: ['generico_nombre','informacion.concentracion','informacion.presentacion']}, { input: searchBoxClave, campos: ['clave']}])\"> -->\r\n                                </p>\r\n                            </th>\r\n                            <th class=\"is-hidden-tablet\">\r\n                                <p class=\"control is-expanded\">\r\n                                     Nombre <!--\r\n                                    <input type=\"hidden\" #searchBoxDescripcionClavePrevia>\r\n                                    <input class=\"input is-small\" type=\"text\" placeholder=\"Clave o Genérico\" #searchBoxDescripcionClave id=\"search-box-descripcion-clave-{{indexPedido}}\" (keyup)=\"buscar($event,searchBoxDescripcionClave,searchBoxDescripcionClavePrevia,[{ input: searchBoxDescripcionClave, campos: ['clave','generico_nombre','informacion.concentracion','informacion.presentacion']}])\">\r\n                                    -->\r\n                                </p>\r\n                            </th>\r\n                            <th style=\"vertical-align: middle;\" class=\"is-hidden-mobile is-hidden-tablet-only\">Descripcion</th>\r\n                            <th style=\"width:78px !important;text-align: center; vertical-align: middle;\"><abbr title=\"\"></abbr></th>\r\n                            <th style=\"width:21px !important;\"></th>\r\n                        </tr>\r\n                    </thead>\r\n\r\n\r\n                    <tbody>\r\n\r\n                        <tr *ngFor=\"let item of entradaMovimiento.insumos;  let i = index;\">\r\n                            <!-- LOTE -->\r\n                            <td class=\"has-text-centered\">{{ i+1 }}</td>\r\n                            <!-- CLAVE -->\r\n                            <td class=\"has-text-centered is-hidden-mobile\"><a style=\"cursor:help;\">{{ item.clave }}</a></td>\r\n\r\n                            <!-- DESCRIPCION  -->\r\n                            <td>\r\n                                <small class=\"is-hidden-tablet\">{{ item.detalles.clave }}<br></small>\r\n                                <b>{{ item.detalles.generico_nombre }} {{ item.detalles.clave }} </b> <br class=\"is-hidden-mobile\"><small *ngIf=\"item.tipo == 'ME'\"><b>{{ item.detalles.informacion_ampliada.concentracion }}</b></small><br>\r\n\r\n                                <div class=\"is-hidden-desktop\" *ngIf=\"item.tipo == 'ME'\" style=\"line-height:1em;\">\r\n                                    <small><i>{{ item.detalles.presentacion_nombre }}</i></small><br>\r\n                                    <small><i>{{ item.detalles.informacion_ampliada.contenido }} </i></small>\r\n                                </div>\r\n                                <div class=\"is-hidden-desktop\" *ngIf=\"item.tipo != 'ME'\" style=\"line-height:1em;\">\r\n                                    <small>{{ item.detalles.descripcion }}</small>\r\n                                </div>\r\n                                <div class=\"is-hidden-desktop\" style=\"padding: 0.5em 0 0.5em 0; \">\r\n                                    <span *ngIf=\"item.detalles.es_causes\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">CAUSES</span>\r\n                                    <span *ngIf=\"!item.detalles.es_causes\" class=\"tag is-danger\" style=\"font-size: 0.7em !important;\">NO CAUSES</span>\r\n                                    <span *ngIf=\"item.detalles.es_cuadro_basico\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">Cuadro básico</span>\r\n\r\n                                    <span *ngIf=\"item.detalles.tipo == 'ME'\">\r\n                        <span *ngIf=\"item.detalles.informacion_ampliada.es_controlado\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Controlado</span>\r\n                                    <span *ngIf=\"item.detalles.informacion_ampliada.es_surfactante\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Surfactante</span>\r\n                                    </span>\r\n\r\n                                </div>\r\n                            </td>\r\n\r\n                            <!-- INFORMACION -->\r\n                            <td class=\"is-hidden-mobile is-hidden-tablet-only\">\r\n                                <div *ngIf=\"item.detalles.tipo == 'ME'\" style=\"line-height:1em;\">\r\n                                    <small><i> {{ item.detalles.informacion_ampliada.presentacion_nombre }} </i></small><br>\r\n                                    <small><i>{{ item.detalles.informacion_ampliada.contenido }} </i></small>\r\n                                </div>\r\n                                <div *ngIf=\"item.detalles.tipo != 'ME'\" style=\"line-height:1em;\">\r\n                                    <small>{{ item.detalles.descripcion }}</small>\r\n                                </div>\r\n                                <div style=\"padding: 0.5em 0 0.5em 0; \">\r\n                                    <span *ngIf=\"item.detalles.es_causes\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">CAUSES</span>\r\n                                    <span *ngIf=\"!item.detalles.es_causes\" class=\"tag is-danger\" style=\"font-size: 0.7em !important;\">NO CAUSES</span>\r\n                                    <span *ngIf=\"item.detalles.es_cuadro_basico\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">Cuadro básico</span>\r\n                                    <span *ngIf=\"item.detalles.tipo == 'ME'\">\r\n                        <span *ngIf=\"item.detalles.informacion_ampliada.es_controlado\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Controlado</span>\r\n                                    <span *ngIf=\"item.detalles.informacion_ampliada.es_surfactante\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Surfactante</span>\r\n                                    </span>\r\n\r\n                                </div>\r\n                            </td>\r\n                            <!-- *************************************************************************** -->\r\n\r\n                            <!-- CANTIDAD -->\r\n                            <td style=\"width:auto !important;\">\r\n                                <span class=\"tag is-success\" style=\"line-height:0.9em;\"> Cantidad total: &nbsp;<strong>{{item.cantidad}} </strong> </span>\r\n                                <table class=\"table\" style=\"line-height:0.8em; text-align-last: left;\">\r\n                                    <tbody>\r\n                                        <tr *ngFor=\"let lote of item.lotes\">\r\n                                            <td>\r\n                                                <span style=\"font-size: 0.9em\" class=\"tag is-light is-small is-fullwidth\" *ngIf=\"item.cantidad>0\"><strong>Lote: &nbsp; </strong> {{ lote.lote }}\r\n                                    </span>\r\n                                            </td>\r\n                                            <td>\r\n                                                <span style=\"font-size: 0.9em\" class=\"tag is-light is-small\" *ngIf=\"item.cantidad>0\"><strong>Cantidad: &nbsp;</strong> <span></span> {{lote.cantidad}}</span>\r\n                                            </td>\r\n                                            <td>\r\n                                                <span style=\"font-size: 0.9em\" class=\"tag is-light is-small\" *ngIf=\"item.cantidad>0\"><strong>Caducidad: &nbsp;<span></span> </strong> {{ lote.fecha_caducidad | date}}</span>\r\n                                            </td>\r\n                                            <td>\r\n                                                <span style=\"font-size: 0.9em\" class=\"tag is-light is-small\" *ngIf=\"item.cantidad>0\"><strong class=\"is-small\">Codigo de barras: &nbsp; <span></span></strong> {{ lote.codigo_barras}}</span>\r\n                                            </td>\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n                            </td>\r\n\r\n                            <!-- *************************************************************************** -->\r\n\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-entradas/editar/editar.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__auth_service__ = __webpack_require__("../../../../../src/app/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__movimientos_entradas_service__ = __webpack_require__("../../../../../src/app/farmacia/movimientos-entradas/movimientos-entradas.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__mensaje__ = __webpack_require__("../../../../../src/app/mensaje.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_file_saver__ = __webpack_require__("../../../../file-saver/FileSaver.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_file_saver___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_file_saver__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EditarComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var EditarComponent = (function () {
    function EditarComponent(router, title, authService, route, location, movimientosEntradasService, fb, _ngZone) {
        this.router = router;
        this.title = title;
        this.authService = authService;
        this.route = route;
        this.location = location;
        this.movimientosEntradasService = movimientosEntradasService;
        this.fb = fb;
        this._ngZone = _ngZone;
        this.movimientoRepetido = false;
        this.movimientoInvalido = false;
        this.cargando = false;
        this.cargandoDatos = false;
        this.almacenes = {};
        this.usuario = {};
        this.mostrarCancelado = false;
        this.fecha_actual = new Date();
        this.cargandoPdf = false;
        // # FIN SECCION
        // # SECCION: Esta sección es para mostrar mensajes
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_7__mensaje__["a" /* Mensaje */]();
        this.mensajeAdvertencia = new __WEBPACK_IMPORTED_MODULE_7__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_7__mensaje__["a" /* Mensaje */]();
        // # FIN SECCION
        this.insumosNuevo = [];
    }
    EditarComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.title.setTitle("Editar movimiento / Farmacia");
        this.usuario = JSON.parse(localStorage.getItem("usuario"));
        // Inicializamos el objeto para los reportes con web Webworkers
        this.pdfworker = new Worker("web-workers/farmacia/movimientos/imprimir-entrada.js");
        // Este es un hack para poder usar variables del componente dentro de una funcion del worker
        var self = this;
        var $ngZone = this._ngZone;
        this.pdfworker.onmessage = function (evt) {
            // Esto es un hack porque estamos fuera de contexto dentro del worker
            // Y se usa esto para actualizar alginas variables
            $ngZone.run(function () {
                self.cargandoPdf = false;
            });
            __WEBPACK_IMPORTED_MODULE_8_file_saver__["saveAs"](self.base64ToBlob(evt.data.base64, 'application/pdf'), evt.data.fileName);
            //open( 'data:application/pdf;base64,' + evt.data.base64 ); // Popup PDF
        };
        this.movimiento = this.fb.group({
            almacen_id: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            tipo_movimiento_id: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            fecha_movimiento: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            observaciones: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            cancelado: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            observaciones_cancelacion: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            movimiento_metadato: this.fb.group({
                persona_recibe: ['']
            }),
            insumos: this.fb.array([
                this.initInsumo(),
            ])
        });
        /*
        this.movimiento.patchValue({almacen_id: this.usuario.almacen_activo.id});
        this.movimiento.patchValue({cancelado: false});
        this.movimiento.patchValue({tipo_movimiento_id: 1});*/
        this.route.params.subscribe(function (params) {
            _this.id = params['id']; // Se puede agregar un simbolo + antes de la variable params para volverlo number
            console.log(_this.id);
            _this.cargarDatos();
        });
    };
    EditarComponent.prototype.asignarTipo = function (value) {
        return true;
    };
    EditarComponent.prototype.initInsumo = function () {
        return this.fb.group({
            clave: ['', __WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required],
            cantidad: ['', __WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required],
            cantidad_x_envase: ['', __WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required],
            lote: ['', __WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required],
            fecha_caducidad: ['', __WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required],
            codigo_barras: ['', __WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required],
        });
    };
    EditarComponent.prototype.enviar = function () {
        var _this = this;
        this.cargando = true;
        var movimiento = this.movimiento.value;
        console.log(this.movimiento.value);
        this.movimientosEntradasService.editar(this.id, this.movimiento.value).subscribe(function (movimiento) {
            _this.cargando = false;
            console.log("Usuario editado.");
            _this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_7__mensaje__["a" /* Mensaje */](true);
            _this.mensajeExito.texto = "Se han guardado los cambios.";
            _this.mensajeExito.mostrar = true;
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_7__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError.texto = "No especificado.";
            _this.mensajeError.mostrar = true;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
                // Problema de validación
                if (error.status == 409) {
                    _this.mensajeError.texto = "Por favor verfique los campos marcados en rojo.";
                    //this.usuarioRepetido = false;
                    //this.usuarioInvalido = false;
                    for (var input in e.error) {
                        // Iteramos todos los errores
                        for (var i in e.error[input]) {
                            if (input == 'id' && e.error[input][i] == 'unique') {
                                //this.usuarioRepetido = true;
                            }
                            if (input == 'id' && e.error[input][i] == 'email') {
                                //this.usuarioInvalido = true;
                            }
                        }
                    }
                }
            }
            catch (e) {
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    EditarComponent.prototype.cargarDatos = function () {
        var _this = this;
        this.cargando = true;
        console.log("Cargando movimiento.");
        this.movimientosEntradasService.ver(this.id).subscribe(function (resultado) {
            _this.cargando = false;
            _this.datosCargados = true;
            _this.movimiento.patchValue(resultado);
            console.log(resultado);
            _this.entradaMovimiento = resultado;
            console.log(_this.entradaMovimiento);
            console.log("Movimiento cargado.");
            console.log(_this.movimiento);
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_7__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_7__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError.mostrar;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    EditarComponent.prototype.regresar = function () {
        this.location.back();
    };
    // # SECCION - Webworkers
    EditarComponent.prototype.imprimir = function (item, index) {
        var _this = this;
        console.log(item);
        this.movimientosEntradasService.ver(index).subscribe(function (movimientoActual) {
            _this.cargando = false;
            item.datosImprimir = movimientoActual;
            console.log(movimientoActual);
            try {
                _this.cargandoPdf = true;
                var entradas_imprimir = {
                    datos: item,
                    lista: item.datosImprimir.insumos,
                    usuario: _this.usuario
                };
                _this.pdfworker.postMessage(JSON.stringify(entradas_imprimir));
            }
            catch (e) {
                _this.cargandoPdf = false;
                console.log(e);
            }
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_7__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_7__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError.mostrar;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    EditarComponent.prototype.base64ToBlob = function (base64, type) {
        var bytes = atob(base64), len = bytes.length;
        var buffer = new ArrayBuffer(len), view = new Uint8Array(buffer);
        for (var i = 0; i < len; i++)
            view[i] = bytes.charCodeAt(i) & 0xff;
        return new Blob([buffer], { type: type });
    };
    return EditarComponent;
}());
EditarComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'entrada-editar',
        template: __webpack_require__("../../../../../src/app/farmacia/movimientos-entradas/editar/editar.component.html"),
        styles: [__webpack_require__("../../../../../src/app/farmacia/movimientos-entradas/editar/editar.component.css")],
        providers: [__WEBPACK_IMPORTED_MODULE_6__movimientos_entradas_service__["a" /* MovimientosEntradasService */]]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* Router */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_4__angular_platform_browser__["b" /* Title */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__angular_platform_browser__["b" /* Title */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_5__auth_service__["a" /* AuthService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_5__auth_service__["a" /* AuthService */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* ActivatedRoute */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* ActivatedRoute */]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_1__angular_common__["Location"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_common__["Location"]) === "function" && _e || Object, typeof (_f = typeof __WEBPACK_IMPORTED_MODULE_6__movimientos_entradas_service__["a" /* MovimientosEntradasService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_6__movimientos_entradas_service__["a" /* MovimientosEntradasService */]) === "function" && _f || Object, typeof (_g = typeof __WEBPACK_IMPORTED_MODULE_3__angular_forms__["FormBuilder"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__angular_forms__["FormBuilder"]) === "function" && _g || Object, typeof (_h = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"]) === "function" && _h || Object])
], EditarComponent);

var _a, _b, _c, _d, _e, _f, _g, _h;
//# sourceMappingURL=C:/wamp/www/x3-C/src/editar.component.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-entradas/form/form-datos.component.html":
/***/ (function(module, exports) {

module.exports = "<div [formGroup]=\"movimiento\">\r\n\r\n    <div class=\"control is-grouped\">\r\n        <p class=\"control\">\r\n            <label>Tipo de movimiento</label>\r\n        </p>\r\n        <p class=\"box\">\r\n            <label> <strong> Entrada estandar </strong></label>\r\n        </p>\r\n    </div>\r\n\r\n    <div class=\"control is-grouped\">\r\n        <p class=\"control\">\r\n            <label>Fecha de movimiento</label>\r\n        </p>\r\n        <p class=\"control is-expanded  has-icon has-icon-right\">\r\n            <input\r\n            ngui-datetime-picker\r\n            default-value=\"fecha_actual\"\r\n            max-date=\"fecha_actual\"\r\n            [value]=\"fecha_actual | date:'yyyy-MM-dd'\"\r\n            date-only=\"true\" \r\n            formControlName=\"fecha_movimiento\"/>\r\n        </p>\r\n    </div>\r\n\r\n\r\n    <div class=\"control\">\r\n        <p class=\"control is-expanded  has-icon has-icon-right\">\r\n            <textarea class=\"textarea\" autofocus type=\"text\" [ngClass]=\"{'is-danger': movimiento.get('observaciones').hasError('required') && movimiento.get('observaciones').touched}\" placeholder=\"Observaciones\" formControlName=\"observaciones\"></textarea>\r\n            <span class=\"icon is-small\" *ngIf=\"movimiento.get('observaciones').hasError('required') && movimiento.get('observaciones').touched\">\r\n                <i class=\"fa fa-warning\"></i>\r\n              </span>\r\n            <span class=\"help is-danger\" *ngIf=\"movimiento.get('observaciones').hasError('required') && movimiento.get('observaciones').touched\">Este campo es requerido.</span>\r\n        </p>\r\n    </div>\r\n\r\n    <div formGroupName=\"movimiento_metadato\">\r\n        <div class=\"control\">\r\n            <p class=\"control has-icon has-icon-right\">\r\n                <input type=\"text\" class=\"input\" autofocus placeholder=\"Persona que recibe\"  formControlName=\"persona_recibe\" [ngClass]=\"{'is-danger': movimiento.get('movimiento_metadato').get('persona_recibe').hasError('required') && movimiento.get('movimiento_metadato').get('persona_recibe').touched}\">\r\n                <span class=\"icon is-small\" *ngIf=\"movimiento.get('movimiento_metadato').get('persona_recibe').hasError('required') && movimiento.get('movimiento_metadato').get('persona_recibe').touched\">\r\n                    <i class=\"fa fa-warning\"></i>\r\n                </span>\r\n                <span class=\"help is-danger\" *ngIf=\"movimiento.get('movimiento_metadato').get('persona_recibe').hasError('required') && movimiento.get('movimiento_metadato').get('persona_recibe').touched\">Este campo es requerido.</span>\r\n            </p>\r\n        </div>\r\n    </div>\r\n    <div class=\"control\" *ngIf=\"mostrarCancelado\">\r\n        <!-- *ngIf -->\r\n        <p class=\"control\">\r\n            <label class=\"checkbox\">\r\n                <input type=\"checkbox\" formControlName=\"cancelado\">\r\n                Cancelado\r\n              </label>\r\n        </p>\r\n        <p class=\"control is-expanded  has-icon has-icon-right\">\r\n            <textarea class=\"textarea\" autofocus type=\"text\" [ngClass]=\"{'is-danger': movimiento.get('observaciones_cancelacion').hasError('required') && movimiento.get('observaciones_cancelacion').touched}\" placeholder=\"Observaciones de cancelacion\" formControlName=\"observaciones_cancelacion\"></textarea>\r\n            <span class=\"icon is-small\" *ngIf=\"movimiento.get('observaciones_cancelacion').hasError('required') && movimiento.get('observaciones_cancelacion').touched\">\r\n                <i class=\"fa fa-warning\"></i>\r\n              </span>\r\n            <span class=\"help is-danger\" *ngIf=\"movimiento.get('observaciones_cancelacion').hasError('required') && movimiento.get('observaciones_cancelacion').touched\">Este campo es requerido.</span>\r\n        </p>\r\n    </div>\r\n\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-entradas/form/form-datos.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__movimientos_entradas_service__ = __webpack_require__("../../../../../src/app/farmacia/movimientos-entradas/movimientos-entradas.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormDatosComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var FormDatosComponent = (function () {
    function FormDatosComponent(movimientosEntradasService) {
        this.movimientosEntradasService = movimientosEntradasService;
        this.usuario = {};
        this.onEnviar = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onRegresar = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onCargarDatos = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
    }
    FormDatosComponent.prototype.ngOnInit = function () {
        this.usuario = JSON.parse(localStorage.getItem("usuario"));
        var date = new Date();
        if (!this.movimiento.get("fecha_movimiento").value) {
            var mes = date.getMonth();
            mes++;
            this.fecha_actual = date.getFullYear() + "-" + mes + "-" + date.getDate();
            this.movimiento.get("fecha_movimiento").patchValue(this.fecha_actual);
        }
        else {
            this.fecha_actual = this.movimiento.get("fecha_movimiento").value;
        }
    };
    FormDatosComponent.prototype.listarDatos = function () {
    };
    FormDatosComponent.prototype.enviar = function () {
        this.onEnviar.emit();
    };
    FormDatosComponent.prototype.regresar = function () {
        this.onRegresar.emit();
    };
    return FormDatosComponent;
}());
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Array)
], FormDatosComponent.prototype, "insumo", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_forms__["FormGroup"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_forms__["FormGroup"]) === "function" && _a || Object)
], FormDatosComponent.prototype, "movimiento", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Boolean)
], FormDatosComponent.prototype, "movimientoRepetido", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Boolean)
], FormDatosComponent.prototype, "movimientoInvalido", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Boolean)
], FormDatosComponent.prototype, "cargando", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Boolean)
], FormDatosComponent.prototype, "cargandoDatos", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Boolean)
], FormDatosComponent.prototype, "mostrarCancelado", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", String)
], FormDatosComponent.prototype, "servidor", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
    __metadata("design:type", Object)
], FormDatosComponent.prototype, "onEnviar", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
    __metadata("design:type", Object)
], FormDatosComponent.prototype, "onRegresar", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
    __metadata("design:type", Object)
], FormDatosComponent.prototype, "onCargarDatos", void 0);
FormDatosComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'entradas-form-datos',
        template: __webpack_require__("../../../../../src/app/farmacia/movimientos-entradas/form/form-datos.component.html")
    }),
    __metadata("design:paramtypes", [typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__movimientos_entradas_service__["a" /* MovimientosEntradasService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__movimientos_entradas_service__["a" /* MovimientosEntradasService */]) === "function" && _b || Object])
], FormDatosComponent);

var _a, _b;
//# sourceMappingURL=C:/wamp/www/x3-C/src/form-datos.component.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-entradas/form/form-insumos.component.html":
/***/ (function(module, exports) {

module.exports = "       \r\n        <div class=\"tabs  is-boxed\" style=\"margin-bottom:0px; \" *ngIf=\"pedidos.length > 1\" >\r\n          <ul>\r\n            <li *ngFor=\"let pedido of pedidos; let i = index\" [ngClass]=\"{ 'is-active': i == pedidoActivo}\"><a (click)=\"pedidoActivo = i\">{{ pedido.nombre}}</a></li>\r\n          </ul>\r\n        </div>\r\n        <div *ngFor=\"let pedido of pedidos; let indexPedido = index\" class=\"contenedor-pedido\" [ngClass]=\"{ 'con-tabs' : pedidos.length > 1 }\" [hidden]=\"indexPedido != pedidoActivo\">\r\n          \r\n          <div class=\"top-bar\" [ngClass]=\"{'is-primary':!pedido.filtro.activo && pedidos.length == 1,'is-dark': pedido.filtro.activo }\">\r\n            <span *ngIf=\"!pedido.filtro.activo\">Claves: {{ pedido.lista.length }} Insumos: 0</span>\r\n            <span *ngIf=\"pedido.filtro.activo\"><span class=\"icon\"><i class=\"fa fa-search\"></i></span> Resultados: {{ pedido.filtro.lista.length }}</span>\r\n            <a class=\"button is-primary  is-pulled-right\" [ngClass]=\"{ 'is-inverted': pedidos.length == 1 || pedido.filtro.activo }\" style=\"margin-top:-0.25em;\" title=\"Ctrl + espacio\" (click)=\"toggleModalInsumos(); \">\r\n              <span class=\"icon\"><i class=\"fa fa-plus\"></i></span><span>Agregar</span>\r\n            </a>\r\n          </div> \r\n          \r\n          <table class=\"table is-unselectable\" *ngIf=\"!cargando\" style=\"font-size: 0.8em;\">\r\n              <thead>\r\n                  <tr  >\r\n                    <th style=\"width:41px;vertical-align: middle;\" class=\"has-text-centered\" ><abbr title=\"Numero progresivo\">NP</abbr></th>\r\n                    <th class=\"is-hidden-mobile\" style=\"width:118px;\">\r\n                      <p class=\"control is-expanded\" >\r\n                        Nombre\r\n                        <!--\r\n                        <input type=\"hidden\" #searchBoxClavePrevia >\r\n                        <input class=\"input is-small\" type=\"text\" placeholder=\"Clave\" #searchBoxClave id=\"search-box-clave-{{indexPedido}}\" (keyup)=\"buscar($event,searchBoxClave, searchBoxClavePrevia,[{ input: searchBoxDescripcion, campos: ['generico','informacion.concentracion','informacion.presentacion']}, { input: searchBoxClave, campos: ['clave']}])\">\r\n                        -->\r\n                      </p>\r\n                    </th>\r\n                    <th class=\"is-hidden-mobile\">\r\n                      <p class=\"control is-expanded\">\r\n                        Clave\r\n                        <!--\r\n                        <input type=\"hidden\" #searchBoxDescripcionPrevia >\r\n                        <input class=\"input is-small\" type=\"text\" placeholder=\"Genérico\" #searchBoxDescripcion id=\"search-box-descripcion-{{indexPedido}}\" (keyup)=\"buscar($event,searchBoxDescripcion,searchBoxDescripcionPrevia,[{ input: searchBoxDescripcion, campos: ['generico_nombre','informacion.concentracion','informacion.presentacion']}, { input: searchBoxClave, campos: ['clave']}])\">\r\n                        -->\r\n                      </p>\r\n                    </th> \r\n                    <th class=\"is-hidden-tablet\">\r\n                      <p class=\"control is-expanded\">\r\n                        <input type=\"hidden\" #searchBoxDescripcionClavePrevia >\r\n                        <input class=\"input is-small\" type=\"text\" placeholder=\"Clave o Genérico\" #searchBoxDescripcionClave id=\"search-box-descripcion-clave-{{indexPedido}}\" (keyup)=\"buscar($event,searchBoxDescripcionClave,searchBoxDescripcionClavePrevia,[{ input: searchBoxDescripcionClave, campos: ['clave','generico_nombre','informacion.concentracion','informacion.presentacion']}])\">\r\n                      </p>\r\n                    </th>  \r\n                    <th style=\"vertical-align: middle;\" class=\"is-hidden-mobile is-hidden-tablet-only\" >Descripcion</th>                  \r\n                    <th style=\"width:78px !important;text-align: center; vertical-align: middle;\"><abbr title=\"Cantidad\">Cant.</abbr></th>\r\n                    <th style=\"width:78px !important;text-align: center; vertical-align: middle;\"><abbr title=\"Lote\">Lote</abbr></th>\r\n                    <th style=\"width:78px !important;text-align: center; vertical-align: middle;\"><abbr title=\"Fecha de caducidad\">Cad.</abbr></th>\r\n                    <th style=\"width:78px !important;text-align: center; vertical-align: middle;\"><abbr title=\"Código de barras\">C&#243;digo de barras</abbr></th>\r\n                    <th  style=\"width:21px !important;\"></th>\r\n                  </tr>\r\n              </thead>\r\n              <tbody *ngIf=\"!pedido.filtro.activo\">\r\n\r\n                <tr   *ngFor=\"let item of insumosAgregados;  let i = index;\">\r\n\r\n                  <!-- LOTE -->\r\n                  <td class=\"has-text-centered\">{{ i+1 }}</td>\r\n                  <!-- CLAVE -->\r\n                  <td class=\"has-text-centered is-hidden-mobile\"><a (click)=\"mostrarFichaInformativa($event, item.clave)\" style=\"cursor:help;\">{{ item.clave }}</a></td>            \r\n                  \r\n                  <!-- DESCRIPCION  -->\r\n                  <td >\r\n                    <small class=\"is-hidden-tablet\">{{ item.clave }}<br></small>\r\n                    <b>{{ item.generico_nombre }} {{ item.clave }} </b> <br  class=\"is-hidden-mobile\"><small *ngIf=\"item.tipo == 'ME'\"><b>{{ item.informacion.concentracion }}</b></small><br>\r\n                    \r\n                    <div class=\"is-hidden-desktop\" *ngIf=\"item.tipo == 'ME'\" style=\"line-height:1em;\">\r\n                      <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                      <small><i>{{ item.informacion.contenido }} </i></small>\r\n                    </div>\r\n                    <div class=\"is-hidden-desktop\" *ngIf=\"item.tipo != 'ME'\" style=\"line-height:1em;\">\r\n                      <small>{{ item.descripcion }}</small>\r\n                    </div>\r\n                    <div class=\"is-hidden-desktop\" style=\"padding: 0.5em 0 0.5em 0; \">\r\n                      <span *ngIf=\"item.es_causes\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">CAUSES</span>\r\n                      <span *ngIf=\"!item.es_causes\" class=\"tag is-danger\" style=\"font-size: 0.7em !important;\">NO CAUSES</span>\r\n                      <span *ngIf=\"item.es_cuadro_basico\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">Cuadro básico</span>\r\n                      \r\n                      <span *ngIf=\"item.tipo == 'ME'\">\r\n                        <span *ngIf=\"item.informacion.es_controlado\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Controlado</span>\r\n                        <span *ngIf=\"item.informacion.es_surfactante\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Surfactante</span>  \r\n                      </span>\r\n                      \r\n                    </div>\r\n                  </td> \r\n\r\n                  <!-- INFORMACION -->\r\n                  <td class=\"is-hidden-mobile is-hidden-tablet-only\">\r\n                    <div *ngIf=\"item.tipo == 'ME'\" style=\"line-height:1em;\">\r\n                      <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                      <small><i>{{ item.informacion.contenido }} </i></small>\r\n                    </div>\r\n                    <div  *ngIf=\"item.tipo != 'ME'\" style=\"line-height:1em;\">\r\n                      <small>{{ item.descripcion }}</small>\r\n                    </div>\r\n                    <div style=\"padding: 0.5em 0 0.5em 0; \">\r\n                      <span *ngIf=\"item.es_causes\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">CAUSES</span>\r\n                      <span *ngIf=\"!item.es_causes\" class=\"tag is-danger\" style=\"font-size: 0.7em !important;\">NO CAUSES</span>\r\n                      <span *ngIf=\"item.es_cuadro_basico\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">Cuadro básico</span>\r\n                      <span *ngIf=\"item.tipo == 'ME'\">\r\n                        <span *ngIf=\"item.informacion.es_controlado\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Controlado</span>\r\n                        <span *ngIf=\"item.informacion.es_surfactante\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Surfactante</span>  \r\n                      </span>\r\n                      \r\n                    </div>\r\n                  </td> \r\n<!-- *************************************************************************** -->\r\n\r\n                  <!-- CANTIDAD -->\r\n                  <td style=\"width:100px !important;\"> \r\n                      <p class=\"control is-expanded\">\r\n                      <input class=\"input is-small has-text-centered\"  type=\"text\" placeholder=\"Cant\" [(ngModel)]=\"item.cantidad\">\r\n                      </p>\r\n                  </td>   \r\n                  <!-- LOTE -->\r\n                  <td style=\"width:100px !important;\">\r\n                      <p class=\"control is-expanded\">\r\n                      <input class=\"input is-small has-text-centered\"  type=\"text\" placeholder=\"lote\" [(ngModel)]=\"item.lote\">\r\n                      </p>\r\n                  </td>  \r\n                  <!-- CADUCIDAD -->   \r\n                  <td style=\"width:100px !important;\">\r\n                      <p class=\"control is-expanded\">\r\n                      <input class=\"input is-small has-text-centered\"  type=\"date\" placeholder=\"Fecha de caducidad\" [(ngModel)]=\"item.fecha_caducidad\">\r\n                      </p>\r\n                  </td>  \r\n                  <!-- BARRAS --> \r\n                  <td style=\"width:100px !important;\">\r\n                      <p class=\"control is-expanded\">\r\n                      <input class=\"input is-small has-text-centered\"  type=\"text\" placeholder=\"Codigo de barras\" [(ngModel)]=\"item.codigo_barras\">\r\n                      </p>\r\n                  </td> \r\n                 \r\n<!-- *************************************************************************** -->                           \r\n                  <td style=\"width:21px !important;\"><a (click)=\"eliminarInsumo(item,i)\"><span class=\"icon\"><i class=\"fa fa-trash\"></i></span></a></td>\r\n                </tr>      \r\n              </tbody>\r\n\r\n\r\n              <tbody *ngIf=\"pedido.filtro.activo\">\r\n                <tr  *ngFor=\"let item of pedido.filtro.paginacion.lista; let i = index;\">\r\n                  <td class=\"has-text-centered\">{{ i+1 }}</td>\r\n                  <td class=\"has-text-centered is-hidden-mobile\"><a (click)=\"mostrarFichaInformativa($event, item.clave)\" style=\"cursor:help;\">{{ item.clave }}</a></td>            \r\n                  \r\n                  <td >\r\n                    <small class=\"is-hidden-tablet\">{{ item.clave }} <br></small>\r\n                    <b>{{ item.generico_nombre }}</b> <br  class=\"is-hidden-mobile\"><small *ngIf=\"item.tipo == 'ME'\"><b>{{ item.informacion.concentracion }}</b></small><br>\r\n                    \r\n                    <div class=\"is-hidden-desktop\" *ngIf=\"item.tipo == 'ME'\" style=\"line-height:1em;\">\r\n                      <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                      <small><i>{{ item.informacion.contenido }} </i></small>\r\n                    </div>\r\n                    <div class=\"is-hidden-desktop\" *ngIf=\"item.tipo != 'ME'\" style=\"line-height:1em;\">\r\n                      <small>{{ item.descripcion }}</small>\r\n                    </div>\r\n                    <div class=\"is-hidden-desktop\" style=\"padding: 0.5em 0 0.5em 0; \">\r\n                      <span *ngIf=\"item.es_causes\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">CAUSES</span>\r\n                      <span *ngIf=\"!item.es_causes\" class=\"tag is-danger\" style=\"font-size: 0.7em !important;\">NO CAUSES</span>\r\n                      <span *ngIf=\"item.es_cuadro_basico\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">Cuadro básico</span>\r\n                      \r\n                      <span *ngIf=\"item.tipo == 'ME'\">\r\n                        <span *ngIf=\"item.informacion.es_controlado\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Controlado</span>\r\n                        <span *ngIf=\"item.informacion.es_surfactante\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Surfactante</span>  \r\n                      </span>\r\n                      \r\n                    </div>\r\n                  </td> \r\n\r\n                  <td class=\"is-hidden-mobile is-hidden-tablet-only\">\r\n                    <div *ngIf=\"item.tipo == 'ME'\" style=\"line-height:1em;\">\r\n                      <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                      <small><i>{{ item.informacion.contenido }} </i></small>\r\n                    </div>\r\n                    <div  *ngIf=\"item.tipo != 'ME'\" style=\"line-height:1em;\">\r\n                      <small>{{ item.descripcion }}</small>\r\n                    </div>\r\n                    <div style=\"padding: 0.5em 0 0.5em 0; \">\r\n                      <span *ngIf=\"item.es_causes\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">CAUSES</span>\r\n                      <span *ngIf=\"!item.es_causes\" class=\"tag is-danger\" style=\"font-size: 0.7em !important;\">NO CAUSES</span>\r\n                      <span *ngIf=\"item.es_cuadro_basico\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">Cuadro básico</span>\r\n                      <span *ngIf=\"item.tipo == 'ME'\">\r\n                        <span *ngIf=\"item.informacion.es_controlado\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Controlado</span>\r\n                        <span *ngIf=\"item.informacion.es_surfactante\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Surfactante</span>  \r\n                      </span>\r\n                      \r\n                    </div>\r\n                  </td> \r\n                  <td style=\"width:78px !important;\">\r\n                      <p class=\"control is-expanded\">\r\n                      <input class=\"input is-small has-text-centered\"  type=\"text\" placeholder=\"Cant\" [(ngModel)]=\"item.cantidad\">\r\n                      </p>\r\n                  </td>   \r\n                  <td style=\"width:78px !important;\">\r\n                      <p class=\"control is-expanded\">\r\n                      <input class=\"input is-small has-text-centered\"  type=\"text\" placeholder=\"Lote\" [(ngModel)]=\"item.lote\">\r\n                      </p>\r\n                  </td> \r\n                  <td style=\"width:78px !important;\">\r\n                      <p class=\"control is-expanded\">\r\n                      <input class=\"input is-small has-text-centered\"  type=\"text\" placeholder=\"Fecha de caducidad\" [(ngModel)]=\"item.fecha_caducidad\">\r\n                      </p>\r\n                  </td> \r\n                  <td style=\"width:78px !important;\">\r\n                      <p class=\"control is-expanded\">\r\n                      <input class=\"input is-small has-text-centered\"  type=\"text\" placeholder=\"Codigo de barras\" [(ngModel)]=\"item.codigo_barras\">\r\n                      </p>\r\n                  </td>                  \r\n                  <td style=\"width:21px !important;\"><a (click)=\"eliminarInsumo(item,i,true)\"><span class=\"icon\"><i class=\"fa fa-trash\"></i></span></a></td>\r\n                </tr>   \r\n\r\n\r\n               \r\n              </tbody>             \r\n          </table>\r\n\r\n                    \r\n         \r\n          <paginacion \r\n                [total]=\"pedido.lista.length\" \r\n                [paginasTotales]=\"pedido.paginacion.totalPaginas\" \r\n                [resultadosPorPagina]=\"pedido.paginacion.resultadosPorPagina\" \r\n                [paginaActual]=\"pedido.paginacion.paginaActual\" \r\n                [indicePaginas]=\"pedido.paginacion.indice\"\r\n                (onSiguiente)=\"pedido.paginaSiguiente()\" \r\n                (onAnterior)=\"pedido.paginaAnterior()\" \r\n                (onListar)=\"pedido.listar($event)\" \r\n                *ngIf=\"pedido.lista.length > 0 && pedido.lista.length > pedido.paginacion.resultadosPorPagina && !pedido.filtro.activo\"></paginacion>\r\n          \r\n          <paginacion \r\n                [total]=\"pedido.filtro.lista.length\" \r\n                [paginasTotales]=\"pedido.filtro.paginacion.totalPaginas\" \r\n                [resultadosPorPagina]=\"pedido.filtro.paginacion.resultadosPorPagina\" \r\n                [paginaActual]=\"pedido.filtro.paginacion.paginaActual\" \r\n                [indicePaginas]=\"pedido.filtro.paginacion.indice\"\r\n                (onSiguiente)=\"pedido.filtro.paginaSiguiente()\" \r\n                (onAnterior)=\"pedido.filtro.paginaAnterior()\" \r\n                (onListar)=\"pedido.filtro.listar($event)\" \r\n                *ngIf=\"pedido.filtro.lista.length > 0 && pedido.filtro.lista.length > pedido.filtro.paginacion.resultadosPorPagina && pedido.filtro.activo\"></paginacion>\r\n          \r\n          <br>\r\n          \r\n        </div>\r\n\r\n        <buscar-insumos-movimientos \r\n          *ngIf=\"mostrarModalInsumos\"\r\n          (onCerrar)=\"mostrarModalInsumos = false\" \r\n          (onEnviar)=\"agregarItem($event)\" \r\n          \r\n          [listaAgregados]=\"listaClaveAgregadas\" \r\n          ></buscar-insumos-movimientos>\r\n\r\n          "

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-entradas/form/form-insumos.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_observable_of__ = __webpack_require__("../../../../rxjs/add/observable/of.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_observable_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_rxjs_add_observable_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw__ = __webpack_require__("../../../../rxjs/add/observable/throw.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_debounceTime__ = __webpack_require__("../../../../rxjs/add/operator/debounceTime.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_debounceTime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_debounceTime__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_distinctUntilChanged__ = __webpack_require__("../../../../rxjs/add/operator/distinctUntilChanged.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_distinctUntilChanged___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_distinctUntilChanged__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_map__ = __webpack_require__("../../../../rxjs/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_map__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_switchMap__ = __webpack_require__("../../../../rxjs/add/operator/switchMap.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_switchMap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_switchMap__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_catch__ = __webpack_require__("../../../../rxjs/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_catch___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_catch__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_file_saver__ = __webpack_require__("../../../../file-saver/FileSaver.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_file_saver___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_file_saver__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__mensaje__ = __webpack_require__("../../../../../src/app/mensaje.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__modelo__ = __webpack_require__("../../../../../src/app/farmacia/movimientos-entradas/modelo.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__movimiento__ = __webpack_require__("../../../../../src/app/farmacia/movimientos-entradas/movimiento.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormInsumosComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};















var FormInsumosComponent = (function () {
    // # FIN SECCION
    function FormInsumosComponent(title, location, _ngZone) {
        this.title = title;
        this.location = location;
        this._ngZone = _ngZone;
        this.onMovimientoSalida = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.cargando = false;
        // # SECCION: Esta sección es para mostrar mensajes
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_12__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_12__mensaje__["a" /* Mensaje */]();
        // # FIN SECCION  
        // # SECCION: Modal Insumos
        this.mostrarModalInsumos = false;
        //Harima: Lista de claves agregadas al pedido, para checar duplicidad
        this.listaClaveAgregadas = [];
        // # FIN SECCION
        // # SECCION: Modelo
        // Los pedidos tienen que ser en un array por si se va a generar mas de un pedido de golpe
        this.pedidos = [];
        // esta variable es para saber el pedido seleccionado (por si hay mas)
        this.pedidoActivo = 0;
        this.cargandoPdf = false;
    }
    FormInsumosComponent.prototype.ngOnInit = function () {
        this.title.setTitle('Nueva entrada / Farmacia');
        // Inicializamos el objeto para los reportes con web Webworkers
        this.pdfworker = new Worker("web-workers/farmacia/movimientos/imprimir-entrada.js");
        // Este es un hack para poder usar variables del componente dentro de una funcion del worker
        var self = this;
        var $ngZone = this._ngZone;
        this.pdfworker.onmessage = function (evt) {
            // Esto es un hack porque estamos fuera de contexto dentro del worker
            // Y se usa esto para actualizar alginas variables
            $ngZone.run(function () {
                self.cargandoPdf = false;
            });
            __WEBPACK_IMPORTED_MODULE_11_file_saver__["saveAs"](self.base64ToBlob(evt.data.base64, 'application/pdf'), evt.data.fileName);
            //open( 'data:application/pdf;base64,' + evt.data.base64 ); // Popup PDF
        };
        this.pdfworker.onerror = function (e) {
            $ngZone.run(function () {
                self.cargandoPdf = false;
            });
            console.log(e);
        };
        // Inicialicemos el pedido
        this.pedidos.push(new __WEBPACK_IMPORTED_MODULE_13__modelo__["a" /* Modelo */](true));
        this.pedidos[0].observaciones = null;
        //console.log(this.pedidos[0]);
    };
    FormInsumosComponent.prototype.regresar = function () {
        this.location.back();
    };
    FormInsumosComponent.prototype.toggleModalInsumos = function () {
        //console.log(this.mostrarModalInsumos)
        this.mostrarModalInsumos = !this.mostrarModalInsumos;
        //console.log(this.mostrarModalInsumos)
    };
    // # SECCION Funciones globales
    FormInsumosComponent.prototype.agregarItem = function (item) {
        if (item === void 0) { item = {}; }
        var auxPaginasTotales = this.pedidos[this.pedidoActivo].paginacion.totalPaginas;
        this.pedidos[this.pedidoActivo].lista.push(item);
        var insumo = new __WEBPACK_IMPORTED_MODULE_14__movimiento__["a" /* Insumo */]();
        //insumo = item;
        insumo.descripcion = item.descripcion;
        insumo.informacion = item.informacion;
        insumo.generico_nombre = item.generico_nombre;
        insumo.tipo = item.tipo;
        insumo.es_causes = item.es_causes;
        console.log(insumo.generico_nombre);
        console.log(insumo.descripcion);
        insumo.clave = item.clave;
        insumo.cantidad = item.cantidad;
        insumo.cantidad_x_envase = Number(item.informacion.cantidad_x_envase);
        insumo.codigo_barras = item.codigo_barras;
        insumo.lote = item.lote_entrada;
        console.log(item.lote_entrada);
        insumo.fecha_caducidad = item.fecha_caducidad;
        insumo.filtro = item.filtro;
        insumo.paginacion = item.paginacion;
        this.insumosAgregados.push(insumo);
        this.pedidos[this.pedidoActivo].indexar();
        /*console.log("pedidos");
        console.log(this.pedidos);
        console.log("insumosAgregados");
        console.log(this.insumosAgregados);*/
        // El siguiente proceso es para cambiar de página automáticamente si se encuentra en la última.
        if (this.pedidos[this.pedidoActivo].paginacion.lista.length == this.pedidos[this.pedidoActivo].paginacion.resultadosPorPagina
            && this.pedidos[this.pedidoActivo].paginacion.paginaActual == auxPaginasTotales
            && !this.pedidos[this.pedidoActivo].filtro.activo) {
            this.pedidos[this.pedidoActivo].listar(this.pedidos[this.pedidoActivo].paginacion.paginaActual + 1);
        }
        else {
            this.pedidos[this.pedidoActivo].listar(this.pedidos[this.pedidoActivo].paginacion.paginaActual);
        }
    };
    FormInsumosComponent.prototype.buscar = function (e, input, inputAnterior, parametros) {
        var term = input.value;
        // Quitamos la busqueda
        if (e.keyCode == 27) {
            e.preventDefault();
            e.stopPropagation();
            input.value = "";
            inputAnterior.value = "";
            this.pedidos[this.pedidoActivo].filtro.activo = false;
            this.pedidos[this.pedidoActivo].filtro.lista = [];
            //this.insumosAgregados[this.pedidoActivo].filtro.activo = false;
            return;
        }
        //Verificamos que la busqueda no sea la misma que la anterior para no filtrar en vano
        if (inputAnterior.value == term) {
            return;
        }
        e.preventDefault();
        e.stopPropagation();
        inputAnterior.value = term;
        if (term != "") {
            this.pedidos[this.pedidoActivo].filtro.activo = true;
        }
        else {
            this.pedidos[this.pedidoActivo].filtro.activo = false;
            this.pedidos[this.pedidoActivo].filtro.lista = [];
            return;
        }
        var arregloResultados = [];
        var _loop_1 = function (i) {
            var termino = parametros[i].input.value;
            if (termino == "") {
                return "continue";
            }
            var listaFiltrada = this_1.pedidos[this_1.pedidoActivo].lista.filter(function (item) {
                var cadena = "";
                var campos = parametros[i].campos;
                for (var l in campos) {
                    try {
                        // Esto es por si escribieron algo como "objeto.propiedad" en lugar de: "propiedad"
                        var prop = campos[l].split(".");
                        if (prop.length > 1) {
                            cadena += " " + item[prop[0]][prop[1]].toLowerCase();
                        }
                        else {
                            cadena += " " + item[campos[l]].toLowerCase();
                        }
                    }
                    catch (e) { }
                }
                return cadena.includes(termino.toLowerCase());
            });
            arregloResultados.push(listaFiltrada);
        };
        var this_1 = this;
        for (var i in parametros) {
            _loop_1(i);
        }
        if (arregloResultados.length > 1) {
            // Ordenamos Ascendente
            arregloResultados = arregloResultados.sort(function (a, b) { return a.length - b.length; });
            var filtro = arregloResultados[0];
            var match = [];
            for (var k = 1; k < arregloResultados.length; k++) {
                for (var i in arregloResultados[k]) {
                    for (var j in filtro) {
                        if (arregloResultados[k][i] === filtro[j]) {
                            match.push(filtro[j]);
                        }
                    }
                }
                ;
            }
            this.pedidos[this.pedidoActivo].filtro.lista = match;
        }
        else {
            this.pedidos[this.pedidoActivo].filtro.lista = arregloResultados[0];
        }
        this.pedidos[this.pedidoActivo].filtro.indexar(false);
        this.pedidos[this.pedidoActivo].filtro.paginacion.paginaActual = 1;
        this.pedidos[this.pedidoActivo].filtro.listar(1);
    };
    //Harima: necesitamos eliminar también de la lista de claves agregadas
    FormInsumosComponent.prototype.eliminarInsumo = function (item, index, filtro) {
        if (filtro === void 0) { filtro = false; }
        //Harima: eliminar el elemento en la lista de claves agregadas, para poder agregarla de nuevo si se desea
        var i = this.listaClaveAgregadas.indexOf(item.clave);
        this.listaClaveAgregadas.splice(i, 1);
        //Harima: si no es el filtro(busqueda), borrar de la lista principal de insumos
        if (!filtro) {
            this.pedidos[this.pedidoActivo].eliminarItem(item, index);
        }
        else {
            this.pedidos[this.pedidoActivo].filtro.eliminarItem(item, index);
        }
    };
    FormInsumosComponent.prototype.mostrarFichaInformativa = function (e, clave) {
        e.preventDefault();
        e.stopPropagation();
        // Mostrar el componente de Ficha Informativa
        // Falta hacerlo sumamiiiii :)
        alert(clave);
        console.log(clave);
    };
    // # SECCION: Eventos del teclado
    FormInsumosComponent.prototype.keyboardInput = function (e) {
        if (e.keyCode == 32 && e.ctrlKey) {
            event.preventDefault();
            event.stopPropagation();
            this.mostrarModalInsumos = true;
        }
        // Cambiar página hacia adelante ctrl + shift + ->
        if (e.keyCode == 39 && ((e.ctrlKey && e.shiftKey) || e.ctrlKey)) {
            event.preventDefault();
            event.stopPropagation();
            if (!this.pedidos[this.pedidoActivo].filtro.activo) {
                this.pedidos[this.pedidoActivo].paginaSiguiente();
            }
            else {
                this.pedidos[this.pedidoActivo].filtro.paginaSiguiente();
            }
        }
        // Cambiar página hacia adelante ctrl + shift + <-
        if (e.keyCode == 37 && ((e.ctrlKey && e.shiftKey) || e.ctrlKey)) {
            event.preventDefault();
            event.stopPropagation();
            if (!this.pedidos[this.pedidoActivo].filtro.activo) {
                this.pedidos[this.pedidoActivo].paginaAnterior();
            }
            else {
                this.pedidos[this.pedidoActivo].filtro.paginaAnterior();
            }
        }
    };
    // # SECCION - Webworkers
    FormInsumosComponent.prototype.imprimir = function () {
        try {
            this.cargandoPdf = true;
            var pedidos_imprimir = {
                datos: { alamcen: 'colicitar', solicitante: 'unidad', observaciones: 'texto' },
                lista: this.pedidos[this.pedidoActivo].lista
            };
            this.pdfworker.postMessage(JSON.stringify(pedidos_imprimir));
        }
        catch (e) {
            this.cargandoPdf = false;
            console.log(e);
        }
    };
    FormInsumosComponent.prototype.base64ToBlob = function (base64, type) {
        var bytes = atob(base64), len = bytes.length;
        var buffer = new ArrayBuffer(len), view = new Uint8Array(buffer);
        for (var i = 0; i < len; i++)
            view[i] = bytes.charCodeAt(i) & 0xff;
        return new Blob([buffer], { type: type });
    };
    return FormInsumosComponent;
}());
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Array)
], FormInsumosComponent.prototype, "insumos", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_3__angular_forms__["FormGroup"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__angular_forms__["FormGroup"]) === "function" && _a || Object)
], FormInsumosComponent.prototype, "movimiento", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
    __metadata("design:type", Object)
], FormInsumosComponent.prototype, "onMovimientoSalida", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Array)
], FormInsumosComponent.prototype, "insumosAgregados", void 0);
FormInsumosComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'entradas-form-insumos',
        template: __webpack_require__("../../../../../src/app/farmacia/movimientos-entradas/form/form-insumos.component.html"),
        host: { '(window:keydown)': 'keyboardInput($event)' }
    }),
    __metadata("design:paramtypes", [typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"]) === "function" && _d || Object])
], FormInsumosComponent);

var _a, _b, _c, _d;
//# sourceMappingURL=C:/wamp/www/x3-C/src/form-insumos.component.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-entradas/form/form.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-entradas/form/form.component.html":
/***/ (function(module, exports) {

module.exports = "<form name=\"form\" novalidate [formGroup]=\"movimiento\" (ngSubmit)=\"enviar()\">\r\n    <div class=\"contenedor columns \" style=\"height:100%; padding:1em;\">\r\n\r\n        <div class=\"column is-one-third\">\r\n            <!-- Columna de 1/3 de pantalla -->\r\n            <div style=\"background: #FFF; border-radius: 1em; overflow: hidden;\">\r\n                <section class=\"hero is-primary\">\r\n                    <h1 class=\"title\" style=\"margin:0.5em; \"><span class=\"icon is-medium\"><i class=\"fa fa-file-text\"></i></span>{{formularioTitulo}}</h1>\r\n                </section>\r\n                <div style=\"padding: 1em;\">\r\n                    <entradas-form-datos [movimiento]=\"movimiento\"></entradas-form-datos>\r\n                    <div class=\"control is-grouped\">\r\n                    </div>\r\n\r\n                    <div class=\"control is-grouped\">\r\n                        <p class=\"control\">\r\n                            <a class=\"button is-primary \" type=\"submit\" (click)=\"enviar()\" [ngClass]=\"{'is-loading': cargando}\">Finalizar</a>\r\n                        </p>\r\n\r\n                        <p class=\"control\">\r\n                            <a class=\"button is-white\" routerLink=\"/almacen/movimientos/entradas/\">Ir a la lista</a>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!-- Fin columna de 1/3 de pantalla -->\r\n\r\n        <div class=\"column\">\r\n            <!-- Columna 2/3 -->\r\n            <div style=\"background: #FFF; border-radius: 1em; overflow: hidden;\">\r\n                <section class=\"hero is-primary\">\r\n                    <h1 class=\"title\" style=\"margin:0.5em; \"><span class=\"icon is-medium\"><i class=\"fa fa-file-text\"></i></span> Insumos</h1>\r\n                </section>\r\n\r\n                <div style=\"padding: 1em;\">\r\n                    <entradas-form-insumos [insumosAgregados]=\"insumosAgregadosEntrada\"></entradas-form-insumos>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!-- Fin columna 2/3 -->\r\n\r\n    </div>\r\n</form>"

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-entradas/form/form.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var FormComponent = (function () {
    function FormComponent() {
        this.listaAgregados = [];
        this.insumosAgregadosEntrada = [];
        this.onEnviar = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onRegresar = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onCargarDatos = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
    }
    FormComponent.prototype.ngOnInit = function () {
        if (this.movimiento.get("fecha_movimiento").value) {
            this.formularioTitulo = 'Editar';
        }
        else {
            this.formularioTitulo = 'Nuevo';
        }
    };
    FormComponent.prototype.enviar = function () {
        this.onEnviar.emit(this.insumosAgregadosEntrada);
        //console.log(this.insumosAgregadosEntrada);
    };
    FormComponent.prototype.regresar = function () {
        this.onRegresar.emit();
    };
    return FormComponent;
}());
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Array)
], FormComponent.prototype, "insumos", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_forms__["FormGroup"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_forms__["FormGroup"]) === "function" && _a || Object)
], FormComponent.prototype, "movimiento", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Boolean)
], FormComponent.prototype, "movimientoRepetido", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Boolean)
], FormComponent.prototype, "movimientoInvalido", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Boolean)
], FormComponent.prototype, "cargando", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Boolean)
], FormComponent.prototype, "cargandoDatos", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Object)
], FormComponent.prototype, "listaAgregados", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Array)
], FormComponent.prototype, "insumosForm", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
    __metadata("design:type", typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]) === "function" && _b || Object)
], FormComponent.prototype, "onEnviar", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
    __metadata("design:type", Object)
], FormComponent.prototype, "onRegresar", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
    __metadata("design:type", Object)
], FormComponent.prototype, "onCargarDatos", void 0);
FormComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'entradas-form',
        template: __webpack_require__("../../../../../src/app/farmacia/movimientos-entradas/form/form.component.html"),
        styles: [__webpack_require__("../../../../../src/app/farmacia/movimientos-entradas/form/form.component.css")]
    }),
    __metadata("design:paramtypes", [])
], FormComponent);

var _a, _b;
//# sourceMappingURL=C:/wamp/www/x3-C/src/form.component.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-entradas/lista/lista.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-entradas/lista/lista.component.html":
/***/ (function(module, exports) {

module.exports = "<menu-farmacia [modulo]=\"'Entradas'\" [icono]=\"'assets/icono-entradas.svg'\" [url]=\"'/almacen/movimientos/entradas'\"></menu-farmacia>\r\n\r\n\r\n<div style=\"height:50px;\"></div>\r\n<div class=\"contenedor columns \" style=\"height:100%; \">\r\n    <div class=\"column is-one-quarter \">\r\n        <menu-lateral></menu-lateral>\r\n    </div>\r\n    <!-- -->\r\n    <!-- Columna de la lista de entradas -->\r\n    <div class=\"column\" style=\"padding:2em;\">\r\n        <div style=\"background: #FFF; border-radius: 1em; overflow: hidden;\">\r\n\r\n            <!-- Sección de búsqueda -->\r\n            <section class=\"hero\" [ngClass]=\" {'is-dark': busquedaActivada, 'is-primary': !busquedaActivada } \">\r\n                <div class=\"hero-body\" style=\"position:relative;\">\r\n                    <a class=\"button  is-dark\" *ngIf=\"busquedaActivada\" style=\"position:absolute; top:1em; right:1em;\" (click)=\"busquedaActivada=false;searchBox.value='';resultadosBusqueda=[]\"><span class=\"icon \"><i class=\"fa fa-close\"></i></span></a>\r\n                    <a class=\"button  is-dark\" *ngIf=\"busquedaActivada\" style=\"position:absolute; top:1em; right:3.5em;\" (click)=\"listarBusqueda(searchBox.value,1)\"><span class=\"icon \"><i class=\"fa fa-refresh\"></i></span></a>\r\n                    <a class=\"button  is-primary\" *ngIf=\"!busquedaActivada\" style=\"position:absolute; top:1em; right:1em;\" (click)=\"listar(1)\"><span class=\"icon \"><i class=\"fa fa-refresh\"></i></span></a>\r\n                    <div class=\"container is-fluid\">\r\n\r\n                        <h1 class=\"title\" *ngIf=\"!busquedaActivada\">\r\n                            <span class=\"icon is-medium\"><i class=\"fa fa-minus-circle\"></i></span> Entradas\r\n                        </h1>\r\n                        <h1 class=\"title\" *ngIf=\"busquedaActivada\">\r\n                            <span class=\"icon is-medium\"><i class=\"fa fa-search\"></i></span> Búsqueda\r\n                        </h1>\r\n                        <div class=\"control is-grouped\">\r\n                            <p class=\"control is-expanded\">\r\n                                <input class=\"input is-medium\" type=\"text\" placeholder=\"Buscar\" #searchBox id=\"search-box\" (keyup)=\"buscar(searchBox.value)\">\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n            <div class=\"is-fullwidth has-text-centered\" *ngIf=\"cargando\">\r\n                <br>\r\n                <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n\r\n            <!-- TABLA de la lista de elementos -->\r\n            <table class=\"table\" *ngIf=\"!cargando\">\r\n                <thead>\r\n                    <tr>\r\n                        <th><abbr title=\"Folio de la entrada\">Folio</abbr></th>\r\n                        <th>Tipo de entrada</th>\r\n                        <th><abbr title=\"Fecha de movimiento\">Fecha</abbr></th>\r\n                        <th><abbr title=\"Fecha de creación\">Creado</abbr></th>\r\n                        <th>Hora</th>\r\n                        <th style=\"text-align:center;\">Opciones</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody *ngIf=\"!busquedaActivada\">\r\n                    <!-- Cambiar a movimientos -->\r\n                    <tr *ngFor=\"let item of items; let i=index\">\r\n                        <th style=\"vertical-align: middle;\"><a routerLink=\"/almacen/movimientos/entradas/editar/{{item.id}}\">{{ item.id }}</a></th>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/movimientos/entradas/editar/{{item.id}}\">Entrada estandar </a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/movimientos/entradas/editar/{{item.id}}\">{{ item.fecha_movimiento | date }}</a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/movimientos/entradas/editar/{{item.id}}\">{{ item.created_at | date:'dd/MM/y' }}</a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/movimientos/entradas/editar/{{item.id}}\">{{ item.created_at | date: 'HH:mm'}}</a></td>\r\n                        <td style=\"vertical-align: middle;\" class=\"has-text-centered\">\r\n                            <span class=\"icon \" *ngIf=\"item.cargando\"><i class=\"fa fa-circle-o-notch fa-print\"></i></span><a class=\"is is-danger\" (click)=\"imprimir(item, i)\"><span class=\"icon\"><i class=\"fa fa-print\"></i></span></a>\r\n                            <!-- <span class=\"icon \" *ngIf=\"item.cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span><a *ngIf=\"!item.cargando && item.cancelado == 0\" class=\"is-danger\" (click)=\"toggleModalCancelado(item, i)\"><span class=\"icon\"><i class=\"fa fa-times\"></i></span></a> -->\r\n                            <!-- <span class=\"icon \" *ngIf=\"item.cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span><a *ngIf=\"!item.cargando\" class=\"is-danger\" (click)=\"eliminar(item, i)\"><span class=\"icon\"><i class=\"fa fa-trash-o\"></i></span></a> -->\r\n                        </td>\r\n                    </tr>\r\n                    <!-- Cambiar a movimientos -->\r\n                    <tr *ngIf=\"items.length == 0\">\r\n                        <td colspan=\"5\" style=\"vertical-align: middle; color:#888;\">Esta lista está vacía.</td>\r\n                    </tr>\r\n                </tbody>\r\n                <tbody *ngIf=\"busquedaActivada\">\r\n                    <tr *ngFor=\"let item of resultadosBusqueda; let i=index\">\r\n                        <th style=\"vertical-align: middle;\"><a routerLink=\"/almacen/movimientos/entradas/editar/{{item.id}}\">{{ item.id }}</a></th>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/movimientos/entradas/editar/{{item.id}}\"> Entrada estandar </a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/movimientos/entradas/editar/{{item.id}}\">{{ item.fecha_movimiento | date }}</a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/movimientos/entradas/editar/{{item.id}}\">{{ item.created_at | date:'dd/MM/y' }}</a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/movimientos/entradas/editar/{{item.id}}\">{{ item.created_at | date: 'HH:mm'}}</a></td>\r\n                        <td style=\"vertical-align: middle;\" class=\"has-text-centered\">\r\n                            <span class=\"icon \" *ngIf=\"item.cargando\"><i class=\"fa fa-circle-o-notch fa-print\"></i></span><a class=\"is is-danger\" (click)=\"imprimir(item, i)\"><span class=\"icon\"><i class=\"fa fa-print\"></i></span></a>\r\n                           <!-- <span class=\"icon \" *ngIf=\"item.cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span><a *ngIf=\"!item.cargando && item.cancelado == 0\" class=\"is-danger\" (click)=\"eliminar(item, i)\"><span class=\"icon\"><i class=\"fa fa-times\"></i></span></a>\r\n                            <span class=\"icon \" *ngIf=\"item.cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span><a *ngIf=\"!item.cargando\" class=\"is-danger\" (click)=\"eliminar(item, i)\"><span class=\"icon\"><i class=\"fa fa-trash-o\"></i></span></a> -->\r\n                        </td>\r\n                    </tr>\r\n\r\n                    <tr *ngIf=\"resultadosBusqueda.length == 0 && busquedaActivada\">\r\n                        <td colspan=\"5\" style=\"vertical-align: middle; color:#888;\">No se encontraron resultados.</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <!-- Paginación para la lista  -->\r\n            <paginacion [total]=\"total\" [paginasTotales]=\"paginasTotales\" [resultadosPorPagina]=\"resultadosPorPagina\" [paginaActual]=\"paginaActual\" [indicePaginas]=\"indicePaginas\" (onSiguiente)=\"paginaSiguiente()\" (onAnterior)=\"paginaAnterior()\" (onListar)=\"listar($event)\"\r\n                *ngIf=\"total>0 && total > resultadosPorPagina && !busquedaActivada\"></paginacion>\r\n            <!-- Paginación para la búsqueda  -->\r\n            <paginacion [total]=\"totalBusqueda\" [paginasTotales]=\"paginasTotalesBusqueda\" [resultadosPorPagina]=\"resultadosPorPaginaBusqueda\" [paginaActual]=\"paginaActualBusqueda\" [indicePaginas]=\"indicePaginasBusqueda\" (onSiguiente)=\"paginaSiguienteBusqueda(searchBox.value)\"\r\n                (onAnterior)=\"paginaAnteriorBusqueda(searchBox.value)\" (onListar)=\"listarBusqueda(searchBox.value,$event)\" *ngIf=\"totalBusqueda > 0 && totalBusqueda > resultadosPorPaginaBusqueda && busquedaActivada\"></paginacion>\r\n\r\n\r\n\r\n        </div>\r\n\r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n<div class=\"notification is-danger\" style=\"position:fixed; left:1em;  bottom:1em;\" *ngIf=\"mensajeError.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeError.mostrar = false\"></button>\r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style=\"text-align:center\">\r\n        <a class=\"button is-danger is-inverted\" (click)=\"ultimaPeticion(); mensajeError.mostrar = false\"> <span class=\"icon\"><i class=\"fa fa-refresh\"></i></span> <span>Volver a intentar</span></a>\r\n    </p>\r\n</div>\r\n\r\n<div class=\"notification is-success\" style=\"position:fixed; left:1em;  bottom:1em; width: auto\" *ngIf=\"mensajeExito.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeExito.mostrar = false\"></button>\r\n    <p><span class=\"icon\" style=\"margin-right: 0.5em;\"><i class=\"fa fa-check-circle\"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style=\"text-align: center;\"><small>Este mensaje desaparecerá en {{ mensajeExito.cuentaAtras }} segundos.</small></p>\r\n</div>\r\n\r\n<div class=\"modal is-active\" *ngIf=\"mostrarModalCancelado\">\r\n    <div class=\"modal-background\" (click)=\"toggleModalCancelado(dato, index)\"></div>\r\n    <div class=\"modal-content\">\r\n        <div class=\"box\">\r\n            <!-- Any other Bulma elements you want -->\r\n            <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                <textarea class=\"textarea\" autofocus type=\"text\" placeholder=\"Observaciones de cancelacion\" [(ngModel)]=dato.observaciones_cancelacion></textarea>\r\n            </p>\r\n            <div class=\"control is-grouped\">\r\n                <p class=\"control\">\r\n                    <button class=\"button is-primary\" (click)=\"guardar(dato); mostrarModalCancelado=false\">Aceptar</button>\r\n                </p>\r\n                <p class=\"control\">\r\n                    <button class=\"button is-link\" (click)=\"toggleModalCancelado(dato, index)\">Cancelar</button>\r\n                </p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <button class=\"modal-close\" (click)=\"toggleModalCancelado(dato, index)\"></button>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-entradas/lista/lista.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__ = __webpack_require__("../../../../rxjs/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__ = __webpack_require__("../../../../rxjs/Subject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_of__ = __webpack_require__("../../../../rxjs/add/observable/of.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_observable_throw__ = __webpack_require__("../../../../rxjs/add/observable/throw.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_observable_throw___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_rxjs_add_observable_throw__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_debounceTime__ = __webpack_require__("../../../../rxjs/add/operator/debounceTime.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_debounceTime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_debounceTime__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_distinctUntilChanged__ = __webpack_require__("../../../../rxjs/add/operator/distinctUntilChanged.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_distinctUntilChanged___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_distinctUntilChanged__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_map__ = __webpack_require__("../../../../rxjs/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_map__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_switchMap__ = __webpack_require__("../../../../rxjs/add/operator/switchMap.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_switchMap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_switchMap__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_rxjs_add_operator_catch__ = __webpack_require__("../../../../rxjs/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_rxjs_add_operator_catch___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_rxjs_add_operator_catch__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_file_saver__ = __webpack_require__("../../../../file-saver/FileSaver.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_file_saver___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_12_file_saver__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__movimientos_entradas_service__ = __webpack_require__("../../../../../src/app/farmacia/movimientos-entradas/movimientos-entradas.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__mensaje__ = __webpack_require__("../../../../../src/app/mensaje.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ListaComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};















var ListaComponent = (function () {
    // # FIN SECCION
    function ListaComponent(title, movimientosEntradasService, fb, _ngZone) {
        this.title = title;
        this.movimientosEntradasService = movimientosEntradasService;
        this.fb = fb;
        this._ngZone = _ngZone;
        this.cargando = false;
        this.mostrarModalCancelado = false;
        // # SECCION: Esta sección es para mostrar mensajes
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */]();
        this.cargandoPdf = false;
        // # SECCION: Lista de Modelos, hay que CAMBIAR a movimientos
        this.items = [];
        this.paginaActual = 1;
        this.resultadosPorPagina = 20;
        this.total = 0;
        this.paginasTotales = 0;
        this.indicePaginas = [];
        // # FIN SECCION
        // # SECCION: Resultados de búsqueda
        this.ultimoTerminoBuscado = "";
        this.terminosBusqueda = new __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__["Subject"]();
        this.resultadosBusqueda = [];
        this.busquedaActivada = false;
        this.paginaActualBusqueda = 1;
        this.resultadosPorPaginaBusqueda = 5;
        this.totalBusqueda = 0;
        this.paginasTotalesBusqueda = 0;
        this.indicePaginasBusqueda = [];
    }
    ListaComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.title.setTitle("Entradas / Farmacia");
        this.usuario = JSON.parse(localStorage.getItem("usuario"));
        // Inicializamos el objeto para los reportes con web Webworkers
        this.pdfworker = new Worker("web-workers/farmacia/movimientos/imprimir-entrada.js");
        //this.pdfworker = new Worker("web-workers/farmacia/movimientos/receta.js");
        // Este es un hack para poder usar variables del componente dentro de una funcion del worker
        var self = this;
        var $ngZone = this._ngZone;
        this.pdfworker.onmessage = function (evt) {
            // Esto es un hack porque estamos fuera de contexto dentro del worker
            // Y se usa esto para actualizar alginas variables
            $ngZone.run(function () {
                self.cargandoPdf = false;
            });
            __WEBPACK_IMPORTED_MODULE_12_file_saver__["saveAs"](self.base64ToBlob(evt.data.base64, 'application/pdf'), evt.data.fileName);
            //open( 'data:application/pdf;base64,' + evt.data.base64 ); // Popup PDF
        };
        this.listar(1);
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */]();
        var self = this;
        var busquedaSubject = this.terminosBusqueda
            .debounceTime(300) // Esperamos 300 ms pausando eventos
            .distinctUntilChanged() // Ignorar si la busqueda es la misma que la ultima
            .switchMap(function (term) {
            console.log("Cargando búsqueda.");
            _this.busquedaActivada = term != "" ? true : false;
            _this.ultimoTerminoBuscado = term;
            _this.paginaActualBusqueda = 1;
            _this.cargando = true;
            return term ? _this.movimientosEntradasService.buscar(term, _this.paginaActualBusqueda, _this.resultadosPorPaginaBusqueda) : __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__["Observable"].of({ data: [] });
        }).catch(function handleError(error) {
            self.cargando = false;
            self.mensajeError.mostrar = true;
            self.ultimaPeticion = function () { self.listarBusqueda(self.ultimoTerminoBuscado, self.paginaActualBusqueda); }; //OJO
            try {
                var e = error.json();
                if (error.status == 401) {
                    self.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    self.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    self.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
            // Devolvemos el subject porque si no se detiene el funcionamiento del stream 
            return busquedaSubject;
        });
        busquedaSubject.subscribe(function (resultado) {
            _this.cargando = false;
            _this.resultadosBusqueda = resultado.data;
            _this.totalBusqueda = resultado.total | 0;
            _this.paginasTotalesBusqueda = Math.ceil(_this.totalBusqueda / _this.resultadosPorPaginaBusqueda);
            _this.indicePaginasBusqueda = [];
            for (var i = 0; i < _this.paginasTotalesBusqueda; i++) {
                _this.indicePaginasBusqueda.push(i + 1);
            }
            console.log("Búsqueda cargada.");
        });
        this.movimiento = this.fb.group({
            almacen_id: ['', [__WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required]],
            tipo_movimiento_id: ['', [__WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required]],
            fecha_movimiento: ['', [__WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required]],
            observaciones: ['', [__WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required]],
            cancelado: ['', [__WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required]],
            observaciones_cancelacion: ['', [__WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required]],
            insumos: this.fb.array([
                this.initInsumo(),
            ])
        });
    }; //Fin ngOnInit
    ListaComponent.prototype.initInsumo = function () {
        return this.fb.group({
            clave: ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required],
            cantidad: ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required],
            cantidad_x_envase: ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required],
            lote: ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required],
            fecha_caducidad: ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required],
            codigo_barras: ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required],
        });
    };
    ListaComponent.prototype.toggleModalCancelado = function (item, index) {
        this.mostrarModalCancelado = !this.mostrarModalCancelado;
        this.dato = item;
        this.index = index;
    };
    ListaComponent.prototype.guardar = function (item) {
        var _this = this;
        console.log(item);
        item.cancelado = 1;
        this.movimientosEntradasService.editar(item.id, item).subscribe(function (movimiento) {
            _this.cargando = false;
            console.log("Movimiento editado.");
            _this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */](true);
            _this.mensajeExito.texto = "Se han guardado los cambios.";
            _this.mensajeExito.mostrar = true;
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError.texto = "No especificado.";
            _this.mensajeError.mostrar = true;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
                // Problema de validación
            }
            catch (e) {
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    ListaComponent.prototype.buscar = function (term) {
        this.terminosBusqueda.next(term);
    };
    ListaComponent.prototype.listarBusqueda = function (term, pagina) {
        var _this = this;
        this.paginaActualBusqueda = pagina;
        console.log("Cargando búsqueda.");
        this.cargando = true;
        this.movimientosEntradasService.buscar(term, pagina, this.resultadosPorPaginaBusqueda).subscribe(function (resultado) {
            _this.cargando = false;
            _this.resultadosBusqueda = resultado.data;
            _this.totalBusqueda = resultado.total | 0;
            _this.paginasTotalesBusqueda = Math.ceil(_this.totalBusqueda / _this.resultadosPorPaginaBusqueda);
            _this.indicePaginasBusqueda = [];
            for (var i = 0; i < _this.paginasTotalesBusqueda; i++) {
                _this.indicePaginasBusqueda.push(i + 1);
            }
            console.log("Búsqueda cargada.");
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError.mostrar = true;
            _this.ultimaPeticion = function () { this.listarBusqueda(term, pagina); };
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    }; //Fin listarBusqueda
    ListaComponent.prototype.listar = function (pagina) {
        var _this = this;
        this.paginaActual = pagina;
        console.log("Cargando usuarios.");
        this.cargando = true;
        //Peticion a la API
        this.movimientosEntradasService.lista(pagina, this.resultadosPorPagina, this.usuario.almacen_activo.id).subscribe(function (resultado) {
            _this.cargando = false;
            if (resultado.data) {
                _this.items = resultado.data.data;
            }
            else {
                _this.items = [];
            }
            if (resultado.data) {
                _this.total = resultado.data.total | 0; //antes era resultado.total pero ahi no se encuentra el total sino en resultado.data.total
                _this.paginasTotales = Math.ceil(_this.total / _this.resultadosPorPagina);
                _this.indicePaginas = [];
                for (var i = 0; i < _this.paginasTotales; i++) {
                    _this.indicePaginas.push(i + 1);
                }
            }
            console.log("Items cargados.");
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError.mostrar = true;
            _this.ultimaPeticion = _this.listar;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    }; //Fin listar
    ListaComponent.prototype.eliminar = function (item, index) {
        var _this = this;
        item.cargando = true;
        this.movimientosEntradasService.eliminar(item.id).subscribe(function (data) {
            item.cargando = false;
            _this.items.splice(index, 1);
            console.log("Se eliminó el elemento de la lista.");
            _this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */](true);
            _this.mensajeExito.mostrar = true;
            _this.mensajeExito.texto = "Usuario eliminado";
        }, function (error) {
            item.cargando = false;
            _this.mensajeError.mostrar = true;
            _this.ultimaPeticion = function () {
                this.eliminar(item, index);
            };
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    }; //Fin eliminar
    // # SECCION: Paginación
    ListaComponent.prototype.paginaSiguiente = function () {
        this.listar(this.paginaActual + 1);
    };
    ListaComponent.prototype.paginaAnterior = function () {
        this.listar(this.paginaActual - 1);
    };
    ListaComponent.prototype.paginaSiguienteBusqueda = function (term) {
        this.listarBusqueda(term, this.paginaActualBusqueda + 1);
    };
    ListaComponent.prototype.paginaAnteriorBusqueda = function (term) {
        this.listarBusqueda(term, this.paginaActualBusqueda - 1);
    };
    // Fin # SECCION: Paginación
    // # SECCION - Webworkers
    ListaComponent.prototype.imprimir = function (item, index) {
        var _this = this;
        console.log(item.id);
        this.movimientosEntradasService.ver(item.id).subscribe(function (movimientoActual) {
            _this.cargando = false;
            item.datosImprimir = movimientoActual;
            console.log(movimientoActual);
            try {
                _this.cargandoPdf = true;
                var entradas_imprimir = {
                    datos: item,
                    lista: item.datosImprimir.insumos,
                    usuario: _this.usuario
                };
                _this.pdfworker.postMessage(JSON.stringify(entradas_imprimir));
            }
            catch (e) {
                _this.cargandoPdf = false;
                console.log(e);
            }
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError.mostrar;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    ListaComponent.prototype.base64ToBlob = function (base64, type) {
        var bytes = atob(base64), len = bytes.length;
        var buffer = new ArrayBuffer(len), view = new Uint8Array(buffer);
        for (var i = 0; i < len; i++)
            view[i] = bytes.charCodeAt(i) & 0xff;
        return new Blob([buffer], { type: type });
    };
    return ListaComponent;
}());
ListaComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'farmacia-entradas-lista',
        template: __webpack_require__("../../../../../src/app/farmacia/movimientos-entradas/lista/lista.component.html"),
        styles: [__webpack_require__("../../../../../src/app/farmacia/movimientos-entradas/lista/lista.component.css")],
        providers: [__WEBPACK_IMPORTED_MODULE_13__movimientos_entradas_service__["a" /* MovimientosEntradasService */]]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_13__movimientos_entradas_service__["a" /* MovimientosEntradasService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_13__movimientos_entradas_service__["a" /* MovimientosEntradasService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_2__angular_forms__["FormBuilder"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_forms__["FormBuilder"]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"]) === "function" && _d || Object])
], ListaComponent);

var _a, _b, _c, _d;
//# sourceMappingURL=C:/wamp/www/x3-C/src/lista.component.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-entradas/menu-lateral/menu-lateral.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-entradas/menu-lateral/menu-lateral.component.html":
/***/ (function(module, exports) {

module.exports = "<aside class=\"menu\" style=\"padding: 1em;\">\r\n    <!--  <p class=\"menu-label\">\r\n        Pedidos\r\n    </p>-->\r\n    <a routerLink=\"/almacen/movimientos/entradas/nuevo\" routerLinkActive=\"is-active\" class=\"button is-primary is-inverted is-medium is-fullwidth\"><span class=\"icon\"  ><i class=\"fa fa-plus\"></i></span> <span>Nueva Entrada</span></a>\r\n    <br>\r\n    <ul class=\"menu-list\">\r\n        <li>\r\n            <a routerLink=\"/almacen/movimientos/entradas\" #todos routerLinkActive=\"is-active\">\r\n                <span class=\"icon\"><i class=\"fa fa-file\"></i></span> Entrada manual\r\n            </a>\r\n        </li>\r\n\r\n    </ul>\r\n\r\n</aside>"

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-entradas/menu-lateral/menu-lateral.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__movimientos_entradas_service__ = __webpack_require__("../../../../../src/app/farmacia/movimientos-entradas/movimientos-entradas.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MenuLateralComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var MenuLateralComponent = (function () {
    function MenuLateralComponent(movimientosEntradasService) {
        this.movimientosEntradasService = movimientosEntradasService;
        this.cargando = false;
        this.stats = {
            manual: 0
        };
    }
    MenuLateralComponent.prototype.ngOnInit = function () {
        this.cargando = true;
        /*this.movimientosEntradasService.stats().subscribe(
          response => {
            this.cargando = false;
            this.stats = response;
          },
          error => {
            this.cargando = false;
            console.log(error);
          }
        );*/
    };
    return MenuLateralComponent;
}());
MenuLateralComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'menu-lateral',
        template: __webpack_require__("../../../../../src/app/farmacia/movimientos-entradas/menu-lateral/menu-lateral.component.html"),
        styles: [__webpack_require__("../../../../../src/app/farmacia/movimientos-entradas/menu-lateral/menu-lateral.component.css")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__movimientos_entradas_service__["a" /* MovimientosEntradasService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__movimientos_entradas_service__["a" /* MovimientosEntradasService */]) === "function" && _a || Object])
], MenuLateralComponent);

var _a;
//# sourceMappingURL=C:/wamp/www/x3-C/src/menu-lateral.component.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-entradas/modelo.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__paginacion_paginacion__ = __webpack_require__("../../../../../src/app/paginacion/paginacion.ts");
/* unused harmony export Movimiento_insumo */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Modelo; });

var ModeloFiltro = (function () {
    function ModeloFiltro() {
    }
    return ModeloFiltro;
}());
var Movimiento_insumo = (function () {
    function Movimiento_insumo() {
    }
    return Movimiento_insumo;
}());

var Modelo = (function () {
    function Modelo(conFiltro) {
        if (conFiltro === void 0) { conFiltro = false; }
        this.movimiento_insumos = [];
        this.almacen = [];
        //public nombre:String;
        //public observaciones:string;
        this.lista = [];
        this.totalInsumos = 0;
        this.paginacion = new __WEBPACK_IMPORTED_MODULE_0__paginacion_paginacion__["a" /* Paginacion */]();
        this.activo = false;
        this.cargando = false;
        this.indexar = function (conLote) {
            if (conLote === void 0) { conLote = true; }
            if (conLote) {
                var contador = 1;
                for (var i in this.lista) {
                    this.lista[i].lote = contador++;
                }
            }
            this.paginacion.totalPaginas = Math.ceil(this.lista.length / this.paginacion.resultadosPorPagina);
            this.paginacion.indice = [];
            for (var i = 0; i < this.paginacion.totalPaginas; i++) {
                this.paginacion.indice.push(i + 1);
            }
        };
        this.listar = function (pagina) {
            if (pagina === void 0) { pagina = 1; }
            this.paginacion.paginaActual = pagina;
            var inicio = (this.paginacion.paginaActual - 1) * this.paginacion.resultadosPorPagina;
            var fin = inicio + this.paginacion.resultadosPorPagina;
            try {
                this.paginacion.lista = this.lista.slice(inicio, fin);
            }
            catch (e) {
                this.paginacion.lista = [];
            }
        };
        this.eliminarItem = function (item, index) {
            var contador = 0;
            for (var i in this.lista) {
                if (this.lista[i] === item) {
                    this.paginacion.lista.splice(index, 1);
                    this.lista.splice(contador, 1);
                    this.indexar();
                    //Harima: con esto calculamos el siguiente indice, de la lista total de elementos, a agregar al final de la página
                    var proximoIndice = (contador + (this.paginacion.resultadosPorPagina - index)) - 1;
                    //Harima:  si ese indice existe, lo agregamos al final de la pagina
                    if (this.lista[proximoIndice]) {
                        this.paginacion.lista.push(this.lista[proximoIndice]);
                    }
                    //Harima: Si la pagina quedo vacía, listamos la pagina anterior, en caso de que la página actual sea mayor a 1
                    if (this.paginacion.lista.length == 0) {
                        if (this.paginacion.paginaActual > 1) {
                            this.listar(this.paginacion.paginaActual - 1);
                        }
                        else {
                            this.listar(1);
                        }
                    }
                    //Harima: si el objeto padre esta inicializado, significa que se esta eliminando desde una busqueda, por tanto hay que eliminar también en el objeto padre
                    if (this.padre) {
                        //Harima: se obtiene el indice y la pagina del item eliminado
                        var indice = this.padre.lista.indexOf(item);
                        var pagina = Math.ceil(indice / this.padre.paginacion.resultadosPorPagina);
                        //Harima: se calcula el indice que tiene el item en la pagina en la que se encuentra
                        var ajusteIndices = (pagina - 1) * this.padre.paginacion.resultadosPorPagina;
                        var indiceEnPagina = indice - ajusteIndices;
                        //Harima: eliminamos el elemento del padre, de ser necesario cambiamos de pagina
                        if (this.padre.paginacion.paginaActual == pagina) {
                            this.padre.eliminarItem(item, indiceEnPagina);
                        }
                        else {
                            var respaldoPagina = this.padre.paginacion.paginaActual;
                            this.padre.listar(pagina);
                            this.padre.eliminarItem(item, indiceEnPagina);
                            this.padre.listar(respaldoPagina);
                            //Harima: tenemos que checar si en la pagina actual del padre aun hay elementos, de lo contrario listamos la pagina anterior, cuando sea posible
                            if (this.padre.paginacion.lista.length == 0) {
                                if (this.padre.paginacion.paginaActual > 1) {
                                    this.padre.listar(this.padre.paginacion.paginaActual - 1);
                                }
                                else {
                                    this.padre.listar(1);
                                }
                            }
                        }
                    }
                    return;
                }
                contador++;
            }
        }; //Fin eliminarItem*/
        if (conFiltro) {
            this.filtro = new Modelo();
            //Harima: se asigna el Modelo actual como padre del filtro
            this.filtro.padre = this;
        }
    }
    Modelo.prototype.paginaSiguiente = function () {
        if (this.paginacion.paginaActual == this.paginacion.totalPaginas) {
            return;
        }
        this.listar(this.paginacion.paginaActual + 1);
    };
    Modelo.prototype.paginaAnterior = function () {
        if (this.paginacion.paginaActual == 1) {
            return;
        }
        this.listar(this.paginacion.paginaActual - 1);
    };
    return Modelo;
}());

//# sourceMappingURL=C:/wamp/www/x3-C/src/modelo.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-entradas/movimiento.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export Mov */
/* unused harmony export Movimiento */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Insumo; });
/* unused harmony export Informacion */
var Mov = (function () {
    function Mov() {
        this.cargando = false;
    }
    return Mov;
}());

var Movimiento = (function () {
    function Movimiento() {
    }
    return Movimiento;
}());

var Insumo = (function () {
    function Insumo() {
    }
    return Insumo;
}());

var Informacion = (function () {
    function Informacion() {
    }
    return Informacion;
}());

//# sourceMappingURL=C:/wamp/www/x3-C/src/movimiento.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-entradas/movimientos-entradas-routing.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lista_lista_component__ = __webpack_require__("../../../../../src/app/farmacia/movimientos-entradas/lista/lista.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__nuevo_nuevo_component__ = __webpack_require__("../../../../../src/app/farmacia/movimientos-entradas/nuevo/nuevo.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__editar_editar_component__ = __webpack_require__("../../../../../src/app/farmacia/movimientos-entradas/editar/editar.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__auth_guard_service__ = __webpack_require__("../../../../../src/app/auth-guard.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MovimientosEntradasRoutingModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};






var routes = [
    { path: 'almacen/movimientos', redirectTo: 'almacen/movimientos/entradas', pathMatch: 'full' },
    {
        path: 'almacen/movimientos',
        children: [
            { path: 'entradas', component: __WEBPACK_IMPORTED_MODULE_2__lista_lista_component__["a" /* ListaComponent */] },
            { path: 'entradas/nuevo', component: __WEBPACK_IMPORTED_MODULE_3__nuevo_nuevo_component__["a" /* NuevoComponent */] },
            { path: 'entradas/editar/:id', component: __WEBPACK_IMPORTED_MODULE_4__editar_editar_component__["a" /* EditarComponent */] }
        ],
        canActivate: [__WEBPACK_IMPORTED_MODULE_5__auth_guard_service__["a" /* AuthGuard */]]
    }
];
var MovimientosEntradasRoutingModule = (function () {
    function MovimientosEntradasRoutingModule() {
    }
    return MovimientosEntradasRoutingModule;
}());
MovimientosEntradasRoutingModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */].forChild(routes)],
        exports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */]]
    })
], MovimientosEntradasRoutingModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/movimientos-entradas-routing.module.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-entradas/movimientos-entradas.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ngui_datetime_picker__ = __webpack_require__("../../../../@ngui/datetime-picker/dist/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ngui_datetime_picker___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__ngui_datetime_picker__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__paginacion_paginacion_module__ = __webpack_require__("../../../../../src/app/paginacion/paginacion.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__buscar_insumos_movimientos_buscar_insumos_movimientos_module__ = __webpack_require__("../../../../../src/app/farmacia/buscar-insumos-movimientos/buscar-insumos-movimientos.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__index_farmacia_index_farmacia_module__ = __webpack_require__("../../../../../src/app/farmacia/index-farmacia/index-farmacia.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__movimientos_entradas_routing_module__ = __webpack_require__("../../../../../src/app/farmacia/movimientos-entradas/movimientos-entradas-routing.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__lista_lista_component__ = __webpack_require__("../../../../../src/app/farmacia/movimientos-entradas/lista/lista.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__nuevo_nuevo_component__ = __webpack_require__("../../../../../src/app/farmacia/movimientos-entradas/nuevo/nuevo.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__editar_editar_component__ = __webpack_require__("../../../../../src/app/farmacia/movimientos-entradas/editar/editar.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__form_form_component__ = __webpack_require__("../../../../../src/app/farmacia/movimientos-entradas/form/form.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__form_form_datos_component__ = __webpack_require__("../../../../../src/app/farmacia/movimientos-entradas/form/form-datos.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__form_form_insumos_component__ = __webpack_require__("../../../../../src/app/farmacia/movimientos-entradas/form/form-insumos.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__menu_lateral_menu_lateral_component__ = __webpack_require__("../../../../../src/app/farmacia/movimientos-entradas/menu-lateral/menu-lateral.component.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MovimientosEntradasModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};















var MovimientosEntradasModule = (function () {
    function MovimientosEntradasModule() {
    }
    return MovimientosEntradasModule;
}());
MovimientosEntradasModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [
            __WEBPACK_IMPORTED_MODULE_1__angular_common__["CommonModule"],
            __WEBPACK_IMPORTED_MODULE_7__movimientos_entradas_routing_module__["a" /* MovimientosEntradasRoutingModule */],
            __WEBPACK_IMPORTED_MODULE_6__index_farmacia_index_farmacia_module__["a" /* IndexFarmaciaModule */],
            __WEBPACK_IMPORTED_MODULE_4__paginacion_paginacion_module__["a" /* PaginacionModule */],
            __WEBPACK_IMPORTED_MODULE_2__angular_forms__["FormsModule"],
            __WEBPACK_IMPORTED_MODULE_3__ngui_datetime_picker__["NguiDatetimePickerModule"],
            __WEBPACK_IMPORTED_MODULE_2__angular_forms__["ReactiveFormsModule"],
            __WEBPACK_IMPORTED_MODULE_5__buscar_insumos_movimientos_buscar_insumos_movimientos_module__["a" /* BuscarInsumosMovimientosModule */]
        ],
        declarations: [
            __WEBPACK_IMPORTED_MODULE_8__lista_lista_component__["a" /* ListaComponent */],
            __WEBPACK_IMPORTED_MODULE_9__nuevo_nuevo_component__["a" /* NuevoComponent */],
            __WEBPACK_IMPORTED_MODULE_10__editar_editar_component__["a" /* EditarComponent */],
            __WEBPACK_IMPORTED_MODULE_11__form_form_component__["a" /* FormComponent */],
            __WEBPACK_IMPORTED_MODULE_12__form_form_datos_component__["a" /* FormDatosComponent */],
            __WEBPACK_IMPORTED_MODULE_13__form_form_insumos_component__["a" /* FormInsumosComponent */],
            __WEBPACK_IMPORTED_MODULE_14__menu_lateral_menu_lateral_component__["a" /* MenuLateralComponent */]
        ]
    })
], MovimientosEntradasModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/movimientos-entradas.module.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-entradas/movimientos-entradas.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/@angular/http.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__ = __webpack_require__("../../../../../src/app/jwt-request.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MovimientosEntradasService; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var MovimientosEntradasService = MovimientosEntradasService_1 = (function () {
    function MovimientosEntradasService(http, jwtRequest) {
        this.http = http;
        this.jwtRequest = jwtRequest;
    }
    MovimientosEntradasService.prototype.stats = function () {
        return this.jwtRequest.get(MovimientosEntradasService_1.URL_STATS, null, null).map(function (response) { return response.json(); });
    };
    MovimientosEntradasService.prototype.buscar = function (term, pagina, resultados_por_pagina) {
        if (pagina === void 0) { pagina = 1; }
        if (resultados_por_pagina === void 0) { resultados_por_pagina = 20; }
        //buscar(tipo_salida:number, term: string, pagina:number = 1, resultados_por_pagina:number =20 ): Observable<any>{
        return this.jwtRequest.get(MovimientosEntradasService_1.URL + "?tipo=1", null, { q: term, page: pagina, per_page: resultados_por_pagina }).map(function (response) { return response.json().data; });
    };
    MovimientosEntradasService.prototype.lista = function (pagina, resultados_por_pagina, almacen) {
        if (pagina === void 0) { pagina = 1; }
        if (resultados_por_pagina === void 0) { resultados_por_pagina = 5; }
        return this.jwtRequest.get(MovimientosEntradasService_1.URL + "?almacen=" + almacen + "&tipo=1", null, { page: pagina, per_page: resultados_por_pagina }).map(function (response) { return response.json(); });
    };
    //Para listar datos de manera general
    MovimientosEntradasService.prototype.listaDatos = function (url) {
        var urlModel;
        return this.jwtRequest.get(url).map(function (response) { return response.json().data; });
    };
    MovimientosEntradasService.prototype.ver = function (id) {
        return this.jwtRequest.get(MovimientosEntradasService_1.URL, id, {}).map(function (response) {
            var jsonData = response.json().data;
            var item = jsonData;
            return item;
        });
    };
    MovimientosEntradasService.prototype.editar = function (id, dato) {
        return this.jwtRequest.put(MovimientosEntradasService_1.URL, id, dato).map(function (response) { return response.json().data; });
    };
    MovimientosEntradasService.prototype.crear = function (movimiento) {
        return this.jwtRequest.post(MovimientosEntradasService_1.URL, movimiento).map(function (response) { return response.json().data; });
    };
    MovimientosEntradasService.prototype.eliminar = function (id) {
        return this.jwtRequest.delete(MovimientosEntradasService_1.URL, id).map(function (response) { return response.json().data; });
    };
    return MovimientosEntradasService;
}());
MovimientosEntradasService.URL = "movimientos";
MovimientosEntradasService.URL_STATS = "movimiento-stats";
MovimientosEntradasService = MovimientosEntradasService_1 = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__["a" /* JwtRequestService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__["a" /* JwtRequestService */]) === "function" && _b || Object])
], MovimientosEntradasService);

var MovimientosEntradasService_1, _a, _b;
//# sourceMappingURL=C:/wamp/www/x3-C/src/movimientos-entradas.service.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-entradas/nuevo/nuevo.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-entradas/nuevo/nuevo.component.html":
/***/ (function(module, exports) {

module.exports = "<menu-farmacia [modulo]=\"'Entradas'\" [icono]=\"'assets/icono-entradas.svg'\" [url]=\"'/almacen/movimientos/entradas'\"></menu-farmacia>\r\n\r\n<div style=\"height:50px;\"></div>\r\n<entradas-form [movimiento]=\"movimiento\" [insumosForm]=\"insumosNuevo\" [cargando]=\"cargando\" (onEnviar)=\"enviar($event)\"></entradas-form>\r\n\r\n\r\n<div class=\"notification is-danger\" style=\"position:fixed; left:1em;  bottom:1em;\" *ngIf=\"mensajeError.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeError.mostrar = false\"></button>\r\n    <p><b>Error:</b> {{ mensajeError.texto }}<br></p>\r\n    <p style=\"text-align: center;\"><small>Este mensaje desaparecerá en {{ mensajeError.cuentaAtras }} segundos.</small></p>\r\n</div>\r\n\r\n<div class=\"notification is-warning\" style=\"position:fixed; left:1em;  bottom:1em;\" *ngIf=\"mensajeAdvertencia.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeAdvertencia.mostrar = false\"></button>\r\n    <p><span class=\"icon\" style=\"margin-right: 0.5em;\"><i class=\"fa fa-warning\"></i></span> <span>{{ mensajeAdvertencia.texto }}</span></p>\r\n\r\n    <br>\r\n    <p style=\"text-align: center;\"><small>Este mensaje desaparecerá en {{ mensajeAdvertencia.cuentaAtras }} segundos.</small></p>\r\n</div>\r\n\r\n<div class=\"notification is-success\" style=\"position:fixed; left:1em;  bottom:1em; width: auto\" *ngIf=\"mensajeExito.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeExito.mostrar = false\"></button>\r\n    <p><span class=\"icon\" style=\"margin-right: 0.5em;\"><i class=\"fa fa-check-circle\"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style=\"text-align: center;\"><small>Este mensaje desaparecerá en {{ mensajeExito.cuentaAtras }} segundos.</small></p>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-entradas/nuevo/nuevo.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__auth_service__ = __webpack_require__("../../../../../src/app/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__movimientos_entradas_service__ = __webpack_require__("../../../../../src/app/farmacia/movimientos-entradas/movimientos-entradas.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__mensaje__ = __webpack_require__("../../../../../src/app/mensaje.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NuevoComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var NuevoComponent = (function () {
    function NuevoComponent(router, title, authService, location, movimientosEntradasService, fb) {
        this.router = router;
        this.title = title;
        this.authService = authService;
        this.location = location;
        this.movimientosEntradasService = movimientosEntradasService;
        this.fb = fb;
        this.movimientoRepetido = false;
        this.movimientoInvalido = false;
        this.cargando = false;
        this.cargandoDatos = false;
        this.almacenes = {};
        this.usuario = {};
        // # SECCION: Esta sección es para mostrar mensajes
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_7__mensaje__["a" /* Mensaje */]();
        this.mensajeAdvertencia = new __WEBPACK_IMPORTED_MODULE_7__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_7__mensaje__["a" /* Mensaje */]();
        // # FIN SECCION
        this.insumosNuevo = [];
    }
    NuevoComponent.prototype.ngOnInit = function () {
        this.title.setTitle("Nuevo movimiento / Farmacia");
        this.usuario = JSON.parse(localStorage.getItem("usuario"));
        this.movimiento = this.fb.group({
            id: [''],
            almacen_id: ['', [__WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required]],
            status: ['', [__WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required]],
            tipo_movimiento_id: ['', [__WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required]],
            fecha_movimiento: ['', [__WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required]],
            observaciones: ['', [__WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required]],
            movimiento_metadato: this.fb.group({
                persona_recibe: ['', [__WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required]],
                servicio_id: [null]
            }),
            cancelado: ['', [__WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required]],
            observaciones_cancelacion: ['', [__WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required]],
            insumos: this.fb.array([
                this.initInsumo(),
            ])
        });
        this.movimiento.patchValue({ almacen_id: this.usuario.almacen_activo.id });
        this.movimiento.patchValue({ cancelado: false });
        this.movimiento.patchValue({ status: "FI" });
        this.movimiento.patchValue({ tipo_movimiento_id: 1 });
    };
    NuevoComponent.prototype.initInsumo = function () {
        return this.fb.group({
            clave: ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required],
            cantidad: ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required],
            cantidad_x_envase: ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required],
            lote: ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required],
            fecha_caducidad: ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required],
            codigo_barras: ['', __WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required],
        });
    };
    NuevoComponent.prototype.enviar = function (insumosAgregadosForm) {
        var _this = this;
        this.cargando = true;
        this.movimiento.value.insumos = insumosAgregadosForm;
        //console.log(this.movimiento.value);
        this.movimientosEntradasService.crear(this.movimiento.value).subscribe(function (movimiento) {
            _this.cargando = false;
            console.log("movimiento creado.");
            _this.location.back();
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_7__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError.texto = "No especificado.";
            _this.mensajeError.mostrar = true;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
                // Problema de validación
                if (error.status == 409) {
                    _this.mensajeError.texto = "Por favor verfique los campos vacíos.";
                    _this.movimientoRepetido = false;
                    _this.movimientoInvalido = false;
                    for (var input in e.error) {
                        // Iteramos todos los errores
                        for (var i in e.error[input]) {
                            if (input == 'id' && e.error[input][i] == 'unique') {
                                _this.movimientoRepetido = true;
                            }
                            if (input == 'id' && e.error[input][i] == 'email') {
                                _this.movimientoInvalido = true;
                            }
                        }
                    }
                }
            }
            catch (e) {
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    NuevoComponent.prototype.regresar = function () {
        this.location.back();
    };
    return NuevoComponent;
}());
NuevoComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-nuevo',
        template: __webpack_require__("../../../../../src/app/farmacia/movimientos-entradas/nuevo/nuevo.component.html"),
        styles: [__webpack_require__("../../../../../src/app/farmacia/movimientos-entradas/nuevo/nuevo.component.css")],
        providers: [__WEBPACK_IMPORTED_MODULE_6__movimientos_entradas_service__["a" /* MovimientosEntradasService */]]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_4__angular_router__["a" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__angular_router__["a" /* Router */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_3__angular_platform_browser__["b" /* Title */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__angular_platform_browser__["b" /* Title */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_5__auth_service__["a" /* AuthService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_5__auth_service__["a" /* AuthService */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_1__angular_common__["Location"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_common__["Location"]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_6__movimientos_entradas_service__["a" /* MovimientosEntradasService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_6__movimientos_entradas_service__["a" /* MovimientosEntradasService */]) === "function" && _e || Object, typeof (_f = typeof __WEBPACK_IMPORTED_MODULE_2__angular_forms__["FormBuilder"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_forms__["FormBuilder"]) === "function" && _f || Object])
], NuevoComponent);

var _a, _b, _c, _d, _e, _f;
//# sourceMappingURL=C:/wamp/www/x3-C/src/nuevo.component.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-salidas/editar/editar.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-salidas/editar/editar.component.html":
/***/ (function(module, exports) {

module.exports = "<menu-farmacia [modulo]=\"'Salidas estandar'\" [icono]=\"'assets/icono-salidas.svg'\" [url]=\"'/almacen/movimientos/salidas'\"></menu-farmacia>\r\n\r\n<div style=\"height:50px;\"></div>\r\n<div class=\"contenedor columns \" style=\"height:100%; padding:1em;\">\r\n    <div class=\"column is-one-third\">\r\n        <div style=\"background: #FFF; border-radius: 1em; overflow: hidden;\">\r\n            <section class=\"hero is-primary\">\r\n                <h1 class=\"title\" style=\"margin:0.5em; \"><span class=\"icon is-medium\"><i class=\"fa fa-file-text\"></i></span> Folio  {{id}}  </h1>\r\n            </section>\r\n            <div style=\"padding: 1em;\">\r\n                <div [formGroup]=\"movimiento\">\r\n\r\n                    <div class=\"control is-grouped\">\r\n                        <p class=\"control\">\r\n                            <label>Tipo de movimiento</label>\r\n                        </p>\r\n                        <p class=\"control\">\r\n                            <a class=\"button is-disabled\" *ngIf=\"movimiento.get('tipo_movimiento_id').value==2\" style=\"height: 50px\"><label> <strong> Salida estándar </strong></label></a>\r\n                        </p>\r\n                        <span style=\"width: auto;\"> &nbsp; &nbsp; </span>\r\n                        <p class=\"control\">\r\n                            <a class=\"button is-disabled\" *ngIf=\"movimiento.get('tipo_movimiento_id').value==5\" style=\"height: 50px\"><label> <strong> Salida receta </strong></label></a>\r\n                        </p>\r\n                    </div>\r\n\r\n                    <div class=\"control is-grouped\">\r\n                        <p class=\"control\">\r\n                            <label>Fecha de movimiento</label>\r\n                        </p>\r\n                        <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                            <input class=\"input is-disabled\" placeholder=\"Fecha de movimiento\" [value]=\"fecha_actual | date:'yyyy-MM-dd'\" formControlName=\"fecha_movimiento\" autofocus type=\"date\" [ngClass]=\"{'is-danger': movimiento.get('fecha_movimiento').hasError('required') && movimiento.get('fecha_movimiento').touched}\">\r\n                            <span class=\"icon is-small\" *ngIf=\"movimiento.get('fecha_movimiento').hasError('required') && movimiento.get('fecha_movimiento').touched\">\r\n                                <i class=\"fa fa-warning\"></i>\r\n                            </span>\r\n                            <span class=\"help is-danger\" *ngIf=\"movimiento.get('fecha_movimiento').hasError('required') && movimiento.get('fecha_movimiento').touched\">Este campo es requerido.</span>\r\n                        </p>\r\n                    </div>\r\n\r\n                    <div class=\"control\">\r\n                        <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                            <textarea class=\"textarea is-disabled\" autofocus type=\"text\" [ngClass]=\"{'is-danger': movimiento.get('observaciones').hasError('required') && movimiento.get('observaciones').touched}\" formControlName=\"observaciones\"></textarea>\r\n                            <span class=\"icon is-small\" *ngIf=\"movimiento.get('observaciones').hasError('required') && movimiento.get('observaciones').touched\">\r\n                                <i class=\"fa fa-warning\"></i>\r\n                            </span>\r\n                            <span class=\"help is-danger\" *ngIf=\"movimiento.get('observaciones').hasError('required') && movimiento.get('observaciones').touched\">Este campo es requerido.</span>\r\n                        </p>\r\n                    </div>\r\n<div formGroupName=\"movimiento_metadato\">\r\n      <div class=\"control is-grouped\">\r\n            <p class=\"control\">\r\n                <label>Servicio</label>\r\n            </p>\r\n            <p class=\"control is-expanded\">\r\n                <span class=\"select\">\r\n                    <select *ngIf=\"!cargando\" class=\"select styled is-disabled\" name=\"servicio_id\" formControlName=\"servicio_id\" [ngClass]=\"{'is-warning': servicios?.length ==0 }\">\r\n                        <option *ngFor=\"let item of servicios\" value=\"{{item.servicio_id}}\">{{ item.servicio.nombre }}</option>\r\n                    </select>\r\n                </span>\r\n            </p>\r\n        </div>\r\n\r\n        <div class=\"control\">\r\n            <p class=\"control has-icon has-icon-right\">\r\n                <input type=\"text\" class=\"input is-disabled\" autofocus placeholder=\"Persona que recibe\"  formControlName=\"persona_recibe\">\r\n                \r\n            </p>\r\n        </div>\r\n    </div>\r\n                    <div class=\"control\" *ngIf=\"mostrarCancelado\">\r\n                        <!-- *ngIf -->\r\n                        <p class=\"control\">\r\n                            <label class=\"checkbox\">\r\n                <input type=\"checkbox\" formControlName=\"cancelado\">\r\n                Cancelado\r\n              </label>\r\n                        </p>\r\n                        <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                            <textarea class=\"textarea\" autofocus type=\"text\" [ngClass]=\"{'is-danger': movimiento.get('observaciones_cancelacion').hasError('required') && movimiento.get('observaciones_cancelacion').touched}\" placeholder=\"Observaciones de cancelacion\" formControlName=\"observaciones_cancelacion\"></textarea>\r\n                            <span class=\"icon is-small\" *ngIf=\"movimiento.get('observaciones_cancelacion').hasError('required') && movimiento.get('observaciones_cancelacion').touched\">\r\n                <i class=\"fa fa-warning\"></i>\r\n              </span>\r\n                            <span class=\"help is-danger\" *ngIf=\"movimiento.get('observaciones_cancelacion').hasError('required') && movimiento.get('observaciones_cancelacion').touched\">Este campo es requerido.</span>\r\n                        </p>\r\n                    </div>\r\n\r\n                </div>\r\n                <div class=\"control is-grouped\">\r\n                </div>\r\n\r\n                <div class=\"control is-grouped\">\r\n                    <!--\r\n                        <div class=\"control\">\r\n\r\n                            <select name=\"status\" formControlName=\"status\" class=\"select\">\r\n                                <option *ngFor=\"let item of listaStatus\" value=\"{{item.id}}\" [attr.selected]=\"movimiento.get('status').value == item.id ? true:false\">{{ item.nombre }}</option>\r\n                            </select>\r\n                            <span class=\"help is-danger\" *ngIf=\"movimiento.get('status').hasError('required') && movimiento.get('status').touched\">Debe elegir un status.</span>\r\n\r\n                        </div>\r\n                        -->\r\n                    <p class=\"control\">\r\n                        <!-- <a class=\"button is-primary \" routerLink=\"/almacen/movimientos/salidas/\" type=\"submit\" [ngClass]=\"{'is-loading': cargando}\">Finalizar</a> -->\r\n                        <a class=\"is is-danger\" (click)=\"imprimir(movimiento.value)\"><span class=\"icon\"><i class=\"fa fa-print\"></i></span></a>\r\n                    </p>\r\n                    <p class=\"control\">\r\n                        <a class=\"button is-white\" routerLink=\"/almacen/movimientos/salidas/\">Ir a la lista</a>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n    <div class=\"column\">\r\n        <div style=\"background: #FFF; border-radius: 1em; overflow: hidden;\">\r\n            <section class=\"hero is-primary\">\r\n                <h1 class=\"title\" style=\"margin:0.5em; \"><span class=\"icon is-medium\"><i class=\"fa fa-file-text\"></i></span> Insumos</h1>\r\n            </section>\r\n\r\n            <div style=\"padding: 1em;\">\r\n                <div class=\"notification has-text-centered\" *ngIf=\"cargando\">\r\n                    <span class=\"icon\"><i class=\"fa fa-gear fa-spin\"></i></span> Cargando datos. <strong>Espere un momento</strong>\r\n                </div>\r\n                <table class=\"table is-unselectable is-striped\" *ngIf=\"!cargando\" style=\"font-size: 0.8em;\">\r\n                    <thead>\r\n                        <tr>\r\n                            <th style=\"width:41px;vertical-align: middle;\" class=\"has-text-centered\"><abbr title=\"Numero progresivo\">NP</abbr></th>\r\n                            <th class=\"is-hidden-mobile\" style=\"width:118px;\">\r\n                                <p class=\"control is-expanded\" style=\"vertical-align: middle;\">\r\n                                    Clave\r\n                                    <!-- \r\n                                        <input type=\"hidden\" #searchBoxClavePrevia>\r\n                                    <input class=\"input is-small\" type=\"text\" placeholder=\"Clave\" #searchBoxClave id=\"search-box-clave-{{indexPedido}}\" (keyup)=\"buscar($event,searchBoxClave, searchBoxClavePrevia,[{ input: searchBoxDescripcion, campos: ['generico','informacion.concentracion','informacion.presentacion']}, { input: searchBoxClave, campos: ['clave']}])\">\r\n\r\n                                    -->\r\n                                </p>\r\n                            </th>\r\n                            <th class=\"is-hidden-mobile\">\r\n                                <p class=\"control is-expanded\">\r\n                                    Nombre\r\n                                    <!--\r\n                                        <input type=\"hidden\" #searchBoxDescripcionPrevia>\r\n                                    <input class=\"input is-small\" type=\"text\" placeholder=\"Genérico\" #searchBoxDescripcion id=\"search-box-descripcion-{{indexPedido}}\" (keyup)=\"buscar($event,searchBoxDescripcion,searchBoxDescripcionPrevia,[{ input: searchBoxDescripcion, campos: ['generico_nombre','informacion.concentracion','informacion.presentacion']}, { input: searchBoxClave, campos: ['clave']}])\">\r\n                                    -->\r\n                                </p>\r\n                            </th>\r\n                            <th class=\"is-hidden-tablet\">\r\n                                <p class=\"control is-expanded\">\r\n                                    <input type=\"hidden\" #searchBoxDescripcionClavePrevia>\r\n                                    <input class=\"input is-small\" type=\"text\" placeholder=\"Clave o Genérico\" #searchBoxDescripcionClave id=\"search-box-descripcion-clave-{{indexPedido}}\" (keyup)=\"buscar($event,searchBoxDescripcionClave,searchBoxDescripcionClavePrevia,[{ input: searchBoxDescripcionClave, campos: ['clave','generico_nombre','informacion.concentracion','informacion.presentacion']}])\">\r\n                                </p>\r\n                            </th>\r\n                            <th style=\"vertical-align: middle;\" class=\"is-hidden-mobile is-hidden-tablet-only\">Descripcion</th>\r\n                            <th style=\"width:78px !important;text-align: center; vertical-align: middle;\"><abbr title=\"\"></abbr></th>\r\n                            <th style=\"width:21px !important;\"></th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n\r\n                        <tr *ngFor=\"let item of salidaMovimiento.insumos;  let i = index;\">\r\n                            <!-- LOTE -->\r\n                            <td class=\"has-text-centered\">{{ i+1 }}</td>\r\n                            <!-- CLAVE -->\r\n                            <td class=\"has-text-centered is-hidden-mobile\"><a (click)=\"mostrarFichaInformativa($event, item.clave)\" style=\"cursor:help;\">{{ item.clave }}</a></td>\r\n\r\n                            <!-- DESCRIPCION  -->\r\n                            <td>\r\n                                <small class=\"is-hidden-tablet\">{{ item.detalles.clave }}<br></small>\r\n                                <b>{{ item.detalles.generico_nombre }} {{ item.detalles.clave }} </b> <br class=\"is-hidden-mobile\"><small *ngIf=\"item.tipo == 'ME'\"><b>{{ item.detalles.informacion_ampliada.concentracion }}</b></small><br>\r\n\r\n                                <div class=\"is-hidden-desktop\" *ngIf=\"item.tipo == 'ME'\" style=\"line-height:1em;\">\r\n                                    <small><i>{{ item.detalles.presentacion_nombre }}</i></small><br>\r\n                                    <small><i>{{ item.detalles.informacion_ampliada.contenido }} </i></small>\r\n                                </div>\r\n                                <div class=\"is-hidden-desktop\" *ngIf=\"item.tipo != 'ME'\" style=\"line-height:1em;\">\r\n                                    <small>{{ item.detalles.descripcion }}</small>\r\n                                </div>\r\n                                <div class=\"is-hidden-desktop\" style=\"padding: 0.5em 0 0.5em 0; \">\r\n                                    <span *ngIf=\"item.detalles.es_causes\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">CAUSES</span>\r\n                                    <span *ngIf=\"!item.detalles.es_causes\" class=\"tag is-danger\" style=\"font-size: 0.7em !important;\">NO CAUSES</span>\r\n                                    <span *ngIf=\"item.detalles.es_cuadro_basico\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">Cuadro básico</span>\r\n\r\n                                    <span *ngIf=\"item.detalles.tipo == 'ME'\">\r\n                        <span *ngIf=\"item.detalles.informacion_ampliada.es_controlado\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Controlado</span>\r\n                                    <span *ngIf=\"item.detalles.informacion_ampliada.es_surfactante\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Surfactante</span>\r\n                                    </span>\r\n\r\n                                </div>\r\n                            </td>\r\n\r\n                            <!-- INFORMACION -->\r\n                            <td class=\"is-hidden-mobile is-hidden-tablet-only\">\r\n                                <div *ngIf=\"item.detalles.tipo == 'ME'\" style=\"line-height:1em;\">\r\n                                    <small><i> {{ item.detalles.informacion_ampliada.presentacion_nombre }} </i></small><br>\r\n                                    <small><i>{{ item.detalles.informacion_ampliada.contenido }} </i></small>\r\n                                </div>\r\n                                <div *ngIf=\"item.detalles.tipo != 'ME'\" style=\"line-height:1em;\">\r\n                                    <small>{{ item.detalles.descripcion }}</small>\r\n                                </div>\r\n                                <div style=\"padding: 0.5em 0 0.5em 0; \">\r\n                                    <span *ngIf=\"item.detalles.es_causes\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">CAUSES</span>\r\n                                    <span *ngIf=\"!item.detalles.es_causes\" class=\"tag is-danger\" style=\"font-size: 0.7em !important;\">NO CAUSES</span>\r\n                                    <span *ngIf=\"item.detalles.es_cuadro_basico\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">Cuadro básico</span>\r\n                                    <span *ngIf=\"item.detalles.tipo == 'ME'\">\r\n                        <span *ngIf=\"item.detalles.informacion_ampliada.es_controlado\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Controlado</span>\r\n                                    <span *ngIf=\"item.detalles.informacion_ampliada.es_surfactante\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Surfactante</span>\r\n                                    </span>\r\n\r\n                                </div>\r\n                            </td>\r\n                            <!-- *************************************************************************** -->\r\n\r\n                            <!-- CANTIDAD -->\r\n                            <td style=\"width:auto !important;\">\r\n                                <span class=\"tag is-success\" style=\"line-height:0.9em;\"> Cantidad total: &nbsp;<strong>{{item.cantidad}} </strong> </span>\r\n                                <table class=\"table\" style=\"line-height:0.8em; text-align-last: left;\">\r\n                                    <tbody>\r\n                                        <tr *ngFor=\"let lote of item.lotes\">\r\n                                            <td>\r\n                                                <span style=\"font-size: 0.9em\" class=\"tag is-light is-small is-fullwidth\" *ngIf=\"item.cantidad>0\"><strong>Lote: &nbsp; </strong> {{ lote.lote }}\r\n                                    </span>\r\n                                            </td>\r\n                                            <td>\r\n                                                <span style=\"font-size: 0.9em\" class=\"tag is-light is-small\" *ngIf=\"item.cantidad>0\"><strong>Cantidad: &nbsp;</strong> <span></span> {{lote.cantidad}}</span>\r\n                                            </td>\r\n                                            <td>\r\n                                                <span style=\"font-size: 0.9em\" class=\"tag is-light is-small\" *ngIf=\"item.cantidad>0\"><strong>Caducidad: &nbsp;<span></span> </strong> {{ lote.fecha_caducidad | date}}</span>\r\n                                            </td>\r\n                                            <td>\r\n                                                <span style=\"font-size: 0.9em\" class=\"tag is-light is-small\" *ngIf=\"item.cantidad>0\"><strong class=\"is-small\">Codigo de barras: &nbsp; <span></span></strong> {{ lote.codigo_barras}}</span>\r\n                                            </td>\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n                            </td>\r\n                            <!-- *************************************************************************** -->\r\n\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-salidas/editar/editar.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__auth_service__ = __webpack_require__("../../../../../src/app/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__movimientos_salidas_service__ = __webpack_require__("../../../../../src/app/farmacia/movimientos-salidas/movimientos-salidas.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_file_saver__ = __webpack_require__("../../../../file-saver/FileSaver.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_file_saver___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_file_saver__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__mensaje__ = __webpack_require__("../../../../../src/app/mensaje.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EditarComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var EditarComponent = (function () {
    function EditarComponent(router, title, authService, route, location, movimientosSalidasService, fb, _ngZone) {
        this.router = router;
        this.title = title;
        this.authService = authService;
        this.route = route;
        this.location = location;
        this.movimientosSalidasService = movimientosSalidasService;
        this.fb = fb;
        this._ngZone = _ngZone;
        this.movimientoRepetido = false;
        this.movimientoInvalido = false;
        this.cargandoPdf = false;
        this.cargando = false;
        this.cargandoDatos = false;
        this.almacenes = {};
        this.usuario = {};
        this.mostrarCancelado = false;
        // # SECCION: Esta sección es para mostrar mensajes
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_8__mensaje__["a" /* Mensaje */]();
        this.mensajeAdvertencia = new __WEBPACK_IMPORTED_MODULE_8__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_8__mensaje__["a" /* Mensaje */]();
        // # FIN SECCION
        this.insumosNuevo = [];
    }
    EditarComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.title.setTitle("Editar movimiento / Farmacia");
        this.usuario = JSON.parse(localStorage.getItem("usuario"));
        // Inicializamos el objeto para los reportes con web Webworkers
        this.pdfworker = new Worker("web-workers/farmacia/movimientos/salida.js");
        // Este es un hack para poder usar variables del componente dentro de una funcion del worker
        var self = this;
        var $ngZone = this._ngZone;
        this.pdfworker.onmessage = function (evt) {
            // Esto es un hack porque estamos fuera de contexto dentro del worker
            // Y se usa esto para actualizar alginas variables
            $ngZone.run(function () {
                self.cargandoPdf = false;
            });
            __WEBPACK_IMPORTED_MODULE_7_file_saver__["saveAs"](self.base64ToBlob(evt.data.base64, 'application/pdf'), evt.data.fileName);
            //open( 'data:application/pdf;base64,' + evt.data.base64 ); // Popup PDF
        };
        this.movimiento = this.fb.group({
            almacen_id: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            tipo_movimiento_id: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            fecha_movimiento: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            observaciones: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            cancelado: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            observaciones_cancelacion: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            movimiento_metadato: this.fb.group({
                persona_recibe: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
                servicio_id: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            }),
            insumos: this.fb.array([
                this.initInsumo(),
            ])
        });
        /*
        this.movimiento.patchValue({almacen_id: this.usuario.almacen_activo.id});
        this.movimiento.patchValue({cancelado: false});
        this.movimiento.patchValue({tipo_movimiento_id: 1});*/
        this.route.params.subscribe(function (params) {
            _this.id = params['id']; // Se puede agregar un simbolo + antes de la variable params para volverlo number
            //console.log(this.id);
            _this.cargarDatos();
        });
        this.movimientosSalidasService.listaDatos("clues-servicio", this.usuario.clues_activa.clues).subscribe(function (servicios) {
            _this.cargando = false;
            _this.servicios = servicios;
        }, function (error) {
            _this.cargando = false;
            try {
                var e = error.json();
                if (error.status == 401) {
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    console.log("500 (Error interno del servidor)");
                }
                else {
                    console.log("No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.");
                }
            }
        });
    };
    EditarComponent.prototype.asignarTipo = function (algo) {
        console.log('asfsadfsadfasdfsadf');
    };
    EditarComponent.prototype.initInsumo = function () {
        return this.fb.group({
            clave: ['', __WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required],
            cantidad: ['', __WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required],
            cantidad_x_envase: ['', __WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required],
            lote: ['', __WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required],
            fecha_caducidad: ['', __WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required],
            codigo_barras: ['', __WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required],
        });
    };
    EditarComponent.prototype.enviar = function () {
        var _this = this;
        this.cargando = true;
        var movimiento = this.movimiento.value;
        console.log(this.movimiento.value);
        this.movimientosSalidasService.editar(this.id, this.movimiento.value).subscribe(function (movimiento) {
            _this.cargando = false;
            console.log("Usuario editado.");
            _this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_8__mensaje__["a" /* Mensaje */](true);
            _this.mensajeExito.texto = "Se han guardado los cambios.";
            _this.mensajeExito.mostrar = true;
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_8__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError.texto = "No especificado.";
            _this.mensajeError.mostrar = true;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
                // Problema de validación
                if (error.status == 409) {
                    _this.mensajeError.texto = "Por favor verfique los campos marcados en rojo.";
                    //this.usuarioRepetido = false;
                    //this.usuarioInvalido = false;
                    for (var input in e.error) {
                        // Iteramos todos los errores
                        for (var i in e.error[input]) {
                            if (input == 'id' && e.error[input][i] == 'unique') {
                                //this.usuarioRepetido = true;
                            }
                            if (input == 'id' && e.error[input][i] == 'email') {
                                //this.usuarioInvalido = true;
                            }
                        }
                    }
                }
            }
            catch (e) {
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    EditarComponent.prototype.cargarDatos = function () {
        var _this = this;
        this.cargando = true;
        console.log("Cargando movimiento.");
        this.movimientosSalidasService.ver(this.id).subscribe(function (resultado) {
            _this.cargando = false;
            _this.datosCargados = true;
            //console.log(resultado);
            _this.movimiento.patchValue(resultado);
            _this.salidaMovimiento = resultado;
            //  console.log(this.salidaMovimiento);        
            console.log("Movimiento cargado.");
            //console.log(this.movimiento);
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_8__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_8__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError.mostrar;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    EditarComponent.prototype.regresar = function () {
        this.location.back();
    };
    // # SECCION - Webworkers
    EditarComponent.prototype.imprimir = function (item) {
        var _this = this;
        console.log(item);
        this.movimientosSalidasService.ver(this.id).subscribe(function (movimientoActual) {
            _this.cargando = false;
            item.datosImprimir = movimientoActual;
            console.log(movimientoActual);
            try {
                _this.cargandoPdf = true;
                var entradas_imprimir = {
                    datos: item,
                    lista: item.datosImprimir.insumos,
                    usuario: _this.usuario
                };
                _this.pdfworker.postMessage(JSON.stringify(entradas_imprimir));
            }
            catch (e) {
                _this.cargandoPdf = false;
                console.log(e);
            }
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_8__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_8__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError.mostrar;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    EditarComponent.prototype.base64ToBlob = function (base64, type) {
        var bytes = atob(base64), len = bytes.length;
        var buffer = new ArrayBuffer(len), view = new Uint8Array(buffer);
        for (var i = 0; i < len; i++)
            view[i] = bytes.charCodeAt(i) & 0xff;
        return new Blob([buffer], { type: type });
    };
    return EditarComponent;
}());
EditarComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'entrada-editar',
        template: __webpack_require__("../../../../../src/app/farmacia/movimientos-salidas/editar/editar.component.html"),
        styles: [__webpack_require__("../../../../../src/app/farmacia/movimientos-salidas/editar/editar.component.css")],
        providers: [__WEBPACK_IMPORTED_MODULE_6__movimientos_salidas_service__["a" /* MovimientosSalidasService */]]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* Router */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_4__angular_platform_browser__["b" /* Title */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__angular_platform_browser__["b" /* Title */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_5__auth_service__["a" /* AuthService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_5__auth_service__["a" /* AuthService */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* ActivatedRoute */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* ActivatedRoute */]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_1__angular_common__["Location"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_common__["Location"]) === "function" && _e || Object, typeof (_f = typeof __WEBPACK_IMPORTED_MODULE_6__movimientos_salidas_service__["a" /* MovimientosSalidasService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_6__movimientos_salidas_service__["a" /* MovimientosSalidasService */]) === "function" && _f || Object, typeof (_g = typeof __WEBPACK_IMPORTED_MODULE_3__angular_forms__["FormBuilder"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__angular_forms__["FormBuilder"]) === "function" && _g || Object, typeof (_h = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"]) === "function" && _h || Object])
], EditarComponent);

var _a, _b, _c, _d, _e, _f, _g, _h;
//# sourceMappingURL=C:/wamp/www/x3-C/src/editar.component.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-salidas/form/form-datos.component.html":
/***/ (function(module, exports) {

module.exports = "<div [formGroup]=\"movimiento\">\r\n\r\n    <div class=\"control is-grouped\">\r\n        <p class=\"control\">\r\n            <label>Tipo de movimiento</label>\r\n        </p>\r\n        <p class=\"control\">\r\n            <a class=\"button\" *ngIf=\"movimiento.get('tipo_movimiento_id').value==2\" style=\"height: 50px\"><label> <strong> Salida estándar </strong></label></a>\r\n        </p>\r\n        <span style=\"width: auto;\"> &nbsp; &nbsp; </span>\r\n        <p class=\"control\">\r\n            <a class=\"button\" *ngIf=\"movimiento.get('tipo_movimiento_id').value==5\" style=\"height: 50px\"><label> <strong> Salida receta </strong></label></a>\r\n        </p>\r\n    </div>\r\n    <!-- (click)=\"asignarTipo(5);\" [ngClass]=\"{'is-success': movimiento.get('tipo_movimiento_id').value==5}\" -->\r\n    <div class=\"control is-grouped\">\r\n        <p class=\"control\">\r\n            <label>Fecha de movimiento</label>\r\n        </p>\r\n        <p class=\"control is-expanded  has-icon has-icon-right\">\r\n            <input\r\n            ngui-datetime-picker\r\n            default-value=\"fecha_actual\"\r\n            max-date=\"fecha_actual\"\r\n            [value]=\"fecha_actual | date:'yyyy-MM-dd'\"\r\n            date-only=\"true\" \r\n            formControlName=\"fecha_movimiento\"/>\r\n        </p>\r\n    </div>\r\n\r\n    \r\n\r\n\r\n    <div class=\"control\">\r\n        <p class=\"control is-expanded  has-icon has-icon-right\">\r\n            <textarea class=\"textarea\" autofocus type=\"text\" [ngClass]=\"{'is-danger': movimiento.get('observaciones').hasError('required') && movimiento.get('observaciones').touched}\" placeholder=\"Observaciones\" formControlName=\"observaciones\"></textarea>\r\n            <span class=\"icon is-small\" *ngIf=\"movimiento.get('observaciones').hasError('required') && movimiento.get('observaciones').touched\">\r\n                <i class=\"fa fa-warning\"></i>\r\n              </span>\r\n            <span class=\"help is-danger\" *ngIf=\"movimiento.get('observaciones').hasError('required') && movimiento.get('observaciones').touched\">Este campo es requerido.</span>\r\n        </p>\r\n    </div>\r\n\r\n    <div formGroupName=\"movimiento_metadato\">\r\n      <div class=\"control is-grouped\">\r\n            <p class=\"control\">\r\n                <label>Servicio</label>\r\n            </p>\r\n            <p class=\"control is-expanded\">\r\n                <span class=\"select\">\r\n                    <select *ngIf=\"!cargando\" class=\"select styled\" name=\"servicio_id\" formControlName=\"servicio_id\" [ngClass]=\"{'is-warning': servicios?.length ==0 }\">\r\n                        <option *ngFor=\"let item of servicios\" value=\"{{item.servicio_id}}\">{{ item.servicio.nombre }}</option>\r\n                    </select>\r\n                </span>\r\n            </p>\r\n        </div>\r\n\r\n        <div class=\"control\">\r\n            <p class=\"control has-icon has-icon-right\">\r\n                <input type=\"text\" class=\"input\" autofocus placeholder=\"Persona que recibe\"  formControlName=\"persona_recibe\" [ngClass]=\"{'is-danger': movimiento.get('movimiento_metadato').get('persona_recibe').hasError('required') && movimiento.get('movimiento_metadato').get('persona_recibe').touched}\">\r\n                <span class=\"icon is-small\" *ngIf=\"movimiento.get('movimiento_metadato').get('persona_recibe').hasError('required') && movimiento.get('movimiento_metadato').get('persona_recibe').touched\">\r\n                    <i class=\"fa fa-warning\"></i>\r\n                </span>\r\n                <span class=\"help is-danger\" *ngIf=\"movimiento.get('movimiento_metadato').get('persona_recibe').hasError('required') && movimiento.get('movimiento_metadato').get('persona_recibe').touched\">Este campo es requerido.</span>\r\n            </p>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"control\" *ngIf=\"mostrarCancelado\">\r\n        <!-- *ngIf -->\r\n        <p class=\"control\">\r\n            <label class=\"checkbox\">\r\n                <input type=\"checkbox\" formControlName=\"cancelado\">\r\n                Cancelado\r\n              </label>\r\n        </p>\r\n        <p class=\"control is-expanded  has-icon has-icon-right\">\r\n            <textarea class=\"textarea\" autofocus type=\"text\" [ngClass]=\"{'is-danger': movimiento.get('observaciones_cancelacion').hasError('required') && movimiento.get('observaciones_cancelacion').touched}\" placeholder=\"Observaciones de cancelacion\" formControlName=\"observaciones_cancelacion\"></textarea>\r\n            <span class=\"icon is-small\" *ngIf=\"movimiento.get('observaciones_cancelacion').hasError('required') && movimiento.get('observaciones_cancelacion').touched\">\r\n                <i class=\"fa fa-warning\"></i>\r\n              </span>\r\n            <span class=\"help is-danger\" *ngIf=\"movimiento.get('observaciones_cancelacion').hasError('required') && movimiento.get('observaciones_cancelacion').touched\">Este campo es requerido.</span>\r\n        </p>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-salidas/form/form-datos.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__movimientos_salidas_service__ = __webpack_require__("../../../../../src/app/farmacia/movimientos-salidas/movimientos-salidas.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormDatosComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var FormDatosComponent = (function () {
    function FormDatosComponent(movimientosSalidasService) {
        this.movimientosSalidasService = movimientosSalidasService;
        this.usuario = {};
        this.onEnviar = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onRegresar = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onCargarDatos = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
    }
    FormDatosComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.usuario = JSON.parse(localStorage.getItem("usuario"));
        this.cargando = true;
        this.movimientosSalidasService.listaDatos("clues-servicio", this.usuario.clues_activa.clues).subscribe(function (servicios) {
            _this.cargando = false;
            _this.servicios = servicios;
        }, function (error) {
            _this.cargando = false;
            try {
                var e = error.json();
                if (error.status == 401) {
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    console.log("500 (Error interno del servidor)");
                }
                else {
                    console.log("No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.");
                }
            }
        });
        var date = new Date();
        var mes = date.getMonth();
        mes++;
        this.fecha_actual = date.getFullYear() + "-" + mes + "-" + date.getDate();
        //console.log(this.fecha_actual);
        this.movimiento.get("fecha_movimiento").patchValue(this.fecha_actual);
    };
    FormDatosComponent.prototype.asignarTipo = function (tipo) {
        this.movimiento.get("tipo_movimiento_id").patchValue(tipo);
    };
    FormDatosComponent.prototype.enviar = function () {
        this.onEnviar.emit();
    };
    FormDatosComponent.prototype.regresar = function () {
        this.onRegresar.emit();
    };
    return FormDatosComponent;
}());
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Array)
], FormDatosComponent.prototype, "insumo", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_forms__["FormGroup"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_forms__["FormGroup"]) === "function" && _a || Object)
], FormDatosComponent.prototype, "movimiento", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Boolean)
], FormDatosComponent.prototype, "movimientoRepetido", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Boolean)
], FormDatosComponent.prototype, "movimientoInvalido", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Boolean)
], FormDatosComponent.prototype, "cargando", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Boolean)
], FormDatosComponent.prototype, "cargandoDatos", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Boolean)
], FormDatosComponent.prototype, "mostrarCancelado", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", String)
], FormDatosComponent.prototype, "servidor", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
    __metadata("design:type", Object)
], FormDatosComponent.prototype, "onEnviar", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
    __metadata("design:type", Object)
], FormDatosComponent.prototype, "onRegresar", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
    __metadata("design:type", Object)
], FormDatosComponent.prototype, "onCargarDatos", void 0);
FormDatosComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'salidas-form-datos',
        template: __webpack_require__("../../../../../src/app/farmacia/movimientos-salidas/form/form-datos.component.html"),
        styles: ['.cambiarColor{background:green}']
    }),
    __metadata("design:paramtypes", [typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__movimientos_salidas_service__["a" /* MovimientosSalidasService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__movimientos_salidas_service__["a" /* MovimientosSalidasService */]) === "function" && _b || Object])
], FormDatosComponent);

var _a, _b;
//# sourceMappingURL=C:/wamp/www/x3-C/src/form-datos.component.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-salidas/form/form-insumos.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"tabs  is-boxed\" style=\"margin-bottom:0px; \" *ngIf=\"pedidos.length > 1\">\r\n    <ul>\r\n        <li *ngFor=\"let pedido of pedidos; let i = index\" [ngClass]=\"{ 'is-active': i == pedidoActivo}\"><a (click)=\"pedidoActivo = i\">{{ pedido.nombre}}</a></li>\r\n    </ul>\r\n</div>\r\n<div *ngFor=\"let pedido of pedidos; let indexPedido = index\" class=\"contenedor-pedido\" [ngClass]=\"{ 'con-tabs' : pedidos.length > 1 }\" [hidden]=\"indexPedido != pedidoActivo\">\r\n\r\n    <div class=\"top-bar\" [ngClass]=\"{'is-primary':!pedido.filtro.activo && pedidos.length == 1,'is-dark': pedido.filtro.activo }\">\r\n        <span *ngIf=\"!pedido.filtro.activo\">Claves: {{ pedido.lista.length }} Insumos: 0</span>\r\n        <span *ngIf=\"pedido.filtro.activo\"><span class=\"icon\"><i class=\"fa fa-search\"></i></span> Resultados: {{ pedido.filtro.lista.length }}</span>\r\n        <a class=\"button is-primary  is-pulled-right\" [ngClass]=\"{ 'is-inverted': pedidos.length == 1 || pedido.filtro.activo }\" style=\"margin-top:-0.25em;\" title=\"Ctrl + espacio\" (click)=\"toggleModalInsumos(); \">\r\n            <span class=\"icon\"><i class=\"fa fa-plus\"></i></span><span>Agregar</span>\r\n        </a>\r\n    </div>\r\n\r\n    <table class=\"table is-unselectable is-striped\" *ngIf=\"!cargando\" style=\"font-size: 0.8em;\">\r\n        <thead>\r\n            <tr>\r\n                <th style=\"width:41px;vertical-align: middle;\" class=\"has-text-centered\"><abbr title=\"Numero progresivo\">NP</abbr></th>\r\n                <th class=\"is-hidden-mobile\" style=\"width:118px;\">\r\n                    <p class=\"control is-expanded\">\r\n                        <input type=\"hidden\" #searchBoxClavePrevia>\r\n                        <input class=\"input is-small\" type=\"text\" placeholder=\"Clave\" #searchBoxClave id=\"search-box-clave-{{indexPedido}}\" (keyup)=\"buscar($event,searchBoxClave, searchBoxClavePrevia,[{ input: searchBoxDescripcion, campos: ['generico','informacion.concentracion','informacion.presentacion']}, { input: searchBoxClave, campos: ['clave']}])\">\r\n\r\n                    </p>\r\n                </th>\r\n                <th class=\"is-hidden-mobile\">\r\n                    <p class=\"control is-expanded\">\r\n                        <input type=\"hidden\" #searchBoxDescripcionPrevia>\r\n                        <input class=\"input is-small\" type=\"text\" placeholder=\"Genérico\" #searchBoxDescripcion id=\"search-box-descripcion-{{indexPedido}}\" (keyup)=\"buscar($event,searchBoxDescripcion,searchBoxDescripcionPrevia,[{ input: searchBoxDescripcion, campos: ['generico_nombre','informacion.concentracion','informacion.presentacion']}, { input: searchBoxClave, campos: ['clave']}])\">\r\n                    </p>\r\n                </th>\r\n                <th class=\"is-hidden-tablet\">\r\n                    <p class=\"control is-expanded\">\r\n                        <input type=\"hidden\" #searchBoxDescripcionClavePrevia>\r\n                        <input class=\"input is-small\" type=\"text\" placeholder=\"Clave o Genérico\" #searchBoxDescripcionClave id=\"search-box-descripcion-clave-{{indexPedido}}\" (keyup)=\"buscar($event,searchBoxDescripcionClave,searchBoxDescripcionClavePrevia,[{ input: searchBoxDescripcionClave, campos: ['clave','generico_nombre','informacion.concentracion','informacion.presentacion']}])\">\r\n                    </p>\r\n                </th>\r\n                <th style=\"vertical-align: middle;\" class=\"is-hidden-mobile is-hidden-tablet-only\">Descripcion</th>\r\n                <th style=\"width:78px !important;text-align: center; vertical-align: middle;\"><abbr title=\"\"></abbr></th>\r\n                <th style=\"width:21px !important;\"></th>\r\n            </tr>\r\n        </thead>\r\n        <tbody *ngIf=\"!pedido.filtro.activo\">\r\n\r\n            <tr *ngFor=\"let item of insumosAgregados;  let i = index;\">\r\n                <!-- LOTE -->\r\n                <td class=\"has-text-centered\">{{ i+1 }}</td>\r\n                <!-- CLAVE -->\r\n                <td class=\"has-text-centered is-hidden-mobile\"><a (click)=\"mostrarFichaInformativa($event, item.clave)\" style=\"cursor:help;\">{{ item.clave }}</a></td>\r\n\r\n                <!-- DESCRIPCION  -->\r\n                <td>\r\n                    <small class=\"is-hidden-tablet\">{{ item.clave }}<br></small>\r\n                    <b>{{ item.generico_nombre }} {{ item.clave }} </b> <br class=\"is-hidden-mobile\"><small *ngIf=\"item.tipo == 'ME'\"><b>{{ item.informacion.concentracion }}</b></small><br>\r\n\r\n                    <div class=\"is-hidden-desktop\" *ngIf=\"item.tipo == 'ME'\" style=\"line-height:1em;\">\r\n                        <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                        <small><i>{{ item.informacion.contenido }} </i></small>\r\n                    </div>\r\n                    <div class=\"is-hidden-desktop\" *ngIf=\"item.tipo != 'ME'\" style=\"line-height:1em;\">\r\n                        <small>{{ item.descripcion }}</small>\r\n                    </div>\r\n                    <div class=\"is-hidden-desktop\" style=\"padding: 0.5em 0 0.5em 0; \">\r\n                        <span *ngIf=\"item.es_causes\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">CAUSES</span>\r\n                        <span *ngIf=\"!item.es_causes\" class=\"tag is-danger\" style=\"font-size: 0.7em !important;\">NO CAUSES</span>\r\n                        <span *ngIf=\"item.es_cuadro_basico\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">Cuadro básico</span>\r\n\r\n                        <span *ngIf=\"item.tipo == 'ME'\">\r\n                        <span *ngIf=\"item.informacion.es_controlado\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Controlado</span>\r\n                        <span *ngIf=\"item.informacion.es_surfactante\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Surfactante</span>\r\n                        </span>\r\n\r\n                    </div>\r\n                </td>\r\n\r\n                <!-- INFORMACION -->\r\n                <td class=\"is-hidden-mobile is-hidden-tablet-only\">\r\n                    <div *ngIf=\"item.tipo == 'ME'\" style=\"line-height:1em;\">\r\n                        <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                        <small><i>{{ item.informacion.contenido }} </i></small>\r\n                    </div>\r\n                    <div *ngIf=\"item.tipo != 'ME'\" style=\"line-height:1em;\">\r\n                        <small>{{ item.descripcion }}</small>\r\n                    </div>\r\n                    <div style=\"padding: 0.5em 0 0.5em 0; \">\r\n                        <span *ngIf=\"item.es_causes\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">CAUSES</span>\r\n                        <span *ngIf=\"!item.es_causes\" class=\"tag is-danger\" style=\"font-size: 0.7em !important;\">NO CAUSES</span>\r\n                        <span *ngIf=\"item.es_cuadro_basico\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">Cuadro básico</span>\r\n                        <span *ngIf=\"item.tipo == 'ME'\">\r\n                        <span *ngIf=\"item.informacion.es_controlado\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Controlado</span>\r\n                        <span *ngIf=\"item.informacion.es_surfactante\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Surfactante</span>\r\n                        </span>\r\n\r\n                    </div>\r\n                </td>\r\n                <!-- *************************************************************************** -->\r\n\r\n                <!-- CANTIDAD -->\r\n                <td style=\"width:auto !important;\">\r\n                    <span class=\"tag is-success\" style=\"line-height:0.9em;\"> Cantidad total: &nbsp;<strong>{{item.cantidad}} </strong> </span>\r\n                    <table class=\"table\" style=\"line-height:0.8em; text-align-last: left;\">\r\n                        <tbody>\r\n                            <tr *ngFor=\"let lote of item.lotes;   let iLote = index;\">\r\n                                <td>\r\n                                    <span style=\"font-size: 0.9em\" [ngClass]=\"{'is-success': lote.nuevo}\" class=\"tag is-light is-small is-fullwidth\" *ngIf=\"lote.cantidad>0\">\r\n                                        \r\n                                    <strong>Lote: &nbsp; </strong> {{lote.lote}}\r\n                                    </span>\r\n                                </td>\r\n                                <td>\r\n                                    <span style=\"font-size: 0.9em\" class=\"tag is-light is-small\" *ngIf=\"lote.cantidad>0\"><strong>Cantidad: &nbsp;</strong> <span></span> {{lote.cantidad}}</span>\r\n                                </td>\r\n                                <td>\r\n                                    <span style=\"font-size: 0.9em\" class=\"tag is-light is-small\" *ngIf=\"lote.cantidad>0\"><strong>Caducidad: &nbsp;<span></span> </strong> {{lote.fecha_caducidad | date}}</span>\r\n                                </td>\r\n                                <td>\r\n                                    <span style=\"font-size: 0.9em\" class=\"tag is-light is-small\" *ngIf=\"lote.cantidad>0\"><strong class=\"is-small\">Codigo de barras: &nbsp; <span></span></strong> {{lote.codigo_barras}}</span>\r\n                                </td>\r\n                                <td>\r\n                                    <a class=\"delete\" (click)=\"eliminarLote(i, iLote)\"></a>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </td>\r\n\r\n                <!-- *************************************************************************** \r\n                <td style=\"width:21px !important;\"><a (click)=\"eliminarInsumo(item,i)\"><span class=\"icon\"><i class=\"fa fa-trash\"></i></span></a></td>-->\r\n            </tr>\r\n        </tbody>\r\n\r\n\r\n        <tbody *ngIf=\"pedido.filtro.activo\">\r\n            <tr *ngFor=\"let item of pedido.filtro.paginacion.lista; let i = index;\">\r\n                <td class=\"has-text-centered\">{{ i+1 }}</td>\r\n                <td class=\"has-text-centered is-hidden-mobile\"><a (click)=\"mostrarFichaInformativa($event, item.clave)\" style=\"cursor:help;\">{{ item.clave }}</a></td>\r\n\r\n                <td>\r\n                    <small class=\"is-hidden-tablet\">{{ item.clave }} <br></small>\r\n                    <b>{{ item.generico_nombre }}</b> <br class=\"is-hidden-mobile\"><small *ngIf=\"item.tipo == 'ME'\"><b>{{ item.informacion.concentracion }}</b></small><br>\r\n\r\n                    <div class=\"is-hidden-desktop\" *ngIf=\"item.tipo == 'ME'\" style=\"line-height:1em;\">\r\n                        <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                        <small><i>{{ item.informacion.contenido }} </i></small>\r\n                    </div>\r\n                    <div class=\"is-hidden-desktop\" *ngIf=\"item.tipo != 'ME'\" style=\"line-height:1em;\">\r\n                        <small>{{ item.descripcion }}</small>\r\n                    </div>\r\n                    <div class=\"is-hidden-desktop\" style=\"padding: 0.5em 0 0.5em 0; \">\r\n                        <span *ngIf=\"item.es_causes\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">CAUSES</span>\r\n                        <span *ngIf=\"!item.es_causes\" class=\"tag is-danger\" style=\"font-size: 0.7em !important;\">NO CAUSES</span>\r\n                        <span *ngIf=\"item.es_cuadro_basico\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">Cuadro básico</span>\r\n\r\n                        <span *ngIf=\"item.tipo == 'ME'\">\r\n                        <span *ngIf=\"item.informacion.es_controlado\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Controlado</span>\r\n                        <span *ngIf=\"item.informacion.es_surfactante\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Surfactante</span>\r\n                        </span>\r\n\r\n                    </div>\r\n                </td>\r\n\r\n                <td class=\"is-hidden-mobile is-hidden-tablet-only\">\r\n                    <div *ngIf=\"item.tipo == 'ME'\" style=\"line-height:1em;\">\r\n                        <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                        <small><i>{{ item.informacion.contenido }} </i></small>\r\n                    </div>\r\n                    <div *ngIf=\"item.tipo != 'ME'\" style=\"line-height:1em;\">\r\n                        <small>{{ item.descripcion }}</small>\r\n                    </div>\r\n                    <div style=\"padding: 0.5em 0 0.5em 0; \">\r\n                        <span *ngIf=\"item.es_causes\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">CAUSES</span>\r\n                        <span *ngIf=\"!item.es_causes\" class=\"tag is-danger\" style=\"font-size: 0.7em !important;\">NO CAUSES</span>\r\n                        <span *ngIf=\"item.es_cuadro_basico\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">Cuadro básico</span>\r\n                        <span *ngIf=\"item.tipo == 'ME'\">\r\n                        <span *ngIf=\"item.informacion.es_controlado\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Controlado</span>\r\n                        <span *ngIf=\"item.informacion.es_surfactante\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Surfactante</span>\r\n                        </span>\r\n\r\n                    </div>\r\n                </td>\r\n                <td style=\"width:78px !important;\">\r\n                    <p class=\"control is-expanded\">\r\n                        <input class=\"input is-small has-text-centered\" type=\"text\" placeholder=\"Cant\" [(ngModel)]=\"item.cantidad\">\r\n                    </p>\r\n                </td>\r\n                <td style=\"width:78px !important;\">\r\n                    <p class=\"control is-expanded\">\r\n                        <input class=\"input is-small has-text-centered\" type=\"text\" placeholder=\"Lote\" [(ngModel)]=\"item.lote\">\r\n                    </p>\r\n                </td>\r\n                <td style=\"width:78px !important;\">\r\n                    <p class=\"control is-expanded\">\r\n                        <input class=\"input is-small has-text-centered\" type=\"text\" placeholder=\"Fecha de caducidad\" [(ngModel)]=\"item.fecha_caducidad\">\r\n                    </p>\r\n                </td>\r\n                <td style=\"width:78px !important;\">\r\n                    <p class=\"control is-expanded\">\r\n                        <input class=\"input is-small has-text-centered\" type=\"text\" placeholder=\"Codigo de barras\" [(ngModel)]=\"item.codigo_barras\">\r\n                    </p>\r\n                </td>\r\n                <!-- <td style=\"width:21px !important;\"><a (click)=\"eliminarInsumo(item,i,true)\"><span class=\"icon\"><i class=\"fa fa-trash\"></i></span></a></td>-->\r\n            </tr>\r\n\r\n\r\n\r\n        </tbody>\r\n    </table>\r\n\r\n\r\n\r\n    <paginacion [total]=\"pedido.lista.length\" [paginasTotales]=\"pedido.paginacion.totalPaginas\" [resultadosPorPagina]=\"pedido.paginacion.resultadosPorPagina\" [paginaActual]=\"pedido.paginacion.paginaActual\" [indicePaginas]=\"pedido.paginacion.indice\" (onSiguiente)=\"pedido.paginaSiguiente()\"\r\n        (onAnterior)=\"pedido.paginaAnterior()\" (onListar)=\"pedido.listar($event)\" *ngIf=\"pedido.lista.length > 0 && pedido.lista.length > pedido.paginacion.resultadosPorPagina && !pedido.filtro.activo\"></paginacion>\r\n\r\n    <paginacion [total]=\"pedido.filtro.lista.length\" [paginasTotales]=\"pedido.filtro.paginacion.totalPaginas\" [resultadosPorPagina]=\"pedido.filtro.paginacion.resultadosPorPagina\" [paginaActual]=\"pedido.filtro.paginacion.paginaActual\" [indicePaginas]=\"pedido.filtro.paginacion.indice\"\r\n        (onSiguiente)=\"pedido.filtro.paginaSiguiente()\" (onAnterior)=\"pedido.filtro.paginaAnterior()\" (onListar)=\"pedido.filtro.listar($event)\" *ngIf=\"pedido.filtro.lista.length > 0 && pedido.filtro.lista.length > pedido.filtro.paginacion.resultadosPorPagina && pedido.filtro.activo\"></paginacion>\r\n\r\n    <br>\r\n\r\n</div>\r\n\r\n<buscar-insumos-movimientos *ngIf=\"mostrarModalInsumos\" (onCerrar)=\"mostrarModalInsumos = false\" (onEnviar)=\"agregarItem($event)\" [listaAgregados]=\"listaClaveAgregadas\" [salida]=\"true\"></buscar-insumos-movimientos>"

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-salidas/form/form-insumos.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_observable_of__ = __webpack_require__("../../../../rxjs/add/observable/of.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_observable_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_rxjs_add_observable_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw__ = __webpack_require__("../../../../rxjs/add/observable/throw.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_debounceTime__ = __webpack_require__("../../../../rxjs/add/operator/debounceTime.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_debounceTime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_debounceTime__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_distinctUntilChanged__ = __webpack_require__("../../../../rxjs/add/operator/distinctUntilChanged.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_distinctUntilChanged___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_distinctUntilChanged__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_map__ = __webpack_require__("../../../../rxjs/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_map__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_switchMap__ = __webpack_require__("../../../../rxjs/add/operator/switchMap.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_switchMap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_switchMap__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_catch__ = __webpack_require__("../../../../rxjs/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_catch___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_catch__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_file_saver__ = __webpack_require__("../../../../file-saver/FileSaver.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_file_saver___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_file_saver__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__mensaje__ = __webpack_require__("../../../../../src/app/mensaje.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__modelo__ = __webpack_require__("../../../../../src/app/farmacia/movimientos-salidas/modelo.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__movimiento__ = __webpack_require__("../../../../../src/app/farmacia/movimientos-salidas/movimiento.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormInsumosComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};















var FormInsumosComponent = (function () {
    // # FIN SECCION
    function FormInsumosComponent(title, location, _ngZone) {
        this.title = title;
        this.location = location;
        this._ngZone = _ngZone;
        this.onMovimientoSalida = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        /*
          @Input('group')
            public insumosForm: FormGroup;*/
        this.cargando = false;
        // # SECCION: Esta sección es para mostrar mensajes
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_12__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_12__mensaje__["a" /* Mensaje */]();
        // # FIN SECCION  
        // # SECCION: Modal Insumos
        this.mostrarModalInsumos = false;
        //Harima: Lista de claves agregadas al pedido, para checar duplicidad
        this.listaClaveAgregadas = [];
        // # FIN SECCION
        // # SECCION: Modelo
        // Los pedidos tienen que ser en un array por si se va a generar mas de un pedido de golpe
        this.pedidos = [];
        // esta variable es para saber el pedido seleccionado (por si hay mas)
        this.pedidoActivo = 0;
        this.cargandoPdf = false;
    }
    FormInsumosComponent.prototype.ngOnInit = function () {
        this.title.setTitle('Nueva salida / Farmacia');
        // Inicializamos el objeto para los reportes con web Webworkers
        this.pdfworker = new Worker("web-workers/farmacia/pedidos/imprimir.js");
        // Este es un hack para poder usar variables del componente dentro de una funcion del worker
        var self = this;
        var $ngZone = this._ngZone;
        this.pdfworker.onmessage = function (evt) {
            // Esto es un hack porque estamos fuera de contexto dentro del worker
            // Y se usa esto para actualizar alginas variables
            $ngZone.run(function () {
                self.cargandoPdf = false;
            });
            __WEBPACK_IMPORTED_MODULE_11_file_saver__["saveAs"](self.base64ToBlob(evt.data.base64, 'application/pdf'), evt.data.fileName);
            //open( 'data:application/pdf;base64,' + evt.data.base64 ); // Popup PDF
        };
        this.pdfworker.onerror = function (e) {
            $ngZone.run(function () {
                self.cargandoPdf = false;
            });
            console.log(e);
        };
        // Inicialicemos el pedido
        this.pedidos.push(new __WEBPACK_IMPORTED_MODULE_13__modelo__["a" /* Modelo */](true));
        //this.pedidos[0].nombre = "General";
        this.pedidos[0].observaciones = null;
        //console.log(this.pedidos[0]);
        // this.insumosAgregados.push(new Insumo());
    };
    FormInsumosComponent.prototype.regresar = function () {
        this.location.back();
    };
    FormInsumosComponent.prototype.toggleModalInsumos = function () {
        //console.log(this.mostrarModalInsumos)
        this.mostrarModalInsumos = !this.mostrarModalInsumos;
        //console.log(this.mostrarModalInsumos)
    };
    // # SECCION Funciones globales
    FormInsumosComponent.prototype.agregarItem = function (item) {
        if (item === void 0) { item = {}; }
        var auxPaginasTotales = this.pedidos[this.pedidoActivo].paginacion.totalPaginas;
        /* console.log(this.insumosAgregados);
         console.log(item.lotes.length);
         console.log(item);*/
        if (item.lotes.lenght <= 0 || !item.lotes.length) {
            console.log("SIN ITEMS QUE AGREGAR");
        }
        else {
            this.pedidos[this.pedidoActivo].lista.push(item);
            var existe = false;
            var posicion = 0;
            var i = 0;
            for (var _i = 0, _a = this.insumosAgregados; _i < _a.length; _i++) {
                var insumo = _a[_i];
                if (insumo.clave == item.clave) {
                    existe = true;
                    posicion = i;
                }
                i++;
            }
            item.cantidad = 0;
            i = 0;
            for (var _b = 0, _c = item.lotes; _b < _c.length; _b++) {
                var val = _c[_b];
                //console.log(val);
                if (!val.cantidad) {
                    item.lotes.splice(i, 1);
                }
                else if (val.cantidad == "" || val.cantidad == 0) {
                    item.lotes.splice(i, 1);
                }
                if (!val.lote) {
                    item.lotes.splice(i, 1);
                }
                if (val.lote == "") {
                    item.lotes.splice(i, 1);
                }
                if (val.cantidad && val.cantidad > 0) {
                    //console.log(val.cantidad);
                    item.cantidad = item.cantidad + val.cantidad;
                }
                else {
                    item.lotes.splice(i, 1);
                }
                i++;
            }
            if (!existe) {
                var insumo = new __WEBPACK_IMPORTED_MODULE_14__movimiento__["a" /* Insumo */]();
                //insumo = item;
                insumo.descripcion = item.descripcion;
                insumo.informacion = item.informacion;
                insumo.generico_nombre = item.generico_nombre;
                insumo.tipo = item.tipo;
                insumo.es_causes = item.es_causes;
                insumo.clave = item.clave;
                insumo.cantidad = item.cantidad;
                insumo.cantidad_x_envase = Number(item.informacion.cantidad_x_envase);
                insumo.codigo_barras = item.codigo_barras;
                insumo.lotes = item.lotes;
                //insumo.lote = item.lote;
                insumo.fecha_caducidad = item.fecha_caducidad;
                insumo.filtro = item.filtro;
                insumo.paginacion = item.paginacion;
                //console.log(insumo);
                this.insumosAgregados.push(insumo);
            }
            else {
                for (var _d = 0, _e = item.lotes; _d < _e.length; _d++) {
                    var valueItem = _e[_d];
                    var encontrado = false;
                    for (var _f = 0, _g = this.insumosAgregados[posicion].lotes; _f < _g.length; _f++) {
                        var insumo = _g[_f];
                        if (valueItem.id == insumo.id) {
                            encontrado = true;
                            //console.log(valueItem.cantidad);
                            if (valueItem.cantidad) {
                                insumo.cantidad = insumo.cantidad + valueItem.cantidad;
                                this.insumosAgregados[posicion].cantidad = this.insumosAgregados[posicion].cantidad + insumo.cantidad;
                            }
                        }
                    }
                    if (!encontrado) {
                        this.insumosAgregados[posicion].cantidad = this.insumosAgregados[posicion].cantidad + valueItem.cantidad;
                        this.insumosAgregados[posicion].lotes.push(valueItem);
                    }
                }
            }
            for (var _h = 0, _j = this.insumosAgregados; _h < _j.length; _h++) {
                var val = _j[_h];
                val.cantidad = 0;
                for (var _k = 0, _l = val.lotes; _k < _l.length; _k++) {
                    var item_1 = _l[_k];
                    if (item_1.cantidad > 0) {
                        val.cantidad = val.cantidad + item_1.cantidad;
                    }
                }
            }
            this.pedidos[this.pedidoActivo].indexar();
            /*console.log("pedidos");
            console.log(this.pedidos);
            console.log("insumosAgregados");
            console.log(this.insumosAgregados);*/
            // El siguiente proceso es para cambiar de página automáticamente si se encuentra en la última.
            if (this.pedidos[this.pedidoActivo].paginacion.lista.length == this.pedidos[this.pedidoActivo].paginacion.resultadosPorPagina &&
                this.pedidos[this.pedidoActivo].paginacion.paginaActual ==
                    auxPaginasTotales &&
                !this.pedidos[this.pedidoActivo].filtro.activo) {
                this.pedidos[this.pedidoActivo].listar(this.pedidos[this.pedidoActivo]
                    .paginacion.paginaActual + 1);
            }
            else {
                this.pedidos[this.pedidoActivo].listar(this.pedidos[this.pedidoActivo]
                    .paginacion.paginaActual);
            }
        }
    };
    FormInsumosComponent.prototype.buscar = function (e, input, inputAnterior, parametros) {
        var term = input.value;
        // Quitamos la busqueda
        if (e.keyCode == 27) {
            e.preventDefault();
            e.stopPropagation();
            input.value = "";
            inputAnterior.value = "";
            this.pedidos[this.pedidoActivo].filtro.activo = false;
            this.pedidos[this.pedidoActivo].filtro.lista = [];
            //this.insumosAgregados[this.pedidoActivo].filtro.activo = false;
            return;
        }
        //Verificamos que la busqueda no sea la misma que la anterior para no filtrar en vano
        if (inputAnterior.value == term) {
            return;
        }
        e.preventDefault();
        e.stopPropagation();
        inputAnterior.value = term;
        if (term != "") {
            this.pedidos[this.pedidoActivo].filtro.activo = true;
        }
        else {
            this.pedidos[this.pedidoActivo].filtro.activo = false;
            this.pedidos[this.pedidoActivo].filtro.lista = [];
            return;
        }
        var arregloResultados = [];
        var _loop_1 = function (i) {
            var termino = parametros[i].input.value;
            if (termino == "") {
                return "continue";
            }
            var listaFiltrada = this_1.pedidos[this_1.pedidoActivo].lista.filter(function (item) {
                var cadena = "";
                var campos = parametros[i].campos;
                for (var l in campos) {
                    try {
                        // Esto es por si escribieron algo como "objeto.propiedad" en lugar de: "propiedad"
                        var prop = campos[l].split(".");
                        if (prop.length > 1) {
                            cadena += " " + item[prop[0]][prop[1]].toLowerCase();
                        }
                        else {
                            cadena += " " + item[campos[l]].toLowerCase();
                        }
                    }
                    catch (e) { }
                }
                return cadena.includes(termino.toLowerCase());
            });
            arregloResultados.push(listaFiltrada);
        };
        var this_1 = this;
        for (var i in parametros) {
            _loop_1(i);
        }
        if (arregloResultados.length > 1) {
            // Ordenamos Ascendente
            arregloResultados = arregloResultados.sort(function (a, b) {
                return a.length - b.length;
            });
            var filtro = arregloResultados[0];
            var match = [];
            for (var k = 1; k < arregloResultados.length; k++) {
                for (var i in arregloResultados[k]) {
                    for (var j in filtro) {
                        if (arregloResultados[k][i] === filtro[j]) {
                            match.push(filtro[j]);
                        }
                    }
                }
                ;
            }
            this.pedidos[this.pedidoActivo].filtro.lista = match;
        }
        else {
            this.pedidos[this.pedidoActivo].filtro.lista = arregloResultados[0];
        }
        this.pedidos[this.pedidoActivo].filtro.indexar(false);
        this.pedidos[this.pedidoActivo].filtro.paginacion.paginaActual = 1;
        this.pedidos[this.pedidoActivo].filtro.listar(1);
    };
    FormInsumosComponent.prototype.eliminarInsumo = function (item, index) {
        this.insumosAgregados.splice(index, 1);
    };
    FormInsumosComponent.prototype.eliminarLote = function (i, index) {
        this.insumosAgregados[i].lotes.splice(index, 1);
        if (this.insumosAgregados[i].lotes.length == 0) {
            this.insumosAgregados.splice(i, 1);
        }
    };
    /*
      //Harima: necesitamos eliminar también de la lista de claves agregadas
      eliminarInsumo(item,index,filtro:boolean = false){
        //Harima: eliminar el elemento en la lista de claves agregadas, para poder agregarla de nuevo si se desea
        var i = this.listaClaveAgregadas.indexOf(item.clave);
        this.listaClaveAgregadas.splice(i,1);
  
        //Harima: si no es el filtro(busqueda), borrar de la lista principal de insumos
        if(!filtro){
          this.pedidos[this.pedidoActivo].eliminarItem(item,index);
        }else{
          this.pedidos[this.pedidoActivo].filtro.eliminarItem(item,index);
        }
      }*/
    FormInsumosComponent.prototype.mostrarFichaInformativa = function (e, clave) {
        e.preventDefault();
        e.stopPropagation();
        // Mostrar el componente de Ficha Informativa
        // Falta hacerlo sumamiiiii :)
        alert(clave);
        console.log(clave);
    };
    // # SECCION: Eventos del teclado
    FormInsumosComponent.prototype.keyboardInput = function (e) {
        if (e.keyCode == 32 && e.ctrlKey) {
            event.preventDefault();
            event.stopPropagation();
            this.mostrarModalInsumos = true;
        }
        // Cambiar página hacia adelante ctrl + shift + ->
        if (e.keyCode == 39 && ((e.ctrlKey && e.shiftKey) || e.ctrlKey)) {
            event.preventDefault();
            event.stopPropagation();
            if (!this.pedidos[this.pedidoActivo].filtro.activo) {
                this.pedidos[this.pedidoActivo].paginaSiguiente();
            }
            else {
                this.pedidos[this.pedidoActivo].filtro.paginaSiguiente();
            }
        }
        // Cambiar página hacia adelante ctrl + shift + <-
        if (e.keyCode == 37 && ((e.ctrlKey && e.shiftKey) || e.ctrlKey)) {
            event.preventDefault();
            event.stopPropagation();
            if (!this.pedidos[this.pedidoActivo].filtro.activo) {
                this.pedidos[this.pedidoActivo].paginaAnterior();
            }
            else {
                this.pedidos[this.pedidoActivo].filtro.paginaAnterior();
            }
        }
    };
    // # SECCION - Webworkers
    FormInsumosComponent.prototype.imprimir = function () {
        try {
            this.cargandoPdf = true;
            var pedidos_imprimir = {
                datos: {
                    alamcen: 'colicitar',
                    solicitante: 'unidad',
                    observaciones: 'texto'
                },
                lista: this.pedidos[this.pedidoActivo].lista
            };
            this.pdfworker.postMessage(JSON.stringify(pedidos_imprimir));
        }
        catch (e) {
            this.cargandoPdf = false;
            console.log(e);
        }
    };
    FormInsumosComponent.prototype.base64ToBlob = function (base64, type) {
        var bytes = atob(base64), len = bytes.length;
        var buffer = new ArrayBuffer(len), view = new Uint8Array(buffer);
        for (var i = 0; i < len; i++)
            view[i] = bytes.charCodeAt(i) & 0xff;
        return new Blob([buffer], {
            type: type
        });
    };
    return FormInsumosComponent;
}());
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Array)
], FormInsumosComponent.prototype, "insumos", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_3__angular_forms__["FormGroup"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__angular_forms__["FormGroup"]) === "function" && _a || Object)
], FormInsumosComponent.prototype, "movimiento", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Array)
], FormInsumosComponent.prototype, "insumosAgregados", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
    __metadata("design:type", Object)
], FormInsumosComponent.prototype, "onMovimientoSalida", void 0);
FormInsumosComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'salidas-form-insumos',
        template: __webpack_require__("../../../../../src/app/farmacia/movimientos-salidas/form/form-insumos.component.html"),
        host: {
            '(window:keydown)': 'keyboardInput($event)'
        }
    }),
    __metadata("design:paramtypes", [typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"]) === "function" && _d || Object])
], FormInsumosComponent);

var _a, _b, _c, _d;
//# sourceMappingURL=C:/wamp/www/x3-C/src/form-insumos.component.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-salidas/form/form.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-salidas/form/form.component.html":
/***/ (function(module, exports) {

module.exports = "<form name=\"form\" novalidate [formGroup]=\"movimiento\" (ngSubmit)=\"enviar()\">\r\n    <div class=\"contenedor columns \" style=\"height:100%; padding:1em;\">\r\n\r\n        <div class=\"column is-one-third\">\r\n            <!-- Columna de 1/3 de pantalla -->\r\n            <div style=\"background: #FFF; border-radius: 1em; overflow: hidden;\">\r\n                <section class=\"hero is-primary\">\r\n                    <h1 class=\"title\" style=\"margin:0.5em; \"><span class=\"icon is-medium\"><i class=\"fa fa-file-text\"></i></span> {{formularioTitulo}}</h1>\r\n                </section>\r\n                <div style=\"padding: 1em;\">\r\n                    <salidas-form-datos [movimiento]=\"movimiento\"></salidas-form-datos>\r\n                    <div class=\"control is-grouped\">\r\n                    </div>\r\n\r\n                    <div class=\"control is-grouped\">\r\n                        <!--\r\n                        <div class=\"control\">\r\n\r\n                            <select name=\"status\" formControlName=\"status\" class=\"select\">\r\n                                <option *ngFor=\"let item of listaStatus\" value=\"{{item.id}}\" [attr.selected]=\"movimiento.get('status').value == item.id ? true:false\">{{ item.nombre }}</option>\r\n                            </select>\r\n                            <span class=\"help is-danger\" *ngIf=\"movimiento.get('status').hasError('required') && movimiento.get('status').touched\">Debe elegir un status.</span>\r\n\r\n                        </div>\r\n                        -->\r\n                        <p class=\"control\">\r\n                            <a class=\"button is-primary \" type=\"submit\" (click)=\"enviar()\" [ngClass]=\"{'is-loading': cargando}\">Finalizar</a>\r\n                        </p>\r\n                        <p class=\"control\">\r\n                            <a class=\"button is-white\" routerLink=\"/almacen/movimientos/salidas/\">Ir a la lista</a>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!-- Fin columna de 1/3 de pantalla -->\r\n\r\n        <div class=\"column\">\r\n            <!-- Columna 2/3 -->\r\n            <div style=\"background: #FFF; border-radius: 1em; overflow: hidden;\">\r\n                <section class=\"hero is-primary\">\r\n                    <h1 class=\"title\" style=\"margin:0.5em; \"><span class=\"icon is-medium\"><i class=\"fa fa-file-text\"></i></span> Insumos</h1>\r\n                </section>\r\n\r\n                <div style=\"padding: 1em;\">\r\n                    <salidas-form-insumos [insumosAgregados]=\"insumosAgregadosEntrada\"></salidas-form-insumos>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!-- Fin columna 2/3 -->\r\n\r\n    </div>\r\n</form>"

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-salidas/form/form.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var FormComponent = (function () {
    function FormComponent() {
        this.listaAgregados = [];
        this.insumosAgregadosEntrada = [];
        this.listaStatus = [];
        this.onEnviar = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onRegresar = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onCargarDatos = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
    }
    FormComponent.prototype.ngOnInit = function () {
        this.listaStatus = [{ id: "FI", nombre: "Finalizado" }, { id: "BR", nombre: "Borrador" }];
        this.movimiento.patchValue({ status: "FI" });
        if (this.movimiento.get("fecha_movimiento").value) {
            this.formularioTitulo = 'Editar';
        }
        else {
            this.formularioTitulo = 'Nuevo';
        }
    };
    FormComponent.prototype.enviar = function () {
        this.onEnviar.emit(this.insumosAgregadosEntrada);
        //console.log(this.insumosAgregadosEntrada);
    };
    FormComponent.prototype.regresar = function () {
        this.onRegresar.emit();
    };
    return FormComponent;
}());
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Array)
], FormComponent.prototype, "insumos", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_forms__["FormGroup"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_forms__["FormGroup"]) === "function" && _a || Object)
], FormComponent.prototype, "movimiento", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Boolean)
], FormComponent.prototype, "movimientoRepetido", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Boolean)
], FormComponent.prototype, "movimientoInvalido", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Boolean)
], FormComponent.prototype, "cargando", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Boolean)
], FormComponent.prototype, "cargandoDatos", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Object)
], FormComponent.prototype, "listaAgregados", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Array)
], FormComponent.prototype, "insumosForm", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
    __metadata("design:type", typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]) === "function" && _b || Object)
], FormComponent.prototype, "onEnviar", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
    __metadata("design:type", Object)
], FormComponent.prototype, "onRegresar", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
    __metadata("design:type", Object)
], FormComponent.prototype, "onCargarDatos", void 0);
FormComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'entradas-form',
        template: __webpack_require__("../../../../../src/app/farmacia/movimientos-salidas/form/form.component.html"),
        styles: [__webpack_require__("../../../../../src/app/farmacia/movimientos-salidas/form/form.component.css")]
    }),
    __metadata("design:paramtypes", [])
], FormComponent);

var _a, _b;
//# sourceMappingURL=C:/wamp/www/x3-C/src/form.component.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-salidas/lista/lista.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-salidas/lista/lista.component.html":
/***/ (function(module, exports) {

module.exports = "<menu-farmacia [modulo]=\"'Salidas estandar'\" [icono]=\"'assets/icono-salidas.svg'\" [url]=\"'/almacen/movimientos/salidas'\"></menu-farmacia>\r\n\r\n\r\n<div style=\"height:50px;\"></div>\r\n<div class=\"contenedor columns \" style=\"height:100%; \">\r\n    <div class=\"column is-one-quarter \">\r\n        <!-- <menu-lateral (onEnviarTipo)=enviarTipo($event);></menu-lateral>  -->\r\n        <aside class=\"menu\" style=\"padding: 1em;\">\r\n            <a routerLink=\"/almacen/movimientos/salidas/nuevo/{{tipo_salida}}\" routerLinkActive=\"is-active\" class=\"button is-primary is-inverted is-medium is-fullwidth\"><span class=\"icon\"  ><i class=\"fa fa-plus\"></i></span> <span>Nueva Salida</span></a>\r\n            <br>\r\n            <ul class=\"menu-list\">\r\n                <li>\r\n                    <a routerLink=\"/almacen/movimientos/estandar\" #estandar routerLinkActive=\"is-active is-hidden-mobile\">\r\n                        <span class=\"icon\"><i class=\"fa fa-file\"></i></span> Salida estandar\r\n                        <span class=\"icon is-pulled-right\" *ngIf=\"cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span>\r\n                        <!-- <span class=\"tag is-pulled-right\" [ngClass]=\"{ 'is-white': estandar.className == 'is-active', 'is-primary': estandar.className != 'is-active' }\"></span> -->\r\n                    </a>\r\n                </li>\r\n            </ul>\r\n\r\n        </aside>\r\n    </div>\r\n\r\n\r\n    <!-- Columna de la lista de salidas -->\r\n    <div class=\"column\" style=\"padding:2em;\">\r\n        <div style=\"background: #FFF; border-radius: 1em; overflow: hidden;\">\r\n\r\n            <!-- Sección de búsqueda -->\r\n            <section class=\"hero\" [ngClass]=\" {'is-dark': busquedaActivada, 'is-primary': !busquedaActivada } \">\r\n                <div class=\"hero-body\" style=\"position:relative;\">\r\n                    <a class=\"button  is-dark\" *ngIf=\"busquedaActivada\" style=\"position:absolute; top:1em; right:1em;\" (click)=\"busquedaActivada=false;searchBox.value='';resultadosBusqueda=[]\"><span class=\"icon \"><i class=\"fa fa-close\"></i></span></a>\r\n                    <a class=\"button  is-dark\" *ngIf=\"busquedaActivada\" style=\"position:absolute; top:1em; right:3.5em;\" (click)=\"listarBusqueda(searchBox.value,1)\"><span class=\"icon \"><i class=\"fa fa-refresh\"></i></span></a>\r\n                    <a class=\"button  is-primary\" *ngIf=\"!busquedaActivada\" style=\"position:absolute; top:1em; right:1em;\" (click)=\"listar(1,tipo_salida)\"><span class=\"icon \"><i class=\"fa fa-refresh\"></i></span></a>\r\n                    <div class=\"container is-fluid\">\r\n\r\n                        <h1 class=\"title\" *ngIf=\"!busquedaActivada\">\r\n                            <span class=\"icon is-medium\"><i class=\"fa fa-minus-circle\"></i></span> Salidas estandar\r\n                        </h1>\r\n                        <h1 class=\"title\" *ngIf=\"busquedaActivada\">\r\n                            <span class=\"icon is-medium\"><i class=\"fa fa-search\"></i></span> Búsqueda\r\n                        </h1>\r\n                        <div class=\"control is-grouped\">\r\n                            <p class=\"control is-expanded\">\r\n                                <input class=\"input is-medium\" type=\"text\" placeholder=\"Buscar\" #searchBox id=\"search-box\" (keyup)=\"buscar(searchBox.value)\">\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n\r\n            <div class=\"is-fullwidth has-text-centered\" *ngIf=\"cargando\">\r\n                <br>\r\n                <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n\r\n            <!-- TABLA de la lista de elementos -->\r\n            <table class=\"table\" *ngIf=\"!cargando\">\r\n                <thead>\r\n                    <tr>\r\n                        <th><abbr title=\"Folio de la salida\">Folio</abbr></th>\r\n                        <th><abbr title=\"Usuario\">Usuario</abbr></th>\r\n                        <th>Tipo de salida</th>\r\n                        <th><abbr title=\"Fecha de movimiento\">Fecha</abbr></th>\r\n                        <th>Hora</th>\r\n                        <th style=\"text-align:center;\">Opciones</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody *ngIf=\"!busquedaActivada\">\r\n                    <tr *ngFor=\"let item of items; let i=index\">\r\n                        <th style=\"vertical-align: middle;\"><a routerLink=\"/almacen/movimientos/salidas/editar/{{item.id}}\">{{ item.id }}</a></th>\r\n                        <th style=\"vertical-align: middle;\"><a routerLink=\"/almacen/movimientos/salidas/editar/{{item.id}}\">{{ item.usuario_id }}</a></th>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/movimientos/salidas/editar/{{item.id}}\">{{titulo}}</a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/movimientos/salidas/editar/{{item.id}}\">{{ item.created_at | date:'dd/MM/y' }}</a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/movimientos/salidas/editar/{{item.id}}\">{{ item.created_at | date: 'HH:mm'}}</a></td>\r\n                        <td style=\"vertical-align: middle;\" class=\"has-text-centered\">\r\n                            <span class=\"icon \" *ngIf=\"item.cargando\"><i class=\"fa fa-circle-o-notch fa-print\"></i></span><a class=\"is is-danger\" (click)=\"imprimir(item, i)\"><span class=\"icon\"><i class=\"fa fa-print\"></i></span></a>\r\n                            <!-- <span class=\"icon \" *ngIf=\"item.cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span><a *ngIf=\"!item.cargando && item.cancelado == 0\" class=\"is-danger\" (click)=\"toggleModalCancelado(item, i)\"><span class=\"icon\"><i class=\"fa fa-times\"></i></span></a> -->\r\n                            <!-- <span class=\"icon \" *ngIf=\"item.cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span><a *ngIf=\"!item.cargando\" class=\"is-danger\" (click)=\"eliminar(item, i)\"><span class=\"icon\"><i class=\"fa fa-trash-o\"></i></span></a> -->\r\n                        </td>\r\n                    </tr>\r\n                    <tr *ngIf=\"items.length == 0\">\r\n                        <td colspan=\"5\" style=\"vertical-align: middle; color:#888;\">Esta lista está vacía.</td>\r\n                    </tr>\r\n                </tbody>\r\n                <tbody *ngIf=\"busquedaActivada\">\r\n                    <tr *ngFor=\"let item of resultadosBusqueda; let i=index\">\r\n                        <th style=\"vertical-align: middle;\"><a routerLink=\"/almacen/movimientos/salidas/editar/{{item.id}}\">{{ item.id }}</a></th>\r\n                        <th style=\"vertical-align: middle;\"><a routerLink=\"/almacen/movimientos/salidas/editar/{{item.id}}\">{{ item.usuario_id }}</a></th>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/movimientos/salidas/editar/{{item.id}}\">{{ titulo }}</a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/movimientos/salidas/editar/{{item.id}}\">{{ item.created_at | date:'dd/MM/y' }}</a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/movimientos/salidas/editar/{{item.id}}\">{{ item.created_at | date: 'HH:mm'}}</a></td>\r\n                        <td style=\"vertical-align: middle;\" class=\"has-text-centered\">\r\n                            <span class=\"icon \" *ngIf=\"item.cargando\"><i class=\"fa fa-print\"></i></span><a *ngIf=\"!item.cargando\" class=\"is-danger \" (click)=\"imprimir()\"><span class=\"icon\"><i class=\"fa fa-print\"></i></span></a>\r\n                            <!-- <span class=\"icon \" *ngIf=\"item.cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span><a *ngIf=\"!item.cargando && item.cancelado == 0\" class=\"is-danger\" (click)=\"eliminar(item, i)\"><span class=\"icon\"><i class=\"fa fa-times\"></i></span></a>\r\n                            <span class=\"icon \" *ngIf=\"item.cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span><a *ngIf=\"!item.cargando\" class=\"is-danger\" (click)=\"eliminar(item, i)\"><span class=\"icon\"><i class=\"fa fa-trash-o\"></i></span></a> -->\r\n                        </td>\r\n                    </tr>\r\n\r\n                    <tr *ngIf=\"resultadosBusqueda.length == 0 && busquedaActivada\">\r\n                        <td colspan=\"5\" style=\"vertical-align: middle; color:#888;\">No se encontraron resultados.</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <!-- Paginación para la lista  -->\r\n            <paginacion [total]=\"total\" [paginasTotales]=\"paginasTotales\" [resultadosPorPagina]=\"resultadosPorPagina\" [paginaActual]=\"paginaActual\" [indicePaginas]=\"indicePaginas\" (onSiguiente)=\"paginaSiguiente()\" (onAnterior)=\"paginaAnterior()\" (onListar)=\"listar($event)\"\r\n                *ngIf=\"total>0 && total > resultadosPorPagina && !busquedaActivada\"></paginacion>\r\n            <!-- Paginación para la búsqueda  -->\r\n            <paginacion [total]=\"totalBusqueda\" [paginasTotales]=\"paginasTotalesBusqueda\" [resultadosPorPagina]=\"resultadosPorPaginaBusqueda\" [paginaActual]=\"paginaActualBusqueda\" [indicePaginas]=\"indicePaginasBusqueda\" (onSiguiente)=\"paginaSiguienteBusqueda(searchBox.value)\"\r\n                (onAnterior)=\"paginaAnteriorBusqueda(searchBox.value)\" (onListar)=\"listarBusqueda(searchBox.value,$event)\" *ngIf=\"totalBusqueda > 0 && totalBusqueda > resultadosPorPaginaBusqueda && busquedaActivada\"></paginacion>\r\n\r\n\r\n\r\n        </div>\r\n\r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n<div class=\"notification is-danger\" style=\"position:fixed; left:1em;  bottom:1em;\" *ngIf=\"mensajeError.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeError.mostrar = false\"></button>\r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style=\"text-align:center\">\r\n        <a class=\"button is-danger is-inverted\" (click)=\"ultimaPeticion(); mensajeError.mostrar = false\"> <span class=\"icon\"><i class=\"fa fa-refresh\"></i></span> <span>Volver a intentar</span></a>\r\n    </p>\r\n</div>\r\n\r\n<div class=\"notification is-success\" style=\"position:fixed; left:1em;  bottom:1em; width: auto\" *ngIf=\"mensajeExito.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeExito.mostrar = false\"></button>\r\n    <p><span class=\"icon\" style=\"margin-right: 0.5em;\"><i class=\"fa fa-check-circle\"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style=\"text-align: center;\"><small>Este mensaje desaparecerá en {{ mensajeExito.cuentaAtras }} segundos.</small></p>\r\n</div>\r\n\r\n<div class=\"modal is-active\" *ngIf=\"mostrarModalCancelado\">\r\n    <div class=\"modal-background\" (click)=\"toggleModalCancelado(dato, index)\"></div>\r\n    <div class=\"modal-content\">\r\n        <div class=\"box\">\r\n            <!-- Any other Bulma elements you want -->\r\n            <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                <textarea class=\"textarea\" autofocus type=\"text\" placeholder=\"Observaciones de cancelacion\" [(ngModel)]=dato.observaciones_cancelacion></textarea>\r\n            </p>\r\n            <div class=\"control is-grouped\">\r\n                <p class=\"control\">\r\n                    <button class=\"button is-primary\" (click)=\"guardar(dato); mostrarModalCancelado=false\">Aceptar</button>\r\n                </p>\r\n                <p class=\"control\">\r\n                    <button class=\"button is-link\" (click)=\"toggleModalCancelado(dato, index)\">Cancelar</button>\r\n                </p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <button class=\"modal-close\" (click)=\"toggleModalCancelado(dato, index)\"></button>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-salidas/lista/lista.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__ = __webpack_require__("../../../../rxjs/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__ = __webpack_require__("../../../../rxjs/Subject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_observable_of__ = __webpack_require__("../../../../rxjs/add/observable/of.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_observable_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_rxjs_add_observable_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_observable_throw__ = __webpack_require__("../../../../rxjs/add/observable/throw.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_observable_throw___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_rxjs_add_observable_throw__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_debounceTime__ = __webpack_require__("../../../../rxjs/add/operator/debounceTime.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_debounceTime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_debounceTime__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_distinctUntilChanged__ = __webpack_require__("../../../../rxjs/add/operator/distinctUntilChanged.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_distinctUntilChanged___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_distinctUntilChanged__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_map__ = __webpack_require__("../../../../rxjs/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_map__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_rxjs_add_operator_switchMap__ = __webpack_require__("../../../../rxjs/add/operator/switchMap.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_rxjs_add_operator_switchMap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_rxjs_add_operator_switchMap__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_rxjs_add_operator_catch__ = __webpack_require__("../../../../rxjs/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_rxjs_add_operator_catch___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_12_rxjs_add_operator_catch__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_file_saver__ = __webpack_require__("../../../../file-saver/FileSaver.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13_file_saver___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_13_file_saver__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__movimientos_salidas_service__ = __webpack_require__("../../../../../src/app/farmacia/movimientos-salidas/movimientos-salidas.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__mensaje__ = __webpack_require__("../../../../../src/app/mensaje.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ListaComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
















var ListaComponent = (function () {
    // # FIN SECCION
    function ListaComponent(title, route, movimientosSalidasService, fb, _ngZone) {
        this.title = title;
        this.route = route;
        this.movimientosSalidasService = movimientosSalidasService;
        this.fb = fb;
        this._ngZone = _ngZone;
        this.cargando = false;
        this.mostrarModalCancelado = false;
        this.tipo = 2;
        this.cargandoPdf = false;
        // # FIN SECCION
        // # SECCION: Esta sección es para mostrar mensajes
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_15__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_15__mensaje__["a" /* Mensaje */]();
        this.datos_imprimir = [];
        // # FIN SECCION
        // # SECCION: Lista de Modelos, hay que CAMBIAR a movimientos
        this.items = [];
        this.paginaActual = 1;
        this.resultadosPorPagina = 20;
        this.total = 0;
        this.paginasTotales = 0;
        this.indicePaginas = [];
        // # FIN SECCION
        // # SECCION: Resultados de búsqueda
        this.ultimoTerminoBuscado = "";
        this.terminosBusqueda = new __WEBPACK_IMPORTED_MODULE_5_rxjs_Subject__["Subject"]();
        this.resultadosBusqueda = [];
        this.busquedaActivada = false;
        this.paginaActualBusqueda = 1;
        this.resultadosPorPaginaBusqueda = 5;
        this.totalBusqueda = 0;
        this.paginasTotalesBusqueda = 0;
        this.indicePaginasBusqueda = [];
    }
    ListaComponent.prototype.ngOnInit = function () {
        var _this = this;
        switch (this.route.snapshot.url[0].path) {
            //case 'estandar': 
            //this.tipo_salida = 2;
            //this.titulo = "Estandar";break;
            case 'receta':
                this.tipo_salida = 5;
                this.titulo = "Por receta";
                break;
            default:
                this.tipo_salida = 2;
                this.titulo = "Estandar";
                break;
        }
        this.title.setTitle("Salidas / Almacen");
        this.usuario = JSON.parse(localStorage.getItem("usuario"));
        this.listar(1, this.tipo_salida);
        var self = this;
        var busquedaSubject = this.terminosBusqueda
            .debounceTime(300) // Esperamos 300 ms pausando eventos
            .distinctUntilChanged() // Ignorar si la busqueda es la misma que la ultima
            .switchMap(function (term) {
            console.log("Cargando búsqueda.");
            _this.busquedaActivada = term != "" ? true : false;
            _this.ultimoTerminoBuscado = term;
            _this.paginaActualBusqueda = 1;
            _this.cargando = true;
            return term ? _this.movimientosSalidasService.buscar(_this.tipo_salida, term, _this.paginaActualBusqueda, _this.resultadosPorPaginaBusqueda, _this.usuario.almacen_activo.id) : __WEBPACK_IMPORTED_MODULE_4_rxjs_Observable__["Observable"].of({ data: [] });
        }).catch(function handleError(error) {
            self.cargando = false;
            self.mensajeError.mostrar = true;
            self.ultimaPeticion = function () { self.listarBusqueda(self.ultimoTerminoBuscado, self.paginaActualBusqueda); }; //OJO
            try {
                var e = error.json();
                if (error.status == 401) {
                    self.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    self.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    self.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
            // Devolvemos el subject porque si no se detiene el funcionamiento del stream 
            return busquedaSubject;
        });
        busquedaSubject.subscribe(function (resultado) {
            _this.cargando = false;
            _this.resultadosBusqueda = resultado.data;
            _this.totalBusqueda = resultado.total | 0;
            _this.paginasTotalesBusqueda = Math.ceil(_this.totalBusqueda / _this.resultadosPorPaginaBusqueda);
            _this.indicePaginasBusqueda = [];
            for (var i = 0; i < _this.paginasTotalesBusqueda; i++) {
                _this.indicePaginasBusqueda.push(i + 1);
            }
            console.log("Búsqueda cargada.");
        });
        // Inicializamos el objeto para los reportes con web Webworkers
        this.pdfworker = new Worker("web-workers/farmacia/movimientos/imprimir-salida.js");
        // Este es un hack para poder usar variables del componente dentro de una funcion del worker
        var self = this;
        var $ngZone = this._ngZone;
        this.pdfworker.onmessage = function (evt) {
            // Esto es un hack porque estamos fuera de contexto dentro del worker
            // Y se usa esto para actualizar alginas variables
            $ngZone.run(function () {
                self.cargandoPdf = false;
            });
            __WEBPACK_IMPORTED_MODULE_13_file_saver__["saveAs"](self.base64ToBlob(evt.data.base64, 'application/pdf'), evt.data.fileName);
            //open( 'data:application/pdf;base64,' + evt.data.base64 ); // Popup PDF
        };
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_15__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_15__mensaje__["a" /* Mensaje */]();
        this.movimiento = this.fb.group({
            almacen_id: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            tipo_movimiento_id: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            fecha_movimiento: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            observaciones: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            cancelado: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            observaciones_cancelacion: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            insumos: this.fb.array([
                this.initInsumo(),
            ])
        });
    }; //Fin ngOnInit
    ListaComponent.prototype.initInsumo = function () {
        return this.fb.group({
            clave: ['', __WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required],
            cantidad: ['', __WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required],
            cantidad_x_envase: ['', __WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required],
            lote: ['', __WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required],
            fecha_caducidad: ['', __WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required],
            codigo_barras: ['', __WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required],
        });
    };
    ListaComponent.prototype.toggleModalCancelado = function (item, index) {
        this.mostrarModalCancelado = !this.mostrarModalCancelado;
        this.dato = item;
        this.index = index;
    };
    ListaComponent.prototype.guardar = function (item) {
        var _this = this;
        console.log(item);
        item.cancelado = 1;
        this.movimientosSalidasService.editar(item.id, item).subscribe(function (movimiento) {
            _this.cargando = false;
            console.log("Movimiento editado.");
            _this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_15__mensaje__["a" /* Mensaje */](true);
            _this.mensajeExito.texto = "Se han guardado los cambios.";
            _this.mensajeExito.mostrar = true;
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_15__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError.texto = "No especificado.";
            _this.mensajeError.mostrar = true;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
                // Problema de validación
            }
            catch (e) {
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    ListaComponent.prototype.buscar = function (term) {
        this.terminosBusqueda.next(term);
    };
    ListaComponent.prototype.listarBusqueda = function (term, pagina) {
        var _this = this;
        this.paginaActualBusqueda = pagina;
        console.log("Cargando búsqueda.");
        this.cargando = true;
        this.movimientosSalidasService.buscar(this.tipo_salida, term, pagina, this.resultadosPorPaginaBusqueda, this.usuario.almacen_activo.id).subscribe(function (resultado) {
            _this.cargando = false;
            _this.resultadosBusqueda = resultado.data;
            _this.totalBusqueda = resultado.total | 0;
            _this.paginasTotalesBusqueda = Math.ceil(_this.totalBusqueda / _this.resultadosPorPaginaBusqueda);
            _this.indicePaginasBusqueda = [];
            for (var i = 0; i < _this.paginasTotalesBusqueda; i++) {
                _this.indicePaginasBusqueda.push(i + 1);
            }
            console.log("Búsqueda cargada.");
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError.mostrar = true;
            _this.ultimaPeticion = function () { this.listarBusqueda(term, pagina); };
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    }; //Fin listarBusqueda
    ListaComponent.prototype.enviarTipo = function (tipo) {
        this.tipo = tipo;
        //this.listar(1);
    };
    ListaComponent.prototype.listar = function (pagina, tipo) {
        var _this = this;
        this.paginaActual = pagina;
        //console.log("Cargando usuarios.");
        this.cargando = true;
        //Peticion a la API
        this.movimientosSalidasService.lista(pagina, this.resultadosPorPagina, this.usuario.almacen_activo.id, tipo).subscribe(function (resultado) {
            _this.cargando = false;
            if (resultado.data) {
                _this.items = resultado.data.data;
            }
            else {
                _this.items = [];
            }
            if (resultado.data) {
                _this.total = resultado.data.total | 0; //antes era resultado.total pero ahi no se encuentra el total sino en resultado.data.total
                _this.paginasTotales = Math.ceil(_this.total / _this.resultadosPorPagina);
                _this.indicePaginas = [];
                for (var i = 0; i < _this.paginasTotales; i++) {
                    _this.indicePaginas.push(i + 1);
                }
            }
            //console.log("Items cargados.");
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError.mostrar = true;
            _this.ultimaPeticion = _this.listar;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    }; //Fin listar
    ListaComponent.prototype.eliminar = function (item, index) {
        var _this = this;
        item.cargando = true;
        this.movimientosSalidasService.eliminar(item.id).subscribe(function (data) {
            item.cargando = false;
            _this.items.splice(index, 1);
            console.log("Se eliminó el elemento de la lista.");
            _this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_15__mensaje__["a" /* Mensaje */](true);
            _this.mensajeExito.mostrar = true;
            _this.mensajeExito.texto = "Usuario eliminado";
        }, function (error) {
            item.cargando = false;
            _this.mensajeError.mostrar = true;
            _this.ultimaPeticion = function () {
                this.eliminar(item, index);
            };
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    }; //Fin eliminar
    // # SECCION: Paginación
    ListaComponent.prototype.paginaSiguiente = function () {
        this.listar(this.paginaActual + 1, this.tipo_salida);
    };
    ListaComponent.prototype.paginaAnterior = function () {
        this.listar(this.paginaActual - 1, this.tipo_salida);
    };
    ListaComponent.prototype.paginaSiguienteBusqueda = function (term) {
        this.listarBusqueda(term, this.paginaActualBusqueda + 1);
    };
    ListaComponent.prototype.paginaAnteriorBusqueda = function (term) {
        this.listarBusqueda(term, this.paginaActualBusqueda - 1);
    };
    // Fin # SECCION: Paginación
    // # SECCION - Webworkers
    ListaComponent.prototype.imprimir = function (item, index) {
        var _this = this;
        console.log(item.id);
        console.log(item);
        this.movimientosSalidasService.ver(item.id).subscribe(function (movimientoActual) {
            _this.cargando = false;
            item.datosImprimir = movimientoActual;
            console.log(item.datosImprimir);
            try {
                _this.cargandoPdf = true;
                var entradas_imprimir = {
                    datos: item,
                    lista: item.datosImprimir.insumos,
                    usuario: _this.usuario
                };
                _this.pdfworker.postMessage(JSON.stringify(entradas_imprimir));
            }
            catch (e) {
                _this.cargandoPdf = false;
                console.log(e);
            }
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_15__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_15__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError.mostrar;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    ListaComponent.prototype.base64ToBlob = function (base64, type) {
        var bytes = atob(base64), len = bytes.length;
        var buffer = new ArrayBuffer(len), view = new Uint8Array(buffer);
        for (var i = 0; i < len; i++)
            view[i] = bytes.charCodeAt(i) & 0xff;
        return new Blob([buffer], { type: type });
    };
    return ListaComponent;
}());
ListaComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'farmacia-salidas-lista',
        template: __webpack_require__("../../../../../src/app/farmacia/movimientos-salidas/lista/lista.component.html"),
        styles: [__webpack_require__("../../../../../src/app/farmacia/movimientos-salidas/lista/lista.component.css")],
        providers: [__WEBPACK_IMPORTED_MODULE_14__movimientos_salidas_service__["a" /* MovimientosSalidasService */]]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* ActivatedRoute */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* ActivatedRoute */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_14__movimientos_salidas_service__["a" /* MovimientosSalidasService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_14__movimientos_salidas_service__["a" /* MovimientosSalidasService */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_3__angular_forms__["FormBuilder"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__angular_forms__["FormBuilder"]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"]) === "function" && _e || Object])
], ListaComponent);

var _a, _b, _c, _d, _e;
//# sourceMappingURL=C:/wamp/www/x3-C/src/lista.component.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-salidas/menu-lateral/menu-lateral.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-salidas/menu-lateral/menu-lateral.component.html":
/***/ (function(module, exports) {

module.exports = "<aside class=\"menu\" style=\"padding: 1em;\">\r\n    <a routerLink=\"/almacen/movimientos/salidas/nuevo\" routerLinkActive=\"is-active\" class=\"button is-primary is-inverted is-medium is-fullwidth\"><span class=\"icon\"  ><i class=\"fa fa-plus\"></i></span> <span>Nueva Salida</span></a>\r\n    <br>\r\n    <ul class=\"menu-list\">\r\n        <li>\r\n            <a class=\"button\" (click)=\"enviarTipo(1)\" routerLink=\"/almacen/movimientos/estandar\" #estandar routerLinkActive=\"is-active\">\r\n                <span class=\"icon\"><i class=\"fa fa-file\"></i></span> Salida estandar\r\n                <span class=\"icon is-pulled-right\" *ngIf=\"cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span>\r\n                <!-- <span class=\"tag is-pulled-right\" [ngClass]=\"{ 'is-white': estandar.className == 'is-active', 'is-primary': estandar.className != 'is-active' }\"></span> -->\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a class=\"button\" (click)=\"enviarTipo(1)\" routerLink=\"/almacen/movimientos/receta\" #receta routerLinkActive=\"is-active\">\r\n                <span class=\"icon\"><i class=\"fa fa-pencil-square-o\"></i></span> Salida por receta\r\n                <span class=\"icon is-pulled-right\" *ngIf=\"cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span>\r\n                <!-- <span class=\"tag is-pulled-right\" [ngClass]=\"{ 'is-white': receta.className == 'is-active', 'is-primary': receta.className != 'is-active' }\"></span> -->\r\n            </a>\r\n        </li>\r\n    </ul>\r\n\r\n</aside>"

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-salidas/menu-lateral/menu-lateral.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__movimientos_salidas_service__ = __webpack_require__("../../../../../src/app/farmacia/movimientos-salidas/movimientos-salidas.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MenuLateralComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var MenuLateralComponent = (function () {
    function MenuLateralComponent(MovimientosSalidasService) {
        this.MovimientosSalidasService = MovimientosSalidasService;
        this.onEnviarTipo = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.cargando = false;
        this.stats = {
            manual: 0
        };
    }
    MenuLateralComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.cargando = true;
        this.MovimientosSalidasService.stats().subscribe(function (response) {
            _this.cargando = false;
            _this.stats = response;
        }, function (error) {
            _this.cargando = false;
            console.log(error);
        });
    };
    MenuLateralComponent.prototype.enviarTipo = function (tipo) {
        console.log(tipo);
        this.onEnviarTipo.emit(tipo);
    };
    return MenuLateralComponent;
}());
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
    __metadata("design:type", typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]) === "function" && _a || Object)
], MenuLateralComponent.prototype, "onEnviarTipo", void 0);
MenuLateralComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'menu-lateral',
        template: __webpack_require__("../../../../../src/app/farmacia/movimientos-salidas/menu-lateral/menu-lateral.component.html"),
        styles: [__webpack_require__("../../../../../src/app/farmacia/movimientos-salidas/menu-lateral/menu-lateral.component.css")]
    }),
    __metadata("design:paramtypes", [typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_1__movimientos_salidas_service__["a" /* MovimientosSalidasService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__movimientos_salidas_service__["a" /* MovimientosSalidasService */]) === "function" && _b || Object])
], MenuLateralComponent);

var _a, _b;
//# sourceMappingURL=C:/wamp/www/x3-C/src/menu-lateral.component.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-salidas/modelo.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__paginacion_paginacion__ = __webpack_require__("../../../../../src/app/paginacion/paginacion.ts");
/* unused harmony export Movimiento_insumo */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Modelo; });

var ModeloFiltro = (function () {
    function ModeloFiltro() {
    }
    return ModeloFiltro;
}());
var Movimiento_insumo = (function () {
    function Movimiento_insumo() {
    }
    return Movimiento_insumo;
}());

var Modelo = (function () {
    function Modelo(conFiltro) {
        if (conFiltro === void 0) { conFiltro = false; }
        this.movimiento_insumos = [];
        this.almacen = [];
        //public nombre:String;
        //public observaciones:string;
        this.lista = [];
        this.totalInsumos = 0;
        this.paginacion = new __WEBPACK_IMPORTED_MODULE_0__paginacion_paginacion__["a" /* Paginacion */]();
        this.activo = false;
        this.cargando = false;
        this.indexar = function (conLote) {
            if (conLote === void 0) { conLote = true; }
            if (conLote) {
                var contador = 1;
                for (var i in this.lista) {
                    this.lista[i].lote = contador++;
                }
            }
            this.paginacion.totalPaginas = Math.ceil(this.lista.length / this.paginacion.resultadosPorPagina);
            this.paginacion.indice = [];
            for (var i = 0; i < this.paginacion.totalPaginas; i++) {
                this.paginacion.indice.push(i + 1);
            }
        };
        this.listar = function (pagina) {
            if (pagina === void 0) { pagina = 1; }
            this.paginacion.paginaActual = pagina;
            var inicio = (this.paginacion.paginaActual - 1) * this.paginacion.resultadosPorPagina;
            var fin = inicio + this.paginacion.resultadosPorPagina;
            try {
                this.paginacion.lista = this.lista.slice(inicio, fin);
            }
            catch (e) {
                this.paginacion.lista = [];
            }
        };
        this.eliminarItem = function (item, index) {
            var contador = 0;
            for (var i in this.lista) {
                if (this.lista[i] === item) {
                    this.paginacion.lista.splice(index, 1);
                    this.lista.splice(contador, 1);
                    this.indexar();
                    //Harima: con esto calculamos el siguiente indice, de la lista total de elementos, a agregar al final de la página
                    var proximoIndice = (contador + (this.paginacion.resultadosPorPagina - index)) - 1;
                    //Harima:  si ese indice existe, lo agregamos al final de la pagina
                    if (this.lista[proximoIndice]) {
                        this.paginacion.lista.push(this.lista[proximoIndice]);
                    }
                    //Harima: Si la pagina quedo vacía, listamos la pagina anterior, en caso de que la página actual sea mayor a 1
                    if (this.paginacion.lista.length == 0) {
                        if (this.paginacion.paginaActual > 1) {
                            this.listar(this.paginacion.paginaActual - 1);
                        }
                        else {
                            this.listar(1);
                        }
                    }
                    //Harima: si el objeto padre esta inicializado, significa que se esta eliminando desde una busqueda, por tanto hay que eliminar también en el objeto padre
                    if (this.padre) {
                        //Harima: se obtiene el indice y la pagina del item eliminado
                        var indice = this.padre.lista.indexOf(item);
                        var pagina = Math.ceil(indice / this.padre.paginacion.resultadosPorPagina);
                        //Harima: se calcula el indice que tiene el item en la pagina en la que se encuentra
                        var ajusteIndices = (pagina - 1) * this.padre.paginacion.resultadosPorPagina;
                        var indiceEnPagina = indice - ajusteIndices;
                        //Harima: eliminamos el elemento del padre, de ser necesario cambiamos de pagina
                        if (this.padre.paginacion.paginaActual == pagina) {
                            this.padre.eliminarItem(item, indiceEnPagina);
                        }
                        else {
                            var respaldoPagina = this.padre.paginacion.paginaActual;
                            this.padre.listar(pagina);
                            this.padre.eliminarItem(item, indiceEnPagina);
                            this.padre.listar(respaldoPagina);
                            //Harima: tenemos que checar si en la pagina actual del padre aun hay elementos, de lo contrario listamos la pagina anterior, cuando sea posible
                            if (this.padre.paginacion.lista.length == 0) {
                                if (this.padre.paginacion.paginaActual > 1) {
                                    this.padre.listar(this.padre.paginacion.paginaActual - 1);
                                }
                                else {
                                    this.padre.listar(1);
                                }
                            }
                        }
                    }
                    return;
                }
                contador++;
            }
        }; //Fin eliminarItem*/
        if (conFiltro) {
            this.filtro = new Modelo();
            //Harima: se asigna el Modelo actual como padre del filtro
            this.filtro.padre = this;
        }
    }
    Modelo.prototype.paginaSiguiente = function () {
        if (this.paginacion.paginaActual == this.paginacion.totalPaginas) {
            return;
        }
        this.listar(this.paginacion.paginaActual + 1);
    };
    Modelo.prototype.paginaAnterior = function () {
        if (this.paginacion.paginaActual == 1) {
            return;
        }
        this.listar(this.paginacion.paginaActual - 1);
    };
    return Modelo;
}());

//# sourceMappingURL=C:/wamp/www/x3-C/src/modelo.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-salidas/movimiento.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* unused harmony export Movimiento */
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Insumo; });
/* unused harmony export Lote */
/* unused harmony export Informacion */
var Movimiento = (function () {
    function Movimiento() {
    }
    return Movimiento;
}());

var Insumo = (function () {
    function Insumo() {
    }
    return Insumo;
}());

var Lote = (function () {
    function Lote() {
    }
    return Lote;
}());

var Informacion = (function () {
    function Informacion() {
    }
    return Informacion;
}());

//# sourceMappingURL=C:/wamp/www/x3-C/src/movimiento.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-salidas/movimientos-salidas-routing.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lista_lista_component__ = __webpack_require__("../../../../../src/app/farmacia/movimientos-salidas/lista/lista.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__nuevo_nuevo_component__ = __webpack_require__("../../../../../src/app/farmacia/movimientos-salidas/nuevo/nuevo.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__editar_editar_component__ = __webpack_require__("../../../../../src/app/farmacia/movimientos-salidas/editar/editar.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__auth_guard_service__ = __webpack_require__("../../../../../src/app/auth-guard.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MovimientosSalidasRoutingModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};






var routes = [
    { path: 'almacen/movimientos', redirectTo: 'almacen/movimientos/estandar', pathMatch: 'full' },
    { path: 'almacen/movimientos/salidas', redirectTo: 'almacen/movimientos/estandar', pathMatch: 'full' },
    {
        path: 'almacen/movimientos',
        children: [
            { path: 'estandar', component: __WEBPACK_IMPORTED_MODULE_2__lista_lista_component__["a" /* ListaComponent */] },
            { path: 'receta', component: __WEBPACK_IMPORTED_MODULE_2__lista_lista_component__["a" /* ListaComponent */] },
            { path: 'salidas/nuevo/:tipo_salida', component: __WEBPACK_IMPORTED_MODULE_3__nuevo_nuevo_component__["a" /* NuevoComponent */] },
            { path: 'salidas/editar/:id', component: __WEBPACK_IMPORTED_MODULE_4__editar_editar_component__["a" /* EditarComponent */] }
        ],
        canActivate: [__WEBPACK_IMPORTED_MODULE_5__auth_guard_service__["a" /* AuthGuard */]]
    }
];
var MovimientosSalidasRoutingModule = (function () {
    function MovimientosSalidasRoutingModule() {
    }
    return MovimientosSalidasRoutingModule;
}());
MovimientosSalidasRoutingModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */].forChild(routes)],
        exports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */]]
    })
], MovimientosSalidasRoutingModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/movimientos-salidas-routing.module.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-salidas/movimientos-salidas.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ngui_datetime_picker__ = __webpack_require__("../../../../@ngui/datetime-picker/dist/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__ngui_datetime_picker___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__ngui_datetime_picker__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__paginacion_paginacion_module__ = __webpack_require__("../../../../../src/app/paginacion/paginacion.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__buscar_insumos_movimientos_buscar_insumos_movimientos_module__ = __webpack_require__("../../../../../src/app/farmacia/buscar-insumos-movimientos/buscar-insumos-movimientos.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__index_farmacia_index_farmacia_module__ = __webpack_require__("../../../../../src/app/farmacia/index-farmacia/index-farmacia.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__movimientos_salidas_routing_module__ = __webpack_require__("../../../../../src/app/farmacia/movimientos-salidas/movimientos-salidas-routing.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__lista_lista_component__ = __webpack_require__("../../../../../src/app/farmacia/movimientos-salidas/lista/lista.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__nuevo_nuevo_component__ = __webpack_require__("../../../../../src/app/farmacia/movimientos-salidas/nuevo/nuevo.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__editar_editar_component__ = __webpack_require__("../../../../../src/app/farmacia/movimientos-salidas/editar/editar.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__form_form_component__ = __webpack_require__("../../../../../src/app/farmacia/movimientos-salidas/form/form.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__form_form_datos_component__ = __webpack_require__("../../../../../src/app/farmacia/movimientos-salidas/form/form-datos.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__form_form_insumos_component__ = __webpack_require__("../../../../../src/app/farmacia/movimientos-salidas/form/form-insumos.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__menu_lateral_menu_lateral_component__ = __webpack_require__("../../../../../src/app/farmacia/movimientos-salidas/menu-lateral/menu-lateral.component.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MovimientosSalidasModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};















var MovimientosSalidasModule = (function () {
    function MovimientosSalidasModule() {
    }
    return MovimientosSalidasModule;
}());
MovimientosSalidasModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [
            __WEBPACK_IMPORTED_MODULE_1__angular_common__["CommonModule"],
            __WEBPACK_IMPORTED_MODULE_7__movimientos_salidas_routing_module__["a" /* MovimientosSalidasRoutingModule */],
            __WEBPACK_IMPORTED_MODULE_6__index_farmacia_index_farmacia_module__["a" /* IndexFarmaciaModule */],
            __WEBPACK_IMPORTED_MODULE_4__paginacion_paginacion_module__["a" /* PaginacionModule */],
            __WEBPACK_IMPORTED_MODULE_2__angular_forms__["FormsModule"],
            __WEBPACK_IMPORTED_MODULE_3__ngui_datetime_picker__["NguiDatetimePickerModule"],
            __WEBPACK_IMPORTED_MODULE_2__angular_forms__["ReactiveFormsModule"],
            __WEBPACK_IMPORTED_MODULE_5__buscar_insumos_movimientos_buscar_insumos_movimientos_module__["a" /* BuscarInsumosMovimientosModule */]
        ],
        declarations: [
            __WEBPACK_IMPORTED_MODULE_8__lista_lista_component__["a" /* ListaComponent */],
            __WEBPACK_IMPORTED_MODULE_9__nuevo_nuevo_component__["a" /* NuevoComponent */],
            __WEBPACK_IMPORTED_MODULE_10__editar_editar_component__["a" /* EditarComponent */],
            __WEBPACK_IMPORTED_MODULE_11__form_form_component__["a" /* FormComponent */],
            __WEBPACK_IMPORTED_MODULE_12__form_form_datos_component__["a" /* FormDatosComponent */],
            __WEBPACK_IMPORTED_MODULE_14__menu_lateral_menu_lateral_component__["a" /* MenuLateralComponent */],
            __WEBPACK_IMPORTED_MODULE_13__form_form_insumos_component__["a" /* FormInsumosComponent */]
        ]
    })
], MovimientosSalidasModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/movimientos-salidas.module.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-salidas/movimientos-salidas.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/@angular/http.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__ = __webpack_require__("../../../../../src/app/jwt-request.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MovimientosSalidasService; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var MovimientosSalidasService = MovimientosSalidasService_1 = (function () {
    function MovimientosSalidasService(http, jwtRequest) {
        this.http = http;
        this.jwtRequest = jwtRequest;
    }
    MovimientosSalidasService.prototype.stats = function () {
        return this.jwtRequest.get(MovimientosSalidasService_1.URL, null, null).map(function (response) { return response.json(); });
    };
    MovimientosSalidasService.prototype.buscar = function (tipo_salida, term, pagina, resultados_por_pagina, almacen) {
        if (pagina === void 0) { pagina = 1; }
        if (resultados_por_pagina === void 0) { resultados_por_pagina = 20; }
        return this.jwtRequest.get(MovimientosSalidasService_1.URL + "?almacen=" + almacen + "&tipo=" + tipo_salida, null, { q: term, page: pagina, per_page: resultados_por_pagina }).map(function (response) { return response.json().data; });
        //return this.jwtRequest.get(`${MovimientosSalidasService.URL}?almacen=${almacen}`,null,{q: term, page: pagina, per_page: resultados_por_pagina}).map( (response: Response) => response.json().data);
    };
    MovimientosSalidasService.prototype.lista = function (pagina, resultados_por_pagina, almacen, tipo) {
        if (pagina === void 0) { pagina = 1; }
        if (resultados_por_pagina === void 0) { resultados_por_pagina = 20; }
        //console.log(tipo);
        //&tipo=${tipo}
        return this.jwtRequest.get(MovimientosSalidasService_1.URL + "?almacen=" + almacen + "&tipo=" + tipo, null, { page: pagina, per_page: resultados_por_pagina })
            .map(function (response) { return response.json(); });
    };
    //Para listar datos de manera general
    MovimientosSalidasService.prototype.listaDatos = function (url, id) {
        var urlModel;
        if (id) {
            return this.jwtRequest.get(url, id).map(function (response) { return response.json().data; });
        }
        else {
            return this.jwtRequest.get(url).map(function (response) { return response.json().data; });
        }
    };
    MovimientosSalidasService.prototype.ver = function (id) {
        return this.jwtRequest.get(MovimientosSalidasService_1.URL, id, {}).map(function (response) {
            var jsonData = response.json().data;
            var item = jsonData;
            return item;
        });
    };
    MovimientosSalidasService.prototype.editar = function (id, dato) {
        return this.jwtRequest.put(MovimientosSalidasService_1.URL, id, dato).map(function (response) { return response.json().data; });
    };
    MovimientosSalidasService.prototype.crear = function (movimiento) {
        return this.jwtRequest.post(MovimientosSalidasService_1.URL, movimiento).map(function (response) { return response.json().data; });
    };
    MovimientosSalidasService.prototype.eliminar = function (id) {
        return this.jwtRequest.delete(MovimientosSalidasService_1.URL, id).map(function (response) { return response.json().data; });
    };
    return MovimientosSalidasService;
}());
MovimientosSalidasService.URL = "movimientos";
MovimientosSalidasService.URL_STATS = "movimiento-stats";
MovimientosSalidasService = MovimientosSalidasService_1 = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__["a" /* JwtRequestService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__["a" /* JwtRequestService */]) === "function" && _b || Object])
], MovimientosSalidasService);

var MovimientosSalidasService_1, _a, _b;
//# sourceMappingURL=C:/wamp/www/x3-C/src/movimientos-salidas.service.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-salidas/nuevo/nuevo.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-salidas/nuevo/nuevo.component.html":
/***/ (function(module, exports) {

module.exports = "<menu-farmacia [modulo]=\"'Salidas estandar'\" [icono]=\"'assets/icono-salidas.svg'\" [url]=\"'/almacen/movimientos/salidas'\"></menu-farmacia>\r\n\r\n<div style=\"height:50px;\"></div>\r\n<entradas-form [movimiento]=\"movimiento\" [insumosForm]=\"insumosNuevo\" [cargando]=\"cargando\" (onEnviar)=\"enviar($event)\"></entradas-form>\r\n\r\n\r\n<div class=\"notification is-danger\" style=\"position:fixed; left:1em;  bottom:1em;\" *ngIf=\"mensajeError.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeError.mostrar = false\"></button>\r\n    <p><b>Error:</b> {{ mensajeError.texto }}<br></p>\r\n    <p style=\"text-align: center;\"><small>Este mensaje desaparecerá en {{ mensajeError.cuentaAtras }} segundos.</small></p>\r\n</div>\r\n\r\n<div class=\"notification is-warning\" style=\"position:fixed; left:1em;  bottom:1em;\" *ngIf=\"mensajeAdvertencia.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeAdvertencia.mostrar = false\"></button>\r\n    <p><span class=\"icon\" style=\"margin-right: 0.5em;\"><i class=\"fa fa-warning\"></i></span> <span>{{ mensajeAdvertencia.texto }}</span></p>\r\n\r\n    <br>\r\n    <p style=\"text-align: center;\"><small>Este mensaje desaparecerá en {{ mensajeAdvertencia.cuentaAtras }} segundos.</small></p>\r\n</div>\r\n\r\n<div class=\"notification is-success\" style=\"position:fixed; left:1em;  bottom:1em; width: auto\" *ngIf=\"mensajeExito.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeExito.mostrar = false\"></button>\r\n    <p><span class=\"icon\" style=\"margin-right: 0.5em;\"><i class=\"fa fa-check-circle\"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style=\"text-align: center;\"><small>Este mensaje desaparecerá en {{ mensajeExito.cuentaAtras }} segundos.</small></p>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/farmacia/movimientos-salidas/nuevo/nuevo.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__auth_service__ = __webpack_require__("../../../../../src/app/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__movimientos_salidas_service__ = __webpack_require__("../../../../../src/app/farmacia/movimientos-salidas/movimientos-salidas.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__mensaje__ = __webpack_require__("../../../../../src/app/mensaje.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NuevoComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var NuevoComponent = (function () {
    function NuevoComponent(router, title, authService, route, location, movimientosSalidasService, fb) {
        this.router = router;
        this.title = title;
        this.authService = authService;
        this.route = route;
        this.location = location;
        this.movimientosSalidasService = movimientosSalidasService;
        this.fb = fb;
        this.movimientoRepetido = false;
        this.movimientoInvalido = false;
        this.cargando = false;
        this.cargandoDatos = false;
        this.almacenes = {};
        this.usuario = {};
        // # SECCION: Esta sección es para mostrar mensajes
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_7__mensaje__["a" /* Mensaje */]();
        this.mensajeAdvertencia = new __WEBPACK_IMPORTED_MODULE_7__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_7__mensaje__["a" /* Mensaje */]();
        // # FIN SECCION
        this.insumosNuevo = [];
    }
    NuevoComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.title.setTitle("Nuevo movimiento / Almacen");
        this.usuario = JSON.parse(localStorage.getItem("usuario"));
        this.movimiento = this.fb.group({
            id: [''],
            almacen_id: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            status: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            tipo_movimiento_id: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            fecha_movimiento: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            observaciones: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            cancelado: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            observaciones_cancelacion: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            movimiento_metadato: this.fb.group({
                persona_recibe: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
                servicio_id: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            }),
            insumos: this.fb.array([
                this.initInsumo(),
            ])
        });
        this.route.params.subscribe(function (params) {
            _this.tipo_salida = params['tipo_salida']; // Se puede agregar un simbolo + antes de la variable params para volverlo number
            //console.log(this.tipo_salida);
        });
        this.movimiento.patchValue({ almacen_id: this.usuario.almacen_activo.id });
        this.movimiento.patchValue({ tipo_movimiento_id: this.tipo_salida });
    };
    NuevoComponent.prototype.initInsumo = function () {
        return this.fb.group({
            clave: ['', __WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required],
            cantidad: ['', __WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required],
            cantidad_x_envase: ['', __WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required],
            lote: ['', __WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required],
            fecha_caducidad: ['', __WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required],
            codigo_barras: ['', __WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required],
        });
    };
    NuevoComponent.prototype.enviar = function (insumosAgregadosForm) {
        var _this = this;
        this.cargando = true;
        //console.log(`Insumos ${insumosAgregadosForm}`);
        this.movimiento.value.insumos = insumosAgregadosForm;
        //console.log(this.movimiento.value);
        this.movimientosSalidasService.crear(this.movimiento.value).subscribe(function (movimiento) {
            _this.cargando = false;
            console.log("Movimiento creado.");
            _this.location.back();
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_7__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError.texto = "No especificado.";
            _this.mensajeError.mostrar = true;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
                // Problema de validación
                if (error.status == 409) {
                    _this.mensajeError.texto = "Por favor verfique los campos vacíos.";
                    _this.movimientoRepetido = false;
                    _this.movimientoInvalido = false;
                    for (var input in e.error) {
                        console.log(e.error[input]);
                        // Iteramos todos los errores
                        for (var i in e.error[input]) {
                            console.log(e.error[input[i]]);
                            for (var j in e.error[input[i]]) {
                                console.log(e.error[input[i[j]]]);
                            }
                            if (e.error[input] == 'insumos') {
                                console.log("No hay insumos");
                            }
                            if (input == 'id' && e.error[input][i] == 'email') {
                                _this.movimientoInvalido = true;
                            }
                        }
                    }
                }
            }
            catch (e) {
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    NuevoComponent.prototype.regresar = function () {
        this.location.back();
    };
    return NuevoComponent;
}());
NuevoComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-nuevo',
        template: __webpack_require__("../../../../../src/app/farmacia/movimientos-salidas/nuevo/nuevo.component.html"),
        styles: [__webpack_require__("../../../../../src/app/farmacia/movimientos-salidas/nuevo/nuevo.component.css")],
        providers: [__WEBPACK_IMPORTED_MODULE_6__movimientos_salidas_service__["a" /* MovimientosSalidasService */]]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* Router */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_4__angular_platform_browser__["b" /* Title */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__angular_platform_browser__["b" /* Title */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_5__auth_service__["a" /* AuthService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_5__auth_service__["a" /* AuthService */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* ActivatedRoute */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* ActivatedRoute */]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_1__angular_common__["Location"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_common__["Location"]) === "function" && _e || Object, typeof (_f = typeof __WEBPACK_IMPORTED_MODULE_6__movimientos_salidas_service__["a" /* MovimientosSalidasService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_6__movimientos_salidas_service__["a" /* MovimientosSalidasService */]) === "function" && _f || Object, typeof (_g = typeof __WEBPACK_IMPORTED_MODULE_3__angular_forms__["FormBuilder"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__angular_forms__["FormBuilder"]) === "function" && _g || Object])
], NuevoComponent);

var _a, _b, _c, _d, _e, _f, _g;
//# sourceMappingURL=C:/wamp/www/x3-C/src/nuevo.component.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/pedidos/formulario/formulario.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".top-bar {\r\n    padding: 1em ; \r\n    font-size: 1.2em; \r\n    background: #FFF;    \r\n    color: #333;\r\n}\r\n.contenedor-pedido.con-tabs .top-bar {\r\n    padding: 0.5em ; \r\n}\r\n.top-bar.is-primary {\r\n    background: #00d1b2;\r\n    color:#FFF\r\n}\r\n.top-bar.is-dark {\r\n    background: #333;\r\n    color:#FFF\r\n}\r\n.contenedor-pedido {\r\n    background: #FFF; border-radius: 1em; overflow: hidden;\r\n}\r\n.contenedor-pedido.con-tabs {\r\n    border-top-left-radius: 0px !important;\r\n    border-top-right-radius: 0px !important;\r\n}\r\n\r\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/farmacia/pedidos/formulario/formulario.component.html":
/***/ (function(module, exports) {

module.exports = "<menu-farmacia [modulo]=\"'Pedidos'\" [icono]=\"'assets/icono-pedidos.svg'\" [url]=\"'/almacen/pedidos'\"></menu-farmacia>\r\n\r\n<div style=\"position:relative; padding-top:70px; margin-left: 1.5%; display:block; width:97%; height:100% !important;\" *ngIf=\"pedido\">    \r\n  <div class=\"tile is-ancestor is-vertical\" style=\"height:100% !important; max-height:100% !important;\">\r\n    <div class=\"tile\">\r\n      <div class=\"tile is-4 is-parent is-vertical \">\r\n        <div class=\"tile is-child\">\r\n            <div style=\"background: #FFF; border-radius: 1em; overflow: hidden;\">\r\n                <section class=\"hero is-primary\" >\r\n                <h1 class=\"title\" style=\"margin:0.5em;\" >\r\n                    <span class=\"icon is-medium\"><i class=\"fa fa-file-text\"></i></span> {{formularioTitulo}} \r\n                </h1>\r\n                <a class=\"button is-success\" title=\"Imprimir Excel\" (click)=\"imprimirExcel(); \" *ngIf=\"esEditar\">\r\n                    <span class=\"icon\"><i class=\"fa fa-file-excel-o\"></i></span> &nbsp; Descargar Pedido en Excel\r\n                </a>\r\n                </section>\r\n\r\n                <div style=\"padding: 1em;\">\r\n                <form name=\"form\" novalidate [formGroup]=\"pedido.datos\">\r\n                    <label class=\"label\">Pedido para:</label>\r\n                    <p class=\"control\">\r\n                        <span class=\"select is-fullwidth\">\r\n                            <select name=\"almacen_solicitante\" formControlName=\"almacen_solicitante\" [ngClass]=\"{'is-warning': almacenes?.length == 0 }\" (change)=\"cambioAlmacen()\">\r\n                                <option *ngFor=\"let item of almacenes\" value=\"{{item.id}}\">{{ item.nombre }}</option>\r\n                            </select>\r\n                        </span>\r\n                        <span class=\"help is-danger\" *ngIf=\"pedido.tieneError('almacen_solicitante','required')\">Debe elegir el almacen solicitante.</span>\r\n                    </p>\r\n                    <p *ngIf=\"es_almacen_subrogado\" class=\"subtitle is-6 is-info\">\r\n                        Al concluir el pedido, los insumos capturados serán  asignados al inventario de la farmacia subrogada.\r\n                    </p>\r\n\r\n                    <label class=\"label\">Nombre del Pedido:</label>\r\n                    <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                        <input type=\"text\" class=\"input is-fullwidth\" placeholder=\"Ej. Pedido del mes de Mayo\" [ngClass]=\"{'is-danger': pedido.tieneError('descripcion','required')}\" formControlName=\"descripcion\"/>\r\n                        <span class=\"icon is-small\" *ngIf=\"pedido.tieneError('descripcion','required')\">\r\n                            <i class=\"fa fa-warning\"></i>\r\n                        </span>\r\n                        <span class=\"help is-danger\" *ngIf=\"pedido.tieneError('descripcion','required')\">Este campo es requerido.</span>\r\n                    </p>\r\n\r\n                    <label class=\"label\">Fecha (aaaa-mm-dd):</label>\r\n                    <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                        <input type=\"text\" class=\"input is-fullwidth\" placeholder=\"aaaa-mm-dd\" [ngClass]=\"{'is-danger': pedido.tieneError('fecha','required')}\" formControlName=\"fecha\" #fecha id=\"fecha\" (keyup)=\"recargarPresupuesto(fecha.value)\"/>\r\n                        <span class=\"icon is-small\" *ngIf=\"pedido.tieneError('fecha','required')\">\r\n                            <i class=\"fa fa-warning\"></i>\r\n                        </span>\r\n                        <!--span class=\"select is-fullwidth\">\r\n                            <select [ngClass]=\"{'is-danger': pedido.tieneError('fecha','required')}\" formControlName=\"fecha\" #fecha id=\"fecha\" (change)=\"recargarPresupuesto(fecha.value)\">\r\n                                <option *ngFor=\"let item of fechasValidas\" value=\"{{item.fecha}}\">{{ item.descripcion }}</option>\r\n                            </select>\r\n                        </span-->\r\n                        <span class=\"help is-danger\" *ngIf=\"pedido.tieneError('fecha','required')\">Este campo es requerido.</span>\r\n                    </p>\r\n\r\n                    <div class=\"control\">\r\n                    <textarea name=\"observaciones\" class=\"textarea\" placeholder=\"Observaciones\"  formControlName=\"observaciones\"></textarea>\r\n                    </div>\r\n                </form>\r\n\r\n                <label *ngIf=\"pedido.tipo_pedido != 'PI' && esEditar\" class=\"label\">Datos del Proveedor:</label>\r\n                <div *ngIf=\"pedido.tipo_pedido != 'PI' && esEditar\" class=\"level-item\">\r\n                    <div *ngIf=\"esEditar\" >\r\n                    <p class=\"subtitle is-5\">\r\n                        {{proveedor.nombre}}<br>\r\n                        <small>\r\n                        {{proveedor.contacto}}<br>\r\n                        {{proveedor.email}}<br>\r\n                        Cel: {{proveedor.celular}}\r\n                        </small>\r\n                    </p>\r\n                    </div>\r\n                </div>\r\n                <hr>\r\n\r\n                <div class=\"control is-grouped\" style=\"padding-top:10px;\" *ngIf=\"!cargando\">\r\n                    <!--p class=\"control\" *ngIf=\"esEditar\">\r\n                        <a class=\"button is-success \" [ngClass]=\"{ 'is-loading': cargando, 'is-inverted': !cargando }\" (click)=\"imprimirExcel()\" title=\"Imprimir Excel\" ><span class=\"icon\"><i class=\"fa fa-file-excel-o\"></i></span></a>\r\n                    </p-->\r\n\r\n                    <p class=\"control\">\r\n                        <a class=\"button is-primary \" (click)=\"guardar()\" [ngClass]=\"{'is-loading': guardando}\" >Guardar</a>\r\n                    </p>\r\n                    <p class=\"control\" *ngIf=\"esEditar\">\r\n                        <a class=\"button is-danger \" (click)=\"finalizar()\" [ngClass]=\"{'is-loading': guardando}\" ><span class=\"icon\"><i class=\"fa fa-check\"></i></span><span>Concluir</span></a>\r\n                    </p>\r\n                \r\n                    <!--p class=\"control\" *ngIf=\"esEditar\">\r\n                    <a class=\"button is-primary \" [ngClass]=\"{ 'is-loading': cargandoPdf, 'is-inverted': !cargandoPdf }\" (click)=\"imprimir()\" ><span class=\"icon\"><i class=\"fa fa-print\"></i></span></a>\r\n                    </p-->\r\n                    <p class=\"control\">\r\n                    <a class=\"button is-white\" [ngClass]=\"{'is-loading': guardando}\" routerLink=\"{{obtenerDireccion()}}\" >Ir a la lista</a>\r\n                    </p>                \r\n                </div>\r\n                </div>\r\n            </div>\r\n            <br>\r\n        </div>\r\n        \r\n        <div class=\"tile is-child  notification is-white\">\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"tile is-parent is-vertical\">\r\n        <div class=\"tile is-child is-12\" >\r\n            <div class=\"tile is-parent\" style=\"padding:0px;\">\r\n                <article class=\"tile is-child notification is-success has-text-centered\" style=\"padding:0.5rem 0.5rem 0.5rem 0.5rem\">\r\n                    <div class=\"content\" *ngIf=\"!cargandoPresupuestos\">\r\n                        <span *ngIf=\"(presupuesto.causes_disponible - pedido.totalMontoCauses) <= 0\" class=\"icon\"><i class=\"fa fa-warning\"></i></span>\r\n                        <p class=\"subtitle\" style=\"font-weight:bold;\">\r\n                            <small>\r\n                                Disponible Causes:<br> \r\n                                $ {{ (presupuesto.causes_disponible - pedido.totalMontoCauses.toFixed(2)) | number: '1.2-2' }}\r\n                            </small>\r\n                        </p>\r\n                    </div>\r\n                    <div class=\"content\" *ngIf=\"cargandoPresupuestos\">\r\n                        <span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando...</span>\r\n                    </div>\r\n                </article>\r\n\r\n                <article class=\"tile is-child notification is-danger has-text-centered\" style=\"padding:0.5rem 0.5rem 0.5rem 0.5rem\">\r\n                    <div class=\"content\" *ngIf=\"!cargandoPresupuestos\">\r\n                        <span *ngIf=\"(presupuesto.no_causes_disponible - pedido.totalMontoNoCauses) <= 0\" class=\"icon\"><i class=\"fa fa-warning\"></i></span>\r\n                        <p class=\"subtitle\" style=\"font-weight:bold;\">\r\n                            <small>\r\n                                Disponible No Causes:<br>  $ {{ (presupuesto.no_causes_disponible - pedido.totalMontoNoCauses.toFixed(2)) | number: '1.2-2' }}\r\n                            </small>\r\n                        </p>\r\n                    </div>\r\n                    <div class=\"content\" *ngIf=\"cargandoPresupuestos\">\r\n                        <span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando...</span>\r\n                    </div>\r\n                </article>\r\n\r\n                <article class=\"tile is-child notification is-warning has-text-centered\" style=\"padding:0.5rem 0.5rem 0.5rem 0.5rem\">\r\n                    <div class=\"content\" *ngIf=\"!cargandoPresupuestos\">\r\n                        <span *ngIf=\"(presupuesto.material_curacion_disponible - pedido.totalMontoMaterialCuracion) <= 0\" class=\"icon\"><i class=\"fa fa-warning\"></i></span>\r\n                        <p class=\"subtitle\" style=\"font-weight:bold;\">\r\n                            <small>\r\n                                Disp. Material de Curación:<br>  $ {{ (presupuesto.material_curacion_disponible - pedido.totalMontoMaterialCuracion.toFixed(2)) | number: '1.2-2' }}\r\n                            </small>\r\n                        </p>\r\n                    </div>\r\n                    <div class=\"content\" *ngIf=\"cargandoPresupuestos\">\r\n                        <span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando...</span>\r\n                    </div>\r\n                </article>\r\n            </div>\r\n        </div>\r\n        <div class=\"tile is-child\" >\r\n          <div class=\"contenedor-pedido\" >\r\n            <div class=\"top-bar\" [ngClass]=\"{'is-primary':!pedido.filtro.activo,'is-dark': pedido.filtro.activo }\">\r\n                <span *ngIf=\"!pedido.filtro.activo\"><b>Mes:</b> {{ meses[mes] }} <b>Claves:</b> {{ pedido.lista.length | number }} <b>Insumos:</b> {{pedido.totalInsumos | number}} <b>Total:</b> $ {{ pedido.totalMonto | number: '1.2-2' }}</span>\r\n                <span *ngIf=\"pedido.filtro.activo\"><span class=\"icon\"><i class=\"fa fa-search\"></i></span> Resultados: {{ pedido.filtro.lista.length }}</span>\r\n                <a class=\"button is-primary  is-pulled-right\" [ngClass]=\"{ 'is-inverted': pedido.filtro.activo }\" style=\"margin-top:-0.25em;\" title=\"Ctrl + espacio\" (click)=\"toggleModalInsumos(); \">\r\n                <span class=\"icon\"><i class=\"fa fa-plus\"></i></span><span>Agregar Clave</span>\r\n                </a>\r\n            </div> \r\n\r\n            <div class=\"is-fullwidth has-text-centered\" *ngIf=\"guardando\">\r\n                <br>\r\n                <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-spinner fa-spin\"></i></span> &nbsp;<span>Guardando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n\r\n            <div class=\"is-fullwidth has-text-centered\" *ngIf=\"cargando\">\r\n                <br>\r\n                <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n\r\n            <table class=\"table is-unselectable\" *ngIf=\"!cargando && !guardando\" style=\"font-size: 0.8em;\">\r\n                <thead>\r\n                    <tr  >\r\n                        <th style=\"width:41px;vertical-align: middle;\" class=\"has-text-centered\" >Lote</th>\r\n                        <th class=\"is-hidden-mobile\" style=\"width:118px;\">\r\n                        <p class=\"control is-expanded\" >\r\n                            <input type=\"hidden\" #searchBoxClavePrevia >\r\n                            <!--input class=\"input is-small\" type=\"text\" placeholder=\"Clave\" #searchBoxClave id=\"search-box-clave-{{indexPedido}}\" (keyup)=\"buscar($event,searchBoxClave, searchBoxClavePrevia,[{ input: searchBoxDescripcion, campos: ['generico','informacion.concentracion','informacion.presentacion']}, { input: searchBoxClave, campos: ['clave']}])\"-->\r\n                            <input class=\"input is-small\" type=\"text\" placeholder=\"Filtrar\" #searchBoxClave id=\"search-box-clave\" (keyup)=\"buscar($event,searchBoxClave,searchBoxClavePrevia,[{ input: searchBoxClave, campos: ['clave','descripcion']}])\">\r\n                        </p>\r\n                        </th>\r\n                        <!--th class=\"is-hidden-mobile\">\r\n                        <p class=\"control is-expanded\">\r\n                            <input type=\"hidden\" #searchBoxDescripcionPrevia >\r\n                            <input class=\"input is-small\" type=\"text\" placeholder=\"Genérico\" #searchBoxDescripcion id=\"search-box-descripcion-{{indexPedido}}\" (keyup)=\"buscar($event,searchBoxDescripcion,searchBoxDescripcionPrevia,[{ input: searchBoxDescripcion, campos: ['generico_nombre','informacion.concentracion','informacion.presentacion']}, { input: searchBoxClave, campos: ['clave']}])\">\r\n                        </p>\r\n                        </th--> \r\n                        <th class=\"is-hidden-tablet\">\r\n                        <p class=\"control is-expanded\">\r\n                            <input type=\"hidden\" #searchBoxDescripcionClavePrevia >\r\n                            <!--input class=\"input is-small\" type=\"text\" placeholder=\"Clave o Genérico\" #searchBoxDescripcionClave id=\"search-box-descripcion-clave-{{indexPedido}}\" (keyup)=\"buscar($event,searchBoxDescripcionClave,searchBoxDescripcionClavePrevia,[{ input: searchBoxDescripcionClave, campos: ['clave','generico_nombre','informacion.concentracion','informacion.presentacion']}])\"-->\r\n                            <input class=\"input is-small\" type=\"text\" placeholder=\"Clave o Genérico\" #searchBoxDescripcionClave id=\"search-box-descripcion-clave-{{indexPedido}}\" (keyup)=\"buscar($event,searchBoxDescripcionClave,searchBoxDescripcionClavePrevia,[{ input: searchBoxDescripcionClave, campos: ['clave','descripcion']}])\">\r\n                        </p>\r\n                        </th>  \r\n                        <th style=\"vertical-align: middle;\" class=\"is-hidden-mobile is-hidden-tablet-only\" >Descripcion</th>                  \r\n                        <th style=\"width:78px !important;text-align: center; vertical-align: middle;\"><abbr title=\"Cantidad\">Cant.</abbr></th>\r\n                        <th style=\"width:78px !important;text-align: center; vertical-align: middle;\"><abbr title=\"Monto\">Monto</abbr></th>\r\n                        <th  style=\"width:21px !important;\"></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody *ngIf=\"!pedido.filtro.activo\">\r\n\r\n                    <tr   *ngFor=\"let item of pedido.paginacion.lista; let i = index;\">\r\n                    <td class=\"has-text-centered\">{{ item.lote }}</td>\r\n                    <td class=\"has-text-centered is-hidden-mobile\"><a (click)=\"mostrarFichaInformativa($event, item.clave)\" style=\"cursor:help;\">{{ item.clave }}</a></td>            \r\n                    \r\n                    <td>\r\n                        <small class=\"is-hidden-tablet\">{{ item.clave }} <br></small>\r\n                        <!--div *ngIf=\"item.tipo != 'ME'\" style=\"line-height:1em;\"-->\r\n                        <div style=\"line-height:1em;\">\r\n                        <small>{{ item.descripcion }}</small>\r\n                        </div>\r\n                        <div style=\"padding: 0.5em 0 0.5em 0; \">\r\n                        <span *ngIf=\"(item.es_causes && item.tipo == 'ME')\" class=\"tag is-success\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">CAUSES</span>\r\n                        <span *ngIf=\"(!item.es_causes && item.tipo == 'ME')\" class=\"tag is-danger\" style=\"font-size: 0.7em !important;\">NO CAUSES</span>\r\n                        <span *ngIf=\"item.tipo == 'MC'\" class=\"tag is-warning\" style=\"font-size: 0.7em !important;\">MATERIAL CURACIÓN</span>\r\n                        <span *ngIf=\"item.es_cuadro_basico\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">Cuadro básico</span>\r\n                        <span *ngIf=\"(item.tipo == 'ME' && item.informacion)\">\r\n                            <span *ngIf=\"item.informacion.es_controlado\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Controlado</span>\r\n                            <span *ngIf=\"item.informacion.es_surfactante\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Surfactante</span>  \r\n                        </span>\r\n                        </div>\r\n                    </td>\r\n\r\n                    <!--td >\r\n                        <small class=\"is-hidden-tablet\">{{ item.clave }} <br></small>\r\n                        <b>{{ item.generico_nombre }}</b> <br  class=\"is-hidden-mobile\"><small *ngIf=\"(item.tipo == 'ME' && item.informacion)\"><b>{{ item.informacion.concentracion }}</b></small><br>\r\n                        \r\n                        <div class=\"is-hidden-desktop\" *ngIf=\"(item.tipo == 'ME' && item.informacion)\" style=\"line-height:1em;\">\r\n                        <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                        <small><i>{{ item.informacion.contenido }} </i></small>\r\n                        </div>\r\n                        <div class=\"is-hidden-desktop\" *ngIf=\"item.tipo != 'ME'\" style=\"line-height:1em;\">\r\n                        <small>{{ item.descripcion }}</small>\r\n                        </div>\r\n                        <div class=\"is-hidden-desktop\" style=\"padding: 0.5em 0 0.5em 0; \">\r\n                        <span *ngIf=\"(item.es_causes && item.tipo == 'ME')\" class=\"tag is-success\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">CAUSES</span>\r\n                        <span *ngIf=\"(!item.es_causes && item.tipo == 'ME')\" class=\"tag is-danger\" style=\"font-size: 0.7em !important;\">NO CAUSES</span>\r\n                        <span *ngIf=\"item.tipo == 'MC'\" class=\"tag is-warning\" style=\"font-size: 0.7em !important;\">MATERIAL CURACIÓN</span>\r\n\r\n                        <span *ngIf=\"item.es_cuadro_basico\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">Cuadro básico</span>\r\n                        \r\n                        <span *ngIf=\"(item.tipo == 'ME' && item.informacion)\">\r\n                            <span *ngIf=\"item.informacion.es_controlado\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Controlado</span>\r\n                            <span *ngIf=\"item.informacion.es_surfactante\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Surfactante</span>  \r\n                        </span>\r\n                        \r\n                        </div>\r\n                    </td> \r\n\r\n                    <td class=\"is-hidden-mobile is-hidden-tablet-only\">\r\n                        <div *ngIf=\"(item.tipo == 'ME' && item.informacion)\" style=\"line-height:1em;\">\r\n                        <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                        <small><i>{{ item.informacion.contenido }} </i></small>\r\n                        </div>\r\n                        <div  *ngIf=\"item.tipo != 'ME'\" style=\"line-height:1em;\">\r\n                        <small>{{ item.descripcion }}</small>\r\n                        </div>\r\n                        <div style=\"padding: 0.5em 0 0.5em 0; \">\r\n                        <span *ngIf=\"(item.es_causes && item.tipo == 'ME')\" class=\"tag is-success\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">CAUSES</span>\r\n                        <span *ngIf=\"(!item.es_causes && item.tipo == 'ME')\" class=\"tag is-danger\" style=\"font-size: 0.7em !important;\">NO CAUSES</span>\r\n                        <span *ngIf=\"item.tipo == 'MC'\" class=\"tag is-warning\" style=\"font-size: 0.7em !important;\">MATERIAL CURACIÓN</span>\r\n\r\n                        <span *ngIf=\"item.es_cuadro_basico\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">Cuadro básico</span>\r\n                        <span *ngIf=\"(item.tipo == 'ME' && item.informacion)\">\r\n                            <span *ngIf=\"item.informacion.es_controlado\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Controlado</span>\r\n                            <span *ngIf=\"item.informacion.es_surfactante\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Surfactante</span>  \r\n                        </span>\r\n                        \r\n                        </div>\r\n                    </td-->\r\n\r\n                    <td style=\"width:100px !important;\">\r\n                        <p class=\"control is-expanded\">\r\n                        <input class=\"input is-small has-text-centered\"  type=\"number\" placeholder=\"Cant\" (keyup)=\"modificarItem(item)\" [(ngModel)]=\"item.cantidad\">\r\n                        </p>\r\n                    </td>\r\n\r\n                    <td style=\"width:78px !important;\">\r\n                        <b>\r\n                            <abbr>$ {{item.monto | number:'1.2-2'}}</abbr>\r\n                        </b>\r\n                    </td>\r\n\r\n                    <td style=\"width:21px !important;\"><a (click)=\"eliminarInsumo(item,i)\"><span class=\"icon\"><i class=\"fa fa-trash\"></i></span></a></td>\r\n                    </tr>      \r\n                </tbody>\r\n                <tbody *ngIf=\"pedido.filtro.activo\">\r\n                    <tr  *ngFor=\"let item of pedido.filtro.paginacion.lista; let i = index;\">\r\n                    <td class=\"has-text-centered\">{{ item.lote }}</td>\r\n                    <td class=\"has-text-centered is-hidden-mobile\"><a (click)=\"mostrarFichaInformativa($event, item.clave)\" style=\"cursor:help;\">{{ item.clave }}</a></td>            \r\n                    \r\n                    <td>\r\n                        <small class=\"is-hidden-tablet\">{{ item.clave }} <br></small>\r\n                        <!--div *ngIf=\"item.tipo != 'ME'\" style=\"line-height:1em;\"-->\r\n                        <div style=\"line-height:1em;\">\r\n                        <small>{{ item.descripcion }}</small>\r\n                        </div>\r\n                        <div style=\"padding: 0.5em 0 0.5em 0; \">\r\n                        <span *ngIf=\"(item.es_causes && item.tipo == 'ME')\" class=\"tag is-success\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">CAUSES</span>\r\n                        <span *ngIf=\"(!item.es_causes && item.tipo == 'ME')\" class=\"tag is-danger\" style=\"font-size: 0.7em !important;\">NO CAUSES</span>\r\n                        <span *ngIf=\"item.tipo == 'MC'\" class=\"tag is-warning\" style=\"font-size: 0.7em !important;\">MATERIAL CURACIÓN</span>\r\n                        <span *ngIf=\"item.es_cuadro_basico\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">Cuadro básico</span>\r\n                        <span *ngIf=\"(item.tipo == 'ME' && item.informacion)\">\r\n                            <span *ngIf=\"item.informacion.es_controlado\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Controlado</span>\r\n                            <span *ngIf=\"item.informacion.es_surfactante\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Surfactante</span>  \r\n                        </span>\r\n                        </div>\r\n                    </td>\r\n\r\n                    <!--td >\r\n                        <small class=\"is-hidden-tablet\">{{ item.clave }} <br></small>\r\n                        <b>{{ item.generico_nombre }}</b> <br  class=\"is-hidden-mobile\"><small *ngIf=\"(item.tipo == 'ME' && item.informacion)\"><b>{{ item.informacion.concentracion }}</b></small><br>\r\n                        \r\n                        <div class=\"is-hidden-desktop\" *ngIf=\"(item.tipo == 'ME' && item.informacion)\" style=\"line-height:1em;\">\r\n                        <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                        <small><i>{{ item.informacion.contenido }} </i></small>\r\n                        </div>\r\n                        <div class=\"is-hidden-desktop\" *ngIf=\"item.tipo != 'ME'\" style=\"line-height:1em;\">\r\n                        <small>{{ item.descripcion }}</small>\r\n                        </div>\r\n                        <div class=\"is-hidden-desktop\" style=\"padding: 0.5em 0 0.5em 0; \">\r\n                        <span *ngIf=\"(item.es_causes && item.tipo == 'ME')\" class=\"tag is-success\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">CAUSES</span>\r\n                        <span *ngIf=\"(!item.es_causes && item.tipo == 'ME')\" class=\"tag is-danger\" style=\"font-size: 0.7em !important;\">NO CAUSES</span>\r\n                        <span *ngIf=\"item.tipo == 'MC'\" class=\"tag is-warning\" style=\"font-size: 0.7em !important;\">MATERIAL CURACIÓN</span>\r\n                        <span *ngIf=\"item.es_cuadro_basico\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">Cuadro básico</span>\r\n                        \r\n                        <span *ngIf=\"(item.tipo == 'ME' && item.informacion)\">\r\n                            <span *ngIf=\"item.informacion.es_controlado\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Controlado</span>\r\n                            <span *ngIf=\"item.informacion.es_surfactante\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Surfactante</span>  \r\n                        </span>\r\n                        \r\n                        </div>\r\n                    </td> \r\n\r\n                    <td class=\"is-hidden-mobile is-hidden-tablet-only\">\r\n                        <div *ngIf=\"(item.tipo == 'ME' && item.informacion)\" style=\"line-height:1em;\">\r\n                        <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                        <small><i>{{ item.informacion.contenido }} </i></small>\r\n                        </div>\r\n                        <div  *ngIf=\"item.tipo != 'ME'\" style=\"line-height:1em;\">\r\n                        <small>{{ item.descripcion }}</small>\r\n                        </div>\r\n                        <div style=\"padding: 0.5em 0 0.5em 0; \">\r\n                        <span *ngIf=\"(item.es_causes && item.tipo == 'ME')\" class=\"tag is-success\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">CAUSES</span>\r\n                        <span *ngIf=\"(!item.es_causes && item.tipo == 'ME')\" class=\"tag is-danger\" style=\"font-size: 0.7em !important;\">NO CAUSES</span>\r\n                        <span *ngIf=\"item.tipo == 'MC'\" class=\"tag is-warning\" style=\"font-size: 0.7em !important;\">MATERIAL CURACIÓN</span>\r\n                        <span *ngIf=\"item.es_cuadro_basico\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">Cuadro básico</span>\r\n                        <span *ngIf=\"(item.tipo == 'ME' && item.informacion)\">\r\n                            <span *ngIf=\"item.informacion.es_controlado\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Controlado</span>\r\n                            <span *ngIf=\"item.informacion.es_surfactante\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Surfactante</span>  \r\n                        </span>\r\n                        \r\n                        </div>\r\n                    </td--> \r\n\r\n                    <td style=\"width:100px !important;\">\r\n                        <p class=\"control is-expanded\">\r\n                        <input class=\"input is-small has-text-centered\"  type=\"number\" placeholder=\"Cant\" (keyup)=\"modificarItem(item)\" [(ngModel)]=\"item.cantidad\">\r\n                        </p>\r\n                    </td>\r\n\r\n                    <td style=\"width:78px !important;\">\r\n                        <b>\r\n                            <abbr>$ {{item.monto | number:'1.2-2'}}</abbr>\r\n                        </b>\r\n                    </td> \r\n\r\n                    <td style=\"width:21px !important;\"><a (click)=\"eliminarInsumo(item,i,true)\"><span class=\"icon\"><i class=\"fa fa-trash\"></i></span></a></td>\r\n                    </tr>\r\n                </tbody>              \r\n            </table>\r\n            \r\n            <paginacion \r\n                    [total]=\"pedido.lista.length\" \r\n                    [paginasTotales]=\"pedido.paginacion.totalPaginas\" \r\n                    [resultadosPorPagina]=\"pedido.paginacion.resultadosPorPagina\" \r\n                    [paginaActual]=\"pedido.paginacion.paginaActual\" \r\n                    [indicePaginas]=\"pedido.paginacion.indice\"\r\n                    (onSiguiente)=\"pedido.paginaSiguiente()\" \r\n                    (onAnterior)=\"pedido.paginaAnterior()\" \r\n                    (onListar)=\"pedido.listar($event)\" \r\n                    *ngIf=\"pedido.lista.length > 0 && pedido.lista.length > pedido.paginacion.resultadosPorPagina && !pedido.filtro.activo\"></paginacion>\r\n            \r\n            <paginacion \r\n                    [total]=\"pedido.filtro.lista.length\" \r\n                    [paginasTotales]=\"pedido.filtro.paginacion.totalPaginas\" \r\n                    [resultadosPorPagina]=\"pedido.filtro.paginacion.resultadosPorPagina\" \r\n                    [paginaActual]=\"pedido.filtro.paginacion.paginaActual\" \r\n                    [indicePaginas]=\"pedido.filtro.paginacion.indice\"\r\n                    (onSiguiente)=\"pedido.filtro.paginaSiguiente()\" \r\n                    (onAnterior)=\"pedido.filtro.paginaAnterior()\" \r\n                    (onListar)=\"pedido.filtro.listar($event)\" \r\n                    *ngIf=\"pedido.filtro.lista.length > 0 && pedido.filtro.lista.length > pedido.filtro.paginacion.resultadosPorPagina && pedido.filtro.activo\"></paginacion>\r\n            \r\n            <br>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n\r\n<div class=\"notification is-danger\" style=\"position:fixed; left:1em;  bottom:1em;\" *ngIf=\"mensajeError.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeError.mostrar = false\"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <!--p style=\"text-align:center\" ><a  class=\"button is-danger is-inverted\" (click)=\"ultimaPeticion(); mensajeError.mostrar = false\"> <span class=\"icon\"><i class=\"fa fa-refresh\"></i></span> <span>Volver a intentar</span></a></p-->        \r\n</div>\r\n\r\n<div class=\"notification is-success\" style=\"position:fixed; left:1em;  bottom:1em; width: auto\" *ngIf=\"mensajeExito.mostrar\">       \r\n    <button class=\"delete\" (click)=\"mensajeExito.mostrar = false\"></button>\r\n    <p><span class=\"icon\" style=\"margin-right: 0.5em;\"><i class=\"fa fa-check-circle\"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style=\"text-align: center;\"><small >Este mensaje desaparecerá en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n<buscar-insumos *ngIf=\"mostrarModalInsumos\" (onCerrar)=\"mostrarModalInsumos = false\" (onEnviar)=\"agregarItem($event)\" [listaAgregados]=\"listaClaveAgregadas\" [conPrecios]=\"true\"></buscar-insumos>"

/***/ }),

/***/ "../../../../../src/app/farmacia/pedidos/formulario/formulario.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_of__ = __webpack_require__("../../../../rxjs/add/observable/of.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_observable_throw__ = __webpack_require__("../../../../rxjs/add/observable/throw.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_observable_throw___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_rxjs_add_observable_throw__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_debounceTime__ = __webpack_require__("../../../../rxjs/add/operator/debounceTime.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_debounceTime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_debounceTime__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_distinctUntilChanged__ = __webpack_require__("../../../../rxjs/add/operator/distinctUntilChanged.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_distinctUntilChanged___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_distinctUntilChanged__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_map__ = __webpack_require__("../../../../rxjs/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_map__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_switchMap__ = __webpack_require__("../../../../rxjs/add/operator/switchMap.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_switchMap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_switchMap__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_rxjs_add_operator_catch__ = __webpack_require__("../../../../rxjs/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_rxjs_add_operator_catch___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_rxjs_add_operator_catch__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_file_saver__ = __webpack_require__("../../../../file-saver/FileSaver.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_file_saver___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_12_file_saver__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__environments_environment__ = __webpack_require__("../../../../../src/environments/environment.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__mensaje__ = __webpack_require__("../../../../../src/app/mensaje.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__catalogos_almacenes_almacenes_service__ = __webpack_require__("../../../../../src/app/catalogos/almacenes/almacenes.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__pedidos_service__ = __webpack_require__("../../../../../src/app/farmacia/pedidos/pedidos.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__pedido__ = __webpack_require__("../../../../../src/app/farmacia/pedidos/pedido.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormularioComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


















var FormularioComponent = (function () {
    // # FIN SECCION
    function FormularioComponent(title, location, router, route, _ngZone, pedidosService, almacenesService, fb) {
        this.title = title;
        this.location = location;
        this.router = router;
        this.route = route;
        this._ngZone = _ngZone;
        this.pedidosService = pedidosService;
        this.almacenesService = almacenesService;
        this.fb = fb;
        this.cargando = false;
        this.guardando = false;
        this.cargandoAlmacenes = false;
        this.cargandoInsumos = false;
        this.cargandoPresupuestos = false;
        // # SECCION: Esta sección es para mostrar mensajes
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */]();
        this.mensajeAdvertencia = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */]();
        // # FIN SECCION  
        this.meses = { 0: 'Sin seleccionar', 1: 'Enero', 2: 'Febrero', 3: 'Marzo', 4: 'Abril', 5: 'Mayo', 6: 'Junio', 7: 'Julio', 8: 'Agosto', 9: 'Septiembre', 10: 'Octubre', 11: 'Noviembre', 12: 'Diciembre' };
        //Harima: para ver si el formulaior es para crear o para editar
        this.formularioTitulo = 'Nuevo';
        this.esEditar = false;
        // # SECCION: Modal Insumos
        this.mostrarModalInsumos = false;
        //Harima: Lista de claves agregadas al pedido, para checar duplicidad
        this.listaClaveAgregadas = [];
        this.presupuesto = { causes_disponible: 0, no_causes_disponible: 0, material_curacion_disponible: 0 };
        this.mes = 0;
        this.subrogados = {};
        this.es_almacen_subrogado = false;
        this.fechasValidas = [];
        this.proveedor = {};
        this.cargandoPdf = false;
    }
    FormularioComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.title.setTitle('Formulario pedido');
        // Inicializamos el objeto para los reportes con web Webworkers
        this.pdfworker = new Worker("web-workers/farmacia/pedidos/imprimir.js");
        // Este es un hack para poder usar variables del componente dentro de una funcion del worker
        var self = this;
        var $ngZone = this._ngZone;
        //Harima: Cargar el presupuesto del mes actual
        //this.cargarPresupuesto();
        this.pdfworker.onmessage = function (evt) {
            // Esto es un hack porque estamos fuera de contexto dentro del worker
            // Y se usa esto para actualizar alginas variables
            $ngZone.run(function () {
                self.cargandoPdf = false;
            });
            __WEBPACK_IMPORTED_MODULE_12_file_saver__["saveAs"](self.base64ToBlob(evt.data.base64, 'application/pdf'), evt.data.fileName);
            //open( 'data:application/pdf;base64,' + evt.data.base64 ); // Popup PDF
        };
        this.pdfworker.onerror = function (e) {
            $ngZone.run(function () {
                self.cargandoPdf = false;
            });
            console.log(e);
        };
        // Harima: Inicializamos el pedido
        this.pedido = new __WEBPACK_IMPORTED_MODULE_17__pedido__["a" /* Pedido */](true);
        //Harima:calcular fechas validas
        var now = new Date();
        var dia = now.getDate();
        var mes = now.getMonth() + 1;
        if (dia < 20) {
            //Mes actual y siguiente, se agrega mes actual
            var day_1 = ("0" + dia).slice(-2);
            var month_1 = ("0" + mes).slice(-2);
            this.fechasValidas.push({ fecha: now.getFullYear() + "-" + (month_1) + "-" + (day_1), descripcion: this.meses[mes] + " " + now.getFullYear() }); //fecha actual
        }
        //Mes siguiente
        var day = '01';
        var month = ("0" + (mes + 1)).slice(-2);
        var anio = now.getFullYear();
        if (mes + 1 == 13) {
            var month_2 = '01';
            var anio_1 = now.getFullYear() + 1;
            mes = 0;
        }
        this.fechasValidas.push({ fecha: anio + "-" + (month) + "-" + (day), descripcion: this.meses[mes + 1] + " " + now.getFullYear() }); //fecha actual
        this.route.params.subscribe(function (params) {
            //this.id = params['id']; // Se puede agregar un simbolo + antes de la variable params para volverlo number
            if (params['id']) {
                _this.cargando = true;
                _this.pedido.id = params['id'];
                //cargar datos del pedido
                _this.esEditar = true;
                _this.formularioTitulo = 'Editar';
                _this.title.setTitle('Editar pedido');
                _this.pedidosService.ver(params['id']).subscribe(function (pedido) {
                    //this.datosCargados = true;
                    _this.pedido.datos.patchValue(pedido);
                    _this.pedido.status = pedido.status;
                    _this.proveedor = pedido.proveedor;
                    var fecha = pedido.fecha.split('-');
                    var mes = parseInt(fecha[1]);
                    _this.cargarPresupuesto(mes);
                    _this.cambioAlmacen();
                    for (var i in pedido.insumos) {
                        var dato = pedido.insumos[i];
                        //console.log(dato);
                        var insumo = dato.insumos_con_descripcion;
                        insumo.cantidad = +dato.cantidad_solicitada;
                        insumo.monto = +dato.monto_solicitado;
                        insumo.precio = +dato.precio_unitario;
                        insumo.tipo_insumo_id = dato.tipo_insumo_id;
                        _this.pedido.lista.push(insumo);
                        _this.listaClaveAgregadas.push(insumo.clave);
                    }
                    _this.pedido.indexar();
                    _this.pedido.listar(1);
                    _this.cargando = false;
                }, function (error) {
                    _this.cargando = false;
                    _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */](true);
                    _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */](true);
                    _this.mensajeError.mostrar;
                    try {
                        var e = error.json();
                        if (error.status == 401) {
                            _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                        }
                    }
                    catch (e) {
                        if (error.status == 500) {
                            _this.mensajeError.texto = "500 (Error interno del servidor)";
                        }
                        else {
                            _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                        }
                    }
                });
            }
            else {
                _this.title.setTitle('Nuevo pedido');
                _this.cargarPresupuesto();
            }
            //Harima:cargamos catalogos
            _this.cargarAlmacenes();
            //this.cargarDatos();
        });
        //this.pedidos[0].nombre = "General";
        //this.pedidos[0].observaciones = null;
    };
    FormularioComponent.prototype.obtenerDireccion = function () {
        //if(this.pedidos[this.pedidoActivo].status == 'AB'){
        if (this.pedido.status == 'BR') {
            return '/almacen/pedidos/borradores';
        }
        else {
            return '/almacen/pedidos/todos';
        }
    };
    FormularioComponent.prototype.toggleModalInsumos = function () {
        //console.log(this.mostrarModalInsumos)
        this.mostrarModalInsumos = !this.mostrarModalInsumos;
        //console.log(this.mostrarModalInsumos)
    };
    // # SECCION Funciones globales
    FormularioComponent.prototype.agregarItem = function (item) {
        if (item === void 0) { item = {}; }
        var auxPaginasTotales = this.pedido.paginacion.totalPaginas;
        item.monto = item.cantidad * item.precio;
        this.pedido.lista.push(item);
        this.pedido.indexar();
        if (this.pedido.paginacion.lista.length == this.pedido.paginacion.resultadosPorPagina
            && this.pedido.paginacion.paginaActual == auxPaginasTotales
            && !this.pedido.filtro.activo) {
            this.pedido.listar(this.pedido.paginacion.paginaActual + 1);
        }
        else {
            this.pedido.listar(this.pedido.paginacion.paginaActual);
        }
    };
    FormularioComponent.prototype.modificarItem = function (item) {
        if (item === void 0) { item = {}; }
        item.monto = item.cantidad * item.precio;
        this.pedido.actualizarTotales();
    };
    FormularioComponent.prototype.buscar = function (e, input, inputAnterior, parametros) {
        var term = input.value;
        // Quitamos la busqueda
        if (e.keyCode == 27) {
            e.preventDefault();
            e.stopPropagation();
            input.value = "";
            inputAnterior.value = "";
            this.pedido.filtro.activo = false;
            this.pedido.filtro.lista = [];
            return;
        }
        //Verificamos que la busqueda no sea la misma que la anterior para no filtrar en vano
        if (inputAnterior.value == term) {
            return;
        }
        e.preventDefault();
        e.stopPropagation();
        inputAnterior.value = term;
        if (term != "") {
            this.pedido.filtro.activo = true;
        }
        else {
            this.pedido.filtro.activo = false;
            this.pedido.filtro.lista = [];
            return;
        }
        var arregloResultados = [];
        var _loop_1 = function (i) {
            var termino = parametros[i].input.value;
            if (termino == "") {
                return "continue";
            }
            var listaFiltrada = this_1.pedido.lista.filter(function (item) {
                var cadena = "";
                var campos = parametros[i].campos;
                for (var l in campos) {
                    try {
                        // Esto es por si escribieron algo como "objeto.propiedad" en lugar de: "propiedad"
                        var prop = campos[l].split(".");
                        if (prop.length > 1) {
                            cadena += " " + item[prop[0]][prop[1]].toLowerCase();
                        }
                        else {
                            cadena += " " + item[campos[l]].toLowerCase();
                        }
                    }
                    catch (e) { }
                }
                return cadena.includes(termino.toLowerCase());
            });
            arregloResultados.push(listaFiltrada);
        };
        var this_1 = this;
        for (var i in parametros) {
            _loop_1(i);
        }
        if (arregloResultados.length > 1) {
            // Ordenamos Ascendente
            arregloResultados = arregloResultados.sort(function (a, b) { return a.length - b.length; });
            var filtro = arregloResultados[0];
            var match = [];
            for (var k = 1; k < arregloResultados.length; k++) {
                for (var i in arregloResultados[k]) {
                    for (var j in filtro) {
                        if (arregloResultados[k][i] === filtro[j]) {
                            match.push(filtro[j]);
                        }
                    }
                }
                ;
            }
            this.pedido.filtro.lista = match;
        }
        else {
            this.pedido.filtro.lista = arregloResultados[0];
        }
        this.pedido.filtro.indexar(false);
        this.pedido.filtro.paginacion.paginaActual = 1;
        this.pedido.filtro.listar(1);
    };
    //Harima: necesitamos eliminar también de la lista de claves agregadas
    FormularioComponent.prototype.eliminarInsumo = function (item, index, filtro) {
        if (filtro === void 0) { filtro = false; }
        //Harima: eliminar el elemento en la lista de claves agregadas, para poder agregarla de nuevo si se desea
        var i = this.listaClaveAgregadas.indexOf(item.clave);
        this.listaClaveAgregadas.splice(i, 1);
        //Harima: si no es el filtro(busqueda), borrar de la lista principal de insumos
        if (!filtro) {
            //this.pedidos[this.pedidoActivo].eliminarItem(item,index);
            this.pedido.eliminarItem(item, index);
        }
        else {
            //this.pedidos[this.pedidoActivo].filtro.eliminarItem(item,index);
            this.pedido.filtro.eliminarItem(item, index);
        }
    };
    FormularioComponent.prototype.mostrarFichaInformativa = function (e, clave) {
        e.preventDefault();
        e.stopPropagation();
        // Mostrar el componente de Ficha Informativa
        // Falta hacerlo sumamiiiii :)
        alert(clave);
        //console.log(clave);
    };
    FormularioComponent.prototype.finalizar = function () {
        if (confirm('Atención el pedido ya no podra editarse, Esta seguro de concluir el pedido?')) {
            this.guardar(true);
        }
    };
    FormularioComponent.prototype.guardar = function (finalizar) {
        var _this = this;
        if (finalizar === void 0) { finalizar = false; }
        this.guardando = true;
        var guardar_pedido;
        /*var guardar_pedidos = [];
        for(var i in this.pedidos){
          guardar_pedidos.push(this.pedidos[i].obtenerDatosGuardar());
        }*/
        if (this.pedido.datos.invalid) {
            this.pedido.datos.get('almacen_solicitante').markAsTouched();
            this.pedido.datos.get('descripcion').markAsTouched();
            this.pedido.datos.get('fecha').markAsTouched();
            this.guardando = false;
            return false;
        }
        guardar_pedido = this.pedido.obtenerDatosGuardar();
        if (finalizar) {
            guardar_pedido.datos.status = 'CONCLUIR';
            if ((this.presupuesto.causes_disponible - +this.pedido.totalMontoCauses.toFixed(2)) < 0 || (this.presupuesto.no_causes_disponible - +this.pedido.totalMontoNoCauses.toFixed(2)) < 0 || (this.presupuesto.material_curacion_disponible - +this.pedido.totalMontoMaterialCuracion.toFixed(2)) < 0) {
                this.guardando = false;
                this.mensajeError = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */](true);
                this.mensajeError.texto = 'Presupuesto insuficiente';
                this.mensajeError.mostrar = true;
                return false;
            }
            /*for(var i in guardar_pedidos){
              guardar_pedidos[i].datos.status = 'ES';
            }*/
        }
        else {
            guardar_pedido.datos.status = 'BR';
        }
        if (this.esEditar) {
            //this.pedidosService.editar(this.pedidos[0].id,guardar_pedidos).subscribe(
            this.pedidosService.editar(this.pedido.id, guardar_pedido).subscribe(function (pedido) {
                _this.guardando = false;
                //console.log('Pedido editado');
                if (pedido.status != 'BR') {
                    _this.router.navigate(['/almacen/pedidos/ver/' + pedido.id]);
                }
                //hacer cosas para dejar editar
            }, function (error) {
                _this.guardando = false;
                //console.log(error);
                _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */](true);
                _this.mensajeError.texto = 'No especificado';
                _this.mensajeError.mostrar = true;
                console.log(_this.pedido);
                if (_this.pedido.status == 'CONCLUIR') {
                    _this.pedido.status = 'BR';
                }
                try {
                    var e = error.json();
                    console.log(e);
                    if (error.status == 401) {
                        _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                    }
                    // Problema de validación
                    if (error.status == 409) {
                        _this.mensajeError.texto = "Por favor verfique los campos marcados en rojo.";
                        /*for (var input in e.error){
                          // Iteramos todos los errores
                          for (var i in e.error[input]){
          
                            if(input == 'id' && e.error[input][i] == 'unique'){
                              this.usuarioRepetido = true;
                            }
                            if(input == 'id' && e.error[input][i] == 'email'){
                              this.usuarioInvalido = true;
                            }
                          }
                        }*/
                    }
                    if (error.status == 500) {
                        if (e.error) {
                            _this.mensajeError.texto = e.error;
                            _this.mensajeError.cuentaAtras = 1000;
                        }
                    }
                }
                catch (e) {
                    if (error.status == 500) {
                        _this.mensajeError.texto = "500 (Error interno del servidor)";
                    }
                    else {
                        console.log(e);
                        _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                    }
                }
            });
        }
        else {
            this.pedidosService.crear(guardar_pedido).subscribe(function (pedido) {
                _this.guardando = false;
                //console.log('Pedido creado');
                //console.log(pedido);
                _this.router.navigate(['/almacen/pedidos/editar/' + pedido.id]);
                //hacer cosas para dejar editar
            }, function (error) {
                _this.guardando = false;
                console.log(error);
                _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */](true);
                _this.mensajeError.texto = 'No especificado';
                _this.mensajeError.mostrar = true;
                try {
                    var e = error.json();
                    if (error.status == 401) {
                        _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                    }
                    // Problema de validación
                    if (error.status == 409) {
                        _this.mensajeError.texto = "Por favor verfique los campos marcados en rojo.";
                        /*for (var input in e.error){
                          // Iteramos todos los errores
                          for (var i in e.error[input]){
        
                            if(input == 'id' && e.error[input][i] == 'unique'){
                              this.usuarioRepetido = true;
                            }
                            if(input == 'id' && e.error[input][i] == 'email'){
                              this.usuarioInvalido = true;
                            }
                          }
                        }*/
                    }
                    if (error.status == 500) {
                        if (e.error) {
                            _this.mensajeError.texto = e.error;
                            _this.mensajeError.cuentaAtras = 1000;
                        }
                    }
                }
                catch (e) {
                    if (error.status == 500) {
                        _this.mensajeError.texto = "500 (Error interno del servidor)";
                    }
                    else {
                        console.log(e);
                        _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                    }
                }
            });
        }
    };
    FormularioComponent.prototype.cambioAlmacen = function () {
        var almacen_seleccionado = this.pedido.datos.get('almacen_solicitante').value;
        if (this.subrogados[almacen_seleccionado]) {
            this.es_almacen_subrogado = true;
        }
        else {
            this.es_almacen_subrogado = false;
        }
        this.cargarPresupuesto(this.mes);
    };
    FormularioComponent.prototype.cargarAlmacenes = function () {
        var _this = this;
        this.cargandoAlmacenes = true;
        this.almacenesService.catalogo().subscribe(function (almacenes) {
            _this.cargandoAlmacenes = false;
            _this.almacenes = almacenes;
            for (var i in almacenes) {
                if (almacenes[i].subrogado == 1 && almacenes[i].tipo_almacen == 'FARSBR') {
                    _this.subrogados[almacenes[i].id] = true;
                }
            }
            //Harima:Si no es editar, inicializamos el formulario
            if (!_this.esEditar) {
                var datos_iniciales = {};
                //datos_iniciales.fecha = this.fechasValidas[0].fecha;
                //let datos_usuario = JSON.parse(localStorage.getItem('usuario'));
                //datos_iniciales.almacen_solicitante = datos_usuario.almacen_activo.id;
                /*if(almacenes.length == 1){
                  datos_iniciales.almacen_solicitante = almacenes[0].id;
                  //this.pedido.datos.setValue({almacen_proveedor:almacenes[0].id,descripcion:'',observaciones:''});
                }*/
                _this.pedido.inicializarDatos(datos_iniciales);
            }
            console.log("Almacenes cargados.");
            if (_this.almacenes.length == 0) {
                _this.mensajeAdvertencia = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */](true);
                _this.mensajeAdvertencia.texto = "No hay almacenes registrados en el sistema, p\u00F3ngase en contacto con un administrador.";
                _this.mensajeAdvertencia.mostrar = true;
            }
        }, function (error) {
            _this.cargandoAlmacenes = false;
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError.texto = "No especificado.";
            _this.mensajeError.mostrar = true;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para ver los almacenes.";
                }
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor). No se pudieron cargar los almacenes";
                }
            }
            catch (e) {
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor). No se pudieron cargar los almacenes";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.  No se pudieron cargar los almacenes";
                }
            }
        });
    };
    FormularioComponent.prototype.recargarPresupuesto = function (fecha) {
        var fecha_valida = fecha.split('-');
        if (fecha_valida.length == 3) {
            var mes = fecha_valida[1];
            if (mes.length == 2) {
                mes = parseInt(mes);
                if (mes != this.mes && (mes > 0 && mes < 13)) {
                    this.cargarPresupuesto(mes);
                }
            }
        }
    };
    FormularioComponent.prototype.cargarPresupuesto = function (mes) {
        var _this = this;
        if (mes === void 0) { mes = 0; }
        if (mes == 0) {
            var now = new Date();
            mes = (now.getMonth() + 1);
        }
        this.mes = mes;
        var almacen_seleccionado = this.pedido.datos.get('almacen_solicitante').value;
        if (almacen_seleccionado) {
            this.cargandoPresupuestos = true;
            this.pedidosService.presupuesto(mes, almacen_seleccionado).subscribe(function (response) {
                _this.cargando = false;
                if (response.data) {
                    _this.presupuesto = response.data;
                }
                else {
                    _this.presupuesto.causes_disponible = 0;
                    _this.presupuesto.no_causes_disponible = 0;
                    _this.presupuesto.material_curacion_disponible = 0;
                }
                _this.cargandoPresupuestos = false;
            }, function (error) {
                _this.cargando = false;
                _this.cargandoPresupuestos = false;
                console.log(error);
            });
        }
    };
    // # SECCION: Eventos del teclado
    FormularioComponent.prototype.keyboardInput = function (e) {
        if (e.keyCode == 32 && e.ctrlKey) {
            event.preventDefault();
            event.stopPropagation();
            this.mostrarModalInsumos = true;
        }
        // Cambiar página hacia adelante ctrl + shift + ->
        if (e.keyCode == 39 && ((e.ctrlKey && e.shiftKey) || e.ctrlKey)) {
            event.preventDefault();
            event.stopPropagation();
            if (!this.pedido.filtro.activo) {
                this.pedido.paginaSiguiente();
            }
            else {
                this.pedido.filtro.paginaSiguiente();
            }
        }
        // Cambiar página hacia adelante ctrl + shift + <-
        if (e.keyCode == 37 && ((e.ctrlKey && e.shiftKey) || e.ctrlKey)) {
            event.preventDefault();
            event.stopPropagation();
            if (!this.pedido.filtro.activo) {
                this.pedido.paginaAnterior();
            }
            else {
                this.pedido.filtro.paginaAnterior();
            }
        }
    };
    // # SECCION - Webworkers
    FormularioComponent.prototype.imprimirExcel = function () {
        var query = "token=" + localStorage.getItem('token');
        window.open(__WEBPACK_IMPORTED_MODULE_13__environments_environment__["a" /* environment */].API_URL + "/generar-excel-pedido/" + this.pedido.id + "?" + query);
        //window.open(environment.API_URL+"/generar-excel-pedido/"+this.pedido.id, "_blank");
    };
    FormularioComponent.prototype.imprimir = function () {
        try {
            console.log(this.pedido);
            this.cargandoPdf = true;
            var pedidos_imprimir = {
                datos: { almacen: 'solicitar', solicitante: 'unidad', observaciones: 'texto' },
                lista: this.pedido.lista
            };
            this.pdfworker.postMessage(JSON.stringify(pedidos_imprimir));
        }
        catch (e) {
            this.cargandoPdf = false;
            console.log(e);
        }
    };
    FormularioComponent.prototype.base64ToBlob = function (base64, type) {
        var bytes = atob(base64), len = bytes.length;
        var buffer = new ArrayBuffer(len), view = new Uint8Array(buffer);
        for (var i = 0; i < len; i++)
            view[i] = bytes.charCodeAt(i) & 0xff;
        return new Blob([buffer], { type: type });
    };
    return FormularioComponent;
}());
FormularioComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-formulario',
        template: __webpack_require__("../../../../../src/app/farmacia/pedidos/formulario/formulario.component.html"),
        styles: [__webpack_require__("../../../../../src/app/farmacia/pedidos/formulario/formulario.component.css")],
        host: { '(window:keydown)': 'keyboardInput($event)' }
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_3__angular_router__["a" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__angular_router__["a" /* Router */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_3__angular_router__["c" /* ActivatedRoute */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__angular_router__["c" /* ActivatedRoute */]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"]) === "function" && _e || Object, typeof (_f = typeof __WEBPACK_IMPORTED_MODULE_16__pedidos_service__["a" /* PedidosService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_16__pedidos_service__["a" /* PedidosService */]) === "function" && _f || Object, typeof (_g = typeof __WEBPACK_IMPORTED_MODULE_15__catalogos_almacenes_almacenes_service__["a" /* AlmacenesService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_15__catalogos_almacenes_almacenes_service__["a" /* AlmacenesService */]) === "function" && _g || Object, typeof (_h = typeof __WEBPACK_IMPORTED_MODULE_4__angular_forms__["FormBuilder"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__angular_forms__["FormBuilder"]) === "function" && _h || Object])
], FormularioComponent);

var _a, _b, _c, _d, _e, _f, _g, _h;
//# sourceMappingURL=C:/wamp/www/x3-C/src/formulario.component.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/pedidos/lista/lista.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".estatus-rojo{\r\n    color:red;\r\n}\r\n.estatus-amarillo{\r\n    color:orange;\r\n}", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/farmacia/pedidos/lista/lista.component.html":
/***/ (function(module, exports) {

module.exports = "<menu-farmacia [modulo]=\"'Pedidos'\" [icono]=\"'assets/icono-pedidos.svg'\" [url]=\"'/almacen/pedidos'\"></menu-farmacia>\r\n\r\n<div style=\"height:50px;\"></div>\r\n<div class=\"contenedor columns \" style=\"height:100%; \">\r\n    <div class=\"column is-one-quarter is-hidden-mobile\">\r\n      <menu-lateral></menu-lateral>\r\n    </div>\r\n    <div class=\"column\" style=\"padding:2em;\">\r\n        <div style=\"background: #FFF; border-radius: 1em; overflow: hidden;\">\r\n            <table class=\"table\" style=\"margin-bottom:0px;background-color:whitesmoke;\">\r\n                <tbody>\r\n                    <tr>\r\n                        <th>Presupuesto Anual Causes:</th>\r\n                        <th>\r\n                            <div class=\"columns\">\r\n                                <div class=\"column\">\r\n                                    <span class=\"tag is-primary\">Autorizado: $ {{ presupuesto.causes_modificado | number:'1.2-2' }}</span>\r\n                                </div>\r\n                                <div class=\"column\">\r\n                                    <span class=\"tag is-warning\">Comprometido: $ {{ presupuesto.causes_comprometido | number:'1.2-2' }}</span>\r\n                                </div>\r\n                                <div class=\"column\">\r\n                                    <span class=\"tag is-danger\">Devengado: $ {{ presupuesto.causes_devengado | number:'1.2-2' }}</span>\r\n                                </div>\r\n                                <div class=\"column\">\r\n                                    <span class=\"tag is-success\">Disponible: $ {{ presupuesto.causes_disponible | number:'1.2-2' }}</span>\r\n                                </div>\r\n                            </div>\r\n                        </th>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>Presupuesto Anual No Causes:</th>\r\n                        <th>\r\n                            <div class=\"columns\">\r\n                                <div class=\"column\">\r\n                                    <span class=\"tag is-primary\">Autorizado: $ {{ presupuesto.no_causes_modificado | number:'1.2-2' }}</span>\r\n                                </div>\r\n                                <div class=\"column\">\r\n                                    <span class=\"tag is-warning\">Comprometido: $ {{ presupuesto.no_causes_comprometido | number:'1.2-2' }}</span>\r\n                                </div>\r\n                                <div class=\"column\">\r\n                                    <span class=\"tag is-danger\">Devengado: $ {{ presupuesto.no_causes_devengado | number:'1.2-2' }}</span>\r\n                                </div>\r\n                                <div class=\"column\">\r\n                                    <span class=\"tag is-success\">Disponible: $ {{ presupuesto.no_causes_disponible | number:'1.2-2' }}</span>\r\n                                </div>\r\n                            </div>\r\n                        </th>\r\n                    </tr>\r\n                    <tr>\r\n                        <th>Presupuesto Anual Material de Curación:</th>\r\n                        <th>\r\n                            <div class=\"columns\">\r\n                                <div class=\"column\">\r\n                                    <span class=\"tag is-primary\">Autorizado: $ {{ presupuesto.material_curacion_modificado | number:'1.2-2' }}</span>\r\n                                </div>\r\n                                <div class=\"column\">\r\n                                    <span class=\"tag is-warning\">Comprometido: $ {{ presupuesto.material_curacion_comprometido | number:'1.2-2' }}</span>\r\n                                </div>\r\n                                <div class=\"column\">\r\n                                    <span class=\"tag is-danger\">Devengado: $ {{ presupuesto.material_curacion_devengado | number:'1.2-2' }}</span>\r\n                                </div>\r\n                                <div class=\"column\">\r\n                                    <span class=\"tag is-success\">Disponible: $ {{ presupuesto.material_curacion_disponible | number:'1.2-2' }}</span>\r\n                                </div>\r\n                            </div>\r\n                        </th>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n\r\n            <section class=\"hero\" [ngClass] = \" {'is-dark': busquedaActivada, 'is-primary': !busquedaActivada } \" >\r\n                \r\n                <div class=\"hero-body\" style=\"position:relative;\">\r\n                    <a class=\"button  is-dark\" *ngIf=\"busquedaActivada\" style=\"position:absolute; top:1em; right:1em;\" (click)=\"busquedaActivada=false;searchBox.value='';resultadosBusqueda=[]\"><span class=\"icon \"><i class=\"fa fa-close\"></i></span></a>\r\n                    <a class=\"button  is-dark\" *ngIf=\"busquedaActivada\" style=\"position:absolute; top:1em; right:3.5em;\" (click)=\"listarBusqueda(searchBox.value,1)\"><span class=\"icon \"><i class=\"fa fa-refresh\"></i></span></a>\r\n                    <a class=\"button  is-primary\" *ngIf=\"!busquedaActivada\" style=\"position:absolute; top:1em; right:1em;\" (click)=\"listar(1)\"><span class=\"icon \"><i class=\"fa fa-refresh\"></i></span></a>\r\n                    <div class=\"container is-fluid\">\r\n                        \r\n                        <h1 class=\"title\" *ngIf=\"!busquedaActivada\">\r\n                            <span class=\"icon is-medium\"><i class=\"fa {{ icono }}\"></i></span> {{ titulo }}\r\n                        </h1>\r\n                        <h1 class=\"title\" *ngIf=\"busquedaActivada\">\r\n                            <span class=\"icon is-medium\"><i class=\"fa fa-search\"></i></span> Búsqueda \r\n                        </h1>\r\n                        <div class=\"control is-grouped\">\r\n                            <p class=\"control is-expanded\">\r\n                                <input class=\"input is-medium\" type=\"text\" placeholder=\"Buscar\" #searchBox id=\"search-box\" (keyup)=\"buscar(searchBox.value)\">\r\n                            </p>\r\n                            <!--p class=\"control\">\r\n                                <a class=\"button is-medium is-primary is-inverted \" routerLink=\"/almacen/pedidos/nuevo\">\r\n                                <span class=\"icon\"><i class=\"fa fa-plus\"></i></span><span>Nuevo</span>\r\n                                </a>\r\n                            </p-->\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class=\"is-fullwidth has-text-centered\" *ngIf=\"cargando\">\r\n                <br>\r\n                <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n\r\n            <table class=\"table\" *ngIf=\"!cargando\">\r\n                <thead>\r\n                    <tr>\r\n                        <th><abbr title=\"Folio del pedido\">Folio</abbr></th>\r\n                        <th>Nombre del Pedido</th>\r\n                        <th>Fecha <span *ngIf=\"status == 'PS'\">(expiración)</span></th>\r\n                        <th>Claves</th>\r\n                        <th>Cantidad</th>\r\n                        <th>Monto</th>\r\n                        <th style=\"text-align:center;\" width=\"1\">Opciones</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody  *ngIf=\"!busquedaActivada\">\r\n                    <tr *ngFor=\"let item of pedidos; let i=index\">\r\n                        <th style=\"vertical-align: middle;\"><a routerLink=\"{{obtenerDireccion(item.id,item.status)}}\">\r\n                            <span class=\"icon\"><i class=\"fa fa-{{(item.tipo_pedido_id=='PA')?'hospital-o':'building'}}\"></i></span>\r\n                            {{ item.folio?item.folio:'S/F' }}</a>\r\n                        </th>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"{{obtenerDireccion(item.id,item.status)}}\">{{ item.descripcion }}</a></td>\r\n                        <td style=\"vertical-align: middle;\"><a [ngClass]=\"{'estatus-rojo':(item.status == 'PS' && item.expira_en_dias <= 0),'estatus-amarillo':(item.status == 'PS' && (item.expira_en_dias > 0 && item.expira_en_dias <= 5))}\" routerLink=\"{{obtenerDireccion(item.id,item.status)}}\">{{ item.fecha | date:'y-MM-dd' }} <span *ngIf=\"item.status == 'PS'\">({{item.expira_en_dias?item.expira_en_dias:'hoy'}})</span></a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"{{obtenerDireccion(item.id,item.status)}}\"> \r\n                            {{ (item.total_claves_recibidas || 0) | number }} / {{ item.total_claves_solicitadas | number }} [{{(item.total_claves_recibidas/item.total_claves_solicitadas)*100 | number:'1.0-2'}}%]\r\n                        </a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"{{obtenerDireccion(item.id,item.status)}}\"> \r\n                            {{ (item.total_cantidad_recibida || 0) | number }} / {{ item.total_cantidad_solicitada | number }} [{{(item.total_cantidad_recibida/item.total_cantidad_solicitada)*100 | number:'1.0-2'}}%]\r\n                        </a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"{{obtenerDireccion(item.id,item.status)}}\">\r\n                            $ {{ (item.total_monto_recibido || 0) | number:'1.2-2' }} / $ {{ item.total_monto_solicitado | number:'1.2-2' }} [{{(item.total_monto_recibido/item.total_monto_solicitado)*100 | number:'1.0-2'}}%]\r\n                        </a></td>\r\n                        <td style=\"vertical-align: middle;\" class=\"has-text-centered\">\r\n                            <span class=\"icon \" *ngIf=\"item.cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span>\r\n                            <a *ngIf=\"!item.cargando && item.status == 'BR'\" class=\"is-danger\" (click)=\"eliminar(item, i)\"><span class=\"icon\"><i class=\"fa fa-trash-o\"></i></span></a>\r\n                            <a *ngIf=\"!item.cargando && item.status == 'PS' && item.expira_en_dias >= 0\" routerLink=\"/almacen/pedidos/recepcion/{{item.id}}\" title=\"Recibir pedido\"><span class=\"icon\"><i class=\"fa fa-truck\"></i></span></a>\r\n                            <span *ngIf=\"!item.cargando && item.status == 'PS' && item.expira_en_dias < 0\" class=\"tag is-danger\" title=\"Expirado\"><span class=\"icon\"><i class=\"fa fa-exclamation\"></i></span></span>\r\n                            <span *ngIf=\"!item.cargando && item.status == 'FI'\" class=\"is-success\" title=\"Finalizado\"><span class=\"icon\"><i class=\"fa fa-check-circle\"></i></span></span>\r\n                        </td>\r\n                    </tr>\r\n                    <tr *ngIf=\"pedidos.length == 0\">\r\n                        <td colspan=\"5\" style=\"vertical-align: middle; color:#888;\">Esta lista está vacía.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n                <tbody *ngIf=\"busquedaActivada\">\r\n                    <tr *ngFor=\"let item of resultadosBusqueda; let i=index\">\r\n                        <th style=\"vertical-align: middle;\"><a routerLink=\"{{obtenerDireccion(item.id,item.status)}}\">{{ item.id }}</a></th>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"{{obtenerDireccion(item.id,item.status)}}\">{{ item.descripcion }}</a></td>\r\n                        <td style=\"vertical-align: middle;\"><a [ngClass]=\"{'estatus-rojo':(item.status == 'PS' && item.expira_en_dias <= 0),'estatus-amarillo':(item.status == 'PS' && (item.expira_en_dias > 0 && item.expira_en_dias <= 5))}\" routerLink=\"{{obtenerDireccion(item.id,item.status)}}\">{{ item.created_at | date:'y-MM-dd' }} <span *ngIf=\"item.status == 'PS'\">({{item.expira_en_dias}})</span></a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"{{obtenerDireccion(item.id,item.status)}}\"> \r\n                            {{ (item.total_claves_recibidas || 0) | number }} / {{ item.total_claves_solicitadas | number }} [{{(item.total_claves_recibidas/item.total_claves_solicitadas)*100 | number:'1.0-2'}}%]\r\n                        </a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"{{obtenerDireccion(item.id,item.status)}}\"> \r\n                            {{ (item.total_cantidad_recibida || 0) | number }} / {{ item.total_cantidad_solicitada | number }} [{{(item.total_cantidad_recibida/item.total_cantidad_solicitada)*100 | number:'1.0-2'}}%]\r\n                        </a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"{{obtenerDireccion(item.id,item.status)}}\">\r\n                            $ {{ (item.total_monto_recibido || 0) | number:'1.2-2' }} / $ {{ item.total_monto_solicitado | number:'1.2-2' }} [{{(item.total_monto_recibido/item.total_monto_solicitado)*100 | number:'1.0-2'}}%]\r\n                        </a></td>\r\n                        <td style=\"vertical-align: middle;\" class=\"has-text-centered\">\r\n                            <span class=\"icon \" *ngIf=\"item.cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span>\r\n                            <a *ngIf=\"!item.cargando && item.status == 'BR'\" class=\"is-danger\" (click)=\"eliminar(item, i)\"><span class=\"icon\"><i class=\"fa fa-trash-o\"></i></span></a>\r\n                            <a *ngIf=\"!item.cargando && item.status == 'PS'\" routerLink=\"/almacen/pedidos/recepcion/{{item.id}}\" title=\"Recibir pedido\"><span class=\"icon\"><i class=\"fa fa-truck\"></i></span></a>\r\n                        </td>\r\n                    </tr>\r\n\r\n                    <tr *ngIf=\"resultadosBusqueda.length == 0 && busquedaActivada\">\r\n                        <td colspan=\"5\" style=\"vertical-align: middle; color:#888;\">No se encontraron resultados.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <!-- Paginación para la lista  -->\r\n            <paginacion \r\n                [total]=\"total\" \r\n                [paginasTotales]=\"paginasTotales\" \r\n                [resultadosPorPagina]=\"resultadosPorPagina\" \r\n                [paginaActual]=\"paginaActual\" \r\n                [indicePaginas]=\"indicePaginas\"\r\n                (onSiguiente)=\"paginaSiguiente()\" \r\n                (onAnterior)=\"paginaAnterior()\" \r\n                (onListar)=\"listar($event)\" \r\n                *ngIf=\"total>0 && total > resultadosPorPagina && !busquedaActivada\"></paginacion>\r\n            <!-- Paginación para la búsqueda  -->\r\n            <paginacion \r\n                [total]=\"totalBusqueda\" \r\n                [paginasTotales]=\"paginasTotalesBusqueda\" \r\n                [resultadosPorPagina]=\"resultadosPorPaginaBusqueda\" \r\n                [paginaActual]=\"paginaActualBusqueda\" \r\n                [indicePaginas]=\"indicePaginasBusqueda\"\r\n                (onSiguiente)=\"paginaSiguienteBusqueda(searchBox.value)\" \r\n                (onAnterior)=\"paginaAnteriorBusqueda(searchBox.value)\" \r\n                (onListar)=\"listarBusqueda(searchBox.value,$event)\" \r\n                *ngIf=\"totalBusqueda > 0 && totalBusqueda > resultadosPorPaginaBusqueda && busquedaActivada\"></paginacion>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"notification is-danger\" style=\"position:fixed; left:1em;  bottom:1em;\" *ngIf=\"mensajeError.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeError.mostrar = false\"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n</div>\r\n\r\n<div class=\"notification is-success\" style=\"position:fixed; left:1em;  bottom:1em; width: auto\" *ngIf=\"mensajeExito.mostrar\">       \r\n    <button class=\"delete\" (click)=\"mensajeExito.mostrar = false\"></button>\r\n    <p><span class=\"icon\" style=\"margin-right: 0.5em;\"><i class=\"fa fa-check-circle\"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <!--p style=\"text-align: center;\"><small >Este mensaje desaparecerá en {{ mensajeExito.cuentaAtras }} segundos.</small></p-->\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/farmacia/pedidos/lista/lista.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__ = __webpack_require__("../../../../rxjs/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__ = __webpack_require__("../../../../rxjs/Subject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_of__ = __webpack_require__("../../../../rxjs/add/observable/of.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_observable_throw__ = __webpack_require__("../../../../rxjs/add/observable/throw.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_observable_throw___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_rxjs_add_observable_throw__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_debounceTime__ = __webpack_require__("../../../../rxjs/add/operator/debounceTime.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_debounceTime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_debounceTime__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_distinctUntilChanged__ = __webpack_require__("../../../../rxjs/add/operator/distinctUntilChanged.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_distinctUntilChanged___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_distinctUntilChanged__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_map__ = __webpack_require__("../../../../rxjs/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_map__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_switchMap__ = __webpack_require__("../../../../rxjs/add/operator/switchMap.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_switchMap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_switchMap__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_rxjs_add_operator_catch__ = __webpack_require__("../../../../rxjs/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_rxjs_add_operator_catch___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_rxjs_add_operator_catch__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__pedidos_service__ = __webpack_require__("../../../../../src/app/farmacia/pedidos/pedidos.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__mensaje__ = __webpack_require__("../../../../../src/app/mensaje.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ListaComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};














var ListaComponent = (function () {
    // # FIN SECCION
    function ListaComponent(title, route, pedidosService) {
        this.title = title;
        this.route = route;
        this.pedidosService = pedidosService;
        this.cargando = false;
        // # SECCION: Esta sección es para mostrar mensajes
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_13__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_13__mensaje__["a" /* Mensaje */]();
        this.titulo = "Pedidos";
        this.icono = "fa-file";
        this.pedidos = [];
        this.presupuesto = {};
        this.paginaActual = 1;
        this.resultadosPorPagina = 10;
        this.total = 0;
        this.paginasTotales = 0;
        this.indicePaginas = [];
        // # FIN SECCION
        // # SECCION: Resultados de búsqueda
        this.ultimoTerminoBuscado = "";
        this.terminosBusqueda = new __WEBPACK_IMPORTED_MODULE_4_rxjs_Subject__["Subject"]();
        this.resultadosBusqueda = [];
        this.busquedaActivada = false;
        this.paginaActualBusqueda = 1;
        this.resultadosPorPaginaBusqueda = 10;
        this.totalBusqueda = 0;
        this.paginasTotalesBusqueda = 0;
        this.indicePaginasBusqueda = [];
    }
    ListaComponent.prototype.ngOnInit = function () {
        var _this = this;
        switch (this.route.snapshot.url[0].path) {
            //case 'todos': this.status = "TODO"; this.titulo = "Todos"; this.icono = "fa-file"; break;
            case 'borradores':
                this.status = "BR";
                this.titulo = "Borradores";
                this.icono = "fa-pencil-square-o";
                break;
            case 'en-transito':
                this.status = "ET";
                this.titulo = "En transito";
                this.icono = "fa-clock-o";
                break;
            case 'por-surtir':
                this.status = "PS";
                this.titulo = "Por surtir";
                this.icono = "fa-truck";
                break;
            case 'expirados':
                this.status = "EX";
                this.titulo = "Expirados";
                this.icono = "fa-exclamation-circle";
                break;
            case 'farmacia-subrogada':
                this.status = "EF";
                this.titulo = "Farmacia Subrogada";
                this.icono = "fa-building";
                break;
            case 'finalizados':
                this.status = "FI";
                this.icono = "fa-check-circle";
                if (this.route.snapshot.url.length > 1) {
                    if (this.route.snapshot.url[1].path == "completos") {
                        this.titulo = "Finalizados (completos)";
                    }
                    else if (this.route.snapshot.url[1].path == "incompletos") {
                        this.titulo = "Finalizados (incompletos)";
                    }
                    else if (this.route.snapshot.url[1].path == "cancelados") {
                        this.titulo = "Finalizados (cancelados)";
                    }
                    else {
                        this.titulo = "Finalizados";
                    }
                }
                else {
                    this.titulo = "Finalizados";
                }
                break;
            default:
                this.titulo = "Pedidos";
                this.icono = "fa-file";
                break;
        }
        this.pedidosService.presupuesto().subscribe(function (response) {
            _this.cargando = false;
            _this.presupuesto = response.data;
        }, function (error) {
            _this.cargando = false;
            console.log(error);
        });
        this.title.setTitle("Pedidos");
        this.listar(1);
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_13__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_13__mensaje__["a" /* Mensaje */]();
        var self = this;
        var busquedaSubject = this.terminosBusqueda
            .debounceTime(300) // Esperamos 300 ms pausando eventos
            .distinctUntilChanged() // Ignorar si la busqueda es la misma que la ultima
            .switchMap(function (term) {
            console.log("Cargando búsqueda.");
            _this.busquedaActivada = term != "" ? true : false;
            _this.ultimoTerminoBuscado = term;
            _this.paginaActualBusqueda = 1;
            _this.cargando = true;
            return term ? _this.pedidosService.buscar(_this.status, term, _this.paginaActualBusqueda, _this.resultadosPorPaginaBusqueda) : __WEBPACK_IMPORTED_MODULE_3_rxjs_Observable__["Observable"].of({ data: [] });
        }).catch(function handleError(error) {
            self.cargando = false;
            self.mensajeError.mostrar = true;
            self.ultimaPeticion = function () { self.listarBusqueda(self.ultimoTerminoBuscado, self.paginaActualBusqueda); }; //OJO
            try {
                var e = error.json();
                if (error.status == 401) {
                    self.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    self.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    self.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
            // Devolvemos el subject porque si no se detiene el funcionamiento del stream 
            return busquedaSubject;
        });
        busquedaSubject.subscribe(function (resultado) {
            _this.cargando = false;
            var parsed = resultado.data;
            for (var i in parsed) {
                parsed[i].created_at = parsed[i].created_at.replace(" ", "T");
            }
            _this.resultadosBusqueda = parsed;
            _this.totalBusqueda = resultado.total | 0;
            _this.paginasTotalesBusqueda = Math.ceil(_this.totalBusqueda / _this.resultadosPorPaginaBusqueda);
            _this.indicePaginasBusqueda = [];
            for (var i_1 = 0; i_1 < _this.paginasTotalesBusqueda; i_1++) {
                _this.indicePaginasBusqueda.push(i_1 + 1);
            }
            console.log("Búsqueda cargada.");
        });
    };
    ListaComponent.prototype.obtenerDireccion = function (id, status) {
        if (status == 'BR') {
            return '/almacen/pedidos/editar/' + id;
        }
        else {
            return '/almacen/pedidos/ver/' + id;
        }
    };
    ListaComponent.prototype.buscar = function (term) {
        this.terminosBusqueda.next(term);
    };
    ListaComponent.prototype.listarBusqueda = function (term, pagina) {
        var _this = this;
        this.paginaActualBusqueda = pagina;
        console.log("Cargando búsqueda.");
        this.cargando = true;
        this.pedidosService.buscar(this.status, term, pagina, this.resultadosPorPaginaBusqueda).subscribe(function (resultado) {
            _this.cargando = false;
            var parsed = resultado.data;
            for (var i in parsed) {
                parsed[i].created_at = parsed[i].created_at.replace(" ", "T"); // En safari fallan las fechas por eso se pone esto
            }
            _this.resultadosBusqueda = parsed;
            _this.totalBusqueda = resultado.total | 0;
            _this.paginasTotalesBusqueda = Math.ceil(_this.totalBusqueda / _this.resultadosPorPaginaBusqueda);
            _this.indicePaginasBusqueda = [];
            for (var i_2 = 0; i_2 < _this.paginasTotalesBusqueda; i_2++) {
                _this.indicePaginasBusqueda.push(i_2 + 1);
            }
            console.log("Búsqueda cargada.");
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError.mostrar = true;
            _this.ultimaPeticion = function () { this.listarBusqueda(term, pagina); };
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    ListaComponent.prototype.listar = function (pagina) {
        var _this = this;
        this.paginaActual = pagina;
        console.log("Cargando pedidos.");
        this.cargando = true;
        this.pedidosService.lista(this.status, pagina, this.resultadosPorPagina).subscribe(function (resultado) {
            _this.cargando = false;
            _this.pedidos = resultado.data;
            _this.total = resultado.total | 0;
            _this.paginasTotales = Math.ceil(_this.total / _this.resultadosPorPagina);
            _this.indicePaginas = [];
            for (var i = 0; i < _this.paginasTotales; i++) {
                _this.indicePaginas.push(i + 1);
            }
            console.log("Pedidos cargados.");
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError.mostrar = true;
            _this.ultimaPeticion = _this.listar;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    ListaComponent.prototype.eliminar = function (pedido, index) {
        var _this = this;
        pedido.cargando = true;
        if (confirm('Desea eliminar el pedido?')) {
            this.pedidosService.eliminar(pedido.id).subscribe(function (data) {
                pedido.cargando = false;
                _this.pedidos.splice(index, 1);
                console.log("Se eliminó el elemento de la lista.");
                _this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_13__mensaje__["a" /* Mensaje */](true);
                _this.mensajeExito.mostrar = true;
                _this.mensajeExito.texto = "Pedido eliminado";
            }, function (error) {
                pedido.cargando = false;
                _this.mensajeError.mostrar = true;
                _this.ultimaPeticion = function () {
                    this.eliminar(pedido, index);
                };
                try {
                    var e = error.json();
                    if (error.status == 401) {
                        _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                    }
                    else {
                        _this.mensajeError.texto = e.error;
                    }
                }
                catch (e) {
                    console.log("No se puede interpretar el error");
                    if (error.status == 500) {
                        _this.mensajeError.texto = "500 (Error interno del servidor)";
                    }
                    else {
                        _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                    }
                }
            });
        }
        else {
            pedido.cargando = false;
        }
    };
    // # SECCION: Paginación
    ListaComponent.prototype.paginaSiguiente = function () {
        this.listar(this.paginaActual + 1);
    };
    ListaComponent.prototype.paginaAnterior = function () {
        this.listar(this.paginaActual - 1);
    };
    ListaComponent.prototype.paginaSiguienteBusqueda = function (term) {
        this.listarBusqueda(term, this.paginaActualBusqueda + 1);
    };
    ListaComponent.prototype.paginaAnteriorBusqueda = function (term) {
        this.listarBusqueda(term, this.paginaActualBusqueda - 1);
    };
    return ListaComponent;
}());
ListaComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'almacen-pedidos-lista',
        template: __webpack_require__("../../../../../src/app/farmacia/pedidos/lista/lista.component.html"),
        styles: [__webpack_require__("../../../../../src/app/farmacia/pedidos/lista/lista.component.css")],
        providers: [__WEBPACK_IMPORTED_MODULE_12__pedidos_service__["a" /* PedidosService */]]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* ActivatedRoute */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* ActivatedRoute */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_12__pedidos_service__["a" /* PedidosService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_12__pedidos_service__["a" /* PedidosService */]) === "function" && _c || Object])
], ListaComponent);

var _a, _b, _c;
//# sourceMappingURL=C:/wamp/www/x3-C/src/lista.component.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/pedidos/menu-lateral/menu-lateral.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/farmacia/pedidos/menu-lateral/menu-lateral.component.html":
/***/ (function(module, exports) {

module.exports = "<aside class=\"menu\" style=\"padding: 1em;\">\r\n    <!--  <p class=\"menu-label\">\r\n        Pedidos\r\n    </p>-->\r\n    <a routerLink=\"/almacen/pedidos/nuevo\" routerLinkActive=\"is-active\" class=\"button is-primary is-inverted is-medium is-fullwidth\"><span class=\"icon\"  ><i class=\"fa fa-plus\"></i></span> <span>Nuevo Pedido</span></a>\r\n    <br>\r\n    <ul class=\"menu-list\">\r\n        <li>\r\n            <a routerLink=\"/almacen/pedidos/todos\" #todos routerLinkActive=\"is-active\">\r\n                <span class=\"icon\"><i class=\"fa fa-file\"></i></span> Pedidos\r\n                <span class=\"icon is-pulled-right\" *ngIf=\"cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span>\r\n                <span *ngIf=\"stats.todos>0\" class=\"tag is-pulled-right\" [ngClass]=\"{ 'is-white': todos.className == 'is-active', 'is-primary': todos.className != 'is-active' }\">{{  stats.todos }}</span>\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a routerLink=\"/almacen/pedidos/borradores\" #borradores routerLinkActive=\"is-active\">\r\n                <span class=\"icon\"><i class=\"fa fa-pencil-square-o\"></i></span> Borradores\r\n                <span class=\"icon is-pulled-right\" *ngIf=\"cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span>\r\n                <span *ngIf=\"stats.borradores>0\" class=\"tag is-pulled-right\" [ngClass]=\"{ 'is-white': borradores.className == 'is-active', 'is-primary': borradores.className != 'is-active' }\">{{  stats.borradores }}</span>\r\n            </a>\r\n        </li>\r\n        <!--li>\r\n            <a routerLink=\"/almacen/pedidos/pendientes\" #pendientes routerLinkActive=\"is-active\">\r\n                <span class=\"icon\"  ><i class=\"fa fa-minus-circle\"></i></span> Pendientes\r\n                <span class=\"icon is-pulled-right\" *ngIf=\"cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span>\r\n                <span *ngIf=\"stats.pendientes>0\" class=\"tag is-pulled-right\" [ngClass]=\"{ 'is-white': pendientes.className == 'is-active', 'is-warning': pendientes.className != 'is-active' }\" >{{  stats.pendientes }}</span>\r\n            </a>             \r\n        </li-->\r\n        <li>\r\n            <a routerLink=\"/almacen/pedidos/en-transito\" #enTransito routerLinkActive=\"is-active\">\r\n                <span class=\"icon\"><i class=\"fa fa-clock-o\"></i></span> En transito\r\n                <span class=\"icon is-pulled-right\" *ngIf=\"cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span>\r\n                <span *ngIf=\"stats.en_transito>0\" class=\"tag is-pulled-right\" [ngClass]=\"{ 'is-white': enTransito.className == 'is-active', 'is-primary': enTransito.className != 'is-active' }\">{{  stats.en_transito }}</span>\r\n            </a>\r\n        </li>\r\n        <li>\r\n            <a routerLink=\"/almacen/pedidos/por-surtir\" #porSurtir routerLinkActive=\"is-active\">\r\n                <span class=\"icon\"><i class=\"fa fa-truck\"></i></span> Por surtir\r\n                <span class=\"icon is-pulled-right\" *ngIf=\"cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span>\r\n                <span *ngIf=\"stats.por_surtir>0\" class=\"tag is-pulled-right\" [ngClass]=\"{ 'is-white': porSurtir.className == 'is-active', 'is-primary': porSurtir.className != 'is-active' }\">{{  stats.por_surtir }}</span>\r\n            </a>\r\n        </li>\r\n        <hr>\r\n        <li>\r\n            <a routerLink=\"/almacen/pedidos/finalizados\" #finalizados routerLinkActive=\"is-active\">\r\n                <span class=\"icon\"><i class=\"fa fa-check-circle\"></i></span> Finalizados\r\n                <span class=\"icon is-pulled-right\" *ngIf=\"cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span>\r\n                <span *ngIf=\"stats.finalizados>0\" class=\"tag is-pulled-right\" [ngClass]=\"{ 'is-white': finalizados.className == 'is-active', 'is-success': finalizados.className != 'is-active' }\">{{  stats.finalizados }}</span>\r\n            </a>\r\n            <!--ul>\r\n                <li><a routerLink=\"/almacen/pedidos/finalizados/completos\" routerLinkActive=\"is-active\">Completos</a></li>\r\n                <li><a routerLink=\"/almacen/pedidos/finalizados/incompletos\" routerLinkActive=\"is-active\">Incompletos</a></li>\r\n                <li><a routerLink=\"/almacen/pedidos/finalizados/cancelados\" routerLinkActive=\"is-active\">Cancelados</a></li>\r\n            </ul-->\r\n        </li>\r\n        <li>\r\n            <a routerLink=\"/almacen/pedidos/expirados\" #expirados routerLinkActive=\"is-active\">\r\n                <span class=\"icon\"><i class=\"fa fa-exclamation-circle\"></i></span> Expirados\r\n                <span class=\"icon is-pulled-right\" *ngIf=\"cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span>\r\n                <span *ngIf=\"stats.expirados>0\" class=\"tag is-pulled-right\" [ngClass]=\"{ 'is-white': expirados.className == 'is-active', 'is-danger': expirados.className != 'is-active' }\">{{  stats.expirados }}</span>\r\n            </a>\r\n        </li>\r\n        <hr>\r\n        <li>\r\n            <a routerLink=\"/almacen/pedidos/farmacia-subrogada\" #farmacia routerLinkActive=\"is-active\">\r\n                <span class=\"icon\"><i class=\"fa fa-building\"></i></span> Farmacia Subrogada\r\n                <span class=\"icon is-pulled-right\" *ngIf=\"cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span>\r\n                <span *ngIf=\"stats.farmacia>0\" class=\"tag is-pulled-right\" [ngClass]=\"{ 'is-white': farmacia.className == 'is-active', 'is-info': farmacia.className != 'is-active' }\">{{  stats.farmacia }}</span>\r\n            </a>\r\n        </li>\r\n    </ul>\r\n\r\n</aside>"

/***/ }),

/***/ "../../../../../src/app/farmacia/pedidos/menu-lateral/menu-lateral.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__pedidos_service__ = __webpack_require__("../../../../../src/app/farmacia/pedidos/pedidos.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MenuLateralComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var MenuLateralComponent = (function () {
    function MenuLateralComponent(pedidosService) {
        this.pedidosService = pedidosService;
        this.cargando = false;
        this.stats = {
            todos: 0,
            borradores: 0,
            en_transito: 0,
            por_surtir: 0,
            finalizados: 0,
            expirados: 0,
            farmacia: 0
        };
    }
    MenuLateralComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.cargando = true;
        this.pedidosService.stats().subscribe(function (response) {
            _this.cargando = false;
            _this.stats = response;
        }, function (error) {
            _this.cargando = false;
            console.log(error);
        });
    };
    return MenuLateralComponent;
}());
MenuLateralComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'menu-lateral',
        template: __webpack_require__("../../../../../src/app/farmacia/pedidos/menu-lateral/menu-lateral.component.html"),
        styles: [__webpack_require__("../../../../../src/app/farmacia/pedidos/menu-lateral/menu-lateral.component.css")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__pedidos_service__["a" /* PedidosService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__pedidos_service__["a" /* PedidosService */]) === "function" && _a || Object])
], MenuLateralComponent);

var _a;
//# sourceMappingURL=C:/wamp/www/x3-C/src/menu-lateral.component.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/pedidos/pedido.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__paginacion_paginacion__ = __webpack_require__("../../../../../src/app/paginacion/paginacion.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Pedido; });


var PedidoFiltro = (function () {
    function PedidoFiltro() {
    }
    return PedidoFiltro;
}());
var Pedido = (function () {
    function Pedido(conFiltro) {
        if (conFiltro === void 0) { conFiltro = false; }
        //public nombre:String;
        //public observaciones:string;
        this.lista = [];
        this.totalInsumos = 0;
        this.totalMonto = 0;
        this.totalMontoCauses = 0;
        this.totalMontoNoCauses = 0;
        this.totalMontoMaterialCuracion = 0;
        this.paginacion = new __WEBPACK_IMPORTED_MODULE_0__paginacion_paginacion__["a" /* Paginacion */]();
        this.activo = false;
        this.cargando = false;
        this.tieneError = function (atributo, error) {
            return (this.datos.get(atributo).hasError(error) && this.datos.get(atributo).touched);
        };
        this.inicializarDatos = function (datos) {
            if (datos === void 0) { datos = {}; }
            var today = datos.fecha;
            var almacen_solicitante = '';
            if (!datos.fecha) {
                //Harima:obtenemos la fecha actual
                var now = new Date();
                var day = ("0" + now.getDate()).slice(-2);
                var month = ("0" + (now.getMonth() + 1)).slice(-2);
                today = now.getFullYear() + "-" + (month) + "-" + (day);
            }
            if (datos.almacen_solicitante) {
                almacen_solicitante = datos.almacen_solicitante;
            }
            this.datos.setValue({ almacen_solicitante: almacen_solicitante, descripcion: '', observaciones: '', fecha: today });
        };
        //Harima: es necesario para evitar un error al enviar los datos al servidor
        this.obtenerDatosGuardar = function () {
            var datos = {
                datos: this.datos.value,
                insumos: this.lista
            };
            return datos;
        };
        this.actualizarTotales = function (conLote) {
            if (conLote === void 0) { conLote = false; }
            var pedido;
            //Harima: Si se llama la funcion desde el filtro, hay que actualizar los valores del padre
            if (this.padre) {
                pedido = this.padre;
            }
            else {
                pedido = this;
            }
            pedido.totalInsumos = 0;
            pedido.totalMonto = 0;
            pedido.totalMontoCauses = 0;
            pedido.totalMontoNoCauses = 0;
            pedido.totalMontoMaterialCuracion = 0;
            var para_iva = 0;
            var iva = 0;
            var contador = 1;
            for (var i in pedido.lista) {
                if (conLote) {
                    pedido.lista[i].lote = contador++;
                }
                pedido.totalInsumos += +pedido.lista[i].cantidad;
                if (pedido.lista[i].monto) {
                    pedido.totalMonto += pedido.lista[i].monto;
                    if (pedido.lista[i].tipo == 'ME') {
                        if (pedido.lista[i].es_causes) {
                            pedido.totalMontoCauses += pedido.lista[i].monto;
                        }
                        else {
                            pedido.totalMontoNoCauses += pedido.lista[i].monto;
                        }
                    }
                    else if (pedido.lista[i].tipo == 'MC') {
                        pedido.totalMontoMaterialCuracion += pedido.lista[i].monto;
                        para_iva += pedido.lista[i].monto;
                    }
                }
            }
            if (para_iva > 0) {
                iva = para_iva * 16 / 100;
                pedido.totalMontoMaterialCuracion += iva;
                pedido.totalMonto += iva;
            }
        };
        this.indexar = function (conLote) {
            if (conLote === void 0) { conLote = true; }
            if (conLote) {
                this.actualizarTotales(conLote);
            }
            this.paginacion.totalPaginas = Math.ceil(this.lista.length / this.paginacion.resultadosPorPagina);
            this.paginacion.indice = [];
            for (var i = 0; i < this.paginacion.totalPaginas; i++) {
                this.paginacion.indice.push(i + 1);
            }
        };
        this.listar = function (pagina) {
            if (pagina === void 0) { pagina = 1; }
            this.paginacion.paginaActual = pagina;
            var inicio = (this.paginacion.paginaActual - 1) * this.paginacion.resultadosPorPagina;
            var fin = inicio + this.paginacion.resultadosPorPagina;
            try {
                this.paginacion.lista = this.lista.slice(inicio, fin);
            }
            catch (e) {
                this.paginacion.lista = [];
            }
        };
        this.eliminarItem = function (item, index) {
            var contador = 0;
            for (var i in this.lista) {
                if (this.lista[i] === item) {
                    this.paginacion.lista.splice(index, 1);
                    this.lista.splice(contador, 1);
                    this.indexar();
                    //Harima: con esto calculamos el siguiente indice, de la lista total de elementos, a agregar al final de la página
                    var proximoIndice = (contador + (this.paginacion.resultadosPorPagina - index)) - 1;
                    //Harima:  si ese indice existe, lo agregamos al final de la pagina
                    if (this.lista[proximoIndice]) {
                        this.paginacion.lista.push(this.lista[proximoIndice]);
                    }
                    //Harima: Si la pagina quedo vacía, listamos la pagina anterior, en caso de que la página actual sea mayor a 1
                    if (this.paginacion.lista.length == 0) {
                        if (this.paginacion.paginaActual > 1) {
                            this.listar(this.paginacion.paginaActual - 1);
                        }
                        else {
                            this.listar(1);
                        }
                    }
                    //Harima: si el objeto padre esta inicializado, significa que se esta eliminando desde una busqueda, por tanto hay que eliminar también en el objeto padre
                    if (this.padre) {
                        //Harima: se obtiene el indice y la pagina del item eliminado
                        var indice = this.padre.lista.indexOf(item);
                        var pagina = Math.ceil(indice / this.padre.paginacion.resultadosPorPagina);
                        //Harima: se calcula el indice que tiene el item en la pagina en la que se encuentra
                        var ajusteIndices = (pagina - 1) * this.padre.paginacion.resultadosPorPagina;
                        var indiceEnPagina = indice - ajusteIndices;
                        //Harima: eliminamos el elemento del padre, de ser necesario cambiamos de pagina
                        if (this.padre.paginacion.paginaActual == pagina) {
                            this.padre.eliminarItem(item, indiceEnPagina);
                        }
                        else {
                            var respaldoPagina = this.padre.paginacion.paginaActual;
                            this.padre.listar(pagina);
                            this.padre.eliminarItem(item, indiceEnPagina);
                            this.padre.listar(respaldoPagina);
                            //Harima: tenemos que checar si en la pagina actual del padre aun hay elementos, de lo contrario listamos la pagina anterior, cuando sea posible
                            if (this.padre.paginacion.lista.length == 0) {
                                if (this.padre.paginacion.paginaActual > 1) {
                                    this.padre.listar(this.padre.paginacion.paginaActual - 1);
                                }
                                else {
                                    this.padre.listar(1);
                                }
                            }
                        }
                    }
                    return;
                }
                contador++;
            }
        };
        if (conFiltro) {
            this.filtro = new Pedido();
            //Harima: se asigna el pedido actual como padre del filtro
            this.filtro.padre = this;
            //Harima: se crea el formulario para las validaciones
            this.fb = new __WEBPACK_IMPORTED_MODULE_1__angular_forms__["FormBuilder"]();
            this.datos = this.fb.group({
                descripcion: ['', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["Validators"].required]],
                fecha: ['', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["Validators"].required]],
                almacen_solicitante: ['', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["Validators"].required]],
                observaciones: ''
            });
            //Harima: Al crear el objeto, se crea como borrador
            this.status = 'BR';
        }
        this.paginacion.resultadosPorPagina = 10;
    }
    Pedido.prototype.paginaSiguiente = function () {
        if (this.paginacion.paginaActual == this.paginacion.totalPaginas) {
            return;
        }
        this.listar(this.paginacion.paginaActual + 1);
    };
    Pedido.prototype.paginaAnterior = function () {
        if (this.paginacion.paginaActual == 1) {
            return;
        }
        this.listar(this.paginacion.paginaActual - 1);
    };
    return Pedido;
}());

//# sourceMappingURL=C:/wamp/www/x3-C/src/pedido.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/pedidos/pedidos-routing.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lista_lista_component__ = __webpack_require__("../../../../../src/app/farmacia/pedidos/lista/lista.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__formulario_formulario_component__ = __webpack_require__("../../../../../src/app/farmacia/pedidos/formulario/formulario.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__ver_ver_component__ = __webpack_require__("../../../../../src/app/farmacia/pedidos/ver/ver.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__recepcion_recepcion_component__ = __webpack_require__("../../../../../src/app/farmacia/pedidos/recepcion/recepcion.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__auth_guard_service__ = __webpack_require__("../../../../../src/app/auth-guard.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PedidosRoutingModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


//import { PedidosComponent } from './pedidos.component';





var routes = [
    { path: 'almacen/pedidos', redirectTo: '/almacen/pedidos/todos', pathMatch: 'full' },
    {
        path: 'almacen/pedidos',
        children: [
            { path: 'todos', component: __WEBPACK_IMPORTED_MODULE_2__lista_lista_component__["a" /* ListaComponent */] },
            { path: 'borradores', component: __WEBPACK_IMPORTED_MODULE_2__lista_lista_component__["a" /* ListaComponent */] },
            { path: 'en-transito', component: __WEBPACK_IMPORTED_MODULE_2__lista_lista_component__["a" /* ListaComponent */] },
            { path: 'por-surtir', component: __WEBPACK_IMPORTED_MODULE_2__lista_lista_component__["a" /* ListaComponent */] },
            { path: 'finalizados', component: __WEBPACK_IMPORTED_MODULE_2__lista_lista_component__["a" /* ListaComponent */] },
            { path: 'finalizados/completos', component: __WEBPACK_IMPORTED_MODULE_2__lista_lista_component__["a" /* ListaComponent */] },
            { path: 'finalizados/incompletos', component: __WEBPACK_IMPORTED_MODULE_2__lista_lista_component__["a" /* ListaComponent */] },
            { path: 'finalizados/cancelados', component: __WEBPACK_IMPORTED_MODULE_2__lista_lista_component__["a" /* ListaComponent */] },
            { path: 'expirados', component: __WEBPACK_IMPORTED_MODULE_2__lista_lista_component__["a" /* ListaComponent */] },
            { path: 'farmacia-subrogada', component: __WEBPACK_IMPORTED_MODULE_2__lista_lista_component__["a" /* ListaComponent */] },
            { path: 'nuevo', component: __WEBPACK_IMPORTED_MODULE_3__formulario_formulario_component__["a" /* FormularioComponent */] },
            { path: 'editar/:id', component: __WEBPACK_IMPORTED_MODULE_3__formulario_formulario_component__["a" /* FormularioComponent */] },
            { path: 'ver/:id', component: __WEBPACK_IMPORTED_MODULE_4__ver_ver_component__["a" /* VerComponent */] },
            { path: 'recepcion/:id', component: __WEBPACK_IMPORTED_MODULE_5__recepcion_recepcion_component__["a" /* RecepcionComponent */] },
        ],
        canActivate: [__WEBPACK_IMPORTED_MODULE_6__auth_guard_service__["a" /* AuthGuard */]]
    }
];
var PedidosRoutingModule = (function () {
    function PedidosRoutingModule() {
    }
    return PedidosRoutingModule;
}());
PedidosRoutingModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */].forChild(routes)],
        exports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */]],
        providers: []
    })
], PedidosRoutingModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/pedidos-routing.module.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/pedidos/pedidos.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/farmacia/pedidos/pedidos.component.html":
/***/ (function(module, exports) {

module.exports = ""

/***/ }),

/***/ "../../../../../src/app/farmacia/pedidos/pedidos.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PedidosComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var PedidosComponent = (function () {
    function PedidosComponent() {
    }
    PedidosComponent.prototype.ngOnInit = function () { };
    return PedidosComponent;
}());
PedidosComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-pedidos',
        template: __webpack_require__("../../../../../src/app/farmacia/pedidos/pedidos.component.html"),
        styles: [__webpack_require__("../../../../../src/app/farmacia/pedidos/pedidos.component.css")]
    }),
    __metadata("design:paramtypes", [])
], PedidosComponent);

//# sourceMappingURL=C:/wamp/www/x3-C/src/pedidos.component.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/pedidos/pedidos.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__hub_hub_module__ = __webpack_require__("../../../../../src/app/hub/hub.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__perfil_perfil_module__ = __webpack_require__("../../../../../src/app/perfil/perfil.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__bloquear_pantalla_bloquear_pantalla_module__ = __webpack_require__("../../../../../src/app/bloquear-pantalla/bloquear-pantalla.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__paginacion_paginacion_module__ = __webpack_require__("../../../../../src/app/paginacion/paginacion.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__buscar_insumos_buscar_insumos_module__ = __webpack_require__("../../../../../src/app/farmacia/buscar-insumos/buscar-insumos.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__index_farmacia_index_farmacia_module__ = __webpack_require__("../../../../../src/app/farmacia/index-farmacia/index-farmacia.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__pedidos_routing_module__ = __webpack_require__("../../../../../src/app/farmacia/pedidos/pedidos-routing.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__pedidos_component__ = __webpack_require__("../../../../../src/app/farmacia/pedidos/pedidos.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__menu_lateral_menu_lateral_component__ = __webpack_require__("../../../../../src/app/farmacia/pedidos/menu-lateral/menu-lateral.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__lista_lista_component__ = __webpack_require__("../../../../../src/app/farmacia/pedidos/lista/lista.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__pedidos_service__ = __webpack_require__("../../../../../src/app/farmacia/pedidos/pedidos.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__catalogos_almacenes_almacenes_service__ = __webpack_require__("../../../../../src/app/catalogos/almacenes/almacenes.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__stock_stock_service__ = __webpack_require__("../../../../../src/app/farmacia/stock/stock.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__recepcion_recepcion_service__ = __webpack_require__("../../../../../src/app/farmacia/pedidos/recepcion/recepcion.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__ver_ver_component__ = __webpack_require__("../../../../../src/app/farmacia/pedidos/ver/ver.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_18__formulario_formulario_component__ = __webpack_require__("../../../../../src/app/farmacia/pedidos/formulario/formulario.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_19__recepcion_recepcion_component__ = __webpack_require__("../../../../../src/app/farmacia/pedidos/recepcion/recepcion.component.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PedidosModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




















var PedidosModule = (function () {
    function PedidosModule() {
    }
    return PedidosModule;
}());
PedidosModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [
            __WEBPACK_IMPORTED_MODULE_1__angular_common__["CommonModule"],
            __WEBPACK_IMPORTED_MODULE_2__angular_forms__["FormsModule"],
            __WEBPACK_IMPORTED_MODULE_2__angular_forms__["ReactiveFormsModule"],
            __WEBPACK_IMPORTED_MODULE_3__hub_hub_module__["a" /* HubModule */],
            __WEBPACK_IMPORTED_MODULE_4__perfil_perfil_module__["a" /* PerfilModule */],
            __WEBPACK_IMPORTED_MODULE_5__bloquear_pantalla_bloquear_pantalla_module__["a" /* BloquearPantallaModule */],
            __WEBPACK_IMPORTED_MODULE_6__paginacion_paginacion_module__["a" /* PaginacionModule */],
            __WEBPACK_IMPORTED_MODULE_7__buscar_insumos_buscar_insumos_module__["a" /* BuscarInsumosModule */],
            __WEBPACK_IMPORTED_MODULE_9__pedidos_routing_module__["a" /* PedidosRoutingModule */],
            __WEBPACK_IMPORTED_MODULE_8__index_farmacia_index_farmacia_module__["a" /* IndexFarmaciaModule */]
        ],
        declarations: [__WEBPACK_IMPORTED_MODULE_10__pedidos_component__["a" /* PedidosComponent */], __WEBPACK_IMPORTED_MODULE_11__menu_lateral_menu_lateral_component__["a" /* MenuLateralComponent */], __WEBPACK_IMPORTED_MODULE_12__lista_lista_component__["a" /* ListaComponent */], __WEBPACK_IMPORTED_MODULE_17__ver_ver_component__["a" /* VerComponent */], __WEBPACK_IMPORTED_MODULE_18__formulario_formulario_component__["a" /* FormularioComponent */], __WEBPACK_IMPORTED_MODULE_19__recepcion_recepcion_component__["a" /* RecepcionComponent */]],
        providers: [__WEBPACK_IMPORTED_MODULE_13__pedidos_service__["a" /* PedidosService */], __WEBPACK_IMPORTED_MODULE_14__catalogos_almacenes_almacenes_service__["a" /* AlmacenesService */], __WEBPACK_IMPORTED_MODULE_15__stock_stock_service__["a" /* StockService */], __WEBPACK_IMPORTED_MODULE_16__recepcion_recepcion_service__["a" /* RecepcionService */]]
    })
], PedidosModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/pedidos.module.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/pedidos/pedidos.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/@angular/http.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__ = __webpack_require__("../../../../../src/app/jwt-request.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PedidosService; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var PedidosService = PedidosService_1 = (function () {
    function PedidosService(http, jwtRequest) {
        this.http = http;
        this.jwtRequest = jwtRequest;
    }
    PedidosService.prototype.stats = function () {
        return this.jwtRequest.get(PedidosService_1.URL_STATS, null, null).map(function (response) { return response.json(); });
    };
    PedidosService.prototype.presupuesto = function (mes, almacen) {
        if (mes === void 0) { mes = 0; }
        if (almacen === void 0) { almacen = ''; }
        var parametros = {};
        if (mes) {
            parametros.mes = mes;
        }
        if (almacen) {
            parametros.almacen = almacen;
        }
        return this.jwtRequest.get(PedidosService_1.URL_PRESUPUESTO, null, parametros).map(function (response) { return response.json(); });
    };
    PedidosService.prototype.buscar = function (status, term, pagina, resultados_por_pagina) {
        if (pagina === void 0) { pagina = 1; }
        if (resultados_por_pagina === void 0) { resultados_por_pagina = 20; }
        return this.jwtRequest.get(PedidosService_1.URL, null, { status: status, q: term, page: pagina, per_page: resultados_por_pagina }).map(function (response) { return response.json().data; });
    };
    PedidosService.prototype.lista = function (status, pagina, resultados_por_pagina) {
        if (pagina === void 0) { pagina = 1; }
        if (resultados_por_pagina === void 0) { resultados_por_pagina = 20; }
        return this.jwtRequest.get(PedidosService_1.URL, null, { status: status, page: pagina, per_page: resultados_por_pagina }).map(function (response) { return response.json().data; });
    };
    PedidosService.prototype.ver = function (id) {
        return this.jwtRequest.get(PedidosService_1.URL, id, {}).map(function (response) {
            var jsonData = response.json().data;
            /* var roles:string[] = []
             jsonData.roles.map(item => {
               roles.push(""+item.id)
             })*/
            var pedido = jsonData;
            //usuario.roles = roles;
            return pedido;
        });
    };
    PedidosService.prototype.crear = function (pedido) {
        return this.jwtRequest.post(PedidosService_1.URL, pedido).map(function (response) { return response.json().data; });
    };
    PedidosService.prototype.editar = function (id, pedido) {
        return this.jwtRequest.put(PedidosService_1.URL, id, pedido).map(function (response) { return response.json().data; });
    };
    PedidosService.prototype.eliminar = function (id) {
        return this.jwtRequest.delete(PedidosService_1.URL, id).map(function (response) { return response.json().data; });
    };
    return PedidosService;
}());
PedidosService.URL = "pedidos";
PedidosService.URL_STATS = "pedidos-stats";
PedidosService.URL_PRESUPUESTO = "pedidos-presupuesto";
PedidosService = PedidosService_1 = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__["a" /* JwtRequestService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__["a" /* JwtRequestService */]) === "function" && _b || Object])
], PedidosService);

var PedidosService_1, _a, _b;
//# sourceMappingURL=C:/wamp/www/x3-C/src/pedidos.service.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/pedidos/recepcion/recepcion.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".item {\r\n    cursor: pointer;\r\n}\r\n.item.seleccionado {\r\n    background: #CCC;\r\n}\r\n.item.seleccionado .icon {\r\n    color:white !important;\r\n}\r\n.item.seleccionado .item-detalle {\r\n    display: inherit;\r\n}\r\n.item .item-detalle {\r\n    display: none;\r\n}\r\n\r\n.item.asignado {\r\n    background: #DDD;\r\n    color: #777;\r\n}\r\n\r\n\r\ntr.filtro td,\r\ntr.filtro th {\r\n    color:#FFF;\r\n    background: #4a4a4a !important;\r\n}\r\n\r\n.contenedor-tabla {\r\n    overflow: auto; width:100%; height:99% !important; display:block; position:absolute; left:0; top:0;\r\n}\r\n.contenedor-tabla table { border-radius: 3px; }\r\n@media screen and (max-width: 768px) {\r\n    .contenedor-tabla { position: relative; }\r\n\r\n    .tile.notification { padding:0px !important; }\r\n}", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/farmacia/pedidos/recepcion/recepcion.component.html":
/***/ (function(module, exports) {

module.exports = "<menu-farmacia [modulo]=\"'Pedidos'\" [icono]=\"'assets/icono-pedidos.svg'\" [url]=\"'/almacen/pedidos/por-surtir'\"></menu-farmacia>\r\n\r\n<div class=\"is-fullwidth has-text-centered\" style=\"padding-top:70px;\" *ngIf=\"cargando\">\r\n  <br>\r\n  <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando...</span></span>\r\n  <br>\r\n  <br>\r\n</div>\r\n\r\n<div style=\"position:relative; padding-top:70px; margin-left: 1.5%; display:block; width:97%; height:100% !important;\" *ngIf=\"pedido\">    \r\n  <div class=\"tile is-ancestor is-vertical\" style=\"height:100% !important; max-height:100% !important;\">\r\n    <div class=\"tile is-parent is-12 \">\r\n      <div class=\"tile is-child notification is-dark\">\r\n        <div class=\"columns\">\r\n          <div class=\"column\" >\r\n            <div style=\"padding:1em;\">\r\n              Folio: <strong style=\"color:#FFF;\">{{ folio }}</strong>  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Claves Recibidas: {{ lotesSurtidos.length  }}<!-- / {{ pedido.lista.length }}-->\r\n               &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span *ngIf=\"statusRecepcion == 'BR'\"><strong style=\"color:#FFF;\">Recepción inciada</strong></span>\r\n               <span *ngIf=\"statusRecepcion == 'FI'\"><strong style=\"color:#FFF;\">Recepción concluida</strong></span>\r\n            </div>\r\n          </div>\r\n          <div class=\"column is-4\" style=\"text-align:right; \" *ngIf=\"statusRecepcion != 'FI'\">\r\n            <div style=\"margin:1em;\">\r\n            <a *ngIf=\"!guardando && statusRecepcion == 'BR'\" class=\"button is-primary\" style=\"width:45%; margin-right:5%;\" (click)=\"finalizar()\"> <span class=\"icon\"><i class=\"fa fa-check\"></i></span> <span>Concluir</span></a>\r\n            <a  class=\"button is-white\"  style=\"width:45%\"  [ngClass]=\"{ 'is-loading': guardando }\"  (click)=\"guardar()\"> <span class=\"icon\"><i class=\"fa fa-save\"></i></span> <span>Guardar</span></a>\r\n            </div>\r\n          </div>\r\n        </div>       \r\n      </div>\r\n    </div>\r\n    <div class=\"tile\">\r\n      <div class=\"tile is-parent \">\r\n        <div class=\"tile is-child notification is-white\" >\r\n          <div class=\"contenedor-tabla\" >          \r\n            \r\n            <table class=\"table is-unselectable\" *ngIf=\"!cargando\" style=\"font-size: 0.8em; \">\r\n              <thead>\r\n                  <tr  [ngClass]=\"{ 'filtro': pedido.filtro.activo}\">\r\n                    <th style=\"width:41px;vertical-align: middle;\" class=\"has-text-centered\" >Lote</th>\r\n                    <th>\r\n                      <p class=\"control is-expanded\">\r\n                        <input type=\"hidden\" #searchBoxDescripcionClavePrevia >\r\n                        <!--input class=\"input is-small\" type=\"text\" placeholder=\"Clave o Descripción\" #searchBoxDescripcionClave id=\"search-box-descripcion-clave-{{indexPedido}}\" (keyup)=\"buscar($event,searchBoxDescripcionClave,searchBoxDescripcionClavePrevia,[{ input: searchBoxDescripcionClave, campos: ['clave','generico_nombre','informacion.concentracion','informacion.presentacion']}])\"-->\r\n                        <input class=\"input is-small\" type=\"text\" placeholder=\"Clave o Descripción\" #searchBoxDescripcionClave id=\"search-box-descripcion-clave\" (keyup)=\"buscar($event,searchBoxDescripcionClave,searchBoxDescripcionClavePrevia,[{ input: searchBoxDescripcionClave, campos: ['clave','descripcion']}])\">\r\n                      </p>\r\n                    </th>  \r\n                    \r\n                    <th style=\"width:78px !important;text-align: center; vertical-align: middle;\"><abbr title=\"Cantidad\">Cantidad</abbr></th>\r\n                    <th style=\"width:78px !important;text-align: center; vertical-align: middle;\"><abbr title=\"Surtido\">Lotes</abbr></th>\r\n                    <th  style=\"width:21px !important; text-align: center; vertical-align: middle;\">Surtido</th>\r\n                  </tr>\r\n              </thead>\r\n              <tbody *ngIf=\"!pedido.filtro.activo\">\r\n\r\n                <tr class=\"item\" *ngFor=\"let item of pedido.paginacion.lista; let i = index;\" (click)=\"seleccionarItem(item)\" [ngClass]=\"{ 'seleccionado': item == itemSeleccionado}\">\r\n                  <td class=\"has-text-centered\">{{ item.lote }}</td>\r\n                  <td >\r\n                    <small >{{ item.clave }} <br></small>\r\n                    <!--b>{{ item.generico_nombre }}</b> <small *ngIf=\"(item.tipo == 'ME' && item.informacion)\"><b>{{ item.informacion.concentracion }}</b></small><br-->\r\n                    <div class=\"item-detalle\">\r\n                      <!--div   *ngIf=\"(item.tipo == 'ME' && item.informacion)\" style=\"line-height:1em;\">\r\n                        <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                        <small><i>{{ item.informacion.contenido }} </i></small>\r\n                      </div>\r\n                      <div *ngIf=\"item.tipo != 'ME'\" style=\"line-height:1em;\">\r\n                        <small>{{ item.descripcion }}</small>\r\n                      </div-->\r\n                      <div style=\"line-height:1em;\">\r\n                        <small>{{ item.descripcion }}</small>\r\n                      </div>\r\n\r\n                      <div  style=\"padding: 0.5em 0 0.5em 0; \">\r\n                        <span *ngIf=\"(item.es_causes && item.tipo == 'ME')\" class=\"tag is-success\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">CAUSES</span>\r\n                        <span *ngIf=\"(!item.es_causes && item.tipo == 'ME')\" class=\"tag is-danger\" style=\"font-size: 0.7em !important;\">NO CAUSES</span>\r\n                        <span *ngIf=\"item.tipo == 'MC'\" class=\"tag is-warning\" style=\"font-size: 0.7em !important;\">MATERIAL CURACIÓN</span>\r\n                        <span *ngIf=\"item.es_cuadro_basico\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">Cuadro básico</span>\r\n                        \r\n                        <span *ngIf=\"(item.tipo == 'ME' && item.informacion)\">\r\n                          <span *ngIf=\"item.informacion.es_controlado\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Controlado</span>\r\n                          <span *ngIf=\"item.informacion.es_surfactante\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Surfactante</span>  \r\n                        </span>\r\n                        \r\n                      </div>\r\n                    </div>\r\n                  </td> \r\n                  <td style=\"width:78px !important; text-align:center;\">{{ item.totalStockAsignado || 0 }} / {{ item.cantidad }}</td>     \r\n                  <th style=\"width:78px !important; text-align:center;\">{{ (item.listaStockAsignado)?item.listaStockAsignado.length:0 }}</th>\r\n                  <td style=\"width:21px !important; text-align:center;\">\r\n                    <span class=\"icon\" style=\"color:gray;\" *ngIf=\"item.totalStockAsignado == 0 || item.totalStockAsignado == null\"><i class=\"fa fa-circle-thin\"></i></span>\r\n                    <span class=\"icon\" style=\"color:orange;\" *ngIf=\"item.totalStockAsignado > 0 && item.totalStockAsignado < item.cantidad\"><i class=\"fa fa-minus-circle\"></i></span>\r\n                    <span class=\"icon\" style=\"color:green;\" *ngIf=\"item.totalStockAsignado == item.cantidad\"><i class=\"fa fa-check-circle\"></i></span>\r\n                  </td>\r\n                </tr>      \r\n              </tbody>\r\n              <tbody *ngIf=\"pedido.filtro.activo\">\r\n                <tr class=\"item\"  *ngFor=\"let item of pedido.filtro.paginacion.lista; let i = index;\" (click)=\"seleccionarItem(item)\" [ngClass]=\"{ 'seleccionado': item == itemSeleccionado}\">\r\n                  <td class=\"has-text-centered\">{{ item.lote }}</td>\r\n                  <td >\r\n                    <small >{{ item.clave }} <br></small>\r\n                    <!--b>{{ item.generico_nombre }}</b> <small *ngIf=\"(item.tipo == 'ME' && item.informacion)\"><b>{{ item.informacion.concentracion }}</b></small><br-->\r\n                    <div class=\"item-detalle\">\r\n                      <!--div   *ngIf=\"(item.tipo == 'ME' && item.informacion)\" style=\"line-height:1em;\">\r\n                        <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                        <small><i>{{ item.informacion.contenido }} </i></small>\r\n                      </div>\r\n                      <div   *ngIf=\"item.tipo != 'ME'\" style=\"line-height:1em;\">\r\n                        <small>{{ item.descripcion }}</small>\r\n                      </div-->\r\n\r\n                      <div style=\"line-height:1em;\">\r\n                        <small>{{ item.descripcion }}</small>\r\n                      </div>\r\n                    \r\n                      <div  style=\"padding: 0.5em 0 0.5em 0; \">\r\n                        <span *ngIf=\"(item.es_causes && item.tipo == 'ME')\" class=\"tag is-success\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">CAUSES</span>\r\n                        <span *ngIf=\"(!item.es_causes && item.tipo == 'ME')\" class=\"tag is-danger\" style=\"font-size: 0.7em !important;\">NO CAUSES</span>\r\n                        <span *ngIf=\"item.tipo == 'MC'\" class=\"tag is-warning\" style=\"font-size: 0.7em !important;\">MATERIAL CURACIÓN</span>\r\n                        <span *ngIf=\"item.es_cuadro_basico\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">Cuadro básico</span>\r\n                        \r\n                        <span *ngIf=\"(item.tipo == 'ME' && item.informacion)\">\r\n                          <span *ngIf=\"item.informacion.es_controlado\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Controlado</span>\r\n                          <span *ngIf=\"item.informacion.es_surfactante\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Surfactante</span>  \r\n                        </span>\r\n                        \r\n                      </div>\r\n                    </div>\r\n                  </td> \r\n                  <td style=\"width:78px !important; text-align:center;\">{{ item.totalStockAsignado || 0 }} / {{ item.cantidad }}</td>     \r\n                  <th style=\"width:78px !important; text-align:center;\">{{ (item.listaStockAsignado)?item.listaStockAsignado.length:0 }}</th>\r\n                  <td style=\"width:21px !important; text-align:center;\">\r\n                    <span class=\"icon\" style=\"color:gray;\" *ngIf=\"item.totalStockAsignado == 0 || item.totalStockAsignado == null\"><i class=\"fa fa-circle-thin\"></i></span>\r\n                    <span class=\"icon\" style=\"color:orange;\" *ngIf=\"item.totalStockAsignado > 0 && item.totalStockAsignado < item.cantidad\"><i class=\"fa fa-minus-circle\"></i></span>\r\n                    <span class=\"icon\" style=\"color:green;\" *ngIf=\"item.totalStockAsignado == item.cantidad\"><i class=\"fa fa-check-circle\"></i></span>\r\n                  </td>\r\n                </tr>   \r\n              </tbody>              \r\n            </table>\r\n            <paginacion style=\" width:100%; height:auto; bottom:0; left:0px; background:#FFF;\"\r\n                [total]=\"pedido.lista.length\" \r\n                [paginasTotales]=\"pedido.paginacion.totalPaginas\" \r\n                [resultadosPorPagina]=\"pedido.paginacion.resultadosPorPagina\" \r\n                [paginaActual]=\"pedido.paginacion.paginaActual\" \r\n                [indicePaginas]=\"pedido.paginacion.indice\"\r\n                (onSiguiente)=\"pedido.paginaSiguiente(); limpiarStock();\" \r\n                (onAnterior)=\"pedido.paginaAnterior(); limpiarStock();\" \r\n                (onListar)=\"pedido.listar($event);limpiarStock();\" \r\n                *ngIf=\"pedido.lista.length > 0 && pedido.lista.length > pedido.paginacion.resultadosPorPagina && !pedido.filtro.activo\"></paginacion>\r\n\r\n            <paginacion \r\n                [total]=\"pedido.filtro.lista.length\" \r\n                [paginasTotales]=\"pedido.filtro.paginacion.totalPaginas\" \r\n                [resultadosPorPagina]=\"pedido.filtro.paginacion.resultadosPorPagina\" \r\n                [paginaActual]=\"pedido.filtro.paginacion.paginaActual\" \r\n                [indicePaginas]=\"pedido.filtro.paginacion.indice\"\r\n                (onSiguiente)=\"pedido.filtro.paginaSiguiente(); limpiarStock();\" \r\n                (onAnterior)=\"pedido.filtro.paginaAnterior();  limpiarStock();\" \r\n                (onListar)=\"pedido.filtro.listar($event); limpiarStock();\" \r\n                *ngIf=\"pedido.filtro.lista.length > 0 && pedido.filtro.lista.length > pedido.filtro.paginacion.resultadosPorPagina && pedido.filtro.activo\"></paginacion>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"tile is-parent is-vertical \">\r\n        <div *ngIf=\"(capturarStock && (itemSeleccionado.cantidad_recibida < itemSeleccionado.cantidad))\" class=\"tile is-child notification\">\r\n          <div class=\"control is-grouped\">\r\n            <p class=\"control is-expanded  has-icon has-icon-right\">\r\n              <label class=\"label\">Código de Barras</label>\r\n              <input class=\"input\" autofocus type=\"text\" placeholder=\"Código de Barras\" [(ngModel)]=\"formStock.codigo_barras\">\r\n            </p>\r\n            <!--p class=\"control has-icon has-icon-right\">\r\n              <label class=\"label\">Marca</label>\r\n              <span class=\"select is-expanded\">\r\n                <select [(ngModel)]=\"formStock.marca\">\r\n                  <option *ngFor=\"let item of marcas\" [ngValue]=\"item\">{{ item.nombre }}</option>\r\n                </select>\r\n              </span>\r\n            </p-->\r\n          </div>\r\n\r\n          <div class=\"control is-grouped\">\r\n            <p class=\"control is-expanded  has-icon has-icon-right\">\r\n              <label class=\"label\">Lote</label>\r\n              <input class=\"input\" autofocus type=\"text\" placeholder=\"Lote\" [(ngModel)]=\"formStock.lote\">\r\n              <span *ngIf=\"erroresFormularioStock.lote.error\" class=\"icon is-small\" >\r\n                <i class=\"fa fa-warning\"></i>\r\n              </span>\r\n              <span *ngIf=\"erroresFormularioStock.lote.error\" class=\"help is-danger\">{{erroresFormularioStock.lote.texto}}</span>\r\n            </p>\r\n            <p class=\"control is-expanded has-icon has-icon-right\">\r\n              <label class=\"label\">Caducidad (aaaa-mm-dd)</label>\r\n              <input class=\"input\" type=\"text\" placeholder=\"aaaa-mm-dd\" [(ngModel)]=\"formStock.fecha_caducidad\">\r\n              <span *ngIf=\"erroresFormularioStock.fecha_caducidad.error\" class=\"icon is-small\" >\r\n                <i class=\"fa fa-warning\"></i>\r\n              </span>\r\n              <span *ngIf=\"erroresFormularioStock.fecha_caducidad.error\" class=\"help is-danger\">{{erroresFormularioStock.fecha_caducidad.texto}}</span>\r\n            </p>\r\n            <p class=\"control is-expanded has-icon has-icon-right\">\r\n              <label class=\"label\">Cantidad</label>\r\n              <input class=\"input\" type=\"number\" placeholder=\"Cantidad\" [(ngModel)]=\"formStock.cantidad\">\r\n              <span *ngIf=\"erroresFormularioStock.cantidad.error\" class=\"icon is-small\" >\r\n                <i class=\"fa fa-warning\"></i>\r\n              </span>\r\n              <span *ngIf=\"erroresFormularioStock.cantidad.error\" class=\"help is-danger\">{{erroresFormularioStock.cantidad.texto}}</span>\r\n            </p>\r\n          </div>\r\n\r\n          <div class=\"control is-grouped is-pulled-right \" >\r\n            <p class=\"control is-expanded\">\r\n            </p>\r\n            <p class=\"control\">\r\n                <button class=\"button is-medium is-primary \" (click)=\"asignarStock()\">\r\n                  <span class=\"icon\"><i class=\"fa fa-plus\"></i></span><span>Agregar</span>\r\n                </button>\r\n            </p>\r\n            <p class=\"control\">\r\n                <button class=\"button is-medium \"  (click)=\"cancelarCapturaStock()\">\r\n                  <span>Cancelar</span>\r\n                </button>\r\n            </p>\r\n          </div>\r\n        </div>\r\n        \r\n        <div class=\"tile is-child  notification is-white\">\r\n          <div class=\"contenedor-tabla\">\r\n            <table class=\"table\" *ngIf=\"!cargando && itemSeleccionado != null\" style=\"font-size: 0.8em;\" >\r\n              <thead>\r\n                  <tr style=\"background: #00d1b2;\">\r\n                    <th style=\"color:#FFF !important;\">Código</th>\r\n                    <!--th style=\"color:#FFF !important;\">Marca</th-->\r\n                    <th style=\"color:#FFF !important;\">Lote</th>\r\n                    <th style=\"color:#FFF !important;\">Caducidad</th>\r\n                    <th style=\"color:#FFF !important;\"><abbr title=\"Cantidad\">Cant.</abbr></th>  \r\n                    <th></th>              \r\n                  </tr>\r\n              </thead>\r\n              <tfoot>\r\n                <tr>\r\n                  <th colspan=\"4\" style=\"text-align:right\">\r\n                    <span *ngIf=\"itemSeleccionado.totalStockAsignado == itemSeleccionado.cantidad\"><span class=\"icon is-small\" ><i class=\"fa fa-check-circle\"></i></span> <span>Completo &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span> Total </span>\r\n                  </th>\r\n                  <td style=\"text-align:center\">{{ itemSeleccionado.totalStockAsignado || 0 }} / {{ itemSeleccionado.cantidad }}</td>\r\n                </tr>\r\n              </tfoot>\r\n              <tbody>\r\n                  <tr  class=\"is-unselectable\" *ngFor=\"let item of itemSeleccionado.listaStockAsignado\">\r\n                    <td>{{ item.codigo_barras}}</td>\r\n                    <!--td>{{ item.marca.nombre }}</td-->\r\n                    <td>{{ item.lote }}</td>\r\n                    <td>{{ item.fecha_caducidad | date:'dd/MM/y' }}</td>\r\n                    <td style=\"width:150px !important;\">\r\n                        <p class=\"control is-expanded\">\r\n                        <input class=\"input is-small has-text-centered\"  type=\"number\" min=\"1\" max=\"{{item.existencia}}\" placeholder=\"Cant\" [(ngModel)]=\"item.cantidad\" (change)=\"validarItemStock(item, true)\" (keyup)=\"validarItemStock(item)\">\r\n                        </p>\r\n                    </td> \r\n                    <td style=\"vertical-align: middle;\" class=\"has-text-centered\"><a  class=\"is-danger\" (click)=\"eliminarStock(item)\"><span class=\"icon\"><i class=\"fa fa-trash-o\"></i></span></a></td>                    \r\n                  </tr>\r\n              </tbody>  \r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n  </div>\r\n</div>\r\n  \r\n\r\n\r\n<div class=\"notification is-danger\" style=\"position:fixed; left:1em;  bottom:1em;\" *ngIf=\"mensajeError.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeError.mostrar = false\"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <!--p style=\"text-align:center\" ><a  class=\"button is-danger is-inverted\" (click)=\"ultimaPeticion(); mensajeError.mostrar = false\"> <span class=\"icon\"><i class=\"fa fa-refresh\"></i></span> <span>Volver a intentar</span></a></p-->\r\n</div>\r\n\r\n<div class=\"notification is-success\" style=\"position:fixed; left:1em;  bottom:1em; width: auto\" *ngIf=\"mensajeExito.mostrar\">       \r\n    <button class=\"delete\" (click)=\"mensajeExito.mostrar = false\"></button>\r\n    <p><span class=\"icon\" style=\"margin-right: 0.5em;\"><i class=\"fa fa-check-circle\"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style=\"text-align: center;\"><small >Este mensaje desaparecerá en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n\r\n<div class=\"modal is-active\" [ngClass]=\"{'is-active': mostrarDialogo}\">\r\n  <div class=\"modal-background\" (click)=\"cerrarDialogo()\"></div>\r\n  <div class=\"modal-card\" style=\"width:60%; height: 90%;\">\r\n    <header class=\"modal-card-head\" style=\"background: #00d1b2;\">\r\n      <div class=\"container is-fluid\"  style=\"width:100%;\">\r\n          <h1 class=\"title\" style=\"color:#FFF;\">\r\n            <span class=\"icon is-medium\"><i class=\"fa fa-check\"></i></span> Finalizar Recepción \r\n          </h1>\r\n      </div>            \r\n      <a class=\"button  is-primary\" style=\"position:absolute; top:1em; right:1em;\" (click)=\"cerrarDialogo()\"><span class=\"icon \"><i class=\"fa fa-close\"></i></span></a>\r\n    </header>\r\n    <section class=\"modal-card-body\" style=\"padding:0px;\" >\r\n      <div style=\"padding: 1em;\">\r\n        <form name=\"form\" novalidate [formGroup]=\"formularioRecepcion\">\r\n          <label class=\"label\">Nombre de quien entrega:</label>\r\n          <p class=\"control is-expanded  has-icon has-icon-right\">\r\n            <input type=\"text\" class=\"input is-fullwidth\" [ngClass]=\"{'is-danger': formularioTieneError('entrega','required')}\" formControlName=\"entrega\"/>\r\n            <span class=\"icon is-small\" *ngIf=\"formularioTieneError('entrega','required')\">\r\n              <i class=\"fa fa-warning\"></i>\r\n            </span>\r\n            <span class=\"help is-danger\" *ngIf=\"formularioTieneError('entrega','required')\">Este campo es requerido.</span>\r\n          </p>\r\n\r\n          <label class=\"label\">Nombre de quien recibe:</label>\r\n          <p class=\"control is-expanded  has-icon has-icon-right\">\r\n            <input type=\"text\" class=\"input is-fullwidth\" [ngClass]=\"{'is-danger': formularioTieneError('recibe','required')}\" formControlName=\"recibe\"/>\r\n            <span class=\"icon is-small\" *ngIf=\"formularioTieneError('recibe','required')\">\r\n              <i class=\"fa fa-warning\"></i>\r\n            </span>\r\n            <span class=\"help is-danger\" *ngIf=\"formularioTieneError('recibe','required')\">Este campo es requerido.</span>\r\n          </p>\r\n\r\n          <label class=\"label\">Fecha (aaaa-mm-dd):</label>\r\n          <p class=\"control is-expanded  has-icon has-icon-right\">\r\n            <input type=\"text\" class=\"input is-fullwidth\" placeholder=\"aaaa-mm-dd\" [ngClass]=\"{'is-danger': formularioTieneError('fecha_movimiento','required')}\" formControlName=\"fecha_movimiento\" />\r\n            <span class=\"icon is-small\" *ngIf=\"formularioTieneError('fecha_movimiento','required')\">\r\n              <i class=\"fa fa-warning\"></i>\r\n            </span>\r\n            <span class=\"help is-danger\" *ngIf=\"formularioTieneError('fecha_movimiento','required')\">Este campo es requerido.</span>\r\n          </p>\r\n          \r\n          <div class=\"control\">\r\n            <textarea name=\"observaciones\" class=\"textarea\" placeholder=\"Observaciones\"  formControlName=\"observaciones\"></textarea>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </section>\r\n    <footer class=\"\" style=\"position:relative; padding:1em;background: #FFF; border-top:1px solid #EEE; border-radius:0 0 0.8em 0.8em \" >\r\n      <div class=\"columns\">\r\n          <div class=\"column\" ></div>\r\n          <div class=\"column is-4\" style=\"text-align:right; \" *ngIf=\"statusRecepcion != 'FI'\">\r\n            <div style=\"margin:1em;\">\r\n            <a  class=\"button is-primary\" style=\"width:45%; margin-right:5%;\" (click)=\"guardar(true)\"> <span class=\"icon\"><i class=\"fa fa-check\"></i></span> <span>Concluir</span></a>\r\n            </div>\r\n          </div>\r\n        </div> \r\n    </footer>\r\n  </div>\r\n</div>\r\n\r\n"

/***/ }),

/***/ "../../../../../src/app/farmacia/pedidos/recepcion/recepcion.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_observable_of__ = __webpack_require__("../../../../rxjs/add/observable/of.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_observable_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_rxjs_add_observable_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw__ = __webpack_require__("../../../../rxjs/add/observable/throw.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_debounceTime__ = __webpack_require__("../../../../rxjs/add/operator/debounceTime.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_debounceTime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_debounceTime__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_distinctUntilChanged__ = __webpack_require__("../../../../rxjs/add/operator/distinctUntilChanged.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_distinctUntilChanged___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_distinctUntilChanged__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_map__ = __webpack_require__("../../../../rxjs/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_map__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_switchMap__ = __webpack_require__("../../../../rxjs/add/operator/switchMap.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_switchMap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_switchMap__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_catch__ = __webpack_require__("../../../../rxjs/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_catch___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_catch__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__pedidos_pedidos_service__ = __webpack_require__("../../../../../src/app/farmacia/pedidos/pedidos.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__recepcion_service__ = __webpack_require__("../../../../../src/app/farmacia/pedidos/recepcion/recepcion.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__stock_stock_service__ = __webpack_require__("../../../../../src/app/farmacia/stock/stock.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__pedidos_pedido__ = __webpack_require__("../../../../../src/app/farmacia/pedidos/pedido.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__mensaje__ = __webpack_require__("../../../../../src/app/mensaje.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RecepcionComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};
















var RecepcionComponent = (function () {
    function RecepcionComponent(title, route, pedidosService, recepcionService, stockService) {
        this.title = title;
        this.route = route;
        this.pedidosService = pedidosService;
        this.recepcionService = recepcionService;
        this.stockService = stockService;
        this.cargando = false;
        this.guardando = false;
        this.cargandoStock = false;
        this.capturarStock = false;
        this.mostrarDialogo = false;
        this.erroresFormularioStock = { cantidad: { error: false }, lote: { error: false }, fecha_caducidad: { error: false } };
        this.statusRecepcion = 'NV';
        // # SECCION: Esta sección es para mostrar mensajes
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_15__mensaje__["a" /* Mensaje */]();
        this.mensajeAdvertencia = new __WEBPACK_IMPORTED_MODULE_15__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_15__mensaje__["a" /* Mensaje */]();
        // # FIN SECCION  
        //private marcas = [{id:1,nombre:'Sin Especificar'}];
        this.formStock = {};
        this.lotesSurtidos = [];
        this.listaStock = [];
        this.claveInsumoSeleccionado = null;
        this.claveNoSolicitada = false;
        this.itemSeleccionado = null;
        this.formularioTieneError = function (atributo, error) {
            return (this.formularioRecepcion.get(atributo).hasError(error) && this.formularioRecepcion.get(atributo).touched);
        };
        this.fb = new __WEBPACK_IMPORTED_MODULE_2__angular_forms__["FormBuilder"]();
        var now = new Date();
        var day = ("0" + now.getDate()).slice(-2);
        var month = ("0" + (now.getMonth() + 1)).slice(-2);
        var today = now.getFullYear() + "-" + (month) + "-" + (day);
        this.formularioRecepcion = this.fb.group({
            entrega: ['', [__WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required]],
            recibe: ['', [__WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required]],
            fecha_movimiento: [today, [__WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required]],
            observaciones: ''
        });
    }
    RecepcionComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.title.setTitle('Surtir pedido / Almacén');
        /*if(this.marcas.length == 1){
          this.formStock.marca = this.marcas[0];
        }*/
        this.route.params.subscribe(function (params) {
            _this.id = params['id']; // Se puede agregar un simbolo + antes de la variable params para volverlo number
            //this.cargarDatos();
        });
        this.cargando = true;
        //this.pedidosService.ver(this.id).subscribe(
        this.recepcionService.verRecepcionPedido(this.id).subscribe(function (pedido) {
            _this.cargando = false;
            _this.pedido = new __WEBPACK_IMPORTED_MODULE_14__pedidos_pedido__["a" /* Pedido */](true);
            _this.pedido.paginacion.resultadosPorPagina = 10;
            _this.pedido.filtro.paginacion.resultadosPorPagina = 10;
            _this.folio = pedido.folio;
            var recepcion_insumos = {};
            if (pedido.recepciones.length == 1) {
                var recepcion_insumos_guardados = pedido.recepciones[0].entrada_abierta.insumos;
                for (var i in recepcion_insumos_guardados) {
                    var insumo = recepcion_insumos_guardados[i];
                    if (!recepcion_insumos[insumo.stock.clave_insumo_medico]) {
                        recepcion_insumos[insumo.stock.clave_insumo_medico] = {
                            cantidad: 0,
                            stock: []
                        };
                    }
                    recepcion_insumos[insumo.stock.clave_insumo_medico].cantidad += +insumo.cantidad;
                    insumo.stock.cantidad = +insumo.cantidad;
                    recepcion_insumos[insumo.stock.clave_insumo_medico].stock.push(insumo.stock);
                }
                for (var clave in recepcion_insumos) {
                    _this.lotesSurtidos.push({ clave: clave, cantidad: recepcion_insumos[clave].cantidad });
                }
                _this.statusRecepcion = 'BR';
            }
            if (pedido.status == 'FI') {
                _this.statusRecepcion = 'FI';
            }
            for (var i_1 in pedido.insumos) {
                var dato = pedido.insumos[i_1];
                var insumo = dato.insumos_con_descripcion;
                insumo.cantidad = +dato.cantidad_solicitada;
                insumo.cantidad_recibida = +dato.cantidad_recibida;
                insumo.monto = +dato.monto_solicitado;
                insumo.precio = +dato.precio_unitario;
                insumo.totalStockAsignado = +dato.cantidad_recibida;
                if (recepcion_insumos[insumo.clave]) {
                    insumo.listaStockAsignado = [];
                    insumo.totalStockAsignado += recepcion_insumos[insumo.clave].cantidad;
                    for (var j in recepcion_insumos[insumo.clave].stock) {
                        var stock = recepcion_insumos[insumo.clave].stock[j];
                        insumo.listaStockAsignado.push({
                            codigo_barras: stock.codigo_barras,
                            //marca: stock.marca,
                            lote: stock.lote,
                            fecha_caducidad: stock.fecha_caducidad,
                            cantidad: stock.cantidad,
                        });
                    }
                }
                _this.pedido.lista.push(insumo);
            }
            pedido.insumos = undefined;
            _this.pedido.datosImprimir = pedido;
            _this.pedido.indexar();
            _this.pedido.listar(1);
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_15__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError.mostrar;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
                else {
                    _this.mensajeError.texto = e.error;
                }
            }
            catch (e) {
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    RecepcionComponent.prototype.seleccionarItem = function (item) {
        this.itemSeleccionado = item;
        this.capturarStock = true;
        this.formStock = {};
        this.erroresFormularioStock = { cantidad: { error: false }, lote: { error: false }, fecha_caducidad: { error: false } };
        /*if(this.marcas.length == 1){
          this.formStock.marca = this.marcas[0];
        }*/
        //this.buscarStockApi(null,item.clave)
    };
    RecepcionComponent.prototype.buscar = function (e, input, inputAnterior, parametros) {
        var term = input.value;
        // Quitamos la busqueda
        if (e.keyCode == 27) {
            e.preventDefault();
            e.stopPropagation();
            input.value = "";
            inputAnterior.value = "";
            this.pedido.filtro.activo = false;
            this.pedido.filtro.lista = [];
            return;
        }
        //Verificamos que la busqueda no sea la misma que la anterior para no filtrar en vano
        if (inputAnterior.value == term) {
            return;
        }
        e.preventDefault();
        e.stopPropagation();
        inputAnterior.value = term;
        if (term != "") {
            this.pedido.filtro.activo = true;
        }
        else {
            this.pedido.filtro.activo = false;
            this.pedido.filtro.lista = [];
            return;
        }
        var arregloResultados = [];
        var _loop_1 = function (i) {
            var termino = parametros[i].input.value;
            if (termino == "") {
                return "continue";
            }
            var listaFiltrada = this_1.pedido.lista.filter(function (item) {
                var cadena = "";
                var campos = parametros[i].campos;
                for (var l in campos) {
                    try {
                        // Esto es por si escribieron algo como "objeto.propiedad" en lugar de: "propiedad"
                        var prop = campos[l].split(".");
                        if (prop.length > 1) {
                            cadena += " " + item[prop[0]][prop[1]].toLowerCase();
                        }
                        else {
                            cadena += " " + item[campos[l]].toLowerCase();
                        }
                    }
                    catch (e) { }
                }
                return cadena.includes(termino.toLowerCase());
            });
            arregloResultados.push(listaFiltrada);
        };
        var this_1 = this;
        for (var i in parametros) {
            _loop_1(i);
        }
        if (arregloResultados.length > 1) {
            // Ordenamos Ascendente
            arregloResultados = arregloResultados.sort(function (a, b) { return a.length - b.length; });
            var filtro = arregloResultados[0];
            var match = [];
            for (var k = 1; k < arregloResultados.length; k++) {
                for (var i in arregloResultados[k]) {
                    for (var j in filtro) {
                        if (arregloResultados[k][i] === filtro[j]) {
                            match.push(filtro[j]);
                        }
                    }
                }
                ;
            }
            this.pedido.filtro.lista = match;
        }
        else {
            this.pedido.filtro.lista = arregloResultados[0];
        }
        this.pedido.filtro.indexar(false);
        this.pedido.filtro.paginacion.paginaActual = 1;
        this.pedido.filtro.listar(1);
    };
    RecepcionComponent.prototype.buscarStockApi = function (term, clave) {
        var _this = this;
        if (clave === void 0) { clave = null; }
        this.cargandoStock = true;
        this.stockService.buscar(term, clave).subscribe(function (resultado) {
            _this.cargandoStock = false;
            _this.claveNoSolicitada = false;
            _this.listaStock = resultado;
            if (resultado.length > 0) {
                _this.claveInsumoSeleccionado = resultado[0].clave_insumo_medico;
                var existeClaveEnPedido = false;
                for (var i = 0; i < _this.pedido.lista.length; i++) {
                    if (_this.pedido.lista[i].clave == _this.claveInsumoSeleccionado) {
                        // Calculamos la pagina
                        _this.pedido.filtro.activo = false;
                        var pag = Math.ceil((i + 1) / _this.pedido.paginacion.resultadosPorPagina);
                        _this.pedido.listar(pag);
                        _this.itemSeleccionado = _this.pedido.lista[i];
                        existeClaveEnPedido = true;
                    }
                }
                if (!existeClaveEnPedido) {
                    _this.claveNoSolicitada = true;
                    _this.listaStock = [];
                }
                else {
                    _this.verificarItemsAsignadosStockApi();
                }
            }
            else {
                //
            }
            console.log("Stock cargado.");
        }, function (error) {
            _this.cargandoStock = false;
            _this.mensajeError.mostrar = true;
            _this.ultimaPeticion = function () { };
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    RecepcionComponent.prototype.finalizar = function () {
        this.mostrarDialogo = true;
    };
    RecepcionComponent.prototype.cerrarDialogo = function () {
        this.mostrarDialogo = false;
    };
    RecepcionComponent.prototype.guardar = function (finalizar) {
        var _this = this;
        if (finalizar === void 0) { finalizar = false; }
        this.guardando = true;
        //console.log(this.pedido);
        var guardar_recepcion;
        if (finalizar) {
            this.formularioRecepcion.get('entrega').markAsTouched();
            this.formularioRecepcion.get('recibe').markAsTouched();
            this.formularioRecepcion.get('fecha_movimiento').markAsTouched();
            if (!this.formularioRecepcion.valid) {
                return false;
            }
            if (confirm('Atención la recepción ya no podra editarse, Esta seguro que desea concluir el movimiento?')) {
                guardar_recepcion = this.formularioRecepcion.value;
                guardar_recepcion.status = 'FI';
                guardar_recepcion.stock = [];
            }
            else {
                return false;
            }
        }
        else {
            guardar_recepcion = { status: 'BR', observaciones: '', stock: [] };
        }
        for (var i in this.pedido.lista) {
            var item = this.pedido.lista[i];
            if (item.totalStockAsignado > 0) {
                for (var j in item.listaStockAsignado) {
                    var stock = {
                        clave_insumo_medico: item.clave,
                        lote: item.listaStockAsignado[j].lote,
                        fecha_caducidad: item.listaStockAsignado[j].fecha_caducidad,
                        cantidad: item.listaStockAsignado[j].cantidad,
                        existencia: item.listaStockAsignado[j].cantidad,
                        codigo_barras: item.listaStockAsignado[j].codigo_barras,
                        precio_unitario: 0,
                        precio_total: 0
                    };
                    guardar_recepcion.stock.push(stock);
                }
            }
        }
        this.recepcionService.guardarRecepcionPedido(this.pedido.datosImprimir.id, guardar_recepcion).subscribe(function (pedido) {
            _this.mostrarDialogo = false;
            _this.guardando = false;
            _this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_15__mensaje__["a" /* Mensaje */](true);
            if (guardar_recepcion.status == 'FI') {
                _this.statusRecepcion = 'FI';
                _this.mensajeExito.texto = 'Recepción Finalizada';
            }
            else {
                _this.statusRecepcion = 'BR';
                _this.mensajeExito.texto = 'Datos Guardados';
            }
            _this.mensajeExito.mostrar = true;
            console.log('Recepción guardada');
            //console.log(pedido);
            //this.router.navigate(['/farmacia/pedidos/editar/'+pedido.id]);
            //hacer cosas para dejar editar
        }, function (error) {
            _this.guardando = false;
            _this.mostrarDialogo = false;
            console.log(error);
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_15__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError.texto = 'No especificado';
            _this.mensajeError.mostrar = true;
            try {
                var e = error.json();
                console.log(e);
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
                // Problema de validación
                if (error.status == 409) {
                    _this.mensajeError.texto = "Por favor verfique los campos marcados en rojo.";
                    /*for (var input in e.error){
                      // Iteramos todos los errores
                      for (var i in e.error[input]){
      
                        if(input == 'id' && e.error[input][i] == 'unique'){
                          this.usuarioRepetido = true;
                        }
                        if(input == 'id' && e.error[input][i] == 'email'){
                          this.usuarioInvalido = true;
                        }
                      }
                    }*/
                }
                if (error.status == 500) {
                    if (e.error) {
                        _this.mensajeError.texto = e.error;
                        _this.mensajeError.cuentaAtras = 1000;
                    }
                }
            }
            catch (e) {
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    console.log(e);
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
        console.log(guardar_recepcion);
    };
    RecepcionComponent.prototype.buscarStock = function (e, input, term) {
        if (e.keyCode == 13) {
            e.preventDefault();
            e.stopPropagation();
            if (term == "") {
                return false;
            }
            this.buscarStockApi(term);
            input.select();
            return false;
        }
        return false;
    };
    RecepcionComponent.prototype.limpiarStock = function () {
        this.capturarStock = false;
        this.listaStock = [];
        this.itemSeleccionado = null;
    };
    RecepcionComponent.prototype.eliminarStock = function (item) {
        var index = this.itemSeleccionado.listaStockAsignado.indexOf(item);
        this.itemSeleccionado.listaStockAsignado.splice(index, 1);
        this.calcularTotalStockItem();
        this.verificarItemsAsignadosStockApi();
    };
    RecepcionComponent.prototype.asignarStock = function () {
        this.erroresFormularioStock = { cantidad: { error: false }, lote: { error: false }, fecha_caducidad: { error: false } };
        var errores = 0;
        if (!this.formStock.cantidad) {
            this.erroresFormularioStock.cantidad = { error: true, texto: 'Este campo es requerido.' };
            errores++;
        }
        else if (this.formStock.cantidad <= 0) {
            this.erroresFormularioStock.cantidad = { error: true, texto: 'La cantidad recibida debe ser mayor a 0.' };
            errores++;
        }
        if (this.itemSeleccionado.tiene_fecha_caducidad && !this.formStock.fecha_caducidad) {
            this.erroresFormularioStock.fecha_caducidad = { error: true, texto: 'Este campo es requerido.' };
            errores++;
            //}else if(this.itemSeleccionado.tiene_fecha_caducidad){
        }
        else if (this.formStock.fecha_caducidad) {
            var fecha = this.formStock.fecha_caducidad.split('-');
            var fecha_invalida = false;
            if (fecha.length != 3) {
                fecha_invalida = true;
            }
            else if (fecha[0].length != 4 || fecha[1].length != 2 || fecha[2].length != 2) {
                fecha_invalida = true;
            }
            else if (parseInt(fecha[1]) < 1 || parseInt(fecha[1]) > 12) {
                fecha_invalida = true;
            }
            else if (parseInt(fecha[2]) < 1 || parseInt(fecha[2]) > 31) {
                fecha_invalida = true;
            }
            if (fecha_invalida) {
                this.erroresFormularioStock.fecha_caducidad = { error: true, texto: 'El formato de fecha no es correcto.' };
                errores++;
            }
            else {
                var d1 = new Date();
                var d2 = new Date(fecha[0], (parseInt(fecha[1]) - 1), parseInt(fecha[2]));
                var meses = void 0;
                meses = (d2.getFullYear() - d1.getFullYear()) * 12;
                meses -= d1.getMonth();
                meses += d2.getMonth();
                if (meses < 6) {
                    this.erroresFormularioStock.fecha_caducidad = { error: true, texto: 'La fecha de caducidad no puede ser menor a 6 meses.' };
                    errores++;
                }
                console.log(meses);
            }
        }
        if (!this.formStock.lote) {
            this.erroresFormularioStock.lote = { error: true, texto: 'Este campo es requerido.' };
            errores++;
        }
        if (errores) {
            return false;
        }
        if (this.itemSeleccionado.listaStockAsignado == null) {
            this.itemSeleccionado.listaStockAsignado = [];
        }
        var acumulado = this.itemSeleccionado.cantidad_recibida;
        for (var i in this.itemSeleccionado.listaStockAsignado) {
            acumulado += this.itemSeleccionado.listaStockAsignado[i].cantidad;
        }
        acumulado += this.formStock.cantidad;
        if (acumulado <= this.itemSeleccionado.cantidad) {
            this.itemSeleccionado.totalStockAsignado = acumulado;
            this.itemSeleccionado.listaStockAsignado.push({
                codigo_barras: this.formStock.codigo_barras,
                //marca: this.formStock.marca,
                lote: this.formStock.lote,
                fecha_caducidad: this.formStock.fecha_caducidad,
                cantidad: this.formStock.cantidad,
            });
            this.resetearFormStock();
            this.calcularTotalStockItem();
        }
        else {
            this.erroresFormularioStock.cantidad = { error: true, texto: 'La cantidad recibida supera la cantidad solicitada.' };
            //Ya no se puede asignar mas
        }
    };
    RecepcionComponent.prototype.cancelarCapturaStock = function () {
        this.resetearFormStock(true);
    };
    RecepcionComponent.prototype.resetearFormStock = function (completo) {
        if (completo === void 0) { completo = false; }
        if (completo) {
            this.formStock = {};
        }
        else {
            this.formStock.lote = undefined;
            this.formStock.fecha_caducidad = undefined;
            this.formStock.cantidad = undefined;
        }
        /*if(this.marcas.length == 1){
          this.formStock.marca = this.marcas[0];
        }*/
    };
    RecepcionComponent.prototype.validarItemStock = function (item, setMaxVal) {
        if (setMaxVal === void 0) { setMaxVal = false; }
        if (item.cantidad == null) {
            if (setMaxVal) {
                this.asignarMaximoPosible(item);
            }
            this.calcularTotalStockItem();
            return;
        }
        var cantidad = parseInt(item.cantidad);
        if (isNaN(cantidad)) {
            this.asignarMaximoPosible(item);
            this.calcularTotalStockItem();
            return;
        }
        if (cantidad <= 0) {
            this.asignarMaximoPosible(item);
            this.calcularTotalStockItem();
            return;
        }
        if (cantidad > item.existencia) {
            item.cantidad = item.existencia;
        }
        if (!this.verificarTotalStockItem()) {
            this.asignarMaximoPosible(item);
        }
        this.calcularTotalStockItem();
    };
    RecepcionComponent.prototype.asignarMaximoPosible = function (item) {
        var acumulado = 0;
        for (var i in this.itemSeleccionado.listaStockAsignado) {
            if (this.itemSeleccionado.listaStockAsignado[i] != item) {
                acumulado += this.itemSeleccionado.listaStockAsignado[i].cantidad;
            }
        }
        var faltante = this.itemSeleccionado.cantidad - acumulado;
        if (faltante >= item.existencia) {
            item.cantidad = item.existencia;
        }
        if (faltante < item.existencia) {
            item.cantidad = faltante;
        }
    };
    RecepcionComponent.prototype.verificarItemsAsignadosStockApi = function () {
        for (var i in this.listaStock) {
            this.listaStock[i].asignado = false;
            for (var j in this.itemSeleccionado.listaStockAsignado) {
                if (this.itemSeleccionado.listaStockAsignado[j].id == this.listaStock[i].id) {
                    this.listaStock[i].asignado = true;
                    break;
                }
            }
        }
    };
    RecepcionComponent.prototype.verificarTotalStockItem = function () {
        var acumulado = 0;
        for (var i in this.itemSeleccionado.listaStockAsignado) {
            acumulado += this.itemSeleccionado.listaStockAsignado[i].cantidad;
        }
        return this.itemSeleccionado.totalStockAsignado <= this.itemSeleccionado.cantidad;
    };
    RecepcionComponent.prototype.calcularTotalStockItem = function () {
        var acumulado = this.itemSeleccionado.cantidad_recibida;
        for (var i in this.itemSeleccionado.listaStockAsignado) {
            acumulado += this.itemSeleccionado.listaStockAsignado[i].cantidad;
        }
        if (acumulado == 0) {
            var indice = 0;
            for (var i in this.lotesSurtidos) {
                if (this.lotesSurtidos[i].clave == this.itemSeleccionado.clave) {
                    this.lotesSurtidos.splice(indice, 1);
                }
                indice++;
            }
        }
        else {
            var bandera = false;
            for (var i in this.lotesSurtidos) {
                if (this.lotesSurtidos[i].clave == this.itemSeleccionado.clave) {
                    bandera = true;
                    this.lotesSurtidos[i].cantidad = acumulado;
                }
            }
            if (!bandera) {
                this.lotesSurtidos.push({ clave: this.itemSeleccionado.clave, cantidad: acumulado });
            }
        }
        this.itemSeleccionado.totalStockAsignado = acumulado;
    };
    // # SECCION: Eventos del teclado
    RecepcionComponent.prototype.keyboardInput = function (e) {
        if (e.keyCode == 32 && e.ctrlKey) {
            event.preventDefault();
            event.stopPropagation();
        }
    };
    return RecepcionComponent;
}());
RecepcionComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-recepcion',
        template: __webpack_require__("../../../../../src/app/farmacia/pedidos/recepcion/recepcion.component.html"),
        styles: [__webpack_require__("../../../../../src/app/farmacia/pedidos/recepcion/recepcion.component.css")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_3__angular_router__["c" /* ActivatedRoute */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__angular_router__["c" /* ActivatedRoute */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_11__pedidos_pedidos_service__["a" /* PedidosService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_11__pedidos_pedidos_service__["a" /* PedidosService */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_12__recepcion_service__["a" /* RecepcionService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_12__recepcion_service__["a" /* RecepcionService */]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_13__stock_stock_service__["a" /* StockService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_13__stock_stock_service__["a" /* StockService */]) === "function" && _e || Object])
], RecepcionComponent);

var _a, _b, _c, _d, _e;
//# sourceMappingURL=C:/wamp/www/x3-C/src/recepcion.component.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/pedidos/recepcion/recepcion.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/@angular/http.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__ = __webpack_require__("../../../../../src/app/jwt-request.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RecepcionService; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var RecepcionService = RecepcionService_1 = (function () {
    function RecepcionService(http, jwtRequest) {
        this.http = http;
        this.jwtRequest = jwtRequest;
    }
    RecepcionService.prototype.verRecepcionPedido = function (id) {
        return this.jwtRequest.get(RecepcionService_1.URL, id, {}).map(function (response) {
            var jsonData = response.json().data;
            /* var roles:string[] = []
                jsonData.roles.map(item => {
                roles.push(""+item.id)
                })*/
            var pedido = jsonData;
            //usuario.roles = roles;
            return pedido;
        });
    };
    RecepcionService.prototype.guardarRecepcionPedido = function (id, recepcion) {
        return this.jwtRequest.put(RecepcionService_1.URL, id, recepcion).map(function (response) { return response.json().data; });
    };
    return RecepcionService;
}());
RecepcionService.URL = "recepcion-pedido";
RecepcionService = RecepcionService_1 = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__["a" /* JwtRequestService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__["a" /* JwtRequestService */]) === "function" && _b || Object])
], RecepcionService);

var RecepcionService_1, _a, _b;
//# sourceMappingURL=C:/wamp/www/x3-C/src/recepcion.service.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/pedidos/ver/ver.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".top-bar {\r\n    padding: 1em ; \r\n    font-size: 1.2em; \r\n    background: #FFF;    \r\n    color: #333;\r\n}\r\n.contenedor-pedido.con-tabs .top-bar {\r\n    padding: 0.5em ; \r\n}\r\n.top-bar.is-primary {\r\n    background: #00d1b2;\r\n    color:#FFF\r\n}\r\n.top-bar.is-dark {\r\n    background: #333;\r\n    color:#FFF\r\n}\r\n.contenedor-pedido {\r\n    background: #FFF; border-radius: 1em; overflow: hidden;\r\n}\r\n.contenedor-pedido.con-tabs {\r\n    border-top-left-radius: 0px !important;\r\n    border-top-right-radius: 0px !important;\r\n}\r\n\r\n", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/farmacia/pedidos/ver/ver.component.html":
/***/ (function(module, exports) {

module.exports = "<menu-farmacia [modulo]=\"'Pedidos'\" [icono]=\"'assets/icono-pedidos.svg'\" [url]=\"'/almacen/pedidos'\"></menu-farmacia>\r\n\r\n<div style=\"position:relative; padding-top:70px; margin-left: 1.5%; display:block; width:97%; height:100% !important;\" *ngIf=\"pedido\">    \r\n  <div class=\"tile is-ancestor is-vertical\" style=\"height:100% !important; max-height:100% !important;\">\r\n    <div class=\"tile\">\r\n      <div class=\"tile is-4 is-parent is-vertical \">\r\n        <div class=\"tile is-child\">\r\n            <div style=\"background: #FFF; border-radius: 1em; overflow: hidden;\">\r\n                <section class=\"hero is-primary\" >\r\n                <h1 class=\"title\" style=\"margin:0.5em;\" >\r\n                    <span class=\"icon is-medium\"><i class=\"fa fa-file-text\"></i></span> Detalles del pedido\r\n                </h1>\r\n                <div class=\"control is-grouped\">\r\n                    <a class=\"button is-success is-fullwidth\" title=\"Imprimir Excel\" (click)=\"imprimirExcel(); \" *ngIf=\"esEditar\">\r\n                        <span class=\"icon\"><i class=\"fa fa-file-excel-o\"></i></span> &nbsp; Descargar Excel\r\n                    </a>\r\n                    <a class=\"button is-info is-fullwidth\" [ngClass]=\"{ 'is-loading': cargandoPdf, 'is-inverted': !cargandoPdf }\" title=\"Imprimir PDF\" (click)=\"mostrarDialogo(); \" *ngIf=\"esEditar\">\r\n                        <span class=\"icon\"><i class=\"fa fa-print\"></i></span> &nbsp; Imprimir Pedido\r\n                    </a>\r\n                </div>\r\n                </section>\r\n\r\n                <div style=\"padding: 1em;\">\r\n                    <label class=\"label\">Folio:</label>\r\n                    <p class=\"control\">\r\n                        <input type=\"text\" class=\"input is-fullwidth\" readonly=\"readonly\" value=\"{{(pedido.datosImprimir)?pedido.datosImprimir.folio:'S/F'}}\"/>\r\n                    </p>\r\n\r\n                    <label class=\"label\">Almacén:</label>\r\n                    <p class=\"control\">\r\n                        <input type=\"text\" class=\"input is-fullwidth\" readonly=\"readonly\" value=\"{{(pedido.datosImprimir)?pedido.datosImprimir.almacen_solicitante.nombre:'Sin almacen asignado'}}\"/>\r\n                    </p>\r\n\r\n                    <label class=\"label\">Nombre del Pedido:</label>\r\n                    <p class=\"control\">\r\n                        <input type=\"text\" class=\"input is-fullwidth\" readonly=\"readonly\" value=\"{{(pedido.datosImprimir)?pedido.datosImprimir.descripcion:''}}\"/>\r\n                    </p>\r\n\r\n                    <label class=\"label\">Fecha:</label>\r\n                    <p class=\"control\">\r\n                        <input type=\"text\" class=\"input is-fullwidth\" readonly=\"readonly\" value=\"{{(pedido.datosImprimir)?pedido.datosImprimir.fecha:''}}\"/>\r\n                    </p>\r\n\r\n                    <div class=\"control\">\r\n                        <textarea name=\"observaciones\" class=\"textarea\" placeholder=\"Observaciones\"  readonly=\"readonly\">{{(pedido.datosImprimir)?pedido.datosImprimir.observaciones:''}}</textarea>\r\n                    </div>\r\n\r\n                    <label class=\"label\">Datos del Proveedor:</label>\r\n                    <div *ngIf=\"pedido.datosImprimir\" class=\"level-item\">\r\n                        <input *ngIf=\"pedido.datosImprimir.almacen_proveedor\" type=\"text\" class=\"input is-fullwidth\" readonly=\"readonly\" value=\"{{pedido.datosImprimir.almacen_proveedor.nombre}}\"/>\r\n                        <div *ngIf=\"pedido.datosImprimir.proveedor\" >\r\n                        <p class=\"subtitle is-5\">\r\n                            {{pedido.datosImprimir.proveedor.nombre}}<br>\r\n                            <small>\r\n                            {{pedido.datosImprimir.proveedor.contacto}}<br>\r\n                            {{pedido.datosImprimir.proveedor.email}}<br>\r\n                            Cel: {{pedido.datosImprimir.proveedor.celular}}\r\n                            </small>\r\n                        </p>\r\n                        </div>\r\n                    </div>\r\n                    <hr>\r\n                    <div class=\"control is-grouped\" style=\"padding-top:10px;\" *ngIf=\"!cargando\">\r\n                        <p class=\"control\" *ngIf=\"pedido.status != 'FI' && pedido.datosImprimir.tipo_pedido_id == 'PA'\">\r\n                        <a class=\"button is-primary\" routerLink=\"/almacen/pedidos/recepcion/{{pedido.id}}\"> <span class=\"icon\"><i class=\"fa fa-truck\"></i></span> <span>Recibir Pedido</span></a>\r\n                        </p>\r\n                        <p class=\"control\">\r\n                        <a class=\"button is-white\" routerLink=\"{{obtenerDireccion()}}\" >Ir a la lista</a>\r\n                        </p>                \r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <br>\r\n        </div>\r\n        \r\n        <div class=\"tile is-child  notification is-white\">\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"tile is-parent is-vertical\">\r\n        <div class=\"tile is-child\" >\r\n          <div class=\"contenedor-pedido\" >\r\n            <div class=\"top-bar\" [ngClass]=\"{'is-primary':!pedido.filtro.activo,'is-dark': pedido.filtro.activo }\">\r\n                <span *ngIf=\"!pedido.filtro.activo\">Claves: {{ pedido.lista.length }} Insumos: {{pedido.totalInsumos | number}} Total: $ {{ pedido.totalMonto | number: '1.2-2' }}</span>\r\n                <span *ngIf=\"pedido.filtro.activo\"><span class=\"icon\"><i class=\"fa fa-search\"></i></span> Resultados: {{ pedido.filtro.lista.length }}</span>\r\n                <!--a class=\"button is-primary  is-pulled-right\" [ngClass]=\"{ 'is-inverted': pedido.filtro.activo }\" style=\"margin-top:-0.25em;\" title=\"Recepciones\" (click)=\"toggleModalRecepciones(); \">\r\n                    <span class=\"icon\"><i class=\"fa fa-file\"></i></span><span>Recepciones: {{pedido.datosImprimir.recepciones.length}}</span>\r\n                </a-->\r\n            </div> \r\n\r\n            <div class=\"is-fullwidth has-text-centered\" *ngIf=\"cargando\">\r\n                <br>\r\n                <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n            \r\n            <table class=\"table is-unselectable\" *ngIf=\"!cargando\" style=\"font-size: 0.8em;\">\r\n                <thead>\r\n                    <tr  >\r\n                        <th style=\"width:41px;vertical-align: middle;\" class=\"has-text-centered\" >Lote</th>\r\n                        <th class=\"is-hidden-mobile\" style=\"width:118px;\">\r\n                        <p class=\"control is-expanded\" >\r\n                            <input type=\"hidden\" #searchBoxClavePrevia >\r\n                            <!--input class=\"input is-small\" type=\"text\" placeholder=\"Clave\" #searchBoxClave id=\"search-box-clave-{{indexPedido}}\" (keyup)=\"buscar($event,searchBoxClave, searchBoxClavePrevia,[{ input: searchBoxDescripcion, campos: ['generico','informacion.concentracion','informacion.presentacion']}, { input: searchBoxClave, campos: ['clave']}])\"-->\r\n                            <input class=\"input is-small\" type=\"text\" placeholder=\"Filtrar\" #searchBoxClave id=\"search-box-clave-{{indexPedido}}\" (keyup)=\"buscar($event,searchBoxClave, searchBoxClavePrevia,[{ input: searchBoxClave, campos: ['clave','descripcion']}])\">\r\n                        </p>\r\n                        </th>\r\n                        <!--th class=\"is-hidden-mobile\">\r\n                        <p class=\"control is-expanded\">\r\n                            <input type=\"hidden\" #searchBoxDescripcionPrevia >\r\n                            <input class=\"input is-small\" type=\"text\" placeholder=\"Genérico\" #searchBoxDescripcion id=\"search-box-descripcion-{{indexPedido}}\" (keyup)=\"buscar($event,searchBoxDescripcion,searchBoxDescripcionPrevia,[{ input: searchBoxDescripcion, campos: ['generico_nombre','informacion.concentracion','informacion.presentacion']}, { input: searchBoxClave, campos: ['clave']}])\">\r\n                        </p>\r\n                        </th--> \r\n                        <th class=\"is-hidden-tablet\">\r\n                        <p class=\"control is-expanded\">\r\n                            <input type=\"hidden\" #searchBoxDescripcionClavePrevia >\r\n                            <!--input class=\"input is-small\" type=\"text\" placeholder=\"Clave o Genérico\" #searchBoxDescripcionClave id=\"search-box-descripcion-clave-{{indexPedido}}\" (keyup)=\"buscar($event,searchBoxDescripcionClave,searchBoxDescripcionClavePrevia,[{ input: searchBoxDescripcionClave, campos: ['clave','generico_nombre','informacion.concentracion','informacion.presentacion']}])\"-->\r\n                            <input class=\"input is-small\" type=\"text\" placeholder=\"Clave o Genérico\" #searchBoxDescripcionClave id=\"search-box-descripcion-clave-{{indexPedido}}\" (keyup)=\"buscar($event,searchBoxDescripcionClave,searchBoxDescripcionClavePrevia,[{ input: searchBoxDescripcionClave, campos: ['clave','descripcion']}])\">\r\n                        </p>\r\n                        </th>  \r\n                        <th style=\"vertical-align: middle;\" class=\"is-hidden-mobile is-hidden-tablet-only\" >Descripcion</th>                  \r\n                        <th style=\"width:78px !important;text-align: center; vertical-align: middle;\"><abbr title=\"Cantidad\">Cant.</abbr></th>\r\n                        <th style=\"width:78px !important;text-align: center; vertical-align: middle;\"><abbr title=\"Monto\">Monto</abbr></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody *ngIf=\"!pedido.filtro.activo\">\r\n\r\n                    <tr   *ngFor=\"let item of pedido.paginacion.lista; let i = index;\">\r\n                    <td class=\"has-text-centered\">{{ item.lote }}</td>\r\n                    <td class=\"has-text-centered is-hidden-mobile\"><a (click)=\"mostrarFichaInformativa($event, item.clave)\" style=\"cursor:help;\">{{ item.clave }}</a></td>            \r\n                    \r\n                    <td>\r\n                        <small class=\"is-hidden-tablet\">{{ item.clave }} <br></small>\r\n                        <!--div *ngIf=\"item.tipo != 'ME'\" style=\"line-height:1em;\"-->\r\n                        <div style=\"line-height:1em;\">\r\n                        <small>{{ item.descripcion }}</small>\r\n                        {{item.tipo}}asdasdasds\r\n                        </div>\r\n                        <div style=\"padding: 0.5em 0 0.5em 0; \">\r\n                        <span *ngIf=\"(item.es_causes && item.tipo == 'ME')\" class=\"tag is-success\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">CAUSES</span>\r\n                        <span *ngIf=\"(!item.es_causes && item.tipo == 'ME')\" class=\"tag is-danger\" style=\"font-size: 0.7em !important;\">NO CAUSES</span>\r\n                        <span *ngIf=\"item.tipo == 'MC'\" class=\"tag is-warning\" style=\"font-size: 0.7em !important;\">MATERIAL CURACIÓN</span>\r\n                        <span *ngIf=\"item.es_cuadro_basico\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">Cuadro básico</span>\r\n                        <span *ngIf=\"(item.tipo == 'ME' && item.informacion)\">\r\n                            <span *ngIf=\"item.informacion.es_controlado\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Controlado</span>\r\n                            <span *ngIf=\"item.informacion.es_surfactante\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Surfactante</span>  \r\n                        </span>\r\n                        </div>\r\n                    </td>\r\n\r\n                    <!--td >\r\n                        <small class=\"is-hidden-tablet\">{{ item.clave }} <br></small>\r\n                        <b>{{ item.generico_nombre }}</b> <br  class=\"is-hidden-mobile\"><small *ngIf=\"(item.tipo == 'ME' && item.informacion)\"><b>{{ item.informacion.concentracion }}</b></small><br>\r\n                        \r\n                        <div class=\"is-hidden-desktop\" *ngIf=\"(item.tipo == 'ME' && item.informacion)\" style=\"line-height:1em;\">\r\n                        <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                        <small><i>{{ item.informacion.contenido }} </i></small>\r\n                        </div>\r\n                        <div class=\"is-hidden-desktop\" *ngIf=\"item.tipo != 'ME'\" style=\"line-height:1em;\">\r\n                        <small>{{ item.descripcion }}</small>\r\n                        </div>\r\n                        <div class=\"is-hidden-desktop\" style=\"padding: 0.5em 0 0.5em 0; \">\r\n                        <span *ngIf=\"item.es_causes\" class=\"tag is-success\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">CAUSES</span>\r\n                        <span *ngIf=\"!item.es_causes\" class=\"tag is-danger\" style=\"font-size: 0.7em !important;\">NO CAUSES</span>\r\n                        <span *ngIf=\"item.es_cuadro_basico\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">Cuadro básico</span>\r\n                        \r\n                        <span *ngIf=\"(item.tipo == 'ME' && item.informacion)\">\r\n                            <span *ngIf=\"item.informacion.es_controlado\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Controlado</span>\r\n                            <span *ngIf=\"item.informacion.es_surfactante\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Surfactante</span>  \r\n                        </span>\r\n                        \r\n                        </div>\r\n                    </td> \r\n\r\n                    <td class=\"is-hidden-mobile is-hidden-tablet-only\">\r\n                        <div *ngIf=\"(item.tipo == 'ME' && item.informacion)\" style=\"line-height:1em;\">\r\n                        <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                        <small><i>{{ item.informacion.contenido }} </i></small>\r\n                        </div>\r\n                        <div  *ngIf=\"item.tipo != 'ME'\" style=\"line-height:1em;\">\r\n                        <small>{{ item.descripcion }}</small>\r\n                        </div>\r\n                        <div style=\"padding: 0.5em 0 0.5em 0; \">\r\n                        <span *ngIf=\"item.es_causes\" class=\"tag is-success\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">CAUSES</span>\r\n                        <span *ngIf=\"!item.es_causes\" class=\"tag is-danger\" style=\"font-size: 0.7em !important;\">NO CAUSES</span>\r\n                        <span *ngIf=\"item.es_cuadro_basico\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">Cuadro básico</span>\r\n                        <span *ngIf=\"(item.tipo == 'ME' && item.informacion)\">\r\n                            <span *ngIf=\"item.informacion.es_controlado\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Controlado</span>\r\n                            <span *ngIf=\"item.informacion.es_surfactante\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Surfactante</span>  \r\n                        </span>\r\n                        \r\n                        </div>\r\n                    </td--> \r\n\r\n                    <td style=\"width:78px !important;\">\r\n                        <p class=\"control is-expanded\">\r\n                            {{item.cantidad}}\r\n                        </p>\r\n                    </td>\r\n                    <td style=\"width:78px !important;\">\r\n                        <b><abbr>$ {{item.monto | number:'1.2-2'}}</abbr></b>\r\n                    </td> \r\n                    </tr>      \r\n                </tbody>\r\n                <tbody *ngIf=\"pedido.filtro.activo\">\r\n                    <tr  *ngFor=\"let item of pedido.filtro.paginacion.lista; let i = index;\">\r\n                    <td class=\"has-text-centered\">{{ item.lote }}</td>\r\n                    <td class=\"has-text-centered is-hidden-mobile\"><a (click)=\"mostrarFichaInformativa($event, item.clave)\" style=\"cursor:help;\">{{ item.clave }}</a></td>            \r\n                    \r\n                    <td>\r\n                        <small class=\"is-hidden-tablet\">{{ item.clave }} <br></small>\r\n                        <!--div *ngIf=\"item.tipo != 'ME'\" style=\"line-height:1em;\"-->\r\n                        <div style=\"line-height:1em;\">\r\n                        <small>{{ item.descripcion }}</small>\r\n                        </div>\r\n                        <div style=\"padding: 0.5em 0 0.5em 0; \">\r\n                        <span *ngIf=\"(item.es_causes && item.tipo == 'ME')\" class=\"tag is-success\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">CAUSES</span>\r\n                        <span *ngIf=\"(!item.es_causes && item.tipo == 'ME')\" class=\"tag is-danger\" style=\"font-size: 0.7em !important;\">NO CAUSES</span>\r\n                        <span *ngIf=\"item.tipo == 'MC'\" class=\"tag is-warning\" style=\"font-size: 0.7em !important;\">MATERIAL CURACIÓN</span>\r\n                        <span *ngIf=\"item.es_cuadro_basico\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">Cuadro básico</span>\r\n                        <span *ngIf=\"(item.tipo == 'ME' && item.informacion)\">\r\n                            <span *ngIf=\"item.informacion.es_controlado\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Controlado</span>\r\n                            <span *ngIf=\"item.informacion.es_surfactante\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Surfactante</span>  \r\n                        </span>\r\n                        </div>\r\n                    </td>\r\n\r\n                    <!--td >\r\n                        <small class=\"is-hidden-tablet\">{{ item.clave }} <br></small>\r\n                        <b>{{ item.generico_nombre }}</b> <br  class=\"is-hidden-mobile\"><small *ngIf=\"(item.tipo == 'ME' && item.informacion)\"><b>{{ item.informacion.concentracion }}</b></small><br>\r\n                        \r\n                        <div class=\"is-hidden-desktop\" *ngIf=\"(item.tipo == 'ME' && item.informacion)\" style=\"line-height:1em;\">\r\n                        <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                        <small><i>{{ item.informacion.contenido }} </i></small>\r\n                        </div>\r\n                        <div class=\"is-hidden-desktop\" *ngIf=\"item.tipo != 'ME'\" style=\"line-height:1em;\">\r\n                        <small>{{ item.descripcion }}</small>\r\n                        </div>\r\n                        <div class=\"is-hidden-desktop\" style=\"padding: 0.5em 0 0.5em 0; \">\r\n                        <span *ngIf=\"item.es_causes\" class=\"tag is-success\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">CAUSES</span>\r\n                        <span *ngIf=\"!item.es_causes\" class=\"tag is-danger\" style=\"font-size: 0.7em !important;\">NO CAUSES</span>\r\n                        <span *ngIf=\"item.es_cuadro_basico\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">Cuadro básico</span>\r\n                        \r\n                        <span *ngIf=\"(item.tipo == 'ME' && item.informacion)\">\r\n                            <span *ngIf=\"item.informacion.es_controlado\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Controlado</span>\r\n                            <span *ngIf=\"item.informacion.es_surfactante\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Surfactante</span>  \r\n                        </span>\r\n                        \r\n                        </div>\r\n                    </td> \r\n\r\n                    <td class=\"is-hidden-mobile is-hidden-tablet-only\">\r\n                        <div *ngIf=\"(item.tipo == 'ME' && item.informacion)\" style=\"line-height:1em;\">\r\n                        <small><i>{{ item.informacion.presentacion_nombre }}</i></small><br>\r\n                        <small><i>{{ item.informacion.contenido }} </i></small>\r\n                        </div>\r\n                        <div  *ngIf=\"item.tipo != 'ME'\" style=\"line-height:1em;\">\r\n                        <small>{{ item.descripcion }}</small>\r\n                        </div>\r\n                        <div style=\"padding: 0.5em 0 0.5em 0; \">\r\n                        <span *ngIf=\"item.es_causes\" class=\"tag is-success\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">CAUSES</span>\r\n                        <span *ngIf=\"!item.es_causes\" class=\"tag is-danger\" style=\"font-size: 0.7em !important;\">NO CAUSES</span>\r\n                        <span *ngIf=\"item.es_cuadro_basico\" class=\"tag is-light\" [ngClass]=\"{'is-dark': item == insumoSeleccionado}\" style=\"font-size: 0.7em !important;\">Cuadro básico</span>\r\n\r\n                        <span *ngIf=\"(item.tipo == 'ME' && item.informacion)\">\r\n                            <span *ngIf=\"item.informacion.es_controlado\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Controlado</span>\r\n                            <span *ngIf=\"item.informacion.es_surfactante\" class=\"tag is-warning\" style=\"font-size: 0.7em\">Surfactante</span>  \r\n                        </span>\r\n                        </div>\r\n                    </td--> \r\n                    <td style=\"width:78px !important;\">\r\n                        <p class=\"control is-expanded\">\r\n                            {{item.cantidad}}\r\n                        </p>\r\n                    </td>\r\n                    <td style=\"width:78px !important;\">\r\n                        <b><abbr>$ {{item.monto | number:'1.2-2'}}</abbr></b>\r\n                    </td> \r\n                    </tr>\r\n                </tbody>              \r\n            </table>\r\n            \r\n            <paginacion \r\n                    [total]=\"pedido.lista.length\" \r\n                    [paginasTotales]=\"pedido.paginacion.totalPaginas\" \r\n                    [resultadosPorPagina]=\"pedido.paginacion.resultadosPorPagina\" \r\n                    [paginaActual]=\"pedido.paginacion.paginaActual\" \r\n                    [indicePaginas]=\"pedido.paginacion.indice\"\r\n                    (onSiguiente)=\"pedido.paginaSiguiente()\" \r\n                    (onAnterior)=\"pedido.paginaAnterior()\" \r\n                    (onListar)=\"pedido.listar($event)\" \r\n                    *ngIf=\"pedido.lista.length > 0 && pedido.lista.length > pedido.paginacion.resultadosPorPagina && !pedido.filtro.activo\"></paginacion>\r\n            \r\n            <paginacion \r\n                    [total]=\"pedido.filtro.lista.length\" \r\n                    [paginasTotales]=\"pedido.filtro.paginacion.totalPaginas\" \r\n                    [resultadosPorPagina]=\"pedido.filtro.paginacion.resultadosPorPagina\" \r\n                    [paginaActual]=\"pedido.filtro.paginacion.paginaActual\" \r\n                    [indicePaginas]=\"pedido.filtro.paginacion.indice\"\r\n                    (onSiguiente)=\"pedido.filtro.paginaSiguiente()\" \r\n                    (onAnterior)=\"pedido.filtro.paginaAnterior()\" \r\n                    (onListar)=\"pedido.filtro.listar($event)\" \r\n                    *ngIf=\"pedido.filtro.lista.length > 0 && pedido.filtro.lista.length > pedido.filtro.paginacion.resultadosPorPagina && pedido.filtro.activo\"></paginacion>\r\n            <br>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<div class=\"notification is-danger\" style=\"position:fixed; left:1em;  bottom:1em;\" *ngIf=\"mensajeError.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeError.mostrar = false\"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <!--p style=\"text-align:center\" ><a  class=\"button is-danger is-inverted\" (click)=\"ultimaPeticion(); mensajeError.mostrar = false\"> <span class=\"icon\"><i class=\"fa fa-refresh\"></i></span> <span>Volver a intentar</span></a></p-->\r\n</div>\r\n\r\n<div class=\"notification is-success\" style=\"position:fixed; left:1em;  bottom:1em; width: auto\" *ngIf=\"mensajeExito.mostrar\">       \r\n    <button class=\"delete\" (click)=\"mensajeExito.mostrar = false\"></button>\r\n    <p><span class=\"icon\" style=\"margin-right: 0.5em;\"><i class=\"fa fa-check-circle\"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style=\"text-align: center;\"><small >Este mensaje desaparecerá en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n<div class=\"modal is-active\" [ngClass]=\"{'is-active': mostrarImprimirDialogo}\">\r\n  <div class=\"modal-background\" (click)=\"cerrarDialogo()\"></div>\r\n  <div class=\"modal-card\" style=\"width:95%; height: auto;\">\r\n    <header class=\"modal-card-head\" style=\"background: #00d1b2;\">\r\n      <div class=\"container is-fluid\"  style=\"width:100%;\">\r\n          <h1 class=\"title\" style=\"color:#FFF;\">\r\n            <span class=\"icon is-medium\"><i class=\"fa fa-print\"></i></span> Imprimir Pedido \r\n          </h1>\r\n      </div>            \r\n      <a class=\"button  is-primary\" style=\"position:absolute; top:1em; right:1em;\" (click)=\"cerrarDialogo()\"><span class=\"icon \"><i class=\"fa fa-close\"></i></span></a>\r\n    </header>\r\n    <section class=\"modal-card-body\" style=\"padding:0px;\" >\r\n      <div style=\"padding: 1em;\">\r\n        <div class=\"columns\">\r\n          <div class=\"column is-one-quarter\" *ngFor=\"let tipo of tiposSubPedidos\">\r\n            <div class=\"card\">\r\n              <header class=\"card-header\">\r\n                <p class=\"card-header-title\">\r\n                  {{subPedidos[tipo].titulo}}\r\n                </p>\r\n              </header>\r\n              <div class=\"card-content\">\r\n                <div class=\"content\">\r\n                  <strong>Total claves</strong>: {{subPedidos[tipo].claves | number}} <br>\r\n                  <strong>Total unidades</strong>: {{subPedidos[tipo].cantidad | number}} <br>\r\n                  <strong>Total monto</strong>: $ {{subPedidos[tipo].monto + ((subPedidos[tipo].tiene_iva)?+subPedidos[tipo].monto*16/100:0) | number:'1.2-2'}}\r\n                </div>\r\n              </div>\r\n              <footer class=\"card-footer\">\r\n                <a class=\"card-footer-item\" (click)=\"imprimir(tipo)\" [ngClass]=\"{ 'is-loading': cargandoPdf, 'is-inverted': !cargandoPdf }\">\r\n                  <span class=\"icon is-medium\"><i class=\"fa fa-file-pdf-o\"></i></span>&nbsp;<span>Descargar/Imprimir</span>\r\n                </a>\r\n              </footer>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </section>\r\n    <footer class=\"\" style=\"position:relative; padding:1em;background: #FFF; border-top:1px solid #EEE; border-radius:0 0 0.8em 0.8em \" >\r\n    </footer>\r\n  </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/farmacia/pedidos/ver/ver.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_of__ = __webpack_require__("../../../../rxjs/add/observable/of.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_observable_throw__ = __webpack_require__("../../../../rxjs/add/observable/throw.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_observable_throw___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_rxjs_add_observable_throw__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_debounceTime__ = __webpack_require__("../../../../rxjs/add/operator/debounceTime.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_debounceTime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_debounceTime__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_distinctUntilChanged__ = __webpack_require__("../../../../rxjs/add/operator/distinctUntilChanged.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_distinctUntilChanged___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_distinctUntilChanged__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_map__ = __webpack_require__("../../../../rxjs/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_map__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_switchMap__ = __webpack_require__("../../../../rxjs/add/operator/switchMap.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_switchMap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_switchMap__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_rxjs_add_operator_catch__ = __webpack_require__("../../../../rxjs/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11_rxjs_add_operator_catch___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_11_rxjs_add_operator_catch__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_file_saver__ = __webpack_require__("../../../../file-saver/FileSaver.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12_file_saver___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_12_file_saver__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__environments_environment__ = __webpack_require__("../../../../../src/environments/environment.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__mensaje__ = __webpack_require__("../../../../../src/app/mensaje.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__catalogos_almacenes_almacenes_service__ = __webpack_require__("../../../../../src/app/catalogos/almacenes/almacenes.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__pedidos_service__ = __webpack_require__("../../../../../src/app/farmacia/pedidos/pedidos.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_17__pedido__ = __webpack_require__("../../../../../src/app/farmacia/pedidos/pedido.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return VerComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


















var VerComponent = (function () {
    // # FIN SECCION
    function VerComponent(title, location, route, _ngZone, pedidosService, almacenesService, fb) {
        this.title = title;
        this.location = location;
        this.route = route;
        this._ngZone = _ngZone;
        this.pedidosService = pedidosService;
        this.almacenesService = almacenesService;
        this.fb = fb;
        this.cargando = false;
        this.cargandoAlmacenes = false;
        this.cargandoInsumos = false;
        // # SECCION: Esta sección es para mostrar mensajes
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */]();
        this.mensajeAdvertencia = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */]();
        // # FIN SECCION  
        this.mostrarImprimirDialogo = false;
        this.tiposSubPedidos = [];
        this.subPedidos = {};
        //Harima: para ver si el formulaior es para crear o para editar
        this.formularioTitulo = 'Nuevo';
        this.esEditar = false;
        // # SECCION: Modal Insumos
        this.mostrarModalInsumos = false;
        this.cargandoPdf = false;
    }
    VerComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.title.setTitle('Nuevo pedido / Almacén');
        // Inicializamos el objeto para los reportes con web Webworkers
        //this.pdfworker = new Worker("web-workers/farmacia/pedidos/imprimir.js")
        this.pdfworker = new Worker("web-workers/farmacia/pedidos/pedido-proveedor.js");
        // Este es un hack para poder usar variables del componente dentro de una funcion del worker
        var self = this;
        var $ngZone = this._ngZone;
        this.pdfworker.onmessage = function (evt) {
            // Esto es un hack porque estamos fuera de contexto dentro del worker
            // Y se usa esto para actualizar alginas variables
            $ngZone.run(function () {
                self.cargandoPdf = false;
            });
            __WEBPACK_IMPORTED_MODULE_12_file_saver__["saveAs"](self.base64ToBlob(evt.data.base64, 'application/pdf'), evt.data.fileName);
            //open( 'data:application/pdf;base64,' + evt.data.base64 ); // Popup PDF
        };
        this.pdfworker.onerror = function (e) {
            $ngZone.run(function () {
                self.cargandoPdf = false;
            });
            console.log(e);
        };
        // Inicialicemos el pedido
        this.pedido = new __WEBPACK_IMPORTED_MODULE_17__pedido__["a" /* Pedido */](true);
        this.route.params.subscribe(function (params) {
            //this.id = params['id']; // Se puede agregar un simbolo + antes de la variable params para volverlo number
            if (params['id']) {
                _this.cargando = true;
                _this.pedido.id = params['id'];
                _this.pedido.status = 'PS';
                //cargar datos del pedido
                _this.esEditar = true;
                _this.formularioTitulo = 'Editar';
                _this.pedidosService.ver(params['id']).subscribe(function (pedido) {
                    //this.datosCargados = true;
                    //this.pedidos[0].datos.patchValue(pedido);
                    _this.pedido.datosImprimir = pedido;
                    _this.pedido.status = pedido.status;
                    for (var i in pedido.insumos) {
                        var dato = pedido.insumos[i];
                        var insumo = dato.insumos_con_descripcion;
                        insumo.cantidad = +dato.cantidad_solicitada;
                        insumo.monto = +dato.monto_solicitado;
                        insumo.precio = +dato.precio_unitario;
                        _this.pedido.lista.push(insumo);
                        //this.listaClaveAgregadas.push(insumo.clave);
                        //let tipo_insumo = 'ST';
                        var tiene_iva = false;
                        var clave_tipo_insumo = 'SC';
                        /*if(insumo.tipo == 'ME' && insumo.es_causes){
                          tipo_insumo = 'MEDICAMENTOS CAUSES';
                          clave_tipo_insumo = 'C'
                        }else if(insumo.tipo == 'ME' && !insumo.es_causes){
                          tipo_insumo = 'MEDICAMENTOS NO CAUSES';
                          clave_tipo_insumo = 'NC'
                        }else if(insumo.tipo == 'MC'){
                          tipo_insumo = 'MATERIAL DE CURACIÓN';
                          clave_tipo_insumo = 'MC'
                          tiene_iva = true;
                        }*/
                        //tipo_insumo = dato.tipo_insumo.nombre;
                        clave_tipo_insumo = dato.tipo_insumo.clave;
                        if (dato.tipo_insumo.clave == 'MC') {
                            tiene_iva = true;
                        }
                        if (!_this.subPedidos[clave_tipo_insumo]) {
                            _this.tiposSubPedidos.push(clave_tipo_insumo);
                            _this.subPedidos[clave_tipo_insumo] = {
                                'titulo': dato.tipo_insumo.nombre,
                                'clave_folio': clave_tipo_insumo,
                                'claves': 0,
                                'cantidad': 0,
                                'monto': 0,
                                'iva': 0,
                                'tiene_iva': tiene_iva,
                                'lista': []
                            };
                        }
                        _this.subPedidos[clave_tipo_insumo].claves++;
                        _this.subPedidos[clave_tipo_insumo].cantidad += insumo.cantidad;
                        _this.subPedidos[clave_tipo_insumo].monto += insumo.monto;
                        _this.subPedidos[clave_tipo_insumo].lista.push(insumo);
                    }
                    pedido.insumos = undefined;
                    _this.pedido.indexar();
                    _this.pedido.listar(1);
                    _this.cargando = false;
                }, function (error) {
                    _this.cargando = false;
                    _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */](true);
                    _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_14__mensaje__["a" /* Mensaje */](true);
                    _this.mensajeError.mostrar;
                    try {
                        var e = error.json();
                        if (error.status == 401) {
                            _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                        }
                    }
                    catch (e) {
                        if (error.status == 500) {
                            _this.mensajeError.texto = "500 (Error interno del servidor)";
                        }
                        else {
                            _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                        }
                    }
                });
                console.log('editar pedido');
            }
            else {
                console.log('nuevo pedido');
            }
            //this.cargarDatos();
        });
        //this.pedidos[0].nombre = "General";
        //this.pedidos[0].observaciones = null;
    };
    VerComponent.prototype.obtenerDireccion = function () {
        if (this.pedido.datosImprimir) {
            if (this.pedido.datosImprimir.status == 'PS') {
                return '/almacen/pedidos/por-surtir';
            }
            else if (this.pedido.datosImprimir.status == 'ET') {
                return '/almacen/pedidos/en-transito';
            }
            else if (this.pedido.datosImprimir.status == 'FI') {
                return '/almacen/pedidos/finalizados';
            }
            else if (this.pedido.datosImprimir.status == 'EF') {
                return '/almacen/pedidos/farmacia-subrogada';
            }
            else {
                return '/almacen/pedidos/todos';
            }
        }
    };
    VerComponent.prototype.buscar = function (e, input, inputAnterior, parametros) {
        var term = input.value;
        // Quitamos la busqueda
        if (e.keyCode == 27) {
            e.preventDefault();
            e.stopPropagation();
            input.value = "";
            inputAnterior.value = "";
            this.pedido.filtro.activo = false;
            this.pedido.filtro.lista = [];
            return;
        }
        //Verificamos que la busqueda no sea la misma que la anterior para no filtrar en vano
        if (inputAnterior.value == term) {
            return;
        }
        e.preventDefault();
        e.stopPropagation();
        inputAnterior.value = term;
        if (term != "") {
            this.pedido.filtro.activo = true;
        }
        else {
            this.pedido.filtro.activo = false;
            this.pedido.filtro.lista = [];
            return;
        }
        var arregloResultados = [];
        var _loop_1 = function (i) {
            var termino = parametros[i].input.value;
            if (termino == "") {
                return "continue";
            }
            var listaFiltrada = this_1.pedido.lista.filter(function (item) {
                var cadena = "";
                var campos = parametros[i].campos;
                for (var l in campos) {
                    try {
                        // Esto es por si escribieron algo como "objeto.propiedad" en lugar de: "propiedad"
                        var prop = campos[l].split(".");
                        if (prop.length > 1) {
                            cadena += " " + item[prop[0]][prop[1]].toLowerCase();
                        }
                        else {
                            cadena += " " + item[campos[l]].toLowerCase();
                        }
                    }
                    catch (e) { }
                }
                return cadena.includes(termino.toLowerCase());
            });
            arregloResultados.push(listaFiltrada);
        };
        var this_1 = this;
        for (var i in parametros) {
            _loop_1(i);
        }
        if (arregloResultados.length > 1) {
            // Ordenamos Ascendente
            arregloResultados = arregloResultados.sort(function (a, b) { return a.length - b.length; });
            var filtro = arregloResultados[0];
            var match = [];
            for (var k = 1; k < arregloResultados.length; k++) {
                for (var i in arregloResultados[k]) {
                    for (var j in filtro) {
                        if (arregloResultados[k][i] === filtro[j]) {
                            match.push(filtro[j]);
                        }
                    }
                }
                ;
            }
            this.pedido.filtro.lista = match;
        }
        else {
            this.pedido.filtro.lista = arregloResultados[0];
        }
        this.pedido.filtro.indexar(false);
        this.pedido.filtro.paginacion.paginaActual = 1;
        this.pedido.filtro.listar(1);
    };
    VerComponent.prototype.mostrarFichaInformativa = function (e, clave) {
        e.preventDefault();
        e.stopPropagation();
        // Mostrar el componente de Ficha Informativa
        // Falta hacerlo sumamiiiii :)
        alert(clave);
        console.log(clave);
    };
    // # SECCION: Eventos del teclado
    VerComponent.prototype.keyboardInput = function (e) {
        if (e.keyCode == 32 && e.ctrlKey) {
            event.preventDefault();
            event.stopPropagation();
            this.mostrarModalInsumos = true;
        }
        // Cambiar página hacia adelante ctrl + shift + ->
        if (e.keyCode == 39 && ((e.ctrlKey && e.shiftKey) || e.ctrlKey)) {
            event.preventDefault();
            event.stopPropagation();
            if (!this.pedido.filtro.activo) {
                this.pedido.paginaSiguiente();
            }
            else {
                this.pedido.filtro.paginaSiguiente();
            }
        }
        // Cambiar página hacia adelante ctrl + shift + <-
        if (e.keyCode == 37 && ((e.ctrlKey && e.shiftKey) || e.ctrlKey)) {
            event.preventDefault();
            event.stopPropagation();
            if (!this.pedido.filtro.activo) {
                this.pedido.paginaAnterior();
            }
            else {
                this.pedido.filtro.paginaAnterior();
            }
        }
    };
    // # SECCION - Webworkers
    VerComponent.prototype.imprimirExcel = function () {
        var query = "token=" + localStorage.getItem('token');
        window.open(__WEBPACK_IMPORTED_MODULE_13__environments_environment__["a" /* environment */].API_URL + "/generar-excel-pedido/" + this.pedido.id + "?" + query);
        //window.open(environment.API_URL+"/generar-excel-pedido/"+this.pedido.id, "_blank");
    };
    VerComponent.prototype.imprimir = function (tipo) {
        if (tipo === void 0) { tipo = ''; }
        try {
            this.cargandoPdf = true;
            var pedidos_imprimir = {
                datos: this.pedido.datosImprimir,
                insumos: this.subPedidos[tipo]
            };
            this.pdfworker.postMessage(JSON.stringify(pedidos_imprimir));
        }
        catch (e) {
            this.cargandoPdf = false;
            console.log(e);
        }
    };
    VerComponent.prototype.mostrarDialogo = function () {
        this.mostrarImprimirDialogo = true;
    };
    VerComponent.prototype.cerrarDialogo = function () {
        this.mostrarImprimirDialogo = false;
    };
    VerComponent.prototype.base64ToBlob = function (base64, type) {
        var bytes = atob(base64), len = bytes.length;
        var buffer = new ArrayBuffer(len), view = new Uint8Array(buffer);
        for (var i = 0; i < len; i++)
            view[i] = bytes.charCodeAt(i) & 0xff;
        return new Blob([buffer], { type: type });
    };
    return VerComponent;
}());
VerComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-ver',
        template: __webpack_require__("../../../../../src/app/farmacia/pedidos/ver/ver.component.html"),
        styles: [__webpack_require__("../../../../../src/app/farmacia/pedidos/ver/ver.component.css")],
        host: { '(window:keydown)': 'keyboardInput($event)' }
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_common__["Location"]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_3__angular_router__["c" /* ActivatedRoute */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__angular_router__["c" /* ActivatedRoute */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_16__pedidos_service__["a" /* PedidosService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_16__pedidos_service__["a" /* PedidosService */]) === "function" && _e || Object, typeof (_f = typeof __WEBPACK_IMPORTED_MODULE_15__catalogos_almacenes_almacenes_service__["a" /* AlmacenesService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_15__catalogos_almacenes_almacenes_service__["a" /* AlmacenesService */]) === "function" && _f || Object, typeof (_g = typeof __WEBPACK_IMPORTED_MODULE_4__angular_forms__["FormBuilder"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__angular_forms__["FormBuilder"]) === "function" && _g || Object])
], VerComponent);

var _a, _b, _c, _d, _e, _f, _g;
//# sourceMappingURL=C:/wamp/www/x3-C/src/ver.component.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/salidas-estandar/formulario/formulario.component.html":
/***/ (function(module, exports) {

module.exports = "<formulario #ctrl URL=\"movimientos\" titulo=\"Salida Estandar\" [dato]=\"dato\"></formulario>\r\n<menu-farmacia [modulo]=\"'Salida estandar'\" [icono]=\"'assets/icono-salidas.svg'\" [url]=\"'/almacen/salidas-estandar'\"></menu-farmacia>\r\n<div style=\"height:50px;\"></div>\r\n<form name=\"form\" novalidate [formGroup]=\"dato\" (ngSubmit)=\"ctrl.enviar()\">\r\n    <div class=\"contenedor columns \" style=\"height:100%\">\r\n        <div class=\"column is-one-third\" style=\"padding:1em;\">\r\n            <div style=\"background: #FFF; border-radius: 1em; \">\r\n                <section class=\"hero is-primary\">\r\n                    <h1 *ngIf=\"!tieneid\" class=\"title\" style=\"margin:0.5em; \">\r\n                        <span class=\"icon is-medium\">\r\n                            <i class=\"fa fa-file-text\"></i>\r\n                        </span> {{ctrl.moduloTitulo}}\r\n                    </h1>\r\n                    <h1 *ngIf=\"tieneid\" class=\"title\" style=\"margin:0.5em; \">\r\n                        <span class=\"icon is-medium\">\r\n                            <i class=\"fa fa-file-text\"></i>\r\n                        </span> Salida {{ctrl.id}}\r\n                    </h1>\r\n\r\n\r\n                </section>\r\n                <div style=\"padding: 1em;\">\r\n                    <nav class=\"nav\">\r\n                        <div class=\"nav-right nav-menu\">\r\n                            <div class=\"nav-item\">\r\n                                <div class=\"field is-grouped\">\r\n                                    <p class=\"control\" *ngIf=\"!tieneid\" style=\"float:left\">\r\n                                        <button class=\"button is-primary\" type=\"submit\" [ngClass]=\"{'is-loading': ctrl.cargando}\" [disabled]=\"ctrl.dato.invalid\">Guardar</button>\r\n                                    </p>\r\n                                    <p class=\"control\" style=\"float:left\">\r\n                                        <a *ngIf=\"tieneid\" class=\"button is-primary is-inverted\" (click)=\"imprimir()\">\r\n                                            <span class=\"icon\"><i class=\"fa fa-print\"></i></span>\r\n                                        </a>\r\n                                        <a class=\"button\" (click)=\"ctrl.regresar()\">\r\n                                            Regresar\r\n                                        </a>\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </nav>\r\n\r\n                    <h3 class=\"title\">\r\n                        <i class=\"fa fa-file\"></i>\r\n                         Datos del movimiento\r\n                    </h3>\r\n                    <div >\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Fecha del movimiento:</label>\r\n                            <p class=\"control is-expanded  has-icon has-icon-right\">\r\n\r\n\r\n                                <input class=\"input\" [value]=\"fecha_actual\" [(ngModel)]='fecha_movimiento' formControlName=\"fecha_movimiento\" ngui-datetime-picker\r\n                                    [min-date]=\"MinDate\" [max-date]=\"MaxDate\" date-only=\"true\" [ngClass]=\"{'is-danger': ctrl.dato.get('fecha_movimiento').hasError('required') && ctrl.dato.get('fecha_movimiento').touched}\"\r\n                                    placeholder=\"YYYY-MM-DD\" />\r\n\r\n                                <span class=\"icon is-small\" *ngIf=\"ctrl.dato.get('fecha_movimiento').hasError('required') && ctrl.dato.get('fecha_movimiento').touched\">\r\n                                    <i class=\"fa fa-warning\"></i>\r\n                                </span>\r\n                                <span class=\"help is-danger\" *ngIf=\"ctrl.dato.get('fecha_movimiento').hasError('required') && ctrl.dato.get('fecha_movimiento').touched\">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Observaciones:</label>\r\n                            <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                                <textarea class=\"textarea\" autofocus type=\"text\" [ngClass]=\"{'is-danger': ctrl.dato.get('observaciones').hasError('required') && ctrl.dato.get('observaciones').touched}\"\r\n                                    placeholder=\"Observaciones\" formControlName=\"observaciones\"></textarea>\r\n                                <span class=\"icon is-small\" *ngIf=\"ctrl.dato.get('observaciones').hasError('required') && ctrl.dato.get('observaciones').touched\">\r\n                                    <i class=\"fa fa-warning\"></i>\r\n                                </span>\r\n                                <span class=\"help is-danger\" *ngIf=\"ctrl.dato.get('observaciones').hasError('required') && ctrl.dato.get('observaciones').touched\">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div class=\"control\" *ngIf=\"mostrarCancelado\">\r\n                            <!-- *ngIf -->\r\n                            <div class=\"field\">\r\n                                <div class=\"b-checkbox control is-expanded  has-icon has-icon-right\">\r\n\r\n                                    <input type=\"checkbox\" id=\"cancelado\" class=\"styled\" [checked]=\"ctrl.dato.get('cancelado').value == '1' ? true : false\" (change)=\"ctrl.dato.get('cancelado').patchValue(ctrl.dato.get('cancelado').value == '1' ? '0' : '1')\">\r\n                                    <label for=\"cancelado\">  Cancelado\r\n                                    </label>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"field\">\r\n                                <label class=\"label\">Observaciones de cancelación:</label>\r\n                                <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                                    <textarea class=\"textarea\" autofocus type=\"text\" [ngClass]=\"{'is-danger': ctrl.dato.get('observaciones_cancelacion').hasError('required') && ctrl.dato.get('observaciones_cancelacion').touched}\"\r\n                                        placeholder=\"Observaciones de cancelacion\" formControlName=\"observaciones_cancelacion\"></textarea>\r\n                                    <span class=\"icon is-small\" *ngIf=\"ctrl.dato.get('observaciones_cancelacion').hasError('required') && ctrl.dato.get('observaciones_cancelacion').touched\">\r\n                                        <i class=\"fa fa-warning\"></i>\r\n                                    </span>\r\n                                    <span class=\"help is-danger\" *ngIf=\"ctrl.dato.get('observaciones_cancelacion').hasError('required') && ctrl.dato.get('observaciones_cancelacion').touched\">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n                    <a id=\"actualizar\" (click)=\"ctrl.cargarCatalogo('servicios','mis-servicios'); ctrl.cargarCatalogo('turnos', 'mis-turnos'); \"></a>\r\n                    <hr id=\"catalogos\" (click)=\"ctrl.cargarCatalogo('servicios', 'mis-servicios'); ctrl.cargarCatalogo('turnos', 'mis-turnos'); \"> \r\n\r\n                    <div >\r\n                        <nav class=\"panel\"  formGroupName=\"movimiento_metadato\">\r\n\r\n                            <div class=\"field\">\r\n                                <label class=\"label\">Turno:</label>\r\n                                <!-- NO carga los turnos -->\r\n                                <div class=\"field\" *ngIf=\"!ctrl.turnos\">\r\n                                    <span *ngIf=\"ctrl.cargando\" class=\"tag is-primary is-medium\">Cargando turnos. <i class=\"fa fa-refresh fa-spin\" aria-hidden=\"true\"></i></span>\r\n                                    <span *ngIf=\"!ctrl.cargando\"class=\"tag is-medium\"><a id=\"actualizar\"  *ngIf=\"!ctrl.cargando\" (click)=\"ctrl.cargarCatalogo('turnos', 'mis-turnos'); \">No se pudieron cargar los turnos. <i class=\"fa fa-refresh\" aria-hidden=\"true\"></i></a></span>\r\n                                    \r\n                                    <p></p>\r\n                                </div>\r\n                                <!-- SI carga los turnos -->\r\n                                <p  *ngIf=\"ctrl.turnos\" class=\"control is-expanded  has-icon has-icon-right\">\r\n                                    <select class=\"select\" name=\"turno\" formControlName=\"turno_id\" [ngClass]=\"{'is-danger': ctrl.dato.get('movimiento_metadato').get('turno_id').hasError('required') && ctrl.dato.get('movimiento_metadato').get('turno_id').touched}\">\r\n                                        <option *ngFor=\"let item of ctrl.turnos.clues_turnos\" value=\"{{item.id}}\" [attr.selected]=\"ctrl.dato.get('movimiento_metadato').get('turno_id').value == item.id \">{{ item.nombre }}</option>\r\n                                    </select>\r\n                                    <span class=\"icon is-small\" *ngIf=\"ctrl.dato.get('movimiento_metadato').get('turno_id').hasError('required') && ctrl.dato.get('movimiento_metadato').get('turno_id').touched\">\r\n                                        <i class=\"fa fa-warning\"></i>\r\n                                    </span>\r\n                                    <span class=\"help is-danger\" *ngIf=\"ctrl.dato.get('movimiento_metadato').get('turno_id').hasError('required') && ctrl.dato.get('movimiento_metadato').get('turno_id').touched\">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n                            <!-- SERVICIOS -->\r\n                            <div class=\"field\">\r\n                                <label class=\"label\">Servicio que recibe:</label>\r\n                                <!-- NO carga los SERVICIOS -->\r\n                                <div class=\"field\" *ngIf=\"!ctrl.servicios\">\r\n                                    <span *ngIf=\"ctrl.cargando\" class=\"tag is-primary is-medium\">Cargando servicios. <i class=\"fa fa-refresh fa-spin\" aria-hidden=\"true\"></i></span>\r\n                                    <span *ngIf=\"!ctrl.cargando\"class=\"tag is-medium\">No se pudieron cargar los servicios.</span>\r\n                                    <a id=\"actualizar\" *ngIf=\"!ctrl.cargando\" (click)=\"ctrl.cargarCatalogo('servicios', 'mis-servicios'); \"><i class=\"fa fa-refresh is-medium\" aria-hidden=\"true\"></i></a>\r\n                                </div>\r\n                                <!-- SI carga los SERVICIOS -->\r\n                                <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                                    <select *ngIf=\"ctrl.servicios\" class=\"select\" name=\"servicio_id\" formControlName=\"servicio_id\" [ngClass]=\"{'is-danger': ctrl.dato.get('movimiento_metadato').get('servicio_id').hasError('required') && ctrl.dato.get('movimiento_metadato').get('servicio_id').touched}\">\r\n                                        <option *ngFor=\"let item of ctrl.servicios.clues_servicios\" value=\"{{item.id}}\" [attr.selected]=\"ctrl.dato.get('movimiento_metadato').get('servicio_id').value == item.id \">{{ item.nombre }}</option>\r\n                                    </select>\r\n                                    <span class=\"icon is-small\" *ngIf=\"ctrl.dato.get('movimiento_metadato').get('servicio_id').hasError('required') && ctrl.dato.get('movimiento_metadato').get('servicio_id').touched\">\r\n                                        <i class=\"fa fa-warning\"></i>\r\n                                    </span>\r\n                                    <span class=\"help is-danger\" *ngIf=\"ctrl.dato.get('movimiento_metadato').get('servicio_id').hasError('required') && ctrl.dato.get('movimiento_metadato').get('servicio_id').touched\">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n\r\n\r\n                            <div class=\"field\">\r\n                                <label class=\"label\">Persona que recibe:</label>\r\n                                <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                                    <input class=\"input\" type=\"text\" [ngClass]=\"{'is-danger': ctrl.dato.get('movimiento_metadato').get('persona_recibe').hasError('required') && ctrl.dato.get('movimiento_metadato').get('persona_recibe').touched}\"\r\n                                        placeholder=\"Persona que recibe\" formControlName=\"persona_recibe\">\r\n                                    <span class=\"icon is-small\" *ngIf=\"ctrl.dato.get('movimiento_metadato').get('persona_recibe').hasError('required') && ctrl.dato.get('movimiento_metadato').get('persona_recibe').touched\">\r\n                                        <i class=\"fa fa-warning\"></i>\r\n                                    </span>\r\n                                    <span class=\"help is-danger\" *ngIf=\"ctrl.dato.get('movimiento_metadato').get('persona_recibe').hasError('required') && ctrl.dato.get('movimiento_metadato').get('persona_recibe').touched\">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n\r\n                        </nav>\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!-- apartado de insumos -->\r\n        <div class=\"column\" style=\"padding:1em;\">\r\n            <div style=\"background: #FFF; border-radius: 1em; \">\r\n                <section class=\"hero is-primary\">\r\n                    <div class=\"hero-body\">\r\n                        <a class=\"button  is-primary\" style=\"position:absolute; top:6em; right:3em;\" (click)=\"ctrl.cargarDatos();  \"><span class=\"icon \"><i class=\"fa fa-refresh\"></i></span></a>\r\n                        <div class=\"container is-fluid\">\r\n                            <h1 class=\"title\">\r\n                                <span *ngIf=\"!ctrl.cargando || !cargando\" class=\"icon is-medium\"><i class=\"fa fa-edit\"></i></span>\r\n                                <span *ngIf=\"ctrl.cargando || cargando\" class=\"icon is-medium\"><i class=\"fa fa-refresh fa-spin\"></i></span>                                Insumos\r\n                            </h1>\r\n\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <div class=\"is-fullwidth has-text-centered\" *ngIf=\"!ctrl.datosCargados\">\r\n                    <br>\r\n                    <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span>                    &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n                <section class=\"section\">\r\n\r\n                    <div class=\"field has-addons has-addons-centered\" *ngIf=\"!tieneid\">\r\n\r\n                        <p class=\"control\">\r\n                            <input ngui-auto-complete [source]=\"insumos_term\" [list-formatter]=\"autocompleListFormatter\" id=\"buscarInsumo\" value-property-name=\"clave\"\r\n                                display-property-name=\"nombre\" path-to-data=\"\" loading-text=\"Cargando...\" no-match-found-text=\"No hay resultados.\"\r\n                                (valueChanged)=\"select_insumo_autocomplete($event)\" min-chars=\"1\" class=\"input is-success is-medium\"\r\n                                type=\"text\" placeholder=\"Escanea el codigo de barra, o empieza escribir el nombre del producto\" >\r\n\r\n                        </p>\r\n\r\n                        <hr>\r\n                    </div>\r\n\r\n                    <div formArrayName=\"insumos\">\r\n                        <div class=\"box\" *ngFor=\"let item of ctrl.dato.controls.insumos.controls; let i=index\" [ngStyle]=\"{'background': i%2 == 0 ? 'rgba(230, 230, 232, 0.44)' : ''}\">\r\n                            <article class=\"media\" [formGroupName]=\"i\">\r\n                                <div class=\"media-content\">\r\n                                    <div class=\"content\">\r\n                                        <a *ngIf=\"!tieneid\" class=\"is-danger\" title=\"Quitar este elemento de la lista\" style=\"float:right\" (click)=\"ctrl.quitar_form_array('insumos', i)\"><span class=\"icon\"><i class=\"fa fa-trash-o\"></i></span></a>\r\n                                        <p>\r\n                                            <strong>\r\n                                                <span style=\"color:cornflowerblue\">\r\n                                                    Clave: {{ ctrl.dato.controls.insumos.controls[i].controls.clave.value }} \r\n                                                </span>\r\n                                                Nombre: {{ctrl.dato.controls.insumos.controls[i].controls.nombre.value}}\r\n                                            \r\n                                                <label class=\"tag is-success\" *ngIf=\"ctrl.dato.controls.insumos.controls[i].controls.es_causes.value\"><strong>Cause </strong></label>\r\n                                                <label class=\"tag is-success\" *ngIf=\"!ctrl.dato.controls.insumos.controls[i].controls.es_causes.value\"><strong>No Cause </strong> </label>                                           \r\n                                                                                            \r\n                                                <label class=\"tag is-warning\" *ngIf=\"ctrl.dato.controls.insumos.controls[i].controls.es_unidosis.value\"><strong>Unidosis</strong> </label>\r\n                                            </strong>\r\n                                            <br> {{ctrl.dato.controls.insumos.controls[i].controls.descripcion.value}}\r\n                                        </p>\r\n                                        <a class=\"is-danger\" title=\"Ver la lista de lotes de este articulo\" style=\"float:right\" (click)=\"ver_lotes_asignados(i)\">\r\n                                            <span class=\"icon\">\r\n                                                <i *ngIf=\"!mostrar_lote[i]\" class=\"fa fa-plus\"></i>\r\n                                                <i *ngIf=\"mostrar_lote[i]\" class=\"fa fa-minus\"></i>\r\n                                            </span>\r\n                                        </a>\r\n                                    </div>\r\n                                    <section *ngIf=\"mostrar_lote[i]\">\r\n                                        <table class=\"table is-narrow is-bordered is-striped\">\r\n                                            <thead>\r\n                                                <tr>\r\n                                                    <th>Lote</th>\r\n                                                    <th>Caducidad</th>\r\n                                                    <th>Codigo de barras</th>\r\n                                                    <th *ngIf=\"!tieneid\">Existencia</th>\r\n                                                    <th>Cantidad</th>\r\n                                                    <th *ngIf=\"!tieneid\"></th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody formArrayName=\"lotes\">\r\n                                                <tr *ngFor=\"let val of ctrl.dato.controls.insumos.controls[i].controls.lotes.controls;  let i2 = index;\">\r\n                                                    <td>{{val.value.lote}}</td>\r\n                                                    <td>{{val.value.fecha_caducidad}}</td>\r\n                                                    <td>{{val.value.codigo_barras}}</td>\r\n                                                    <td *ngIf=\"!tieneid\">{{val.value.existencia}}</td>\r\n                                                    <td [formGroupName]=\"i2\">\r\n                                                        <input class=\"input has-text-centered\" (blur)=\"validar_cantidad_lote(i, val, i2)\" type=\"number\" step=\"1\" min=\"0\" max=\"{{val.value.existencia}}\"\r\n                                                            placeholder=\"Cantidad\" formControlName=\"cantidad\"></td>\r\n                                                    <td *ngIf=\"!tieneid\">\r\n                                                        <a class=\"is-danger\" title=\"Quitar este lote\" (click)=\"quitar_lote_insumo(i, val.value, i2)\">\r\n                                                            <span class=\"icon\">\r\n                                                                <i class=\"fa fa-trash-o\"></i>\r\n                                                            </span>\r\n                                                        </a>\r\n                                                    </td>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </table>\r\n                                    </section>\r\n                                    <nav class=\"level is-mobile\">\r\n                                        <div class=\"level-left\">\r\n                                            <a class=\"level-item\" >\r\n                                                <div class=\"field\">\r\n                                                    <!-- cambiar a formControlName=\"cantidad_solicitada\"  -->\r\n                                                    <label class=\"label\">Cant. solicitada:</label>\r\n                                                    <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                                                        <input *ngIf=\"!tieneid\" style=\"background:aliceblue\" type=\"text\" class=\"input\" formControlName=\"cantidad_solicitada\" [ngClass]=\"{'is-danger': ctrl.dato.controls.insumos.controls[i].controls.cantidad_solicitada.hasError('required') && ctrl.dato.controls.insumos.controls[i].controls.cantidad_solicitada.touched}\">\r\n                                                        <input *ngIf=\"tieneid\" style=\"background:aliceblue\" type=\"text\" readonly class=\"input\" formControlName=\"cantidad_solicitada\" >\r\n                                                    </p>\r\n                                                </div>\r\n                                            </a>\r\n                                        </div>\r\n                                        <div class=\"level-right\">\r\n                                            <a class=\"level-item\" >\r\n                                                <div class=\"field\">\r\n                                                    <label class=\"label\" *ngIf=\"tieneid\">Cant. surtida:</label>\r\n                                                    <label class=\"label\" *ngIf=\"!tieneid\">Cant. a surtir:</label>\r\n                                                    <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                                                        <input *ngIf=\"!tieneid\" style=\"background:aliceblue\" type=\"text\" readonly class=\"input\" formControlName=\"cantidad_surtida\" [ngClass]=\"{'is-danger': ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.hasError('required') && ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.touched}\">\r\n                                                        <input *ngIf=\"tieneid\" style=\"background:aliceblue\" type=\"text\" readonly class=\"input\" formControlName=\"cantidad\" >\r\n                                                    </p>\r\n                                                </div>\r\n                                            </a>\r\n\r\n                                        </div>\r\n                                    </nav>\r\n                                </div>\r\n                            </article>\r\n                        </div>\r\n                    </div>\r\n\r\n                </section>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</form>\r\n\r\n\r\n<div class=\"modal\" id=\"verLotes\">\r\n    <div class=\"modal-background\"></div>\r\n    <div class=\"modal-card\" style=\"width: 60%;\">\r\n        <header class=\"modal-card-head\">\r\n            <p class=\"modal-card-title\" id=\"tituloModal\" style=\"width: 200px\"> </p>\r\n            <button type=\"button\" class=\"delete\" (click)=\"cancelarModal('verLotes')\"></button>\r\n        </header>\r\n        <section class=\"modal-card-body\">\r\n            <div class=\"columns\">\r\n                <div class=\"column is-three-quarters\">\r\n                </div>\r\n                <div class=\"column\">\r\n                    <div class=\"field is-horizontal\">\r\n                        <label class=\"label\">Cant. solicitada:</label>\r\n                        <input class=\"input has-text-centered \" type=\"number\" step=\"1\" min=\"0\" placeholder=\"Cantidad\" #cantidad_solicitada id=\"cantidad_solicitada\" name=\"cantidad_solicitada\" (keyup)=\"comprobar_cant_solicitada(cantidad_solicitada.value)\">\r\n                       <!-- <input style=\"background:aliceblue\" type=\"text\" readonly class=\"input\" formControlName=\"cantidad_surtida\" [ngClass]=\"{'is-danger': ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.hasError('required') && ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.touched}\"> -->\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <table class=\"table is-narrow is-bordered is-striped\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Lote</th>\r\n                        <th>Caducidad</th>\r\n                        <th>Codigo de barras</th>\r\n                        <th>Existencia</th>\r\n                        <th>Cantidad</th>\r\n                        <!-- \r\n                        <th *ngIf=\"es_unidosis\">Existencia Unidosis</th> \r\n                        <th *ngIf=\"es_unidosis\">Cantidad Unidosis</th> -->\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor=\"let item of lotes_insumo;  let i = index;\">\r\n                        <td *ngIf=\"!item.nuevo\">{{item.lote}}</td>\r\n                        <td *ngIf=\"item.nuevo\"><input class=\"input has-text-centered \" type=\"text\" placeholder=\"Lote\" [(ngModel)]=\"item.lote\"></td>\r\n                        <td *ngIf=\"!item.nuevo\">{{item.fecha_caducidad}}</td>\r\n                        <td *ngIf=\"item.nuevo\"><input class=\"input has-text-centered \" type=\"date\" placeholder=\"Fecha de caducidad\" [(ngModel)]=\"item.fecha_caducidad\"></td>\r\n                        <td *ngIf=\"!item.nuevo\">{{item.codigo_barras}}</td>\r\n                        <td *ngIf=\"item.nuevo\"><input class=\"input has-text-centered \" type=\"text\" placeholder=\"Codigo de barras\" [(ngModel)]=\"item.codigo_barras\"></td>\r\n                        <td *ngIf=\"!item.nuevo\">{{item.existencia}}</td>\r\n                        <td *ngIf=\"item.nuevo\"></td>\r\n                        <td>\r\n                            <input class=\"input has-text-centered \" type=\"number\" step=\"1\" min=\"0\" max=\"{{item.existencia}}\" placeholder=\"Cantidad\" [(ngModel)]=\"item.cantidad\">\r\n                        </td>\r\n\r\n                        <!--\r\n                        <td *ngIf=\"!item.nuevo && es_unidosis\">{{item.existencia_unidosis}}</td>\r\n                        <td *ngIf=\"item.nuevo && es_unidosis\"></td>\r\n\r\n                        <td *ngIf=\"es_unidosis\">\r\n                            <input class=\"input has-text-centered \" type=\"number\" step=\"1\" min=\"0\" max=\"{{item.cantidad_unidosis}}\" placeholder=\"Cantidad Unidosis\" [(ngModel)]=\"item.cantidad_unidosis\">\r\n                        </td> -->\r\n\r\n                        <td *ngIf=\"item.nuevo\">\r\n                            <a class=\"delete\" (click)=eliminarLote(i)></a>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n                \r\n            </table>\r\n        </section>\r\n        <footer class=\"modal-card-foot\">\r\n            <a class=\"button is-dark\" (click)=\"agregarNuevoLote()\">Agregar nuevo lote</a>                            \r\n            <a class=\"button is-success\" [ngClass]=\"{'is-disabled':!cant_solicitada_valida}\" (click)=\"agregarLoteIsumo(cantidad_solicitada.value)\">Aceptar</a>\r\n            <a class=\"button\" (click)=\"cancelarModal('verLotes')\">Cancelar</a>\r\n        </footer>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/farmacia/salidas-estandar/formulario/formulario.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__environments_environment__ = __webpack_require__("../../../../../src/environments/environment.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__crud_crud_service__ = __webpack_require__("../../../../../src/app/crud/crud.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_angular2_notifications__ = __webpack_require__("../../../../angular2-notifications/dist/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_file_saver__ = __webpack_require__("../../../../file-saver/FileSaver.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_file_saver___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_file_saver__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormularioComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var FormularioComponent = (function () {
    function FormularioComponent(fb, crudService, route, _sanitizer, notificacion, _ngZone) {
        var _this = this;
        this.fb = fb;
        this.crudService = crudService;
        this.route = route;
        this._sanitizer = _sanitizer;
        this.notificacion = notificacion;
        this._ngZone = _ngZone;
        this.tab = 1;
        this.cargando = false;
        this.cant_solicitada_valida = false;
        this.insumos_term = __WEBPACK_IMPORTED_MODULE_4__environments_environment__["a" /* environment */].API_URL + "/insumos-auto?term=:keyword";
        this.MinDate = new Date();
        this.MaxDate = new Date();
        this.tieneid = false;
        this.cargandoPdf = false;
        /**
           * Este método formatea los resultados de la busqueda en el autocomplte
           * @param data resultados de la busqueda
           * @return void
           */
        this.autocompleListFormatter = function (data) {
            var html = "\n    <div class=\"card\">\n      <div class=\"card-content\">\n        <div class=\"media\">          \n          <div class=\"media-content\">\n            <p class=\"title is-4\">" + data.nombre + " <small>" + data.descripcion + "</small></p>\n            <p class=\"subtitle is-6\">\n              <strong>Clave: </strong> " + data.clave + ") \n              ";
            if (data.es_causes)
                html += "<label class=\"tag is-success\" ><strong>Cause </strong></label>";
            if (!data.es_causes)
                html += "<label class=\"tag is-success\" ><strong>No Cause </strong> </label>";
            if (data.es_unidosis)
                html += "<label class=\"tag is-warning\" ><strong>Unidosis</strong> </label>";
            html += "\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>";
            return _this._sanitizer.bypassSecurityTrustHtml(html);
        };
        this.es_unidosis = false;
        this.options = {
            position: ["top", "right"],
            timeOut: 5000,
            lastOnBottom: true
        };
        this.mostrar_lote = [];
    }
    // # FIN SECCION
    FormularioComponent.prototype.ngOnInit = function () {
        var _this = this;
        //obtener los datos del usiario logueado almacen y clues
        var usuario = JSON.parse(localStorage.getItem("usuario"));
        //Solo si se va a cargar catalogos poner un <a id="catalogos" (click)="ctl.cargarCatalogo('modelo','ruta')">refresh</a>
        document.getElementById("catalogos").click();
        document.getElementById("actualizar").click();
        if (usuario.clues_activa) {
            this.insumos_term += "&clues=" + usuario.clues_activa.clues;
        }
        if (usuario.almacen_activo) {
            this.insumos_term += "&almacen=" + usuario.almacen_activo.id;
        }
        // Inicializamos el objeto para los reportes con web Webworkers
        this.pdfworker = new Worker("web-workers/farmacia/movimientos/salida.js");
        // Este es un hack para poder usar variables del componente dentro de una funcion del worker
        var self = this;
        var $ngZone = this._ngZone;
        this.pdfworker.onmessage = function (evt) {
            // Esto es un hack porque estamos fuera de contexto dentro del worker
            // Y se usa esto para actualizar alginas variables
            $ngZone.run(function () {
                self.cargandoPdf = false;
            });
            __WEBPACK_IMPORTED_MODULE_7_file_saver__["saveAs"](self.base64ToBlob(evt.data.base64, 'application/pdf'), evt.data.fileName);
            //open( 'data:application/pdf;base64,' + evt.data.base64 ); // Popup PDF
        };
        //inicializar el formulario reactivo
        this.dato = this.fb.group({
            id: [''],
            tipo_movimiento_id: ['2', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["Validators"].required]],
            status: ['FI'],
            fecha_movimiento: ['', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["Validators"].required]],
            observaciones: [''],
            cancelado: [''],
            observaciones_cancelacion: [''],
            movimiento_metadato: this.fb.group({
                turno_id: ['', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["Validators"].required]],
                servicio_id: ['', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["Validators"].required]],
                persona_recibe: ['', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["Validators"].required]],
            }),
            insumos: this.fb.array([])
        });
        this.route.params.subscribe(function (params) {
            if (params['id']) {
                _this.tieneid = true;
            }
        });
        //variable para crear el array del formulario reactivo
        this.form_insumos = {
            tipo_movimiento_id: ['', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["Validators"].required]]
        };
        //inicializar el data picker minimo y maximo
        var date = new Date();
        this.MinDate = new Date(date.getFullYear() - 1, 0, 1);
        this.MaxDate = new Date(date.getFullYear(), date.getMonth(), date.getDate());
        //si es nuevo poner la fecha actual si no poner la fecha con que se guardo
        if (!this.dato.get('fecha_movimiento').value) {
            this.fecha_actual = date.getFullYear() + '-' + ('00' + (date.getMonth() + 1)).slice(-2) + '-' + date.getDate();
            this.dato.get('fecha_movimiento').patchValue(this.fecha_actual);
        }
        else {
            this.fecha_actual = this.dato.get('fecha_movimiento').value;
        }
    };
    /**
       * Este método abre una modal
       * @param id identificador del elemento de la modal
       * @return void
       */
    FormularioComponent.prototype.abrirModal = function (id) {
        document.getElementById(id).classList.add('is-active');
    };
    /**
       * Este método cierra una modal
       * @param id identificador del elemento de la modal
       * @return void
       */
    FormularioComponent.prototype.cancelarModal = function (id) {
        document.getElementById(id).classList.remove('is-active');
    };
    /**
       * Este método carga los datos de un elemento de la api con el id que se pase por la url
       * @param data json con los datos del objetop seleccionado del autocomplete
       * @return void
       */
    FormularioComponent.prototype.select_insumo_autocomplete = function (data) {
        var _this = this;
        var usuario = JSON.parse(localStorage.getItem("usuario"));
        this.cargando = true;
        //cargar los datos de los lotes del insumo seleccionado en el autocomplete
        this.crudService.lista(0, 1000, 'comprobar-stock?almacen=' + usuario.almacen_activo.id + '&clave=' + data.clave).subscribe(function (resultado) {
            _this.lotes_insumo = resultado;
            _this.insumo = data;
            //limpiar el autocomplete
            document.getElementById('buscarInsumo').value = '';
            //poner el titulo a la modal
            document.getElementById('tituloModal').innerHTML = " " + data.nombre + " <br><p aling=\"justify\" style=\"font-size:12px\">" + data.descripcion + "</p> ";
            _this.es_unidosis = data.es_unidosis;
            _this.cargando = false;
            _this.abrirModal('verLotes');
        }, function (error) {
            _this.cargando = false;
        });
    };
    /**
       * Este método agrega los lostes del modal a el modelo que se envia a la api
       * @return void
       */
    FormularioComponent.prototype.agregarLoteIsumo = function (cantidad_solicitada) {
        //obtener el formulario reactivo para agregar los elementos
        var control = this.dato.controls['insumos'];
        //comprobar que el isumo no este en la lista cargada
        var existe = false;
        for (var _i = 0, _a = control.value; _i < _a.length; _i++) {
            var item = _a[_i];
            if (item.clave == this.insumo.clave) {
                existe = true;
                break;
            }
        }
        //crear el json que se pasara al formulario reactivo tipo insumos
        var lotes = {
            "clave": this.insumo.clave,
            "nombre": this.insumo.nombre,
            "descripcion": this.insumo.descripcion,
            "es_causes": this.insumo.es_causes,
            "es_unidosis": this.insumo.es_unidosis,
            "cantidad": 1,
            "cantidad_x_envase": parseInt(this.insumo.cantidad_x_envase),
            "cantidad_surtida": 1,
            "cantidad_solicitada": cantidad_solicitada,
            "lotes": this.fb.array([])
        };
        //si no esta en la lista agregarlo
        if (!existe)
            control.push(this.fb.group(lotes));
        //obtener la ultima posicion para que en esa se agreguen los lostes
        var posicion = control.length - 1;
        //obtener el control del formulario en la posicion para agregar el nuevo form array que corresponde a los lotes
        var ctrlLotes = control.controls[posicion];
        //Mostrar ocultar los lotes en la vista al hacer clic en el icono de plus
        this.mostrar_lote[posicion] = false;
        var objeto = {
            showProgressBar: true,
            pauseOnHover: true,
            clickToClose: true,
            maxLength: 2000
        };
        this.options = {
            position: ["top", "right"],
            timeOut: 5000,
            lastOnBottom: true
        };
        //recorrer la tabla de lotes del modal para obtener la cantidad 
        for (var _b = 0, _c = this.lotes_insumo; _b < _c.length; _b++) {
            var item = _c[_b];
            //agregar unicamente aquellos que tiene cantidad
            if (item.cantidad > 0) {
                var existe_lote = false;
                //si existe el isnumo validar que el lote no exista
                if (existe) {
                    for (var _d = 0, _e = ctrlLotes.controls['lotes'].controls; _d < _e.length; _d++) {
                        var l = _e[_d];
                        //si el lote existe agregar unicamente la cantidad nueva
                        if (l.controls.id.value == item.id) {
                            existe_lote = true;
                            //agregar la cantida nueva al lote
                            var cantidad_lote = l.controls.cantidad.value + item.cantidad;
                            //validar que la cantidad escrita no sea mayor que la existencia si no poner la existencia como la cantidad maxima      
                            if (cantidad_lote > l.controls.existencia.value) {
                                this.notificacion.alert("Cantidad Excedida", "La cantidad maxima es: " + l.controls.existencia.value, objeto);
                                cantidad_lote = l.controls.existencia.value * 1;
                            }
                            l.controls.cantidad.patchValue(cantidad_lote);
                            break;
                        }
                    }
                }
                //si el lote no existe agregarlo
                if (!existe_lote) {
                    //validar que la cantidad escrita no sea mayor que la existencia si no poner la existencia como la cantidad maxima        
                    if (item.nuevo) {
                        item.existencia = item.cantidad * 1;
                    }
                    if (item.cantidad > item.existencia) {
                        this.notificacion.alert("Cantidad Excedida", "La cantidad maxima es: " + item.existencia, objeto);
                        item.cantidad = item.existencia * 1;
                    }
                    //agregar al formulario reactivo de lote
                    ctrlLotes.controls['lotes'].push(this.fb.group({
                        id: item.id,
                        nuevo: item.nuevo | 0,
                        codigo_barras: item.codigo_barras,
                        lote: item.lote,
                        fecha_caducidad: item.fecha_caducidad,
                        existencia: item.nuevo ? item.cantidad : item.existencia,
                        cantidad: item.cantidad
                    }));
                }
            }
        }
        //sumamos las cantidades de los lotes
        var cantidad = 0;
        for (var _f = 0, _g = ctrlLotes.controls['lotes'].value; _f < _g.length; _f++) {
            var l = _g[_f];
            cantidad = cantidad + l.cantidad;
        }
        //agregar la cantidad surtida
        ctrlLotes.controls['cantidad_surtida'].patchValue(cantidad);
        this.cancelarModal('verLotes');
        this.cantidad_solicitadaBoxViewChildren.first.nativeElement.value = "";
        this.cantidad_solicitadaBoxViewChildren.first.nativeElement.focus();
    };
    /**
       * Este método agrega una nueva fila para los lotes nuevos
       * @param posicion Posicion a mostrar el detalle de lotes
       * @return void
       */
    FormularioComponent.prototype.ver_lotes_asignados = function (posicion) {
        this.mostrar_lote[posicion] = !this.mostrar_lote[posicion];
    };
    /**
       * Este método agrega una nueva fila para los lotes nuevos
       * @return void
       */
    FormularioComponent.prototype.agregarNuevoLote = function () {
        //this.lotes_insumo.push({ id: "" + Math.floor(Math.random() * (999)) + 1, codigo_barras: "", lote: "", fecha_caducidad: "", existencia: '', cantidad: '', nuevo: 1, existencia_unidosis: '', cantidad_unidosis: '' });
        this.lotes_insumo.push({ id: "" + Math.floor(Math.random() * (999)) + 1, codigo_barras: "", lote: "", fecha_caducidad: "", existencia: '', cantidad: '', nuevo: 1 });
    };
    /**
       * Este método elimina los lotes nuevos que se agregaron a la lista de lotes
       * @return void
       */
    FormularioComponent.prototype.eliminarLote = function (index) {
        this.lotes_insumo.splice(index, 1);
    };
    /**
       * Este método quita un lote del la lista de insumos
       * @param i Posicion del insumo en la lista
       * @param val Object con los datos del lote
       * @param i2 Posicion del lote en la lista de lotes
       * @return void
       */
    FormularioComponent.prototype.quitar_lote_insumo = function (i, val, i2) {
        var control = this.dato.controls['insumos'];
        var ctrlLotes = control.controls[i];
        var ctrlLotesLote = ctrlLotes.controls['lotes'];
        ctrlLotesLote.removeAt(i2);
        var cantidad = ctrlLotes.controls['cantidad_surtida'].value - val.cantidad;
        ctrlLotes.controls['cantidad_surtida'].patchValue(cantidad);
    };
    /**
       * Este método valida que la cantidad escrita en el lote por listado de isnumos sea menor que la existencia
       * @param i Posicion del insumo en la lista
       * @param val Object con los datos del lote
       * @param i2 Posicion del lote en la lista de lotes
       * @return void
       */
    FormularioComponent.prototype.validar_cantidad_lote = function (i, val, i2) {
        if (val.controls.cantidad.value > val.controls.existencia.value) {
            var objeto = {
                showProgressBar: true,
                pauseOnHover: true,
                clickToClose: true,
                maxLength: 2000
            };
            this.notificacion.alert("Cantidad Excedida", "La cantidad maxima es: " + val.controls.existencia.value, objeto);
            val.controls.cantidad.patchValue(val.controls.existencia.value * 1);
        }
        //sumamos las cantidades de los lotes
        var control = this.dato.controls['insumos'];
        var ctrlLotes = control.controls[i];
        var cantidad = 0;
        for (var _i = 0, _a = ctrlLotes.controls['lotes'].value; _i < _a.length; _i++) {
            var l = _a[_i];
            cantidad = cantidad + l.cantidad;
        }
        ctrlLotes.controls['cantidad_surtida'].patchValue(cantidad);
    };
    FormularioComponent.prototype.comprobar_cant_solicitada = function (value) {
        if (value > 0) {
            this.cant_solicitada_valida = true;
        }
        else {
            this.cant_solicitada_valida = false;
        }
    };
    FormularioComponent.prototype.imprimir = function () {
        var usuario = JSON.parse(localStorage.getItem("usuario"));
        try {
            this.cargandoPdf = true;
            var entrada_imprimir = {
                datos: this.dato.value,
                lista: this.dato.value.insumos,
                usuario: usuario
            };
            this.pdfworker.postMessage(JSON.stringify(entrada_imprimir));
        }
        catch (e) {
            this.cargandoPdf = false;
        }
    };
    FormularioComponent.prototype.base64ToBlob = function (base64, type) {
        var bytes = atob(base64), len = bytes.length;
        var buffer = new ArrayBuffer(len), view = new Uint8Array(buffer);
        for (var i = 0; i < len; i++)
            view[i] = bytes.charCodeAt(i) & 0xff;
        return new Blob([buffer], { type: type });
    };
    return FormularioComponent;
}());
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["ViewChildren"])('cantidad_solicitada'),
    __metadata("design:type", Object)
], FormularioComponent.prototype, "cantidad_solicitadaBoxViewChildren", void 0);
FormularioComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'salidas-estandar-formulario',
        template: __webpack_require__("../../../../../src/app/farmacia/salidas-estandar/formulario/formulario.component.html"),
        styles: ['ngui-auto-complete {z-index: 999999 !important}']
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_forms__["FormBuilder"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_forms__["FormBuilder"]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_5__crud_crud_service__["a" /* CrudService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_5__crud_crud_service__["a" /* CrudService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_3__angular_router__["c" /* ActivatedRoute */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__angular_router__["c" /* ActivatedRoute */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_2__angular_platform_browser__["d" /* DomSanitizer */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_platform_browser__["d" /* DomSanitizer */]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_6_angular2_notifications__["a" /* NotificationsService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_6_angular2_notifications__["a" /* NotificationsService */]) === "function" && _e || Object, typeof (_f = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"]) === "function" && _f || Object])
], FormularioComponent);

var _a, _b, _c, _d, _e, _f;
//# sourceMappingURL=C:/wamp/www/x3-C/src/formulario.component.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/salidas-estandar/lista/lista.component.html":
/***/ (function(module, exports) {

module.exports = "<listar #ctrl URL=\"movimientos?tipo=2\" titulo=\"Salida Estandar\"></listar>\r\n<menu-farmacia [modulo]=\"'Salidas estandar'\" [icono]=\"'assets/icono-salidas.svg'\" [url]=\"'/almacen/salidas-estandar'\"></menu-farmacia>\r\n<div style=\"height:50px;\"></div>\r\n<div class=\"contenedor columns \" style=\"height:100%; \">\r\n     <div class=\"column is-one-quarter is-hidden-mobile\">\r\n        <!-- <menu-lateral (onEnviarTipo)=enviarTipo($event);></menu-lateral>  -->\r\n        <aside class=\"menu\" style=\"padding: 1em;\">\r\n            <a routerLink=\"/almacen/salidas-estandar/nuevo\" routerLinkActive=\"is-active\" class=\"button is-primary is-inverted is-medium is-fullwidth\"><span class=\"icon\"  ><i class=\"fa fa-plus\"></i></span> <span>Nueva Salida</span></a>\r\n            <br>\r\n            <ul class=\"menu-list\">\r\n                <li>\r\n                    <a routerLink=\"/almacen/salidas-estandar\" #estandar routerLinkActive=\"is-active\">\r\n                        <span class=\"icon\"><i class=\"fa fa-file\"></i></span> Salida estandar\r\n                        <span class=\"icon is-pulled-right\" *ngIf=\"cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span>\r\n                        <!-- <span class=\"tag is-pulled-right\" [ngClass]=\"{ 'is-white': estandar.className == 'is-active', 'is-primary': estandar.className != 'is-active' }\"></span> -->\r\n                    </a>\r\n                </li>\r\n            </ul>\r\n\r\n        </aside>\r\n    </div>\r\n    <div class=\"column\" style=\"padding:2em;\">\r\n        <div style=\"background: #FFF; border-radius: 1em; overflow: hidden;\">\r\n            <section class=\"hero\" [ngClass]=\" {'is-dark': ctrl.busquedaActivada, 'is-primary': !ctrl.busquedaActivada } \">\r\n\r\n                <div class=\"hero-body\" style=\"position:relative;\">\r\n                    <a class=\"button  is-dark\" *ngIf=\"ctrl.busquedaActivada\" style=\"position:absolute; top:1em; right:1em;\" (click)=\"ctrl.busquedaActivada=false;searchBox.value=''; ctrl.resultadosBusqueda=[]\"><span class=\"icon \"><i class=\"fa fa-close\"></i></span></a>\r\n                    <a class=\"button  is-dark\" *ngIf=\"ctrl.busquedaActivada\" style=\"position:absolute; top:1em; right:3.5em;\" (click)=\"ctrl.listarBusqueda(searchBox.value,1)\"><span class=\"icon \"><i class=\"fa fa-refresh\"></i></span></a>\r\n                    <a class=\"button  is-primary\" *ngIf=\"!ctrl.busquedaActivada\" style=\"position:absolute; top:1em; right:1em;\" (click)=\"ctrl.listar(1)\"><span class=\"icon \"><i class=\"fa fa-refresh\"></i></span></a>\r\n                    <div class=\"container is-fluid\">\r\n\r\n                        <h1 class=\"title\" *ngIf=\"!ctrl.busquedaActivada\">\r\n                            <span class=\"icon is-medium\"><i class=\"fa fa-user\"></i></span> salidas estandar\r\n                        </h1>\r\n                        <h1 class=\"title\" *ngIf=\"ctrl.busquedaActivada\">\r\n                            <span class=\"icon is-medium\"><i class=\"fa fa-search\"></i></span> Búsqueda\r\n                        </h1>\r\n                        <div class=\"control is-grouped\">\r\n                            <p class=\"control is-expanded\">\r\n                                <input class=\"input is-medium\" type=\"text\" placeholder=\"Buscar\" #searchBox id=\"search-box\" (keyup)=\"ctrl.buscar(searchBox.value)\">\r\n                            </p>\r\n                            <p class=\"control\">\r\n                                <a class=\"button is-medium is-primary is-inverted \" routerLink=\"/almacen/salidas-estandar/nuevo\">\r\n                                    <span class=\"icon\"><i class=\"fa fa-plus\"></i></span><span>Nuevo</span>\r\n                                </a>\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class=\"is-fullwidth has-text-centered\" *ngIf=\"ctrl.cargando\">\r\n                <br>\r\n                <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n\r\n            <table class=\"table\" *ngIf=\"!ctrl.cargando\">\r\n                <thead>\r\n                    <tr>\r\n                        <th><abbr title=\"Usuario ID\">ID</abbr></th>\r\n                        <th>Almacén</th>\r\n                        <th>Fecha</th>\r\n                        <th>Estatus</th>\r\n                        <th style=\"text-align:center;\">Opciones</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody *ngIf=\"!ctrl.busquedaActivada\">\r\n                    <tr *ngFor=\"let item of ctrl.dato; let i=index\">\r\n                        <th style=\"vertical-align: middle;\"><a routerLink=\"/almacen/salidas-estandar/editar/{{item.id}}\">{{ item.id }}</a></th>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/salidas-estandar/editar/{{item.id}}\">{{ item.almacen_id }} </a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/salidas-estandar/editar/{{item.id}}\">{{ item.fecha_movimiento }} </a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/salidas-estandar/editar/{{item.id}}\">{{ item.status }} </a></td>\r\n                        <td style=\"vertical-align: middle;\" class=\"has-text-centered\"><span class=\"icon \" *ngIf=\"item.cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span><a *ngIf=\"!item.cargando\"\r\n                                class=\"is-danger\" (click)=\"ctrl.eliminar(item, i)\"><span class=\"icon\"><i class=\"fa fa-trash-o\"></i></span></a></td>\r\n\r\n                    </tr>\r\n                    <tr *ngIf=\"ctrl.dato.length == 0\">\r\n                        <td colspan=\"5\" style=\"vertical-align: middle; color:#888;\">Esta lista está vacía.</td>\r\n                    </tr>\r\n                </tbody>\r\n                <tbody *ngIf=\"ctrl.busquedaActivada\">\r\n                    <tr *ngFor=\"let item of ctrl.resultadosBusqueda; let i=index\">\r\n                        <th style=\"vertical-align: middle;\"><a routerLink=\"/almacen/salidas-estandar/editar/{{item.id}}\">{{ item.id }}</a></th>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/salidas-estandar/editar/{{item.id}}\">{{ item.almacen_id }} </a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/salidas-estandar/editar/{{item.id}}\">{{ item.fecha_movimiento }} </a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/salidas-estandar/editar/{{item.id}}\">{{ item.status }} </a></td>\r\n                        <td style=\"vertical-align: middle;\" class=\"has-text-centered\"><span class=\"icon \" *ngIf=\"item.cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span><a *ngIf=\"!item.cargando\"\r\n                                class=\"is-danger\" (click)=\"ctrl.eliminar(item, i)\"><span class=\"icon\"><i class=\"fa fa-trash-o\"></i></span></a></td>\r\n\r\n                    </tr>\r\n\r\n                    <tr *ngIf=\"ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada\">\r\n                        <td colspan=\"5\" style=\"vertical-align: middle; color:#888;\">No se encontraron resultados.</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <!-- Paginación para la lista  -->\r\n            <paginacion [total]=\"ctrl.total\" [paginasTotales]=\"ctrl.paginasTotales\" [resultadosPorPagina]=\"ctrl.resultadosPorPagina\"\r\n                [paginaActual]=\"ctrl.paginaActual\" [indicePaginas]=\"ctrl.indicePaginas\" (onSiguiente)=\"ctrl.paginaSiguiente()\"\r\n                (onAnterior)=\"ctrl.paginaAnterior()\" (onListar)=\"ctrl.listar($event)\" *ngIf=\"ctrl.total>0 && ctrl.total > ctrl.resultadosPorPagina && !ctrl.busquedaActivada\"></paginacion>\r\n            <!-- Paginación para la búsqueda  -->\r\n            <paginacion [total]=\"ctrl.totalBusqueda\" [paginasTotales]=\"ctrl.paginasTotalesBusqueda\" [resultadosPorPagina]=\"ctrl.resultadosPorPaginaBusqueda\"\r\n                [paginaActual]=\"ctrl.paginaActualBusqueda\" [indicePaginas]=\"ctrl.indicePaginasBusqueda\" (onSiguiente)=\"ctrl.paginaSiguienteBusqueda(searchBox.value)\"\r\n                (onAnterior)=\"ctrl.paginaAnteriorBusqueda(searchBox.value)\" (onListar)=\"ctrl.listarBusqueda(searchBox.value,$event)\"\r\n                *ngIf=\"ctrl.totalBusqueda > 0 && ctrl.totalBusqueda > ctrl.resultadosPorPaginaBusqueda && ctrl.busquedaActivada\"></paginacion>\r\n\r\n\r\n\r\n        </div>\r\n\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/farmacia/salidas-estandar/lista/lista.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ListaComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var ListaComponent = (function () {
    function ListaComponent() {
    }
    return ListaComponent;
}());
ListaComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'salidas-recetas-lista',
        template: __webpack_require__("../../../../../src/app/farmacia/salidas-estandar/lista/lista.component.html")
    })
], ListaComponent);

//# sourceMappingURL=C:/wamp/www/x3-C/src/lista.component.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/salidas-estandar/salidas-estandar-routing.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lista_lista_component__ = __webpack_require__("../../../../../src/app/farmacia/salidas-estandar/lista/lista.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__formulario_formulario_component__ = __webpack_require__("../../../../../src/app/farmacia/salidas-estandar/formulario/formulario.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__auth_guard_service__ = __webpack_require__("../../../../../src/app/auth-guard.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SalidasEstandarRoutingModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





var routes = [
    {
        path: 'almacen/salidas-estandar',
        children: [
            { path: '', component: __WEBPACK_IMPORTED_MODULE_2__lista_lista_component__["a" /* ListaComponent */] },
            { path: 'nuevo', component: __WEBPACK_IMPORTED_MODULE_3__formulario_formulario_component__["a" /* FormularioComponent */] },
            { path: 'editar/:id', component: __WEBPACK_IMPORTED_MODULE_3__formulario_formulario_component__["a" /* FormularioComponent */] },
        ],
        canActivate: [__WEBPACK_IMPORTED_MODULE_4__auth_guard_service__["a" /* AuthGuard */]]
    }
];
var SalidasEstandarRoutingModule = (function () {
    function SalidasEstandarRoutingModule() {
    }
    return SalidasEstandarRoutingModule;
}());
SalidasEstandarRoutingModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */].forChild(routes)],
        exports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */]],
        providers: []
    })
], SalidasEstandarRoutingModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/salidas-estandar-routing.module.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/salidas-estandar/salidas-estandar.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__hub_hub_module__ = __webpack_require__("../../../../../src/app/hub/hub.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__perfil_perfil_module__ = __webpack_require__("../../../../../src/app/perfil/perfil.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__bloquear_pantalla_bloquear_pantalla_module__ = __webpack_require__("../../../../../src/app/bloquear-pantalla/bloquear-pantalla.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__salidas_estandar_routing_module__ = __webpack_require__("../../../../../src/app/farmacia/salidas-estandar/salidas-estandar-routing.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__paginacion_paginacion_module__ = __webpack_require__("../../../../../src/app/paginacion/paginacion.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__pipes_pipes_module__ = __webpack_require__("../../../../../src/app/pipes/pipes.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__lista_lista_component__ = __webpack_require__("../../../../../src/app/farmacia/salidas-estandar/lista/lista.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__formulario_formulario_component__ = __webpack_require__("../../../../../src/app/farmacia/salidas-estandar/formulario/formulario.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__auth_service__ = __webpack_require__("../../../../../src/app/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__index_farmacia_index_farmacia_module__ = __webpack_require__("../../../../../src/app/farmacia/index-farmacia/index-farmacia.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__crud_crud_service__ = __webpack_require__("../../../../../src/app/crud/crud.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__crud_crud_module__ = __webpack_require__("../../../../../src/app/crud/crud.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__ngui_auto_complete__ = __webpack_require__("../../../../@ngui/auto-complete/dist/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__ngui_auto_complete___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_15__ngui_auto_complete__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__ngui_datetime_picker__ = __webpack_require__("../../../../@ngui/datetime-picker/dist/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__ngui_datetime_picker___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_16__ngui_datetime_picker__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SalidasEstandarModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};













//crud


//fin crud


var SalidasEstandarModule = (function () {
    function SalidasEstandarModule() {
    }
    return SalidasEstandarModule;
}());
SalidasEstandarModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [
            __WEBPACK_IMPORTED_MODULE_1__angular_common__["CommonModule"],
            __WEBPACK_IMPORTED_MODULE_2__angular_forms__["FormsModule"],
            __WEBPACK_IMPORTED_MODULE_2__angular_forms__["ReactiveFormsModule"],
            __WEBPACK_IMPORTED_MODULE_6__salidas_estandar_routing_module__["a" /* SalidasEstandarRoutingModule */],
            __WEBPACK_IMPORTED_MODULE_3__hub_hub_module__["a" /* HubModule */],
            __WEBPACK_IMPORTED_MODULE_4__perfil_perfil_module__["a" /* PerfilModule */],
            __WEBPACK_IMPORTED_MODULE_5__bloquear_pantalla_bloquear_pantalla_module__["a" /* BloquearPantallaModule */],
            __WEBPACK_IMPORTED_MODULE_7__paginacion_paginacion_module__["a" /* PaginacionModule */],
            __WEBPACK_IMPORTED_MODULE_8__pipes_pipes_module__["a" /* PipesModule */],
            __WEBPACK_IMPORTED_MODULE_12__index_farmacia_index_farmacia_module__["a" /* IndexFarmaciaModule */],
            __WEBPACK_IMPORTED_MODULE_14__crud_crud_module__["a" /* CrudModule */],
            __WEBPACK_IMPORTED_MODULE_15__ngui_auto_complete__["NguiAutoCompleteModule"],
            __WEBPACK_IMPORTED_MODULE_16__ngui_datetime_picker__["NguiDatetimePickerModule"]
        ],
        declarations: [
            __WEBPACK_IMPORTED_MODULE_9__lista_lista_component__["a" /* ListaComponent */],
            __WEBPACK_IMPORTED_MODULE_10__formulario_formulario_component__["a" /* FormularioComponent */]
        ],
        providers: [__WEBPACK_IMPORTED_MODULE_11__auth_service__["a" /* AuthService */], __WEBPACK_IMPORTED_MODULE_13__crud_crud_service__["a" /* CrudService */]]
    })
], SalidasEstandarModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/salidas-estandar.module.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/salidas-recetas/formulario/formulario.component.html":
/***/ (function(module, exports) {

module.exports = "<formulario #ctrl URL=\"movimientos\" titulo=\"Salida Receta\" [dato]=\"dato\"></formulario>\r\n<menu-farmacia [modulo]=\"'Salida por receta'\" [icono]=\"'assets/icono-salidas.svg'\" [url]=\"'/almacen/salidas-recetas'\"></menu-farmacia>\r\n<div style=\"height:50px;\"></div>\r\n<form name=\"form\" novalidate [formGroup]=\"dato\" (ngSubmit)=\"ctrl.enviar()\">\r\n    <div class=\"contenedor columns \" style=\"height:100%\">\r\n        <div class=\"column is-one-third\" style=\"padding:1em;\">\r\n            <div style=\"background: #FFF; border-radius: 1em; \">\r\n                <section class=\"hero is-primary\">\r\n                    <h1 class=\"title\" style=\"margin:0.5em; \">\r\n                        <span class=\"icon is-medium\">\r\n                            <i class=\"fa fa-file-text\"></i>\r\n                        </span> {{ctrl.moduloTitulo}}\r\n                    </h1>\r\n\r\n\r\n                </section>\r\n                <div style=\"padding: 1em;\">\r\n                    <nav class=\"nav\">\r\n                        <div class=\"nav-right nav-menu\">\r\n                            <div class=\"nav-item\">\r\n                                <div class=\"field is-grouped\">\r\n                                    <p class=\"control\" *ngIf=\"!tieneid\" style=\"float:left\">\r\n                                        <button class=\"button is-primary\" type=\"submit\" [ngClass]=\"{'is-loading': ctrl.cargando}\" [disabled]=\"ctrl.dato.invalid\">Guardar</button>\r\n                                    </p>\r\n                                    <p class=\"control\" style=\"float:left\">\r\n                                        <a *ngIf=\"tieneid\" class=\"button is-primary is-inverted\" (click)=\"imprimir()\">\r\n                                            <span class=\"icon\"><i class=\"fa fa-print\"></i></span>\r\n                                        </a>\r\n                                        <a class=\"button\" (click)=\"ctrl.regresar()\">\r\n                                            Regresar\r\n                                        </a>\r\n                                    </p>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </nav>\r\n\r\n                    <h3 class=\"title\">\r\n                        <i class=\"fa fa-file\"></i>\r\n                         Datos del movimiento\r\n                    </h3>\r\n                    <div >\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Fecha del movimiento:</label>\r\n                            <p class=\"control is-expanded  has-icon has-icon-right\">\r\n\r\n\r\n                                <input class=\"input\" [value]=\"fecha_actual\" [(ngModel)]='fecha_movimiento' formControlName=\"fecha_movimiento\" ngui-datetime-picker\r\n                                    [min-date]=\"MinDate\" [max-date]=\"MaxDate\" date-only=\"true\" [ngClass]=\"{'is-danger': ctrl.dato.get('fecha_movimiento').hasError('required') && ctrl.dato.get('fecha_movimiento').touched}\"\r\n                                    placeholder=\"YYYY-MM-DD\" />\r\n\r\n                                <span class=\"icon is-small\" *ngIf=\"ctrl.dato.get('fecha_movimiento').hasError('required') && ctrl.dato.get('fecha_movimiento').touched\">\r\n                                    <i class=\"fa fa-warning\"></i>\r\n                                </span>\r\n                                <span class=\"help is-danger\" *ngIf=\"ctrl.dato.get('fecha_movimiento').hasError('required') && ctrl.dato.get('fecha_movimiento').touched\">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Observaciones:</label>\r\n                            <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                                <textarea class=\"textarea\" autofocus type=\"text\" [ngClass]=\"{'is-danger': ctrl.dato.get('observaciones').hasError('required') && ctrl.dato.get('observaciones').touched}\"\r\n                                    placeholder=\"Observaciones\" formControlName=\"observaciones\"></textarea>\r\n                                <span class=\"icon is-small\" *ngIf=\"ctrl.dato.get('observaciones').hasError('required') && ctrl.dato.get('observaciones').touched\">\r\n                                    <i class=\"fa fa-warning\"></i>\r\n                                </span>\r\n                                <span class=\"help is-danger\" *ngIf=\"ctrl.dato.get('observaciones').hasError('required') && ctrl.dato.get('observaciones').touched\">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div class=\"control\" *ngIf=\"mostrarCancelado\">\r\n                            <!-- *ngIf -->\r\n                            <div class=\"field\">\r\n                                <div class=\"b-checkbox control is-expanded  has-icon has-icon-right\">\r\n\r\n                                    <input type=\"checkbox\" id=\"cancelado\" class=\"styled\" [checked]=\"ctrl.dato.get('cancelado').value == '1' ? true : false\" (change)=\"ctrl.dato.get('cancelado').patchValue(ctrl.dato.get('cancelado').value == '1' ? '0' : '1')\">\r\n                                    <label for=\"cancelado\">  Cancelado\r\n                                    </label>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"field\">\r\n                                <label class=\"label\">Observaciones de cancelación:</label>\r\n                                <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                                    <textarea class=\"textarea\" autofocus type=\"text\" [ngClass]=\"{'is-danger': ctrl.dato.get('observaciones_cancelacion').hasError('required') && ctrl.dato.get('observaciones_cancelacion').touched}\"\r\n                                        placeholder=\"Observaciones de cancelacion\" formControlName=\"observaciones_cancelacion\"></textarea>\r\n                                    <span class=\"icon is-small\" *ngIf=\"ctrl.dato.get('observaciones_cancelacion').hasError('required') && ctrl.dato.get('observaciones_cancelacion').touched\">\r\n                                        <i class=\"fa fa-warning\"></i>\r\n                                    </span>\r\n                                    <span class=\"help is-danger\" *ngIf=\"ctrl.dato.get('observaciones_cancelacion').hasError('required') && ctrl.dato.get('observaciones_cancelacion').touched\">Este campo es requerido.</span>\r\n                                </p>\r\n                            </div>\r\n\r\n                        </div>\r\n                        <div formGroupName=\"movimiento_metadato\">\r\n                            <div class=\"field\"  >\r\n                                <label class=\"label\">Turno:</label>\r\n                            </div><!-- SI carga los turnos -->\r\n                                <p  *ngIf=\"ctrl.turnos\" class=\"control is-expanded  has-icon has-icon-right\">\r\n                                    <select class=\"select\" name=\"turno\" formControlName=\"turno_id\" [ngClass]=\"{'is-danger': ctrl.dato.get('movimiento_metadato').get('turno_id').hasError('required') && ctrl.dato.get('movimiento_metadato').get('turno_id').touched}\">\r\n                                        <option *ngFor=\"let item of ctrl.turnos.clues_turnos\" value=\"{{item.id}}\" [attr.selected]=\"ctrl.dato.get('movimiento_metadato').get('turno_id').value == item.id \">{{ item.nombre }}</option>\r\n                                    </select>\r\n                                    <span class=\"icon is-small\" *ngIf=\"ctrl.dato.get('movimiento_metadato').get('turno_id').hasError('required') && ctrl.dato.get('movimiento_metadato').get('turno_id').touched\">\r\n                                        <i class=\"fa fa-warning\"></i>\r\n                                    </span>\r\n                                    <span class=\"help is-danger\" *ngIf=\"ctrl.dato.get('movimiento_metadato').get('turno_id').hasError('required') && ctrl.dato.get('movimiento_metadato').get('turno_id').touched\">Este campo es requerido.</span>\r\n                                </p>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <hr id=\"catalogos\" (click)=\"ctrl.cargarCatalogo('turnos', 'mis-turnos');\">\r\n                    <h3 class=\"title\">\r\n                        <i class=\"fa fa-user-md\"></i>\r\n                        Datos de la receta\r\n                    </h3>\r\n\r\n                    <div >\r\n                        <nav class=\"panel\" formGroupName=\"receta\">\r\n\r\n                            <div class=\"columns\" style=\"width:100%\">\r\n                                <div class=\"column is-half\">\r\n                                    <div class=\"field\">\r\n                                        <label class=\"label\">Folio:</label>\r\n                                        <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                                            <input class=\"input\" type=\"text\" [ngClass]=\"{'is-danger': ctrl.dato.get('receta').get('folio').hasError('required') && ctrl.dato.get('receta').get('folio').touched}\"\r\n                                                placeholder=\"folio\" formControlName=\"folio\">\r\n                                            <span class=\"icon is-small\" *ngIf=\"ctrl.dato.get('receta').get('folio').hasError('required') && ctrl.dato.get('receta').get('folio').touched\">\r\n                                                <i class=\"fa fa-warning\"></i>\r\n                                            </span>\r\n                                            <span class=\"help is-danger\" *ngIf=\"ctrl.dato.get('receta').get('folio').hasError('required') && ctrl.dato.get('receta').get('folio').touched\">Este campo es requerido.</span>\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"column is-half\">\r\n                                    <div class=\"field\">\r\n                                        <label class=\"label\">Tipo de receta:</label>\r\n                                        <p class=\"control is-expanded  has-icon has-icon-right\">\r\n\r\n                                                <select class=\"select\" name=\"tipo_receta\" formControlName=\"tipo_receta\" [ngClass]=\"{'is-danger': ctrl.dato.get('receta').get('tipo_receta').hasError('required') && ctrl.dato.get('receta').get('tipo_receta').touched}\">\r\n                                                    <option *ngFor=\"let item of tipos_recetas\" value=\"{{item.id}}\" >{{ item.nombre }}</option>\r\n                                                </select>\r\n\r\n                                            <span class=\"icon is-small\" *ngIf=\"ctrl.dato.get('receta').get('tipo_receta').hasError('required') && ctrl.dato.get('receta').get('tipo_receta').touched\">\r\n                                                <i class=\"fa fa-warning\"></i>\r\n                                            </span>\r\n                                            <span class=\"help is-danger\" *ngIf=\"ctrl.dato.get('receta').get('tipo_receta').hasError('required') && ctrl.dato.get('receta').get('tipo_receta').touched\">Este campo es requerido.</span>\r\n                                        </p>\r\n                                    </div>\r\n\r\n                                    \r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"columns\" style=\"width:100%\">\r\n                                <div class=\"column is-half\">\r\n                                    <div class=\"field\">\r\n                                        <label class=\"label\">Fecha de receta:</label>\r\n                                        <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                                            <input class=\"input\" [value]=\"fecha_actual\" [(ngModel)]='fecha_receta' formControlName=\"fecha_receta\" ngui-datetime-picker\r\n                                                [min-date]=\"MinDate\" [max-date]=\"MaxDate\" date-only=\"true\" [ngClass]=\"{'is-danger': ctrl.dato.get('receta').get('fecha_receta').hasError('required') && ctrl.dato.get('receta').get('fecha_receta').touched}\"\r\n                                                placeholder=\"YYYY-MM-DD\" />\r\n\r\n                                            <span class=\"icon is-small\" *ngIf=\"ctrl.dato.get('receta').get('fecha_receta').hasError('required') && ctrl.dato.get('receta').get('fecha_receta').touched\">\r\n                                                <i class=\"fa fa-warning\"></i>\r\n                                            </span>\r\n                                            <span class=\"help is-danger\" *ngIf=\"ctrl.dato.get('receta').get('fecha_receta').hasError('required') && ctrl.dato.get('receta').get('fecha_receta').touched\">Este campo es requerido.</span>\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div class=\"column is-half\">\r\n                                    <div class=\"field\">\r\n                                        <label class=\"label\">Imagen:</label>\r\n                                        <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                                            <input type=\"file\" (change)=\"ctrl.seleccionarImagenBase64($event, ctrl.dato.controls.receta.controls.imagen_receta)\">\r\n                                            <input type=\"hidden\" placeholder=\"Imagen de la receta\" formControlName=\"imagen_receta\">\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"columns\" style=\"width:100%\">\r\n                                <div class=\"column \">\r\n                                    <div class=\"field\">\r\n                                        <label class=\"label\">Doctor:</label>\r\n                                        <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                                            <input class=\"input\" type=\"text\" [ngClass]=\"{'is-danger': ctrl.dato.get('receta').get('doctor').hasError('required') && ctrl.dato.get('receta').get('doctor').touched}\"\r\n                                                placeholder=\"Doctor\" formControlName=\"doctor\">\r\n                                            <span class=\"icon is-small\" *ngIf=\"ctrl.dato.get('receta').get('doctor').hasError('required') && ctrl.dato.get('receta').get('doctor').touched\">\r\n                                                <i class=\"fa fa-warning\"></i>\r\n                                            </span>\r\n                                            <span class=\"help is-danger\" *ngIf=\"ctrl.dato.get('receta').get('doctor').hasError('required') && ctrl.dato.get('receta').get('doctor').touched\">Este campo es requerido.</span>\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"columns\" style=\"width:100%\">\r\n                                <div class=\"column \">\r\n                                    <div class=\"field\">\r\n                                        <label class=\"label\">Paciente:</label>\r\n                                        <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                                            <input class=\"input\" type=\"text\" [ngClass]=\"{'is-danger': ctrl.dato.get('receta').get('paciente').hasError('required') && ctrl.dato.get('receta').get('paciente').touched}\"\r\n                                                placeholder=\"Paciente\" formControlName=\"paciente\">\r\n                                            <span class=\"icon is-small\" *ngIf=\"ctrl.dato.get('receta').get('paciente').hasError('required') && ctrl.dato.get('receta').get('paciente').touched\">\r\n                                                <i class=\"fa fa-warning\"></i>\r\n                                            </span>\r\n                                            <span class=\"help is-danger\" *ngIf=\"ctrl.dato.get('receta').get('paciente').hasError('required') && ctrl.dato.get('receta').get('paciente').touched\">Este campo es requerido.</span>\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"columns\" style=\"width:100%\">\r\n                                <div class=\"column \">\r\n                                    <div class=\"field\">\r\n                                        <label class=\"label\">Diagnostico:</label>\r\n                                        <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                                            <textarea class=\"textarea\" autofocus type=\"text\" [ngClass]=\"{'is-danger': ctrl.dato.get('receta').get('diagnostico').hasError('required') && ctrl.dato.get('receta').get('diagnostico').touched}\"\r\n                                                placeholder=\"Diagnostico\" formControlName=\"diagnostico\"></textarea>\r\n                                            <span class=\"icon is-small\" *ngIf=\"ctrl.dato.get('receta').get('diagnostico').hasError('required') && ctrl.dato.get('receta').get('diagnostico').touched\">\r\n                                                <i class=\"fa fa-warning\"></i>\r\n                                            </span>\r\n                                            <span class=\"help is-danger\" *ngIf=\"ctrl.dato.get('receta').get('diagnostico').hasError('required') && ctrl.dato.get('receta').get('diagnostico').touched\">Este campo es requerido.</span>\r\n                                        </p>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"block\" *ngIf=\"ctrl.dato.controls.receta.controls.imagen_receta.value != ''\">\r\n                                <a class=\"button is-primary is-outlined is-fullwidth\" (click)=\"abrirModal('verFoto')\">\r\n                                    <span class=\"icon\">\r\n                                        <i class=\"fa fa-eye\"> </i> \r\n                                    </span> \r\n                                    &nbsp; Ver receta\r\n                                </a>\r\n                            </div>\r\n\r\n                            <div class=\"modal\" id=\"verFoto\">\r\n                                <div class=\"modal-background\"></div>\r\n                                <div class=\"modal-content\">\r\n                                    <p class=\"image is-4by3\">\r\n                                        <img [src]=\"'data:image/jpg;base64,'+ctrl.dato.controls.receta.controls.imagen_receta.value\" alt=\"Receta\" />\r\n                                    </p>\r\n                                </div>\r\n                                <button type=\"button\" class=\"modal-close\" (click)=\"cancelarModal('verFoto')\"></button>\r\n                            </div>\r\n                        </nav>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <!-- apartado de insumos -->\r\n        <div class=\"column\" style=\"padding:1em;\">\r\n            <div style=\"background: #FFF; border-radius: 1em; \">\r\n                <section class=\"hero is-primary\">\r\n                    <div class=\"hero-body\">\r\n                        <a class=\"button  is-primary\" style=\"position:absolute; top:6em; right:3em;\" (click)=\"ctrl.cargarDatos(dato);  \"><span class=\"icon \"><i class=\"fa fa-refresh\"></i></span></a>\r\n                        <div class=\"container is-fluid\">\r\n                            <h1 class=\"title\">\r\n                                <span *ngIf=\"!ctrl.cargando || !cargando\" class=\"icon is-medium\"><i class=\"fa fa-edit\"></i></span>\r\n                                <span *ngIf=\"ctrl.cargando || cargando\" class=\"icon is-medium\"><i class=\"fa fa-refresh fa-spin\"></i></span>                                Insumos\r\n                            </h1>\r\n\r\n                        </div>\r\n                    </div>\r\n                </section>\r\n                <div class=\"is-fullwidth has-text-centered\" *ngIf=\"!ctrl.datosCargados\">\r\n                    <br>\r\n                    <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span>                    &nbsp;<span>Cargando...</span></span>\r\n                </div>\r\n                <section class=\"section\">\r\n\r\n                    <div class=\"field has-addons has-addons-centered\" *ngIf=\"!tieneid\">\r\n\r\n                        <p class=\"control\">\r\n                            <input ngui-auto-complete [source]=\"insumos_term\" [list-formatter]=\"autocompleListFormatter\" id=\"buscarInsumo\" value-property-name=\"clave\"\r\n                                display-property-name=\"nombre\" path-to-data=\"\" loading-text=\"Cargando...\" no-match-found-text=\"No hay resultados.\"\r\n                                (valueChanged)=\"select_insumo_autocomplete($event)\" min-chars=\"1\" class=\"input is-success is-medium\"\r\n                                type=\"text\" placeholder=\"Escanea el codigo de barra, o empieza escribir el nombre del producto\" >\r\n\r\n                        </p>\r\n\r\n                        <hr>\r\n                    </div>\r\n\r\n                    <div formArrayName=\"insumos\">\r\n                        <div class=\"box\" *ngFor=\"let item of ctrl.dato.controls.insumos.controls; let i=index\"  [ngStyle]=\"{'background': i%2 == 0 ? 'rgba(230, 230, 232, 0.44)' : ''}\">\r\n                            <article class=\"media\" [formGroupName]=\"i\">\r\n                                <div class=\"media-content\">\r\n                                    <div class=\"content\">\r\n                                        <a *ngIf=\"!tieneid\" class=\"is-danger\" title=\"Quitar este elemento de la lista\" style=\"float:right\" (click)=\"ctrl.quitar_form_array('insumos', i)\"><span class=\"icon\"><i class=\"fa fa-trash-o\"></i></span></a>\r\n                                        <p>\r\n                                            <strong>\r\n                                                <span style=\"color:cornflowerblue\">\r\n                                                    Clave: {{ ctrl.dato.controls.insumos.controls[i].controls.clave.value }} \r\n                                                </span>\r\n                                                Nombre: {{ctrl.dato.controls.insumos.controls[i].controls.nombre.value}}\r\n                                            \r\n                                                <label class=\"tag is-success\" *ngIf=\"ctrl.dato.controls.insumos.controls[i].controls.es_causes.value\"><strong>Cause </strong></label>\r\n                                                <label class=\"tag is-success\" *ngIf=\"!ctrl.dato.controls.insumos.controls[i].controls.es_causes.value\"><strong>No Cause </strong> </label>                                           \r\n                                                                                            \r\n                                                <label class=\"tag is-warning\" *ngIf=\"ctrl.dato.controls.insumos.controls[i].controls.es_unidosis.value\"><strong>Unidosis</strong> </label>\r\n                                            </strong>\r\n                                            <br> {{ctrl.dato.controls.insumos.controls[i].controls.descripcion.value}}\r\n                                        </p>\r\n                                        <a class=\"is-danger\" title=\"Ver la lista de lotes de este articulo\" style=\"float:right\" (click)=\"ver_lotes_asignados(i)\">\r\n                                            <span class=\"icon\">\r\n                                                <i *ngIf=\"!mostrar_lote[i]\" class=\"fa fa-plus\"></i>\r\n                                                <i *ngIf=\"mostrar_lote[i]\" class=\"fa fa-minus\"></i>\r\n                                            </span>\r\n                                        </a>\r\n                                    </div>\r\n                                    <section *ngIf=\"mostrar_lote[i]\">\r\n                                        <table class=\"table is-narrow is-bordered is-striped\">\r\n                                            <thead>\r\n                                                <tr>\r\n                                                    <th>Lote</th>\r\n                                                    <th>Caducidad</th>\r\n                                                    <th>Codigo de barras</th>\r\n                                                    <th *ngIf=\"!tieneid\">Existencia</th>\r\n                                                    <th>Cantidad</th>\r\n                                                    <th *ngIf=\"!tieneid\"></th>\r\n                                                </tr>\r\n                                            </thead>\r\n                                            <tbody formArrayName=\"lotes\">\r\n                                                <tr *ngFor=\"let val of ctrl.dato.controls.insumos.controls[i].controls.lotes.controls;  let i2 = index;\">\r\n                                                    <td>{{val.value.lote}} </td>\r\n                                                    <td>{{val.value.fecha_caducidad}}</td>\r\n                                                    <td>{{val.value.codigo_barras}}</td>\r\n                                                    <td *ngIf=\"!tieneid\">{{val.value.existencia}}</td>\r\n                                                    <td [formGroupName]=\"i2\">\r\n                                                        <input *ngIf=\"!val.nuevo\" class=\"input has-text-centered\" (blur)=\"validar_cantidad_lote(i, val, i2)\" type=\"number\" step=\"1\" min=\"0\" max=\"{{val.value.existencia}}\"\r\n                                                            placeholder=\"Cantidad\" formControlName=\"cantidad\">\r\n                                                        <input *ngIf=\"val.nuevo\" class=\"input has-text-centered\" (blur)=\"validar_cantidad_lote(i, val, i2)\" type=\"number\" step=\"1\" min=\"0\" \r\n                                                            placeholder=\"Cantidad\" formControlName=\"cantidad\"></td>\r\n                                                    <td *ngIf=\"!tieneid\">\r\n                                                        <a class=\"is-danger\" title=\"Quitar este lote\" (click)=\"quitar_lote_insumo(i, val.value, i2)\">\r\n                                                            <span class=\"icon\">\r\n                                                                <i class=\"fa fa-trash-o\"></i>\r\n                                                            </span>\r\n                                                        </a>\r\n                                                    </td>\r\n                                                </tr>\r\n                                            </tbody>\r\n                                        </table>\r\n                                    </section>\r\n                                    <nav class=\"level is-mobile\">\r\n                                        <div class=\"level-left\">\r\n                                            <a class=\"level-item\">\r\n                                                <div class=\"field\">\r\n                                                    <label class=\"label\">Dosis:</label>\r\n                                                    <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                                                        <input type=\"text\" class=\"input\" formControlName=\"dosis\" [ngClass]=\"{'is-danger': ctrl.dato.controls.insumos.controls[i].controls.dosis.hasError('required') && ctrl.dato.controls.insumos.controls[i].controls.dosis.touched}\">\r\n                                                    </p>\r\n                                                </div>\r\n                                            </a>\r\n                                            <a class=\"level-item\">\r\n                                                <div class=\"field\">\r\n                                                    <label class=\"label\">Frecuencia (Horas):</label>\r\n                                                    <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                                                        <input type=\"text\" class=\"input\" formControlName=\"frecuencia\" [ngClass]=\"{'is-danger': ctrl.dato.controls.insumos.controls[i].controls.frecuencia.hasError('required') && ctrl.dato.controls.insumos.controls[i].controls.frecuencia.touched}\">\r\n                                                    </p>\r\n                                                </div>\r\n                                            </a>\r\n                                            <a class=\"level-item\">\r\n                                                <div class=\"field\">\r\n                                                    <label class=\"label\">Duración:</label>\r\n                                                    <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                                                        <input type=\"text\" class=\"input\" formControlName=\"duracion\" [ngClass]=\"{'is-danger': ctrl.dato.controls.insumos.controls[i].controls.duracion.hasError('required') && ctrl.dato.controls.insumos.controls[i].controls.duracion.touched}\">\r\n                                                    </p>\r\n                                                </div>\r\n                                            </a>\r\n                                            <a class=\"level-item\">\r\n                                                <div class=\"field\">\r\n                                                    <label class=\"label\">Cant. recetada:</label>\r\n                                                    <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                                                        <input type=\"text\" class=\"input\" formControlName=\"cantidad_recetada\" [ngClass]=\"{'is-danger': ctrl.dato.controls.insumos.controls[i].controls.cantidad_recetada.hasError('required') && ctrl.dato.controls.insumos.controls[i].controls.cantidad_recetada.touched}\">\r\n                                                    </p>\r\n                                                </div>\r\n                                            </a>\r\n                                            <a class=\"level-item\">\r\n                                                <div class=\"field\">\r\n                                                    <label class=\"label\">Cant. surtida:</label>\r\n                                                    <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                                                        <input *ngIf=\"!tieneid\" style=\"background:aliceblue\" type=\"text\" readonly class=\"input\" formControlName=\"cantidad_surtida\" [ngClass]=\"{'is-danger': ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.hasError('required') && ctrl.dato.controls.insumos.controls[i].controls.cantidad_surtida.touched}\">\r\n                                                        <input *ngIf=\"tieneid\" style=\"background:aliceblue\" type=\"text\" readonly class=\"input\" formControlName=\"cantidad\" >\r\n                                                    </p>\r\n                                                </div>\r\n                                            </a>\r\n                                        </div>\r\n                                    </nav>\r\n                                </div>\r\n                            </article>\r\n                        </div>\r\n                    </div>\r\n\r\n                </section>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</form>\r\n\r\n\r\n<div class=\"modal\" id=\"verLotes\">\r\n    <div class=\"modal-background\"></div>\r\n    <div class=\"modal-card\" style=\"width: 60%;\">\r\n        <header class=\"modal-card-head\">\r\n            <p class=\"modal-card-title\" id=\"tituloModal\"> </p>\r\n            <button type=\"button\" class=\"delete\" (click)=\"cancelarModal('verLotes')\"></button>\r\n        </header>\r\n        <section class=\"modal-card-body\">\r\n            <table class=\"table is-narrow is-bordered is-striped\">\r\n                <thead>\r\n                    <tr>\r\n                        <th>Lote</th>\r\n                        <th>Caducidad</th>\r\n                        <th>Codigo de barras</th>\r\n                        <th>Existencia</th>\r\n                        <th>Cantidad</th>\r\n                        <th *ngIf=\"es_unidosis\">Existencia Unidosis</th>\r\n                        <th *ngIf=\"es_unidosis\">Cantidad Unidosis</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    <tr *ngFor=\"let item of lotes_insumo;  let i = index;\">\r\n                        <td *ngIf=\"!item.nuevo\">{{item.lote}}</td>\r\n                        <td *ngIf=\"item.nuevo\"><input class=\"input has-text-centered \" type=\"text\" placeholder=\"Lote\" [(ngModel)]=\"item.lote\"></td>\r\n                        <td *ngIf=\"!item.nuevo\">{{item.fecha_caducidad}}</td>\r\n                        <td *ngIf=\"item.nuevo\"><input class=\"input has-text-centered \" type=\"date\" placeholder=\"Fecha de caducidad\" [(ngModel)]=\"item.fecha_caducidad\"></td>\r\n                        <td *ngIf=\"!item.nuevo\">{{item.codigo_barras}}</td>\r\n                        <td *ngIf=\"item.nuevo\"><input class=\"input has-text-centered \" type=\"text\" placeholder=\"Codigo de barras\" [(ngModel)]=\"item.codigo_barras\"></td>\r\n                        <td *ngIf=\"!item.nuevo\">{{item.existencia}}</td>\r\n                        <td *ngIf=\"item.nuevo\"></td>\r\n                        <td>\r\n                            <input class=\"input has-text-centered \" type=\"number\" step=\"1\" min=\"0\" max=\"{{item.existencia}}\" placeholder=\"Cantidad\" [(ngModel)]=\"item.cantidad\">\r\n                        </td>\r\n\r\n                        <td *ngIf=\"!item.nuevo && es_unidosis\">{{item.existencia_unidosis}}</td>\r\n                        <td *ngIf=\"item.nuevo && es_unidosis\"></td>\r\n\r\n                        <td *ngIf=\"es_unidosis\">\r\n                            <input class=\"input has-text-centered \" type=\"number\" step=\"1\" min=\"0\" max=\"{{item.cantidad_unidosis}}\" placeholder=\"Cantidad Unidosis\" [(ngModel)]=\"item.cantidad_unidosis\">\r\n                        </td>\r\n\r\n                        <td *ngIf=\"item.nuevo\">\r\n                            <a class=\"delete\" (click)=eliminarLote(i)></a>\r\n                        </td>\r\n                    </tr>\r\n                </tbody>\r\n                \r\n            </table>\r\n        </section>\r\n        <footer class=\"modal-card-foot\">\r\n            <a class=\"button is-dark\" (click)=\"agregarNuevoLote()\">Agregar nuevo lote</a>                            \r\n            <a class=\"button is-success\" (click)=\"agregarLoteIsumo()\">Aceptar</a>\r\n            <a class=\"button\" (click)=\"cancelarModal('verLotes')\">Cancelar</a>\r\n        </footer>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/farmacia/salidas-recetas/formulario/formulario.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__environments_environment__ = __webpack_require__("../../../../../src/environments/environment.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__crud_crud_service__ = __webpack_require__("../../../../../src/app/crud/crud.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_angular2_notifications__ = __webpack_require__("../../../../angular2-notifications/dist/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_file_saver__ = __webpack_require__("../../../../file-saver/FileSaver.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_file_saver___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_file_saver__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormularioComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var FormularioComponent = (function () {
    function FormularioComponent(fb, crudService, route, _sanitizer, notificacion, _ngZone) {
        var _this = this;
        this.fb = fb;
        this.crudService = crudService;
        this.route = route;
        this._sanitizer = _sanitizer;
        this.notificacion = notificacion;
        this._ngZone = _ngZone;
        this.tab = 1;
        this.cargando = false;
        this.insumos_term = __WEBPACK_IMPORTED_MODULE_4__environments_environment__["a" /* environment */].API_URL + "/insumos-auto?term=:keyword";
        this.MinDate = new Date();
        this.MaxDate = new Date();
        this.tieneid = false;
        this.cargandoPdf = false;
        // # FIN SECCION  
        this.tipos_recetas = [
            { id: 1, nombre: "Normal" },
            { id: 2, nombre: "Controlado" }
        ];
        /**
           * Este método formatea los resultados de la busqueda en el autocomplte
           * @param data resultados de la busqueda
           * @return void
           */
        this.autocompleListFormatter = function (data) {
            var html = "\n    <div class=\"card\">\n      <div class=\"card-content\">\n        <div class=\"media\">          \n          <div class=\"media-content\">\n            <p class=\"title is-4\">" + data.nombre + " <small>" + data.descripcion + "</small></p>\n            <p class=\"subtitle is-6\">\n              <strong>Clave: </strong> " + data.clave + ") \n              ";
            if (data.es_causes)
                html += "<label class=\"tag is-success\" ><strong>Cause </strong></label>";
            if (!data.es_causes)
                html += "<label class=\"tag is-success\" ><strong>No Cause </strong> </label>";
            if (data.es_unidosis)
                html += "<label class=\"tag is-warning\" ><strong>Unidosis</strong> </label>";
            html += "\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>";
            return _this._sanitizer.bypassSecurityTrustHtml(html);
        };
        this.es_unidosis = false;
        this.options = {
            position: ["top", "right"],
            timeOut: 5000,
            lastOnBottom: true
        };
        this.mostrar_lote = [];
    }
    FormularioComponent.prototype.ngOnInit = function () {
        var _this = this;
        //obtener los datos del usiario logueado almacen y clues
        var usuario = JSON.parse(localStorage.getItem("usuario"));
        if (usuario.clues_activa) {
            this.insumos_term += "&clues=" + usuario.clues_activa.clues;
        }
        if (usuario.almacen_activo) {
            this.insumos_term += "&almacen=" + usuario.almacen_activo.id;
        }
        // Inicializamos el objeto para los reportes con web Webworkers
        this.pdfworker = new Worker("web-workers/farmacia/movimientos/receta.js");
        // Este es un hack para poder usar variables del componente dentro de una funcion del worker
        var self = this;
        var $ngZone = this._ngZone;
        this.pdfworker.onmessage = function (evt) {
            // Esto es un hack porque estamos fuera de contexto dentro del worker
            // Y se usa esto para actualizar alginas variables
            $ngZone.run(function () {
                self.cargandoPdf = false;
            });
            __WEBPACK_IMPORTED_MODULE_7_file_saver__["saveAs"](self.base64ToBlob(evt.data.base64, 'application/pdf'), evt.data.fileName);
            //open( 'data:application/pdf;base64,' + evt.data.base64 ); // Popup PDF
        };
        //inicializar el formulario reactivo
        this.dato = this.fb.group({
            id: [''],
            tipo_movimiento_id: ['5', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["Validators"].required]],
            status: ['FI'],
            fecha_movimiento: ['', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["Validators"].required]],
            observaciones: ['', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["Validators"].required]],
            cancelado: [''],
            observaciones_cancelacion: [''],
            movimiento_metadato: this.fb.group({
                turno_id: ['', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["Validators"].required]]
            }),
            receta: this.fb.group({
                folio: ['', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["Validators"].required]],
                tipo_receta: ['1', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["Validators"].required]],
                fecha_receta: ['', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["Validators"].required]],
                doctor: ['', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["Validators"].required]],
                paciente: ['', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["Validators"].required]],
                diagnostico: ['', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["Validators"].required]],
                imagen_receta: ['', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["Validators"].required]],
            }),
            insumos: this.fb.array([])
        });
        this.route.params.subscribe(function (params) {
            if (params['id']) {
                _this.tieneid = true;
            }
        });
        //variable para crear el array del formulario reactivo
        this.form_insumos = {
            tipo_movimiento_id: ['', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["Validators"].required]]
        };
        //inicializar el data picker minimo y maximo
        var date = new Date();
        this.MinDate = new Date(date.getFullYear() - 1, 0, 1);
        this.MaxDate = new Date(date.getFullYear(), date.getMonth(), date.getDate());
        //si es nuevo poner la fecha actual si no poner la fecha con que se guardo
        if (!this.dato.get('fecha_movimiento').value) {
            this.fecha_actual = date.getFullYear() + '-' + ('00' + (date.getMonth() + 1)).slice(-2) + '-' + date.getDate();
            this.dato.get('fecha_movimiento').patchValue(this.fecha_actual);
        }
        else {
            this.fecha_actual = this.dato.get('fecha_movimiento').value;
        }
        //Solo si se va a cargar catalogos poner un <a id="catalogos" (click)="ctl.cargarCatalogo('modelo','ruta')">refresh</a>
        document.getElementById("catalogos").click();
    };
    /**
       * Este método abre una modal
       * @param id identificador del elemento de la modal
       * @return void
       */
    FormularioComponent.prototype.abrirModal = function (id) {
        document.getElementById(id).classList.add('is-active');
    };
    /**
       * Este método cierra una modal
       * @param id identificador del elemento de la modal
       * @return void
       */
    FormularioComponent.prototype.cancelarModal = function (id) {
        document.getElementById(id).classList.remove('is-active');
    };
    /**
       * Este método carga los datos de un elemento de la api con el id que se pase por la url
       * @param data json con los datos del objetop seleccionado del autocomplete
       * @return void
       */
    FormularioComponent.prototype.select_insumo_autocomplete = function (data) {
        var _this = this;
        var usuario = JSON.parse(localStorage.getItem("usuario"));
        this.cargando = true;
        //cargar los datos de los lotes del insumo seleccionado en el autocomplete
        this.crudService.lista(0, 1000, 'comprobar-stock?almacen=' + usuario.almacen_activo.id + '&clave=' + data.clave).subscribe(function (resultado) {
            _this.lotes_insumo = resultado;
            _this.insumo = data;
            //limpiar el autocomplete
            document.getElementById('buscarInsumo').value = '';
            //poner el titulo a la modal
            document.getElementById('tituloModal').innerHTML = " " + data.nombre + " <br><p aling=\"justify\" style=\"font-size:12px\">" + data.descripcion + "</p> ";
            _this.es_unidosis = data.es_unidosis;
            _this.cargando = false;
            _this.abrirModal('verLotes');
        }, function (error) {
            _this.cargando = false;
        });
    };
    /**
       * Este método agrega los lostes del modal a el modelo que se envia a la api
       * @return void
       */
    FormularioComponent.prototype.agregarLoteIsumo = function () {
        //obtener el formulario reactivo para agregar los elementos
        var control = this.dato.controls['insumos'];
        //comprobar que el isumo no este en la lista cargada
        var existe = false;
        for (var _i = 0, _a = control.value; _i < _a.length; _i++) {
            var item = _a[_i];
            if (item.clave == this.insumo.clave) {
                existe = true;
                break;
            }
        }
        //crear el json que se pasara al formulario reactivo tipo insumos
        var lotes = {
            "clave": this.insumo.clave,
            "nombre": this.insumo.nombre,
            "descripcion": this.insumo.descripcion,
            "es_causes": this.insumo.es_causes,
            "es_unidosis": this.insumo.es_unidosis,
            "cantidad": 1,
            "cantidad_x_envase": parseInt(this.insumo.cantidad_x_envase),
            "dosis": ['', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["Validators"].required]],
            "frecuencia": ['', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["Validators"].required]],
            "duracion": ['', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["Validators"].required]],
            "cantidad_recetada": ['', [__WEBPACK_IMPORTED_MODULE_1__angular_forms__["Validators"].required]],
            "cantidad_surtida": 1,
            "lotes": this.fb.array([])
        };
        //si no esta en la lista agregarlo
        if (!existe)
            control.push(this.fb.group(lotes));
        //obtener la ultima posicion para que en esa se agreguen los lostes
        var posicion = control.length - 1;
        //obtener el control del formulario en la posicion para agregar el nuevo form array que corresponde a los lotes
        var ctrlLotes = control.controls[posicion];
        //Mostrar ocultar los lotes en la vista al hacer clic en el icono de plus
        this.mostrar_lote[posicion] = false;
        var objeto = {
            showProgressBar: true,
            pauseOnHover: true,
            clickToClose: true,
            maxLength: 2000
        };
        this.options = {
            position: ["top", "right"],
            timeOut: 5000,
            lastOnBottom: true
        };
        //recorrer la tabla de lotes del modal para obtener la cantidad 
        for (var _b = 0, _c = this.lotes_insumo; _b < _c.length; _b++) {
            var item = _c[_b];
            //agregar unicamente aquellos que tiene cantidad
            if (item.cantidad > 0) {
                var existe_lote = false;
                //si existe el isnumo validar que el lote no exista
                if (existe) {
                    for (var _d = 0, _e = ctrlLotes.controls['lotes'].controls; _d < _e.length; _d++) {
                        var l = _e[_d];
                        //si el lote existe agregar unicamente la cantidad nueva
                        if (l.controls.id.value == item.id) {
                            existe_lote = true;
                            //agregar la cantida nueva al lote
                            var cantidad_lote = l.controls.cantidad.value + item.cantidad;
                            //validar que la cantidad escrita no sea mayor que la existencia si no poner la existencia como la cantidad maxima      
                            if (cantidad_lote > l.controls.existencia.value && item.nuevo == 0) {
                                this.notificacion.alert("Cantidad Excedida", "La cantidad maxima es: " + l.controls.existencia.value, objeto);
                                cantidad_lote = l.controls.existencia.value * 1;
                            }
                            l.controls.cantidad.patchValue(cantidad_lote);
                            break;
                        }
                    }
                }
                //si el lote no existe agregarlo
                if (!existe_lote) {
                    //validar que la cantidad escrita no sea mayor que la existencia si no poner la existencia como la cantidad maxima        
                    if (item.cantidad > item.existencia) {
                        this.notificacion.alert("Cantidad Excedida", "La cantidad maxima es: " + item.existencia, objeto);
                        item.cantidad = item.existencia * 1;
                    }
                    //agregar al formulario reactivo de lote
                    ctrlLotes.controls['lotes'].push(this.fb.group({
                        id: item.id,
                        nuevo: item.nuevo | 0,
                        codigo_barras: item.codigo_barras,
                        lote: item.lote,
                        fecha_caducidad: item.fecha_caducidad,
                        existencia: item.nuevo ? item.cantidad : item.existencia,
                        cantidad: item.cantidad
                    }));
                }
            }
        }
        //sumamos las cantidades de los lotes
        var cantidad = 0;
        for (var _f = 0, _g = ctrlLotes.controls['lotes'].value; _f < _g.length; _f++) {
            var l = _g[_f];
            cantidad = cantidad + l.cantidad;
        }
        //agregar la cantidad surtida
        ctrlLotes.controls['cantidad_surtida'].patchValue(cantidad);
        this.cancelarModal('verLotes');
    };
    /**
       * Este método agrega una nueva fila para los lotes nuevos
       * @param posicion Posicion a mostrar el detalle de lotes
       * @return void
       */
    FormularioComponent.prototype.ver_lotes_asignados = function (posicion) {
        this.mostrar_lote[posicion] = !this.mostrar_lote[posicion];
    };
    /**
       * Este método agrega una nueva fila para los lotes nuevos
       * @return void
       */
    FormularioComponent.prototype.agregarNuevoLote = function () {
        this.lotes_insumo.push({ id: "" + Math.floor(Math.random() * (999)) + 1, codigo_barras: "", lote: "", fecha_caducidad: "", existencia: '', cantidad: '', nuevo: 1, existencia_unidosis: '', cantidad_unidosis: '' });
    };
    /**
       * Este método elimina los lotes nuevos que se agregaron a la lista de lotes
       * @return void
       */
    FormularioComponent.prototype.eliminarLote = function (index) {
        this.lotes_insumo.splice(index, 1);
    };
    /**
       * Este método quita un lote del la lista de insumos
       * @param i Posicion del insumo en la lista
       * @param val Object con los datos del lote
       * @param i2 Posicion del lote en la lista de lotes
       * @return void
       */
    FormularioComponent.prototype.quitar_lote_insumo = function (i, val, i2) {
        var control = this.dato.controls['insumos'];
        var ctrlLotes = control.controls[i];
        var ctrlLotesLote = ctrlLotes.controls['lotes'];
        ctrlLotesLote.removeAt(i2);
        var cantidad = ctrlLotes.controls['cantidad_surtida'].value - val.cantidad;
        ctrlLotes.controls['cantidad_surtida'].patchValue(cantidad);
    };
    /**
       * Este método valida que la cantidad escrita en el lote por listado de isnumos sea menor que la existencia
       * @param i Posicion del insumo en la lista
       * @param val Object con los datos del lote
       * @param i2 Posicion del lote en la lista de lotes
       * @return void
       */
    FormularioComponent.prototype.validar_cantidad_lote = function (i, val, i2) {
        if (val.controls.cantidad.value > val.controls.existencia.value && val.nuevo == 0) {
            var objeto = {
                showProgressBar: true,
                pauseOnHover: true,
                clickToClose: true,
                maxLength: 2000
            };
            this.notificacion.alert("Cantidad Excedida", "La cantidad maxima es: " + val.controls.existencia.value, objeto);
            val.controls.cantidad.patchValue(val.controls.existencia.value * 1);
        }
        //sumamos las cantidades de los lotes
        var control = this.dato.controls['insumos'];
        var ctrlLotes = control.controls[i];
        var cantidad = 0;
        for (var _i = 0, _a = ctrlLotes.controls['lotes'].value; _i < _a.length; _i++) {
            var l = _a[_i];
            cantidad = cantidad + l.cantidad;
        }
        ctrlLotes.controls['cantidad_surtida'].patchValue(cantidad);
    };
    FormularioComponent.prototype.imprimir = function () {
        //console.log(item);
        var usuario = JSON.parse(localStorage.getItem("usuario"));
        console.log(this.dato.value);
        try {
            console.log(this.dato.value);
            this.cargandoPdf = true;
            var entrada_imprimir = {
                datos: this.dato.value,
                lista: this.dato.value.insumos,
                usuario: usuario
            };
            this.pdfworker.postMessage(JSON.stringify(entrada_imprimir));
        }
        catch (e) {
            this.cargandoPdf = false;
            console.log(e);
        }
    };
    FormularioComponent.prototype.base64ToBlob = function (base64, type) {
        var bytes = atob(base64), len = bytes.length;
        var buffer = new ArrayBuffer(len), view = new Uint8Array(buffer);
        for (var i = 0; i < len; i++)
            view[i] = bytes.charCodeAt(i) & 0xff;
        return new Blob([buffer], { type: type });
    };
    return FormularioComponent;
}());
FormularioComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'salidas-recetas-formulario',
        template: __webpack_require__("../../../../../src/app/farmacia/salidas-recetas/formulario/formulario.component.html"),
        styles: ['ngui-auto-complete {z-index: 999999 !important}']
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_forms__["FormBuilder"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_forms__["FormBuilder"]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_5__crud_crud_service__["a" /* CrudService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_5__crud_crud_service__["a" /* CrudService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_3__angular_router__["c" /* ActivatedRoute */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__angular_router__["c" /* ActivatedRoute */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_2__angular_platform_browser__["d" /* DomSanitizer */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_platform_browser__["d" /* DomSanitizer */]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_6_angular2_notifications__["a" /* NotificationsService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_6_angular2_notifications__["a" /* NotificationsService */]) === "function" && _e || Object, typeof (_f = typeof __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_0__angular_core__["NgZone"]) === "function" && _f || Object])
], FormularioComponent);

var _a, _b, _c, _d, _e, _f;
//# sourceMappingURL=C:/wamp/www/x3-C/src/formulario.component.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/salidas-recetas/lista/lista.component.html":
/***/ (function(module, exports) {

module.exports = "<listar #ctrl URL=\"movimientos?tipo=5\" titulo=\"Salida Receta\"></listar>\r\n<menu-farmacia [modulo]=\"'Salidas por recetas'\" [icono]=\"'assets/icono-salidas.svg'\" [url]=\"'/almacen/salidas-recetas'\"></menu-farmacia>\r\n<div style=\"height:50px;\"></div>\r\n<div class=\"contenedor columns \" style=\"height:100%; \">\r\n     <div class=\"column is-one-quarter is-hidden-mobile\">\r\n        <!-- <menu-lateral (onEnviarTipo)=enviarTipo($event);></menu-lateral>  -->\r\n        <aside class=\"menu\" style=\"padding: 1em;\">\r\n            <a routerLink=\"/almacen/salidas-recetas/nuevo\" routerLinkActive=\"is-active\" class=\"button is-primary is-inverted is-medium is-fullwidth\"><span class=\"icon\"  ><i class=\"fa fa-plus\"></i></span> <span>Nueva Receta</span></a>\r\n            <br>\r\n            <ul class=\"menu-list\">\r\n                <li>\r\n                    <a routerLink=\"/almacen/salidas-recetas\" #receta routerLinkActive=\"is-active\">\r\n                        <span class=\"icon\"><i class=\"fa fa-pencil-square-o\"></i></span> Salida por receta\r\n                        <span class=\"icon is-pulled-right\" *ngIf=\"cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span>\r\n                        <!-- <span class=\"tag is-pulled-right\" [ngClass]=\"{ 'is-white': receta.className == 'is-active', 'is-primary': receta.className != 'is-active' }\"></span> -->\r\n                    </a>\r\n                </li>\r\n            </ul>\r\n\r\n        </aside>\r\n    </div>\r\n    <div class=\"column\" style=\"padding:2em;\">\r\n        <div style=\"background: #FFF; border-radius: 1em; overflow: hidden;\">\r\n            <section class=\"hero\" [ngClass]=\" {'is-dark': ctrl.busquedaActivada, 'is-primary': !ctrl.busquedaActivada } \">\r\n\r\n                <div class=\"hero-body\" style=\"position:relative;\">\r\n                    <a class=\"button  is-dark\" *ngIf=\"ctrl.busquedaActivada\" style=\"position:absolute; top:1em; right:1em;\" (click)=\"ctrl.busquedaActivada=false;searchBox.value=''; ctrl.resultadosBusqueda=[]\"><span class=\"icon \"><i class=\"fa fa-close\"></i></span></a>\r\n                    <a class=\"button  is-dark\" *ngIf=\"ctrl.busquedaActivada\" style=\"position:absolute; top:1em; right:3.5em;\" (click)=\"ctrl.listarBusqueda(searchBox.value,1)\"><span class=\"icon \"><i class=\"fa fa-refresh\"></i></span></a>\r\n                    <a class=\"button  is-primary\" *ngIf=\"!ctrl.busquedaActivada\" style=\"position:absolute; top:1em; right:1em;\" (click)=\"ctrl.listar(1)\"><span class=\"icon \"><i class=\"fa fa-refresh\"></i></span></a>\r\n                    <div class=\"container is-fluid\">\r\n\r\n                        <h1 class=\"title\" *ngIf=\"!ctrl.busquedaActivada\">\r\n                            <span class=\"icon is-medium\"><i class=\"fa fa-user\"></i></span> salidas por recetas\r\n                        </h1>\r\n                        <h1 class=\"title\" *ngIf=\"ctrl.busquedaActivada\">\r\n                            <span class=\"icon is-medium\"><i class=\"fa fa-search\"></i></span> Búsqueda\r\n                        </h1>\r\n                        <div class=\"control is-grouped\">\r\n                            <p class=\"control is-expanded\">\r\n                                <input class=\"input is-medium\" type=\"text\" placeholder=\"Buscar\" #searchBox id=\"search-box\" (keyup)=\"ctrl.buscar(searchBox.value)\">\r\n                            </p>\r\n                            <p class=\"control\">\r\n                                <a class=\"button is-medium is-primary is-inverted \" routerLink=\"/almacen/salidas-recetas/nuevo\">\r\n                                    <span class=\"icon\"><i class=\"fa fa-plus\"></i></span><span>Nuevo</span>\r\n                                </a>\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class=\"is-fullwidth has-text-centered\" *ngIf=\"ctrl.cargando\">\r\n                <br>\r\n                <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n\r\n            <table class=\"table\" *ngIf=\"!ctrl.cargando\">\r\n                <thead>\r\n                    <tr>\r\n                        <th><abbr title=\"Usuario ID\">ID</abbr></th>\r\n                        <th>Almacén</th>\r\n                        <th>Fecha</th>\r\n                        <th>Estatus</th>\r\n                        <th style=\"text-align:center;\">Opciones</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody *ngIf=\"!ctrl.busquedaActivada\">\r\n                    <tr *ngFor=\"let item of ctrl.dato; let i=index\">\r\n                        <th style=\"vertical-align: middle;\"><a routerLink=\"/almacen/salidas-recetas/editar/{{item.id}}\">{{ item.id }}</a></th>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/salidas-recetas/editar/{{item.id}}\">{{ item.almacen_id }} </a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/salidas-recetas/editar/{{item.id}}\">{{ item.fecha_movimiento }} </a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/salidas-recetas/editar/{{item.id}}\">{{ item.status }} </a></td>\r\n                        <td style=\"vertical-align: middle;\" class=\"has-text-centered\"><span class=\"icon \" *ngIf=\"item.cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span><a *ngIf=\"!item.cargando\"\r\n                                class=\"is-danger\" (click)=\"ctrl.eliminar(item, i)\"><span class=\"icon\"><i class=\"fa fa-trash-o\"></i></span></a></td>\r\n\r\n                    </tr>\r\n                    <tr *ngIf=\"ctrl.dato.length == 0\">\r\n                        <td colspan=\"5\" style=\"vertical-align: middle; color:#888;\">Esta lista está vacía.</td>\r\n                    </tr>\r\n                </tbody>\r\n                <tbody *ngIf=\"ctrl.busquedaActivada\">\r\n                    <tr *ngFor=\"let item of ctrl.resultadosBusqueda; let i=index\">\r\n                        <th style=\"vertical-align: middle;\"><a routerLink=\"/almacen/salidas-recetas/editar/{{item.id}}\">{{ item.id }}</a></th>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/salidas-recetas/editar/{{item.id}}\">{{ item.almacen_id }} </a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/salidas-recetas/editar/{{item.id}}\">{{ item.fecha_movimiento }} </a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/almacen/salidas-recetas/editar/{{item.id}}\">{{ item.status }} </a></td>\r\n                        <td style=\"vertical-align: middle;\" class=\"has-text-centered\"><span class=\"icon \" *ngIf=\"item.cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span><a *ngIf=\"!item.cargando\"\r\n                                class=\"is-danger\" (click)=\"ctrl.eliminar(item, i)\"><span class=\"icon\"><i class=\"fa fa-trash-o\"></i></span></a></td>\r\n\r\n                    </tr>\r\n\r\n                    <tr *ngIf=\"ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada\">\r\n                        <td colspan=\"5\" style=\"vertical-align: middle; color:#888;\">No se encontraron resultados.</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <!-- Paginación para la lista  -->\r\n            <paginacion [total]=\"ctrl.total\" [paginasTotales]=\"ctrl.paginasTotales\" [resultadosPorPagina]=\"ctrl.resultadosPorPagina\"\r\n                [paginaActual]=\"ctrl.paginaActual\" [indicePaginas]=\"ctrl.indicePaginas\" (onSiguiente)=\"ctrl.paginaSiguiente()\"\r\n                (onAnterior)=\"ctrl.paginaAnterior()\" (onListar)=\"ctrl.listar($event)\" *ngIf=\"ctrl.total>0 && ctrl.total > ctrl.resultadosPorPagina && !ctrl.busquedaActivada\"></paginacion>\r\n            <!-- Paginación para la búsqueda  -->\r\n            <paginacion [total]=\"ctrl.totalBusqueda\" [paginasTotales]=\"ctrl.paginasTotalesBusqueda\" [resultadosPorPagina]=\"ctrl.resultadosPorPaginaBusqueda\"\r\n                [paginaActual]=\"ctrl.paginaActualBusqueda\" [indicePaginas]=\"ctrl.indicePaginasBusqueda\" (onSiguiente)=\"ctrl.paginaSiguienteBusqueda(searchBox.value)\"\r\n                (onAnterior)=\"ctrl.paginaAnteriorBusqueda(searchBox.value)\" (onListar)=\"ctrl.listarBusqueda(searchBox.value,$event)\"\r\n                *ngIf=\"ctrl.totalBusqueda > 0 && ctrl.totalBusqueda > ctrl.resultadosPorPaginaBusqueda && ctrl.busquedaActivada\"></paginacion>\r\n\r\n\r\n\r\n        </div>\r\n\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/farmacia/salidas-recetas/lista/lista.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ListaComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var ListaComponent = (function () {
    function ListaComponent() {
    }
    return ListaComponent;
}());
ListaComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'salidas-recetas-lista',
        template: __webpack_require__("../../../../../src/app/farmacia/salidas-recetas/lista/lista.component.html")
    })
], ListaComponent);

//# sourceMappingURL=C:/wamp/www/x3-C/src/lista.component.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/salidas-recetas/salidas-recetas-routing.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lista_lista_component__ = __webpack_require__("../../../../../src/app/farmacia/salidas-recetas/lista/lista.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__formulario_formulario_component__ = __webpack_require__("../../../../../src/app/farmacia/salidas-recetas/formulario/formulario.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__auth_guard_service__ = __webpack_require__("../../../../../src/app/auth-guard.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SalidasRecetasRoutingModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





var routes = [
    {
        path: 'almacen/salidas-recetas',
        children: [
            { path: '', component: __WEBPACK_IMPORTED_MODULE_2__lista_lista_component__["a" /* ListaComponent */] },
            { path: 'nuevo', component: __WEBPACK_IMPORTED_MODULE_3__formulario_formulario_component__["a" /* FormularioComponent */] },
            { path: 'editar/:id', component: __WEBPACK_IMPORTED_MODULE_3__formulario_formulario_component__["a" /* FormularioComponent */] },
        ],
        canActivate: [__WEBPACK_IMPORTED_MODULE_4__auth_guard_service__["a" /* AuthGuard */]]
    }
];
var SalidasRecetasRoutingModule = (function () {
    function SalidasRecetasRoutingModule() {
    }
    return SalidasRecetasRoutingModule;
}());
SalidasRecetasRoutingModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */].forChild(routes)],
        exports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */]],
        providers: []
    })
], SalidasRecetasRoutingModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/salidas-recetas-routing.module.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/salidas-recetas/salidas-recetas.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__hub_hub_module__ = __webpack_require__("../../../../../src/app/hub/hub.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__perfil_perfil_module__ = __webpack_require__("../../../../../src/app/perfil/perfil.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__bloquear_pantalla_bloquear_pantalla_module__ = __webpack_require__("../../../../../src/app/bloquear-pantalla/bloquear-pantalla.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__salidas_recetas_routing_module__ = __webpack_require__("../../../../../src/app/farmacia/salidas-recetas/salidas-recetas-routing.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__paginacion_paginacion_module__ = __webpack_require__("../../../../../src/app/paginacion/paginacion.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__pipes_pipes_module__ = __webpack_require__("../../../../../src/app/pipes/pipes.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__lista_lista_component__ = __webpack_require__("../../../../../src/app/farmacia/salidas-recetas/lista/lista.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__formulario_formulario_component__ = __webpack_require__("../../../../../src/app/farmacia/salidas-recetas/formulario/formulario.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__auth_service__ = __webpack_require__("../../../../../src/app/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__index_farmacia_index_farmacia_module__ = __webpack_require__("../../../../../src/app/farmacia/index-farmacia/index-farmacia.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__crud_crud_service__ = __webpack_require__("../../../../../src/app/crud/crud.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__crud_crud_module__ = __webpack_require__("../../../../../src/app/crud/crud.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__ngui_auto_complete__ = __webpack_require__("../../../../@ngui/auto-complete/dist/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__ngui_auto_complete___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_15__ngui_auto_complete__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__ngui_datetime_picker__ = __webpack_require__("../../../../@ngui/datetime-picker/dist/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_16__ngui_datetime_picker___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_16__ngui_datetime_picker__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SalidasRecetasModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};













//crud


//fin crud


var SalidasRecetasModule = (function () {
    function SalidasRecetasModule() {
    }
    return SalidasRecetasModule;
}());
SalidasRecetasModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [
            __WEBPACK_IMPORTED_MODULE_1__angular_common__["CommonModule"],
            __WEBPACK_IMPORTED_MODULE_2__angular_forms__["FormsModule"],
            __WEBPACK_IMPORTED_MODULE_2__angular_forms__["ReactiveFormsModule"],
            __WEBPACK_IMPORTED_MODULE_6__salidas_recetas_routing_module__["a" /* SalidasRecetasRoutingModule */],
            __WEBPACK_IMPORTED_MODULE_3__hub_hub_module__["a" /* HubModule */],
            __WEBPACK_IMPORTED_MODULE_4__perfil_perfil_module__["a" /* PerfilModule */],
            __WEBPACK_IMPORTED_MODULE_5__bloquear_pantalla_bloquear_pantalla_module__["a" /* BloquearPantallaModule */],
            __WEBPACK_IMPORTED_MODULE_7__paginacion_paginacion_module__["a" /* PaginacionModule */],
            __WEBPACK_IMPORTED_MODULE_8__pipes_pipes_module__["a" /* PipesModule */],
            __WEBPACK_IMPORTED_MODULE_12__index_farmacia_index_farmacia_module__["a" /* IndexFarmaciaModule */],
            __WEBPACK_IMPORTED_MODULE_14__crud_crud_module__["a" /* CrudModule */],
            __WEBPACK_IMPORTED_MODULE_15__ngui_auto_complete__["NguiAutoCompleteModule"],
            __WEBPACK_IMPORTED_MODULE_16__ngui_datetime_picker__["NguiDatetimePickerModule"]
        ],
        declarations: [
            __WEBPACK_IMPORTED_MODULE_9__lista_lista_component__["a" /* ListaComponent */],
            __WEBPACK_IMPORTED_MODULE_10__formulario_formulario_component__["a" /* FormularioComponent */]
        ],
        providers: [__WEBPACK_IMPORTED_MODULE_11__auth_service__["a" /* AuthService */], __WEBPACK_IMPORTED_MODULE_13__crud_crud_service__["a" /* CrudService */]]
    })
], SalidasRecetasModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/salidas-recetas.module.js.map

/***/ }),

/***/ "../../../../../src/app/farmacia/stock/stock.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/@angular/http.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__ = __webpack_require__("../../../../../src/app/jwt-request.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return StockService; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var StockService = StockService_1 = (function () {
    function StockService(http, jwtRequest) {
        this.http = http;
        this.jwtRequest = jwtRequest;
    }
    StockService.prototype.buscar = function (term, clave) {
        if (clave === void 0) { clave = null; }
        return this.jwtRequest.get(StockService_1.URL, null, { q: term, clave: clave }).map(function (response) { return response.json().data; });
    };
    return StockService;
}());
StockService.URL = "stock";
StockService = StockService_1 = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__["a" /* JwtRequestService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__["a" /* JwtRequestService */]) === "function" && _b || Object])
], StockService);

var StockService_1, _a, _b;
//# sourceMappingURL=C:/wamp/www/x3-C/src/stock.service.js.map

/***/ }),

/***/ "../../../../../src/app/hub/hub.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".hub-item{ width: 100%; text-align: center; display:block; color:#FFF !important; font-size: 0.8em; }", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/hub/hub.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"modal\" [ngClass]=\"{'is-active': mostrar}\" >\r\n  <div class=\"modal-background\" (click)=\"toggle()\"></div>\r\n  <div class=\"modal-content\">\r\n    <!-- Any other Bulma elements you want -->\r\n    <div class=\"card\" style=\"width: 100%; border-radius: 1em; background: #222;\">\r\n        <div class=\"card-content\">\r\n            <div class=\"columns is-multiline is-mobile\">\r\n\r\n                <div class=\"column is-one-quarter\" *ngFor=\"let item of hubAutorizado\" >\r\n                    <a href=\"#\" title=\"{{ item.title }}\" class=\"hub-item\" routerLink=\"{{ item.routerLink }}\" routerLinkActive=\"active\">\r\n                        <figure class=\"image \" style=\"height: auto; width: 100%; \">\r\n                           <img src=\"{{ item.icono }}\" alt=\"{{ item.title }}\">                            \r\n                        </figure>\r\n\r\n                        <span class=\"is-hidden-mobile\">{{item.title}}</span>\r\n\r\n                    </a>\r\n                </div>\r\n                <!--div class=\"column is-one-quarter\">\r\n                    <a href=\"#\" title=\"Farmacia\" class=\"hub-item\" routerLink=\"/farmacia\" routerLinkActive=\"active\">\r\n                        <figure class=\"image\" style=\"height: 100%; width: 100%;\">\r\n                           <img src=\"assets/hub-farmacia.svg\" alt=\"Almacén\">\r\n                        </figure>\r\n                        <span class=\"is-hidden-mobile\">Almacén</span>\r\n                    </a>\r\n                </div-->\r\n                <!--div class=\"column is-one-quarter\">\r\n                    <a href=\"#\" title=\"Almacén\" class=\"hub-item\" routerLink=\"/almacen\" routerLinkActive=\"active\">\r\n                        <figure class=\"image\" style=\"height: 100%; width: 100%;\">\r\n                           <img src=\"assets/hub-almacen.svg\" alt=\"Almacén\">\r\n                        </figure>\r\n                        <span class=\"is-hidden-mobile\">Almacén</span>\r\n                    </a>\r\n                </div-->\r\n                \r\n                <!--div class=\"column is-one-quarter\">\r\n                    <a href=\"#\" title=\"Panel de control\" class=\"hub-item\" routerLink=\"/panel-control\" routerLinkActive=\"active\">\r\n                        <figure class=\"image\" style=\"height: 100%; width: 100%;\">\r\n                           <img src=\"assets/hub-panel-control.svg\" alt=\"Panel de control\">\r\n                        </figure>\r\n                        <span class=\"is-hidden-mobile\">Panel de control</span>\r\n                    </a>\r\n                </div-->\r\n\r\n            </div>\r\n            \r\n        </div>\r\n    </div>\r\n  </div>\r\n  <button class=\"modal-close\" (click)=\"toggle()\"></button>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/hub/hub.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return HubComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var HubComponent = (function () {
    function HubComponent() {
        this.mostrar = false;
        // Se debe indicar los permisos para que el usuario tenga al menos uno para mostrar el item
        this.itemsProtegidos = [
            {
                title: 'Almacén', routerLink: '/almacen', icono: 'assets/hub-farmacia.svg',
                permisos: [
                    'z9MQHY1YAIlYWsPLPF9OZYN94HKjOuDk',
                    'iSxK0TpoYpnzf8KIQTWOq9Web7WnSKhz' // Ver entregas
                ]
            },
            {
                title: 'Administrador central', routerLink: '/administrador-central', icono: 'assets/hub-administrador-central.svg',
                permisos: [
                    'bsIbPL3qv6XevcAyrRm1GxJufDbzLOax',
                    'bwWWUufmEBRFpw9HbUJQUP8EFnagynQv',
                    's8kSv2Gj9DZwRvClVRmZohp92Rtvi26i',
                    'fWA5oDswZ2Ra4O8YaCy6nEY8OeCOxg9C' // Entregas por mes
                ]
            },
            {
                title: 'Administrador proveedores', routerLink: '/administrador-proveedores', icono: 'assets/hub-administrador-proveedores.svg',
                permisos: [
                    'MrL06vIO12iNhchP14h57Puvg71eUmYb' // Ver pedidos
                ]
            },
            {
                title: 'Panel de control', routerLink: '/panel-control', icono: 'assets/hub-panel-control.svg',
                permisos: [
                    'mGKikN0aJaeF2XrHwwYK3XNw0f9CSZDe',
                    'ICmOKw3HxhgRna4a78OP0QmKrIX0bNsp',
                    'DYwQAxJbpHWw07zT09scEogUeFKFdGSu' // Ver permisos
                ]
            },
            {
                title: 'Pacientes', routerLink: '/paciente', icono: 'assets/avatar-enfermero.svg',
                permisos: [
                    'PpXKhxdG8dGheNKm1rRSCT4EXZYyhRMm',
                ]
            }
        ];
        this.hubAutorizado = [{ title: 'Dashboard', routerLink: '/dashboard', icono: 'assets/hub-dashboard.svg' }];
    }
    HubComponent.prototype.ngOnInit = function () {
        var usuario = JSON.parse(localStorage.getItem("usuario"));
        var permisos = usuario.permisos.split("|");
        if (permisos.length > 0) {
            for (var i in this.itemsProtegidos) {
                siguienteItemProtegido: for (var j in this.itemsProtegidos[i].permisos) {
                    for (var k in permisos) {
                        if (permisos[k] == this.itemsProtegidos[i].permisos[j]) {
                            this.hubAutorizado.push(this.itemsProtegidos[i]);
                            break siguienteItemProtegido;
                        }
                    }
                }
            }
        }
    };
    HubComponent.prototype.toggle = function () {
        this.mostrar = !this.mostrar;
    };
    return HubComponent;
}());
HubComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-hub',
        template: __webpack_require__("../../../../../src/app/hub/hub.component.html"),
        styles: [__webpack_require__("../../../../../src/app/hub/hub.component.css")]
    }),
    __metadata("design:paramtypes", [])
], HubComponent);

//# sourceMappingURL=C:/wamp/www/x3-C/src/hub.component.js.map

/***/ }),

/***/ "../../../../../src/app/hub/hub.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__hub_component__ = __webpack_require__("../../../../../src/app/hub/hub.component.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return HubModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




var HubModule = (function () {
    function HubModule() {
    }
    return HubModule;
}());
HubModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [
            __WEBPACK_IMPORTED_MODULE_1__angular_common__["CommonModule"],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* RouterModule */]
        ],
        exports: [
            __WEBPACK_IMPORTED_MODULE_3__hub_component__["a" /* HubComponent */]
        ],
        declarations: [__WEBPACK_IMPORTED_MODULE_3__hub_component__["a" /* HubComponent */]]
    })
], HubModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/hub.module.js.map

/***/ }),

/***/ "../../../../../src/app/jwt-request.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/@angular/http.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs__ = __webpack_require__("../../../../rxjs/Rx.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_angular2_jwt__ = __webpack_require__("../../../../angular2-jwt/angular2-jwt.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_angular2_jwt___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_angular2_jwt__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__auth_service__ = __webpack_require__("../../../../../src/app/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__bloquear_pantalla_bloquear_pantalla_service__ = __webpack_require__("../../../../../src/app/bloquear-pantalla/bloquear-pantalla.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__environments_environment__ = __webpack_require__("../../../../../src/environments/environment.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return JwtRequestService; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};








var JwtRequestService = (function () {
    function JwtRequestService(http, authService, bloquearPantallaService, router, jwtHelper) {
        this.http = http;
        this.authService = authService;
        this.bloquearPantallaService = bloquearPantallaService;
        this.router = router;
        this.jwtHelper = jwtHelper;
    }
    JwtRequestService.prototype.get = function (url, id, params) {
        if (id === void 0) { id = null; }
        if (params === void 0) { params = null; }
        var data = this.request('get', url, id, params);
        if (id != null) {
            return data;
        }
        else {
            return data;
        }
    };
    JwtRequestService.prototype.post = function (url, params) {
        if (params === void 0) { params = null; }
        var data = this.request('post', url, null, params);
        return data;
    };
    JwtRequestService.prototype.put = function (url, id, params) {
        if (id === void 0) { id = null; }
        if (params === void 0) { params = null; }
        var data = this.request('put', url, id, params);
        return data;
    };
    JwtRequestService.prototype.delete = function (url, id, params) {
        if (id === void 0) { id = null; }
        if (params === void 0) { params = null; }
        var data = this.request('delete', url, id);
        return data;
    };
    JwtRequestService.prototype.request = function (method, url, id, params) {
        var _this = this;
        if (id === void 0) { id = null; }
        if (params === void 0) { params = {}; }
        if (localStorage.getItem('token') == null) {
            return null;
        }
        var serverInfo = JSON.parse(localStorage.getItem("server_info"));
        var token = this.jwtHelper.decodeToken(localStorage.getItem('token'));
        var usuario = JSON.parse(localStorage.getItem("usuario"));
        var headersJson = { 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + localStorage.getItem('token') };
        if (usuario.clues_activa) {
            headersJson['X-Clues'] = usuario.clues_activa.clues;
        }
        if (usuario.almacen_activo) {
            headersJson['X-Almacen-Id'] = usuario.almacen_activo.id;
        }
        var headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](headersJson);
        var data = new __WEBPACK_IMPORTED_MODULE_3_rxjs__["Observable"](function (observer) {
            if (_this.jwtHelper.isTokenExpired(localStorage.getItem('token'))) {
                console.log("El token ha expirado. Comprobando caducidad para renovar.");
                var ttl = Number(serverInfo.token_refresh_ttl);
                ttl = Number.isNaN(ttl) ? 0 : ttl;
                var expiracionToken = _this.jwtHelper.getTokenExpirationDate(localStorage.getItem('token'));
                var expiracionRefreshToken = new Date(expiracionToken.getTime() + (ttl * 60000));
                var clienteDate = new Date();
                if (expiracionRefreshToken.getTime() - clienteDate.getTime() <= 0) {
                    console.log("El token ha caducado completamente y no será posible renovarlo.");
                    console.log("Bloqueando aplicación.");
                    _this.bloquearPantallaService.bloquearPantalla(); //this.authService.logout(this.router.url);
                }
                else {
                    // Refrescamos token
                    _this.authService.refreshToken().subscribe(function () {
                        console.log("Enviando petición con token renovado.");
                        var headersJson = { 'Content-Type': 'application/json', 'Authorization': 'Bearer ' + localStorage.getItem('token') };
                        if (usuario.clues_activa) {
                            headersJson['X-Clues'] = usuario.clues_activa.clues;
                        }
                        if (usuario.almacen_activo) {
                            headersJson['X-Almacen-Id'] = usuario.almacen_activo.id;
                        }
                        headers = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["Headers"](headersJson);
                        if (method == 'get') {
                            var urlSearchParams = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
                            if (params != null) {
                                for (var key in params) {
                                    if (params.hasOwnProperty(key)) {
                                        urlSearchParams.set(key, params[key]);
                                    }
                                }
                            }
                            if (id == null) {
                                _this.http.get(__WEBPACK_IMPORTED_MODULE_7__environments_environment__["a" /* environment */].API_URL + "/" + url, { headers: headers, search: urlSearchParams })
                                    .subscribe(function (data) {
                                    observer.next(data);
                                }, function (error) { observer.error(error); });
                            }
                            else {
                                _this.http.get(__WEBPACK_IMPORTED_MODULE_7__environments_environment__["a" /* environment */].API_URL + "/" + url + "/" + id, { headers: headers, search: urlSearchParams })
                                    .subscribe(function (data) {
                                    observer.next(data);
                                }, function (error) { observer.error(error); });
                            }
                        }
                        if (method == 'post') {
                            _this.http.post(__WEBPACK_IMPORTED_MODULE_7__environments_environment__["a" /* environment */].API_URL + "/" + url, params, { headers: headers })
                                .subscribe(function (data) {
                                observer.next(data);
                            }, function (error) { observer.error(error); });
                        }
                        if (method == 'put' && id != null) {
                            _this.http.put(__WEBPACK_IMPORTED_MODULE_7__environments_environment__["a" /* environment */].API_URL + "/" + url + "/" + id, params, { headers: headers })
                                .subscribe(function (data) {
                                observer.next(data);
                            }, function (error) { observer.error(error); });
                        }
                        if (method == 'delete' && id != null) {
                            _this.http.delete(__WEBPACK_IMPORTED_MODULE_7__environments_environment__["a" /* environment */].API_URL + "/" + url + "/" + id, { headers: headers })
                                .subscribe(function (data) {
                                observer.next(data);
                            }, function (error) { observer.error(error); });
                        }
                    }, function (error) {
                        console.log("Token caducado. Se intento renovar pero el servidor no lo permitió, debido a que se superó el tiempo límite.");
                        console.log("Bloqueando aplicación.");
                        _this.bloquearPantallaService.bloquearPantalla(); //this.authService.logout(this.router.url);
                    });
                }
            }
            else {
                if (method == 'get') {
                    var urlSearchParams = new __WEBPACK_IMPORTED_MODULE_1__angular_http__["URLSearchParams"]();
                    if (params != null) {
                        for (var key in params) {
                            if (params.hasOwnProperty(key)) {
                                urlSearchParams.set(key, params[key]);
                            }
                        }
                    }
                    if (id == null) {
                        _this.http.get(__WEBPACK_IMPORTED_MODULE_7__environments_environment__["a" /* environment */].API_URL + "/" + url, { headers: headers, search: urlSearchParams })
                            .subscribe(function (data) {
                            observer.next(data);
                        }, function (error) { observer.error(error); });
                    }
                    else {
                        _this.http.get(__WEBPACK_IMPORTED_MODULE_7__environments_environment__["a" /* environment */].API_URL + "/" + url + "/" + id, { headers: headers, search: urlSearchParams })
                            .subscribe(function (data) {
                            observer.next(data);
                        }, function (error) { observer.error(error); });
                    }
                }
                if (method == 'post') {
                    _this.http.post(__WEBPACK_IMPORTED_MODULE_7__environments_environment__["a" /* environment */].API_URL + "/" + url, params, { headers: headers })
                        .subscribe(function (data) {
                        observer.next(data);
                    }, function (error) { observer.error(error); });
                }
                if (method == 'put' && id != null) {
                    _this.http.put(__WEBPACK_IMPORTED_MODULE_7__environments_environment__["a" /* environment */].API_URL + "/" + url + "/" + id, params, { headers: headers })
                        .subscribe(function (data) {
                        observer.next(data);
                    }, function (error) { observer.error(error); });
                }
                if (method == 'delete' && id != null) {
                    _this.http.delete(__WEBPACK_IMPORTED_MODULE_7__environments_environment__["a" /* environment */].API_URL + "/" + url + "/" + id, { headers: headers })
                        .subscribe(function (data) {
                        observer.next(data);
                    }, function (error) { observer.error(error); });
                }
            }
        });
        return data;
    };
    return JwtRequestService;
}());
JwtRequestService = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_5__auth_service__["a" /* AuthService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_5__auth_service__["a" /* AuthService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_6__bloquear_pantalla_bloquear_pantalla_service__["a" /* BloquearPantallaService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_6__bloquear_pantalla_bloquear_pantalla_service__["a" /* BloquearPantallaService */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* Router */]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_4_angular2_jwt__["JwtHelper"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4_angular2_jwt__["JwtHelper"]) === "function" && _e || Object])
], JwtRequestService);

var _a, _b, _c, _d, _e;
//# sourceMappingURL=C:/wamp/www/x3-C/src/jwt-request.service.js.map

/***/ }),

/***/ "../../../../../src/app/login/login.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".login-background {\r\n    /*background-color: #00d1b2;*/\r\n    background-color: #AABBBC;\r\n}", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/login/login.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"modal is-active\">\r\n    <div class=\"modal-background login-background\"></div>\r\n    <div class=\"modal-content\">\r\n        <div class=\"card\" style=\" border-radius:1em; overflow: hidden\">\r\n            <div class=\"card-image\" >\r\n                <figure class=\"image \" style=\"border-radius: 1em 1em 0em 0em; overflow: hidden;\">\r\n                    <img src=\"assets/bg-login_salud.svg\" alt=\"Image\">\r\n                </figure>\r\n            </div>\r\n            <div class=\"card-content\">\r\n                <form name=\"form\" (ngSubmit)=\"!loading && login()\">\r\n                    <h1 class=\"title has-text-centered\">Bienvenido</h1>\r\n                    <h2 class=\"subtitle has-text-centered\">Esta app esta diseñada especialmente para ti.</h2>\r\n                    <div class=\"notification is-danger\" *ngIf=\"mostrarMensaje\">\r\n                        <a class=\"delete\" (click)=\"mostrarMensaje = false\"></a>\r\n                        <b>Error:</b> {{ mensaje }}\r\n                    </div>\r\n                    <p class=\"control has-icon\">\r\n                        <input class=\"input is-medium\" [ngClass]=\"{'is-danger': mensaje}\" type=\"text\" name=\"id\" id=\"id\" placeholder=\"Usuario\" [(ngModel)]=\"credenciales.id\"  autofocus>\r\n                        <span class=\"icon is-small\">\r\n                        <i class=\"fa fa-user\"></i>\r\n                        </span>\r\n                    </p>\r\n                    <p class=\"control has-icon\">\r\n                        <input class=\"input is-medium\" [ngClass]=\"{'is-danger': mensaje}\" type=\"password\" name=\"password\" id=\"password\" placeholder=\"Contraseña\" [(ngModel)]=\"credenciales.password\">\r\n                        <span class=\"icon is-small\">\r\n                        <i class=\"fa fa-lock\"></i>\r\n                        </span>\r\n                    </p>\r\n                    <p class=\"control\" >\r\n                        <button class=\"button is-primary is-large is-fullwidth\" [ngClass]=\"{'is-loading': loading}\" >Iniciar sesión</button>\r\n                    </p>\r\n                    <p class=\"control\" *ngIf=\"saludIdDisponible\">\r\n                        <button class=\"button is-info is-large is-fullwidth\">Conectar con Salud ID</button>\r\n                    </p>\r\n                    <p class=\"control\">\r\n                        <a class=\"button is-white is-fullwidth\" >Olvidé mi contraseña</a>\r\n                    </p>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/login/login.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_app_auth_service__ = __webpack_require__("../../../../../src/app/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__bloquear_pantalla_bloquear_pantalla_service__ = __webpack_require__("../../../../../src/app/bloquear-pantalla/bloquear-pantalla.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_app_config__ = __webpack_require__("../../../../../src/app/config.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return LoginComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var LoginComponent = (function () {
    function LoginComponent(route, router, authService, bloquearPantallaService) {
        var _this = this;
        this.route = route;
        this.router = router;
        this.authService = authService;
        this.bloquearPantallaService = bloquearPantallaService;
        this.credenciales = {};
        this.loading = false;
        this.mensaje = "";
        this.mostrarMensaje = false;
        this.bloquearPantallaSuscription = bloquearPantallaService.pantallaBloqueada$.subscribe(function (bloquear) {
            // Borramos el token porque de todos modos se va a sustituir
            // y así impedimos que intenten borrar elementos en el navegador para acceder
            if (!bloquear) {
                console.log("Redirigiendo desde login por desbloqueo de pantalla");
                _this.returnUrl = _this.route.snapshot.queryParams['returnUrl'] || '/';
                _this.router.navigate([_this.returnUrl]);
            }
        });
    }
    LoginComponent.prototype.ngOnInit = function () {
        this.saludIdDisponible = __WEBPACK_IMPORTED_MODULE_4_app_config__["a" /* ESTA_SALUD_ID_DISPONIBLE */];
        this.returnUrl = this.route.snapshot.queryParams['returnUrl'] || '/';
    };
    LoginComponent.prototype.login = function () {
        var _this = this;
        this.loading = true;
        this.mostrarMensaje = false;
        this.authService.login(this.credenciales.id, this.credenciales.password)
            .subscribe(function (data) {
            var usuario = JSON.parse(localStorage.getItem("usuario"));
            _this.loading = false;
            if (usuario.modulo_inicio) {
                _this.router.navigate([usuario.modulo_inicio]);
            }
            else {
                _this.router.navigate([_this.returnUrl]);
            }
            localStorage.removeItem('bloquear_pantalla');
        }, function (error) {
            _this.loading = false;
            _this.mostrarMensaje = true;
            _this.mensaje = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensaje = "Lo sentimos el usuario y/o contraseña no son válidos.";
                }
                if (error.status == 0) {
                    _this.mensaje = "Conexión rechazada.";
                }
                if (error.status == 500) {
                    _this.mensaje = "500 (Error interno del servidor)";
                }
            }
            catch (e) {
                if (error.status == 500) {
                    _this.mensaje = "500 (Error interno del servidor)";
                }
            }
        });
    };
    return LoginComponent;
}());
LoginComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-login',
        template: __webpack_require__("../../../../../src/app/login/login.component.html"),
        styles: [__webpack_require__("../../../../../src/app/login/login.component.css")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* ActivatedRoute */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_router__["c" /* ActivatedRoute */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* Router */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_2_app_auth_service__["a" /* AuthService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2_app_auth_service__["a" /* AuthService */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_3__bloquear_pantalla_bloquear_pantalla_service__["a" /* BloquearPantallaService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__bloquear_pantalla_bloquear_pantalla_service__["a" /* BloquearPantallaService */]) === "function" && _d || Object])
], LoginComponent);

var _a, _b, _c, _d;
//# sourceMappingURL=C:/wamp/www/x3-C/src/login.component.js.map

/***/ }),

/***/ "../../../../../src/app/mensaje.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs__ = __webpack_require__("../../../../rxjs/Rx.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_rxjs___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_rxjs__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Mensaje; });

var Mensaje = (function () {
    function Mensaje(autodestruccion, cuentaAtras) {
        if (autodestruccion === void 0) { autodestruccion = false; }
        if (cuentaAtras === void 0) { cuentaAtras = 6; }
        this.titulo = "";
        this.texto = "";
        this.mostrar = false;
        this.cuentaAtras = 6;
        this.clase = "";
        this.iniciarCuentaAtras = function () {
            var _this = this;
            var finish = __WEBPACK_IMPORTED_MODULE_0_rxjs__["Observable"].timer(7000);
            var timer = __WEBPACK_IMPORTED_MODULE_0_rxjs__["Observable"].timer(0, 1000).takeUntil(finish);
            timer.subscribe(function (t) {
                _this.cuentaAtras -= 1;
                if (_this.cuentaAtras < 0) {
                    _this.cuentaAtras = 6;
                    _this.mostrar = false;
                }
            });
        };
        if (autodestruccion) {
            this.iniciarCuentaAtras();
        }
        this.cuentaAtras = cuentaAtras;
    }
    return Mensaje;
}());

//# sourceMappingURL=C:/wamp/www/x3-C/src/mensaje.js.map

/***/ }),

/***/ "../../../../../src/app/not-found/not-found.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/not-found/not-found.component.html":
/***/ (function(module, exports) {

module.exports = "<section class=\"hero is-warning\" style=\"position: fixed; width: 100%;top:0px; z-index:99\">\r\n    <div class=\"hero-head\">\r\n        <div class=\"container is-fluid\">\r\n            <nav class=\"nav is-primary\">\r\n                <div class=\"nav-left\">\r\n                    <a class=\"nav-item is-brand\" routerLink=\"/\" routerLinkActive=\"active\">\r\n                    <!--<img src=\"http://bulma.io/images/bulma-type.png\" alt=\"Bulma logo\">-->\r\n                    <span class=\"icon\">\r\n                        <i class=\"fa fa-safari\"></i>\r\n                    </span> \r\n                     <h1 class=\"title\">&nbsp;404</h1>\r\n                    </a>\r\n                </div>\r\n\r\n                <a class=\"nav-item\"  (click)=\"hub.toggle()\">\r\n                    <span class=\"icon\">\r\n                        <i class=\"fa fa-th\"></i>\r\n                    </span>\r\n                </a>\r\n\r\n                <a class=\"nav-item is-hidden-mobile\" (click)=\"perfil.toggle()\">\r\n                    \r\n                    <figure class=\"image\" style=\"width:26px;\"><img src=\"assets/{{ usuario.avatar || 'avatar-unknow' }}.svg\" alt=\"avatar\"></figure>\r\n                    &nbsp;\r\n                    <span>{{ usuario.nombre }} {{ usuario.apellidos }}</span>\r\n                </a>\r\n                <a class=\"nav-item is-hidden-tablet\" (click)=\"perfil.toggle()\">\r\n                    \r\n                    <figure class=\"image\" style=\"width:26px;\"><img src=\"assets/{{ usuario.avatar || 'avatar-unknow' }}.svg\" alt=\"avatar\"></figure>\r\n                </a>\r\n               \r\n                \r\n            </nav>\r\n        </div>\r\n    </div>\r\n</section>\r\n<app-hub #hub></app-hub>\r\n<app-perfil #perfil></app-perfil>\r\n<section class=\"hero is-dark is-fullheight has-text-centered\">\r\n  <div class=\"hero-body\">\r\n    <div class=\"container\">\r\n      <figure class=\"image\" style=\"height: auto; width: 25%; display: inline-block;\">\r\n        <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 50 50\" style=\"fill:#FFF;\">\r\n        <path d=\"M42.128,22.257c0.01-0.192,0.015-0.378,0.015-0.561c0-7.251-5.899-13.149-13.15-13.149c-5.009,0-9.583,2.896-11.78,7.331\tc-1.134-0.751-2.464-1.154-3.857-1.154c-3.703,0-6.745,2.887-6.993,6.528C2.581,22.628,0,26.258,0,30.331C0,35.662,4.338,40,9.67,40\th31.428C46.006,40,50,36.007,50,31.099C50,26.539,46.553,22.769,42.128,22.257z M31,22c1.105,0,2,0.895,2,2c0,1.105-0.895,2-2,2\ts-2-0.895-2-2C29,22.895,29.895,22,31,22z M19,22c1.105,0,2,0.895,2,2c0,1.105-0.895,2-2,2s-2-0.895-2-2C17,22.895,17.895,22,19,22z M34.654,34.756C34.465,34.92,34.232,35,34,35c-0.279,0-0.559-0.117-0.756-0.346C33.214,34.62,29.99,31,25,31\tc-5.022,0-8.212,3.618-8.244,3.654c-0.361,0.418-0.993,0.462-1.41,0.102c-0.418-0.362-0.463-0.993-0.102-1.411\tC15.397,33.168,19.073,29,25,29s9.603,4.168,9.756,4.346C35.117,33.763,35.072,34.395,34.654,34.756z\"></path>\r\n        </svg>\r\n      </figure>\r\n      <h1 class=\"title\">¡Lo sentimos!</h1>\r\n      <h2 class=\"subtitle\">El contenido que intentas buscar <strong>no existe</strong>.</h2>\r\n    </div>\r\n  </div>\r\n</section>\r\n\r\n"

/***/ }),

/***/ "../../../../../src/app/not-found/not-found.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NotFoundComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var NotFoundComponent = (function () {
    function NotFoundComponent() {
        this.usuario = {};
    }
    NotFoundComponent.prototype.ngOnInit = function () {
        this.usuario = JSON.parse(localStorage.getItem("usuario"));
    };
    return NotFoundComponent;
}());
NotFoundComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-not-found',
        template: __webpack_require__("../../../../../src/app/not-found/not-found.component.html"),
        styles: [__webpack_require__("../../../../../src/app/not-found/not-found.component.css")]
    }),
    __metadata("design:paramtypes", [])
], NotFoundComponent);

//# sourceMappingURL=C:/wamp/www/x3-C/src/not-found.component.js.map

/***/ }),

/***/ "../../../../../src/app/paginacion/paginacion.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/paginacion/paginacion.component.html":
/***/ (function(module, exports) {

module.exports = "<div style=\"padding:1em;\" *ngIf=\"total>0 && total > resultadosPorPagina\">\r\n    <nav class=\"pagination\" >\r\n        <a class=\"pagination-previous\" [ngClass]=\"{'is-disabled': 1 == paginaActual }\" (click)=\"anterior()\">Anterior</a>\r\n        <a class=\"pagination-next\"  [ngClass]=\"{'is-disabled': paginasTotales <= paginaActual }\" (click)=\"siguiente()\">Siguiente</a>\r\n        <ul class=\"pagination-list\" *ngIf=\"paginasTotales<=7\">\r\n            <li *ngFor=\"let i of indicePaginas\">\r\n            <a class=\"pagination-link\" [ngClass]=\"{'is-current': i == paginaActual }\" (click)=\"listar(i)\">{{ i }}</a>\r\n            </li>\r\n        </ul>\r\n\r\n        <ul class=\"pagination-list\" *ngIf=\"paginaActual < 4 && paginasTotales > 7\">\r\n            <li>\r\n                <a class=\"pagination-link\" [ngClass]=\"{'is-current': 1 == paginaActual }\" (click)=\"listar(1)\">1</a>\r\n            </li>\r\n            <li><a class=\"pagination-link\" [ngClass]=\"{'is-current': 2== paginaActual }\" (click)=\"listar(2)\">2</a></li>\r\n            <li><a class=\"pagination-link\" [ngClass]=\"{'is-current': 3== paginaActual }\" (click)=\"listar(3)\">3</a></li>\r\n            <li><a class=\"pagination-link\" [ngClass]=\"{'is-current': 4== paginaActual }\" (click)=\"listar(4)\">4</a></li>\r\n            <li><span class=\"pagination-ellipsis\">&hellip;</span></li>\r\n            <li >\r\n            <a class=\"pagination-link\" [ngClass]=\"{'is-current': paginasTotales == paginaActual }\" (click)=\"listar(paginasTotales)\">{{ paginasTotales }}</a>\r\n            </li>\r\n        </ul>\r\n\r\n        <ul class=\"pagination-list\" *ngIf=\"paginaActual > paginasTotales - 4 && paginasTotales > 7\">\r\n            <li>\r\n                <a class=\"pagination-link\" [ngClass]=\"{'is-current': 1 == paginaActual }\" (click)=\"listar(1)\">1</a>\r\n            </li>\r\n            <li><span class=\"pagination-ellipsis\">&hellip;</span></li>\r\n            <li><a class=\"pagination-link\" [ngClass]=\"{'is-current': paginasTotales - 3 == paginaActual }\" (click)=\"listar(paginasTotales - 3)\">{{ paginasTotales - 3 }}</a></li>\r\n            <li><a class=\"pagination-link\" [ngClass]=\"{'is-current': paginasTotales - 2 == paginaActual }\" (click)=\"listar(paginasTotales - 2)\">{{ paginasTotales - 2 }}</a></li>\r\n            <li><a class=\"pagination-link\" [ngClass]=\"{'is-current': paginasTotales - 1 == paginaActual }\" (click)=\"listar(paginasTotales - 1)\">{{ paginasTotales - 1 }}</a></li>\r\n        \r\n            <li >\r\n            <a class=\"pagination-link\" [ngClass]=\"{'is-current': paginasTotales == paginaActual }\" (click)=\"listar(paginasTotales)\">{{ paginasTotales }}</a>\r\n            </li>\r\n        </ul>\r\n\r\n        <ul class=\"pagination-list\" *ngIf=\"paginaActual >= 4 && paginaActual <= paginasTotales - 4 && paginasTotales > 7\">\r\n            <li>\r\n            <a class=\"pagination-link\" [ngClass]=\"{'is-current': 1 == paginaActual }\" (click)=\"listar(1)\">1</a>\r\n            </li>\r\n            <li><span class=\"pagination-ellipsis\">&hellip;</span>\r\n            </li>\r\n            <li>\r\n            <a class=\"pagination-link\" [ngClass]=\"{'is-current': paginaActual-1 == paginaActual }\" (click)=\"listar(paginaActual-1)\">{{ paginaActual-1 }}</a>\r\n            </li>\r\n            <li>\r\n            <a class=\"pagination-link\" [ngClass]=\"{'is-current': paginaActual == paginaActual }\" (click)=\"listar(paginaActual)\">{{ paginaActual }}</a>\r\n            </li>\r\n            <li >\r\n            <a class=\"pagination-link\" [ngClass]=\"{'is-current': paginaActual+1 == paginaActual }\" (click)=\"listar(paginaActual+1)\">{{ paginaActual+1 }}</a>\r\n            </li>\r\n            <li><span class=\"pagination-ellipsis\">&hellip;</span></li>\r\n            <li >\r\n            <a class=\"pagination-link\" [ngClass]=\"{'is-current': paginasTotales == paginaActual }\" (click)=\"listar(paginasTotales)\">{{ paginasTotales }}</a>\r\n            </li>\r\n        </ul>\r\n    </nav>\r\n</div>\r\n"

/***/ }),

/***/ "../../../../../src/app/paginacion/paginacion.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PaginacionComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var PaginacionComponent = (function () {
    function PaginacionComponent() {
        this.onSiguiente = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onAnterior = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onListar = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
    }
    PaginacionComponent.prototype.ngOnInit = function () {
    };
    PaginacionComponent.prototype.siguiente = function () {
        console.log("siguiente");
        this.onSiguiente.emit();
    };
    PaginacionComponent.prototype.anterior = function () {
        console.log("anterior");
        this.onAnterior.emit();
    };
    PaginacionComponent.prototype.listar = function (pag) {
        if (pag === void 0) { pag = 1; }
        console.log("listar:" + pag);
        this.onListar.emit(pag);
    };
    return PaginacionComponent;
}());
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Number)
], PaginacionComponent.prototype, "total", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Number)
], PaginacionComponent.prototype, "paginasTotales", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Number)
], PaginacionComponent.prototype, "resultadosPorPagina", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Number)
], PaginacionComponent.prototype, "paginaActual", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Array)
], PaginacionComponent.prototype, "indicePaginas", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
    __metadata("design:type", Object)
], PaginacionComponent.prototype, "onSiguiente", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
    __metadata("design:type", Object)
], PaginacionComponent.prototype, "onAnterior", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
    __metadata("design:type", Object)
], PaginacionComponent.prototype, "onListar", void 0);
PaginacionComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'paginacion',
        template: __webpack_require__("../../../../../src/app/paginacion/paginacion.component.html"),
        styles: [__webpack_require__("../../../../../src/app/paginacion/paginacion.component.css")]
    }),
    __metadata("design:paramtypes", [])
], PaginacionComponent);

//# sourceMappingURL=C:/wamp/www/x3-C/src/paginacion.component.js.map

/***/ }),

/***/ "../../../../../src/app/paginacion/paginacion.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__paginacion_component__ = __webpack_require__("../../../../../src/app/paginacion/paginacion.component.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PaginacionModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



var PaginacionModule = (function () {
    function PaginacionModule() {
    }
    return PaginacionModule;
}());
PaginacionModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [
            __WEBPACK_IMPORTED_MODULE_1__angular_common__["CommonModule"]
        ],
        exports: [
            __WEBPACK_IMPORTED_MODULE_2__paginacion_component__["a" /* PaginacionComponent */]
        ],
        declarations: [__WEBPACK_IMPORTED_MODULE_2__paginacion_component__["a" /* PaginacionComponent */]]
    })
], PaginacionModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/paginacion.module.js.map

/***/ }),

/***/ "../../../../../src/app/paginacion/paginacion.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return Paginacion; });
var Paginacion = (function () {
    function Paginacion() {
        this.lista = [];
        this.paginaActual = 1;
        this.resultadosPorPagina = 5;
        this.totalPaginas = 0;
        this.indice = [];
    }
    return Paginacion;
}());

//# sourceMappingURL=C:/wamp/www/x3-C/src/paginacion.js.map

/***/ }),

/***/ "../../../../../src/app/panel-control/almacenes/almacenes-routing.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lista_lista_component__ = __webpack_require__("../../../../../src/app/panel-control/almacenes/lista/lista.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__formulario_formulario_component__ = __webpack_require__("../../../../../src/app/panel-control/almacenes/formulario/formulario.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__auth_guard_service__ = __webpack_require__("../../../../../src/app/auth-guard.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return AlmacenesRoutingModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





var routes = [
    {
        path: 'panel-control/almacenes',
        children: [
            { path: '', component: __WEBPACK_IMPORTED_MODULE_2__lista_lista_component__["a" /* ListaComponent */] },
            { path: 'nuevo', component: __WEBPACK_IMPORTED_MODULE_3__formulario_formulario_component__["a" /* FormularioComponent */] },
            { path: 'editar/:id', component: __WEBPACK_IMPORTED_MODULE_3__formulario_formulario_component__["a" /* FormularioComponent */] },
        ],
        canActivate: [__WEBPACK_IMPORTED_MODULE_4__auth_guard_service__["a" /* AuthGuard */]]
    }
];
var AlmacenesRoutingModule = (function () {
    function AlmacenesRoutingModule() {
    }
    return AlmacenesRoutingModule;
}());
AlmacenesRoutingModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */].forChild(routes)],
        exports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */]],
        providers: []
    })
], AlmacenesRoutingModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/almacenes-routing.module.js.map

/***/ }),

/***/ "../../../../../src/app/panel-control/almacenes/almacenes.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__hub_hub_module__ = __webpack_require__("../../../../../src/app/hub/hub.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__perfil_perfil_module__ = __webpack_require__("../../../../../src/app/perfil/perfil.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__bloquear_pantalla_bloquear_pantalla_module__ = __webpack_require__("../../../../../src/app/bloquear-pantalla/bloquear-pantalla.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__almacenes_routing_module__ = __webpack_require__("../../../../../src/app/panel-control/almacenes/almacenes-routing.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__paginacion_paginacion_module__ = __webpack_require__("../../../../../src/app/paginacion/paginacion.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__pipes_pipes_module__ = __webpack_require__("../../../../../src/app/pipes/pipes.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__lista_lista_component__ = __webpack_require__("../../../../../src/app/panel-control/almacenes/lista/lista.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__formulario_formulario_component__ = __webpack_require__("../../../../../src/app/panel-control/almacenes/formulario/formulario.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__auth_service__ = __webpack_require__("../../../../../src/app/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__menu_menu_module__ = __webpack_require__("../../../../../src/app/panel-control/menu/menu.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__crud_crud_service__ = __webpack_require__("../../../../../src/app/crud/crud.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__crud_crud_module__ = __webpack_require__("../../../../../src/app/crud/crud.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__ngui_auto_complete__ = __webpack_require__("../../../../@ngui/auto-complete/dist/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_15__ngui_auto_complete___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_15__ngui_auto_complete__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MisAlmacenesModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};












//import { MenuPanelModule } from '../menu/menu-panel.module';
//import { MenuAsidePanelModule } from '../menu/menu-aside/menu-aside-panel.module';

//crud


//fin crud

var MisAlmacenesModule = (function () {
    function MisAlmacenesModule() {
    }
    return MisAlmacenesModule;
}());
MisAlmacenesModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [
            __WEBPACK_IMPORTED_MODULE_1__angular_common__["CommonModule"],
            __WEBPACK_IMPORTED_MODULE_2__angular_forms__["FormsModule"],
            __WEBPACK_IMPORTED_MODULE_2__angular_forms__["ReactiveFormsModule"],
            __WEBPACK_IMPORTED_MODULE_6__almacenes_routing_module__["a" /* AlmacenesRoutingModule */],
            __WEBPACK_IMPORTED_MODULE_3__hub_hub_module__["a" /* HubModule */],
            __WEBPACK_IMPORTED_MODULE_4__perfil_perfil_module__["a" /* PerfilModule */],
            __WEBPACK_IMPORTED_MODULE_5__bloquear_pantalla_bloquear_pantalla_module__["a" /* BloquearPantallaModule */],
            __WEBPACK_IMPORTED_MODULE_7__paginacion_paginacion_module__["a" /* PaginacionModule */],
            __WEBPACK_IMPORTED_MODULE_8__pipes_pipes_module__["a" /* PipesModule */],
            __WEBPACK_IMPORTED_MODULE_12__menu_menu_module__["a" /* MenuModule */],
            //MenuPanelModule, 
            //MenuAsidePanelModule,
            __WEBPACK_IMPORTED_MODULE_14__crud_crud_module__["a" /* CrudModule */],
            __WEBPACK_IMPORTED_MODULE_15__ngui_auto_complete__["NguiAutoCompleteModule"]
        ],
        declarations: [
            __WEBPACK_IMPORTED_MODULE_9__lista_lista_component__["a" /* ListaComponent */],
            __WEBPACK_IMPORTED_MODULE_10__formulario_formulario_component__["a" /* FormularioComponent */]
        ],
        providers: [__WEBPACK_IMPORTED_MODULE_11__auth_service__["a" /* AuthService */], __WEBPACK_IMPORTED_MODULE_13__crud_crud_service__["a" /* CrudService */]]
    })
], MisAlmacenesModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/almacenes.module.js.map

/***/ }),

/***/ "../../../../../src/app/panel-control/almacenes/formulario/formulario.component.html":
/***/ (function(module, exports) {

module.exports = "<formulario #ctrl URL=\"mis-almacenes\" titulo=\"Almacenes / Catalogo\" [dato]=\"dato\"></formulario>\r\n<panel-control-menu></panel-control-menu>\r\n<div style=\"height:50px;\"></div>\r\n<div class=\"contenedor columns \" style=\"height:100%\">\r\n    <div class=\"column is-one-quarter is-hidden-mobile\">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class=\"column\" style=\"padding:2em;\">\r\n        <div style=\"background: #FFF; border-radius: 1em; overflow: hidden;\">\r\n            <section class=\"hero is-primary\">\r\n                <div class=\"hero-body\">\r\n                    <a class=\"button  is-primary\" style=\"position:absolute; top:10em; right:3em;\" (click)=\"ctrl.cargarDatos(); \"><span class=\"icon \"><i class=\"fa fa-refresh\"></i></span></a>\r\n                    <div class=\"container is-fluid\">\r\n                        <h1 class=\"title\">\r\n                            <span *ngIf=\"!ctrl.cargando\" class=\"icon is-medium\"><i class=\"fa fa-edit\"></i></span>\r\n                            <span *ngIf=\"ctrl.cargando\" class=\"icon is-medium\"><i class=\"fa fa-refresh fa-spin\"></i></span>                            {{ctrl.moduloTitulo}} almacen\r\n                        </h1>\r\n\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class=\"is-fullwidth has-text-centered\" *ngIf=\"!ctrl.datosCargados\">\r\n                <br>\r\n                <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando...</span></span>\r\n            </div>\r\n            <section class=\"section\">\r\n                <!-- formulario -->\r\n                <form name=\"dato\" novalidate [formGroup]=\"ctrl.dato\" (ngSubmit)=\"ctrl.enviar()\">\r\n                    <div class=\"tabs is-boxed\">\r\n                        <ul>\r\n                            <li [ngClass]=\"{ 'is-active' : tab == 1}\">\r\n                                <a (click)=\"tab=1\">\r\n                                    <span class=\"icon is-small\"><i class=\"fa fa-file\"></i></span>\r\n                                    <span>Datos del almacén</span>\r\n                                </a>\r\n                            </li>\r\n                            <li [ngClass]=\"{ 'is-active' : tab == 2}\">\r\n                                <a (click)=\"tab=2\">\r\n                                    <span class=\"icon is-small\"><i class=\"fa fa-home\"></i></span>\r\n                                    <span>Tipos de movimientos</span>\r\n                                </a>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n\r\n                    <div [ngClass]=\"{ 'is-hidden': tab != 1}\">\r\n\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">ID:</label>\r\n                            <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                                <input class=\"input\" type=\"text\" [ngClass]=\"{'is-danger': ctrl.dato.get('id').hasError('required') && ctrl.dato.get('id').touched}\"\r\n                                    placeholder=\"id\" formControlName=\"id\" [readonly]=\"tieneid\">\r\n                                <span class=\"icon is-small\" *ngIf=\"ctrl.dato.get('id').hasError('required') && ctrl.dato.get('id').touched\">\r\n                                    <i class=\"fa fa-warning\"></i>\r\n                                </span>\r\n                                <span class=\"help is-danger\" *ngIf=\"ctrl.dato.get('id').hasError('required') && ctrl.dato.get('id').touched\">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Nombre:</label>\r\n                            <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                                <input class=\"input\" type=\"text\" [ngClass]=\"{'is-danger': ctrl.dato.get('nombre').hasError('required') && ctrl.dato.get('nombre').touched}\"\r\n                                    placeholder=\"nombre\" formControlName=\"nombre\">\r\n                                <span class=\"icon is-small\" *ngIf=\"ctrl.dato.get('nombre').hasError('required') && ctrl.dato.get('nombre').touched\">\r\n                                    <i class=\"fa fa-warning\"></i>\r\n                                </span>\r\n                                <span class=\"help is-danger\" *ngIf=\"ctrl.dato.get('nombre').hasError('required') && ctrl.dato.get('nombre').touched\">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Nivel de almacén:</label>\r\n                            <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                                <select class=\"select\" name=\"nivel_almacen\" formControlName=\"nivel_almacen\" [ngClass]=\"{'is-warning': nivel_almacen?.length ==0 }\">\r\n                                    <option *ngFor=\"let item of niveles_almacen\" value=\"{{item.id}}\" >{{ item.nombre }}</option>\r\n                                </select>\r\n                                <span class=\"icon is-small\" *ngIf=\"ctrl.dato.get('nivel_almacen').hasError('required') && ctrl.dato.get('nivel_almacen').touched\">\r\n                                    <i class=\"fa fa-warning\"></i>\r\n                                </span>\r\n                                <span class=\"help is-danger\" *ngIf=\"ctrl.dato.get('nivel_almacen').hasError('required') && ctrl.dato.get('nivel_almacen').touched\">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n\r\n                        <div class=\"field\">\r\n                            <label class=\"label\">Tipo de almacén:</label>\r\n                            <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                                <select class=\"select\" name=\"tipo_almacen\" formControlName=\"tipo_almacen\" [ngClass]=\"{'is-warning': tipo_almacen?.length ==0 }\">\r\n                                    <option *ngFor=\"let item of tipos_almacen\" value=\"{{item.id}}\" >{{ item.nombre }}</option>\r\n                                </select>\r\n                                <span class=\"icon is-small\" *ngIf=\"ctrl.dato.get('tipo_almacen').hasError('required') && ctrl.dato.get('tipo_almacen').touched\">\r\n                                    <i class=\"fa fa-warning\"></i>\r\n                                </span>\r\n                                <span class=\"help is-danger\" *ngIf=\"ctrl.dato.get('tipo_almacen').hasError('required') && ctrl.dato.get('tipo_almacen').touched\">Este campo es requerido.</span>\r\n                            </p>\r\n                        </div>\r\n\r\n\r\n                        <div class=\"field\">\r\n                            <label class=\"label\" id=\"catalogos\" (click)=\"ctrl.cargarCatalogo('proveedores', 'proveedor'); ctrl.cargarCatalogo('tipos_movimientos', 'tipo-movimiento'); \">Proveedor:</label>\r\n                            <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                                <select class=\"select\" name=\"proveedor_id\" formControlName=\"proveedor_id\" [ngClass]=\"{'is-warning': proveedor_id?.length ==0 }\">\r\n                                    <option *ngFor=\"let item of ctrl.proveedores\" value=\"{{item.id}}\" >{{ item.nombre }}</option>\r\n                                </select>\r\n                            </p>\r\n                        </div>\r\n\r\n                        <br>\r\n                        <div class=\"control is-grouped\">\r\n                            <div class=\"b-checkbox control is-expanded  has-icon has-icon-right\">\r\n\r\n                                <input type=\"checkbox\" id=\"subrogado\" class=\"styled\" [checked]=\"ctrl.dato.get('subrogado').value == '1' ? true : false\" (change)=\"ctrl.dato.get('subrogado').patchValue(ctrl.dato.get('subrogado').value == '1' ? '0' : '1')\">\r\n                                <label for=\"subrogado\">  Es Subrogado?\r\n                                </label>\r\n                            </div>\r\n\r\n                            <div class=\"b-checkbox control is-expanded  has-icon has-icon-right\">\r\n\r\n                                <input type=\"checkbox\" id=\"unidosis\" class=\"styled\" [checked]=\"ctrl.dato.get('unidosis').value == '1' ? true : false\" (change)=\"ctrl.dato.get('unidosis').patchValue(ctrl.dato.get('unidosis').value == '1' ? '0' : '1')\">\r\n                                <label for=\"unidosis\">   Maneja unidosis?\r\n                                </label>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div [ngClass]=\"{ 'is-hidden': tab != 2}\">\r\n                        <!--\r\n                        <div formArrayName=\"almacen_tipos_movimientos\">\r\n                            <div *ngFor=\"let item of ctrl.dato.controls.almacen_tipos_movimientos.controls; let i=index\" class=\"column is-4\" style=\"float:left\">\r\n                                <nav class=\"panel\" [formGroupName]=\"i\">\r\n                                    <div class=\"panel-heading\">\r\n                                        Tipo de movimiento {{i + 1}}\r\n                                        <a style=\"float:right\" class=\"is-danger\" (click)=\"ctrl.quitar_form_array(ctrl.dato.controls.almacen_tipos_movimientos, i)\"><span class=\"icon\"><i class=\"fa fa-trash-o\"></i></span></a>\r\n                                    </div>\r\n                                    <label class=\"panel-block\">                                                  \r\n                                        <select class=\"select\" name=\"tipo_movimiento_id\" formControlName=\"tipo_movimiento_id\" [ngClass]=\"{'is-warning': tipo_movimiento_id?.length ==0 }\">\r\n                                            <option *ngFor=\"let val of ctrl.tipos_movimientos\" value=\"{{val.id}}\" >{{ val.nombre }}</option>\r\n                                        </select>\r\n                                        <span class=\"help is-danger\" *ngIf=\"!ctrl.dato.controls.almacen_tipos_movimientos.controls[i].controls.tipo_movimiento_id.valid\">Este campo es requerido.</span>                                            \r\n                                    </label>\r\n                                </nav>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"block\">\r\n                            <a class=\"button is-primary is-outlined is-fullwidth\" (click)=\"ctrl.agregar_form_array(ctrl.dato.controls.almacen_tipos_movimientos.controls, form_almacen_tipos_movimientos)\">\r\n                                <span class=\"icon\">\r\n                                    <i class=\"fa fa-plus\"> </i> \r\n                                </span> \r\n                                &nbsp; Agregar\r\n                            </a>\r\n                        </div>\r\n                        -->\r\n\r\n                        <div class=\"box\" >\r\n                            <article class=\"media\">\r\n                                <div class=\"media-content\">\r\n                                    <div class=\"content\">\r\n                                        <div class=\"column is-5\" style=\"float:left\">\r\n                                            <nav class=\"panel\">\r\n                                                <div class=\"panel-heading\">\r\n                                                    <div class=\"field\">\r\n                                                        <div class=\"b-checkbox is-info\">\r\n                                                            <input id=\"Movimientos\" class=\"styled\" type=\"checkbox\" \r\n                                                            [checked]=\"ctrl.todosSeleccionados.izquierda\"\r\n                                                            (click)=\"ctrl.seleccionarTodosMover('izquierda', ctrl.tipos_movimientos)\">\r\n                                                            <label for=\"Movimientos\">\r\n                                                            Movimientos disponibles\r\n                                                        </label>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <label class=\"panel-block\" *ngFor=\"let val of ctrl.tipos_movimientos; let i=index\">          \r\n                                                    <div class=\"field\">\r\n                                                        <div class=\"b-checkbox\">\r\n                                                            <input id=\"{{val.id}}\" class=\"styled\" type=\"checkbox\" \r\n                                                            [checked]=\"ctrl.izquierda.indexOf(val) > -1\"\r\n                                                            (click)=\"ctrl.agregarMover('izquierda', ctrl.tipos_movimientos, val)\">\r\n                                                            <label for=\"{{val.id}}\">\r\n                                                                {{val.nombre}} \r\n                                                            </label>\r\n                                                        </div>\r\n                                                    </div>\r\n\r\n                                                </label>\r\n                                            </nav>\r\n                                        </div>\r\n                                        <div class=\"column is-2\" style=\"float:left\" >\r\n                                            \r\n                                            <p class=\"control\">\r\n                                                <button class=\"button is-default\" type=\"button\" style=\"width:100%\" \r\n                                                [ngClass]=\"{'is-success': ctrl.izquierda.length > 0}\" \r\n                                                [disabled]=\"ctrl.izquierda.length <= 0\"\r\n                                                (click)=\"ctrl.iniciarMover('izquierda', ctrl.dato.controls.almacen_tipos_movimientos.controls, ctrl.tipos_movimientos, true)\">></button>\r\n                                            </p>\r\n                                            <p class=\"control\">\r\n                                                <button class=\"button is-default\" type=\"button\" style=\"width:100%\" \r\n                                                [ngClass]=\"{'is-success': ctrl.derecha.length > 0}\" \r\n                                                [disabled]=\"ctrl.derecha.length <= 0\"\r\n                                                (click)=\"ctrl.iniciarMover('derecha', ctrl.tipos_movimientos, ctrl.dato.controls.almacen_tipos_movimientos.controls, false)\"><</button>\r\n                                            </p>\r\n                                            \r\n                                        </div>                        \r\n                                        <div class=\"column is-5\" style=\"float:left\" >\r\n                                            <nav class=\"panel\" formGroupName=\"almacen_tipos_movimientos\">\r\n                                                <div class=\"panel-heading\">\r\n                                                    <div class=\"field\">\r\n                                                        <div class=\"b-checkbox is-info\">\r\n                                                            <input id=\"MisMovimientos\" class=\"styled\" type=\"checkbox\" \r\n                                                            [checked]=\"ctrl.todosSeleccionados.derecha\"\r\n                                                            (click)=\"ctrl.seleccionarTodosMover('derecha', ctrl.dato.controls.almacen_tipos_movimientos.controls)\">\r\n                                                            <label for=\"MisMovimientos\">\r\n                                                            Mis movimientos\r\n                                                        </label>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <label class=\"panel-block\" *ngFor=\"let item of ctrl.dato.controls.almacen_tipos_movimientos.controls; let i2=index\">          \r\n                                                    <div class=\"field\" [formGroupName]=\"i2\">\r\n                                                        <div class=\"b-checkbox\">\r\n                                                            <input id=\"{{item.value.id}}\" class=\"styled\" type=\"checkbox\"\r\n                                                            [checked]=\"ctrl.derecha.indexOf(item) > -1\"\r\n                                                            (click)=\"ctrl.agregarMover('derecha', ctrl.dato.controls.almacen_tipos_movimientos.controls, item)\">\r\n                                                            <label for=\"{{item.value.id}}\">\r\n                                                                {{item.value.nombre}} \r\n                                                            </label>\r\n                                                        </div>\r\n                                                    </div>\r\n\r\n                                                </label>\r\n                                            </nav>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </article>\r\n                        </div>\r\n                    </div>\r\n                    <a (click)=\"ctrl.initMover(ctrl.dato.controls.almacen_tipos_movimientos.controls, ctrl.tipos_movimientos); \" id=\"initMover\"></a>\r\n                    <br><br>\r\n                    <div class=\"control is-grouped\" style=\"float:left; padding:10px;\">\r\n                        <p class=\"control\">\r\n                            <button class=\"button is-primary\" type=\"submit\" [ngClass]=\"{'is-loading': ctrl.cargando}\" [disabled]=\"ctrl.dato.invalid\">Guardar</button>\r\n                        </p>\r\n                        <p class=\"control\" *ngIf=\"ctrl.id\">\r\n                            <button class=\"button is-danger\" type=\"button\" [ngClass]=\"{'is-loading': ctrl.cargando}\" (click)=\"ctrl.eliminar(ctrl.id)\">Eliminar </button>\r\n                        </p>\r\n                        <p class=\"control\">\r\n                            <a class=\"button is-white\" (click)=\"ctrl.regresar()\">Regresar</a>\r\n                        </p>\r\n                    </div>\r\n                    \r\n                </form>\r\n            </section>\r\n        </div>\r\n    </div>\r\n</div>\r\n"

/***/ }),

/***/ "../../../../../src/app/panel-control/almacenes/formulario/formulario.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormularioComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var FormularioComponent = (function () {
    function FormularioComponent(fb, router, route, _sanitizer) {
        this.fb = fb;
        this.router = router;
        this.route = route;
        this._sanitizer = _sanitizer;
        this.tieneid = false;
        this.tipos_almacen = [
            { id: "ALMPAL", nombre: "ALMPAL" },
            { id: "JURIS", nombre: "JURIS" },
            { id: "UNMED", nombre: "UNMED" },
            { id: "LAB", nombre: "LAB" },
            { id: "FARMACIA", nombre: "FARMACIA" },
            { id: "CENDIS", nombre: "CENDIS" }
        ];
        this.niveles_almacen = [
            { id: 1, nombre: "HACE PEDIDOS AL PROVEEDOR" },
            { id: 2, nombre: "HACE PEDIDOS A OTRO ALMACEN DENTRO DE LA CLUES" }
        ];
        this.tab = 1;
    }
    FormularioComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.dato = this.fb.group({
            id: ['', [__WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required]],
            nombre: ['', [__WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required]],
            nivel_almacen: ['', [__WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required]],
            tipo_almacen: ['', [__WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required]],
            subrogado: [''],
            proveedor_id: [''],
            unidosis: [''],
            almacen_tipos_movimientos: this.fb.array([])
        });
        this.form_almacen_tipos_movimientos = {
            tipo_movimiento_id: ['', [__WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required]]
        };
        this.route.params.subscribe(function (params) {
            if (params['id']) {
                _this.tieneid = true;
            }
        });
        //Solo si se va a cargar catalogos poner un <a id="catalogos" (click)="ctl.cargarCatalogo('modelo','ruta')">refresh</a>
        document.getElementById("catalogos").click();
    };
    FormularioComponent.prototype.ngAfterViewInit = function () {
        //Solo si se tiene el control mover izquierda-derecha poner un <a id="initMover" (click)="ctrl.initMover(ctrl.dato.controls.almacen_tipos_movimientos.controls, ctrl.tipos_movimientos)>refresh</a>
        //incrementar el tiempo segun sea el caso para que cargue el catalogo en este caso va a acrgar 2 catalogos por eso pongo 5000
        setTimeout(function () {
            document.getElementById("initMover").click();
        }, 5000);
    };
    return FormularioComponent;
}());
FormularioComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'almacenes-formulario',
        template: __webpack_require__("../../../../../src/app/panel-control/almacenes/formulario/formulario.component.html")
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_2__angular_forms__["FormBuilder"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_forms__["FormBuilder"]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_3__angular_router__["a" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__angular_router__["a" /* Router */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_3__angular_router__["c" /* ActivatedRoute */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__angular_router__["c" /* ActivatedRoute */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["d" /* DomSanitizer */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["d" /* DomSanitizer */]) === "function" && _d || Object])
], FormularioComponent);

var _a, _b, _c, _d;
//# sourceMappingURL=C:/wamp/www/x3-C/src/formulario.component.js.map

/***/ }),

/***/ "../../../../../src/app/panel-control/almacenes/lista/lista.component.html":
/***/ (function(module, exports) {

module.exports = "<listar #ctrl URL=\"mis-almacenes\" titulo=\"Almacenes / Panel control\"></listar>\r\n<panel-control-menu></panel-control-menu>\r\n<div style=\"height:50px;\"></div>\r\n<div class=\"contenedor columns \" style=\"height:100%; \">\r\n    <div class=\"column is-one-quarter is-hidden-mobile\">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class=\"column\" style=\"padding:2em;\">\r\n        <div style=\"background: #FFF; border-radius: 1em; overflow: hidden;\">\r\n            <section class=\"hero\" [ngClass]=\" {'is-dark': ctrl.busquedaActivada, 'is-primary': !ctrl.busquedaActivada } \">\r\n\r\n                <div class=\"hero-body\" style=\"position:relative;\">\r\n                    <a class=\"button  is-dark\" *ngIf=\"ctrl.busquedaActivada\" style=\"position:absolute; top:1em; right:1em;\" (click)=\"ctrl.busquedaActivada=false;searchBox.value=''; ctrl.resultadosBusqueda=[]\"><span class=\"icon \"><i class=\"fa fa-close\"></i></span></a>\r\n                    <a class=\"button  is-dark\" *ngIf=\"ctrl.busquedaActivada\" style=\"position:absolute; top:1em; right:3.5em;\" (click)=\"ctrl.listarBusqueda(searchBox.value,1)\"><span class=\"icon \"><i class=\"fa fa-refresh\"></i></span></a>\r\n                    <a class=\"button  is-primary\" *ngIf=\"!ctrl.busquedaActivada\" style=\"position:absolute; top:1em; right:1em;\" (click)=\"ctrl.listar(1)\"><span class=\"icon \"><i class=\"fa fa-refresh\"></i></span></a>\r\n                    <div class=\"container is-fluid\">\r\n\r\n                        <h1 class=\"title\" *ngIf=\"!ctrl.busquedaActivada\">\r\n                            <span class=\"icon is-medium\"><i class=\"fa fa-user\"></i></span> almacenes\r\n                        </h1>\r\n                        <h1 class=\"title\" *ngIf=\"ctrl.busquedaActivada\">\r\n                            <span class=\"icon is-medium\"><i class=\"fa fa-search\"></i></span> Búsqueda\r\n                        </h1>\r\n                        <div class=\"control is-grouped\">\r\n                            <p class=\"control is-expanded\">\r\n                                <input class=\"input is-medium\" type=\"text\" placeholder=\"Buscar\" #searchBox id=\"search-box\" (keyup)=\"ctrl.buscar(searchBox.value)\">\r\n                            </p>\r\n                            <p class=\"control\">\r\n                                <a class=\"button is-medium is-primary is-inverted \" routerLink=\"/panel-control/almacenes/nuevo\">\r\n                                    <span class=\"icon\"><i class=\"fa fa-plus\"></i></span><span>Nuevo</span>\r\n                                </a>\r\n                            </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class=\"is-fullwidth has-text-centered\" *ngIf=\"ctrl.cargando\">\r\n                <br>\r\n                <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n\r\n            <table class=\"table\" *ngIf=\"!ctrl.cargando\">\r\n                <thead>\r\n                    <tr>\r\n                        <th><abbr title=\"Usuario ID\">ID</abbr></th>                        \r\n                        <th>Nombre</th>\r\n                        <th>Servidor</th>\r\n                        <th>Nivel</th>\r\n                        <th>Tipo</th>\r\n                        <th>Clues</th>\r\n                        <th>Subrogado</th>\r\n                        <th>Unidosis</th>\r\n                        <th style=\"text-align:center;\">Opciones</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody *ngIf=\"!ctrl.busquedaActivada\">\r\n                    <tr *ngFor=\"let item of ctrl.dato; let i=index\">\r\n                        <th style=\"vertical-align: middle;\"><a routerLink=\"/panel-control/almacenes/editar/{{item.id}}\">{{ item.id }}</a></th>                        \r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/panel-control/almacenes/editar/{{item.id}}\">{{ item.nombre }} </a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/panel-control/almacenes/editar/{{item.id}}\">{{ item.servidor_id }} </a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/panel-control/almacenes/editar/{{item.id}}\">{{ item.nivel_almacen == 1 ? 'HACE PEDIDOS AL PROVEEDOR' : 'HACE PEDIDOS A OTRO ALMACEN DENTRO DE LA CLUES'}} </a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/panel-control/almacenes/editar/{{item.id}}\">{{ item.tipo_almacen }} </a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/panel-control/almacenes/editar/{{item.id}}\">{{ item.clues }} </a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/panel-control/almacenes/editar/{{item.id}}\">{{ item.subrogado == 0 ? 'No' : 'Si'}} </a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/panel-control/almacenes/editar/{{item.id}}\">{{ item.unidosis  == 0 ? 'No' : 'Si'}} </a></td>\r\n                        <td style=\"vertical-align: middle;\" class=\"has-text-centered\"><span class=\"icon \" *ngIf=\"item.cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span><a *ngIf=\"!item.cargando\"\r\n                                class=\"is-danger\" (click)=\"ctrl.eliminar(item, i)\"><span class=\"icon\"><i class=\"fa fa-trash-o\"></i></span></a></td>\r\n\r\n                    </tr>\r\n                    <tr *ngIf=\"ctrl.dato.length == 0\">\r\n                        <td colspan=\"5\" style=\"vertical-align: middle; color:#888;\">Esta lista está vacía.</td>\r\n                    </tr>\r\n                </tbody>\r\n                <tbody *ngIf=\"ctrl.busquedaActivada\">\r\n                    <tr *ngFor=\"let item of ctrl.resultadosBusqueda; let i=index\">\r\n                        <th style=\"vertical-align: middle;\"><a routerLink=\"/panel-control/almacenes/editar/{{item.id}}\">{{ item.id }}</a></th>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/panel-control/almacenes/editar/{{item.id}}\">{{ item.nombre }} </a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/panel-control/almacenes/editar/{{item.id}}\">{{ item.servidor_id }} </a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/panel-control/almacenes/editar/{{item.id}}\">{{ item.nivel_almacen == 1 ? 'HACE PEDIDOS AL PROVEEDOR' : 'HACE PEDIDOS A OTRO ALMACEN DENTRO DE LA CLUES'}} </a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/panel-control/almacenes/editar/{{item.id}}\">{{ item.tipo_almacen }} </a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/panel-control/almacenes/editar/{{item.id}}\">{{ item.clues }} </a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/panel-control/almacenes/editar/{{item.id}}\">{{ item.subrogado == 0 ? 'No' : 'Si'}} </a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/panel-control/almacenes/editar/{{item.id}}\">{{ item.unidosis  == 0 ? 'No' : 'Si'}} </a></td>\r\n                        <td style=\"vertical-align: middle;\" class=\"has-text-centered\"><span class=\"icon \" *ngIf=\"item.cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span><a *ngIf=\"!item.cargando\"\r\n                                class=\"is-danger\" (click)=\"ctrl.eliminar(item, i)\"><span class=\"icon\"><i class=\"fa fa-trash-o\"></i></span></a></td>\r\n\r\n                    </tr>\r\n\r\n                    <tr *ngIf=\"ctrl.resultadosBusqueda.length == 0 && ctrl.busquedaActivada\">\r\n                        <td colspan=\"5\" style=\"vertical-align: middle; color:#888;\">No se encontraron resultados.</td>\r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <!-- Paginación para la lista  -->\r\n            <paginacion [total]=\"ctrl.total\" [paginasTotales]=\"ctrl.paginasTotales\" [resultadosPorPagina]=\"ctrl.resultadosPorPagina\"\r\n                [paginaActual]=\"ctrl.paginaActual\" [indicePaginas]=\"ctrl.indicePaginas\" (onSiguiente)=\"ctrl.paginaSiguiente()\"\r\n                (onAnterior)=\"ctrl.paginaAnterior()\" (onListar)=\"ctrl.listar($event)\" *ngIf=\"ctrl.total>0 && ctrl.total > ctrl.resultadosPorPagina && !ctrl.busquedaActivada\"></paginacion>\r\n            <!-- Paginación para la búsqueda  -->\r\n            <paginacion [total]=\"ctrl.totalBusqueda\" [paginasTotales]=\"ctrl.paginasTotalesBusqueda\" [resultadosPorPagina]=\"ctrl.resultadosPorPaginaBusqueda\"\r\n                [paginaActual]=\"ctrl.paginaActualBusqueda\" [indicePaginas]=\"ctrl.indicePaginasBusqueda\" (onSiguiente)=\"ctrl.paginaSiguienteBusqueda(searchBox.value)\"\r\n                (onAnterior)=\"ctrl.paginaAnteriorBusqueda(searchBox.value)\" (onListar)=\"ctrl.listarBusqueda(searchBox.value,$event)\"\r\n                *ngIf=\"ctrl.totalBusqueda > 0 && ctrl.totalBusqueda > ctrl.resultadosPorPaginaBusqueda && ctrl.busquedaActivada\"></paginacion>\r\n\r\n\r\n\r\n        </div>\r\n\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/panel-control/almacenes/lista/lista.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ListaComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var ListaComponent = (function () {
    function ListaComponent() {
    }
    return ListaComponent;
}());
ListaComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'almacenes-lista',
        template: __webpack_require__("../../../../../src/app/panel-control/almacenes/lista/lista.component.html")
    })
], ListaComponent);

//# sourceMappingURL=C:/wamp/www/x3-C/src/lista.component.js.map

/***/ }),

/***/ "../../../../../src/app/panel-control/claves/claves-routing.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__formulario_formulario_component__ = __webpack_require__("../../../../../src/app/panel-control/claves/formulario/formulario.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__auth_guard_service__ = __webpack_require__("../../../../../src/app/auth-guard.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ClavesRoutingModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


//import { ListaComponent } from './lista/lista.component';


var routes = [
    { path: 'panel-control/claves', redirectTo: 'panel-control/claves/editar/:clues', pathMatch: 'full' },
    {
        path: 'panel-control/claves',
        children: [
            { path: 'nuevo', component: __WEBPACK_IMPORTED_MODULE_2__formulario_formulario_component__["a" /* FormularioComponent */] },
            { path: 'editar/:clues', component: __WEBPACK_IMPORTED_MODULE_2__formulario_formulario_component__["a" /* FormularioComponent */] },
        ],
        canActivate: [__WEBPACK_IMPORTED_MODULE_3__auth_guard_service__["a" /* AuthGuard */]]
    }
];
var ClavesRoutingModule = (function () {
    function ClavesRoutingModule() {
    }
    return ClavesRoutingModule;
}());
ClavesRoutingModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */].forChild(routes)],
        exports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */]],
        providers: []
    })
], ClavesRoutingModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/claves-routing.module.js.map

/***/ }),

/***/ "../../../../../src/app/panel-control/claves/claves.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__hub_hub_module__ = __webpack_require__("../../../../../src/app/hub/hub.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__perfil_perfil_module__ = __webpack_require__("../../../../../src/app/perfil/perfil.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__bloquear_pantalla_bloquear_pantalla_module__ = __webpack_require__("../../../../../src/app/bloquear-pantalla/bloquear-pantalla.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__claves_routing_module__ = __webpack_require__("../../../../../src/app/panel-control/claves/claves-routing.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__paginacion_paginacion_module__ = __webpack_require__("../../../../../src/app/paginacion/paginacion.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__pipes_pipes_module__ = __webpack_require__("../../../../../src/app/pipes/pipes.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__formulario_formulario_component__ = __webpack_require__("../../../../../src/app/panel-control/claves/formulario/formulario.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__auth_service__ = __webpack_require__("../../../../../src/app/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__menu_menu_module__ = __webpack_require__("../../../../../src/app/panel-control/menu/menu.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__crud_crud_service__ = __webpack_require__("../../../../../src/app/crud/crud.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__crud_crud_module__ = __webpack_require__("../../../../../src/app/crud/crud.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__ngui_auto_complete__ = __webpack_require__("../../../../@ngui/auto-complete/dist/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__ngui_auto_complete___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_14__ngui_auto_complete__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MisClavesModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};











//import { MenuPanelModule } from '../menu/menu-panel.module';
//import { MenuAsidePanelModule } from '../menu/menu-aside/menu-aside-panel.module';

//crud


//fin crud

var MisClavesModule = (function () {
    function MisClavesModule() {
    }
    return MisClavesModule;
}());
MisClavesModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [
            __WEBPACK_IMPORTED_MODULE_1__angular_common__["CommonModule"],
            __WEBPACK_IMPORTED_MODULE_2__angular_forms__["FormsModule"],
            __WEBPACK_IMPORTED_MODULE_2__angular_forms__["ReactiveFormsModule"],
            __WEBPACK_IMPORTED_MODULE_6__claves_routing_module__["a" /* ClavesRoutingModule */],
            __WEBPACK_IMPORTED_MODULE_3__hub_hub_module__["a" /* HubModule */],
            __WEBPACK_IMPORTED_MODULE_4__perfil_perfil_module__["a" /* PerfilModule */],
            __WEBPACK_IMPORTED_MODULE_5__bloquear_pantalla_bloquear_pantalla_module__["a" /* BloquearPantallaModule */],
            __WEBPACK_IMPORTED_MODULE_7__paginacion_paginacion_module__["a" /* PaginacionModule */],
            __WEBPACK_IMPORTED_MODULE_8__pipes_pipes_module__["a" /* PipesModule */],
            __WEBPACK_IMPORTED_MODULE_11__menu_menu_module__["a" /* MenuModule */],
            //MenuPanelModule, 
            //MenuAsidePanelModule,
            __WEBPACK_IMPORTED_MODULE_13__crud_crud_module__["a" /* CrudModule */],
            __WEBPACK_IMPORTED_MODULE_14__ngui_auto_complete__["NguiAutoCompleteModule"]
        ],
        declarations: [
            __WEBPACK_IMPORTED_MODULE_9__formulario_formulario_component__["a" /* FormularioComponent */]
        ],
        providers: [__WEBPACK_IMPORTED_MODULE_10__auth_service__["a" /* AuthService */], __WEBPACK_IMPORTED_MODULE_12__crud_crud_service__["a" /* CrudService */]]
    })
], MisClavesModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/claves.module.js.map

/***/ }),

/***/ "../../../../../src/app/panel-control/claves/formulario/formulario.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "    \r\ndiv.scroll {\r\n    background-color: #FFFFFF;\r\n    height: 4500px;\r\n    overflow: auto;\r\n}      \r\ndiv.hidden {\r\n    display: none;\r\n}", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/panel-control/claves/formulario/formulario.component.html":
/***/ (function(module, exports) {

module.exports = "<formulario #ctrl URL=\"mis-claves\" titulo=\"Claves / Panel Control\" [dato]=\"dato\"></formulario>\r\n<panel-control-menu></panel-control-menu>\r\n<div style=\"height:50px;\"></div>\r\n<div class=\"contenedor columns \" style=\"height:100%\">\r\n  <div class=\"column is-one-quarter is-hidden-mobile\">\r\n    <panel-control-menu-aside></panel-control-menu-aside>\r\n  </div>\r\n  <div class=\"column\" style=\"padding:2em;\">\r\n    <div style=\"background: #FFF; border-radius: 1em; overflow: hidden;\">\r\n      <section class=\"hero is-primary\">\r\n        <div class=\"hero-body\">\r\n          <a class=\"button  is-primary\" style=\"position:absolute; top:10em; right:3em;\" (click)=\"ctrl.cargarDatos(); \"><span class=\"icon \"><i class=\"fa fa-refresh\"></i></span></a>\r\n          <div class=\"container is-fluid\">\r\n            <h1 class=\"title\">\r\n              <span *ngIf=\"!ctrl.cargando\" class=\"icon is-medium\"><i class=\"fa fa-edit\"></i></span>\r\n              <span *ngIf=\"ctrl.cargando\" class=\"icon is-medium\"><i class=\"fa fa-refresh fa-spin\"></i></span>\r\n              <!-- -->Mis claves\r\n            </h1>\r\n\r\n          </div>\r\n        </div>\r\n      </section>\r\n      <div class=\"is-fullwidth has-text-centered\" *ngIf=\"!ctrl.datosCargados\">\r\n        <br>\r\n        <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span>        &nbsp;<span>Cargando...</span></span>\r\n      </div>\r\n      <section class=\"section\">\r\n        <!-- formulario -->\r\n        <form name=\"dato\" novalidate [formGroup]=\"dato\" (ngSubmit)=\"ctrl.enviar()\">\r\n          <a id=\"catalogos\" (click)=\"ctrl.cargarCatalogo('tipos_claves', 'insumos-auto'); \"></a>\r\n          <div class=\"tabs is-boxed\">\r\n            <ul>\r\n              <li [ngClass]=\"{ 'is-active' : tab == 2}\">\r\n                <a (click)=\"tab=2\">\r\n                    <span class=\"icon is-small\"><i class=\"fa fa-home\"></i></span>\r\n                    <span>Tipos de claves</span>\r\n                </a>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n\r\n          <div [ngClass]=\"{ 'is-hidden': tab != 2}\">\r\n\r\n            <div class=\"box\">\r\n              <article class=\"media\">\r\n                <div class=\"media-content\">\r\n                  <div class=\"content\">\r\n                    <div class=\"column is-5\" style=\"float:left\">\r\n                      <nav class=\"panel\">\r\n                        <div class=\"panel-heading\">\r\n                          <div class=\"field\">\r\n                            <div class=\"b-checkbox is-info\">\r\n                              <input id=\"Movimientos\" class=\"styled\" type=\"checkbox\" (click)=\"ctrl.seleccionarTodosMover('izquierda', ctrl.tipos_claves)\">\r\n                              <label for=\"Movimientos\">\r\n                                 Claves disponibles\r\n                              </label>\r\n                            </div>\r\n\r\n                          </div>\r\n                        </div>\r\n\r\n                        <!-- CAUSES Y NO CAUSES -->\r\n                        <div class=\"content\" *ngFor=\"let item of ctrl.tipos_claves | groupBy:'es_causes'\">\r\n                          <div class=\"card\" [ngClass]=\"{'is-hidden': tipo != item.key }\">\r\n\r\n                            <p class=\"panel-tabs\">\r\n                              <a (click)=\"cambiarTipo(1)\" [ngClass]=\"{'is-active': tipo == 1}\">CAUSES</a>\r\n                              <a (click)=\"cambiarTipo(0)\" [ngClass]=\"{'is-active': tipo == 0}\">NO CAUSES</a>\r\n                              <a (click)=\"cambiarTipo('MC')\" [ngClass]=\"{'is-active': tipo == 'MC'}\">MATERIAL DE CURACION</a>\r\n                            </p>\r\n                            <!-- -->\r\n                            <div class=\"scroll\">\r\n                              <label class=\"panel-block\" *ngFor=\"let val of item.value; let i=index\">          \r\n                                <div class=\"field\">\r\n                                    <div class=\"b-checkbox\">\r\n                                        <input id=\"{{val.id}}\" class=\"styled\" type=\"checkbox\" \r\n                                        [checked]=\"ctrl.izquierda.indexOf(val) > -1\"\r\n                                        (click)=\"ctrl.agregarMover('izquierda', item.value, val)\">\r\n                                        <label for=\"{{val.id}}\">\r\n                                            {{val.descripcion}} \r\n                                        </label>\r\n                                    </div>\r\n                                </div>\r\n\r\n                          </label>\r\n                        </div>\r\n                        <!-- -->\r\n                    </div>\r\n                  </div>\r\n                  <!-- MATERIAL DE CURACION -->\r\n                  <div class=\"content\" *ngFor=\"let item of ctrl.tipos_claves | groupBy:'tipo'\">\r\n                    <div class=\"card\" [ngClass]=\"{'is-hidden': tipo != item.key }\">\r\n\r\n                      <p class=\"panel-tabs\">\r\n                        <a (click)=\"cambiarTipo(1)\" [ngClass]=\"{'is-active': tipo == 1}\">CAUSES</a>\r\n                        <a (click)=\"cambiarTipo(0)\" [ngClass]=\"{'is-active': tipo == 0}\">NO CAUSES</a>\r\n                        <a (click)=\"cambiarTipo('MC')\" [ngClass]=\"{'is-active': tipo == 'MC'}\">MATERIAL DE CURACION</a>\r\n                      </p>\r\n                      <!-- -->\r\n                      <div class=\"scroll\">\r\n                        <label class=\"panel-block\" *ngFor=\"let val of item.value; let i=index\">          \r\n                                                    <div class=\"field\">\r\n                                                        <div class=\"b-checkbox\">\r\n                                                            <input id=\"{{val.id}}\" class=\"styled\" type=\"checkbox\" \r\n                                                            [checked]=\"ctrl.izquierda.indexOf(val) > -1\"\r\n                                                            (click)=\"ctrl.agregarMover('izquierda', item.value, val)\">\r\n                                                            <label for=\"{{val.id}}\">\r\n                                                                {{val.descripcion}} \r\n                                                            </label>\r\n                      </div>\r\n                    </div>\r\n\r\n                    </label>\r\n                  </div>\r\n                  <!-- -->\r\n                </div>\r\n            </div>\r\n\r\n            </nav>\r\n          </div>\r\n          <div class=\"column is-2\" style=\"float:left\">\r\n\r\n            <p class=\"control\">\r\n              <button class=\"button is-default\" type=\"button\" style=\"width:100%\" [ngClass]=\"{'is-success': ctrl.izquierda.length > 0}\"\r\n                [disabled]=\"ctrl.izquierda.length <= 0\" (click)=\"ctrl.iniciarMover('izquierda', ctrl.dato.controls.clues_claves.controls, ctrl.tipos_claves, true)\">></button>\r\n            </p>\r\n            <p class=\"control\">\r\n              <button class=\"button is-default\" type=\"button\" style=\"width:100%\" [ngClass]=\"{'is-success': ctrl.derecha.length > 0}\"\r\n                [disabled]=\"ctrl.derecha.length <= 0\" (click)=\"ctrl.iniciarMover('derecha', ctrl.tipos_claves, ctrl.dato.controls.clues_claves.controls, false)\"><</button>\r\n            </p>\r\n\r\n          </div>\r\n          <div class=\"column is-5\" style=\"float:left\">\r\n            <nav class=\"panel\" formGroupName=\"clues_claves\">\r\n              <div class=\"panel-heading\">\r\n                <div class=\"field\">\r\n                  <div class=\"b-checkbox is-info\">\r\n                    <input id=\"MisServicios\" class=\"styled\" type=\"checkbox\" (click)=\"ctrl.seleccionarTodosMover('derecha', ctrl.dato.controls.clues_claves.controls)\">\r\n                    <label for=\"MisServicios\">\r\n                        Mis claves\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <p class=\"panel-tabs\">\r\n              <div class=\"scroll\">\r\n                <label class=\"panel-block\" *ngFor=\"let item of ctrl.dato.controls.clues_claves.controls; let i2=index\">          \r\n                  <div class=\"field\" [formGroupName]=\"i2\">\r\n                      <div class=\"b-checkbox\">\r\n                          <input id=\"{{item.value.id}}\" class=\"styled\" type=\"checkbox\"\r\n                          [checked]=\"ctrl.derecha.indexOf(item) > -1\"\r\n                          (click)=\"ctrl.agregarMover('derecha', ctrl.dato.controls.clues_claves.controls, item)\">\r\n                          <label for=\"{{item.value.id}}\">\r\n                              {{item.value.descripcion}} \r\n                          </label>\r\n                      </div>\r\n                    </div>\r\n                </label>\r\n              </div>\r\n            </nav>\r\n          </div>\r\n          \r\n        </div>\r\n</div>\r\n</article>\r\n</div>\r\n</div>\r\n<a (click)=\"ctrl.initMover(ctrl.dato.controls.clues_claves.controls, ctrl.tipos_claves); \"\r\n  id=\"initMover\"></a>\r\n<br><br>\r\n<div class=\"control is-grouped\" style=\"float:left; padding:10px;\">\r\n  <p class=\"control\">\r\n    <button class=\"button is-primary\" type=\"submit\" [ngClass]=\"{'is-loading': ctrl.cargando}\"\r\n      [disabled]=\"ctrl.dato.invalid\">Guardar</button>\r\n  </p>\r\n  <p class=\"control\" *ngIf=\"ctrl.id\">\r\n    <button class=\"button is-danger\" type=\"button\" [ngClass]=\"{'is-loading': ctrl.cargando}\"\r\n      (click)=\"ctrl.eliminar(ctrl.id)\">Eliminar </button>\r\n  </p>\r\n  <p class=\"control\">\r\n    <a class=\"button is-white\" (click)=\"ctrl.regresar()\">Regresar</a>\r\n  </p>\r\n</div>\r\n\r\n</form>\r\n</section>\r\n</div>\r\n</div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/panel-control/claves/formulario/formulario.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormularioComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var FormularioComponent = (function () {
    function FormularioComponent(fb, router, route, _sanitizer) {
        this.fb = fb;
        this.router = router;
        this.route = route;
        this._sanitizer = _sanitizer;
        this.tipo = 1;
        this.tieneid = false;
        this.tipos_almacen = [
            { id: "ALMPAL", nombre: "ALMPAL" },
            { id: "JURIS", nombre: "JURIS" },
            { id: "UNMED", nombre: "UNMED" },
            { id: "LAB", nombre: "LAB" },
            { id: "FARMACIA", nombre: "FARMACIA" },
            { id: "CENDIS", nombre: "CENDIS" }
        ];
        this.niveles_almacen = [
            { id: 1, nombre: "HACE PEDIDOS AL PROVEEDOR" },
            { id: 2, nombre: "HACE PEDIDOS A OTRO ALMACEN DENTRO DE LA CLUES" }
        ];
        this.tab = 2;
    }
    FormularioComponent.prototype.ngOnInit = function () {
        var _this = this;
        var usuario = JSON.parse(localStorage.getItem("usuario"));
        console.log(usuario);
        this.dato = this.fb.group({
            clues: ['', [__WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required]],
            jurisdiccion_id: [''],
            nombre: [''],
            activa: [''],
            director_id: [''],
            clues_claves: this.fb.array([])
        });
        this.dato.patchValue({
            clues: usuario.clues_activa.clues,
            jurisdiccion_id: usuario.clues_activa.jurisdiccion_id,
            nombre: usuario.clues_activa.nombre,
            activa: usuario.clues_activa.activa,
            director_id: usuario.clues_activa.director_id,
        });
        this.form_almacen_tipos_servicios = {
            tipo_movimiento_id: ['', [__WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required]]
        };
        this.route.params.subscribe(function (params) {
            if (params['clues']) {
                _this.tieneid = true;
            }
        });
        //Solo si se va a cargar catalogos poner un <a id="catalogos" (click)="ctl.cargarCatalogo('modelo','ruta')">refresh</a>
        document.getElementById("catalogos").click();
    };
    FormularioComponent.prototype.ngAfterViewInit = function () {
        //Solo si se tiene el control mover izquierda-derecha poner un <a id="initMover" (click)="ctrl.initMover(ctrl.dato.controls.almacen_tipos_movimientos.controls, ctrl.tipos_movimientos)>refresh</a>
        //incrementar el tiempo segun sea el caso para que cargue el catalogo en este caso va a acrgar 2 catalogos por eso pongo 5000
        setTimeout(function () {
            document.getElementById("initMover").click();
        }, 5000);
    };
    FormularioComponent.prototype.cambiarTipo = function (tipo) {
        this.tipo = tipo;
    };
    return FormularioComponent;
}());
FormularioComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'almacenes-formulario',
        template: __webpack_require__("../../../../../src/app/panel-control/claves/formulario/formulario.component.html"),
        styles: [__webpack_require__("../../../../../src/app/panel-control/claves/formulario/formulario.component.css")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_2__angular_forms__["FormBuilder"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_forms__["FormBuilder"]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_3__angular_router__["a" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__angular_router__["a" /* Router */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_3__angular_router__["c" /* ActivatedRoute */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__angular_router__["c" /* ActivatedRoute */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["d" /* DomSanitizer */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["d" /* DomSanitizer */]) === "function" && _d || Object])
], FormularioComponent);

var _a, _b, _c, _d;
//# sourceMappingURL=C:/wamp/www/x3-C/src/formulario.component.js.map

/***/ }),

/***/ "../../../../../src/app/panel-control/menu/menu-aside/menu-aside.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/panel-control/menu/menu-aside/menu-aside.component.html":
/***/ (function(module, exports) {

module.exports = "<aside class=\"menu\" style=\"padding: 1em;\">\r\n    <div *ngFor=\"let item of menuAutorizado\">\r\n        <p class=\"menu-label\">{{ item.titulo }}</p>\r\n        <ul class=\"menu-list\">\r\n            <li *ngFor=\"let modulo of item.modulos\">\r\n                <a routerLink=\"{{ modulo.url }}\" routerLinkActive=\"is-active\">\r\n                    <span class=\"icon\" ><i class=\"fa {{ modulo.icono }}\"></i></span>&nbsp;&nbsp;<span>{{ modulo.titulo }}</span>\r\n                </a>\r\n            </li>    \r\n        </ul>\r\n    </div>\r\n        \r\n</aside>"

/***/ }),

/***/ "../../../../../src/app/panel-control/menu/menu-aside/menu-aside.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MenuAsideComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var MenuAsideComponent = (function () {
    function MenuAsideComponent() {
        this.usuario = {};
        this.menu = [];
        this.menuAutorizado = [];
    }
    MenuAsideComponent.prototype.ngOnInit = function () {
        var usuario = JSON.parse(localStorage.getItem("usuario"));
        var permisos = usuario.permisos.split("|");
        this.menu = [
            {
                titulo: 'Sincronización con servidor principal',
                modulos: [
                    { permiso: '2EA8UKzKrNFzxQxBBSjQ2fHggyrScu9f', icono: 'fa-cloud-upload', titulo: "Sincronización manual", url: "/panel-control/sync/manual" },
                ]
            },
            {
                titulo: 'Usuarios y privilegios',
                modulos: [
                    { permiso: 'mGKikN0aJaeF2XrHwwYK3XNw0f9CSZDe', icono: 'fa-user', titulo: "Usuarios", url: "/panel-control/usuarios" },
                    { permiso: 'ICmOKw3HxhgRna4a78OP0QmKrIX0bNsp', icono: 'fa-users', titulo: "Roles", url: "/panel-control/roles" },
                    { permiso: 'DYwQAxJbpHWw07zT09scEogUeFKFdGSu', icono: 'fa-shield', titulo: "Permisos", url: "/panel-control/permisos" },
                    { permiso: 'DYwQAxJbpHWw07zT09scEogUeFKFdGSu', icono: 'fa-archive', titulo: "Mis almacenes", url: "/panel-control/almacenes" },
                    { permiso: 'DYwQAxJbpHWw07zT09scEogUeFKFdGSu', icono: 'fa-hospital-o', titulo: "Mis servicios", url: "/panel-control/servicios/editar/" + usuario.clues_activa.clues + "" },
                    { permiso: 'DYwQAxJbpHWw07zT09scEogUeFKFdGSu', icono: 'fa-clock-o', titulo: "Mis turnos", url: "/panel-control/turnos/editar/" + usuario.clues_activa.clues + "" },
                ]
            },
        ],
            this.menuAutorizado = [
                {
                    titulo: 'Sincronización con servidor principal',
                    modulos: [
                        { icono: 'fa-server', titulo: "Estatus de sincronización", url: "/panel-control/sync/estatus" },
                    ]
                },
            ];
        if (permisos.length > 0) {
            for (var i in this.menu) {
                for (var j in this.menu[i].modulos) {
                    siguienteItemProtegido: for (var k in permisos) {
                        if (permisos[k] == this.menu[i].modulos[j].permiso) {
                            var item = this.initMenuAutorizadoPorItem(this.menu[i].titulo);
                            item.modulos.push(this.menu[i].modulos[j]);
                            break siguienteItemProtegido;
                        }
                    }
                }
            }
        }
    };
    MenuAsideComponent.prototype.initMenuAutorizadoPorItem = function (titulo) {
        for (var i in this.menuAutorizado) {
            if (titulo == this.menuAutorizado[i].titulo) {
                return this.menuAutorizado[i];
            }
        }
        this.menuAutorizado.push({ titulo: titulo, modulos: [] });
        return this.menuAutorizado[this.menuAutorizado.length - 1];
    };
    return MenuAsideComponent;
}());
MenuAsideComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'panel-control-menu-aside',
        template: __webpack_require__("../../../../../src/app/panel-control/menu/menu-aside/menu-aside.component.html"),
        styles: [__webpack_require__("../../../../../src/app/panel-control/menu/menu-aside/menu-aside.component.css")]
    }),
    __metadata("design:paramtypes", [])
], MenuAsideComponent);

//# sourceMappingURL=C:/wamp/www/x3-C/src/menu-aside.component.js.map

/***/ }),

/***/ "../../../../../src/app/panel-control/menu/menu.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/panel-control/menu/menu.component.html":
/***/ (function(module, exports) {

module.exports = "<section class=\"hero is-dark\" style=\"position: fixed; width: 100%;top:0px; z-index:99\">\r\n    <div class=\"hero-head\">\r\n        <div class=\"container is-fluid\">\r\n            <nav class=\"nav is-primary\">\r\n                <div class=\"nav-left\">\r\n                    <a class=\"nav-item is-brand\" routerLink=\"/panel-control\" routerLinkActive=\"active\">\r\n                    <!--<img src=\"http://bulma.io/images/bulma-type.png\" alt=\"Bulma logo\">-->\r\n                     <span class=\"icon\">\r\n                        <i class=\"fa fa-cog\"></i>\r\n                    </span> \r\n                     <h1 class=\"title\">&nbsp;Panel de control</h1>\r\n                    </a>\r\n                </div>\r\n                <a class=\"nav-item is-hidden-tablet\" (click)=\"toggleMenuAside()\">\r\n                    <span class=\"icon\">\r\n                        <i class=\"fa fa-navicon\"></i>\r\n                    </span>\r\n                </a>\r\n                <a class=\"nav-item\"  (click)=\"hub.toggle()\">\r\n                    <span class=\"icon\">\r\n                        <i class=\"fa fa-th\"></i>\r\n                    </span>\r\n                </a>\r\n\r\n                <a class=\"nav-item is-hidden-mobile\" (click)=\"perfil.toggle()\">\r\n                    \r\n                    <figure class=\"image\" style=\"width:26px;\"><img src=\"assets/{{ usuario.avatar || 'avatar-unknow' }}.svg\" alt=\"avatar\"></figure>\r\n                    &nbsp;\r\n                    <span>{{ usuario.nombre }} {{ usuario.apellidos }}</span>\r\n                </a>\r\n                <a class=\"nav-item is-hidden-tablet\" (click)=\"perfil.toggle()\">\r\n                    \r\n                    <figure class=\"image\" style=\"width:26px;\"><img src=\"assets/{{ usuario.avatar || 'avatar-unknow' }}.svg\" alt=\"avatar\"></figure>\r\n                </a>\r\n               \r\n                \r\n            </nav>\r\n        </div>\r\n    </div>\r\n</section>\r\n\r\n<app-hub #hub></app-hub>\r\n<app-perfil #perfil></app-perfil>\r\n\r\n<div class=\"modal\" [ngClass]=\"{'is-active': mostrarMenuAside}\">\r\n  <div class=\"modal-background\" (click)=\"toggleMenuAside()\"></div>\r\n  <div class=\"modal-content\">\r\n    <div class=\"card\" style=\"width: 100%\">\r\n        <div class=\"card-content\">\r\n            <panel-control-menu-aside></panel-control-menu-aside>\r\n        </div>\r\n    </div>\r\n  </div>\r\n  <button class=\"modal-close\" (click)=\"toggleMenuAside()\"></button>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/panel-control/menu/menu.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MenuComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var MenuComponent = (function () {
    function MenuComponent() {
        this.mostrarMenuAside = false;
        this.usuario = {};
    }
    MenuComponent.prototype.ngOnInit = function () {
        this.usuario = JSON.parse(localStorage.getItem("usuario"));
    };
    MenuComponent.prototype.toggleMenuAside = function () {
        this.mostrarMenuAside = !this.mostrarMenuAside;
    };
    return MenuComponent;
}());
MenuComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'panel-control-menu',
        template: __webpack_require__("../../../../../src/app/panel-control/menu/menu.component.html"),
        styles: [__webpack_require__("../../../../../src/app/panel-control/menu/menu.component.css")]
    }),
    __metadata("design:paramtypes", [])
], MenuComponent);

//# sourceMappingURL=C:/wamp/www/x3-C/src/menu.component.js.map

/***/ }),

/***/ "../../../../../src/app/panel-control/menu/menu.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__hub_hub_module__ = __webpack_require__("../../../../../src/app/hub/hub.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__perfil_perfil_module__ = __webpack_require__("../../../../../src/app/perfil/perfil.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__bloquear_pantalla_bloquear_pantalla_module__ = __webpack_require__("../../../../../src/app/bloquear-pantalla/bloquear-pantalla.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__menu_component__ = __webpack_require__("../../../../../src/app/panel-control/menu/menu.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__menu_aside_menu_aside_component__ = __webpack_require__("../../../../../src/app/panel-control/menu/menu-aside/menu-aside.component.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MenuModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};








var MenuModule = (function () {
    function MenuModule() {
    }
    return MenuModule;
}());
MenuModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [
            __WEBPACK_IMPORTED_MODULE_1__angular_common__["CommonModule"],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* RouterModule */],
            __WEBPACK_IMPORTED_MODULE_3__hub_hub_module__["a" /* HubModule */],
            __WEBPACK_IMPORTED_MODULE_4__perfil_perfil_module__["a" /* PerfilModule */],
            __WEBPACK_IMPORTED_MODULE_5__bloquear_pantalla_bloquear_pantalla_module__["a" /* BloquearPantallaModule */],
        ],
        declarations: [__WEBPACK_IMPORTED_MODULE_6__menu_component__["a" /* MenuComponent */], __WEBPACK_IMPORTED_MODULE_7__menu_aside_menu_aside_component__["a" /* MenuAsideComponent */]],
        exports: [__WEBPACK_IMPORTED_MODULE_6__menu_component__["a" /* MenuComponent */], __WEBPACK_IMPORTED_MODULE_7__menu_aside_menu_aside_component__["a" /* MenuAsideComponent */]]
    })
], MenuModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/menu.module.js.map

/***/ }),

/***/ "../../../../../src/app/panel-control/permisos/permisos.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/@angular/http.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__ = __webpack_require__("../../../../../src/app/jwt-request.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PermisosService; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var PermisosService = PermisosService_1 = (function () {
    function PermisosService(http, jwtRequest) {
        this.http = http;
        this.jwtRequest = jwtRequest;
    }
    PermisosService.prototype.lista = function () {
        return this.jwtRequest.get(PermisosService_1.URL).map(function (response) { return response.json().data; });
    };
    return PermisosService;
}());
PermisosService.URL = "permisos";
PermisosService = PermisosService_1 = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__["a" /* JwtRequestService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__["a" /* JwtRequestService */]) === "function" && _b || Object])
], PermisosService);

var PermisosService_1, _a, _b;
//# sourceMappingURL=C:/wamp/www/x3-C/src/permisos.service.js.map

/***/ }),

/***/ "../../../../../src/app/panel-control/roles/editar/editar.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/panel-control/roles/editar/editar.component.html":
/***/ (function(module, exports) {

module.exports = "<p>\r\n  editar works!\r\n</p>\r\n<panel-control-menu></panel-control-menu>\r\n<div style=\"height:50px;\"></div>\r\n<div class=\"contenedor columns \" style=\"height:100%; \">\r\n    <div class=\"column is-one-quarter is-hidden-mobile\">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class=\"column\" >\r\n        <div style=\"background: #FFF; border-radius: 1em; overflow: hidden; margin:2em;\">\r\n            <section class=\"hero is-primary\">\r\n                <div class=\"hero-body\">\r\n                    <div class=\"container is-fluid\">\r\n                        <h1 class=\"title\">\r\n                            <span  *ngIf=\"!cargando\" class=\"icon is-medium\"><i class=\"fa fa-edit\"></i></span>\r\n                            <span  *ngIf=\"cargando\" class=\"icon is-medium\"><i class=\"fa fa-refresh fa-spin\"></i></span> \r\n                            Editar rol\r\n                        </h1>\r\n                        \r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <section class=\"section\" *ngIf=\"!cargando\">\r\n              <div class=\"control is-grouped\">\r\n                <p class=\"control is-expanded\">\r\n                    <input class=\"input is-medium\" [(ngModel)]=\"rol.nombre\"  [ngClass]=\"{ 'is-danger': errores.nombre != null}\"  type=\"text\" placeholder=\"Nombre\" >\r\n                </p>\r\n                <p class=\"control\">\r\n                    <a class=\"button is-medium is-primary \" [ngClass]=\"{ 'is-loading': enviando}\" (click)=\"guardar()\" >\r\n                    <span class=\"icon\"><i class=\"fa fa-save\"></i></span><span>Guardar</span>\r\n                    </a>\r\n                </p><p class=\"control\">\r\n                    <a class=\"button is-medium is-white \" [ngClass]=\"{ 'is-disabled': enviando}\" routerLink=\"/panel-control/roles\">Cancelar</a>\r\n                </p>\r\n                \r\n              </div>\r\n              <p class=\"help is-danger\" *ngIf=\"errores.nombre == 'required'\">Por favor especifique el nombre del rol.</p>              \r\n              <p class=\"help is-danger\" *ngIf=\"errores.nombre == 'unique'\">Este nombre ya fue utilizado, por favor elija otro.</p>              \r\n              <br>\r\n              <table class=\"table\">\r\n                <thead>\r\n                  <tr>\r\n                    <td style=\"width:42px; cursor:pointer;\" (click)=\"seleccionarTodos()\">\r\n                      <span class=\"icon\" style=\"color:#00d1b2\"><i class=\"fa\" [ngClass]=\"{ 'fa-square-o': !todosSeleccionados, 'fa-check-square': todosSeleccionados }\"></i></span>\r\n                    </td>\r\n                    <td><span style=\"color:red\" *ngIf=\"errores.permisos == 'required'\"><span class=\"icon\"><i class=\"fa fa-exclamation-circle\"></i></span> <span>Elija un permiso:</span></span><span *ngIf=\"errores.permisos == null\">Permiso</span></td>\r\n                    <td>Grupo</td>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr *ngFor=\"let item of permisos\" (click)=\"item.seleccionado = !item.seleccionado\" style=\"cursor:pointer\">\r\n                    <td><span class=\"icon\"><i class=\"fa\" [ngClass]=\"{ 'fa-square-o': !item.seleccionado, 'fa-check-square': item.seleccionado }\"></i></span></td>\r\n                    <td>{{ item.descripcion }}</td>\r\n                    <td>{{ item.grupo }}</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n\r\n\r\n            </section>\r\n            \r\n        </div>\r\n        \r\n    </div>\r\n</div>\r\n\r\n<div class=\"notification is-danger\" style=\"position:fixed; left:1em;  bottom:1em;\" *ngIf=\"mensajeError.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeError.mostrar = false\"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>    \r\n    <p style=\"text-align: center;\"><small >Este mensaje desaparecerá en {{ mensajeError.cuentaAtras }} segundos.</small></p>        \r\n</div>\r\n\r\n<div class=\"notification is-success\" style=\"position:fixed; left:1em;  bottom:1em; width: auto\" *ngIf=\"mensajeExito.mostrar\">       \r\n    <button class=\"delete\" (click)=\"mensajeExito.mostrar = false\"></button>\r\n    <p><span class=\"icon\" style=\"margin-right: 0.5em;\"><i class=\"fa fa-check-circle\"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style=\"text-align: center;\"><small >Este mensaje desaparecerá en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n"

/***/ }),

/***/ "../../../../../src/app/panel-control/roles/editar/editar.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__roles_service__ = __webpack_require__("../../../../../src/app/panel-control/roles/roles.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__permisos_permisos_service__ = __webpack_require__("../../../../../src/app/panel-control/permisos/permisos.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__mensaje__ = __webpack_require__("../../../../../src/app/mensaje.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EditarComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var EditarComponent = (function () {
    function EditarComponent(title, router, route, apiService, permisosService) {
        this.title = title;
        this.router = router;
        this.route = route;
        this.apiService = apiService;
        this.permisosService = permisosService;
        this.id = null;
        this.cargando = false;
        this.enviando = false;
        this.cargandoPermisos = false;
        // # SECCION: Esta sección es para mostrar mensajes
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_5__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_5__mensaje__["a" /* Mensaje */]();
        // # FIN SECCION
        this.errores = {
            nombre: null,
            permisos: null,
        };
        this.permisos = [];
        this.todosSeleccionados = false;
        this.rol = { nombre: '', permisos: [] };
    }
    EditarComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.title.setTitle("Editar / Panel de control");
        this.route.params.subscribe(function (params) {
            _this.id = +params['id'];
        });
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_5__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_5__mensaje__["a" /* Mensaje */]();
        this.cargando = true;
        this.apiService.ver(this.id).subscribe(function (respuesta) {
            _this.rol.nombre = respuesta.nombre;
            _this.cargarPermisos(respuesta.permisos);
            _this.cargando = false;
        }, function (error) {
            console.log(error);
            _this.cargando = false;
        });
    };
    EditarComponent.prototype.cargarPermisos = function (permisosActivos) {
        var _this = this;
        if (permisosActivos === void 0) { permisosActivos = []; }
        this.cargandoPermisos = true;
        this.permisosService.lista().subscribe(function (permisos) {
            _this.permisos = permisos;
            for (var i in _this.permisos) {
                siguientePermiso: for (var j in permisosActivos) {
                    if (permisosActivos[j].id == _this.permisos[i].id) {
                        _this.permisos[i].seleccionado = true;
                        break siguientePermiso;
                    }
                }
            }
            _this.cargandoPermisos = false;
        }, function (error) {
            console.log(error);
            _this.cargandoPermisos = false;
        });
    };
    EditarComponent.prototype.seleccionarTodos = function () {
        this.todosSeleccionados = !this.todosSeleccionados;
        for (var i in this.permisos) {
            this.permisos[i].seleccionado = this.todosSeleccionados;
        }
    };
    EditarComponent.prototype.guardar = function () {
        var _this = this;
        this.enviando = true;
        this.errores = {
            nombre: null,
            permisos: null,
        };
        this.rol.permisos = [];
        for (var i in this.permisos) {
            if (this.permisos[i].seleccionado) {
                this.rol.permisos.push(this.permisos[i].id);
            }
        }
        this.apiService.editar(this.id, this.rol).subscribe(function (respuesta) {
            _this.enviando = false;
            _this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_5__mensaje__["a" /* Mensaje */](true);
            _this.mensajeExito.texto = "Se han guardado los cambios.";
            _this.mensajeExito.mostrar = true;
        }, function (error) {
            try {
                var e = error.json();
                _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_5__mensaje__["a" /* Mensaje */](true);
                switch (error.status) {
                    case 401:
                        _this.mensajeError.texto = "No tiee permiso para realizar esta acción.";
                        break;
                    case 409:
                        _this.mensajeError.texto = "Verifique la información marcada de color rojo";
                        for (var input in e.error) {
                            // Iteramos todos los errores
                            for (var i in e.error[input]) {
                                _this.errores[input] = e.error[input][i];
                            }
                        }
                        break;
                    case 500:
                        _this.mensajeError.texto = "500 (Error interno del servidor)";
                        break;
                    default:
                        _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
            catch (e) {
                _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
            }
            _this.mensajeError.mostrar = true;
            _this.enviando = false;
        });
    };
    return EditarComponent;
}());
EditarComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-editar',
        template: __webpack_require__("../../../../../src/app/panel-control/roles/editar/editar.component.html"),
        styles: [__webpack_require__("../../../../../src/app/panel-control/roles/editar/editar.component.css")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* Router */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* ActivatedRoute */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* ActivatedRoute */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_3__roles_service__["a" /* RolesService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__roles_service__["a" /* RolesService */]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_4__permisos_permisos_service__["a" /* PermisosService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__permisos_permisos_service__["a" /* PermisosService */]) === "function" && _e || Object])
], EditarComponent);

var _a, _b, _c, _d, _e;
//# sourceMappingURL=C:/wamp/www/x3-C/src/editar.component.js.map

/***/ }),

/***/ "../../../../../src/app/panel-control/roles/lista/lista.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/panel-control/roles/lista/lista.component.html":
/***/ (function(module, exports) {

module.exports = "<panel-control-menu></panel-control-menu>\r\n<div style=\"height:50px;\"></div>\r\n<div class=\"contenedor columns \" style=\"height:100%; \">\r\n    <div class=\"column is-one-quarter is-hidden-mobile\">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class=\"column\" style=\"padding:2em;\">\r\n        <div style=\"background: #FFF; border-radius: 1em; overflow: hidden;\">\r\n            <section class=\"hero\" [ngClass] = \" {'is-dark': busquedaActivada, 'is-primary': !busquedaActivada } \" >\r\n                \r\n                <div class=\"hero-body\" style=\"position:relative;\">\r\n                    <a class=\"button  is-dark\" *ngIf=\"busquedaActivada\" style=\"position:absolute; top:1em; right:1em;\" (click)=\"busquedaActivada=false;searchBox.value='';resultadosBusqueda=[]\"><span class=\"icon \"><i class=\"fa fa-close\"></i></span></a>\r\n                    <a class=\"button  is-dark\" *ngIf=\"busquedaActivada\" style=\"position:absolute; top:1em; right:3.5em;\" (click)=\"listarBusqueda(searchBox.value,1)\"><span class=\"icon \"><i class=\"fa fa-refresh\"></i></span></a>\r\n                    <a class=\"button  is-primary\" *ngIf=\"!busquedaActivada\" style=\"position:absolute; top:1em; right:1em;\" (click)=\"listar(1)\"><span class=\"icon \"><i class=\"fa fa-refresh\"></i></span></a>\r\n                    <div class=\"container is-fluid\">\r\n                        \r\n                        <h1 class=\"title\" *ngIf=\"!busquedaActivada\">\r\n                            <span class=\"icon is-medium\"><i class=\"fa fa-user\"></i></span> Roles\r\n                        </h1>\r\n                        <h1 class=\"title\" *ngIf=\"busquedaActivada\">\r\n                            <span class=\"icon is-medium\"><i class=\"fa fa-search\"></i></span> Búsqueda \r\n                        </h1>\r\n                        <div class=\"control is-grouped\">\r\n                        <p class=\"control is-expanded\">\r\n                            <input class=\"input is-medium\" type=\"text\" placeholder=\"Buscar\" #searchBox id=\"search-box\" (keyup)=\"buscar(searchBox.value)\">\r\n                        </p>\r\n                        <p class=\"control\">\r\n                            <a class=\"button is-medium is-primary is-inverted \" routerLink=\"/panel-control/roles/nuevo\">\r\n                            <span class=\"icon\"><i class=\"fa fa-plus\"></i></span><span>Nuevo</span>\r\n                            </a>\r\n                        </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class=\"is-fullwidth has-text-centered\" *ngIf=\"cargando\">\r\n                <br>\r\n                <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n        \r\n            <table class=\"table\" *ngIf=\"!cargando\">\r\n                <thead>\r\n                    <tr>\r\n                    <th>Nombre</th>\r\n                    <th style=\"text-align:center; width:60px\"></th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody  *ngIf=\"!busquedaActivada\">\r\n                    <tr *ngFor=\"let item of lista; let i=index\">                        \r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/panel-control/roles/editar/{{item.id}}\">{{ item.nombre }}</a></td>                        \r\n                        <td style=\"vertical-align: middle;\" class=\"has-text-centered\"><span class=\"icon \" *ngIf=\"item.cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span><a *ngIf=\"!item.cargando\" class=\"is-danger\" (click)=\"eliminar(item, i)\"><span class=\"icon\"><i class=\"fa fa-trash-o\"></i></span></a></td>                        \r\n                    </tr>\r\n                    <tr *ngIf=\"lista.length == 0\">\r\n                        <td colspan=\"5\" style=\"vertical-align: middle; color:#888;\">Esta lista está vacía.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n                <tbody *ngIf=\"busquedaActivada\">\r\n                    <tr *ngFor=\"let item of resultadosBusqueda; let i=index\">\r\n                    <td style=\"vertical-align: middle;\"><a routerLink=\"/panel-control/roles/editar/{{item.id}}\">{{ item.nombre }}</a></td>                        \r\n                        <td style=\"vertical-align: middle;\" class=\"has-text-centered\"><span class=\"icon \" *ngIf=\"item.cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span><a *ngIf=\"!item.cargando\" class=\"is-danger\" (click)=\"eliminar(item, i)\"><span class=\"icon\"><i class=\"fa fa-trash-o\"></i></span></a></td>\r\n                    </tr>\r\n\r\n                    <tr *ngIf=\"resultadosBusqueda.length == 0 && busquedaActivada\">\r\n                        <td colspan=\"5\" style=\"vertical-align: middle; color:#888;\">No se encontraron resultados.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <!-- Paginación para la lista  -->\r\n            <paginacion \r\n                [total]=\"total\" \r\n                [paginasTotales]=\"paginasTotales\" \r\n                [resultadosPorPagina]=\"resultadosPorPagina\" \r\n                [paginaActual]=\"paginaActual\" \r\n                [indicePaginas]=\"indicePaginas\"\r\n                (onSiguiente)=\"paginaSiguiente()\" \r\n                (onAnterior)=\"paginaAnterior()\" \r\n                (onListar)=\"listar($event)\" \r\n                *ngIf=\"total>0 && total > resultadosPorPagina && !busquedaActivada\"></paginacion>\r\n            <!-- Paginación para la búsqueda  -->\r\n            <paginacion \r\n                [total]=\"totalBusqueda\" \r\n                [paginasTotales]=\"paginasTotalesBusqueda\" \r\n                [resultadosPorPagina]=\"resultadosPorPaginaBusqueda\" \r\n                [paginaActual]=\"paginaActualBusqueda\" \r\n                [indicePaginas]=\"indicePaginasBusqueda\"\r\n                (onSiguiente)=\"paginaSiguienteBusqueda(searchBox.value)\" \r\n                (onAnterior)=\"paginaAnteriorBusqueda(searchBox.value)\" \r\n                (onListar)=\"listarBusqueda(searchBox.value,$event)\" \r\n                *ngIf=\"totalBusqueda > 0 && totalBusqueda > resultadosPorPaginaBusqueda && busquedaActivada\"></paginacion>\r\n           \r\n           \r\n            \r\n        </div>\r\n        \r\n    </div>\r\n</div>\r\n\r\n<div class=\"notification is-danger\" style=\"position:fixed; left:1em;  bottom:1em;\" *ngIf=\"mensajeError.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeError.mostrar = false\"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style=\"text-align:center\" ><a  class=\"button is-danger is-inverted\" (click)=\"ultimaPeticion(); mensajeError.mostrar = false\"> <span class=\"icon\"><i class=\"fa fa-refresh\"></i></span> <span>Volver a intentar</span></a></p>        \r\n</div>\r\n\r\n<div class=\"notification is-success\" style=\"position:fixed; left:1em;  bottom:1em; width: auto\" *ngIf=\"mensajeExito.mostrar\">       \r\n    <button class=\"delete\" (click)=\"mensajeExito.mostrar = false\"></button>\r\n    <p><span class=\"icon\" style=\"margin-right: 0.5em;\"><i class=\"fa fa-check-circle\"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style=\"text-align: center;\"><small >Este mensaje desaparecerá en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n"

/***/ }),

/***/ "../../../../../src/app/panel-control/roles/lista/lista.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__ = __webpack_require__("../../../../rxjs/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__ = __webpack_require__("../../../../rxjs/Subject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_observable_of__ = __webpack_require__("../../../../rxjs/add/observable/of.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_observable_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_rxjs_add_observable_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw__ = __webpack_require__("../../../../rxjs/add/observable/throw.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_debounceTime__ = __webpack_require__("../../../../rxjs/add/operator/debounceTime.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_debounceTime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_debounceTime__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_distinctUntilChanged__ = __webpack_require__("../../../../rxjs/add/operator/distinctUntilChanged.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_distinctUntilChanged___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_distinctUntilChanged__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_map__ = __webpack_require__("../../../../rxjs/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_map__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_switchMap__ = __webpack_require__("../../../../rxjs/add/operator/switchMap.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_switchMap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_switchMap__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_catch__ = __webpack_require__("../../../../rxjs/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_catch___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_catch__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__roles_service__ = __webpack_require__("../../../../../src/app/panel-control/roles/roles.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__mensaje__ = __webpack_require__("../../../../../src/app/mensaje.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ListaComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};













var ListaComponent = (function () {
    // # FIN SECCION
    function ListaComponent(title, apiService) {
        this.title = title;
        this.apiService = apiService;
        this.cargando = false;
        // # SECCION: Esta sección es para mostrar mensajes
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_12__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_12__mensaje__["a" /* Mensaje */]();
        // # FIN SECCION
        // # SECCION: Lista 
        this.lista = [];
        this.paginaActual = 1;
        this.resultadosPorPagina = 25;
        this.total = 0;
        this.paginasTotales = 0;
        this.indicePaginas = [];
        // # FIN SECCION
        // # SECCION: Resultados de búsqueda
        this.ultimoTerminoBuscado = "";
        this.terminosBusqueda = new __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__["Subject"]();
        this.resultadosBusqueda = [];
        this.busquedaActivada = false;
        this.paginaActualBusqueda = 1;
        this.resultadosPorPaginaBusqueda = 25;
        this.totalBusqueda = 0;
        this.paginasTotalesBusqueda = 0;
        this.indicePaginasBusqueda = [];
    }
    ListaComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.title.setTitle("Roles / Panel de control");
        this.listar(1);
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_12__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_12__mensaje__["a" /* Mensaje */]();
        var self = this;
        var busquedaSubject = this.terminosBusqueda
            .debounceTime(300) // Esperamos 300 ms pausando eventos
            .distinctUntilChanged() // Ignorar si la busqueda es la misma que la ultima
            .switchMap(function (term) {
            console.log("Cargando búsqueda.");
            _this.busquedaActivada = term != "" ? true : false;
            _this.ultimoTerminoBuscado = term;
            _this.paginaActualBusqueda = 1;
            _this.cargando = true;
            return term ? _this.apiService.buscar(term, _this.paginaActualBusqueda, _this.resultadosPorPaginaBusqueda) : __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__["Observable"].of({ data: [] });
        }).catch(function handleError(error) {
            self.cargando = false;
            self.mensajeError.mostrar = true;
            self.ultimaPeticion = function () { self.listarBusqueda(self.ultimoTerminoBuscado, self.paginaActualBusqueda); }; //OJO
            try {
                var e = error.json();
                if (error.status == 401) {
                    self.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    self.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    self.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
            // Devolvemos el subject porque si no se detiene el funcionamiento del stream 
            return busquedaSubject;
        });
        busquedaSubject.subscribe(function (resultado) {
            _this.cargando = false;
            _this.resultadosBusqueda = resultado.data;
            _this.totalBusqueda = resultado.total | 0;
            _this.paginasTotalesBusqueda = Math.ceil(_this.totalBusqueda / _this.resultadosPorPaginaBusqueda);
            _this.indicePaginasBusqueda = [];
            for (var i = 0; i < _this.paginasTotalesBusqueda; i++) {
                _this.indicePaginasBusqueda.push(i + 1);
            }
            console.log("Búsqueda cargada.");
        });
    };
    ListaComponent.prototype.buscar = function (term) {
        this.terminosBusqueda.next(term);
    };
    ListaComponent.prototype.listarBusqueda = function (term, pagina) {
        var _this = this;
        this.paginaActualBusqueda = pagina;
        console.log("Cargando búsqueda.");
        this.cargando = true;
        this.apiService.buscar(term, pagina, this.resultadosPorPaginaBusqueda).subscribe(function (resultado) {
            _this.cargando = false;
            _this.resultadosBusqueda = resultado.data;
            _this.totalBusqueda = resultado.total | 0;
            _this.paginasTotalesBusqueda = Math.ceil(_this.totalBusqueda / _this.resultadosPorPaginaBusqueda);
            _this.indicePaginasBusqueda = [];
            for (var i = 0; i < _this.paginasTotalesBusqueda; i++) {
                _this.indicePaginasBusqueda.push(i + 1);
            }
            console.log("Búsqueda cargada.");
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError.mostrar = true;
            _this.ultimaPeticion = function () { this.listarBusqueda(term, pagina); };
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    ListaComponent.prototype.listar = function (pagina) {
        var _this = this;
        this.paginaActual = pagina;
        console.log("Cargando items.");
        this.cargando = true;
        this.apiService.listaPaginada(pagina, this.resultadosPorPagina).subscribe(function (resultado) {
            _this.cargando = false;
            _this.lista = resultado.data;
            _this.total = resultado.total | 0;
            _this.paginasTotales = Math.ceil(_this.total / _this.resultadosPorPagina);
            _this.indicePaginas = [];
            for (var i = 0; i < _this.paginasTotales; i++) {
                _this.indicePaginas.push(i + 1);
            }
            console.log("Items cargados.");
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError.mostrar = true;
            _this.ultimaPeticion = _this.listar;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    ListaComponent.prototype.eliminar = function (item, index) {
        var _this = this;
        item.cargando = true;
        this.apiService.eliminar(item.id).subscribe(function (data) {
            item.cargando = false;
            _this.lista.splice(index, 1);
            console.log("Se eliminó el elemento de la lista.");
            _this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_12__mensaje__["a" /* Mensaje */](true);
            _this.mensajeExito.mostrar = true;
            _this.mensajeExito.texto = "item eliminado";
        }, function (error) {
            item.cargando = false;
            _this.mensajeError.mostrar = true;
            _this.ultimaPeticion = function () {
                this.eliminar(item, index);
            };
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    // # SECCION: Paginación
    ListaComponent.prototype.paginaSiguiente = function () {
        this.listar(this.paginaActual + 1);
    };
    ListaComponent.prototype.paginaAnterior = function () {
        this.listar(this.paginaActual - 1);
    };
    ListaComponent.prototype.paginaSiguienteBusqueda = function (term) {
        this.listarBusqueda(term, this.paginaActualBusqueda + 1);
    };
    ListaComponent.prototype.paginaAnteriorBusqueda = function (term) {
        this.listarBusqueda(term, this.paginaActualBusqueda - 1);
    };
    return ListaComponent;
}());
ListaComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-lista',
        template: __webpack_require__("../../../../../src/app/panel-control/roles/lista/lista.component.html"),
        styles: [__webpack_require__("../../../../../src/app/panel-control/roles/lista/lista.component.css")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_11__roles_service__["a" /* RolesService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_11__roles_service__["a" /* RolesService */]) === "function" && _b || Object])
], ListaComponent);

var _a, _b;
//# sourceMappingURL=C:/wamp/www/x3-C/src/lista.component.js.map

/***/ }),

/***/ "../../../../../src/app/panel-control/roles/nuevo/nuevo.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/panel-control/roles/nuevo/nuevo.component.html":
/***/ (function(module, exports) {

module.exports = "<panel-control-menu></panel-control-menu>\r\n<div style=\"height:50px;\"></div>\r\n<div class=\"contenedor columns \" style=\"height:100%; \">\r\n    <div class=\"column is-one-quarter is-hidden-mobile\">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class=\"column\" >\r\n        <div style=\"background: #FFF; border-radius: 1em; overflow: hidden; margin:2em;\">\r\n            <section class=\"hero is-primary\">\r\n                <div class=\"hero-body\">\r\n                    <div class=\"container is-fluid\">\r\n                        <h1 class=\"title\">\r\n                            <span  *ngIf=\"!cargando\" class=\"icon is-medium\"><i class=\"fa fa-plus\"></i></span>\r\n                            <span  *ngIf=\"cargando\" class=\"icon is-medium\"><i class=\"fa fa-refresh fa-spin\"></i></span> \r\n                            Nuevo rol\r\n                        </h1>\r\n                        \r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <section class=\"section\">\r\n              <div class=\"control is-grouped\">\r\n                <p class=\"control is-expanded\">\r\n                    <input class=\"input is-medium\" [(ngModel)]=\"rol.nombre\"  [ngClass]=\"{ 'is-danger': errores.nombre != null}\"  type=\"text\" placeholder=\"Nombre\" >\r\n                </p>\r\n                <p class=\"control\">\r\n                    <a class=\"button is-medium is-primary \" [ngClass]=\"{ 'is-loading': enviando}\" (click)=\"guardar()\" >\r\n                    <span class=\"icon\"><i class=\"fa fa-save\"></i></span><span>Guardar</span>\r\n                    </a>\r\n                </p><p class=\"control\">\r\n                    <a class=\"button is-medium is-white \" [ngClass]=\"{ 'is-disabled': enviando}\" routerLink=\"/panel-control/roles\">Cancelar</a>\r\n                </p>\r\n                \r\n              </div>\r\n              <p class=\"help is-danger\" *ngIf=\"errores.nombre == 'required'\">Por favor especifique el nombre del rol.</p>              \r\n              <p class=\"help is-danger\" *ngIf=\"errores.nombre == 'unique'\">Este nombre ya fue utilizado, por favor elija otro.</p>              \r\n              <br>\r\n              <table class=\"table\">\r\n                <thead>\r\n                  <tr>\r\n                    <td style=\"width:42px; cursor:pointer;\" (click)=\"seleccionarTodos()\">\r\n                      <span class=\"icon\" style=\"color:#00d1b2\"><i class=\"fa\" [ngClass]=\"{ 'fa-square-o': !todosSeleccionados, 'fa-check-square': todosSeleccionados }\"></i></span>\r\n                    </td>\r\n                    <td><span style=\"color:red\" *ngIf=\"errores.permisos == 'required'\"><span class=\"icon\"><i class=\"fa fa-exclamation-circle\"></i></span> <span>Elija un permiso:</span></span><span *ngIf=\"errores.permisos == null\">Permiso</span></td>\r\n                    <td>Grupo</td>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  <tr *ngFor=\"let item of permisos\" (click)=\"item.seleccionado = !item.seleccionado\" style=\"cursor:pointer\">\r\n                    <td><span class=\"icon\"><i class=\"fa\" [ngClass]=\"{ 'fa-square-o': !item.seleccionado, 'fa-check-square': item.seleccionado }\"></i></span></td>\r\n                    <td>{{ item.descripcion }}</td>\r\n                    <td>{{ item.grupo }}</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n\r\n\r\n            </section>\r\n            \r\n        </div>\r\n        \r\n    </div>\r\n</div>\r\n\r\n<div class=\"notification is-danger\" style=\"position:fixed; left:1em;  bottom:1em;\" *ngIf=\"mensajeError.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeError.mostrar = false\"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br> \r\n    <p style=\"text-align: center;\"><small >Este mensaje desaparecerá en {{ mensajeError.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n<div class=\"notification is-success\" style=\"position:fixed; left:1em;  bottom:1em; width: auto\" *ngIf=\"mensajeExito.mostrar\">       \r\n    <button class=\"delete\" (click)=\"mensajeExito.mostrar = false\"></button>\r\n    <p><span class=\"icon\" style=\"margin-right: 0.5em;\"><i class=\"fa fa-check-circle\"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style=\"text-align: center;\"><small >Este mensaje desaparecerá en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n"

/***/ }),

/***/ "../../../../../src/app/panel-control/roles/nuevo/nuevo.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__roles_service__ = __webpack_require__("../../../../../src/app/panel-control/roles/roles.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__permisos_permisos_service__ = __webpack_require__("../../../../../src/app/panel-control/permisos/permisos.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__mensaje__ = __webpack_require__("../../../../../src/app/mensaje.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NuevoComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};






var NuevoComponent = (function () {
    function NuevoComponent(title, router, route, apiService, permisosService) {
        this.title = title;
        this.router = router;
        this.route = route;
        this.apiService = apiService;
        this.permisosService = permisosService;
        this.enviando = false;
        this.cargando = false;
        this.cargandoPermisos = false;
        // # SECCION: Esta sección es para mostrar mensajes
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_5__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_5__mensaje__["a" /* Mensaje */]();
        // # FIN SECCION
        this.errores = {
            nombre: null,
            permisos: null,
        };
        this.permisos = [];
        this.todosSeleccionados = false;
        this.rol = { nombre: '', permisos: [] };
    }
    NuevoComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.title.setTitle("Nuevo rol / Panel de control");
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_5__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_5__mensaje__["a" /* Mensaje */]();
        this.cargandoPermisos = true;
        this.permisosService.lista().subscribe(function (permisos) {
            _this.permisos = permisos;
            _this.cargandoPermisos = false;
        }, function (error) {
            console.log(error);
            _this.cargandoPermisos = false;
        });
    };
    NuevoComponent.prototype.seleccionarTodos = function () {
        this.todosSeleccionados = !this.todosSeleccionados;
        for (var i in this.permisos) {
            this.permisos[i].seleccionado = this.todosSeleccionados;
        }
    };
    NuevoComponent.prototype.guardar = function () {
        var _this = this;
        this.enviando = true;
        this.errores = {
            nombre: null,
            permisos: null,
        };
        this.rol.permisos = [];
        for (var i in this.permisos) {
            if (this.permisos[i].seleccionado) {
                this.rol.permisos.push(this.permisos[i].id);
            }
        }
        this.apiService.crear(this.rol).subscribe(function (respuesta) {
            _this.enviando = false;
            _this.router.navigate(['/panel-control/roles']);
        }, function (error) {
            try {
                var e = error.json();
                _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_5__mensaje__["a" /* Mensaje */](true);
                switch (error.status) {
                    case 401:
                        _this.mensajeError.texto = "No tiee permiso para realizar esta acción.";
                        break;
                    case 409:
                        _this.mensajeError.texto = "Verifique la información marcada de color rojo";
                        for (var input in e.error) {
                            // Iteramos todos los errores
                            for (var i in e.error[input]) {
                                _this.errores[input] = e.error[input][i];
                            }
                        }
                        break;
                    case 500:
                        _this.mensajeError.texto = "500 (Error interno del servidor)";
                        break;
                    default:
                        _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
            catch (e) {
                _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
            }
            _this.mensajeError.mostrar = true;
            _this.enviando = false;
        });
    };
    return NuevoComponent;
}());
NuevoComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-nuevo',
        template: __webpack_require__("../../../../../src/app/panel-control/roles/nuevo/nuevo.component.html"),
        styles: [__webpack_require__("../../../../../src/app/panel-control/roles/nuevo/nuevo.component.css")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* Router */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* ActivatedRoute */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* ActivatedRoute */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_3__roles_service__["a" /* RolesService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__roles_service__["a" /* RolesService */]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_4__permisos_permisos_service__["a" /* PermisosService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__permisos_permisos_service__["a" /* PermisosService */]) === "function" && _e || Object])
], NuevoComponent);

var _a, _b, _c, _d, _e;
//# sourceMappingURL=C:/wamp/www/x3-C/src/nuevo.component.js.map

/***/ }),

/***/ "../../../../../src/app/panel-control/roles/roles-routing.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lista_lista_component__ = __webpack_require__("../../../../../src/app/panel-control/roles/lista/lista.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__nuevo_nuevo_component__ = __webpack_require__("../../../../../src/app/panel-control/roles/nuevo/nuevo.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__editar_editar_component__ = __webpack_require__("../../../../../src/app/panel-control/roles/editar/editar.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__auth_guard_service__ = __webpack_require__("../../../../../src/app/auth-guard.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__permisos_guard__ = __webpack_require__("../../../../../src/app/permisos.guard.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RolesRoutingModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};







var routes = [
    {
        path: 'panel-control/roles',
        children: [
            { path: '', component: __WEBPACK_IMPORTED_MODULE_2__lista_lista_component__["a" /* ListaComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_6__permisos_guard__["a" /* PermisosGuard */]], data: { key: 'ICmOKw3HxhgRna4a78OP0QmKrIX0bNsp' } },
            { path: 'nuevo', component: __WEBPACK_IMPORTED_MODULE_3__nuevo_nuevo_component__["a" /* NuevoComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_6__permisos_guard__["a" /* PermisosGuard */]], data: { key: 'hA2wLCnNDQ5Z1OtvdW8lgX5D6wkM6zBE' } },
            { path: 'editar/:id', component: __WEBPACK_IMPORTED_MODULE_4__editar_editar_component__["a" /* EditarComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_6__permisos_guard__["a" /* PermisosGuard */]], data: { key: '9Z9XwxmNbrISFyF5sJkU3HyGUssSPfU5' } },
        ],
        canActivate: [__WEBPACK_IMPORTED_MODULE_5__auth_guard_service__["a" /* AuthGuard */]]
    }
];
var RolesRoutingModule = (function () {
    function RolesRoutingModule() {
    }
    return RolesRoutingModule;
}());
RolesRoutingModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */].forChild(routes)],
        exports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */]],
        providers: []
    })
], RolesRoutingModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/roles-routing.module.js.map

/***/ }),

/***/ "../../../../../src/app/panel-control/roles/roles.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__roles_service__ = __webpack_require__("../../../../../src/app/panel-control/roles/roles.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__permisos_permisos_service__ = __webpack_require__("../../../../../src/app/panel-control/permisos/permisos.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__lista_lista_component__ = __webpack_require__("../../../../../src/app/panel-control/roles/lista/lista.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__menu_menu_module__ = __webpack_require__("../../../../../src/app/panel-control/menu/menu.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__paginacion_paginacion_module__ = __webpack_require__("../../../../../src/app/paginacion/paginacion.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__roles_routing_module__ = __webpack_require__("../../../../../src/app/panel-control/roles/roles-routing.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__nuevo_nuevo_component__ = __webpack_require__("../../../../../src/app/panel-control/roles/nuevo/nuevo.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__editar_editar_component__ = __webpack_require__("../../../../../src/app/panel-control/roles/editar/editar.component.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RolesModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};











var RolesModule = (function () {
    function RolesModule() {
    }
    return RolesModule;
}());
RolesModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [
            __WEBPACK_IMPORTED_MODULE_1__angular_common__["CommonModule"],
            __WEBPACK_IMPORTED_MODULE_2__angular_forms__["FormsModule"],
            __WEBPACK_IMPORTED_MODULE_6__menu_menu_module__["a" /* MenuModule */],
            __WEBPACK_IMPORTED_MODULE_7__paginacion_paginacion_module__["a" /* PaginacionModule */],
            __WEBPACK_IMPORTED_MODULE_8__roles_routing_module__["a" /* RolesRoutingModule */]
        ],
        declarations: [__WEBPACK_IMPORTED_MODULE_5__lista_lista_component__["a" /* ListaComponent */], __WEBPACK_IMPORTED_MODULE_9__nuevo_nuevo_component__["a" /* NuevoComponent */], __WEBPACK_IMPORTED_MODULE_10__editar_editar_component__["a" /* EditarComponent */]],
        providers: [__WEBPACK_IMPORTED_MODULE_3__roles_service__["a" /* RolesService */], __WEBPACK_IMPORTED_MODULE_4__permisos_permisos_service__["a" /* PermisosService */]]
    })
], RolesModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/roles.module.js.map

/***/ }),

/***/ "../../../../../src/app/panel-control/roles/roles.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/@angular/http.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__ = __webpack_require__("../../../../../src/app/jwt-request.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return RolesService; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var RolesService = RolesService_1 = (function () {
    function RolesService(http, jwtRequest) {
        this.http = http;
        this.jwtRequest = jwtRequest;
    }
    RolesService.prototype.lista = function () {
        return this.jwtRequest.get(RolesService_1.URL).map(function (response) { return response.json().data; });
    };
    RolesService.prototype.buscar = function (term, pagina, resultados_por_pagina) {
        if (pagina === void 0) { pagina = 1; }
        if (resultados_por_pagina === void 0) { resultados_por_pagina = 20; }
        return this.jwtRequest.get(RolesService_1.URL, null, { q: term, page: pagina, per_page: resultados_por_pagina }).map(function (response) { return response.json().data; });
    };
    RolesService.prototype.listaPaginada = function (pagina, resultados_por_pagina) {
        if (pagina === void 0) { pagina = 1; }
        if (resultados_por_pagina === void 0) { resultados_por_pagina = 20; }
        return this.jwtRequest.get(RolesService_1.URL, null, { page: pagina, per_page: resultados_por_pagina }).map(function (response) { return response.json().data; });
    };
    RolesService.prototype.ver = function (id) {
        return this.jwtRequest.get(RolesService_1.URL, id, {}).map(function (response) {
            var jsonData = response.json().data;
            /* var permisos:string[] = []
             jsonData.permisos.map(item => {
               roles.push(""+item.id)
             })
     
            
     
             var usuario = jsonData as Rol;
             usuario.roles = roles;
             usuario.unidades_medicas_objs = usuario.unidades_medicas;
             usuario.unidades_medicas = unidades_medicas;
             
             usuario.almacenes = almacenes;*/
            return jsonData;
        });
    };
    RolesService.prototype.crear = function (rol) {
        return this.jwtRequest.post(RolesService_1.URL, rol).map(function (response) { return response.json().data; });
    };
    RolesService.prototype.editar = function (id, rol) {
        return this.jwtRequest.put(RolesService_1.URL, id, rol).map(function (response) { return response.json().data; });
    };
    RolesService.prototype.eliminar = function (id) {
        return this.jwtRequest.delete(RolesService_1.URL, id).map(function (response) { return response.json().data; });
    };
    return RolesService;
}());
RolesService.URL = "roles";
RolesService = RolesService_1 = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__["a" /* JwtRequestService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__["a" /* JwtRequestService */]) === "function" && _b || Object])
], RolesService);

var RolesService_1, _a, _b;
//# sourceMappingURL=C:/wamp/www/x3-C/src/roles.service.js.map

/***/ }),

/***/ "../../../../../src/app/panel-control/servicios/formulario/formulario.component.html":
/***/ (function(module, exports) {

module.exports = "<formulario #ctrl URL=\"mis-servicios\" titulo=\"Servicios / Catalogo\" [dato]=\"dato\"></formulario>\r\n<panel-control-menu></panel-control-menu>\r\n<div style=\"height:50px;\"></div>\r\n<div class=\"contenedor columns \" style=\"height:100%\">\r\n    <div class=\"column is-one-quarter is-hidden-mobile\">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class=\"column\" style=\"padding:2em;\">\r\n        <div style=\"background: #FFF; border-radius: 1em; overflow: hidden;\">\r\n            <section class=\"hero is-primary\">\r\n                <div class=\"hero-body\">\r\n                    <a class=\"button  is-primary\" style=\"position:absolute; top:10em; right:3em;\" (click)=\"ctrl.cargarDatos(); \" id=\"actualizar\"><span class=\"icon \"><i class=\"fa fa-refresh\"></i></span></a>\r\n                    <div class=\"container is-fluid\">\r\n                        <h1 class=\"title\">\r\n                            <span *ngIf=\"!ctrl.cargando\" class=\"icon is-medium\"><i class=\"fa fa-edit\"></i></span>\r\n                            <span *ngIf=\"ctrl.cargando\" class=\"icon is-medium\" ><i class=\"fa fa-refresh fa-spin\"></i></span>                            <!-- --> Mis servicios\r\n                        </h1>\r\n\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class=\"is-fullwidth has-text-centered\" *ngIf=\"!ctrl.datosCargados\">\r\n                <br>\r\n                <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando...</span></span>\r\n            </div>\r\n            <section class=\"section\">\r\n                <!-- formulario -->\r\n                <form name=\"dato\" novalidate [formGroup]=\"dato\" (ngSubmit)=\"ctrl.enviar(false)\">\r\n                    <div class=\"tabs is-boxed\">\r\n                        <ul>\r\n                            <li [ngClass]=\"{ 'is-active' : tab == 2}\">\r\n                                <a (click)=\"tab=2\">\r\n                                    <span class=\"icon is-small\"><i class=\"fa fa-home\"></i></span>\r\n                                    <span>Tipos de servicios</span>\r\n                                </a>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n\r\n                    <div [ngClass]=\"{ 'is-hidden': tab != 2}\">\r\n\r\n                        <div class=\"box\" >\r\n                            <article class=\"media\">\r\n                                <div class=\"media-content\">\r\n                                    <div class=\"content\">\r\n                                        <div class=\"column is-5\" style=\"float:left\">\r\n                                            <nav class=\"panel\">\r\n                                                <div class=\"panel-heading\">\r\n                                                    <div class=\"field\">\r\n                                                        <div class=\"b-checkbox is-info\">\r\n                                                            <input id=\"Movimientos\" class=\"styled\" type=\"checkbox\" \r\n                                                            [checked]=\"ctrl.todosSeleccionados.izquierda\"\r\n                                                            (click)=\"ctrl.seleccionarTodosMover('izquierda', ctrl.tipos_servicios)\">\r\n                                                            <label for=\"Movimientos\">\r\n                                                            Servicios disponibles\r\n                                                        </label>\r\n                                                        </div>\r\n                                                        <a id=\"catalogos\" (click)=\"ctrl.cargarCatalogo('tipos_servicios', 'servicios'); \"></a>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <label class=\"panel-block\" *ngFor=\"let val of ctrl.tipos_servicios; let i=index\">          \r\n                                                    <div class=\"field\">\r\n                                                        <div class=\"b-checkbox\">\r\n                                                            <input id=\"{{val.id}}\" class=\"styled\" type=\"checkbox\" \r\n                                                            [checked]=\"ctrl.izquierda.indexOf(val) > -1\"\r\n                                                            (click)=\"ctrl.agregarMover('izquierda', ctrl.tipos_servicios, val)\">\r\n                                                            <label for=\"{{val.id}}\">\r\n                                                                {{val.nombre}} \r\n                                                            </label>\r\n                                                        </div>\r\n                                                    </div>\r\n\r\n                                                </label>\r\n                                            </nav>\r\n                                        </div>\r\n                                        <div class=\"column is-2\" style=\"float:left\" >\r\n                                            \r\n                                            <p class=\"control\">\r\n                                                <button class=\"button is-default\" type=\"button\" style=\"width:100%\" \r\n                                                [ngClass]=\"{'is-success': ctrl.izquierda.length > 0}\" \r\n                                                [disabled]=\"ctrl.izquierda.length <= 0\"\r\n                                                (click)=\"ctrl.iniciarMover('izquierda', ctrl.dato.controls.clues_servicios.controls, ctrl.tipos_servicios, true)\">></button>\r\n                                            </p>\r\n                                            <p class=\"control\">\r\n                                                <button class=\"button is-default\" type=\"button\" style=\"width:100%\" \r\n                                                [ngClass]=\"{'is-success': ctrl.derecha.length > 0}\" \r\n                                                [disabled]=\"ctrl.derecha.length <= 0\"\r\n                                                (click)=\"ctrl.iniciarMover('derecha', ctrl.tipos_servicios, ctrl.dato.controls.clues_servicios.controls, false)\"><</button>\r\n                                            </p>\r\n                                            \r\n                                        </div>                        \r\n                                        <div class=\"column is-5\" style=\"float:left\" >\r\n                                            <nav class=\"panel\" formGroupName=\"clues_servicios\">\r\n                                                <div class=\"panel-heading\">\r\n                                                    <div class=\"field\">\r\n                                                        <div class=\"b-checkbox is-info\">\r\n                                                            <input id=\"MisServicios\" class=\"styled\" type=\"checkbox\" \r\n                                                            [checked]=\"ctrl.todosSeleccionados.derecha\"\r\n                                                            (click)=\"ctrl.seleccionarTodosMover('derecha', ctrl.dato.controls.clues_servicios.controls)\">\r\n                                                            <label for=\"MisServicios\">\r\n                                                            Mis servicios\r\n                                                        </label>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <label class=\"panel-block\" *ngFor=\"let item of ctrl.dato.controls.clues_servicios.controls; let i2=index\">          \r\n                                                    <div class=\"field\" [formGroupName]=\"i2\">\r\n                                                        <div class=\"b-checkbox\">\r\n                                                            <input id=\"{{item.value.id}}\" class=\"styled\" type=\"checkbox\"\r\n                                                            [checked]=\"ctrl.derecha.indexOf(item) > -1\"\r\n                                                            (click)=\"ctrl.agregarMover('derecha', ctrl.dato.controls.clues_servicios.controls, item)\">\r\n                                                            <label for=\"{{item.value.id}}\">\r\n                                                                {{item.value.nombre}} \r\n                                                            </label>\r\n                                                        </div>\r\n                                                    </div>\r\n\r\n                                                </label>\r\n                                            </nav>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </article>\r\n                        </div>\r\n                    </div>\r\n                    <a (click)=\"ctrl.initMover(ctrl.dato.controls.clues_servicios.controls, ctrl.tipos_servicios); \" id=\"initMover\"></a>\r\n                    <br><br>\r\n                    <div class=\"control is-grouped\" style=\"float:left; padding:10px;\">\r\n                        <p class=\"control\">\r\n                            <button class=\"button is-primary\" type=\"submit\" [ngClass]=\"{'is-loading': ctrl.cargando}\" [disabled]=\"ctrl.dato.invalid\">Guardar</button>\r\n                        </p>\r\n                        <p class=\"control\" *ngIf=\"ctrl.id\">\r\n                            <button class=\"button is-danger\" type=\"button\" [ngClass]=\"{'is-loading': ctrl.cargando}\" (click)=\"ctrl.eliminar(ctrl.id)\">Eliminar </button>\r\n                        </p>\r\n                        <p class=\"control\">\r\n                            <a class=\"button is-white\" (click)=\"ctrl.regresar()\">Regresar</a>\r\n                        </p>\r\n                    </div>\r\n                    \r\n                </form>\r\n            </section>\r\n        </div>\r\n    </div>\r\n</div>\r\n"

/***/ }),

/***/ "../../../../../src/app/panel-control/servicios/formulario/formulario.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormularioComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var FormularioComponent = (function () {
    function FormularioComponent(fb, router, route, _sanitizer) {
        this.fb = fb;
        this.router = router;
        this.route = route;
        this._sanitizer = _sanitizer;
        this.tieneid = false;
        this.tipos_almacen = [
            { id: "ALMPAL", nombre: "ALMPAL" },
            { id: "JURIS", nombre: "JURIS" },
            { id: "UNMED", nombre: "UNMED" },
            { id: "LAB", nombre: "LAB" },
            { id: "FARMACIA", nombre: "FARMACIA" },
            { id: "CENDIS", nombre: "CENDIS" }
        ];
        this.niveles_almacen = [
            { id: 1, nombre: "HACE PEDIDOS AL PROVEEDOR" },
            { id: 2, nombre: "HACE PEDIDOS A OTRO ALMACEN DENTRO DE LA CLUES" }
        ];
        this.tab = 2;
    }
    FormularioComponent.prototype.ngOnInit = function () {
        var _this = this;
        var usuario = JSON.parse(localStorage.getItem("usuario"));
        //console.log(usuario);
        this.dato = this.fb.group({
            clues: [usuario.clues_activa.clues, [__WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required]],
            jurisdiccion_id: [usuario.clues_activa.jurisdiccion_id],
            nombre: [usuario.clues_activa.nombre],
            activa: [usuario.clues_activa.activa],
            director_id: [usuario.clues_activa.director_id],
            clues_servicios: this.fb.array([])
        });
        this.form_almacen_tipos_servicios = {
            tipo_movimiento_id: ['', [__WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required]]
        };
        this.route.params.subscribe(function (params) {
            if (params['clues']) {
                _this.tieneid = true;
            }
        });
        //Solo si se va a cargar catalogos poner un <a id="catalogos" (click)="ctl.cargarCatalogo('modelo','ruta')">refresh</a>
        document.getElementById("catalogos").click();
    };
    FormularioComponent.prototype.ngAfterViewInit = function () {
        //Solo si se tiene el control mover izquierda-derecha poner un <a id="initMover" (click)="ctrl.initMover(ctrl.dato.controls.almacen_tipos_movimientos.controls, ctrl.tipos_movimientos)>refresh</a>
        //incrementar el tiempo segun sea el caso para que cargue el catalogo en este caso va a acrgar 2 catalogos por eso pongo 5000
        document.getElementById("actualizar").click();
        setTimeout(function () {
            document.getElementById("initMover").click();
        }, 3000);
    };
    return FormularioComponent;
}());
FormularioComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'almacenes-formulario',
        template: __webpack_require__("../../../../../src/app/panel-control/servicios/formulario/formulario.component.html")
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_2__angular_forms__["FormBuilder"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_forms__["FormBuilder"]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_3__angular_router__["a" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__angular_router__["a" /* Router */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_3__angular_router__["c" /* ActivatedRoute */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__angular_router__["c" /* ActivatedRoute */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["d" /* DomSanitizer */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["d" /* DomSanitizer */]) === "function" && _d || Object])
], FormularioComponent);

var _a, _b, _c, _d;
//# sourceMappingURL=C:/wamp/www/x3-C/src/formulario.component.js.map

/***/ }),

/***/ "../../../../../src/app/panel-control/servicios/servicios-routing.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__formulario_formulario_component__ = __webpack_require__("../../../../../src/app/panel-control/servicios/formulario/formulario.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__auth_guard_service__ = __webpack_require__("../../../../../src/app/auth-guard.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ServiciosRoutingModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


//import { ListaComponent } from './lista/lista.component';


var routes = [
    { path: 'panel-control/servicios', redirectTo: 'panel-control/servicios/editar/:clues', pathMatch: 'full' },
    {
        path: 'panel-control/servicios',
        children: [
            { path: 'nuevo', component: __WEBPACK_IMPORTED_MODULE_2__formulario_formulario_component__["a" /* FormularioComponent */] },
            { path: 'editar/:clues', component: __WEBPACK_IMPORTED_MODULE_2__formulario_formulario_component__["a" /* FormularioComponent */] },
        ],
        canActivate: [__WEBPACK_IMPORTED_MODULE_3__auth_guard_service__["a" /* AuthGuard */]]
    }
];
var ServiciosRoutingModule = (function () {
    function ServiciosRoutingModule() {
    }
    return ServiciosRoutingModule;
}());
ServiciosRoutingModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */].forChild(routes)],
        exports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */]],
        providers: []
    })
], ServiciosRoutingModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/servicios-routing.module.js.map

/***/ }),

/***/ "../../../../../src/app/panel-control/servicios/servicios.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__hub_hub_module__ = __webpack_require__("../../../../../src/app/hub/hub.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__perfil_perfil_module__ = __webpack_require__("../../../../../src/app/perfil/perfil.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__bloquear_pantalla_bloquear_pantalla_module__ = __webpack_require__("../../../../../src/app/bloquear-pantalla/bloquear-pantalla.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__servicios_routing_module__ = __webpack_require__("../../../../../src/app/panel-control/servicios/servicios-routing.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__paginacion_paginacion_module__ = __webpack_require__("../../../../../src/app/paginacion/paginacion.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__pipes_pipes_module__ = __webpack_require__("../../../../../src/app/pipes/pipes.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__formulario_formulario_component__ = __webpack_require__("../../../../../src/app/panel-control/servicios/formulario/formulario.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__auth_service__ = __webpack_require__("../../../../../src/app/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__menu_menu_module__ = __webpack_require__("../../../../../src/app/panel-control/menu/menu.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__crud_crud_service__ = __webpack_require__("../../../../../src/app/crud/crud.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__crud_crud_module__ = __webpack_require__("../../../../../src/app/crud/crud.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__ngui_auto_complete__ = __webpack_require__("../../../../@ngui/auto-complete/dist/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__ngui_auto_complete___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_14__ngui_auto_complete__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MisServiciosModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};











//import { MenuPanelModule } from '../menu/menu-panel.module';
//import { MenuAsidePanelModule } from '../menu/menu-aside/menu-aside-panel.module';

//crud


//fin crud

var MisServiciosModule = (function () {
    function MisServiciosModule() {
    }
    return MisServiciosModule;
}());
MisServiciosModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [
            __WEBPACK_IMPORTED_MODULE_1__angular_common__["CommonModule"],
            __WEBPACK_IMPORTED_MODULE_2__angular_forms__["FormsModule"],
            __WEBPACK_IMPORTED_MODULE_2__angular_forms__["ReactiveFormsModule"],
            __WEBPACK_IMPORTED_MODULE_6__servicios_routing_module__["a" /* ServiciosRoutingModule */],
            __WEBPACK_IMPORTED_MODULE_3__hub_hub_module__["a" /* HubModule */],
            __WEBPACK_IMPORTED_MODULE_4__perfil_perfil_module__["a" /* PerfilModule */],
            __WEBPACK_IMPORTED_MODULE_5__bloquear_pantalla_bloquear_pantalla_module__["a" /* BloquearPantallaModule */],
            __WEBPACK_IMPORTED_MODULE_7__paginacion_paginacion_module__["a" /* PaginacionModule */],
            __WEBPACK_IMPORTED_MODULE_8__pipes_pipes_module__["a" /* PipesModule */],
            __WEBPACK_IMPORTED_MODULE_11__menu_menu_module__["a" /* MenuModule */],
            //MenuPanelModule, 
            //MenuAsidePanelModule,
            __WEBPACK_IMPORTED_MODULE_13__crud_crud_module__["a" /* CrudModule */],
            __WEBPACK_IMPORTED_MODULE_14__ngui_auto_complete__["NguiAutoCompleteModule"]
        ],
        declarations: [
            __WEBPACK_IMPORTED_MODULE_9__formulario_formulario_component__["a" /* FormularioComponent */]
        ],
        providers: [__WEBPACK_IMPORTED_MODULE_10__auth_service__["a" /* AuthService */], __WEBPACK_IMPORTED_MODULE_12__crud_crud_service__["a" /* CrudService */]]
    })
], MisServiciosModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/servicios.module.js.map

/***/ }),

/***/ "../../../../../src/app/panel-control/sync/estatus/estatus.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/panel-control/sync/estatus/estatus.component.html":
/***/ (function(module, exports) {

module.exports = "<panel-control-menu></panel-control-menu>\r\n<div style=\"height:50px;\"></div>\r\n<div class=\"contenedor columns \" style=\"height:100%\">\r\n    <div class=\"column is-one-quarter is-hidden-mobile\">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class=\"column\" style=\"padding:2em;\">\r\n        <div style=\"background: #FFF; border-radius: 1em; overflow: hidden;\">\r\n            <section class=\"hero is-primary\">\r\n                <div class=\"hero-body\">\r\n                    <div class=\"container is-fluid\">\r\n                        <h1 class=\"title\">\r\n                            <span  *ngIf=\"!cargando\" class=\"icon is-medium\"><i class=\"fa fa-server\"></i></span>\r\n                            <span  *ngIf=\"cargando\" class=\"icon is-medium\"><i class=\"fa fa-refresh fa-spin\"></i></span> \r\n                            Estatus del servidor\r\n                        </h1>\r\n                        \r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <section class=\"section\">\r\n                <h1 class=\"title\">Próximamente</h1>\r\n                <p>En esta sección se desplegarán varias opciones cuando tengamos muchos servidores.</p>\r\n            </section>\r\n        </div>\r\n        \r\n       \r\n       \r\n    </div>\r\n</div>\r\n\r\n\r\n\r\n\r\n"

/***/ }),

/***/ "../../../../../src/app/panel-control/sync/estatus/estatus.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EstatusComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};

var EstatusComponent = (function () {
    function EstatusComponent() {
        this.cargando = false;
    }
    EstatusComponent.prototype.ngOnInit = function () {
    };
    return EstatusComponent;
}());
EstatusComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-estatus',
        template: __webpack_require__("../../../../../src/app/panel-control/sync/estatus/estatus.component.html"),
        styles: [__webpack_require__("../../../../../src/app/panel-control/sync/estatus/estatus.component.css")]
    }),
    __metadata("design:paramtypes", [])
], EstatusComponent);

//# sourceMappingURL=C:/wamp/www/x3-C/src/estatus.component.js.map

/***/ }),

/***/ "../../../../../src/app/panel-control/sync/sync-routing.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__estatus_estatus_component__ = __webpack_require__("../../../../../src/app/panel-control/sync/estatus/estatus.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__auth_guard_service__ = __webpack_require__("../../../../../src/app/auth-guard.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SyncRoutingModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




var routes = [
    { path: 'panel-control', redirectTo: '/panel-control/sync/estatus', pathMatch: 'full' },
    {
        path: 'panel-control/sync',
        children: [
            { path: '', redirectTo: '/panel-control/sync/estatus', pathMatch: 'full' },
            { path: 'estatus', component: __WEBPACK_IMPORTED_MODULE_2__estatus_estatus_component__["a" /* EstatusComponent */] },
        ],
        canActivate: [__WEBPACK_IMPORTED_MODULE_3__auth_guard_service__["a" /* AuthGuard */]]
    }
];
var SyncRoutingModule = (function () {
    function SyncRoutingModule() {
    }
    return SyncRoutingModule;
}());
SyncRoutingModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */].forChild(routes)],
        exports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */]]
    })
], SyncRoutingModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/sync-routing.module.js.map

/***/ }),

/***/ "../../../../../src/app/panel-control/sync/sync.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__menu_menu_module__ = __webpack_require__("../../../../../src/app/panel-control/menu/menu.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__sync_routing_module__ = __webpack_require__("../../../../../src/app/panel-control/sync/sync-routing.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__estatus_estatus_component__ = __webpack_require__("../../../../../src/app/panel-control/sync/estatus/estatus.component.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return SyncModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





var SyncModule = (function () {
    function SyncModule() {
    }
    return SyncModule;
}());
SyncModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [
            __WEBPACK_IMPORTED_MODULE_1__angular_common__["CommonModule"],
            __WEBPACK_IMPORTED_MODULE_3__sync_routing_module__["a" /* SyncRoutingModule */],
            __WEBPACK_IMPORTED_MODULE_2__menu_menu_module__["a" /* MenuModule */]
        ],
        declarations: [__WEBPACK_IMPORTED_MODULE_4__estatus_estatus_component__["a" /* EstatusComponent */]]
    })
], SyncModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/sync.module.js.map

/***/ }),

/***/ "../../../../../src/app/panel-control/turnos/formulario/formulario.component.html":
/***/ (function(module, exports) {

module.exports = "<formulario #ctrl URL=\"mis-turnos\" titulo=\"Turnos / Panel Control\" [dato]=\"dato\"></formulario>\r\n<panel-control-menu></panel-control-menu>\r\n<div style=\"height:50px;\"></div>\r\n<div class=\"contenedor columns \" style=\"height:100%\">\r\n    <div class=\"column is-one-quarter is-hidden-mobile\">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class=\"column\" style=\"padding:2em;\">\r\n        <div style=\"background: #FFF; border-radius: 1em; overflow: hidden;\">\r\n            <section class=\"hero is-primary\">\r\n                <div class=\"hero-body\">\r\n                    <a class=\"button  is-primary\" style=\"position:absolute; top:10em; right:3em;\" (click)=\"ctrl.cargarDatos();\" id=\"actualizar\"><span class=\"icon \"><i class=\"fa fa-refresh\"></i></span></a>\r\n                    <div class=\"container is-fluid\">\r\n                        <h1 class=\"title\">\r\n                            <span *ngIf=\"!ctrl.cargando\" class=\"icon is-medium\"><i class=\"fa fa-edit\"></i></span>\r\n                            <span *ngIf=\"ctrl.cargando\" class=\"icon is-medium\"><i class=\"fa fa-refresh fa-spin\"></i></span>                            <!-- --> Mis turnos\r\n                        </h1>\r\n\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class=\"is-fullwidth has-text-centered\" *ngIf=\"!ctrl.datosCargados\">\r\n                <br>\r\n                <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando...</span></span>\r\n            </div>\r\n            <section class=\"section\">\r\n                <!-- formulario -->\r\n                <form name=\"dato\" novalidate [formGroup]=\"dato\" (ngSubmit)=\"ctrl.enviar(false)\">\r\n                    <div class=\"tabs is-boxed\">\r\n                        <ul>\r\n                            <li [ngClass]=\"{ 'is-active' : tab == 2}\">\r\n                                <a (click)=\"tab=2\">\r\n                                    <span class=\"icon is-small\"><i class=\"fa fa-home\"></i></span>\r\n                                    <span>Tipos de turnos</span>\r\n                                </a>\r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n\r\n                    <div [ngClass]=\"{ 'is-hidden': tab != 2}\">\r\n\r\n                        <div class=\"box\" >\r\n                            <article class=\"media\">\r\n                                <div class=\"media-content\">\r\n                                    <div class=\"content\">\r\n                                        <div class=\"column is-5\" style=\"float:left\">\r\n                                            <nav class=\"panel\">\r\n                                                <div class=\"panel-heading\">\r\n                                                    <div class=\"field\">\r\n                                                        <div class=\"b-checkbox is-info\">\r\n                                                            <input id=\"Movimientos\" class=\"styled\" type=\"checkbox\" \r\n                                                            [checked]=\"ctrl.todosSeleccionados.izquierda\"\r\n                                                            (click)=\"ctrl.seleccionarTodosMover('izquierda', ctrl.tipos_turnos)\">\r\n                                                            <label for=\"Movimientos\">\r\n                                                            Turnos disponibles\r\n                                                        </label>\r\n                                                        </div>\r\n                                                        <a id=\"catalogos\" (click)=\"ctrl.cargarCatalogo('tipos_turnos', 'turnos'); \"></a>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <label class=\"panel-block\" *ngFor=\"let val of ctrl.tipos_turnos; let i=index\">          \r\n                                                    <div class=\"field\">\r\n                                                        <div class=\"b-checkbox\">\r\n                                                            <input id=\"{{val.id}}\" class=\"styled\" type=\"checkbox\" \r\n                                                            [checked]=\"ctrl.izquierda.indexOf(val) > -1\"\r\n                                                            (click)=\"ctrl.agregarMover('izquierda', ctrl.tipos_turnos, val)\">\r\n                                                            <label for=\"{{val.id}}\">\r\n                                                                {{val.nombre}} \r\n                                                            </label>\r\n                                                        </div>\r\n                                                    </div>\r\n\r\n                                                </label>\r\n                                            </nav>\r\n                                        </div>\r\n                                        <div class=\"column is-2\" style=\"float:left\" >\r\n                                            \r\n                                            <p class=\"control\">\r\n                                                <button class=\"button is-default\" type=\"button\" style=\"width:100%\" \r\n                                                [ngClass]=\"{'is-success': ctrl.izquierda.length > 0}\" \r\n                                                [disabled]=\"ctrl.izquierda.length <= 0\"\r\n                                                (click)=\"ctrl.iniciarMover('izquierda', ctrl.dato.controls.clues_turnos.controls, ctrl.tipos_turnos, true)\">></button>\r\n                                            </p>\r\n                                            <p class=\"control\">\r\n                                                <button class=\"button is-default\" type=\"button\" style=\"width:100%\" \r\n                                                [ngClass]=\"{'is-success': ctrl.derecha.length > 0}\" \r\n                                                [disabled]=\"ctrl.derecha.length <= 0\"\r\n                                                (click)=\"ctrl.iniciarMover('derecha', ctrl.tipos_turnos, ctrl.dato.controls.clues_turnos.controls, false)\"><</button>\r\n                                            </p>\r\n                                            \r\n                                        </div>                        \r\n                                        <div class=\"column is-5\" style=\"float:left\" >\r\n                                            <nav class=\"panel\" formGroupName=\"clues_turnos\">\r\n                                                <div class=\"panel-heading\">\r\n                                                    <div class=\"field\">\r\n                                                        <div class=\"b-checkbox is-info\">\r\n                                                            <input id=\"MisServicios\" class=\"styled\" type=\"checkbox\" \r\n                                                            [checked]=\"ctrl.todosSeleccionados.derecha\"\r\n                                                            (click)=\"ctrl.seleccionarTodosMover('derecha', ctrl.dato.controls.clues_turnos.controls)\">\r\n                                                            <label for=\"MisServicios\">\r\n                                                            Mis turnos\r\n                                                        </label>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                                <label class=\"panel-block\" *ngFor=\"let item of ctrl.dato.controls.clues_turnos.controls; let i2=index\">          \r\n                                                    <div class=\"field\" [formGroupName]=\"i2\">\r\n                                                        <div class=\"b-checkbox\">\r\n                                                            <input id=\"{{item.value.id}}\" class=\"styled\" type=\"checkbox\"\r\n                                                            [checked]=\"ctrl.derecha.indexOf(item) > -1\"\r\n                                                            (click)=\"ctrl.agregarMover('derecha', ctrl.dato.controls.clues_turnos.controls, item)\">\r\n                                                            <label for=\"{{item.value.id}}\">\r\n                                                                {{item.value.nombre}} \r\n                                                            </label>\r\n                                                        </div>\r\n                                                    </div>\r\n\r\n                                                </label>\r\n                                            </nav>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </article>\r\n                        </div>\r\n                    </div>\r\n                    <a (click)=\"ctrl.initMover(ctrl.dato.controls.clues_turnos.controls, ctrl.tipos_turnos); \" id=\"initMover\"></a>\r\n                    <br><br>\r\n                    <div class=\"control is-grouped\" style=\"float:left; padding:10px;\">\r\n                        <p class=\"control\">\r\n                            <button class=\"button is-primary\" type=\"submit\" [ngClass]=\"{'is-loading': ctrl.cargando}\" [disabled]=\"ctrl.dato.invalid\">Guardar</button>\r\n                        </p>\r\n                        <p class=\"control\" *ngIf=\"ctrl.id\">\r\n                            <button class=\"button is-danger\" type=\"button\" [ngClass]=\"{'is-loading': ctrl.cargando}\" (click)=\"ctrl.eliminar(ctrl.id)\">Eliminar </button>\r\n                        </p>\r\n                        <p class=\"control\">\r\n                            <a class=\"button is-white\" (click)=\"ctrl.regresar()\">Regresar</a>\r\n                        </p>\r\n                    </div>\r\n                    \r\n                </form>\r\n            </section>\r\n        </div>\r\n    </div>\r\n</div>\r\n"

/***/ }),

/***/ "../../../../../src/app/panel-control/turnos/formulario/formulario.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormularioComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var FormularioComponent = (function () {
    function FormularioComponent(fb, router, route, _sanitizer) {
        this.fb = fb;
        this.router = router;
        this.route = route;
        this._sanitizer = _sanitizer;
        this.tieneid = false;
        this.tab = 2;
    }
    FormularioComponent.prototype.ngOnInit = function () {
        var _this = this;
        var usuario = JSON.parse(localStorage.getItem("usuario"));
        //console.log(usuario);
        this.dato = this.fb.group({
            clues: [usuario.clues_activa.clues, [__WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required]],
            jurisdiccion_id: [usuario.clues_activa.jurisdiccion_id],
            nombre: [usuario.clues_activa.nombre],
            activa: [usuario.clues_activa.activa],
            director_id: [usuario.clues_activa.director_id],
            clues_turnos: this.fb.array([])
        });
        this.form_almacen_tipos_servicios = {
            tipo_movimiento_id: ['', [__WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required]]
        };
        this.route.params.subscribe(function (params) {
            if (params['clues']) {
                _this.tieneid = true;
            }
        });
        //Solo si se va a cargar catalogos poner un <a id="catalogos" (click)="ctl.cargarCatalogo('modelo','ruta')">refresh</a>
        document.getElementById("catalogos").click();
    };
    FormularioComponent.prototype.ngAfterViewInit = function () {
        //Solo si se tiene el control mover izquierda-derecha poner un <a id="initMover" (click)="ctrl.initMover(ctrl.dato.controls.almacen_tipos_movimientos.controls, ctrl.tipos_movimientos)>refresh</a>
        //incrementar el tiempo segun sea el caso para que cargue el catalogo en este caso va a acrgar 2 catalogos por eso pongo 5000
        document.getElementById("actualizar").click();
        setTimeout(function () {
            document.getElementById("initMover").click();
        }, 4000);
    };
    return FormularioComponent;
}());
FormularioComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'almacenes-formulario',
        template: __webpack_require__("../../../../../src/app/panel-control/turnos/formulario/formulario.component.html")
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_2__angular_forms__["FormBuilder"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_forms__["FormBuilder"]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_3__angular_router__["a" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__angular_router__["a" /* Router */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_3__angular_router__["c" /* ActivatedRoute */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__angular_router__["c" /* ActivatedRoute */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["d" /* DomSanitizer */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["d" /* DomSanitizer */]) === "function" && _d || Object])
], FormularioComponent);

var _a, _b, _c, _d;
//# sourceMappingURL=C:/wamp/www/x3-C/src/formulario.component.js.map

/***/ }),

/***/ "../../../../../src/app/panel-control/turnos/turnos-routing.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__formulario_formulario_component__ = __webpack_require__("../../../../../src/app/panel-control/turnos/formulario/formulario.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__auth_guard_service__ = __webpack_require__("../../../../../src/app/auth-guard.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return TurnosRoutingModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


//import { ListaComponent } from './lista/lista.component';


var routes = [
    { path: 'panel-control/turnos', redirectTo: 'panel-control/turnos/editar/:clues', pathMatch: 'full' },
    {
        path: 'panel-control/turnos',
        children: [
            { path: 'nuevo', component: __WEBPACK_IMPORTED_MODULE_2__formulario_formulario_component__["a" /* FormularioComponent */] },
            { path: 'editar/:clues', component: __WEBPACK_IMPORTED_MODULE_2__formulario_formulario_component__["a" /* FormularioComponent */] },
        ],
        canActivate: [__WEBPACK_IMPORTED_MODULE_3__auth_guard_service__["a" /* AuthGuard */]]
    }
];
var TurnosRoutingModule = (function () {
    function TurnosRoutingModule() {
    }
    return TurnosRoutingModule;
}());
TurnosRoutingModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */].forChild(routes)],
        exports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */]],
        providers: []
    })
], TurnosRoutingModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/turnos-routing.module.js.map

/***/ }),

/***/ "../../../../../src/app/panel-control/turnos/turnos.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__hub_hub_module__ = __webpack_require__("../../../../../src/app/hub/hub.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__perfil_perfil_module__ = __webpack_require__("../../../../../src/app/perfil/perfil.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__bloquear_pantalla_bloquear_pantalla_module__ = __webpack_require__("../../../../../src/app/bloquear-pantalla/bloquear-pantalla.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__turnos_routing_module__ = __webpack_require__("../../../../../src/app/panel-control/turnos/turnos-routing.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__paginacion_paginacion_module__ = __webpack_require__("../../../../../src/app/paginacion/paginacion.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__pipes_pipes_module__ = __webpack_require__("../../../../../src/app/pipes/pipes.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__formulario_formulario_component__ = __webpack_require__("../../../../../src/app/panel-control/turnos/formulario/formulario.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__auth_service__ = __webpack_require__("../../../../../src/app/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__menu_menu_module__ = __webpack_require__("../../../../../src/app/panel-control/menu/menu.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__crud_crud_service__ = __webpack_require__("../../../../../src/app/crud/crud.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_13__crud_crud_module__ = __webpack_require__("../../../../../src/app/crud/crud.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__ngui_auto_complete__ = __webpack_require__("../../../../@ngui/auto-complete/dist/index.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_14__ngui_auto_complete___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_14__ngui_auto_complete__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return MisTurnosModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};











//import { MenuPanelModule } from '../menu/menu-panel.module';
//import { MenuAsidePanelModule } from '../menu/menu-aside/menu-aside-panel.module';

//crud


//fin crud

var MisTurnosModule = (function () {
    function MisTurnosModule() {
    }
    return MisTurnosModule;
}());
MisTurnosModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [
            __WEBPACK_IMPORTED_MODULE_1__angular_common__["CommonModule"],
            __WEBPACK_IMPORTED_MODULE_2__angular_forms__["FormsModule"],
            __WEBPACK_IMPORTED_MODULE_2__angular_forms__["ReactiveFormsModule"],
            __WEBPACK_IMPORTED_MODULE_6__turnos_routing_module__["a" /* TurnosRoutingModule */],
            __WEBPACK_IMPORTED_MODULE_3__hub_hub_module__["a" /* HubModule */],
            __WEBPACK_IMPORTED_MODULE_4__perfil_perfil_module__["a" /* PerfilModule */],
            __WEBPACK_IMPORTED_MODULE_5__bloquear_pantalla_bloquear_pantalla_module__["a" /* BloquearPantallaModule */],
            __WEBPACK_IMPORTED_MODULE_7__paginacion_paginacion_module__["a" /* PaginacionModule */],
            __WEBPACK_IMPORTED_MODULE_8__pipes_pipes_module__["a" /* PipesModule */],
            __WEBPACK_IMPORTED_MODULE_11__menu_menu_module__["a" /* MenuModule */],
            //MenuPanelModule, 
            //MenuAsidePanelModule,
            __WEBPACK_IMPORTED_MODULE_13__crud_crud_module__["a" /* CrudModule */],
            __WEBPACK_IMPORTED_MODULE_14__ngui_auto_complete__["NguiAutoCompleteModule"]
        ],
        declarations: [
            __WEBPACK_IMPORTED_MODULE_9__formulario_formulario_component__["a" /* FormularioComponent */]
        ],
        providers: [__WEBPACK_IMPORTED_MODULE_10__auth_service__["a" /* AuthService */], __WEBPACK_IMPORTED_MODULE_12__crud_crud_service__["a" /* CrudService */]]
    })
], MisTurnosModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/turnos.module.js.map

/***/ }),

/***/ "../../../../../src/app/panel-control/usuarios/editar/editar.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/panel-control/usuarios/editar/editar.component.html":
/***/ (function(module, exports) {

module.exports = "<panel-control-menu></panel-control-menu>\r\n<div style=\"height:50px;\"></div>\r\n<div class=\"contenedor columns \" style=\"height:100%\">\r\n    <div class=\"column is-one-quarter is-hidden-mobile\">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class=\"column\" style=\"padding:2em;\">\r\n        <div style=\"background: #FFF; border-radius: 1em; overflow: hidden;\">\r\n            <section class=\"hero is-primary\">\r\n                <div class=\"hero-body\">\r\n                    <div class=\"container is-fluid\">\r\n                        <h1 class=\"title\">\r\n                            <span  *ngIf=\"!cargando\" class=\"icon is-medium\"><i class=\"fa fa-edit\"></i></span>\r\n                            <span  *ngIf=\"cargando\" class=\"icon is-medium\"><i class=\"fa fa-refresh fa-spin\"></i></span> \r\n                            Editar usuario\r\n                        </h1>\r\n                        \r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class=\"is-fullwidth has-text-centered\" *ngIf=\"!datosCargados\">\r\n                <br>\r\n                <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando...</span></span>\r\n            </div>\r\n            <section class=\"section\">\r\n            <panel-control-usuarios-form *ngIf=\"datosCargados\"\r\n                [mostrarCambiarPassword]=\"true\"\r\n                [usuario]=\"usuario\"             \r\n                [roles]=\"roles\" \r\n                [unidadesMedicasEdicion] = \"unidadesMedicasEdicion\"\r\n                [unidadesMedicas]=\"unidadesMedicas\" \r\n                [usuarioRepetido]=\"usuarioRepetido\"\r\n                [usuarioInvalido]=\"usuarioInvalido\"\r\n                [cargando]=\"cargando\"\r\n                [cargandoRoles]=\"cargandoRoles\"\r\n                (onEnviar)=\"enviar()\"\r\n                (onRegresar)=\"regresar()\"\r\n                (onToggleCambiarPassword)=\"toggleCambiarPassword()\"\r\n                (onCargarRoles)=\"cargarRoles()\"\r\n            ></panel-control-usuarios-form>\r\n            </section>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"notification is-danger\" style=\"position:fixed; left:1em;  bottom:1em;\" *ngIf=\"mensajeError.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeError.mostrar = false\"></button>        \r\n    <p><b>Error:</b> {{ mensajeError.texto }}<br></p>\r\n    <p style=\"text-align: center;\"><small >Este mensaje desaparecerá en {{ mensajeError.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n<div class=\"notification is-warning\" style=\"position:fixed; left:1em;  bottom:1em;\" *ngIf=\"mensajeAdvertencia.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeAdvertencia.mostrar = false\"></button>        \r\n    <p><span class=\"icon\" style=\"margin-right: 0.5em;\"><i class=\"fa fa-warning\"></i></span> <span>{{ mensajeAdvertencia.texto }}</span></p>\r\n    \r\n    <br>\r\n    <p style=\"text-align: center;\"><small >Este mensaje desaparecerá en {{ mensajeAdvertencia.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n<div class=\"notification is-success\" style=\"position:fixed; left:1em;  bottom:1em; width: auto\" *ngIf=\"mensajeExito.mostrar\">       \r\n    <button class=\"delete\" (click)=\"mensajeExito.mostrar = false\"></button>\r\n    <p><span class=\"icon\" style=\"margin-right: 0.5em;\"><i class=\"fa fa-check-circle\"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style=\"text-align: center;\"><small >Este mensaje desaparecerá en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>"

/***/ }),

/***/ "../../../../../src/app/panel-control/usuarios/editar/editar.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__auth_service__ = __webpack_require__("../../../../../src/app/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__roles_roles_service__ = __webpack_require__("../../../../../src/app/panel-control/roles/roles.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__usuarios_service__ = __webpack_require__("../../../../../src/app/panel-control/usuarios/usuarios.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__mensaje__ = __webpack_require__("../../../../../src/app/mensaje.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return EditarComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};










var EditarComponent = (function () {
    // # FIN SECCION
    function EditarComponent(router, title, authService, route, location, rolesService, usuariosService, fb) {
        this.router = router;
        this.title = title;
        this.authService = authService;
        this.route = route;
        this.location = location;
        this.rolesService = rolesService;
        this.usuariosService = usuariosService;
        this.fb = fb;
        this.usuarioRepetido = false;
        this.usuarioInvalido = false;
        this.cambiarPassword = false;
        this.cargando = false;
        this.cargandoRoles = false;
        this.cargandoUnidadesMedicas = false;
        this.roles = [];
        this.unidadesMedicas = [];
        this.unidadesMedicasEdicion = [];
        // # SECCION: Esta sección es para mostrar mensajes
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_8__mensaje__["a" /* Mensaje */]();
        this.mensajeAdvertencia = new __WEBPACK_IMPORTED_MODULE_8__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_8__mensaje__["a" /* Mensaje */]();
    }
    EditarComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.title.setTitle("Editar usuario / Panel de control");
        this.usuario = this.fb.group({
            nombre: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            apellidos: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            id: ['', [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            cambiarPassword: [false, []],
            password: [{ value: '', disabled: true }, [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            confirmarPassword: [{ value: '', disabled: true }, [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            avatar: ['avatar-circled-user-male'],
            roles: [[1], [__WEBPACK_IMPORTED_MODULE_3__angular_forms__["Validators"].required]],
            unidades_medicas: [[]],
            almacenes: [[]]
        });
        this.route.params.subscribe(function (params) {
            _this.id = params['id']; // Se puede agregar un simbolo + antes de la variable params para volverlo number
            //this.cargarDatos();
        });
        this.cargarRoles();
        this.cargarUnidadesMedicas();
    };
    EditarComponent.prototype.toggleCambiarPassword = function () {
        this.cambiarPassword = !this.cambiarPassword;
        if (this.cambiarPassword) {
            this.usuario.get('password').enable();
            this.usuario.get('confirmarPassword').enable();
        }
        else {
            this.usuario.get('password').disable();
            this.usuario.get('confirmarPassword').disable();
        }
    };
    EditarComponent.prototype.enviar = function () {
        var _this = this;
        if (this.usuario.get('password').value != this.usuario.get('confirmarPassword').value) {
            return false;
        }
        this.cargando = true;
        var usuario = this.usuario.value;
        if (!this.cambiarPassword) {
            delete usuario.cambiarPassword;
        }
        this.usuariosService.editar(this.id, this.usuario.value).subscribe(function (usuario) {
            _this.cargando = false;
            console.log("Usuario editado.");
            _this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_8__mensaje__["a" /* Mensaje */](true);
            _this.mensajeExito.texto = "Se han guardado los cambios.";
            _this.mensajeExito.mostrar = true;
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_8__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError.texto = "No especificado.";
            _this.mensajeError.mostrar = true;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
                // Problema de validación
                if (error.status == 409) {
                    _this.mensajeError.texto = "Por favor verfique los campos marcados en rojo.";
                    _this.usuarioRepetido = false;
                    _this.usuarioInvalido = false;
                    for (var input in e.error) {
                        // Iteramos todos los errores
                        for (var i in e.error[input]) {
                            if (input == 'id' && e.error[input][i] == 'unique') {
                                _this.usuarioRepetido = true;
                            }
                            if (input == 'id' && e.error[input][i] == 'email') {
                                _this.usuarioInvalido = true;
                            }
                        }
                    }
                }
            }
            catch (e) {
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    EditarComponent.prototype.cargarDatos = function () {
        var _this = this;
        this.cargando = true;
        console.log("Cargando usuario.");
        this.usuariosService.ver(this.id).subscribe(function (usuario) {
            _this.cargando = false;
            _this.datosCargados = true;
            _this.usuario.patchValue(usuario);
            _this.unidadesMedicasEdicion = usuario.unidades_medicas_objs;
            console.log("Usuario cargado.");
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_8__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_8__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError.mostrar;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    EditarComponent.prototype.cargarUnidadesMedicas = function () {
        var _this = this;
        this.cargandoUnidadesMedicas = true;
        this.usuariosService.listaUnidadesMedicas().subscribe(function (clues) {
            _this.unidadesMedicas = clues;
            _this.cargandoUnidadesMedicas = false;
            console.log("Unidades Médicas cargadas");
        }, function (error) {
            _this.cargandoUnidadesMedicas = false;
        });
    };
    EditarComponent.prototype.cargarRoles = function () {
        var _this = this;
        this.cargandoRoles = true;
        this.rolesService.lista().subscribe(function (roles) {
            _this.cargandoRoles = false;
            _this.roles = roles;
            console.log("Roles cargados.");
            if (_this.roles.length == 0) {
                _this.mensajeAdvertencia = new __WEBPACK_IMPORTED_MODULE_8__mensaje__["a" /* Mensaje */](true);
                _this.mensajeAdvertencia.texto = "\n            No hay roles registrados en el sistema, p\u00F3ngase en contacto con un administrador.";
                _this.mensajeAdvertencia.mostrar = true;
            }
            _this.cargarDatos();
        }, function (error) {
            _this.cargandoRoles = false;
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_8__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError.texto = "No especificado.";
            _this.mensajeError.mostrar = true;
            _this.cargarDatos();
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para ver los roles.";
                }
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor). No se pudieron cargar los roles";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor). No se pudieron cargar los roles";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.  No se pudieron cargar los roles";
                }
            }
        });
    };
    EditarComponent.prototype.regresar = function () {
        this.location.back();
    };
    return EditarComponent;
}());
EditarComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-editar',
        template: __webpack_require__("../../../../../src/app/panel-control/usuarios/editar/editar.component.html"),
        styles: [__webpack_require__("../../../../../src/app/panel-control/usuarios/editar/editar.component.css")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["a" /* Router */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_4__angular_platform_browser__["b" /* Title */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__angular_platform_browser__["b" /* Title */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_5__auth_service__["a" /* AuthService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_5__auth_service__["a" /* AuthService */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* ActivatedRoute */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_router__["c" /* ActivatedRoute */]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_1__angular_common__["Location"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_common__["Location"]) === "function" && _e || Object, typeof (_f = typeof __WEBPACK_IMPORTED_MODULE_6__roles_roles_service__["a" /* RolesService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_6__roles_roles_service__["a" /* RolesService */]) === "function" && _f || Object, typeof (_g = typeof __WEBPACK_IMPORTED_MODULE_7__usuarios_service__["a" /* UsuariosService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_7__usuarios_service__["a" /* UsuariosService */]) === "function" && _g || Object, typeof (_h = typeof __WEBPACK_IMPORTED_MODULE_3__angular_forms__["FormBuilder"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__angular_forms__["FormBuilder"]) === "function" && _h || Object])
], EditarComponent);

var _a, _b, _c, _d, _e, _f, _g, _h;
//# sourceMappingURL=C:/wamp/www/x3-C/src/editar.component.js.map

/***/ }),

/***/ "../../../../../src/app/panel-control/usuarios/form/form.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, ".bulma-select-multiple {\r\n    width:100%; font-size: 1em; border-color: #ddd; border-radius: 0.15em;box-shadow: inset 0 1px 2px rgba(10, 10, 10, 0.1);\r\n}\r\n.bulma-select-multiple:focus {\r\n    border-color: #00d1b2;\r\n    outline: none;\r\n}\r\n\r\n.bulma-select-multiple.is-warning {\r\n    width:100%; font-size: 1em; border-color: #ffdd57; border-radius: 0.15em;box-shadow: inset 0 1px 2px rgba(10, 10, 10, 0.1);\r\n}\r\n\r\n.table tr.is-selected {\r\n    background: #00d1b2!important;\r\n    color: white!important;\r\n}\r\n\r\n\r\n.table tr .icon {\r\n    color: #00d1b2;\r\n}\r\n\r\n.table tr.is-selected a .icon {\r\n    color: white!important;\r\n}", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/panel-control/usuarios/form/form.component.html":
/***/ (function(module, exports) {

module.exports = "<form name=\"form\" novalidate [formGroup]=\"usuario\"  (ngSubmit)=\"enviar()\">     \r\n            \r\n              <div class=\"control is-grouped\">\r\n                <p class=\"control is-expanded  has-icon has-icon-right\">\r\n                  <input class=\"input\" autofocus type=\"text\" [ngClass]=\"{'is-danger': usuario.get('nombre').hasError('required') && usuario.get('nombre').touched}\"  placeholder=\"Nombre\" formControlName=\"nombre\">\r\n                  <span class=\"icon is-small\" *ngIf=\"usuario.get('nombre').hasError('required') && usuario.get('nombre').touched\">\r\n                    <i class=\"fa fa-warning\"></i>\r\n                  </span>\r\n                  <span class=\"help is-danger\" *ngIf=\"usuario.get('nombre').hasError('required') && usuario.get('nombre').touched\">Este campo es requerido.</span>\r\n                </p>\r\n                <p class=\"control is-expanded has-icon has-icon-right\">\r\n                  <input class=\"input\" type=\"text\" placeholder=\"Apellidos\" [ngClass]=\"{'is-danger': usuario.get('apellidos').hasError('required') && usuario.get('apellidos').touched}\" formControlName=\"apellidos\">\r\n                  <span class=\"icon is-small\" *ngIf=\"usuario.get('apellidos').hasError('required') && usuario.get('apellidos').touched\">\r\n                    <i class=\"fa fa-warning\"></i>\r\n                  </span>\r\n                  <span class=\"help is-danger\" *ngIf=\"usuario.get('apellidos').hasError('required') && usuario.get('apellidos').touched\">Este campo es requerido.</span>\r\n                </p>\r\n              </div>\r\n             \r\n              <h2 class=\"subtitle\">Datos de la cuenta</h2>\r\n              <p class=\"control has-icon has-icon-right\">\r\n                <input type=\"text\" class=\"input\" placeholder=\"Usuario\" (ngModelChange)=\"usuarioRepetido = false; usuarioInvalido = false\" [ngClass]=\"{'is-danger': (usuario.get('id').hasError('required') || usuarioRepetido || usuarioInvalido) && usuario.get('id').touched}\" formControlName=\"id\">\r\n                <span class=\"icon is-small\" *ngIf=\"(usuario.get('id').hasError('required') || usuarioRepetido || usuarioInvalido) && usuario.get('id').touched\">\r\n                    <i class=\"fa fa-warning\"></i>\r\n                </span>\r\n                <span class=\"help is-danger\" *ngIf=\"usuario.get('id').hasError('required') && usuario.get('id').touched\">Este campo es requerido.</span>\r\n                <span class=\"help is-danger\" *ngIf=\"usuarioRepetido && usuario.get('id').touched\">Este usuario ya fue utilizado.</span>\r\n                <span class=\"help is-danger\" *ngIf=\"usuarioInvalido && usuario.get('id').touched\">El usuario debe tener un formato de <b>email</b> válido.</span>\r\n              </p>\r\n              <p class=\"control\" *ngIf=\"mostrarCambiarPassword\">\r\n                  <label class=\"checkbox\">\r\n                    <input type=\"checkbox\" formControlName=\"cambiarPassword\" (click)=\"toggleCambiarPassword()\">\r\n                    Cambiar contraseña\r\n                  </label>\r\n                </p>\r\n              <div class=\"control is-grouped\">\r\n                \r\n                <p class=\"control is-expanded has-icon has-icon-right\">\r\n                  <input class=\"input\" type=\"password\" placeholder=\"Contraseña\" [ngClass]=\"{'is-danger': (usuario.get('password').hasError('required') || (usuario.get('password').value != usuario.get('confirmarPassword').value && usuario.get('confirmarPassword').touched)) && usuario.get('password').touched}\" formControlName=\"password\">\r\n                  <span class=\"icon is-small\" *ngIf=\"(usuario.get('password').hasError('required') || (usuario.get('password').value != usuario.get('confirmarPassword').value && usuario.get('confirmarPassword').touched)) && usuario.get('password').touched\">\r\n                    <i class=\"fa fa-warning\"></i>\r\n                  </span>\r\n                  <span class=\"help is-danger\" *ngIf=\"usuario.get('password').hasError('required') && usuario.get('password').touched\">Este campo es requerido.</span>\r\n                  <span class=\"help is-danger\" *ngIf=\"(usuario.get('password').value != usuario.get('confirmarPassword').value && usuario.get('confirmarPassword').touched) && usuario.get('password').touched\">Las contraseñas no coinciden.</span>\r\n                </p>\r\n                <p class=\"control is-expanded has-icon has-icon-right\">\r\n                  <input class=\"input\" type=\"password\" placeholder=\"Confirmar contraseña\" [ngClass]=\"{'is-danger': usuario.get('confirmarPassword').hasError('required') && usuario.get('confirmarPassword').touched}\" formControlName=\"confirmarPassword\">\r\n                  <span class=\"icon is-small\" *ngIf=\"usuario.get('confirmarPassword').hasError('required') && usuario.get('confirmarPassword').touched\">\r\n                    <i class=\"fa fa-warning\"></i>\r\n                  </span>\r\n                  <span class=\"help is-danger\" *ngIf=\"usuario.get('confirmarPassword').hasError('required') && usuario.get('confirmarPassword').touched\">Este campo es requerido.</span>\r\n                </p>\r\n                \r\n              </div>\r\n\r\n              <!--<h2 class=\"subtitle\">Roles</h2>\r\n              <div class=\"control\" [ngClass]=\"{'is-loading': cargandoRoles}\">\r\n \r\n                  <select  name=\"roles\" formControlName=\"roles\" multiple class=\"bulma-select-multiple\" [ngClass]=\"{'is-warning': roles?.length ==0 }\">\r\n                    <option *ngFor=\"let item of roles\" value=\"{{item.id}}\">{{ item.nombre }}</option>\r\n                  </select>\r\n                  <span class=\"help is-danger\" *ngIf=\"usuario.get('roles').hasError('required') && usuario.get('roles').touched\">Debe elegir por lo menos un rol.</span>\r\n                  <span class=\"help \" *ngIf=\"roles?.length == 0\"><b>La lista de roles está vacía.</b> <a (click)=\"cargarRoles()\"><span class=\"icon is-small\"><i class=\"fa fa-refresh\"></i></span> <span>Actualizar</span></a></span>\r\n              </div>\r\n-->\r\n              \r\n              <h2 class=\"subtitle\">Configuración</h2>\r\n              <div class=\"tabs is-centered\">\r\n                <ul>\r\n                  \r\n                  <li [ngClass]=\"{ 'is-active' : tab == 1}\"><a (click)=\"tab=1\">Roles</a></li>\r\n                  <li [ngClass]=\"{ 'is-active' : tab == 2}\"><a (click)=\"tab=2\">Clues / Almacenes</a></li>\r\n                  <li [ngClass]=\"{ 'is-active' : tab == 3}\"><a (click)=\"tab=3\">Avatar</a></li>\r\n                </ul>\r\n              </div>\r\n       \r\n              <div  [ngClass]=\"{ 'is-hidden': tab != 1}\">\r\n                <div class=\"control\" [ngClass]=\"{'is-loading': cargandoRoles}\">\r\n\r\n                  <select  name=\"roles\" formControlName=\"roles\" multiple class=\"bulma-select-multiple\" [ngClass]=\"{'is-warning': roles?.length ==0 }\">\r\n                    <option *ngFor=\"let item of roles\" value=\"{{item.id}}\">{{ item.nombre }}</option>\r\n                  </select>\r\n                  <span class=\"help is-danger\" *ngIf=\"usuario.get('roles').hasError('required') && usuario.get('roles').touched\">Debe elegir por lo menos un rol.</span>\r\n                  <span class=\"help \" *ngIf=\"roles?.length == 0\"><b>La lista de roles está vacía.</b> <a (click)=\"cargarRoles()\"><span class=\"icon is-small\"><i class=\"fa fa-refresh\"></i></span> <span>Actualizar</span></a></span>\r\n                </div>\r\n              </div>\r\n              <div [ngClass]=\"{ 'is-hidden': tab != 2}\">\r\n                <div class=\"control is-grouped\">\r\n                  <p class=\"control is-expanded\">\r\n                    <span class=\"select is-fullwidth\">\r\n                    <select #clues>\r\n                      <option *ngFor=\"let item of unidadesMedicas\" value=\"{{item.clues}}\">{{ item.nombre }} - {{item.clues}}</option>\r\n                    </select>\r\n                    </span>\r\n                  </p>\r\n                  <p class=\"control\">\r\n                    <a class=\"button is-primary\" (click)=\"agregarUnidadMedica(clues.value)\"><span class=\"icon\"><i class=\"fa fa-plus\"></i></span></a>\r\n                  </p>                      \r\n                </div>\r\n                \r\n                <div class=\"columns is-gapless\">\r\n                  <div class=\"column\">\r\n                    <table class=\"table\">\r\n                      <thead>\r\n                        <tr>\r\n                          <td colspan=\"2\">CLUES</td>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        <tr style=\"cursor:pointer;\" *ngFor=\"let item of unidadesMedicasAgregadas; let i = index\" (click)=\"unidadMedicaSeleccionada=item\" [ngClass]=\"{'is-selected':unidadMedicaSeleccionada && unidadMedicaSeleccionada.clues==item.clues }\">\r\n                          <td>{{ item.nombre}}</td>\r\n                          <td style=\"width:1em;\">\r\n                            <a (click)=\"eliminarClues($event,item,index)\"><span class=\"icon is-small\"><i class=\"fa fa-trash\"></i></span> </a>\r\n                          </td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                  <div class=\"column\">\r\n                    <table class=\"table\">\r\n                      <thead>\r\n                        <tr>\r\n                          <td colspan=\"2\">ALMACENES</td>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody *ngIf=\"unidadMedicaSeleccionada\">\r\n                        <tr style=\"cursor:pointer;\"*ngFor=\"let item of unidadMedicaSeleccionada.almacenes; let i = index\" (click)=\"toggleAlmacen(item)\" >\r\n                          \r\n                          <td style=\"width:1em;\">\r\n                            <span class=\"icon\"><i class=\"fa\" [ngClass]=\"{'fa-circle-thin': !item.seleccionado, 'fa-check-circle': item.seleccionado}\" ></i></span>                            \r\n                          </td>\r\n                          <td>{{ item.nombre}}</td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                </div>\r\n                                \r\n              </div>\r\n              <div [ngClass]=\"{ 'is-hidden': tab != 3}\">\r\n                <p class=\"control\">                \r\n                  <label class=\"radio\" [ngClass]=\"{'is-disabled': cargando}\">\r\n                    <input type=\"radio\" name=\"avatar\" formControlName=\"avatar\" value=\"avatar-circled-user-male\" >\r\n                    <figure class=\"image is-64x64\" >\r\n                      <img src=\"assets/avatar-circled-user-male.svg\" alt=\"Avatar hombre\">\r\n                    </figure>\r\n                  </label>\r\n                  <label class=\"radio\" [ngClass]=\"{'is-disabled': cargando}\">\r\n                    <input type=\"radio\" name=\"avatar\" formControlName=\"avatar\" value=\"avatar-circled-user-female\"  >\r\n                    <figure class=\"image is-64x64\">\r\n                      <img src=\"assets/avatar-circled-user-female.svg\" alt=\"Avatar mujer\">\r\n                    </figure>\r\n                  </label>\r\n                  <label class=\"radio\" [ngClass]=\"{'is-disabled': cargando}\">\r\n                    <input type=\"radio\" name=\"avatar\" formControlName=\"avatar\" value=\"avatar-circled-user-male-skin-type-6\" >\r\n                    <figure class=\"image is-64x64\">\r\n                      <img src=\"assets/avatar-circled-user-male-skin-type-6.svg\" alt=\"Avatar hombre piel tipo 6\">\r\n                    </figure>\r\n                  </label>\r\n                  <label class=\"radio\" [ngClass]=\"{'is-disabled': cargando}\">\r\n                    <input type=\"radio\" name=\"avatar\" formControlName=\"avatar\" value=\"avatar-circled-user-female-skin-type-6\" >\r\n                    <figure class=\"image is-64x64\">\r\n                      <img src=\"assets/avatar-circled-user-female-skin-type-6.svg\" alt=\"Avatar mujer piel tipo 6\">\r\n                    </figure>\r\n                  </label>\r\n\r\n                  <label class=\"radio\" [ngClass]=\"{'is-disabled': cargando}\">\r\n                    <input type=\"radio\" name=\"avatar\" formControlName=\"avatar\" value=\"avatar-circled-collaborator-male\" >\r\n                    <figure class=\"image is-64x64\" >\r\n                      <img src=\"assets/avatar-circled-collaborator-male.svg\" alt=\"Avatar hombre\">\r\n                    </figure>\r\n                  </label>\r\n                  \r\n                  <label class=\"radio\" [ngClass]=\"{'is-disabled': cargando}\">\r\n                    <input type=\"radio\" name=\"avatar\" formControlName=\"avatar\" value=\"avatar-nurse\" >\r\n                    <figure class=\"image is-64x64\">\r\n                      <img src=\"assets/avatar-nurse.svg\" alt=\"Avatar enfermera\">\r\n                    </figure>\r\n                  </label>\r\n                  <label class=\"radio\" [ngClass]=\"{'is-disabled': cargando}\">\r\n                    <input type=\"radio\" name=\"avatar\" formControlName=\"avatar\" value=\"avatar-circled-doctor-male\" >\r\n                    <figure class=\"image is-64x64\">\r\n                      <img src=\"assets/avatar-circled-doctor-male.svg\" alt=\"Avatar doctor\">\r\n                    </figure>\r\n                  </label>\r\n\r\n                  <label class=\"radio\" [ngClass]=\"{'is-disabled': cargando}\">\r\n                    <input type=\"radio\" name=\"avatar\" formControlName=\"avatar\" value=\"avatar-circled-doctor-female\" >\r\n                    <figure class=\"image is-64x64\">\r\n                      <img src=\"assets/avatar-circled-doctor-female.svg\" alt=\"Avatar doctora\">\r\n                    </figure>\r\n                  </label>\r\n\r\n                  <label class=\"radio\" [ngClass]=\"{'is-disabled': cargando}\">\r\n                    <input type=\"radio\" name=\"avatar\" formControlName=\"avatar\" value=\"avatar-cat\" >\r\n                    <figure class=\"image is-64x64\">\r\n                      <img src=\"assets/avatar-cat.svg\" alt=\"Avatar de gato\">\r\n                    </figure>\r\n                  </label>\r\n\r\n                  \r\n                </p>\r\n              </div>\r\n              \r\n              <br><br>\r\n              <div class=\"control is-grouped\">\r\n                <p class=\"control\">\r\n                  <button class=\"button is-primary\" type=\"submit\" [ngClass]=\"{'is-loading': cargando}\" [disabled]=\"usuario.invalid\" >Guardar</button>\r\n                </p>\r\n                <p class=\"control\">\r\n                  <button class=\"button is-danger\" type=\"button\" [ngClass]=\"{'is-loading': cargando}\" [disabled]=\"usuario.invalid\" >Eliminar usuario</button>\r\n                </p>\r\n                <p class=\"control\">\r\n                  <a class=\"button is-white\" (click)=\"regresar()\" >Regresar</a>\r\n                </p>\r\n              </div>\r\n          </form>"

/***/ }),

/***/ "../../../../../src/app/panel-control/usuarios/form/form.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return FormComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var FormComponent = (function () {
    function FormComponent() {
        this.onEnviar = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onRegresar = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onToggleCambiarPassword = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        this.onCargarRoles = new __WEBPACK_IMPORTED_MODULE_0__angular_core__["EventEmitter"]();
        // # Esto es solo para listar las unidades medicas que ya estan relacionadas
        // al usuario, en el modulo de edicion
        this.unidadesMedicasEdicion = null;
        this.tab = 1;
        this.unidadesMedicasAgregadas = [];
        this.cluesAgregadas = [];
        this.unidadMedicaSeleccionada = null;
        this.idsAlmacenesSeleccionados = [];
    }
    FormComponent.prototype.ngOnInit = function () {
        var ums = this.usuario.get('unidades_medicas');
        var almacenes = this.usuario.get('almacenes');
        this.cluesAgregadas = ums.value;
        this.idsAlmacenesSeleccionados = almacenes.value;
        if (this.unidadesMedicasEdicion != null) {
            this.unidadesMedicasAgregadas = this.unidadesMedicasEdicion;
            for (var i in this.unidadesMedicasAgregadas) {
                for (var j in this.unidadesMedicasAgregadas[i].almacenes) {
                    for (var z in this.idsAlmacenesSeleccionados) {
                        if (this.idsAlmacenesSeleccionados[z] == this.unidadesMedicasAgregadas[i].almacenes[j].id) {
                            this.unidadesMedicasAgregadas[i].almacenes[j].seleccionado = true;
                            break;
                        }
                    }
                }
            }
        }
    };
    FormComponent.prototype.enviar = function () {
        this.onEnviar.emit();
    };
    FormComponent.prototype.cargarRoles = function () {
        this.onCargarRoles.emit();
    };
    FormComponent.prototype.regresar = function () {
        this.onRegresar.emit();
    };
    FormComponent.prototype.toggleCambiarPassword = function () {
        this.onToggleCambiarPassword.emit();
    };
    FormComponent.prototype.agregarUnidadMedica = function (clues) {
        for (var i in this.unidadesMedicas) {
            if (this.unidadesMedicas[i].clues == clues) {
                this.unidadesMedicasAgregadas.push(this.unidadesMedicas[i]);
                this.cluesAgregadas.push(clues);
                this.usuario.controls['unidades_medicas'].setValue(this.cluesAgregadas);
            }
        }
    };
    FormComponent.prototype.eliminarClues = function (event, item, index) {
        event.preventDefault();
        event.stopPropagation();
    };
    FormComponent.prototype.toggleAlmacen = function (item) {
        var bandera = false;
        for (var i = 0; i < this.idsAlmacenesSeleccionados.length; i++) {
            if (this.idsAlmacenesSeleccionados[i] == item.id) {
                this.idsAlmacenesSeleccionados.splice(i, 1);
                item.seleccionado = false;
                bandera = true;
                break;
            }
        }
        if (!bandera) {
            this.idsAlmacenesSeleccionados.push(item.id);
            item.seleccionado = true;
        }
        this.usuario.controls['almacenes'].setValue(this.idsAlmacenesSeleccionados);
    };
    return FormComponent;
}());
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Array)
], FormComponent.prototype, "roles", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Array)
], FormComponent.prototype, "unidadesMedicas", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_forms__["FormGroup"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_forms__["FormGroup"]) === "function" && _a || Object)
], FormComponent.prototype, "usuario", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Boolean)
], FormComponent.prototype, "usuarioRepetido", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Boolean)
], FormComponent.prototype, "usuarioInvalido", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Boolean)
], FormComponent.prototype, "cargando", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Boolean)
], FormComponent.prototype, "cargandoRoles", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Boolean)
], FormComponent.prototype, "mostrarCambiarPassword", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
    __metadata("design:type", Object)
], FormComponent.prototype, "onEnviar", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
    __metadata("design:type", Object)
], FormComponent.prototype, "onRegresar", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
    __metadata("design:type", Object)
], FormComponent.prototype, "onToggleCambiarPassword", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Output"])(),
    __metadata("design:type", Object)
], FormComponent.prototype, "onCargarRoles", void 0);
__decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Input"])(),
    __metadata("design:type", Object)
], FormComponent.prototype, "unidadesMedicasEdicion", void 0);
FormComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'panel-control-usuarios-form',
        template: __webpack_require__("../../../../../src/app/panel-control/usuarios/form/form.component.html"),
        styles: [__webpack_require__("../../../../../src/app/panel-control/usuarios/form/form.component.css")]
    }),
    __metadata("design:paramtypes", [])
], FormComponent);

var _a;
//# sourceMappingURL=C:/wamp/www/x3-C/src/form.component.js.map

/***/ }),

/***/ "../../../../../src/app/panel-control/usuarios/lista/lista.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/panel-control/usuarios/lista/lista.component.html":
/***/ (function(module, exports) {

module.exports = "<panel-control-menu></panel-control-menu>\r\n<div style=\"height:50px;\"></div>\r\n<div class=\"contenedor columns \" style=\"height:100%; \">\r\n    <div class=\"column is-one-quarter is-hidden-mobile\">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class=\"column\" style=\"padding:2em;\">\r\n        <div style=\"background: #FFF; border-radius: 1em; overflow: hidden;\">\r\n            <section class=\"hero\" [ngClass] = \" {'is-dark': busquedaActivada, 'is-primary': !busquedaActivada } \" >\r\n                \r\n                <div class=\"hero-body\" style=\"position:relative;\">\r\n                    <a class=\"button  is-dark\" *ngIf=\"busquedaActivada\" style=\"position:absolute; top:1em; right:1em;\" (click)=\"busquedaActivada=false;searchBox.value='';resultadosBusqueda=[]\"><span class=\"icon \"><i class=\"fa fa-close\"></i></span></a>\r\n                    <a class=\"button  is-dark\" *ngIf=\"busquedaActivada\" style=\"position:absolute; top:1em; right:3.5em;\" (click)=\"listarBusqueda(searchBox.value,1)\"><span class=\"icon \"><i class=\"fa fa-refresh\"></i></span></a>\r\n                    <a class=\"button  is-primary\" *ngIf=\"!busquedaActivada\" style=\"position:absolute; top:1em; right:1em;\" (click)=\"listar(1)\"><span class=\"icon \"><i class=\"fa fa-refresh\"></i></span></a>\r\n                    <div class=\"container is-fluid\">\r\n                        \r\n                        <h1 class=\"title\" *ngIf=\"!busquedaActivada\">\r\n                            <span class=\"icon is-medium\"><i class=\"fa fa-user\"></i></span> Usuarios\r\n                        </h1>\r\n                        <h1 class=\"title\" *ngIf=\"busquedaActivada\">\r\n                            <span class=\"icon is-medium\"><i class=\"fa fa-search\"></i></span> Búsqueda \r\n                        </h1>\r\n                        <div class=\"control is-grouped\">\r\n                        <p class=\"control is-expanded\">\r\n                            <input class=\"input is-medium\" type=\"text\" placeholder=\"Buscar\" #searchBox id=\"search-box\" (keyup)=\"buscar(searchBox.value)\">\r\n                        </p>\r\n                        <p class=\"control\">\r\n                            <a class=\"button is-medium is-primary is-inverted \" routerLink=\"/panel-control/usuarios/nuevo\">\r\n                            <span class=\"icon\"><i class=\"fa fa-plus\"></i></span><span>Nuevo</span>\r\n                            </a>\r\n                        </p>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <div class=\"is-fullwidth has-text-centered\" *ngIf=\"cargando\">\r\n                <br>\r\n                <span class=\"tag is-primary is-large \"><span class=\"icon\"><i class=\"fa fa-refresh fa-spin\"></i></span> &nbsp;<span>Cargando...</span></span>\r\n                <br>\r\n                <br>\r\n            </div>\r\n        \r\n            <table class=\"table\" *ngIf=\"!cargando\">\r\n                <thead>\r\n                    <tr>\r\n                    <th></th>\r\n                    <th><abbr title=\"Usuario ID\">ID</abbr></th>\r\n                    <th>Nombre</th>\r\n                    <th>Servidor</th>\r\n                    <th style=\"text-align:center;\">Opciones</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody  *ngIf=\"!busquedaActivada\">\r\n                    <tr *ngFor=\"let item of usuarios; let i=index\">\r\n                        <th><a routerLink=\"/panel-control/usuarios/editar/{{item.id}}\"><img style=\"min-width: 1.5em; width:2em;\" src=\"assets/{{ item.avatar || 'avatar-unknow' }}.svg\" alt=\"avatar\"></a></th>\r\n                        <th style=\"vertical-align: middle;\"><a routerLink=\"/panel-control/usuarios/editar/{{item.id}}\">{{ item.id }}</a></th>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/panel-control/usuarios/editar/{{item.id}}\">{{ item.nombre }} {{ item.apellidos }}</a></td>\r\n                        <td style=\"vertical-align: middle;\"><a routerLink=\"/panel-control/usuarios/editar/{{item.id}}\">{{ item.servidor_id }}</a></td>\r\n                        <td style=\"vertical-align: middle;\" class=\"has-text-centered\"><span class=\"icon \" *ngIf=\"item.cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span><a *ngIf=\"!item.cargando\" class=\"is-danger\" (click)=\"eliminar(item, i)\"><span class=\"icon\"><i class=\"fa fa-trash-o\"></i></span></a></td>\r\n                        \r\n                    </tr>\r\n                    <tr *ngIf=\"usuarios.length == 0\">\r\n                        <td colspan=\"5\" style=\"vertical-align: middle; color:#888;\">Esta lista está vacía.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n                <tbody *ngIf=\"busquedaActivada\">\r\n                    <tr *ngFor=\"let item of resultadosBusqueda; let i=index\">\r\n                    <th><a routerLink=\"/panel-control/usuarios/editar/{{item.id}}\"><img style=\"min-width: 1.5em; width:2em;\" src=\"assets/{{ item.avatar || 'avatar-unknow' }}.svg\" alt=\"avatar\"></a></th>\r\n                    <th style=\"vertical-align: middle;\"><a routerLink=\"/panel-control/usuarios/editar/{{item.id}}\">{{ item.id }}</a></th>\r\n                    <td style=\"vertical-align: middle;\"><a routerLink=\"/panel-control/usuarios/editar/{{item.id}}\">{{ item.nombre }} {{ item.apellidos }}</a></td>\r\n                    <td style=\"vertical-align: middle;\"><a routerLink=\"/panel-control/usuarios/editar/{{item.id}}\">{{ item.servidor_id }}</a></td>\r\n                    <td style=\"vertical-align: middle;\" class=\"has-text-centered\"><span class=\"icon \" *ngIf=\"item.cargando\"><i class=\"fa fa-circle-o-notch fa-spin\"></i></span><a *ngIf=\"!item.cargando\" class=\"is-danger\" (click)=\"eliminar(item, i)\"><span class=\"icon\"><i class=\"fa fa-trash-o\"></i></span></a></td>\r\n                    \r\n                    </tr>\r\n\r\n                    <tr *ngIf=\"resultadosBusqueda.length == 0 && busquedaActivada\">\r\n                        <td colspan=\"5\" style=\"vertical-align: middle; color:#888;\">No se encontraron resultados.</td>                    \r\n                    </tr>\r\n                </tbody>\r\n            </table>\r\n            <!-- Paginación para la lista  -->\r\n            <paginacion \r\n                [total]=\"total\" \r\n                [paginasTotales]=\"paginasTotales\" \r\n                [resultadosPorPagina]=\"resultadosPorPagina\" \r\n                [paginaActual]=\"paginaActual\" \r\n                [indicePaginas]=\"indicePaginas\"\r\n                (onSiguiente)=\"paginaSiguiente()\" \r\n                (onAnterior)=\"paginaAnterior()\" \r\n                (onListar)=\"listar($event)\" \r\n                *ngIf=\"total>0 && total > resultadosPorPagina && !busquedaActivada\"></paginacion>\r\n            <!-- Paginación para la búsqueda  -->\r\n            <paginacion \r\n                [total]=\"totalBusqueda\" \r\n                [paginasTotales]=\"paginasTotalesBusqueda\" \r\n                [resultadosPorPagina]=\"resultadosPorPaginaBusqueda\" \r\n                [paginaActual]=\"paginaActualBusqueda\" \r\n                [indicePaginas]=\"indicePaginasBusqueda\"\r\n                (onSiguiente)=\"paginaSiguienteBusqueda(searchBox.value)\" \r\n                (onAnterior)=\"paginaAnteriorBusqueda(searchBox.value)\" \r\n                (onListar)=\"listarBusqueda(searchBox.value,$event)\" \r\n                *ngIf=\"totalBusqueda > 0 && totalBusqueda > resultadosPorPaginaBusqueda && busquedaActivada\"></paginacion>\r\n           \r\n           \r\n            \r\n        </div>\r\n        \r\n    </div>\r\n</div>\r\n\r\n<div class=\"notification is-danger\" style=\"position:fixed; left:1em;  bottom:1em;\" *ngIf=\"mensajeError.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeError.mostrar = false\"></button>        \r\n    <b>Error:</b> {{ mensajeError.texto }}<br><br>\r\n    <p style=\"text-align:center\" ><a  class=\"button is-danger is-inverted\" (click)=\"ultimaPeticion(); mensajeError.mostrar = false\"> <span class=\"icon\"><i class=\"fa fa-refresh\"></i></span> <span>Volver a intentar</span></a></p>        \r\n</div>\r\n\r\n<div class=\"notification is-success\" style=\"position:fixed; left:1em;  bottom:1em; width: auto\" *ngIf=\"mensajeExito.mostrar\">       \r\n    <button class=\"delete\" (click)=\"mensajeExito.mostrar = false\"></button>\r\n    <p><span class=\"icon\" style=\"margin-right: 0.5em;\"><i class=\"fa fa-check-circle\"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style=\"text-align: center;\"><small >Este mensaje desaparecerá en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n"

/***/ }),

/***/ "../../../../../src/app/panel-control/usuarios/lista/lista.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__ = __webpack_require__("../../../../rxjs/Observable.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__ = __webpack_require__("../../../../rxjs/Subject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_observable_of__ = __webpack_require__("../../../../rxjs/add/observable/of.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4_rxjs_add_observable_of___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4_rxjs_add_observable_of__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw__ = __webpack_require__("../../../../rxjs/add/observable/throw.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_rxjs_add_observable_throw__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_debounceTime__ = __webpack_require__("../../../../rxjs/add/operator/debounceTime.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_debounceTime___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_rxjs_add_operator_debounceTime__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_distinctUntilChanged__ = __webpack_require__("../../../../rxjs/add/operator/distinctUntilChanged.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_distinctUntilChanged___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_rxjs_add_operator_distinctUntilChanged__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_map__ = __webpack_require__("../../../../rxjs/add/operator/map.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_map___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_8_rxjs_add_operator_map__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_switchMap__ = __webpack_require__("../../../../rxjs/add/operator/switchMap.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_switchMap___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_9_rxjs_add_operator_switchMap__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_catch__ = __webpack_require__("../../../../rxjs/add/operator/catch.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_catch___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_10_rxjs_add_operator_catch__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__usuarios_service__ = __webpack_require__("../../../../../src/app/panel-control/usuarios/usuarios.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__mensaje__ = __webpack_require__("../../../../../src/app/mensaje.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return ListaComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};













var ListaComponent = (function () {
    // # FIN SECCION
    function ListaComponent(title, usuariosService) {
        this.title = title;
        this.usuariosService = usuariosService;
        this.cargando = false;
        // # SECCION: Esta sección es para mostrar mensajes
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_12__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_12__mensaje__["a" /* Mensaje */]();
        // # FIN SECCION
        // # SECCION: Lista de usuarios
        this.usuarios = [];
        this.paginaActual = 1;
        this.resultadosPorPagina = 25;
        this.total = 0;
        this.paginasTotales = 0;
        this.indicePaginas = [];
        // # FIN SECCION
        // # SECCION: Resultados de búsqueda
        this.ultimoTerminoBuscado = "";
        this.terminosBusqueda = new __WEBPACK_IMPORTED_MODULE_3_rxjs_Subject__["Subject"]();
        this.resultadosBusqueda = [];
        this.busquedaActivada = false;
        this.paginaActualBusqueda = 1;
        this.resultadosPorPaginaBusqueda = 25;
        this.totalBusqueda = 0;
        this.paginasTotalesBusqueda = 0;
        this.indicePaginasBusqueda = [];
    }
    ListaComponent.prototype.ngOnInit = function () {
        var _this = this;
        this.title.setTitle("Usuarios / Panel de control");
        this.listar(1);
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_12__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_12__mensaje__["a" /* Mensaje */]();
        var self = this;
        var busquedaSubject = this.terminosBusqueda
            .debounceTime(300) // Esperamos 300 ms pausando eventos
            .distinctUntilChanged() // Ignorar si la busqueda es la misma que la ultima
            .switchMap(function (term) {
            console.log("Cargando búsqueda.");
            _this.busquedaActivada = term != "" ? true : false;
            _this.ultimoTerminoBuscado = term;
            _this.paginaActualBusqueda = 1;
            _this.cargando = true;
            return term ? _this.usuariosService.buscar(term, _this.paginaActualBusqueda, _this.resultadosPorPaginaBusqueda) : __WEBPACK_IMPORTED_MODULE_2_rxjs_Observable__["Observable"].of({ data: [] });
        }).catch(function handleError(error) {
            self.cargando = false;
            self.mensajeError.mostrar = true;
            self.ultimaPeticion = function () { self.listarBusqueda(self.ultimoTerminoBuscado, self.paginaActualBusqueda); }; //OJO
            try {
                var e = error.json();
                if (error.status == 401) {
                    self.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    self.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    self.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
            // Devolvemos el subject porque si no se detiene el funcionamiento del stream 
            return busquedaSubject;
        });
        busquedaSubject.subscribe(function (resultado) {
            _this.cargando = false;
            _this.resultadosBusqueda = resultado.data;
            _this.totalBusqueda = resultado.total | 0;
            _this.paginasTotalesBusqueda = Math.ceil(_this.totalBusqueda / _this.resultadosPorPaginaBusqueda);
            _this.indicePaginasBusqueda = [];
            for (var i = 0; i < _this.paginasTotalesBusqueda; i++) {
                _this.indicePaginasBusqueda.push(i + 1);
            }
            console.log("Búsqueda cargada.");
        });
    };
    ListaComponent.prototype.buscar = function (term) {
        this.terminosBusqueda.next(term);
    };
    ListaComponent.prototype.listarBusqueda = function (term, pagina) {
        var _this = this;
        this.paginaActualBusqueda = pagina;
        console.log("Cargando búsqueda.");
        this.cargando = true;
        this.usuariosService.buscar(term, pagina, this.resultadosPorPaginaBusqueda).subscribe(function (resultado) {
            _this.cargando = false;
            _this.resultadosBusqueda = resultado.data;
            _this.totalBusqueda = resultado.total | 0;
            _this.paginasTotalesBusqueda = Math.ceil(_this.totalBusqueda / _this.resultadosPorPaginaBusqueda);
            _this.indicePaginasBusqueda = [];
            for (var i = 0; i < _this.paginasTotalesBusqueda; i++) {
                _this.indicePaginasBusqueda.push(i + 1);
            }
            console.log("Búsqueda cargada.");
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError.mostrar = true;
            _this.ultimaPeticion = function () { this.listarBusqueda(term, pagina); };
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    ListaComponent.prototype.listar = function (pagina) {
        var _this = this;
        this.paginaActual = pagina;
        console.log("Cargando usuarios.");
        this.cargando = true;
        this.usuariosService.lista(pagina, this.resultadosPorPagina).subscribe(function (resultado) {
            _this.cargando = false;
            _this.usuarios = resultado.data;
            _this.total = resultado.total | 0;
            _this.paginasTotales = Math.ceil(_this.total / _this.resultadosPorPagina);
            _this.indicePaginas = [];
            for (var i = 0; i < _this.paginasTotales; i++) {
                _this.indicePaginas.push(i + 1);
            }
            console.log("Usuarios cargados.");
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError.mostrar = true;
            _this.ultimaPeticion = _this.listar;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    ListaComponent.prototype.eliminar = function (usuario, index) {
        var _this = this;
        usuario.cargando = true;
        this.usuariosService.eliminar(usuario.id).subscribe(function (data) {
            usuario.cargando = false;
            _this.usuarios.splice(index, 1);
            console.log("Se eliminó el elemento de la lista.");
            _this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_12__mensaje__["a" /* Mensaje */](true);
            _this.mensajeExito.mostrar = true;
            _this.mensajeExito.texto = "Usuario eliminado";
        }, function (error) {
            usuario.cargando = false;
            _this.mensajeError.mostrar = true;
            _this.ultimaPeticion = function () {
                this.eliminar(usuario, index);
            };
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
            }
            catch (e) {
                console.log("No se puede interpretar el error");
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    // # SECCION: Paginación
    ListaComponent.prototype.paginaSiguiente = function () {
        this.listar(this.paginaActual + 1);
    };
    ListaComponent.prototype.paginaAnterior = function () {
        this.listar(this.paginaActual - 1);
    };
    ListaComponent.prototype.paginaSiguienteBusqueda = function (term) {
        this.listarBusqueda(term, this.paginaActualBusqueda + 1);
    };
    ListaComponent.prototype.paginaAnteriorBusqueda = function (term) {
        this.listarBusqueda(term, this.paginaActualBusqueda - 1);
    };
    return ListaComponent;
}());
ListaComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'usuarios-lista',
        template: __webpack_require__("../../../../../src/app/panel-control/usuarios/lista/lista.component.html"),
        styles: [__webpack_require__("../../../../../src/app/panel-control/usuarios/lista/lista.component.css")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_platform_browser__["b" /* Title */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_11__usuarios_service__["a" /* UsuariosService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_11__usuarios_service__["a" /* UsuariosService */]) === "function" && _b || Object])
], ListaComponent);

var _a, _b;
//# sourceMappingURL=C:/wamp/www/x3-C/src/lista.component.js.map

/***/ }),

/***/ "../../../../../src/app/panel-control/usuarios/nuevo/nuevo.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/panel-control/usuarios/nuevo/nuevo.component.html":
/***/ (function(module, exports) {

module.exports = "<panel-control-menu></panel-control-menu>\r\n<div style=\"height:50px;\"></div>\r\n<div class=\"contenedor columns \" style=\"height:100%\">\r\n    <div class=\"column is-one-quarter is-hidden-mobile\">\r\n        <panel-control-menu-aside></panel-control-menu-aside>\r\n    </div>\r\n    <div class=\"column\" style=\"padding:2em;\">\r\n        <div style=\"background: #FFF; border-radius: 1em; overflow: hidden;\">\r\n            <section class=\"hero is-primary\">\r\n                <div class=\"hero-body\">\r\n                    <div class=\"container is-fluid\">\r\n                        <h1 class=\"title\">\r\n                            <span  *ngIf=\"!cargando\" class=\"icon is-medium\"><i class=\"fa fa-plus\"></i></span>\r\n                            <span  *ngIf=\"cargando\" class=\"icon is-medium\"><i class=\"fa fa-refresh fa-spin\"></i></span> \r\n                            Nuevo usuario\r\n                        </h1>\r\n                        \r\n                    </div>\r\n                </div>\r\n            </section>\r\n            <section class=\"section\">\r\n            <panel-control-usuarios-form \r\n                [usuario]=\"usuario\" \r\n                [roles]=\"roles\" \r\n                [unidadesMedicas]=\"unidadesMedicas\" \r\n                [usuarioRepetido]=\"usuarioRepetido\"\r\n                [usuarioInvalido]=\"usuarioInvalido\"\r\n                [cargando]=\"cargando\"\r\n                [cargandoRoles]=\"cargandoRoles\"\r\n                (onEnviar)=\"enviar()\"\r\n                (onRegresar)=\"regresar()\"\r\n                (onCargarRoles)=\"cargarRoles()\"\r\n            ></panel-control-usuarios-form>\r\n            </section>\r\n        </div>\r\n        \r\n       \r\n       \r\n    </div>\r\n</div>\r\n\r\n\r\n<div class=\"notification is-danger\" style=\"position:fixed; left:1em;  bottom:1em;\" *ngIf=\"mensajeError.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeError.mostrar = false\"></button>        \r\n    <p><b>Error:</b> {{ mensajeError.texto }}<br></p>\r\n    <p style=\"text-align: center;\"><small >Este mensaje desaparecerá en {{ mensajeError.cuentaAtras }} segundos.</small></p>      \r\n</div>\r\n\r\n<div class=\"notification is-warning\" style=\"position:fixed; left:1em;  bottom:1em;\" *ngIf=\"mensajeAdvertencia.mostrar\">\r\n    <button class=\"delete\" (click)=\"mensajeAdvertencia.mostrar = false\"></button>        \r\n    <p><span class=\"icon\" style=\"margin-right: 0.5em;\"><i class=\"fa fa-warning\"></i></span> <span>{{ mensajeAdvertencia.texto }}</span></p>\r\n    \r\n    <br>\r\n    <p style=\"text-align: center;\"><small >Este mensaje desaparecerá en {{ mensajeAdvertencia.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n<div class=\"notification is-success\" style=\"position:fixed; left:1em;  bottom:1em; width: auto\" *ngIf=\"mensajeExito.mostrar\">       \r\n    <button class=\"delete\" (click)=\"mensajeExito.mostrar = false\"></button>\r\n    <p><span class=\"icon\" style=\"margin-right: 0.5em;\"><i class=\"fa fa-check-circle\"></i></span> <span>{{ mensajeExito.texto }}</span></p>\r\n    <br>\r\n    <p style=\"text-align: center;\"><small >Este mensaje desaparecerá en {{ mensajeExito.cuentaAtras }} segundos.</small></p>       \r\n</div>\r\n\r\n\r\n\r\n"

/***/ }),

/***/ "../../../../../src/app/panel-control/usuarios/nuevo/nuevo.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__angular_platform_browser__ = __webpack_require__("../../../platform-browser/@angular/platform-browser.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__auth_service__ = __webpack_require__("../../../../../src/app/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__roles_roles_service__ = __webpack_require__("../../../../../src/app/panel-control/roles/roles.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__usuarios_service__ = __webpack_require__("../../../../../src/app/panel-control/usuarios/usuarios.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__mensaje__ = __webpack_require__("../../../../../src/app/mensaje.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return NuevoComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};









var NuevoComponent = (function () {
    // # FIN SECCION
    function NuevoComponent(router, title, authService, location, rolesService, usuariosService, fb) {
        this.router = router;
        this.title = title;
        this.authService = authService;
        this.location = location;
        this.rolesService = rolesService;
        this.usuariosService = usuariosService;
        this.fb = fb;
        this.usuarioRepetido = false;
        this.usuarioInvalido = false;
        this.cargando = false;
        this.cargandoRoles = false;
        this.cargandoUnidadesMedicas = false;
        this.roles = [];
        this.unidadesMedicas = [];
        // # SECCION: Esta sección es para mostrar mensajes
        this.mensajeError = new __WEBPACK_IMPORTED_MODULE_8__mensaje__["a" /* Mensaje */]();
        this.mensajeAdvertencia = new __WEBPACK_IMPORTED_MODULE_8__mensaje__["a" /* Mensaje */]();
        this.mensajeExito = new __WEBPACK_IMPORTED_MODULE_8__mensaje__["a" /* Mensaje */]();
    }
    NuevoComponent.prototype.ngOnInit = function () {
        this.title.setTitle("Nuevo usuario / Panel de control");
        this.cargarRoles();
        this.cargarUnidadesMedicas();
        this.usuario = this.fb.group({
            nombre: ['', [__WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required]],
            apellidos: ['', [__WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required]],
            id: ['', [__WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required]],
            password: ['', [__WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required]],
            confirmarPassword: ['', [__WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required]],
            avatar: ['avatar-circled-user-male'],
            roles: [[], [__WEBPACK_IMPORTED_MODULE_2__angular_forms__["Validators"].required]],
            unidades_medicas: [[]],
            almacenes: [[]]
        });
    };
    NuevoComponent.prototype.enviar = function () {
        var _this = this;
        if (this.usuario.get('password').value != this.usuario.get('confirmarPassword').value) {
            return false;
        }
        this.cargando = true;
        this.usuariosService.crear(this.usuario.value).subscribe(function (usuario) {
            _this.cargando = false;
            console.log("Usuario creado.");
            _this.location.back();
        }, function (error) {
            _this.cargando = false;
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_8__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError.texto = "No especificado.";
            _this.mensajeError.mostrar = true;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para hacer esta operación.";
                }
                // Problema de validación
                if (error.status == 409) {
                    _this.mensajeError.texto = "Por favor verfique los campos marcados en rojo.";
                    _this.usuarioRepetido = false;
                    _this.usuarioInvalido = false;
                    for (var input in e.error) {
                        // Iteramos todos los errores
                        for (var i in e.error[input]) {
                            if (input == 'id' && e.error[input][i] == 'unique') {
                                _this.usuarioRepetido = true;
                            }
                            if (input == 'id' && e.error[input][i] == 'email') {
                                _this.usuarioInvalido = true;
                            }
                        }
                    }
                }
            }
            catch (e) {
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor)";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.";
                }
            }
        });
    };
    NuevoComponent.prototype.cargarUnidadesMedicas = function () {
        var _this = this;
        this.cargandoUnidadesMedicas = true;
        this.usuariosService.listaUnidadesMedicas().subscribe(function (clues) {
            _this.unidadesMedicas = clues;
            _this.cargandoUnidadesMedicas = false;
            console.log("Unidades Médicas cargadas");
        }, function (error) {
            _this.cargandoUnidadesMedicas = false;
        });
    };
    NuevoComponent.prototype.cargarRoles = function () {
        var _this = this;
        this.cargandoRoles = true;
        this.rolesService.lista().subscribe(function (roles) {
            _this.cargandoRoles = false;
            _this.roles = roles;
            console.log("Roles cargados.");
            if (_this.roles.length == 0) {
                _this.mensajeAdvertencia = new __WEBPACK_IMPORTED_MODULE_8__mensaje__["a" /* Mensaje */](true);
                _this.mensajeAdvertencia.texto = "\n            No hay roles registrados en el sistema, p\u00F3ngase en contacto con un administrador.";
                _this.mensajeAdvertencia.mostrar = true;
            }
        }, function (error) {
            _this.cargandoRoles = false;
            _this.mensajeError = new __WEBPACK_IMPORTED_MODULE_8__mensaje__["a" /* Mensaje */](true);
            _this.mensajeError.texto = "No especificado.";
            _this.mensajeError.mostrar = true;
            try {
                var e = error.json();
                if (error.status == 401) {
                    _this.mensajeError.texto = "No tiene permiso para ver los roles.";
                }
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor). No se pudieron cargar los roles";
                }
            }
            catch (e) {
                if (error.status == 500) {
                    _this.mensajeError.texto = "500 (Error interno del servidor). No se pudieron cargar los roles";
                }
                else {
                    _this.mensajeError.texto = "No se puede interpretar el error. Por favor contacte con soporte técnico si esto vuelve a ocurrir.  No se pudieron cargar los roles";
                }
            }
        });
    };
    NuevoComponent.prototype.regresar = function () {
        this.location.back();
    };
    return NuevoComponent;
}());
NuevoComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-nuevo',
        template: __webpack_require__("../../../../../src/app/panel-control/usuarios/nuevo/nuevo.component.html"),
        styles: [__webpack_require__("../../../../../src/app/panel-control/usuarios/nuevo/nuevo.component.css")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_4__angular_router__["a" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__angular_router__["a" /* Router */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_3__angular_platform_browser__["b" /* Title */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__angular_platform_browser__["b" /* Title */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_5__auth_service__["a" /* AuthService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_5__auth_service__["a" /* AuthService */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_1__angular_common__["Location"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_common__["Location"]) === "function" && _d || Object, typeof (_e = typeof __WEBPACK_IMPORTED_MODULE_6__roles_roles_service__["a" /* RolesService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_6__roles_roles_service__["a" /* RolesService */]) === "function" && _e || Object, typeof (_f = typeof __WEBPACK_IMPORTED_MODULE_7__usuarios_service__["a" /* UsuariosService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_7__usuarios_service__["a" /* UsuariosService */]) === "function" && _f || Object, typeof (_g = typeof __WEBPACK_IMPORTED_MODULE_2__angular_forms__["FormBuilder"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__angular_forms__["FormBuilder"]) === "function" && _g || Object])
], NuevoComponent);

var _a, _b, _c, _d, _e, _f, _g;
//# sourceMappingURL=C:/wamp/www/x3-C/src/nuevo.component.js.map

/***/ }),

/***/ "../../../../../src/app/panel-control/usuarios/usuarios-routing.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__lista_lista_component__ = __webpack_require__("../../../../../src/app/panel-control/usuarios/lista/lista.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__nuevo_nuevo_component__ = __webpack_require__("../../../../../src/app/panel-control/usuarios/nuevo/nuevo.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__editar_editar_component__ = __webpack_require__("../../../../../src/app/panel-control/usuarios/editar/editar.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__auth_guard_service__ = __webpack_require__("../../../../../src/app/auth-guard.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__permisos_guard__ = __webpack_require__("../../../../../src/app/permisos.guard.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UsuariosRoutingModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};







var routes = [
    {
        path: 'panel-control/usuarios',
        children: [
            { path: '', component: __WEBPACK_IMPORTED_MODULE_2__lista_lista_component__["a" /* ListaComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_6__permisos_guard__["a" /* PermisosGuard */]], data: { key: 'mGKikN0aJaeF2XrHwwYK3XNw0f9CSZDe' } },
            { path: 'nuevo', component: __WEBPACK_IMPORTED_MODULE_3__nuevo_nuevo_component__["a" /* NuevoComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_6__permisos_guard__["a" /* PermisosGuard */]], data: { key: 'xJqy3csU5WyOX7pmXL7VBs680uTVGxU3' } },
            { path: 'editar/:id', component: __WEBPACK_IMPORTED_MODULE_4__editar_editar_component__["a" /* EditarComponent */], canActivate: [__WEBPACK_IMPORTED_MODULE_6__permisos_guard__["a" /* PermisosGuard */]], data: { key: 'dlV1H4gX0nqEgHauHC8BRIlwl6SGUoUt' } },
        ],
        canActivate: [__WEBPACK_IMPORTED_MODULE_5__auth_guard_service__["a" /* AuthGuard */]]
    }
];
var UsuariosRoutingModule = (function () {
    function UsuariosRoutingModule() {
    }
    return UsuariosRoutingModule;
}());
UsuariosRoutingModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */].forChild(routes)],
        exports: [__WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */]],
        providers: []
    })
], UsuariosRoutingModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/usuarios-routing.module.js.map

/***/ }),

/***/ "../../../../../src/app/panel-control/usuarios/usuarios.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_forms__ = __webpack_require__("../../../forms/@angular/forms.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__menu_menu_module__ = __webpack_require__("../../../../../src/app/panel-control/menu/menu.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__usuarios_routing_module__ = __webpack_require__("../../../../../src/app/panel-control/usuarios/usuarios-routing.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5__paginacion_paginacion_module__ = __webpack_require__("../../../../../src/app/paginacion/paginacion.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__lista_lista_component__ = __webpack_require__("../../../../../src/app/panel-control/usuarios/lista/lista.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7__nuevo_nuevo_component__ = __webpack_require__("../../../../../src/app/panel-control/usuarios/nuevo/nuevo.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__editar_editar_component__ = __webpack_require__("../../../../../src/app/panel-control/usuarios/editar/editar.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_9__auth_service__ = __webpack_require__("../../../../../src/app/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_10__usuarios_service__ = __webpack_require__("../../../../../src/app/panel-control/usuarios/usuarios.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_11__roles_roles_service__ = __webpack_require__("../../../../../src/app/panel-control/roles/roles.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_12__form_form_component__ = __webpack_require__("../../../../../src/app/panel-control/usuarios/form/form.component.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UsuariosModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};













var UsuariosModule = (function () {
    function UsuariosModule() {
    }
    return UsuariosModule;
}());
UsuariosModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [
            __WEBPACK_IMPORTED_MODULE_1__angular_common__["CommonModule"],
            __WEBPACK_IMPORTED_MODULE_2__angular_forms__["FormsModule"],
            __WEBPACK_IMPORTED_MODULE_2__angular_forms__["ReactiveFormsModule"],
            __WEBPACK_IMPORTED_MODULE_3__menu_menu_module__["a" /* MenuModule */],
            __WEBPACK_IMPORTED_MODULE_4__usuarios_routing_module__["a" /* UsuariosRoutingModule */],
            __WEBPACK_IMPORTED_MODULE_5__paginacion_paginacion_module__["a" /* PaginacionModule */]
        ],
        declarations: [__WEBPACK_IMPORTED_MODULE_6__lista_lista_component__["a" /* ListaComponent */], __WEBPACK_IMPORTED_MODULE_7__nuevo_nuevo_component__["a" /* NuevoComponent */], __WEBPACK_IMPORTED_MODULE_8__editar_editar_component__["a" /* EditarComponent */], __WEBPACK_IMPORTED_MODULE_12__form_form_component__["a" /* FormComponent */]],
        providers: [__WEBPACK_IMPORTED_MODULE_9__auth_service__["a" /* AuthService */], __WEBPACK_IMPORTED_MODULE_10__usuarios_service__["a" /* UsuariosService */], __WEBPACK_IMPORTED_MODULE_11__roles_roles_service__["a" /* RolesService */]],
    })
], UsuariosModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/usuarios.module.js.map

/***/ }),

/***/ "../../../../../src/app/panel-control/usuarios/usuarios.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_http__ = __webpack_require__("../../../http/@angular/http.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__ = __webpack_require__("../../../../../src/app/jwt-request.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return UsuariosService; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};



var UsuariosService = UsuariosService_1 = (function () {
    function UsuariosService(http, jwtRequest) {
        this.http = http;
        this.jwtRequest = jwtRequest;
    }
    UsuariosService.prototype.buscar = function (term, pagina, resultados_por_pagina) {
        if (pagina === void 0) { pagina = 1; }
        if (resultados_por_pagina === void 0) { resultados_por_pagina = 20; }
        return this.jwtRequest.get(UsuariosService_1.URL, null, { q: term, page: pagina, per_page: resultados_por_pagina }).map(function (response) { return response.json().data; });
    };
    UsuariosService.prototype.lista = function (pagina, resultados_por_pagina) {
        if (pagina === void 0) { pagina = 1; }
        if (resultados_por_pagina === void 0) { resultados_por_pagina = 20; }
        return this.jwtRequest.get(UsuariosService_1.URL, null, { page: pagina, per_page: resultados_por_pagina }).map(function (response) { return response.json().data; });
    };
    UsuariosService.prototype.ver = function (id) {
        return this.jwtRequest.get(UsuariosService_1.URL, id, {}).map(function (response) {
            var jsonData = response.json().data;
            var roles = [];
            jsonData.roles.map(function (item) {
                roles.push("" + item.id);
            });
            var unidades_medicas = [];
            jsonData.unidades_medicas.map(function (item) {
                unidades_medicas.push(item.clues);
            });
            var almacenes = [];
            jsonData.almacenes.map(function (item) {
                almacenes.push(item.id);
            });
            var usuario = jsonData;
            usuario.roles = roles;
            usuario.unidades_medicas_objs = usuario.unidades_medicas;
            usuario.unidades_medicas = unidades_medicas;
            usuario.almacenes = almacenes;
            return usuario;
        });
    };
    UsuariosService.prototype.crear = function (usuario) {
        return this.jwtRequest.post(UsuariosService_1.URL, usuario).map(function (response) { return response.json().data; });
    };
    UsuariosService.prototype.editar = function (id, usuario) {
        return this.jwtRequest.put(UsuariosService_1.URL, id, usuario).map(function (response) { return response.json().data; });
    };
    UsuariosService.prototype.eliminar = function (id) {
        return this.jwtRequest.delete(UsuariosService_1.URL, id).map(function (response) { return response.json().data; });
    };
    UsuariosService.prototype.listaUnidadesMedicas = function () {
        return this.jwtRequest.get("unidades-medicas", null, null).map(function (response) { return response.json().data; });
    };
    return UsuariosService;
}());
UsuariosService.URL = "usuarios";
UsuariosService = UsuariosService_1 = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_http__["Http"]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__["a" /* JwtRequestService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2__jwt_request_service__["a" /* JwtRequestService */]) === "function" && _b || Object])
], UsuariosService);

var UsuariosService_1, _a, _b;
//# sourceMappingURL=C:/wamp/www/x3-C/src/usuarios.service.js.map

/***/ }),

/***/ "../../../../../src/app/perfil/cambiar-entorno.service.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_Subject__ = __webpack_require__("../../../../rxjs/Subject.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_rxjs_Subject___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_rxjs_Subject__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return CambiarEntornoService; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};


var CambiarEntornoService = (function () {
    function CambiarEntornoService() {
        this.cambiarEntornoSource = new __WEBPACK_IMPORTED_MODULE_1_rxjs_Subject__["Subject"]();
        this.entornoCambiado$ = this.cambiarEntornoSource.asObservable();
    }
    CambiarEntornoService.prototype.cambiarEntorno = function () {
        console.log("Cambiaste de entorno");
        this.cambiarEntornoSource.next(true);
    };
    return CambiarEntornoService;
}());
CambiarEntornoService = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])()
], CambiarEntornoService);

//# sourceMappingURL=C:/wamp/www/x3-C/src/cambiar-entorno.service.js.map

/***/ }),

/***/ "../../../../../src/app/perfil/perfil.component.css":
/***/ (function(module, exports, __webpack_require__) {

exports = module.exports = __webpack_require__("../../../../css-loader/lib/css-base.js")(false);
// imports


// module
exports.push([module.i, "", ""]);

// exports


/*** EXPORTS FROM exports-loader ***/
module.exports = module.exports.toString();

/***/ }),

/***/ "../../../../../src/app/perfil/perfil.component.html":
/***/ (function(module, exports) {

module.exports = "<div class=\"modal\" [ngClass]=\"{'is-active': mostrar}\">\r\n    <div class=\"modal-background\" (click)=\"toggle()\"></div>\r\n    <div class=\"modal-content\">\r\n\r\n        <header class=\"modal-card-head\" style=\"background: white !important;\">\r\n            <p class=\"modal-card-title\"><span class=\"icon\"><i class=\"fa fa-user-circle\"></i></span> Mi cuenta</p>\r\n            <button class=\"delete\" (click)=\"toggle()\"></button>\r\n        </header>\r\n        <section class=\"modal-card-body has-text-centered\">\r\n            <nav class=\"level\">\r\n                <div class=\"level-item has-text-centered\">\r\n                    <figure class=\"image is-128x128\" style=\"position:relative;\">\r\n                        <img src=\"assets/{{ usuario.avatar || 'avatar-unknow' }}.svg\" alt=\"avatar\">\r\n                        <a class=\"button is-primary is-inverted\" style=\"position: absolute; top: 0px; right:-2em;\"><span class=\"icon\"><i class=\"fa fa-edit\"></i></span></a>\r\n                    </figure>\r\n\r\n                </div>\r\n\r\n            </nav>\r\n            <h1 class=\"title\">{{ usuario.nombre }} {{ usuario.apellidos }}</h1>\r\n            <h2 class=\"subtitle\"><span class=\"icon\"><i class=\"fa fa-user-circle\"></i></span> {{usuario.id}}</h2>\r\n\r\n            <div class=\"field \" *ngIf=\"usuario.unidades_medicas.length > 0\">\r\n\r\n                <p class=\"control is-expanded\">\r\n                    <span class=\"select is-fullwidth\">\r\n            <select (change)=\"seleccionarClues($event.target.value)\">\r\n              <option *ngFor=\"let um of usuario.unidades_medicas\" value=\"{{ um.clues }}\" [selected]=\"usuario.clues_activa && usuario.clues_activa.clues== um.clues\">{{ um.clues }} {{ um.nombre}}</option>\r\n            </select>\r\n          </span>\r\n                </p>\r\n            </div>\r\n\r\n            <div class=\"field\" *ngIf=\"usuario.clues_activa && usuario.clues_activa.almacenes && usuario.clues_activa.almacenes.length > 0\">\r\n                <p class=\"control is-expanded\">\r\n                    <span class=\"select is-fullwidth\">\r\n\r\n            <select (change)=\"seleccionarAlmacen($event.target.value)\">\r\n              <option *ngFor=\"let almacen of usuario.clues_activa.almacenes\" value=\"{{ almacen.id }}\" [selected]=\"usuario.almacen_activo.id== almacen.id\">{{ almacen.nombre }}</option>\r\n            </select>\r\n          </span>\r\n                </p>\r\n            </div>\r\n            <a *ngIf=\"mostrarCambiarEntorno\" class=\"button  is-medium is-fullwidth is-primary\" (click)=\"cambiarEntorno()\"><span class=\"icon\"><i class=\"fa fa-exchange\"></i></span><span>Cambiar entorno</span></a>\r\n\r\n\r\n        </section>\r\n        <footer class=\"modal-card-foot\">\r\n            <a class=\"button  is-medium is-fullwidth \" (click)=\"bloquear()\"><span class=\"icon\"><i class=\"fa fa-lock\"></i></span><span>Bloquear aplicación</span></a>\r\n            <a class=\"button is-danger is-medium is-fullwidth is-outlined\" (click)=\"logout()\"><span class=\"icon\"><i class=\"fa fa-sign-out\"></i></span><span>Cerrar sesión</span></a><br>\r\n\r\n        </footer>\r\n    </div>\r\n</div>"

/***/ }),

/***/ "../../../../../src/app/perfil/perfil.component.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_app_auth_service__ = __webpack_require__("../../../../../src/app/auth.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__bloquear_pantalla_bloquear_pantalla_service__ = __webpack_require__("../../../../../src/app/bloquear-pantalla/bloquear-pantalla.service.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__perfil_cambiar_entorno_service__ = __webpack_require__("../../../../../src/app/perfil/cambiar-entorno.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PerfilComponent; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};





var PerfilComponent = (function () {
    function PerfilComponent(router, authService, bloquearPantallaService, cambiarEntornoService) {
        this.router = router;
        this.authService = authService;
        this.bloquearPantallaService = bloquearPantallaService;
        this.cambiarEntornoService = cambiarEntornoService;
        this.mostrar = false;
        this.usuario = {};
        this.mostrarCambiarEntorno = false;
    }
    PerfilComponent.prototype.ngOnInit = function () {
        this.usuario = JSON.parse(localStorage.getItem("usuario"));
    };
    PerfilComponent.prototype.toggle = function () {
        this.mostrar = !this.mostrar;
        if (this.mostrar) {
            this.usuario = JSON.parse(localStorage.getItem("usuario"));
        }
    };
    PerfilComponent.prototype.logout = function () {
        this.authService.logout();
        this.router.navigate(['/login']);
    };
    PerfilComponent.prototype.bloquear = function () {
        this.bloquearPantallaService.bloquearPantalla();
        this.mostrar = false;
    };
    PerfilComponent.prototype.seleccionarClues = function (value) {
        this.mostrarCambiarEntorno = true;
        for (var i in this.usuario.unidades_medicas) {
            if (value == this.usuario.unidades_medicas[i].clues) {
                this.usuario.clues_activa = this.usuario.unidades_medicas[i];
                if (this.usuario.clues_activa.almacenes.length > 0) {
                    this.usuario.almacen_activo = this.usuario.clues_activa.almacenes[0];
                }
                else {
                    this.usuario.almacen_activo = null;
                }
            }
        }
    };
    PerfilComponent.prototype.seleccionarAlmacen = function (value) {
        this.mostrarCambiarEntorno = true;
        for (var i in this.usuario.clues_activa.almacenes) {
            if (value == this.usuario.clues_activa.almacenes[i].id) {
                this.usuario.almacen_activo = this.usuario.clues_activa.almacenes[i];
            }
        }
    };
    PerfilComponent.prototype.cambiarEntorno = function () {
        localStorage.setItem('usuario', JSON.stringify(this.usuario));
        this.mostrarCambiarEntorno = false;
        this.cambiarEntornoService.cambiarEntorno();
    };
    return PerfilComponent;
}());
PerfilComponent = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Component"])({
        selector: 'app-perfil',
        template: __webpack_require__("../../../../../src/app/perfil/perfil.component.html"),
        styles: [__webpack_require__("../../../../../src/app/perfil/perfil.component.css")]
    }),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* Router */]) === "function" && _a || Object, typeof (_b = typeof __WEBPACK_IMPORTED_MODULE_2_app_auth_service__["a" /* AuthService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_2_app_auth_service__["a" /* AuthService */]) === "function" && _b || Object, typeof (_c = typeof __WEBPACK_IMPORTED_MODULE_3__bloquear_pantalla_bloquear_pantalla_service__["a" /* BloquearPantallaService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_3__bloquear_pantalla_bloquear_pantalla_service__["a" /* BloquearPantallaService */]) === "function" && _c || Object, typeof (_d = typeof __WEBPACK_IMPORTED_MODULE_4__perfil_cambiar_entorno_service__["a" /* CambiarEntornoService */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_4__perfil_cambiar_entorno_service__["a" /* CambiarEntornoService */]) === "function" && _d || Object])
], PerfilComponent);

var _a, _b, _c, _d;
//# sourceMappingURL=C:/wamp/www/x3-C/src/perfil.component.js.map

/***/ }),

/***/ "../../../../../src/app/perfil/perfil.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__perfil_component__ = __webpack_require__("../../../../../src/app/perfil/perfil.component.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__cambiar_entorno_service__ = __webpack_require__("../../../../../src/app/perfil/cambiar-entorno.service.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PerfilModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};





var PerfilModule = (function () {
    function PerfilModule() {
    }
    return PerfilModule;
}());
PerfilModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [
            __WEBPACK_IMPORTED_MODULE_1__angular_common__["CommonModule"],
            __WEBPACK_IMPORTED_MODULE_2__angular_router__["b" /* RouterModule */]
        ],
        exports: [
            __WEBPACK_IMPORTED_MODULE_3__perfil_component__["a" /* PerfilComponent */]
        ],
        providers: [__WEBPACK_IMPORTED_MODULE_4__cambiar_entorno_service__["a" /* CambiarEntornoService */]],
        declarations: [__WEBPACK_IMPORTED_MODULE_3__perfil_component__["a" /* PerfilComponent */]]
    })
], PerfilModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/perfil.module.js.map

/***/ }),

/***/ "../../../../../src/app/permisos.guard.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PermisosGuard; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};
var __metadata = (this && this.__metadata) || function (k, v) {
    if (typeof Reflect === "object" && typeof Reflect.metadata === "function") return Reflect.metadata(k, v);
};


var PermisosGuard = (function () {
    function PermisosGuard(router) {
        this.router = router;
    }
    PermisosGuard.prototype.canActivate = function (next, state) {
        var usuario = JSON.parse(localStorage.getItem("usuario"));
        if (!usuario.permisos) {
            this.router.navigate(['/']);
            return false;
        }
        var permisos = usuario.permisos.split("|");
        for (var i in permisos) {
            if (next.data.key && next.data.key == permisos[i]) {
                return true;
            }
        }
        this.router.navigate(['/']);
        return false;
    };
    return PermisosGuard;
}());
PermisosGuard = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Injectable"])(),
    __metadata("design:paramtypes", [typeof (_a = typeof __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* Router */] !== "undefined" && __WEBPACK_IMPORTED_MODULE_1__angular_router__["a" /* Router */]) === "function" && _a || Object])
], PermisosGuard);

var _a;
//# sourceMappingURL=C:/wamp/www/x3-C/src/permisos.guard.js.map

/***/ }),

/***/ "../../../../../src/app/pipes/buscar-modulo.pipe.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return BuscarModuloPipe; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var BuscarModuloPipe = (function () {
    function BuscarModuloPipe() {
    }
    BuscarModuloPipe.prototype.transform = function (value, term) {
        return value.filter(function (item) {
            return item.titulo.toLowerCase().includes(term.toLowerCase());
        });
    };
    return BuscarModuloPipe;
}());
BuscarModuloPipe = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Pipe"])({
        name: 'buscarModulo'
    })
], BuscarModuloPipe);

//# sourceMappingURL=C:/wamp/www/x3-C/src/buscar-modulo.pipe.js.map

/***/ }),

/***/ "../../../../../src/app/pipes/groupBy.pipe.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return GroupByPipe; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var GroupByPipe = (function () {
    function GroupByPipe() {
    }
    GroupByPipe.prototype.transform = function (value, field) {
        if (value) {
            var groupedObj_1 = value.reduce(function (prev, cur) {
                if (!prev[cur[field]]) {
                    prev[cur[field]] = [cur];
                }
                else {
                    prev[cur[field]].push(cur);
                }
                return prev;
            }, {});
            return Object.keys(groupedObj_1).map(function (key) { return ({ key: key, value: groupedObj_1[key] }); });
        }
        else
            return [];
    };
    return GroupByPipe;
}());
GroupByPipe = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["Pipe"])({ name: 'groupBy' })
], GroupByPipe);

//# sourceMappingURL=C:/wamp/www/x3-C/src/groupBy.pipe.js.map

/***/ }),

/***/ "../../../../../src/app/pipes/pipes.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_common__ = __webpack_require__("../../../common/@angular/common.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__buscar_modulo_pipe__ = __webpack_require__("../../../../../src/app/pipes/buscar-modulo.pipe.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__groupBy_pipe__ = __webpack_require__("../../../../../src/app/pipes/groupBy.pipe.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return PipesModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};




var PipesModule = (function () {
    function PipesModule() {
    }
    return PipesModule;
}());
PipesModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [
            __WEBPACK_IMPORTED_MODULE_1__angular_common__["CommonModule"]
        ],
        exports: [
            __WEBPACK_IMPORTED_MODULE_2__buscar_modulo_pipe__["a" /* BuscarModuloPipe */],
            __WEBPACK_IMPORTED_MODULE_3__groupBy_pipe__["a" /* GroupByPipe */]
        ],
        declarations: [__WEBPACK_IMPORTED_MODULE_2__buscar_modulo_pipe__["a" /* BuscarModuloPipe */], __WEBPACK_IMPORTED_MODULE_3__groupBy_pipe__["a" /* GroupByPipe */]]
    })
], PipesModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/pipes.module.js.map

/***/ }),

/***/ "../../../../../src/app/wildcard-routing.module.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_router__ = __webpack_require__("../../../router/@angular/router.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__not_found_not_found_component__ = __webpack_require__("../../../../../src/app/not-found/not-found.component.ts");
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return WildcardRoutingModule; });
var __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {
    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
    if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);
    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
    return c > 3 && r && Object.defineProperty(target, key, r), r;
};



var routes = [
    { path: '**', component: __WEBPACK_IMPORTED_MODULE_2__not_found_not_found_component__["a" /* NotFoundComponent */] }
];
var WildcardRoutingModule = (function () {
    function WildcardRoutingModule() {
    }
    return WildcardRoutingModule;
}());
WildcardRoutingModule = __decorate([
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_0__angular_core__["NgModule"])({
        imports: [
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */].forChild(routes)
        ],
        exports: [
            __WEBPACK_IMPORTED_MODULE_1__angular_router__["b" /* RouterModule */]
        ]
    })
], WildcardRoutingModule);

//# sourceMappingURL=C:/wamp/www/x3-C/src/wildcard-routing.module.js.map

/***/ }),

/***/ "../../../../../src/environments/environment.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "a", function() { return environment; });
var environment = {
    production: true,
    API_URL: "http://api.sial.demo.saludchiapas.gob.mx"
};
//# sourceMappingURL=C:/wamp/www/x3-C/src/environment.js.map

/***/ }),

/***/ "../../../../../src/main.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__polyfills_ts__ = __webpack_require__("../../../../../src/polyfills.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__angular_core__ = __webpack_require__("../../../core/@angular/core.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__angular_platform_browser_dynamic__ = __webpack_require__("../../../platform-browser-dynamic/@angular/platform-browser-dynamic.es5.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__app_app_module__ = __webpack_require__("../../../../../src/app/app.module.ts");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__environments_environment__ = __webpack_require__("../../../../../src/environments/environment.ts");





if (__WEBPACK_IMPORTED_MODULE_4__environments_environment__["a" /* environment */].production) {
    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1__angular_core__["enableProdMode"])();
}
__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__angular_platform_browser_dynamic__["a" /* platformBrowserDynamic */])().bootstrapModule(__WEBPACK_IMPORTED_MODULE_3__app_app_module__["a" /* AppModule */]);
//# sourceMappingURL=C:/wamp/www/x3-C/src/main.js.map

/***/ }),

/***/ "../../../../../src/polyfills.ts":
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_core_js_es6_reflect__ = __webpack_require__("../../../../core-js/es6/reflect.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_core_js_es6_reflect___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_core_js_es6_reflect__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_core_js_es7_reflect__ = __webpack_require__("../../../../core-js/es7/reflect.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_core_js_es7_reflect___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_core_js_es7_reflect__);
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_zone_js_dist_zone__ = __webpack_require__("../../../../zone.js/dist/zone.js");
/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_zone_js_dist_zone___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_zone_js_dist_zone__);
/**
 * This file includes polyfills needed by Angular and is loaded before the app.
 * You can add your own extra polyfills to this file.
 *
 * This file is divided into 2 sections:
 *   1. Browser polyfills. These are applied before loading ZoneJS and are sorted by browsers.
 *   2. Application imports. Files imported after ZoneJS that should be loaded before your main
 *      file.
 *
 * The current setup is for so-called "evergreen" browsers; the last versions of browsers that
 * automatically update themselves. This includes Safari >= 10, Chrome >= 55 (including Opera),
 * Edge >= 13 on the desktop, and iOS 10 and Chrome on mobile.
 *
 * Learn more in https://angular.io/docs/ts/latest/guide/browser-support.html
 */
/***************************************************************************************************
 * BROWSER POLYFILLS
 */
/** IE9, IE10 and IE11 requires all of the following polyfills. **/
// import 'core-js/es6/symbol';
// import 'core-js/es6/object';
// import 'core-js/es6/function';
// import 'core-js/es6/parse-int';
// import 'core-js/es6/parse-float';
// import 'core-js/es6/number';
// import 'core-js/es6/math';
// import 'core-js/es6/string';
// import 'core-js/es6/date';
// import 'core-js/es6/array';
// import 'core-js/es6/regexp';
// import 'core-js/es6/map';
// import 'core-js/es6/set';
/** IE10 and IE11 requires the following for NgClass support on SVG elements */
// import 'classlist.js';  // Run `npm install --save classlist.js`.
/** IE10 and IE11 requires the following to support `@angular/animation`. */
// import 'web-animations-js';  // Run `npm install --save web-animations-js`.
/** Evergreen browsers require these. **/


/** ALL Firefox browsers require the following to support `@angular/animation`. **/
// import 'web-animations-js';  // Run `npm install --save web-animations-js`.
/***************************************************************************************************
 * Zone JS is required by Angular itself.
 */
 // Included with Angular CLI.
/***************************************************************************************************
 * APPLICATION IMPORTS
 */
/**
 * Date, currency, decimal and percent pipes.
 * Needed for: All but Chrome, Firefox, Edge, IE11 and Safari 10
 */
// import 'intl';  // Run `npm install --save intl`.
//# sourceMappingURL=C:/wamp/www/x3-C/src/polyfills.js.map

/***/ }),

/***/ 0:
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__("../../../../../src/main.ts");


/***/ })

},[0]);
//# sourceMappingURL=main.bundle.js.map